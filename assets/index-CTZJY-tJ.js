var uQ=Object.defineProperty;var xz=e=>{throw TypeError(e)};var dQ=(e,t,n)=>t in e?uQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mz=(e,t,n)=>dQ(e,typeof t!="symbol"?t+"":t,n),vP=(e,t,n)=>t.has(e)||xz("Cannot "+n);var ce=(e,t,n)=>(vP(e,t,"read from private field"),n?n.call(e):t.get(e)),Bt=(e,t,n)=>t.has(e)?xz("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),dt=(e,t,n,i)=>(vP(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Mn=(e,t,n)=>(vP(e,t,"access private method"),n);var ST=(e,t,n,i)=>({set _(s){dt(e,t,s,n)},get _(){return ce(e,t,i)}});function hQ(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bP={exports:{}},Hx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz;function fQ(){if(Dz)return Hx;Dz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:e,type:i,key:o,ref:s!==void 0?s:null,props:r}}return Hx.Fragment=t,Hx.jsx=n,Hx.jsxs=n,Hx}var Az;function gQ(){return Az||(Az=1,bP.exports=fQ()),bP.exports}var _=gQ(),CP={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rz;function pQ(){if(Rz)return Xt;Rz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=f&&U[f]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(U,ie,ve){this.props=U,this.context=ie,this.refs=w,this.updater=ve||y}S.prototype.isReactComponent={},S.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function x(){}x.prototype=S.prototype;function M(U,ie,ve){this.props=U,this.context=ie,this.refs=w,this.updater=ve||y}var A=M.prototype=new x;A.constructor=M,v(A,S.prototype),A.isPureReactComponent=!0;var k=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(U,ie,ve,J,he,Ee){return ve=Ee.ref,{$$typeof:e,type:U,key:ie,ref:ve!==void 0?ve:null,props:Ee}}function B(U,ie){return N(U.type,ie,void 0,void 0,void 0,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function W(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return ie[ve]})}var Y=/\/+/g;function K(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?W(""+U.key):ie.toString(36)}function q(){}function te(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(q,q):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function re(U,ie,ve,J,he){var Ee=typeof U;(Ee==="undefined"||Ee==="boolean")&&(U=null);var we=!1;if(U===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(U.$$typeof){case e:case t:we=!0;break;case d:return we=U._init,re(we(U._payload),ie,ve,J,he)}}if(we)return he=he(U),we=J===""?"."+K(U,0):J,k(he)?(ve="",we!=null&&(ve=we.replace(Y,"$&/")+"/"),re(he,ie,ve,"",function(je){return je})):he!=null&&(z(he)&&(he=B(he,ve+(he.key==null||U&&U.key===he.key?"":(""+he.key).replace(Y,"$&/")+"/")+we)),ie.push(he)),1;we=0;var Me=J===""?".":J+":";if(k(U))for(var Ce=0;Ce<U.length;Ce++)J=U[Ce],Ee=Me+K(J,Ce),we+=re(J,ie,ve,Ee,he);else if(Ce=g(U),typeof Ce=="function")for(U=Ce.call(U),Ce=0;!(J=U.next()).done;)J=J.value,Ee=Me+K(J,Ce++),we+=re(J,ie,ve,Ee,he);else if(Ee==="object"){if(typeof U.then=="function")return re(te(U),ie,ve,J,he);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(U,ie,ve){if(U==null)return U;var J=[],he=0;return re(U,J,"","",function(Ee){return ie.call(ve,Ee,he++)}),J}function ne(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var Z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Se(){}return Xt.Children={map:X,forEach:function(U,ie,ve){X(U,function(){ie.apply(this,arguments)},ve)},count:function(U){var ie=0;return X(U,function(){ie++}),ie},toArray:function(U){return X(U,function(ie){return ie})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Xt.Component=S,Xt.Fragment=n,Xt.Profiler=s,Xt.PureComponent=M,Xt.StrictMode=i,Xt.Suspense=l,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Xt.cache=function(U){return function(){return U.apply(null,arguments)}},Xt.cloneElement=function(U,ie,ve){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var J=v({},U.props),he=U.key,Ee=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Ee=void 0),ie.key!==void 0&&(he=""+ie.key),ie)!P.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(J[we]=ie[we]);var we=arguments.length-2;if(we===1)J.children=ve;else if(1<we){for(var Me=Array(we),Ce=0;Ce<we;Ce++)Me[Ce]=arguments[Ce+2];J.children=Me}return N(U.type,he,void 0,void 0,Ee,J)},Xt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:r,_context:U},U},Xt.createElement=function(U,ie,ve){var J,he={},Ee=null;if(ie!=null)for(J in ie.key!==void 0&&(Ee=""+ie.key),ie)P.call(ie,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(he[J]=ie[J]);var we=arguments.length-2;if(we===1)he.children=ve;else if(1<we){for(var Me=Array(we),Ce=0;Ce<we;Ce++)Me[Ce]=arguments[Ce+2];he.children=Me}if(U&&U.defaultProps)for(J in we=U.defaultProps,we)he[J]===void 0&&(he[J]=we[J]);return N(U,Ee,void 0,void 0,null,he)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(U){return{$$typeof:a,render:U}},Xt.isValidElement=z,Xt.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:ne}},Xt.memo=function(U,ie){return{$$typeof:c,type:U,compare:ie===void 0?null:ie}},Xt.startTransition=function(U){var ie=I.T,ve={};I.T=ve;try{var J=U(),he=I.S;he!==null&&he(ve,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Se,Z)}catch(Ee){Z(Ee)}finally{I.T=ie}},Xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Xt.use=function(U){return I.H.use(U)},Xt.useActionState=function(U,ie,ve){return I.H.useActionState(U,ie,ve)},Xt.useCallback=function(U,ie){return I.H.useCallback(U,ie)},Xt.useContext=function(U){return I.H.useContext(U)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(U,ie){return I.H.useDeferredValue(U,ie)},Xt.useEffect=function(U,ie,ve){var J=I.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(U,ie)},Xt.useId=function(){return I.H.useId()},Xt.useImperativeHandle=function(U,ie,ve){return I.H.useImperativeHandle(U,ie,ve)},Xt.useInsertionEffect=function(U,ie){return I.H.useInsertionEffect(U,ie)},Xt.useLayoutEffect=function(U,ie){return I.H.useLayoutEffect(U,ie)},Xt.useMemo=function(U,ie){return I.H.useMemo(U,ie)},Xt.useOptimistic=function(U,ie){return I.H.useOptimistic(U,ie)},Xt.useReducer=function(U,ie,ve){return I.H.useReducer(U,ie,ve)},Xt.useRef=function(U){return I.H.useRef(U)},Xt.useState=function(U){return I.H.useState(U)},Xt.useSyncExternalStore=function(U,ie,ve){return I.H.useSyncExternalStore(U,ie,ve)},Xt.useTransition=function(){return I.H.useTransition()},Xt.version="19.1.0",Xt}var Tz;function M2(){return Tz||(Tz=1,CP.exports=pQ()),CP.exports}var T=M2();const ue=z4(T),H4=hQ({__proto__:null,default:ue},[T]);var wP={exports:{}},Vx={},SP={exports:{}},xP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function mQ(){return Ez||(Ez=1,function(e){function t(X,ne){var Z=X.length;X.push(ne);e:for(;0<Z;){var Se=Z-1>>>1,U=X[Se];if(0<s(U,ne))X[Se]=ne,X[Z]=U,Z=Se;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ne=X[0],Z=X.pop();if(Z!==ne){X[0]=Z;e:for(var Se=0,U=X.length,ie=U>>>1;Se<ie;){var ve=2*(Se+1)-1,J=X[ve],he=ve+1,Ee=X[he];if(0>s(J,Z))he<U&&0>s(Ee,J)?(X[Se]=Ee,X[he]=Z,Se=he):(X[Se]=J,X[ve]=Z,Se=ve);else if(he<U&&0>s(Ee,Z))X[Se]=Ee,X[he]=Z,Se=he;else break e}}return ne}function s(X,ne){var Z=X.sortIndex-ne.sortIndex;return Z!==0?Z:X.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,g=3,y=!1,v=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(X){for(var ne=n(c);ne!==null;){if(ne.callback===null)i(c);else if(ne.startTime<=X)i(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(c)}}function I(X){if(w=!1,k(X),!v)if(n(l)!==null)v=!0,P||(P=!0,K());else{var ne=n(c);ne!==null&&re(I,ne.startTime-X)}}var P=!1,N=-1,B=5,z=-1;function W(){return S?!0:!(e.unstable_now()-z<B)}function Y(){if(S=!1,P){var X=e.unstable_now();z=X;var ne=!0;try{e:{v=!1,w&&(w=!1,M(N),N=-1),y=!0;var Z=g;try{t:{for(k(X),f=n(l);f!==null&&!(f.expirationTime>X&&W());){var Se=f.callback;if(typeof Se=="function"){f.callback=null,g=f.priorityLevel;var U=Se(f.expirationTime<=X);if(X=e.unstable_now(),typeof U=="function"){f.callback=U,k(X),ne=!0;break t}f===n(l)&&i(l),k(X)}else i(l);f=n(l)}if(f!==null)ne=!0;else{var ie=n(c);ie!==null&&re(I,ie.startTime-X),ne=!1}}break e}finally{f=null,g=Z,y=!1}ne=void 0}}finally{ne?K():P=!1}}}var K;if(typeof A=="function")K=function(){A(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=Y,K=function(){te.postMessage(null)}}else K=function(){x(Y,0)};function re(X,ne){N=x(function(){X(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var Z=g;g=ne;try{return X()}finally{g=Z}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Z=g;g=X;try{return ne()}finally{g=Z}},e.unstable_scheduleCallback=function(X,ne,Z){var Se=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Se+Z:Se):Z=Se,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,X={id:d++,callback:ne,priorityLevel:X,startTime:Z,expirationTime:U,sortIndex:-1},Z>Se?(X.sortIndex=Z,t(c,X),n(l)===null&&X===n(c)&&(w?(M(N),N=-1):w=!0,re(I,Z-Se))):(X.sortIndex=U,t(l,X),v||y||(v=!0,P||(P=!0,K()))),X},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(X){var ne=g;return function(){var Z=g;g=ne;try{return X.apply(this,arguments)}finally{g=Z}}}}(xP)),xP}var Iz;function yQ(){return Iz||(Iz=1,SP.exports=mQ()),SP.exports}var MP={exports:{}},$r={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kz;function vQ(){if(kz)return $r;kz=1;var e=M2();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return $r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$r.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return r(l,c,null,d)},$r.flushSync=function(l){var c=o.T,d=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=c,i.p=d,i.d.f()}},$r.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},$r.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},$r.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:y}):d==="script"&&i.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},$r.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},$r.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);i.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},$r.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},$r.requestFormReset=function(l){i.d.r(l)},$r.unstable_batchedUpdates=function(l,c){return l(c)},$r.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},$r.useFormStatus=function(){return o.H.useHostTransitionStatus()},$r.version="19.1.0",$r}var Lz;function V4(){if(Lz)return MP.exports;Lz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),MP.exports=vQ(),MP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pz;function bQ(){if(Pz)return Vx;Pz=1;var e=yQ(),t=M2(),n=V4();function i(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function r(u){var h=u,p=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(p=h.return),u=h.return;while(u)}return h.tag===3?p:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(r(u)!==u)throw Error(i(188))}function l(u){var h=u.alternate;if(!h){if(h=r(u),h===null)throw Error(i(188));return h!==u?null:u}for(var p=u,C=h;;){var D=p.return;if(D===null)break;var E=D.alternate;if(E===null){if(C=D.return,C!==null){p=C;continue}break}if(D.child===E.child){for(E=D.child;E;){if(E===p)return a(D),u;if(E===C)return a(D),h;E=E.sibling}throw Error(i(188))}if(p.return!==C.return)p=D,C=E;else{for(var G=!1,j=D.child;j;){if(j===p){G=!0,p=D,C=E;break}if(j===C){G=!0,C=D,p=E;break}j=j.sibling}if(!G){for(j=E.child;j;){if(j===p){G=!0,p=E,C=D;break}if(j===C){G=!0,C=E,p=D;break}j=j.sibling}if(!G)throw Error(i(189))}}if(p.alternate!==C)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?u:h}function c(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=c(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function K(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var q=Symbol.for("react.client.reference");function te(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===q?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case v:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case y:return"Portal";case A:return(u.displayName||"Context")+".Provider";case M:return(u._context.displayName||"Context")+".Consumer";case k:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case N:return h=u.displayName||null,h!==null?h:te(u.type)||"Memo";case B:h=u._payload,u=u._init;try{return te(u(h))}catch{}}return null}var re=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Se=[],U=-1;function ie(u){return{current:u}}function ve(u){0>U||(u.current=Se[U],Se[U]=null,U--)}function J(u,h){U++,Se[U]=u.current,u.current=h}var he=ie(null),Ee=ie(null),we=ie(null),Me=ie(null);function Ce(u,h){switch(J(we,h),J(Ee,u),J(he,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?Mi(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=Mi(h),u=Ai(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ve(he),J(he,u)}function je(){ve(he),ve(Ee),ve(we)}function Ye(u){u.memoizedState!==null&&J(Me,u);var h=he.current,p=Ai(h,u.type);h!==p&&(J(Ee,u),J(he,p))}function Ge(u){Ee.current===u&&(ve(he),ve(Ee)),Me.current===u&&(ve(Me),Ef._currentValue=Z)}var We=Object.prototype.hasOwnProperty,it=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,mt=e.unstable_shouldYield,Ht=e.unstable_requestPaint,st=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,et=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,vt=e.unstable_LowPriority,Vt=e.unstable_IdlePriority,vn=e.log,ln=e.unstable_setDisableYieldValue,us=null,bn=null;function Pt(u){if(typeof vn=="function"&&ln(u),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(us,u)}catch{}}var tn=Math.clz32?Math.clz32:Xs,co=Math.log,El=Math.LN2;function Xs(u){return u>>>=0,u===0?32:31-(co(u)/El|0)|0}var Ir=256,Gs=4194304;function kr(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ar(u,h,p){var C=u.pendingLanes;if(C===0)return 0;var D=0,E=u.suspendedLanes,G=u.pingedLanes;u=u.warmLanes;var j=C&134217727;return j!==0?(C=j&~E,C!==0?D=kr(C):(G&=j,G!==0?D=kr(G):p||(p=j&~u,p!==0&&(D=kr(p))))):(j=C&~E,j!==0?D=kr(j):G!==0?D=kr(G):p||(p=C&~u,p!==0&&(D=kr(p)))),D===0?0:h!==0&&h!==D&&(h&E)===0&&(E=D&-D,p=h&-h,E>=p||E===32&&(p&4194048)!==0)?h:D}function uo(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function Lh(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var u=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),u}function ni(){var u=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),u}function In(u){for(var h=[],p=0;31>p;p++)h.push(u);return h}function lr(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function ho(u,h,p,C,D,E){var G=u.pendingLanes;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=p,u.entangledLanes&=p,u.errorRecoveryDisabledLanes&=p,u.shellSuspendCounter=0;var j=u.entanglements,ee=u.expirationTimes,me=u.hiddenUpdates;for(p=G&~p;0<p;){var Le=31-tn(p),Ne=1<<Le;j[Le]=0,ee[Le]=-1;var be=me[Le];if(be!==null)for(me[Le]=null,Le=0;Le<be.length;Le++){var ye=be[Le];ye!==null&&(ye.lane&=-536870913)}p&=~Ne}C!==0&&od(u,C,0),E!==0&&D===0&&u.tag!==0&&(u.suspendedLanes|=E&~(G&~h))}function od(u,h,p){u.pendingLanes|=h,u.suspendedLanes&=~h;var C=31-tn(h);u.entangledLanes|=h,u.entanglements[C]=u.entanglements[C]|1073741824|p&4194090}function ds(u,h){var p=u.entangledLanes|=h;for(u=u.entanglements;p;){var C=31-tn(p),D=1<<C;D&h|u[C]&h&&(u[C]|=h),p&=~D}}function Lr(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function mn(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Uy(){var u=ne.p;return u!==0?u:(u=window.event,u===void 0?32:mT(u.type))}function Yw(u,h){var p=ne.p;try{return ne.p=u,h()}finally{ne.p=p}}var Ha=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Ha,As="__reactProps$"+Ha,Ic="__reactContainer$"+Ha,Kw="__reactEvents$"+Ha,dL="__reactListeners$"+Ha,hL="__reactHandles$"+Ha,tA="__reactResources$"+Ha,Vg="__reactMarker$"+Ha;function qw(u){delete u[Pi],delete u[As],delete u[Kw],delete u[dL],delete u[hL]}function Ph(u){var h=u[Pi];if(h)return h;for(var p=u.parentNode;p;){if(h=p[Ic]||p[Pi]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(u=sT(u);u!==null;){if(p=u[Pi])return p;u=sT(u)}return h}u=p,p=u.parentNode}return null}function Oh(u){if(u=u[Pi]||u[Ic]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Nh(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(i(33))}function Fh(u){var h=u[tA];return h||(h=u[tA]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Rs(u){u[Vg]=!0}var nA=new Set,iA={};function ad(u,h){_h(u,h),_h(u+"Capture",h)}function _h(u,h){for(iA[u]=h,u=0;u<h.length;u++)nA.add(h[u])}var $y=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sA={},jg={};function fL(u){return We.call(jg,u)?!0:We.call(sA,u)?!1:$y.test(u)?jg[u]=!0:(sA[u]=!0,!1)}function Yy(u,h,p){if(fL(h))if(p===null)u.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var C=h.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+p)}}function Ky(u,h,p){if(p===null)u.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+p)}}function Va(u,h,p,C){if(C===null)u.removeAttribute(p);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttributeNS(h,p,""+C)}}var qy,Zw;function Bh(u){if(qy===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);qy=h&&h[1]||"",Zw=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qy+u+Zw}var Xw=!1;function Qw(u,h){if(!u||Xw)return"";Xw=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(h){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ye){var be=ye}Reflect.construct(u,[],Ne)}else{try{Ne.call()}catch(ye){be=ye}u.call(Ne.prototype)}}else{try{throw Error()}catch(ye){be=ye}(Ne=u())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ye){if(ye&&be&&typeof ye.stack=="string")return[ye.stack,be.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=C.DetermineComponentFrameRoot(),G=E[0],j=E[1];if(G&&j){var ee=G.split(`
`),me=j.split(`
`);for(D=C=0;C<ee.length&&!ee[C].includes("DetermineComponentFrameRoot");)C++;for(;D<me.length&&!me[D].includes("DetermineComponentFrameRoot");)D++;if(C===ee.length||D===me.length)for(C=ee.length-1,D=me.length-1;1<=C&&0<=D&&ee[C]!==me[D];)D--;for(;1<=C&&0<=D;C--,D--)if(ee[C]!==me[D]){if(C!==1||D!==1)do if(C--,D--,0>D||ee[C]!==me[D]){var Le=`
`+ee[C].replace(" at new "," at ");return u.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",u.displayName)),Le}while(1<=C&&0<=D);break}}}finally{Xw=!1,Error.prepareStackTrace=p}return(p=u?u.displayName||u.name:"")?Bh(p):""}function gL(u){switch(u.tag){case 26:case 27:case 5:return Bh(u.type);case 16:return Bh("Lazy");case 13:return Bh("Suspense");case 19:return Bh("SuspenseList");case 0:case 15:return Qw(u.type,!1);case 11:return Qw(u.type.render,!1);case 1:return Qw(u.type,!0);case 31:return Bh("Activity");default:return""}}function Jw(u){try{var h="";do h+=gL(u),u=u.return;while(u);return h}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function fo(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function eS(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function tS(u){var h=eS(u)?"checked":"value",p=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),C=""+u[h];if(!u.hasOwnProperty(h)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var D=p.get,E=p.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return D.call(this)},set:function(G){C=""+G,E.call(this,G)}}),Object.defineProperty(u,h,{enumerable:p.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Zy(u){u._valueTracker||(u._valueTracker=tS(u))}function nS(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var p=h.getValue(),C="";return u&&(C=eS(u)?u.checked?"true":"false":u.value),u=C,u!==p?(h.setValue(u),!0):!1}function ld(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var rA=/[\n"\\]/g;function Fo(u){return u.replace(rA,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Xy(u,h,p,C,D,E,G,j){u.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?u.type=G:u.removeAttribute("type"),h!=null?G==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+fo(h)):u.value!==""+fo(h)&&(u.value=""+fo(h)):G!=="submit"&&G!=="reset"||u.removeAttribute("value"),h!=null?Wg(u,G,fo(h)):p!=null?Wg(u,G,fo(p)):C!=null&&u.removeAttribute("value"),D==null&&E!=null&&(u.defaultChecked=!!E),D!=null&&(u.checked=D&&typeof D!="function"&&typeof D!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?u.name=""+fo(j):u.removeAttribute("name")}function iS(u,h,p,C,D,E,G,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(u.type=E),h!=null||p!=null){if(!(E!=="submit"&&E!=="reset"||h!=null))return;p=p!=null?""+fo(p):"",h=h!=null?""+fo(h):p,j||h===u.value||(u.value=h),u.defaultValue=h}C=C??D,C=typeof C!="function"&&typeof C!="symbol"&&!!C,u.checked=j?u.checked:!!C,u.defaultChecked=!!C,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(u.name=G)}function Wg(u,h,p){h==="number"&&ld(u.ownerDocument)===u||u.defaultValue===""+p||(u.defaultValue=""+p)}function Gh(u,h,p,C){if(u=u.options,h){h={};for(var D=0;D<p.length;D++)h["$"+p[D]]=!0;for(p=0;p<u.length;p++)D=h.hasOwnProperty("$"+u[p].value),u[p].selected!==D&&(u[p].selected=D),D&&C&&(u[p].defaultSelected=!0)}else{for(p=""+fo(p),h=null,D=0;D<u.length;D++){if(u[D].value===p){u[D].selected=!0,C&&(u[D].defaultSelected=!0);return}h!==null||u[D].disabled||(h=u[D])}h!==null&&(h.selected=!0)}}function sS(u,h,p){if(h!=null&&(h=""+fo(h),h!==u.value&&(u.value=h),p==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=p!=null?""+fo(p):""}function Qy(u,h,p,C){if(h==null){if(C!=null){if(p!=null)throw Error(i(92));if(re(C)){if(1<C.length)throw Error(i(93));C=C[0]}p=C}p==null&&(p=""),h=p}p=fo(h),u.defaultValue=p,C=u.textContent,C===p&&C!==""&&C!==null&&(u.value=C)}function kc(u,h){if(h){var p=u.firstChild;if(p&&p===u.lastChild&&p.nodeType===3){p.nodeValue=h;return}}u.textContent=h}var zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rS(u,h,p){var C=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?C?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":C?u.setProperty(h,p):typeof p!="number"||p===0||zh.has(h)?h==="float"?u.cssFloat=p:u[h]=(""+p).trim():u[h]=p+"px"}function oS(u,h,p){if(h!=null&&typeof h!="object")throw Error(i(62));if(u=u.style,p!=null){for(var C in p)!p.hasOwnProperty(C)||h!=null&&h.hasOwnProperty(C)||(C.indexOf("--")===0?u.setProperty(C,""):C==="float"?u.cssFloat="":u[C]="");for(var D in h)C=h[D],h.hasOwnProperty(D)&&p[D]!==C&&rS(u,D,C)}else for(var E in h)h.hasOwnProperty(E)&&rS(u,E,h[E])}function aS(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ug(u){return aA.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Jy=null;function lS(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Hh=null,Vh=null;function cS(u){var h=Oh(u);if(h&&(u=h.stateNode)){var p=u[As]||null;e:switch(u=h.stateNode,h.type){case"input":if(Xy(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=u;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Fo(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var C=p[h];if(C!==u&&C.form===u.form){var D=C[As]||null;if(!D)throw Error(i(90));Xy(C,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(h=0;h<p.length;h++)C=p[h],C.form===u.form&&nS(C)}break e;case"textarea":sS(u,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&Gh(u,!!p.multiple,h,!1)}}}var uS=!1;function lA(u,h,p){if(uS)return u(h,p);uS=!0;try{var C=u(h);return C}finally{if(uS=!1,(Hh!==null||Vh!==null)&&(Jv(),Hh&&(h=Hh,u=Vh,Vh=Hh=null,cS(h),u)))for(h=0;h<u.length;h++)cS(u[h])}}function $g(u,h){var p=u.stateNode;if(p===null)return null;var C=p[As]||null;if(C===null)return null;p=C[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(u=u.type,C=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!C;break e;default:u=!1}if(u)return null;if(p&&typeof p!="function")throw Error(i(231,h,typeof p));return p}var Il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yg=!1;if(Il)try{var Kg={};Object.defineProperty(Kg,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",Kg,Kg),window.removeEventListener("test",Kg,Kg)}catch{Yg=!1}var Lc=null,dS=null,ev=null;function cA(){if(ev)return ev;var u,h=dS,p=h.length,C,D="value"in Lc?Lc.value:Lc.textContent,E=D.length;for(u=0;u<p&&h[u]===D[u];u++);var G=p-u;for(C=1;C<=G&&h[p-C]===D[E-C];C++);return ev=D.slice(u,1<C?1-C:void 0)}function Kn(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Gn(){return!0}function uA(){return!1}function Pr(u){function h(p,C,D,E,G){this._reactName=p,this._targetInst=D,this.type=C,this.nativeEvent=E,this.target=G,this.currentTarget=null;for(var j in u)u.hasOwnProperty(j)&&(p=u[j],this[j]=p?p(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Gn:uA,this.isPropagationStopped=uA,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),h}var cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=Pr(cd),qg=d({},cd,{view:0,detail:0}),pL=Pr(qg),nv,hS,ji,jh=d({},qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ji&&(ji&&u.type==="mousemove"?(nv=u.screenX-ji.screenX,hS=u.screenY-ji.screenY):hS=nv=0,ji=u),nv)},movementY:function(u){return"movementY"in u?u.movementY:hS}}),Pc=Pr(jh),dA=d({},jh,{dataTransfer:0}),fS=Pr(dA),_o=d({},qg,{relatedTarget:0}),iv=Pr(_o),hA=d({},cd,{animationName:0,elapsedTime:0,pseudoElement:0}),fA=Pr(hA),gA=d({},cd,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),pA=Pr(gA),mA=d({},cd,{data:0}),Or=Pr(mA),mL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yA(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=yL[u])?!!h[u]:!1}function ja(){return yA}var sv=d({},qg,{key:function(u){if(u.key){var h=mL[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Kn(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Bo[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(u){return u.type==="keypress"?Kn(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Kn(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),gS=Pr(sv),Ci=d({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Pr(Ci),pS=d({},qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),vL=Pr(pS),mS=d({},cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),bL=Pr(mS),CL=d({},jh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),wL=Pr(CL),vA=d({},cd,{newState:0,oldState:0}),rv=Pr(vA),Wh=[9,13,27,32],yS=Il&&"CompositionEvent"in window,Uh=null;Il&&"documentMode"in document&&(Uh=document.documentMode);var bA=Il&&"TextEvent"in window&&!Uh,ov=Il&&(!yS||Uh&&8<Uh&&11>=Uh),av=" ",vS=!1;function CA(u,h){switch(u){case"keyup":return Wh.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lv(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Oc=!1;function SL(u,h){switch(u){case"compositionend":return lv(h);case"keypress":return h.which!==32?null:(vS=!0,av);case"textInput":return u=h.data,u===av&&vS?null:u;default:return null}}function wA(u,h){if(Oc)return u==="compositionend"||!yS&&CA(u,h)?(u=cA(),ev=dS=Lc=null,Oc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ov&&h.locale!=="ko"?null:h.data;default:return null}}var go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!go[u.type]:h==="textarea"}function $h(u,h,p,C){Hh?Vh?Vh.push(C):Vh=[C]:Hh=C,h=ob(h,"onChange"),0<h.length&&(p=new tv("onChange","change",null,p,C),u.push({event:p,listeners:h}))}var Yh=null,Kh=null;function xL(u){ZR(u,0)}function uv(u){var h=Nh(u);if(nS(h))return u}function SA(u,h){if(u==="change")return h}var xA=!1;if(Il){var bS;if(Il){var Nc="oninput"in document;if(!Nc){var MA=document.createElement("div");MA.setAttribute("oninput","return;"),Nc=typeof MA.oninput=="function"}bS=Nc}else bS=!1;xA=bS&&(!document.documentMode||9<document.documentMode)}function DA(){Yh&&(Yh.detachEvent("onpropertychange",dv),Kh=Yh=null)}function dv(u){if(u.propertyName==="value"&&uv(Kh)){var h=[];$h(h,Kh,u,lS(u)),lA(xL,h)}}function AA(u,h,p){u==="focusin"?(DA(),Yh=h,Kh=p,Yh.attachEvent("onpropertychange",dv)):u==="focusout"&&DA()}function Fc(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return uv(Kh)}function hv(u,h){if(u==="click")return uv(h)}function ML(u,h){if(u==="input"||u==="change")return uv(h)}function DL(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var po=typeof Object.is=="function"?Object.is:DL;function Wa(u,h){if(po(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var p=Object.keys(u),C=Object.keys(h);if(p.length!==C.length)return!1;for(C=0;C<p.length;C++){var D=p[C];if(!We.call(h,D)||!po(u[D],h[D]))return!1}return!0}function Go(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function CS(u,h){var p=Go(u);u=0;for(var C;p;){if(p.nodeType===3){if(C=u+p.textContent.length,u<=h&&C>=h)return{node:p,offset:h-u};u=C}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Go(p)}}function RA(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?RA(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function TA(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=ld(u.document);h instanceof u.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)u=h.contentWindow;else break;h=ld(u.document)}return h}function wS(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var AL=Il&&"documentMode"in document&&11>=document.documentMode,qh=null,_c=null,de=null,ke=!1;function xe(u,h,p){var C=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ke||qh==null||qh!==ld(C)||(C=qh,"selectionStart"in C&&wS(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),de&&Wa(de,C)||(de=C,C=ob(_c,"onSelect"),0<C.length&&(h=new tv("onSelect","select",null,h,p),u.push({event:h,listeners:C}),h.target=qh)))}function rt(u,h){var p={};return p[u.toLowerCase()]=h.toLowerCase(),p["Webkit"+u]="webkit"+h,p["Moz"+u]="moz"+h,p}var kt={animationend:rt("Animation","AnimationEnd"),animationiteration:rt("Animation","AnimationIteration"),animationstart:rt("Animation","AnimationStart"),transitionrun:rt("Transition","TransitionRun"),transitionstart:rt("Transition","TransitionStart"),transitioncancel:rt("Transition","TransitionCancel"),transitionend:rt("Transition","TransitionEnd")},Cn={},is={};Il&&(is=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);function wn(u){if(Cn[u])return Cn[u];if(!kt[u])return u;var h=kt[u],p;for(p in h)if(h.hasOwnProperty(p)&&p in is)return Cn[u]=h[p];return u}var fv=wn("animationend"),EA=wn("animationiteration"),mo=wn("animationstart"),gv=wn("transitionrun"),RL=wn("transitionstart"),Zh=wn("transitioncancel"),Zg=wn("transitionend"),Xg=new Map,kn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kn.push("scrollEnd");function da(u,h){Xg.set(u,h),ad(h,[u])}var SS=new WeakMap;function cr(u,h){if(typeof u=="object"&&u!==null){var p=SS.get(u);return p!==void 0?p:(h={value:u,source:h,stack:Jw(h)},SS.set(u,h),h)}return{value:u,source:h,stack:Jw(h)}}var zo=[],Xh=0,xS=0;function ud(){for(var u=Xh,h=xS=Xh=0;h<u;){var p=zo[h];zo[h++]=null;var C=zo[h];zo[h++]=null;var D=zo[h];zo[h++]=null;var E=zo[h];if(zo[h++]=null,C!==null&&D!==null){var G=C.pending;G===null?D.next=D:(D.next=G.next,G.next=D),C.pending=D}E!==0&&Qg(p,D,E)}}function ha(u,h,p,C){zo[Xh++]=u,zo[Xh++]=h,zo[Xh++]=p,zo[Xh++]=C,xS|=C,u.lanes|=C,u=u.alternate,u!==null&&(u.lanes|=C)}function Qh(u,h,p,C){return ha(u,h,p,C),Jg(u)}function dd(u,h){return ha(u,null,null,h),Jg(u)}function Qg(u,h,p){u.lanes|=p;var C=u.alternate;C!==null&&(C.lanes|=p);for(var D=!1,E=u.return;E!==null;)E.childLanes|=p,C=E.alternate,C!==null&&(C.childLanes|=p),E.tag===22&&(u=E.stateNode,u===null||u._visibility&1||(D=!0)),u=E,E=E.return;return u.tag===3?(E=u.stateNode,D&&h!==null&&(D=31-tn(p),u=E.hiddenUpdates,C=u[D],C===null?u[D]=[h]:C.push(h),h.lane=p|536870912),E):null}function Jg(u){if(50<wf)throw wf=0,yx=null,Error(i(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var hd={};function pv(u,h,p,C){this.tag=u,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(u,h,p,C){return new pv(u,h,p,C)}function fd(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ur(u,h){var p=u.alternate;return p===null?(p=Nr(u.tag,h,u.key,u.mode),p.elementType=u.elementType,p.type=u.type,p.stateNode=u.stateNode,p.alternate=u,u.alternate=p):(p.pendingProps=h,p.type=u.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=u.flags&65011712,p.childLanes=u.childLanes,p.lanes=u.lanes,p.child=u.child,p.memoizedProps=u.memoizedProps,p.memoizedState=u.memoizedState,p.updateQueue=u.updateQueue,h=u.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=u.sibling,p.index=u.index,p.ref=u.ref,p.refCleanup=u.refCleanup,p}function ep(u,h){u.flags&=65011714;var p=u.alternate;return p===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,h=p.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function mv(u,h,p,C,D,E){var G=0;if(C=u,typeof u=="function")fd(u)&&(G=1);else if(typeof u=="string")G=sP(u,p,he.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case z:return u=Nr(31,p,h,D),u.elementType=z,u.lanes=E,u;case v:return gd(p.children,D,E,h);case w:G=8,D|=24;break;case S:return u=Nr(12,p,h,D|2),u.elementType=S,u.lanes=E,u;case I:return u=Nr(13,p,h,D),u.elementType=I,u.lanes=E,u;case P:return u=Nr(19,p,h,D),u.elementType=P,u.lanes=E,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case x:case A:G=10;break e;case M:G=9;break e;case k:G=11;break e;case N:G=14;break e;case B:G=16,C=null;break e}G=29,p=Error(i(130,u===null?"null":typeof u,"")),C=null}return h=Nr(G,p,h,D),h.elementType=u,h.type=C,h.lanes=E,h}function gd(u,h,p,C){return u=Nr(7,u,C,h),u.lanes=p,u}function MS(u,h,p){return u=Nr(6,u,null,h),u.lanes=p,u}function Jh(u,h,p){return h=Nr(4,u.children!==null?u.children:[],u.key,h),h.lanes=p,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var Ll=[],Bc=0,yv=null,tp=0,Ho=[],Vo=0,fi=null,wi=1,Pl="";function pd(u,h){Ll[Bc++]=tp,Ll[Bc++]=yv,yv=u,tp=h}function DS(u,h,p){Ho[Vo++]=wi,Ho[Vo++]=Pl,Ho[Vo++]=fi,fi=u;var C=wi;u=Pl;var D=32-tn(C)-1;C&=~(1<<D),p+=1;var E=32-tn(h)+D;if(30<E){var G=D-D%5;E=(C&(1<<G)-1).toString(32),C>>=G,D-=G,wi=1<<32-tn(h)+D|p<<D|C,Pl=E+u}else wi=1<<E|p<<D|C,Pl=u}function AS(u){u.return!==null&&(pd(u,1),DS(u,1,0))}function np(u){for(;u===yv;)yv=Ll[--Bc],Ll[Bc]=null,tp=Ll[--Bc],Ll[Bc]=null;for(;u===fi;)fi=Ho[--Vo],Ho[Vo]=null,Pl=Ho[--Vo],Ho[Vo]=null,wi=Ho[--Vo],Ho[Vo]=null}var hs=null,Si=null,cn=!1,fa=null,Fr=!1,ef=Error(i(519));function jo(u){var h=Error(i(418,""));throw Gc(cr(h,u)),ef}function IA(u){var h=u.stateNode,p=u.type,C=u.memoizedProps;switch(h[Pi]=u,h[As]=C,p){case"dialog":sn("cancel",h),sn("close",h);break;case"iframe":case"object":case"embed":sn("load",h);break;case"video":case"audio":for(p=0;p<Wp.length;p++)sn(Wp[p],h);break;case"source":sn("error",h);break;case"img":case"image":case"link":sn("error",h),sn("load",h);break;case"details":sn("toggle",h);break;case"input":sn("invalid",h),iS(h,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),Zy(h);break;case"select":sn("invalid",h);break;case"textarea":sn("invalid",h),Qy(h,C.value,C.defaultValue,C.children),Zy(h)}p=C.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||C.suppressHydrationWarning===!0||JR(h.textContent,p)?(C.popover!=null&&(sn("beforetoggle",h),sn("toggle",h)),C.onScroll!=null&&sn("scroll",h),C.onScrollEnd!=null&&sn("scrollend",h),C.onClick!=null&&(h.onclick=ab),h=!0):h=!1,h||jo(u)}function kA(u){for(hs=u.return;hs;)switch(hs.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:hs=hs.return}}function ip(u){if(u!==hs)return!1;if(!cn)return kA(u),cn=!0,!1;var h=u.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=u.type,p=!(p!=="form"&&p!=="button")||cb(u.type,u.memoizedProps)),p=!p),p&&Si&&jo(u),kA(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(p=u.data,p==="/$"){if(h===0){Si=ba(u.nextSibling);break e}h--}else p!=="$"&&p!=="$!"&&p!=="$?"||h++;u=u.nextSibling}Si=null}}else h===27?(h=Si,qo(u.type)?(u=kx,kx=null,Si=u):Si=h):Si=hs?ba(u.stateNode.nextSibling):null;return!0}function sp(){Si=hs=null,cn=!1}function LA(){var u=fa;return u!==null&&(Wr===null?Wr=u:Wr.push.apply(Wr,u),fa=null),u}function Gc(u){fa===null?fa=[u]:fa.push(u)}var md=ie(null),zc=null,V=null;function yo(u,h,p){J(md,h._currentValue),h._currentValue=p}function Wo(u){u._currentValue=md.current,ve(md)}function _r(u,h,p){for(;u!==null;){var C=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),u===p)break;u=u.return}}function Qt(u,h,p,C){var D=u.child;for(D!==null&&(D.return=u);D!==null;){var E=D.dependencies;if(E!==null){var G=D.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=D;for(var ee=0;ee<h.length;ee++)if(j.context===h[ee]){E.lanes|=p,j=E.alternate,j!==null&&(j.lanes|=p),_r(E.return,p,u),C||(G=null);break e}E=j.next}}else if(D.tag===18){if(G=D.return,G===null)throw Error(i(341));G.lanes|=p,E=G.alternate,E!==null&&(E.lanes|=p),_r(G,p,u),G=null}else G=D.child;if(G!==null)G.return=D;else for(G=D;G!==null;){if(G===u){G=null;break}if(D=G.sibling,D!==null){D.return=G.return,G=D;break}G=G.return}D=G}}function rp(u,h,p,C){u=null;for(var D=h,E=!1;D!==null;){if(!E){if((D.flags&524288)!==0)E=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var G=D.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var j=D.type;po(D.pendingProps.value,G.value)||(u!==null?u.push(j):u=[j])}}else if(D===Me.current){if(G=D.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(u!==null?u.push(Ef):u=[Ef])}D=D.return}u!==null&&Qt(h,u,p,C),h.flags|=262144}function vv(u){for(u=u.firstContext;u!==null;){if(!po(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function yd(u){zc=u,V=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Oi(u){return PA(zc,u)}function bv(u,h){return zc===null&&yd(u),PA(u,h)}function PA(u,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},V===null){if(u===null)throw Error(i(308));V=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else V=V.next=h;return p}var TL=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(p,C){u.push(C)}};this.abort=function(){h.aborted=!0,u.forEach(function(p){return p()})}},EL=e.unstable_scheduleCallback,IL=e.unstable_NormalPriority,ii={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function RS(){return{controller:new TL,data:new Map,refCount:0}}function op(u){u.refCount--,u.refCount===0&&EL(IL,function(){u.controller.abort()})}var ap=null,TS=0,tf=0,Br=null;function kL(u,h){if(ap===null){var p=ap=[];TS=0,tf=rb(),Br={status:"pending",value:void 0,then:function(C){p.push(C)}}}return TS++,h.then(OA,OA),h}function OA(){if(--TS===0&&ap!==null){Br!==null&&(Br.status="fulfilled");var u=ap;ap=null,tf=0,Br=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function LL(u,h){var p=[],C={status:"pending",value:null,reason:null,then:function(D){p.push(D)}};return u.then(function(){C.status="fulfilled",C.value=h;for(var D=0;D<p.length;D++)(0,p[D])(h)},function(D){for(C.status="rejected",C.reason=D,D=0;D<p.length;D++)(0,p[D])(void 0)}),C}var NA=X.S;X.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&kL(u,h),NA!==null&&NA(u,h)};var vd=ie(null);function Ol(){var u=vd.current;return u!==null?u:hi.pooledCache}function Cv(u,h){h===null?J(vd,vd.current):J(vd,h.pool)}function FA(){var u=Ol();return u===null?null:{parent:ii._currentValue,pool:u}}var dr=Error(i(460)),_A=Error(i(474)),wv=Error(i(542)),ES={then:function(){}};function BA(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Sv(){}function IS(u,h,p){switch(p=u[p],p===void 0?u.push(h):p!==h&&(h.then(Sv,Sv),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,zA(u),u;default:if(typeof h.status=="string")h.then(Sv,Sv);else{if(u=hi,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=h,u.status="pending",u.then(function(C){if(h.status==="pending"){var D=h;D.status="fulfilled",D.value=C}},function(C){if(h.status==="pending"){var D=h;D.status="rejected",D.reason=C}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,zA(u),u}throw nf=h,dr}}var nf=null;function GA(){if(nf===null)throw Error(i(459));var u=nf;return nf=null,u}function zA(u){if(u===dr||u===wv)throw Error(i(483))}var Ua=!1;function bd(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Hc(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Nl(u,h,p){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,(Hn&2)!==0){var D=C.pending;return D===null?h.next=h:(h.next=D.next,D.next=h),C.pending=h,h=Jg(u),Qg(u,null,p),h}return ha(u,C,h,p),Jg(u)}function lp(u,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var C=h.lanes;C&=u.pendingLanes,p|=C,h.lanes=p,ds(u,p)}}function ga(u,h){var p=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,p===C)){var D=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};E===null?D=E=G:E=E.next=G,p=p.next}while(p!==null);E===null?D=E=h:E=E.next=h}else D=E=h;p={baseState:C.baseState,firstBaseUpdate:D,lastBaseUpdate:E,shared:C.shared,callbacks:C.callbacks},u.updateQueue=p;return}u=p.lastBaseUpdate,u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=h}var cp=!1;function pa(){if(cp){var u=Br;if(u!==null)throw u}}function Qs(u,h,p,C){cp=!1;var D=u.updateQueue;Ua=!1;var E=D.firstBaseUpdate,G=D.lastBaseUpdate,j=D.shared.pending;if(j!==null){D.shared.pending=null;var ee=j,me=ee.next;ee.next=null,G===null?E=me:G.next=me,G=ee;var Le=u.alternate;Le!==null&&(Le=Le.updateQueue,j=Le.lastBaseUpdate,j!==G&&(j===null?Le.firstBaseUpdate=me:j.next=me,Le.lastBaseUpdate=ee))}if(E!==null){var Ne=D.baseState;G=0,Le=me=ee=null,j=E;do{var be=j.lane&-536870913,ye=be!==j.lane;if(ye?(yn&be)===be:(C&be)===be){be!==0&&be===tf&&(cp=!0),Le!==null&&(Le=Le.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Tt=u,Dt=j;be=h;var Zn=p;switch(Dt.tag){case 1:if(Tt=Dt.payload,typeof Tt=="function"){Ne=Tt.call(Zn,Ne,be);break e}Ne=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Dt.payload,be=typeof Tt=="function"?Tt.call(Zn,Ne,be):Tt,be==null)break e;Ne=d({},Ne,be);break e;case 2:Ua=!0}}be=j.callback,be!==null&&(u.flags|=64,ye&&(u.flags|=8192),ye=D.callbacks,ye===null?D.callbacks=[be]:ye.push(be))}else ye={lane:be,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Le===null?(me=Le=ye,ee=Ne):Le=Le.next=ye,G|=be;if(j=j.next,j===null){if(j=D.shared.pending,j===null)break;ye=j,j=ye.next,ye.next=null,D.lastBaseUpdate=ye,D.shared.pending=null}}while(!0);Le===null&&(ee=Ne),D.baseState=ee,D.firstBaseUpdate=me,D.lastBaseUpdate=Le,E===null&&(D.shared.lanes=0),Zc|=G,u.lanes=G,u.memoizedState=Ne}}function HA(u,h){if(typeof u!="function")throw Error(i(191,u));u.call(h)}function kS(u,h){var p=u.callbacks;if(p!==null)for(u.callbacks=null,u=0;u<p.length;u++)HA(p[u],h)}var Cd=ie(null),Vc=ie(0);function Fl(u,h){u=Ul,J(Vc,u),J(Cd,h),Ul=u|h.baseLanes}function xv(){J(Vc,Ul),J(Cd,Cd.current)}function LS(){Ul=Vc.current,ve(Cd),ve(Vc)}var ma=0,Zt=null,zn=null,un=null,rf=!1,wd=!1,Js=!1,of=0,jc=0,Uo=null,VA=0;function dn(){throw Error(i(321))}function up(u,h){if(h===null)return!1;for(var p=0;p<h.length&&p<u.length;p++)if(!po(u[p],h[p]))return!1;return!0}function PS(u,h,p,C,D,E){return ma=E,Zt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,X.H=u===null||u.memoizedState===null?tR:XS,Js=!1,E=p(C,D),Js=!1,wd&&(E=WA(h,p,C,D)),jA(u),E}function jA(u){X.H=wp;var h=zn!==null&&zn.next!==null;if(ma=0,un=zn=Zt=null,rf=!1,jc=0,Uo=null,h)throw Error(i(300));u===null||Ts||(u=u.dependencies,u!==null&&vv(u)&&(Ts=!0))}function WA(u,h,p,C){Zt=u;var D=0;do{if(wd&&(Uo=null),jc=0,wd=!1,25<=D)throw Error(i(301));if(D+=1,un=zn=null,u.updateQueue!=null){var E=u.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=nR,E=h(p,C)}while(wd);return E}function OS(){var u=X.H,h=u.useState()[0];return h=typeof h.then=="function"?dp(h):h,u=u.useState()[0],(zn!==null?zn.memoizedState:null)!==u&&(Zt.flags|=1024),h}function NS(){var u=of!==0;return of=0,u}function Sd(u,h,p){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~p}function Mv(u){if(rf){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rf=!1}ma=0,un=zn=Zt=null,wd=!1,jc=of=0,Uo=null}function Gr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Zt.memoizedState=un=u:un=un.next=u,un}function ss(){if(zn===null){var u=Zt.alternate;u=u!==null?u.memoizedState:null}else u=zn.next;var h=un===null?Zt.memoizedState:un.next;if(h!==null)un=h,zn=u;else{if(u===null)throw Zt.alternate===null?Error(i(467)):Error(i(310));zn=u,u={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},un===null?Zt.memoizedState=un=u:un=un.next=u}return un}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dp(u){var h=jc;return jc+=1,Uo===null&&(Uo=[]),u=IS(Uo,u,h),h=Zt,(un===null?h.memoizedState:un.next)===null&&(h=h.alternate,X.H=h===null||h.memoizedState===null?tR:XS),u}function Dv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return dp(u);if(u.$$typeof===A)return Oi(u)}throw Error(i(438,String(u)))}function hp(u){var h=null,p=Zt.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var C=Zt.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(h={data:C.data.map(function(D){return D.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=xd(),Zt.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(u),C=0;C<u;C++)p[C]=W;return h.index++,p}function $a(u,h){return typeof h=="function"?h(u):h}function Av(u){var h=ss();return FS(h,zn,u)}function FS(u,h,p){var C=u.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=p;var D=u.baseQueue,E=C.pending;if(E!==null){if(D!==null){var G=D.next;D.next=E.next,E.next=G}h.baseQueue=D=E,C.pending=null}if(E=u.baseState,D===null)u.memoizedState=E;else{h=D.next;var j=G=null,ee=null,me=h,Le=!1;do{var Ne=me.lane&-536870913;if(Ne!==me.lane?(yn&Ne)===Ne:(ma&Ne)===Ne){var be=me.revertLane;if(be===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ne===tf&&(Le=!0);else if((ma&be)===be){me=me.next,be===tf&&(Le=!0);continue}else Ne={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(j=ee=Ne,G=E):ee=ee.next=Ne,Zt.lanes|=be,Zc|=be;Ne=me.action,Js&&p(E,Ne),E=me.hasEagerState?me.eagerState:p(E,Ne)}else be={lane:Ne,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(j=ee=be,G=E):ee=ee.next=be,Zt.lanes|=Ne,Zc|=Ne;me=me.next}while(me!==null&&me!==h);if(ee===null?G=E:ee.next=j,!po(E,u.memoizedState)&&(Ts=!0,Le&&(p=Br,p!==null)))throw p;u.memoizedState=E,u.baseState=G,u.baseQueue=ee,C.lastRenderedState=E}return D===null&&(C.lanes=0),[u.memoizedState,C.dispatch]}function _S(u){var h=ss(),p=h.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var C=p.dispatch,D=p.pending,E=h.memoizedState;if(D!==null){p.pending=null;var G=D=D.next;do E=u(E,G.action),G=G.next;while(G!==D);po(E,h.memoizedState)||(Ts=!0),h.memoizedState=E,h.baseQueue===null&&(h.baseState=E),p.lastRenderedState=E}return[E,C]}function BS(u,h,p){var C=Zt,D=ss(),E=cn;if(E){if(p===void 0)throw Error(i(407));p=p()}else p=h();var G=!po((zn||D).memoizedState,p);G&&(D.memoizedState=p,Ts=!0),D=D.queue;var j=Tv.bind(null,C,D,u);if(pp(2048,8,j,[u]),D.getSnapshot!==h||G||un!==null&&un.memoizedState.tag&1){if(C.flags|=2048,af(9,Pv(),UA.bind(null,C,D,p,h),null),hi===null)throw Error(i(349));E||(ma&124)!==0||Rv(C,h,p)}return p}function Rv(u,h,p){u.flags|=16384,u={getSnapshot:h,value:p},h=Zt.updateQueue,h===null?(h=xd(),Zt.updateQueue=h,h.stores=[u]):(p=h.stores,p===null?h.stores=[u]:p.push(u))}function UA(u,h,p,C){h.value=p,h.getSnapshot=C,GS(h)&&zS(u)}function Tv(u,h,p){return p(function(){GS(h)&&zS(u)})}function GS(u){var h=u.getSnapshot;u=u.value;try{var p=h();return!po(u,p)}catch{return!0}}function zS(u){var h=dd(u,2);h!==null&&So(h,u,2)}function Ev(u){var h=Gr();if(typeof u=="function"){var p=u;if(u=p(),Js){Pt(!0);try{p()}finally{Pt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:u},h}function fp(u,h,p,C){return u.baseState=p,FS(u,zn,typeof C=="function"?C:$a)}function PL(u,h,p,C,D){if(_v(u))throw Error(i(485));if(u=h.action,u!==null){var E={payload:D,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){E.listeners.push(G)}};X.T!==null?p(!0):E.isTransition=!1,C(E),p=h.pending,p===null?(E.next=h.pending=E,HS(h,E)):(E.next=p.next,h.pending=p.next=E)}}function HS(u,h){var p=h.action,C=h.payload,D=u.state;if(h.isTransition){var E=X.T,G={};X.T=G;try{var j=p(D,C),ee=X.S;ee!==null&&ee(G,j),VS(u,h,j)}catch(me){Iv(u,h,me)}finally{X.T=E}}else try{E=p(D,C),VS(u,h,E)}catch(me){Iv(u,h,me)}}function VS(u,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(C){$A(u,h,C)},function(C){return Iv(u,h,C)}):$A(u,h,p)}function $A(u,h,p){h.status="fulfilled",h.value=p,YA(h),u.state=p,h=u.pending,h!==null&&(p=h.next,p===h?u.pending=null:(p=p.next,h.next=p,HS(u,p)))}function Iv(u,h,p){var C=u.pending;if(u.pending=null,C!==null){C=C.next;do h.status="rejected",h.reason=p,YA(h),h=h.next;while(h!==C)}u.action=null}function YA(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function kv(u,h){return h}function jS(u,h){if(cn){var p=hi.formState;if(p!==null){e:{var C=Zt;if(cn){if(Si){t:{for(var D=Si,E=Fr;D.nodeType!==8;){if(!E){D=null;break t}if(D=ba(D.nextSibling),D===null){D=null;break t}}E=D.data,D=E==="F!"||E==="F"?D:null}if(D){Si=ba(D.nextSibling),C=D.data==="F!";break e}}jo(C)}C=!1}C&&(h=p[0])}}return p=Gr(),p.memoizedState=p.baseState=h,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:h},p.queue=C,p=KS.bind(null,Zt,C),C.dispatch=p,C=Ev(!1),E=qS.bind(null,Zt,!1,C.queue),C=Gr(),D={state:h,dispatch:null,action:u,pending:null},C.queue=D,p=PL.bind(null,Zt,D,E,p),D.dispatch=p,C.memoizedState=u,[h,p,!1]}function Lv(u){var h=ss();return KA(h,zn,u)}function KA(u,h,p){if(h=FS(u,h,kv)[0],u=Av($a)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var C=dp(h)}catch(G){throw G===dr?wv:G}else C=h;h=ss();var D=h.queue,E=D.dispatch;return p!==h.memoizedState&&(Zt.flags|=2048,af(9,Pv(),WS.bind(null,D,p),null)),[C,E,u]}function WS(u,h){u.action=h}function Kt(u){var h=ss(),p=zn;if(p!==null)return KA(h,p,u);ss(),h=h.memoizedState,p=ss();var C=p.queue.dispatch;return p.memoizedState=u,[h,C,!1]}function af(u,h,p,C){return u={tag:u,create:p,deps:C,inst:h,next:null},h=Zt.updateQueue,h===null&&(h=xd(),Zt.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=u.next=u:(C=p.next,p.next=u,u.next=C,h.lastEffect=u),u}function Pv(){return{destroy:void 0,resource:void 0}}function lf(){return ss().memoizedState}function gp(u,h,p,C){var D=Gr();C=C===void 0?null:C,Zt.flags|=u,D.memoizedState=af(1|h,Pv(),p,C)}function pp(u,h,p,C){var D=ss();C=C===void 0?null:C;var E=D.memoizedState.inst;zn!==null&&C!==null&&up(C,zn.memoizedState.deps)?D.memoizedState=af(h,E,p,C):(Zt.flags|=u,D.memoizedState=af(1|h,E,p,C))}function qA(u,h){gp(8390656,8,u,h)}function vo(u,h){pp(2048,8,u,h)}function ZA(u,h){return pp(4,2,u,h)}function mp(u,h){return pp(4,4,u,h)}function Ov(u,h){if(typeof h=="function"){u=u();var p=h(u);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function US(u,h,p){p=p!=null?p.concat([u]):null,pp(4,4,Ov.bind(null,h,u),p)}function Nv(){}function zr(u,h){var p=ss();h=h===void 0?null:h;var C=p.memoizedState;return h!==null&&up(h,C[1])?C[0]:(p.memoizedState=[u,h],u)}function _l(u,h){var p=ss();h=h===void 0?null:h;var C=p.memoizedState;if(h!==null&&up(h,C[1]))return C[0];if(C=u(),Js){Pt(!0);try{u()}finally{Pt(!1)}}return p.memoizedState=[C,h],C}function yp(u,h,p){return p===void 0||(ma&1073741824)!==0?u.memoizedState=h:(u.memoizedState=p,u=ER(),Zt.lanes|=u,Zc|=u,p)}function $S(u,h,p,C){return po(p,h)?p:Cd.current!==null?(u=yp(u,p,C),po(u,h)||(Ts=!0),u):(ma&42)===0?(Ts=!0,u.memoizedState=p):(u=ER(),Zt.lanes|=u,Zc|=u,h)}function vp(u,h,p,C,D){var E=ne.p;ne.p=E!==0&&8>E?E:8;var G=X.T,j={};X.T=j,qS(u,!1,h,p);try{var ee=D(),me=X.S;if(me!==null&&me(j,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Le=LL(ee,C);Md(u,h,Le,tr(u))}else Md(u,h,C,tr(u))}catch(Ne){Md(u,h,{then:function(){},status:"rejected",reason:Ne},tr())}finally{ne.p=E,X.T=G}}function XA(){}function bp(u,h,p,C){if(u.tag!==5)throw Error(i(476));var D=YS(u).queue;vp(u,D,h,Z,p===null?XA:function(){return Fv(u),p(C)})}function YS(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:Z},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:p},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function Fv(u){var h=YS(u).next.queue;Md(u,h,{},tr())}function Cp(){return Oi(Ef)}function Bl(){return ss().memoizedState}function QA(){return ss().memoizedState}function Wc(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var p=tr();u=Hc(p);var C=Nl(h,u,p);C!==null&&(So(C,h,p),lp(C,h,p)),h={cache:RS()},u.payload=h;return}h=h.return}}function JA(u,h,p){var C=tr();p={lane:C,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},_v(u)?eR(h,p):(p=Qh(u,h,p,C),p!==null&&(So(p,u,C),ZS(p,h,C)))}function KS(u,h,p){var C=tr();Md(u,h,p,C)}function Md(u,h,p,C){var D={lane:C,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(_v(u))eR(h,D);else{var E=u.alternate;if(u.lanes===0&&(E===null||E.lanes===0)&&(E=h.lastRenderedReducer,E!==null))try{var G=h.lastRenderedState,j=E(G,p);if(D.hasEagerState=!0,D.eagerState=j,po(j,G))return ha(u,h,D,0),hi===null&&ud(),!1}catch{}finally{}if(p=Qh(u,h,D,C),p!==null)return So(p,u,C),ZS(p,h,C),!0}return!1}function qS(u,h,p,C){if(C={lane:2,revertLane:rb(),action:C,hasEagerState:!1,eagerState:null,next:null},_v(u)){if(h)throw Error(i(479))}else h=Qh(u,p,C,2),h!==null&&So(h,u,2)}function _v(u){var h=u.alternate;return u===Zt||h!==null&&h===Zt}function eR(u,h){wd=rf=!0;var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}function ZS(u,h,p){if((p&4194048)!==0){var C=h.lanes;C&=u.pendingLanes,p|=C,h.lanes=p,ds(u,p)}}var wp={readContext:Oi,use:Dv,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},tR={readContext:Oi,use:Dv,useCallback:function(u,h){return Gr().memoizedState=[u,h===void 0?null:h],u},useContext:Oi,useEffect:qA,useImperativeHandle:function(u,h,p){p=p!=null?p.concat([u]):null,gp(4194308,4,Ov.bind(null,h,u),p)},useLayoutEffect:function(u,h){return gp(4194308,4,u,h)},useInsertionEffect:function(u,h){gp(4,2,u,h)},useMemo:function(u,h){var p=Gr();h=h===void 0?null:h;var C=u();if(Js){Pt(!0);try{u()}finally{Pt(!1)}}return p.memoizedState=[C,h],C},useReducer:function(u,h,p){var C=Gr();if(p!==void 0){var D=p(h);if(Js){Pt(!0);try{p(h)}finally{Pt(!1)}}}else D=h;return C.memoizedState=C.baseState=D,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:D},C.queue=u,u=u.dispatch=JA.bind(null,Zt,u),[C.memoizedState,u]},useRef:function(u){var h=Gr();return u={current:u},h.memoizedState=u},useState:function(u){u=Ev(u);var h=u.queue,p=KS.bind(null,Zt,h);return h.dispatch=p,[u.memoizedState,p]},useDebugValue:Nv,useDeferredValue:function(u,h){var p=Gr();return yp(p,u,h)},useTransition:function(){var u=Ev(!1);return u=vp.bind(null,Zt,u.queue,!0,!1),Gr().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,p){var C=Zt,D=Gr();if(cn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=h(),hi===null)throw Error(i(349));(yn&124)!==0||Rv(C,h,p)}D.memoizedState=p;var E={value:p,getSnapshot:h};return D.queue=E,qA(Tv.bind(null,C,E,u),[u]),C.flags|=2048,af(9,Pv(),UA.bind(null,C,E,p,h),null),p},useId:function(){var u=Gr(),h=hi.identifierPrefix;if(cn){var p=Pl,C=wi;p=(C&~(1<<32-tn(C)-1)).toString(32)+p,h="«"+h+"R"+p,p=of++,0<p&&(h+="H"+p.toString(32)),h+="»"}else p=VA++,h="«"+h+"r"+p.toString(32)+"»";return u.memoizedState=h},useHostTransitionStatus:Cp,useFormState:jS,useActionState:jS,useOptimistic:function(u){var h=Gr();h.memoizedState=h.baseState=u;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=qS.bind(null,Zt,!0,p),p.dispatch=h,[u,h]},useMemoCache:hp,useCacheRefresh:function(){return Gr().memoizedState=Wc.bind(null,Zt)}},XS={readContext:Oi,use:Dv,useCallback:zr,useContext:Oi,useEffect:vo,useImperativeHandle:US,useInsertionEffect:ZA,useLayoutEffect:mp,useMemo:_l,useReducer:Av,useRef:lf,useState:function(){return Av($a)},useDebugValue:Nv,useDeferredValue:function(u,h){var p=ss();return $S(p,zn.memoizedState,u,h)},useTransition:function(){var u=Av($a)[0],h=ss().memoizedState;return[typeof u=="boolean"?u:dp(u),h]},useSyncExternalStore:BS,useId:Bl,useHostTransitionStatus:Cp,useFormState:Lv,useActionState:Lv,useOptimistic:function(u,h){var p=ss();return fp(p,zn,u,h)},useMemoCache:hp,useCacheRefresh:QA},nR={readContext:Oi,use:Dv,useCallback:zr,useContext:Oi,useEffect:vo,useImperativeHandle:US,useInsertionEffect:ZA,useLayoutEffect:mp,useMemo:_l,useReducer:_S,useRef:lf,useState:function(){return _S($a)},useDebugValue:Nv,useDeferredValue:function(u,h){var p=ss();return zn===null?yp(p,u,h):$S(p,zn.memoizedState,u,h)},useTransition:function(){var u=_S($a)[0],h=ss().memoizedState;return[typeof u=="boolean"?u:dp(u),h]},useSyncExternalStore:BS,useId:Bl,useHostTransitionStatus:Cp,useFormState:Kt,useActionState:Kt,useOptimistic:function(u,h){var p=ss();return zn!==null?fp(p,zn,u,h):(p.baseState=u,[u,p.queue.dispatch])},useMemoCache:hp,useCacheRefresh:QA},fs=null,Hr=0;function Bv(u){var h=Hr;return Hr+=1,fs===null&&(fs=[]),IS(fs,u,h)}function Sp(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Dd(u,h){throw h.$$typeof===f?Error(i(525)):(u=Object.prototype.toString.call(h),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function Ad(u){var h=u._init;return h(u._payload)}function QS(u){function h(fe,oe){if(u){var pe=fe.deletions;pe===null?(fe.deletions=[oe],fe.flags|=16):pe.push(oe)}}function p(fe,oe){if(!u)return null;for(;oe!==null;)h(fe,oe),oe=oe.sibling;return null}function C(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function D(fe,oe){return fe=ur(fe,oe),fe.index=0,fe.sibling=null,fe}function E(fe,oe,pe){return fe.index=pe,u?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<oe?(fe.flags|=67108866,oe):pe):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function G(fe){return u&&fe.alternate===null&&(fe.flags|=67108866),fe}function j(fe,oe,pe,Pe){return oe===null||oe.tag!==6?(oe=MS(pe,fe.mode,Pe),oe.return=fe,oe):(oe=D(oe,pe),oe.return=fe,oe)}function ee(fe,oe,pe,Pe){var ut=pe.type;return ut===v?Le(fe,oe,pe.props.children,Pe,pe.key):oe!==null&&(oe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&Ad(ut)===oe.type)?(oe=D(oe,pe.props),Sp(oe,pe),oe.return=fe,oe):(oe=mv(pe.type,pe.key,pe.props,null,fe.mode,Pe),Sp(oe,pe),oe.return=fe,oe)}function me(fe,oe,pe,Pe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=Jh(pe,fe.mode,Pe),oe.return=fe,oe):(oe=D(oe,pe.children||[]),oe.return=fe,oe)}function Le(fe,oe,pe,Pe,ut){return oe===null||oe.tag!==7?(oe=gd(pe,fe.mode,Pe,ut),oe.return=fe,oe):(oe=D(oe,pe),oe.return=fe,oe)}function Ne(fe,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=MS(""+oe,fe.mode,pe),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return pe=mv(oe.type,oe.key,oe.props,null,fe.mode,pe),Sp(pe,oe),pe.return=fe,pe;case y:return oe=Jh(oe,fe.mode,pe),oe.return=fe,oe;case B:var Pe=oe._init;return oe=Pe(oe._payload),Ne(fe,oe,pe)}if(re(oe)||K(oe))return oe=gd(oe,fe.mode,pe,null),oe.return=fe,oe;if(typeof oe.then=="function")return Ne(fe,Bv(oe),pe);if(oe.$$typeof===A)return Ne(fe,bv(fe,oe),pe);Dd(fe,oe)}return null}function be(fe,oe,pe,Pe){var ut=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ut!==null?null:j(fe,oe,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case g:return pe.key===ut?ee(fe,oe,pe,Pe):null;case y:return pe.key===ut?me(fe,oe,pe,Pe):null;case B:return ut=pe._init,pe=ut(pe._payload),be(fe,oe,pe,Pe)}if(re(pe)||K(pe))return ut!==null?null:Le(fe,oe,pe,Pe,null);if(typeof pe.then=="function")return be(fe,oe,Bv(pe),Pe);if(pe.$$typeof===A)return be(fe,oe,bv(fe,pe),Pe);Dd(fe,pe)}return null}function ye(fe,oe,pe,Pe,ut){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return fe=fe.get(pe)||null,j(oe,fe,""+Pe,ut);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return fe=fe.get(Pe.key===null?pe:Pe.key)||null,ee(oe,fe,Pe,ut);case y:return fe=fe.get(Pe.key===null?pe:Pe.key)||null,me(oe,fe,Pe,ut);case B:var Jt=Pe._init;return Pe=Jt(Pe._payload),ye(fe,oe,pe,Pe,ut)}if(re(Pe)||K(Pe))return fe=fe.get(pe)||null,Le(oe,fe,Pe,ut,null);if(typeof Pe.then=="function")return ye(fe,oe,pe,Bv(Pe),ut);if(Pe.$$typeof===A)return ye(fe,oe,pe,bv(oe,Pe),ut);Dd(oe,Pe)}return null}function Tt(fe,oe,pe,Pe){for(var ut=null,Jt=null,yt=oe,Et=oe=0,ks=null;yt!==null&&Et<pe.length;Et++){yt.index>Et?(ks=yt,yt=null):ks=yt.sibling;var Sn=be(fe,yt,pe[Et],Pe);if(Sn===null){yt===null&&(yt=ks);break}u&&yt&&Sn.alternate===null&&h(fe,yt),oe=E(Sn,oe,Et),Jt===null?ut=Sn:Jt.sibling=Sn,Jt=Sn,yt=ks}if(Et===pe.length)return p(fe,yt),cn&&pd(fe,Et),ut;if(yt===null){for(;Et<pe.length;Et++)yt=Ne(fe,pe[Et],Pe),yt!==null&&(oe=E(yt,oe,Et),Jt===null?ut=yt:Jt.sibling=yt,Jt=yt);return cn&&pd(fe,Et),ut}for(yt=C(yt);Et<pe.length;Et++)ks=ye(yt,fe,Et,pe[Et],Pe),ks!==null&&(u&&ks.alternate!==null&&yt.delete(ks.key===null?Et:ks.key),oe=E(ks,oe,Et),Jt===null?ut=ks:Jt.sibling=ks,Jt=ks);return u&&yt.forEach(function(ou){return h(fe,ou)}),cn&&pd(fe,Et),ut}function Dt(fe,oe,pe,Pe){if(pe==null)throw Error(i(151));for(var ut=null,Jt=null,yt=oe,Et=oe=0,ks=null,Sn=pe.next();yt!==null&&!Sn.done;Et++,Sn=pe.next()){yt.index>Et?(ks=yt,yt=null):ks=yt.sibling;var ou=be(fe,yt,Sn.value,Pe);if(ou===null){yt===null&&(yt=ks);break}u&&yt&&ou.alternate===null&&h(fe,yt),oe=E(ou,oe,Et),Jt===null?ut=ou:Jt.sibling=ou,Jt=ou,yt=ks}if(Sn.done)return p(fe,yt),cn&&pd(fe,Et),ut;if(yt===null){for(;!Sn.done;Et++,Sn=pe.next())Sn=Ne(fe,Sn.value,Pe),Sn!==null&&(oe=E(Sn,oe,Et),Jt===null?ut=Sn:Jt.sibling=Sn,Jt=Sn);return cn&&pd(fe,Et),ut}for(yt=C(yt);!Sn.done;Et++,Sn=pe.next())Sn=ye(yt,fe,Et,Sn.value,Pe),Sn!==null&&(u&&Sn.alternate!==null&&yt.delete(Sn.key===null?Et:Sn.key),oe=E(Sn,oe,Et),Jt===null?ut=Sn:Jt.sibling=Sn,Jt=Sn);return u&&yt.forEach(function(pP){return h(fe,pP)}),cn&&pd(fe,Et),ut}function Zn(fe,oe,pe,Pe){if(typeof pe=="object"&&pe!==null&&pe.type===v&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case g:e:{for(var ut=pe.key;oe!==null;){if(oe.key===ut){if(ut=pe.type,ut===v){if(oe.tag===7){p(fe,oe.sibling),Pe=D(oe,pe.props.children),Pe.return=fe,fe=Pe;break e}}else if(oe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&Ad(ut)===oe.type){p(fe,oe.sibling),Pe=D(oe,pe.props),Sp(Pe,pe),Pe.return=fe,fe=Pe;break e}p(fe,oe);break}else h(fe,oe);oe=oe.sibling}pe.type===v?(Pe=gd(pe.props.children,fe.mode,Pe,pe.key),Pe.return=fe,fe=Pe):(Pe=mv(pe.type,pe.key,pe.props,null,fe.mode,Pe),Sp(Pe,pe),Pe.return=fe,fe=Pe)}return G(fe);case y:e:{for(ut=pe.key;oe!==null;){if(oe.key===ut)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){p(fe,oe.sibling),Pe=D(oe,pe.children||[]),Pe.return=fe,fe=Pe;break e}else{p(fe,oe);break}else h(fe,oe);oe=oe.sibling}Pe=Jh(pe,fe.mode,Pe),Pe.return=fe,fe=Pe}return G(fe);case B:return ut=pe._init,pe=ut(pe._payload),Zn(fe,oe,pe,Pe)}if(re(pe))return Tt(fe,oe,pe,Pe);if(K(pe)){if(ut=K(pe),typeof ut!="function")throw Error(i(150));return pe=ut.call(pe),Dt(fe,oe,pe,Pe)}if(typeof pe.then=="function")return Zn(fe,oe,Bv(pe),Pe);if(pe.$$typeof===A)return Zn(fe,oe,bv(fe,pe),Pe);Dd(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,oe!==null&&oe.tag===6?(p(fe,oe.sibling),Pe=D(oe,pe),Pe.return=fe,fe=Pe):(p(fe,oe),Pe=MS(pe,fe.mode,Pe),Pe.return=fe,fe=Pe),G(fe)):p(fe,oe)}return function(fe,oe,pe,Pe){try{Hr=0;var ut=Zn(fe,oe,pe,Pe);return fs=null,ut}catch(yt){if(yt===dr||yt===wv)throw yt;var Jt=Nr(29,yt,null,fe.mode);return Jt.lanes=Pe,Jt.return=fe,Jt}finally{}}}var Rd=QS(!0),iR=QS(!1),bo=ie(null),hr=null;function $o(u){var h=u.alternate;J(Ni,Ni.current&1),J(bo,u),hr===null&&(h===null||Cd.current!==null||h.memoizedState!==null)&&(hr=u)}function sR(u){if(u.tag===22){if(J(Ni,Ni.current),J(bo,u),hr===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(hr=u)}}else Gl()}function Gl(){J(Ni,Ni.current),J(bo,bo.current)}function Ya(u){ve(bo),hr===u&&(hr=null),ve(Ni)}var Ni=ie(0);function xp(u){for(var h=u;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||gr(p)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function cf(u,h,p,C){h=u.memoizedState,p=p(C,h),p=p==null?h:d({},h,p),u.memoizedState=p,u.lanes===0&&(u.updateQueue.baseState=p)}var Mp={enqueueSetState:function(u,h,p){u=u._reactInternals;var C=tr(),D=Hc(C);D.payload=h,p!=null&&(D.callback=p),h=Nl(u,D,C),h!==null&&(So(h,u,C),lp(h,u,C))},enqueueReplaceState:function(u,h,p){u=u._reactInternals;var C=tr(),D=Hc(C);D.tag=1,D.payload=h,p!=null&&(D.callback=p),h=Nl(u,D,C),h!==null&&(So(h,u,C),lp(h,u,C))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var p=tr(),C=Hc(p);C.tag=2,h!=null&&(C.callback=h),h=Nl(u,C,p),h!==null&&(So(h,u,p),lp(h,u,p))}};function Dp(u,h,p,C,D,E,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,E,G):h.prototype&&h.prototype.isPureReactComponent?!Wa(p,C)||!Wa(D,E):!0}function rR(u,h,p,C){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,C),h.state!==u&&Mp.enqueueReplaceState(h,h.state,null)}function Uc(u,h){var p=h;if("ref"in h){p={};for(var C in h)C!=="ref"&&(p[C]=h[C])}if(u=u.defaultProps){p===h&&(p=d({},p));for(var D in u)p[D]===void 0&&(p[D]=u[D])}return p}var Td=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function JS(u){Td(u)}function Gv(u){console.error(u)}function oR(u){Td(u)}function Ap(u,h){try{var p=u.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(C){setTimeout(function(){throw C})}}function Ka(u,h,p){try{var C=u.onCaughtError;C(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function zv(u,h,p){return p=Hc(p),p.tag=3,p.payload={element:null},p.callback=function(){Ap(u,h)},p}function ex(u){return u=Hc(u),u.tag=3,u}function aR(u,h,p,C){var D=p.type.getDerivedStateFromError;if(typeof D=="function"){var E=C.value;u.payload=function(){return D(E)},u.callback=function(){Ka(h,p,C)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(u.callback=function(){Ka(h,p,C),typeof D!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var j=C.stack;this.componentDidCatch(C.value,{componentStack:j!==null?j:""})})}function lR(u,h,p,C,D){if(p.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(h=p.alternate,h!==null&&rp(h,p,D,!0),p=bo.current,p!==null){switch(p.tag){case 13:return hr===null?bx():p.alternate===null&&Fi===0&&(Fi=3),p.flags&=-257,p.flags|=65536,p.lanes=D,C===ES?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([C]):h.add(C),Sx(u,C,D)),!1;case 22:return p.flags|=65536,C===ES?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([C])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([C]):p.add(C)),Sx(u,C,D)),!1}throw Error(i(435,p.tag))}return Sx(u,C,D),bx(),!1}if(cn)return h=bo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=D,C!==ef&&(u=Error(i(422),{cause:C}),Gc(cr(u,p)))):(C!==ef&&(h=Error(i(423),{cause:C}),Gc(cr(h,p))),u=u.current.alternate,u.flags|=65536,D&=-D,u.lanes|=D,C=cr(C,p),D=zv(u.stateNode,C,D),ga(u,D),Fi!==4&&(Fi=2)),!1;var E=Error(i(520),{cause:C});if(E=cr(E,p),Fp===null?Fp=[E]:Fp.push(E),Fi!==4&&(Fi=2),h===null)return!0;C=cr(C,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,u=D&-D,p.lanes|=u,u=zv(p.stateNode,C,u),ga(p,u),!1;case 1:if(h=p.type,E=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Xc===null||!Xc.has(E))))return p.flags|=65536,D&=-D,p.lanes|=D,D=ex(D),aR(D,u,p,C),ga(p,D),!1}p=p.return}while(p!==null);return!1}var cR=Error(i(461)),Ts=!1;function gi(u,h,p,C){h.child=u===null?iR(h,null,p,C):Rd(h,u.child,p,C)}function Hv(u,h,p,C,D){p=p.render;var E=h.ref;if("ref"in C){var G={};for(var j in C)j!=="ref"&&(G[j]=C[j])}else G=C;return yd(h),C=PS(u,h,p,G,E,D),j=NS(),u!==null&&!Ts?(Sd(u,h,D),zl(u,h,D)):(cn&&j&&AS(h),h.flags|=1,gi(u,h,C,D),h.child)}function Vv(u,h,p,C,D){if(u===null){var E=p.type;return typeof E=="function"&&!fd(E)&&E.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=E,jv(u,h,E,C,D)):(u=mv(p.type,null,C,h,h.mode,D),u.ref=h.ref,u.return=h,h.child=u)}if(E=u.child,!ya(u,D)){var G=E.memoizedProps;if(p=p.compare,p=p!==null?p:Wa,p(G,C)&&u.ref===h.ref)return zl(u,h,D)}return h.flags|=1,u=ur(E,C),u.ref=h.ref,u.return=h,h.child=u}function jv(u,h,p,C,D){if(u!==null){var E=u.memoizedProps;if(Wa(E,C)&&u.ref===h.ref)if(Ts=!1,h.pendingProps=C=E,ya(u,D))(u.flags&131072)!==0&&(Ts=!0);else return h.lanes=u.lanes,zl(u,h,D)}return uf(u,h,p,C,D)}function Rp(u,h,p){var C=h.pendingProps,D=C.children,E=u!==null?u.memoizedState:null;if(C.mode==="hidden"){if((h.flags&128)!==0){if(C=E!==null?E.baseLanes|p:p,u!==null){for(D=h.child=u.child,E=0;D!==null;)E=E|D.lanes|D.childLanes,D=D.sibling;h.childLanes=E&~C}else h.childLanes=0,h.child=null;return Ed(u,h,C,p)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Cv(h,E!==null?E.cachePool:null),E!==null?Fl(h,E):xv(),sR(h);else return h.lanes=h.childLanes=536870912,Ed(u,h,E!==null?E.baseLanes|p:p,p)}else E!==null?(Cv(h,E.cachePool),Fl(h,E),Gl(),h.memoizedState=null):(u!==null&&Cv(h,null),xv(),Gl());return gi(u,h,D,p),h.child}function Ed(u,h,p,C){var D=Ol();return D=D===null?null:{parent:ii._currentValue,pool:D},h.memoizedState={baseLanes:p,cachePool:D},u!==null&&Cv(h,null),xv(),sR(h),u!==null&&rp(u,h,C,!0),null}function Ct(u,h){var p=h.ref;if(p===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(u===null||u.ref!==p)&&(h.flags|=4194816)}}function uf(u,h,p,C,D){return yd(h),p=PS(u,h,p,C,void 0,D),C=NS(),u!==null&&!Ts?(Sd(u,h,D),zl(u,h,D)):(cn&&C&&AS(h),h.flags|=1,gi(u,h,p,D),h.child)}function Wv(u,h,p,C,D,E){return yd(h),h.updateQueue=null,p=WA(h,C,p,D),jA(u),C=NS(),u!==null&&!Ts?(Sd(u,h,E),zl(u,h,E)):(cn&&C&&AS(h),h.flags|=1,gi(u,h,p,E),h.child)}function $c(u,h,p,C,D){if(yd(h),h.stateNode===null){var E=hd,G=p.contextType;typeof G=="object"&&G!==null&&(E=Oi(G)),E=new p(C,E),h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Mp,h.stateNode=E,E._reactInternals=h,E=h.stateNode,E.props=C,E.state=h.memoizedState,E.refs={},bd(h),G=p.contextType,E.context=typeof G=="object"&&G!==null?Oi(G):hd,E.state=h.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(cf(h,p,G,C),E.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(G=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),G!==E.state&&Mp.enqueueReplaceState(E,E.state,null),Qs(h,C,E,D),pa(),E.state=h.memoizedState),typeof E.componentDidMount=="function"&&(h.flags|=4194308),C=!0}else if(u===null){E=h.stateNode;var j=h.memoizedProps,ee=Uc(p,j);E.props=ee;var me=E.context,Le=p.contextType;G=hd,typeof Le=="object"&&Le!==null&&(G=Oi(Le));var Ne=p.getDerivedStateFromProps;Le=typeof Ne=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=h.pendingProps!==j,Le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||me!==G)&&rR(h,E,C,G),Ua=!1;var be=h.memoizedState;E.state=be,Qs(h,C,E,D),pa(),me=h.memoizedState,j||be!==me||Ua?(typeof Ne=="function"&&(cf(h,p,Ne,C),me=h.memoizedState),(ee=Ua||Dp(h,p,ee,C,be,me,G))?(Le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(h.flags|=4194308)):(typeof E.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=me),E.props=C,E.state=me,E.context=G,C=ee):(typeof E.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{E=h.stateNode,sf(u,h),G=h.memoizedProps,Le=Uc(p,G),E.props=Le,Ne=h.pendingProps,be=E.context,me=p.contextType,ee=hd,typeof me=="object"&&me!==null&&(ee=Oi(me)),j=p.getDerivedStateFromProps,(me=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(G!==Ne||be!==ee)&&rR(h,E,C,ee),Ua=!1,be=h.memoizedState,E.state=be,Qs(h,C,E,D),pa();var ye=h.memoizedState;G!==Ne||be!==ye||Ua||u!==null&&u.dependencies!==null&&vv(u.dependencies)?(typeof j=="function"&&(cf(h,p,j,C),ye=h.memoizedState),(Le=Ua||Dp(h,p,Le,C,be,ye,ee)||u!==null&&u.dependencies!==null&&vv(u.dependencies))?(me||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(C,ye,ee),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(C,ye,ee)),typeof E.componentDidUpdate=="function"&&(h.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof E.componentDidUpdate!="function"||G===u.memoizedProps&&be===u.memoizedState||(h.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&be===u.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=ye),E.props=C,E.state=ye,E.context=ee,C=Le):(typeof E.componentDidUpdate!="function"||G===u.memoizedProps&&be===u.memoizedState||(h.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&be===u.memoizedState||(h.flags|=1024),C=!1)}return E=C,Ct(u,h),C=(h.flags&128)!==0,E||C?(E=h.stateNode,p=C&&typeof p.getDerivedStateFromError!="function"?null:E.render(),h.flags|=1,u!==null&&C?(h.child=Rd(h,u.child,null,D),h.child=Rd(h,null,p,D)):gi(u,h,p,D),h.memoizedState=E.state,u=h.child):u=zl(u,h,D),u}function uR(u,h,p,C){return sp(),h.flags|=256,gi(u,h,p,C),h.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uv(u){return{baseLanes:u,cachePool:FA()}}function Es(u,h,p){return u=u!==null?u.childLanes&~p:0,h&&(u|=Ko),u}function dR(u,h,p){var C=h.pendingProps,D=!1,E=(h.flags&128)!==0,G;if((G=E)||(G=u!==null&&u.memoizedState===null?!1:(Ni.current&2)!==0),G&&(D=!0,h.flags&=-129),G=(h.flags&32)!==0,h.flags&=-33,u===null){if(cn){if(D?$o(h):Gl(),cn){var j=Si,ee;if(ee=j){e:{for(ee=j,j=Fr;ee.nodeType!==8;){if(!j){j=null;break e}if(ee=ba(ee.nextSibling),ee===null){j=null;break e}}j=ee}j!==null?(h.memoizedState={dehydrated:j,treeContext:fi!==null?{id:wi,overflow:Pl}:null,retryLane:536870912,hydrationErrors:null},ee=Nr(18,null,null,0),ee.stateNode=j,ee.return=h,h.child=ee,hs=h,Si=null,ee=!0):ee=!1}ee||jo(h)}if(j=h.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return gr(j)?h.lanes=32:h.lanes=536870912,null;Ya(h)}return j=C.children,C=C.fallback,D?(Gl(),D=h.mode,j=Ep({mode:"hidden",children:j},D),C=gd(C,D,p,null),j.return=h,C.return=h,j.sibling=C,h.child=j,D=h.child,D.memoizedState=Uv(p),D.childLanes=Es(u,G,p),h.memoizedState=Tp,C):($o(h),tx(h,j))}if(ee=u.memoizedState,ee!==null&&(j=ee.dehydrated,j!==null)){if(E)h.flags&256?($o(h),h.flags&=-257,h=nx(u,h,p)):h.memoizedState!==null?(Gl(),h.child=u.child,h.flags|=128,h=null):(Gl(),D=C.fallback,j=h.mode,C=Ep({mode:"visible",children:C.children},j),D=gd(D,j,p,null),D.flags|=2,C.return=h,D.return=h,C.sibling=D,h.child=C,Rd(h,u.child,null,p),C=h.child,C.memoizedState=Uv(p),C.childLanes=Es(u,G,p),h.memoizedState=Tp,h=D);else if($o(h),gr(j)){if(G=j.nextSibling&&j.nextSibling.dataset,G)var me=G.dgst;G=me,C=Error(i(419)),C.stack="",C.digest=G,Gc({value:C,source:null,stack:null}),h=nx(u,h,p)}else if(Ts||rp(u,h,p,!1),G=(p&u.childLanes)!==0,Ts||G){if(G=hi,G!==null&&(C=p&-p,C=(C&42)!==0?1:Lr(C),C=(C&(G.suspendedLanes|p))!==0?0:C,C!==0&&C!==ee.retryLane))throw ee.retryLane=C,dd(u,C),So(G,u,C),cR;j.data==="$?"||bx(),h=nx(u,h,p)}else j.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=ee.treeContext,Si=ba(j.nextSibling),hs=h,cn=!0,fa=null,Fr=!1,u!==null&&(Ho[Vo++]=wi,Ho[Vo++]=Pl,Ho[Vo++]=fi,wi=u.id,Pl=u.overflow,fi=h),h=tx(h,C.children),h.flags|=4096);return h}return D?(Gl(),D=C.fallback,j=h.mode,ee=u.child,me=ee.sibling,C=ur(ee,{mode:"hidden",children:C.children}),C.subtreeFlags=ee.subtreeFlags&65011712,me!==null?D=ur(me,D):(D=gd(D,j,p,null),D.flags|=2),D.return=h,C.return=h,C.sibling=D,h.child=C,C=D,D=h.child,j=u.child.memoizedState,j===null?j=Uv(p):(ee=j.cachePool,ee!==null?(me=ii._currentValue,ee=ee.parent!==me?{parent:me,pool:me}:ee):ee=FA(),j={baseLanes:j.baseLanes|p,cachePool:ee}),D.memoizedState=j,D.childLanes=Es(u,G,p),h.memoizedState=Tp,C):($o(h),p=u.child,u=p.sibling,p=ur(p,{mode:"visible",children:C.children}),p.return=h,p.sibling=null,u!==null&&(G=h.deletions,G===null?(h.deletions=[u],h.flags|=16):G.push(u)),h.child=p,h.memoizedState=null,p)}function tx(u,h){return h=Ep({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function Ep(u,h){return u=Nr(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function nx(u,h,p){return Rd(h,u.child,null,p),u=tx(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function ix(u,h,p){u.lanes|=h;var C=u.alternate;C!==null&&(C.lanes|=h),_r(u.return,h,p)}function sx(u,h,p,C,D){var E=u.memoizedState;E===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:p,tailMode:D}:(E.isBackwards=h,E.rendering=null,E.renderingStartTime=0,E.last=C,E.tail=p,E.tailMode=D)}function hR(u,h,p){var C=h.pendingProps,D=C.revealOrder,E=C.tail;if(gi(u,h,C.children,p),C=Ni.current,(C&2)!==0)C=C&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ix(u,p,h);else if(u.tag===19)ix(u,p,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}switch(J(Ni,C),D){case"forwards":for(p=h.child,D=null;p!==null;)u=p.alternate,u!==null&&xp(u)===null&&(D=p),p=p.sibling;p=D,p===null?(D=h.child,h.child=null):(D=p.sibling,p.sibling=null),sx(h,!1,D,p,E);break;case"backwards":for(p=null,D=h.child,h.child=null;D!==null;){if(u=D.alternate,u!==null&&xp(u)===null){h.child=D;break}u=D.sibling,D.sibling=p,p=D,D=u}sx(h,!0,p,null,E);break;case"together":sx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function zl(u,h,p){if(u!==null&&(h.dependencies=u.dependencies),Zc|=h.lanes,(p&h.childLanes)===0)if(u!==null){if(rp(u,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(i(153));if(h.child!==null){for(u=h.child,p=ur(u,u.pendingProps),h.child=p,p.return=h;u.sibling!==null;)u=u.sibling,p=p.sibling=ur(u,u.pendingProps),p.return=h;p.sibling=null}return h.child}function ya(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&vv(u)))}function fr(u,h,p){switch(h.tag){case 3:Ce(h,h.stateNode.containerInfo),yo(h,ii,u.memoizedState.cache),sp();break;case 27:case 5:Ye(h);break;case 4:Ce(h,h.stateNode.containerInfo);break;case 10:yo(h,h.type,h.memoizedProps.value);break;case 13:var C=h.memoizedState;if(C!==null)return C.dehydrated!==null?($o(h),h.flags|=128,null):(p&h.child.childLanes)!==0?dR(u,h,p):($o(h),u=zl(u,h,p),u!==null?u.sibling:null);$o(h);break;case 19:var D=(u.flags&128)!==0;if(C=(p&h.childLanes)!==0,C||(rp(u,h,p,!1),C=(p&h.childLanes)!==0),D){if(C)return hR(u,h,p);h.flags|=128}if(D=h.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),J(Ni,Ni.current),C)break;return null;case 22:case 23:return h.lanes=0,Rp(u,h,p);case 24:yo(h,ii,u.memoizedState.cache)}return zl(u,h,p)}function $v(u,h,p){if(u!==null)if(u.memoizedProps!==h.pendingProps)Ts=!0;else{if(!ya(u,p)&&(h.flags&128)===0)return Ts=!1,fr(u,h,p);Ts=(u.flags&131072)!==0}else Ts=!1,cn&&(h.flags&1048576)!==0&&DS(h,tp,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var C=h.elementType,D=C._init;if(C=D(C._payload),h.type=C,typeof C=="function")fd(C)?(u=Uc(C,u),h.tag=1,h=$c(null,h,C,u,p)):(h.tag=0,h=uf(null,h,C,u,p));else{if(C!=null){if(D=C.$$typeof,D===k){h.tag=11,h=Hv(null,h,C,u,p);break e}else if(D===N){h.tag=14,h=Vv(null,h,C,u,p);break e}}throw h=te(C)||C,Error(i(306,h,""))}}return h;case 0:return uf(u,h,h.type,h.pendingProps,p);case 1:return C=h.type,D=Uc(C,h.pendingProps),$c(u,h,C,D,p);case 3:e:{if(Ce(h,h.stateNode.containerInfo),u===null)throw Error(i(387));C=h.pendingProps;var E=h.memoizedState;D=E.element,sf(u,h),Qs(h,C,null,p);var G=h.memoizedState;if(C=G.cache,yo(h,ii,C),C!==E.cache&&Qt(h,[ii],p,!0),pa(),C=G.element,E.isDehydrated)if(E={element:C,isDehydrated:!1,cache:G.cache},h.updateQueue.baseState=E,h.memoizedState=E,h.flags&256){h=uR(u,h,C,p);break e}else if(C!==D){D=cr(Error(i(424)),h),Gc(D),h=uR(u,h,C,p);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Si=ba(u.firstChild),hs=h,cn=!0,fa=null,Fr=!0,p=iR(h,null,C,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(sp(),C===D){h=zl(u,h,p);break e}gi(u,h,C,p)}h=h.child}return h;case 26:return Ct(u,h),u===null?(p=lT(h.type,null,h.pendingProps,null))?h.memoizedState=p:cn||(p=h.type,u=h.pendingProps,C=Ld(we.current).createElement(p),C[Pi]=h,C[As]=u,ms(C,p,u),Rs(C),h.stateNode=C):h.memoizedState=lT(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return Ye(h),u===null&&cn&&(C=h.stateNode=rT(h.type,h.pendingProps,we.current),hs=h,Fr=!0,D=Si,qo(h.type)?(kx=D,Si=ba(C.firstChild)):Si=D),gi(u,h,h.pendingProps.children,p),Ct(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&cn&&((D=C=Si)&&(C=iT(C,h.type,h.pendingProps,Fr),C!==null?(h.stateNode=C,hs=h,Si=ba(C.firstChild),Fr=!1,D=!0):D=!1),D||jo(h)),Ye(h),D=h.type,E=h.pendingProps,G=u!==null?u.memoizedProps:null,C=E.children,cb(D,E)?C=null:G!==null&&cb(D,G)&&(h.flags|=32),h.memoizedState!==null&&(D=PS(u,h,OS,null,null,p),Ef._currentValue=D),Ct(u,h),gi(u,h,C,p),h.child;case 6:return u===null&&cn&&((u=p=Si)&&(p=db(p,h.pendingProps,Fr),p!==null?(h.stateNode=p,hs=h,Si=null,u=!0):u=!1),u||jo(h)),null;case 13:return dR(u,h,p);case 4:return Ce(h,h.stateNode.containerInfo),C=h.pendingProps,u===null?h.child=Rd(h,null,C,p):gi(u,h,C,p),h.child;case 11:return Hv(u,h,h.type,h.pendingProps,p);case 7:return gi(u,h,h.pendingProps,p),h.child;case 8:return gi(u,h,h.pendingProps.children,p),h.child;case 12:return gi(u,h,h.pendingProps.children,p),h.child;case 10:return C=h.pendingProps,yo(h,h.type,C.value),gi(u,h,C.children,p),h.child;case 9:return D=h.type._context,C=h.pendingProps.children,yd(h),D=Oi(D),C=C(D),h.flags|=1,gi(u,h,C,p),h.child;case 14:return Vv(u,h,h.type,h.pendingProps,p);case 15:return jv(u,h,h.type,h.pendingProps,p);case 19:return hR(u,h,p);case 31:return C=h.pendingProps,p=h.mode,C={mode:C.mode,children:C.children},u===null?(p=Ep(C,p),p.ref=h.ref,h.child=p,p.return=h,h=p):(p=ur(u.child,C),p.ref=h.ref,h.child=p,p.return=h,h=p),h;case 22:return Rp(u,h,p);case 24:return yd(h),C=Oi(ii),u===null?(D=Ol(),D===null&&(D=hi,E=RS(),D.pooledCache=E,E.refCount++,E!==null&&(D.pooledCacheLanes|=p),D=E),h.memoizedState={parent:C,cache:D},bd(h),yo(h,ii,D)):((u.lanes&p)!==0&&(sf(u,h),Qs(h,null,null,p),pa()),D=u.memoizedState,E=h.memoizedState,D.parent!==C?(D={parent:C,cache:C},h.memoizedState=D,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=D),yo(h,ii,C)):(C=E.cache,yo(h,ii,C),C!==D.cache&&Qt(h,[ii],p,!0))),gi(u,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function Hl(u){u.flags|=4}function Yv(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!ys(h)){if(h=bo.current,h!==null&&((yn&4194048)===yn?hr!==null:(yn&62914560)!==yn&&(yn&536870912)===0||h!==hr))throw nf=ES,_A;u.flags|=8192}}function Kv(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?ni():536870912,u.lanes|=h,yf|=h)}function Ip(u,h){if(!cn)switch(u.tailMode){case"hidden":h=u.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?u.tail=null:p.sibling=null;break;case"collapsed":p=u.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function si(u){var h=u.alternate!==null&&u.alternate.child===u.child,p=0,C=0;if(h)for(var D=u.child;D!==null;)p|=D.lanes|D.childLanes,C|=D.subtreeFlags&65011712,C|=D.flags&65011712,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)p|=D.lanes|D.childLanes,C|=D.subtreeFlags,C|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=C,u.childLanes=p,h}function fR(u,h,p){var C=h.pendingProps;switch(np(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(h),null;case 1:return si(h),null;case 3:return p=h.stateNode,C=null,u!==null&&(C=u.memoizedState.cache),h.memoizedState.cache!==C&&(h.flags|=2048),Wo(ii),je(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(u===null||u.child===null)&&(ip(h)?Hl(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,LA())),si(h),null;case 26:return p=h.memoizedState,u===null?(Hl(h),p!==null?(si(h),Yv(h,p)):(si(h),h.flags&=-16777217)):p?p!==u.memoizedState?(Hl(h),si(h),Yv(h,p)):(si(h),h.flags&=-16777217):(u.memoizedProps!==C&&Hl(h),si(h),h.flags&=-16777217),null;case 27:Ge(h),p=we.current;var D=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==C&&Hl(h);else{if(!C){if(h.stateNode===null)throw Error(i(166));return si(h),null}u=he.current,ip(h)?IA(h):(u=rT(D,C,p),h.stateNode=u,Hl(h))}return si(h),null;case 5:if(Ge(h),p=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==C&&Hl(h);else{if(!C){if(h.stateNode===null)throw Error(i(166));return si(h),null}if(u=he.current,ip(h))IA(h);else{switch(D=Ld(we.current),u){case 1:u=D.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:u=D.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":u=D.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":u=D.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":u=D.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof C.is=="string"?D.createElement("select",{is:C.is}):D.createElement("select"),C.multiple?u.multiple=!0:C.size&&(u.size=C.size);break;default:u=typeof C.is=="string"?D.createElement(p,{is:C.is}):D.createElement(p)}}u[Pi]=h,u[As]=C;e:for(D=h.child;D!==null;){if(D.tag===5||D.tag===6)u.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===h)break e;for(;D.sibling===null;){if(D.return===null||D.return===h)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}h.stateNode=u;e:switch(ms(u,p,C),p){case"button":case"input":case"select":case"textarea":u=!!C.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Hl(h)}}return si(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==C&&Hl(h);else{if(typeof C!="string"&&h.stateNode===null)throw Error(i(166));if(u=we.current,ip(h)){if(u=h.stateNode,p=h.memoizedProps,C=null,D=hs,D!==null)switch(D.tag){case 27:case 5:C=D.memoizedProps}u[Pi]=h,u=!!(u.nodeValue===p||C!==null&&C.suppressHydrationWarning===!0||JR(u.nodeValue,p)),u||jo(h)}else u=Ld(u).createTextNode(C),u[Pi]=h,h.stateNode=u}return si(h),null;case 13:if(C=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(D=ip(h),C!==null&&C.dehydrated!==null){if(u===null){if(!D)throw Error(i(318));if(D=h.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(i(317));D[Pi]=h}else sp(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;si(h),D=!1}else D=LA(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=D),D=!0;if(!D)return h.flags&256?(Ya(h),h):(Ya(h),null)}if(Ya(h),(h.flags&128)!==0)return h.lanes=p,h;if(p=C!==null,u=u!==null&&u.memoizedState!==null,p){C=h.child,D=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(D=C.alternate.memoizedState.cachePool.pool);var E=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(E=C.memoizedState.cachePool.pool),E!==D&&(C.flags|=2048)}return p!==u&&p&&(h.child.flags|=8192),Kv(h,h.updateQueue),si(h),null;case 4:return je(),u===null&&Rx(h.stateNode.containerInfo),si(h),null;case 10:return Wo(h.type),si(h),null;case 19:if(ve(Ni),D=h.memoizedState,D===null)return si(h),null;if(C=(h.flags&128)!==0,E=D.rendering,E===null)if(C)Ip(D,!1);else{if(Fi!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(E=xp(u),E!==null){for(h.flags|=128,Ip(D,!1),u=E.updateQueue,h.updateQueue=u,Kv(h,u),h.subtreeFlags=0,u=p,p=h.child;p!==null;)ep(p,u),p=p.sibling;return J(Ni,Ni.current&1|2),h.child}u=u.sibling}D.tail!==null&&st()>vf&&(h.flags|=128,C=!0,Ip(D,!1),h.lanes=4194304)}else{if(!C)if(u=xp(E),u!==null){if(h.flags|=128,C=!0,u=u.updateQueue,h.updateQueue=u,Kv(h,u),Ip(D,!0),D.tail===null&&D.tailMode==="hidden"&&!E.alternate&&!cn)return si(h),null}else 2*st()-D.renderingStartTime>vf&&p!==536870912&&(h.flags|=128,C=!0,Ip(D,!1),h.lanes=4194304);D.isBackwards?(E.sibling=h.child,h.child=E):(u=D.last,u!==null?u.sibling=E:h.child=E,D.last=E)}return D.tail!==null?(h=D.tail,D.rendering=h,D.tail=h.sibling,D.renderingStartTime=st(),h.sibling=null,u=Ni.current,J(Ni,C?u&1|2:u&1),h):(si(h),null);case 22:case 23:return Ya(h),LS(),C=h.memoizedState!==null,u!==null?u.memoizedState!==null!==C&&(h.flags|=8192):C&&(h.flags|=8192),C?(p&536870912)!==0&&(h.flags&128)===0&&(si(h),h.subtreeFlags&6&&(h.flags|=8192)):si(h),p=h.updateQueue,p!==null&&Kv(h,p.retryQueue),p=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),C=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),C!==p&&(h.flags|=2048),u!==null&&ve(vd),null;case 24:return p=null,u!==null&&(p=u.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),Wo(ii),si(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function gR(u,h){switch(np(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Wo(ii),je(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Ge(h),null;case 13:if(Ya(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(i(340));sp()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return ve(Ni),null;case 4:return je(),null;case 10:return Wo(h.type),null;case 22:case 23:return Ya(h),LS(),u!==null&&ve(vd),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return Wo(ii),null;case 25:return null;default:return null}}function pR(u,h){switch(np(h),h.tag){case 3:Wo(ii),je();break;case 26:case 27:case 5:Ge(h);break;case 4:je();break;case 13:Ya(h);break;case 19:ve(Ni);break;case 10:Wo(h.type);break;case 22:case 23:Ya(h),LS(),u!==null&&ve(vd);break;case 24:Wo(ii)}}function kp(u,h){try{var p=h.updateQueue,C=p!==null?p.lastEffect:null;if(C!==null){var D=C.next;p=D;do{if((p.tag&u)===u){C=void 0;var E=p.create,G=p.inst;C=E(),G.destroy=C}p=p.next}while(p!==D)}}catch(j){ri(h,h.return,j)}}function Yc(u,h,p){try{var C=h.updateQueue,D=C!==null?C.lastEffect:null;if(D!==null){var E=D.next;C=E;do{if((C.tag&u)===u){var G=C.inst,j=G.destroy;if(j!==void 0){G.destroy=void 0,D=h;var ee=p,me=j;try{me()}catch(Le){ri(D,ee,Le)}}}C=C.next}while(C!==E)}}catch(Le){ri(h,h.return,Le)}}function mR(u){var h=u.updateQueue;if(h!==null){var p=u.stateNode;try{kS(h,p)}catch(C){ri(u,u.return,C)}}}function rx(u,h,p){p.props=Uc(u.type,u.memoizedProps),p.state=u.memoizedState;try{p.componentWillUnmount()}catch(C){ri(u,h,C)}}function df(u,h){try{var p=u.ref;if(p!==null){switch(u.tag){case 26:case 27:case 5:var C=u.stateNode;break;case 30:C=u.stateNode;break;default:C=u.stateNode}typeof p=="function"?u.refCleanup=p(C):p.current=C}}catch(D){ri(u,h,D)}}function qa(u,h){var p=u.ref,C=u.refCleanup;if(p!==null)if(typeof C=="function")try{C()}catch(D){ri(u,h,D)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(D){ri(u,h,D)}else p.current=null}function qv(u){var h=u.type,p=u.memoizedProps,C=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&C.focus();break e;case"img":p.src?C.src=p.src:p.srcSet&&(C.srcset=p.srcSet)}}catch(D){ri(u,u.return,D)}}function Zv(u,h,p){try{var C=u.stateNode;KL(C,u.type,p,h),C[As]=h}catch(D){ri(u,u.return,D)}}function hf(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&qo(u.type)||u.tag===4}function Lp(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||hf(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&qo(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Xv(u,h,p){var C=u.tag;if(C===5||C===6)u=u.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(u,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(u),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=ab));else if(C!==4&&(C===27&&qo(u.type)&&(p=u.stateNode,h=null),u=u.child,u!==null))for(Xv(u,h,p),u=u.sibling;u!==null;)Xv(u,h,p),u=u.sibling}function Pp(u,h,p){var C=u.tag;if(C===5||C===6)u=u.stateNode,h?p.insertBefore(u,h):p.appendChild(u);else if(C!==4&&(C===27&&qo(u.type)&&(p=u.stateNode),u=u.child,u!==null))for(Pp(u,h,p),u=u.sibling;u!==null;)Pp(u,h,p),u=u.sibling}function Op(u){var h=u.stateNode,p=u.memoizedProps;try{for(var C=u.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);ms(h,C,p),h[Pi]=u,h[As]=p}catch(E){ri(u,u.return,E)}}var Za=!1,Fn=!1,Vl=!1,yR=typeof WeakSet=="function"?WeakSet:Set,gs=null;function OL(u,h){if(u=u.containerInfo,va=pb,u=TA(u),wS(u)){if("selectionStart"in u)var p={start:u.selectionStart,end:u.selectionEnd};else e:{p=(p=u.ownerDocument)&&p.defaultView||window;var C=p.getSelection&&p.getSelection();if(C&&C.rangeCount!==0){p=C.anchorNode;var D=C.anchorOffset,E=C.focusNode;C=C.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var G=0,j=-1,ee=-1,me=0,Le=0,Ne=u,be=null;t:for(;;){for(var ye;Ne!==p||D!==0&&Ne.nodeType!==3||(j=G+D),Ne!==E||C!==0&&Ne.nodeType!==3||(ee=G+C),Ne.nodeType===3&&(G+=Ne.nodeValue.length),(ye=Ne.firstChild)!==null;)be=Ne,Ne=ye;for(;;){if(Ne===u)break t;if(be===p&&++me===D&&(j=G),be===E&&++Le===C&&(ee=G),(ye=Ne.nextSibling)!==null)break;Ne=be,be=Ne.parentNode}Ne=ye}p=j===-1||ee===-1?null:{start:j,end:ee}}else p=null}p=p||{start:0,end:0}}else p=null;for(lb={focusedElem:u,selectionRange:p},pb=!1,gs=h;gs!==null;)if(h=gs,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,gs=u;else for(;gs!==null;){switch(h=gs,E=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&E!==null){u=void 0,p=h,D=E.memoizedProps,E=E.memoizedState,C=p.stateNode;try{var Tt=Uc(p.type,D,p.elementType===p.type);u=C.getSnapshotBeforeUpdate(Tt,E),C.__reactInternalSnapshotBeforeUpdate=u}catch(Dt){ri(p,p.return,Dt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,p=u.nodeType,p===9)Ix(u);else if(p===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Ix(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=h.sibling,u!==null){u.return=h.return,gs=u;break}gs=h.return}}function vR(u,h,p){var C=p.flags;switch(p.tag){case 0:case 11:case 15:Kc(u,p),C&4&&kp(5,p);break;case 1:if(Kc(u,p),C&4)if(u=p.stateNode,h===null)try{u.componentDidMount()}catch(G){ri(p,p.return,G)}else{var D=Uc(p.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(D,h,u.__reactInternalSnapshotBeforeUpdate)}catch(G){ri(p,p.return,G)}}C&64&&mR(p),C&512&&df(p,p.return);break;case 3:if(Kc(u,p),C&64&&(u=p.updateQueue,u!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{kS(u,h)}catch(G){ri(p,p.return,G)}}break;case 27:h===null&&C&4&&Op(p);case 26:case 5:Kc(u,p),h===null&&C&4&&qv(p),C&512&&df(p,p.return);break;case 12:Kc(u,p);break;case 13:Kc(u,p),C&4&&wR(u,p),C&64&&(u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(p=nb.bind(null,p),Mf(u,p))));break;case 22:if(C=p.memoizedState!==null||Za,!C){h=h!==null&&h.memoizedState!==null||Fn,D=Za;var E=Fn;Za=C,(Fn=h)&&!E?Wl(u,p,(p.subtreeFlags&8772)!==0):Kc(u,p),Za=D,Fn=E}break;case 30:break;default:Kc(u,p)}}function bR(u){var h=u.alternate;h!==null&&(u.alternate=null,bR(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&qw(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var xi=null,Vr=!1;function jl(u,h,p){for(p=p.child;p!==null;)CR(u,h,p),p=p.sibling}function CR(u,h,p){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(us,p)}catch{}switch(p.tag){case 26:Fn||qa(p,h),jl(u,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Fn||qa(p,h);var C=xi,D=Vr;qo(p.type)&&(xi=p.stateNode,Vr=!1),jl(u,h,p),Up(p.stateNode),xi=C,Vr=D;break;case 5:Fn||qa(p,h);case 6:if(C=xi,D=Vr,xi=null,jl(u,h,p),xi=C,Vr=D,xi!==null)if(Vr)try{(xi.nodeType===9?xi.body:xi.nodeName==="HTML"?xi.ownerDocument.body:xi).removeChild(p.stateNode)}catch(E){ri(p,h,E)}else try{xi.removeChild(p.stateNode)}catch(E){ri(p,h,E)}break;case 18:xi!==null&&(Vr?(u=xi,ub(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,p.stateNode),Jp(u)):ub(xi,p.stateNode));break;case 4:C=xi,D=Vr,xi=p.stateNode.containerInfo,Vr=!0,jl(u,h,p),xi=C,Vr=D;break;case 0:case 11:case 14:case 15:Fn||Yc(2,p,h),Fn||Yc(4,p,h),jl(u,h,p);break;case 1:Fn||(qa(p,h),C=p.stateNode,typeof C.componentWillUnmount=="function"&&rx(p,h,C)),jl(u,h,p);break;case 21:jl(u,h,p);break;case 22:Fn=(C=Fn)||p.memoizedState!==null,jl(u,h,p),Fn=C;break;default:jl(u,h,p)}}function wR(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Jp(u)}catch(p){ri(h,h.return,p)}}function NL(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new yR),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new yR),h;default:throw Error(i(435,u.tag))}}function ox(u,h){var p=NL(u);h.forEach(function(C){var D=HL.bind(null,u,C);p.has(C)||(p.add(C),C.then(D,D))})}function Co(u,h){var p=h.deletions;if(p!==null)for(var C=0;C<p.length;C++){var D=p[C],E=u,G=h,j=G;e:for(;j!==null;){switch(j.tag){case 27:if(qo(j.type)){xi=j.stateNode,Vr=!1;break e}break;case 5:xi=j.stateNode,Vr=!1;break e;case 3:case 4:xi=j.stateNode.containerInfo,Vr=!0;break e}j=j.return}if(xi===null)throw Error(i(160));CR(E,G,D),xi=null,Vr=!1,E=D.alternate,E!==null&&(E.return=null),D.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)ax(h,u),h=h.sibling}var Yo=null;function ax(u,h){var p=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Co(h,u),jr(u),C&4&&(Yc(3,u,u.return),kp(3,u),Yc(5,u,u.return));break;case 1:Co(h,u),jr(u),C&512&&(Fn||p===null||qa(p,p.return)),C&64&&Za&&(u=u.updateQueue,u!==null&&(C=u.callbacks,C!==null&&(p=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=p===null?C:p.concat(C))));break;case 26:var D=Yo;if(Co(h,u),jr(u),C&512&&(Fn||p===null||qa(p,p.return)),C&4){var E=p!==null?p.memoizedState:null;if(C=u.memoizedState,p===null)if(C===null)if(u.stateNode===null){e:{C=u.type,p=u.memoizedProps,D=D.ownerDocument||D;t:switch(C){case"title":E=D.getElementsByTagName("title")[0],(!E||E[Vg]||E[Pi]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=D.createElement(C),D.head.insertBefore(E,D.querySelector("head > title"))),ms(E,C,p),E[Pi]=u,Rs(E),C=E;break e;case"link":var G=dT("link","href",D).get(C+(p.href||""));if(G){for(var j=0;j<G.length;j++)if(E=G[j],E.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&E.getAttribute("rel")===(p.rel==null?null:p.rel)&&E.getAttribute("title")===(p.title==null?null:p.title)&&E.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(j,1);break t}}E=D.createElement(C),ms(E,C,p),D.head.appendChild(E);break;case"meta":if(G=dT("meta","content",D).get(C+(p.content||""))){for(j=0;j<G.length;j++)if(E=G[j],E.getAttribute("content")===(p.content==null?null:""+p.content)&&E.getAttribute("name")===(p.name==null?null:p.name)&&E.getAttribute("property")===(p.property==null?null:p.property)&&E.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&E.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(j,1);break t}}E=D.createElement(C),ms(E,C,p),D.head.appendChild(E);break;default:throw Error(i(468,C))}E[Pi]=u,Rs(E),C=E}u.stateNode=C}else hT(D,u.type,u.stateNode);else u.stateNode=uT(D,C,u.memoizedProps);else E!==C?(E===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):E.count--,C===null?hT(D,u.type,u.stateNode):uT(D,C,u.memoizedProps)):C===null&&u.stateNode!==null&&Zv(u,u.memoizedProps,p.memoizedProps)}break;case 27:Co(h,u),jr(u),C&512&&(Fn||p===null||qa(p,p.return)),p!==null&&C&4&&Zv(u,u.memoizedProps,p.memoizedProps);break;case 5:if(Co(h,u),jr(u),C&512&&(Fn||p===null||qa(p,p.return)),u.flags&32){D=u.stateNode;try{kc(D,"")}catch(ye){ri(u,u.return,ye)}}C&4&&u.stateNode!=null&&(D=u.memoizedProps,Zv(u,D,p!==null?p.memoizedProps:D)),C&1024&&(Vl=!0);break;case 6:if(Co(h,u),jr(u),C&4){if(u.stateNode===null)throw Error(i(162));C=u.memoizedProps,p=u.stateNode;try{p.nodeValue=C}catch(ye){ri(u,u.return,ye)}}break;case 3:if(Tf=null,D=Yo,Yo=Wt(h.containerInfo),Co(h,u),Yo=D,jr(u),C&4&&p!==null&&p.memoizedState.isDehydrated)try{Jp(h.containerInfo)}catch(ye){ri(u,u.return,ye)}Vl&&(Vl=!1,SR(u));break;case 4:C=Yo,Yo=Wt(u.stateNode.containerInfo),Co(h,u),jr(u),Yo=C;break;case 12:Co(h,u),jr(u);break;case 13:Co(h,u),jr(u),u.child.flags&8192&&u.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(gx=st()),C&4&&(C=u.updateQueue,C!==null&&(u.updateQueue=null,ox(u,C)));break;case 22:D=u.memoizedState!==null;var ee=p!==null&&p.memoizedState!==null,me=Za,Le=Fn;if(Za=me||D,Fn=Le||ee,Co(h,u),Fn=Le,Za=me,jr(u),C&8192)e:for(h=u.stateNode,h._visibility=D?h._visibility&-2:h._visibility|1,D&&(p===null||ee||Za||Fn||Id(u)),p=null,h=u;;){if(h.tag===5||h.tag===26){if(p===null){ee=p=h;try{if(E=ee.stateNode,D)G=E.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{j=ee.stateNode;var Ne=ee.memoizedProps.style,be=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;j.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ye){ri(ee,ee.return,ye)}}}else if(h.tag===6){if(p===null){ee=h;try{ee.stateNode.nodeValue=D?"":ee.memoizedProps}catch(ye){ri(ee,ee.return,ye)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}C&4&&(C=u.updateQueue,C!==null&&(p=C.retryQueue,p!==null&&(C.retryQueue=null,ox(u,p))));break;case 19:Co(h,u),jr(u),C&4&&(C=u.updateQueue,C!==null&&(u.updateQueue=null,ox(u,C)));break;case 30:break;case 21:break;default:Co(h,u),jr(u)}}function jr(u){var h=u.flags;if(h&2){try{for(var p,C=u.return;C!==null;){if(hf(C)){p=C;break}C=C.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var D=p.stateNode,E=Lp(u);Pp(u,E,D);break;case 5:var G=p.stateNode;p.flags&32&&(kc(G,""),p.flags&=-33);var j=Lp(u);Pp(u,j,G);break;case 3:case 4:var ee=p.stateNode.containerInfo,me=Lp(u);Xv(u,me,ee);break;default:throw Error(i(161))}}catch(Le){ri(u,u.return,Le)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function SR(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;SR(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function Kc(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)vR(u,h.alternate,h),h=h.sibling}function Id(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Yc(4,h,h.return),Id(h);break;case 1:qa(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&rx(h,h.return,p),Id(h);break;case 27:Up(h.stateNode);case 26:case 5:qa(h,h.return),Id(h);break;case 22:h.memoizedState===null&&Id(h);break;case 30:Id(h);break;default:Id(h)}u=u.sibling}}function Wl(u,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var C=h.alternate,D=u,E=h,G=E.flags;switch(E.tag){case 0:case 11:case 15:Wl(D,E,p),kp(4,E);break;case 1:if(Wl(D,E,p),C=E,D=C.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(me){ri(C,C.return,me)}if(C=E,D=C.updateQueue,D!==null){var j=C.stateNode;try{var ee=D.shared.hiddenCallbacks;if(ee!==null)for(D.shared.hiddenCallbacks=null,D=0;D<ee.length;D++)HA(ee[D],j)}catch(me){ri(C,C.return,me)}}p&&G&64&&mR(E),df(E,E.return);break;case 27:Op(E);case 26:case 5:Wl(D,E,p),p&&C===null&&G&4&&qv(E),df(E,E.return);break;case 12:Wl(D,E,p);break;case 13:Wl(D,E,p),p&&G&4&&wR(D,E);break;case 22:E.memoizedState===null&&Wl(D,E,p),df(E,E.return);break;case 30:break;default:Wl(D,E,p)}h=h.sibling}}function lx(u,h){var p=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==p&&(u!=null&&u.refCount++,p!=null&&op(p))}function cx(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&op(u))}function Xa(u,h,p,C){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)xR(u,h,p,C),h=h.sibling}function xR(u,h,p,C){var D=h.flags;switch(h.tag){case 0:case 11:case 15:Xa(u,h,p,C),D&2048&&kp(9,h);break;case 1:Xa(u,h,p,C);break;case 3:Xa(u,h,p,C),D&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&op(u)));break;case 12:if(D&2048){Xa(u,h,p,C),u=h.stateNode;try{var E=h.memoizedProps,G=E.id,j=E.onPostCommit;typeof j=="function"&&j(G,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ee){ri(h,h.return,ee)}}else Xa(u,h,p,C);break;case 13:Xa(u,h,p,C);break;case 23:break;case 22:E=h.stateNode,G=h.alternate,h.memoizedState!==null?E._visibility&2?Xa(u,h,p,C):Np(u,h):E._visibility&2?Xa(u,h,p,C):(E._visibility|=2,ff(u,h,p,C,(h.subtreeFlags&10256)!==0)),D&2048&&lx(G,h);break;case 24:Xa(u,h,p,C),D&2048&&cx(h.alternate,h);break;default:Xa(u,h,p,C)}}function ff(u,h,p,C,D){for(D=D&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var E=u,G=h,j=p,ee=C,me=G.flags;switch(G.tag){case 0:case 11:case 15:ff(E,G,j,ee,D),kp(8,G);break;case 23:break;case 22:var Le=G.stateNode;G.memoizedState!==null?Le._visibility&2?ff(E,G,j,ee,D):Np(E,G):(Le._visibility|=2,ff(E,G,j,ee,D)),D&&me&2048&&lx(G.alternate,G);break;case 24:ff(E,G,j,ee,D),D&&me&2048&&cx(G.alternate,G);break;default:ff(E,G,j,ee,D)}h=h.sibling}}function Np(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=u,C=h,D=C.flags;switch(C.tag){case 22:Np(p,C),D&2048&&lx(C.alternate,C);break;case 24:Np(p,C),D&2048&&cx(C.alternate,C);break;default:Np(p,C)}h=h.sibling}}var er=8192;function gf(u){if(u.subtreeFlags&er)for(u=u.child;u!==null;)MR(u),u=u.sibling}function MR(u){switch(u.tag){case 26:gf(u),u.flags&er&&u.memoizedState!==null&&oP(Yo,u.memoizedState,u.memoizedProps);break;case 5:gf(u);break;case 3:case 4:var h=Yo;Yo=Wt(u.stateNode.containerInfo),gf(u),Yo=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=er,er=16777216,gf(u),er=h):gf(u));break;default:gf(u)}}function DR(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function pf(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var C=h[p];gs=C,RR(C,u)}DR(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)AR(u),u=u.sibling}function AR(u){switch(u.tag){case 0:case 11:case 15:pf(u),u.flags&2048&&Yc(9,u,u.return);break;case 3:pf(u);break;case 12:pf(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,Qv(u)):pf(u);break;default:pf(u)}}function Qv(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var C=h[p];gs=C,RR(C,u)}DR(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Yc(8,h,h.return),Qv(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,Qv(h));break;default:Qv(h)}u=u.sibling}}function RR(u,h){for(;gs!==null;){var p=gs;switch(p.tag){case 0:case 11:case 15:Yc(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var C=p.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:op(p.memoizedState.cache)}if(C=p.child,C!==null)C.return=p,gs=C;else e:for(p=u;gs!==null;){C=gs;var D=C.sibling,E=C.return;if(bR(C),C===p){gs=null;break e}if(D!==null){D.return=E,gs=D;break e}gs=E}}}var FL={getCacheForType:function(u){var h=Oi(ii),p=h.data.get(u);return p===void 0&&(p=u(),h.data.set(u,p)),p}},ux=typeof WeakMap=="function"?WeakMap:Map,Hn=0,hi=null,nn=null,yn=0,Vn=0,wo=null,qc=!1,mf=!1,dx=!1,Ul=0,Fi=0,Zc=0,kd=0,hx=0,Ko=0,yf=0,Fp=null,Wr=null,fx=!1,gx=0,vf=1/0,_p=null,Xc=null,zs=0,Qc=null,bf=null,Cf=0,px=0,mx=null,TR=null,wf=0,yx=null;function tr(){if((Hn&2)!==0&&yn!==0)return yn&-yn;if(X.T!==null){var u=tf;return u!==0?u:rb()}return Uy()}function ER(){Ko===0&&(Ko=(yn&536870912)===0||cn?$t():536870912);var u=bo.current;return u!==null&&(u.flags|=32),Ko}function So(u,h,p){(u===hi&&(Vn===2||Vn===9)||u.cancelPendingCommit!==null)&&(Sf(u,0),Jc(u,yn,Ko,!1)),lr(u,p),((Hn&2)===0||u!==hi)&&(u===hi&&((Hn&2)===0&&(kd|=p),Fi===4&&Jc(u,yn,Ko,!1)),Qa(u))}function IR(u,h,p){if((Hn&6)!==0)throw Error(i(327));var C=!p&&(h&124)===0&&(h&u.expiredLanes)===0||uo(u,h),D=C?GL(u,h):Cx(u,h,!0),E=C;do{if(D===0){mf&&!C&&Jc(u,h,0,!1);break}else{if(p=u.current.alternate,E&&!_L(p)){D=Cx(u,h,!1),E=!1;continue}if(D===2){if(E=h,u.errorRecoveryDisabledLanes&E)var G=0;else G=u.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){h=G;e:{var j=u;D=Fp;var ee=j.current.memoizedState.isDehydrated;if(ee&&(Sf(j,G).flags|=256),G=Cx(j,G,!1),G!==2){if(dx&&!ee){j.errorRecoveryDisabledLanes|=E,kd|=E,D=4;break e}E=Wr,Wr=D,E!==null&&(Wr===null?Wr=E:Wr.push.apply(Wr,E))}D=G}if(E=!1,D!==2)continue}}if(D===1){Sf(u,0),Jc(u,h,0,!0);break}e:{switch(C=u,E=D,E){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:Jc(C,h,Ko,!qc);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(D=gx+300-st(),10<D)){if(Jc(C,h,Ko,!qc),ar(C,0,!0)!==0)break e;C.timeoutHandle=eT(kR.bind(null,C,p,Wr,_p,fx,h,Ko,kd,yf,qc,E,2,-0,0),D);break e}kR(C,p,Wr,_p,fx,h,Ko,kd,yf,qc,E,0,-0,0)}}break}while(!0);Qa(u)}function kR(u,h,p,C,D,E,G,j,ee,me,Le,Ne,be,ye){if(u.timeoutHandle=-1,Ne=h.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(Is={stylesheets:null,count:0,unsuspend:rP},MR(h),Ne=aP(),Ne!==null)){u.cancelPendingCommit=Ne(Bp.bind(null,u,h,E,p,C,D,G,j,ee,Le,1,be,ye)),Jc(u,E,G,!me);return}Bp(u,h,E,p,C,D,G,j,ee)}function _L(u){for(var h=u;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var C=0;C<p.length;C++){var D=p[C],E=D.getSnapshot;D=D.value;try{if(!po(E(),D))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Jc(u,h,p,C){h&=~hx,h&=~kd,u.suspendedLanes|=h,u.pingedLanes&=~h,C&&(u.warmLanes|=h),C=u.expirationTimes;for(var D=h;0<D;){var E=31-tn(D),G=1<<E;C[E]=-1,D&=~G}p!==0&&od(u,p,h)}function Jv(){return(Hn&6)===0?(Hp(0),!1):!0}function vx(){if(nn!==null){if(Vn===0)var u=nn.return;else u=nn,V=zc=null,Mv(u),fs=null,Hr=0,u=nn;for(;u!==null;)pR(u.alternate,u),u=u.return;nn=null}}function Sf(u,h){var p=u.timeoutHandle;p!==-1&&(u.timeoutHandle=-1,ZL(p)),p=u.cancelPendingCommit,p!==null&&(u.cancelPendingCommit=null,p()),vx(),hi=u,nn=p=ur(u.current,null),yn=h,Vn=0,wo=null,qc=!1,mf=uo(u,h),dx=!1,yf=Ko=hx=kd=Zc=Fi=0,Wr=Fp=null,fx=!1,(h&8)!==0&&(h|=h&32);var C=u.entangledLanes;if(C!==0)for(u=u.entanglements,C&=h;0<C;){var D=31-tn(C),E=1<<D;h|=u[D],C&=~E}return Ul=h,ud(),p}function LR(u,h){Zt=null,X.H=wp,h===dr||h===wv?(h=GA(),Vn=3):h===_A?(h=GA(),Vn=4):Vn=h===cR?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,wo=h,nn===null&&(Fi=1,Ap(u,cr(h,u.current)))}function PR(){var u=X.H;return X.H=wp,u===null?wp:u}function OR(){var u=X.A;return X.A=FL,u}function bx(){Fi=4,qc||(yn&4194048)!==yn&&bo.current!==null||(mf=!0),(Zc&134217727)===0&&(kd&134217727)===0||hi===null||Jc(hi,yn,Ko,!1)}function Cx(u,h,p){var C=Hn;Hn|=2;var D=PR(),E=OR();(hi!==u||yn!==h)&&(_p=null,Sf(u,h)),h=!1;var G=Fi;e:do try{if(Vn!==0&&nn!==null){var j=nn,ee=wo;switch(Vn){case 8:vx(),G=6;break e;case 3:case 2:case 9:case 6:bo.current===null&&(h=!0);var me=Vn;if(Vn=0,wo=null,xf(u,j,ee,me),p&&mf){G=0;break e}break;default:me=Vn,Vn=0,wo=null,xf(u,j,ee,me)}}BL(),G=Fi;break}catch(Le){LR(u,Le)}while(!0);return h&&u.shellSuspendCounter++,V=zc=null,Hn=C,X.H=D,X.A=E,nn===null&&(hi=null,yn=0,ud()),G}function BL(){for(;nn!==null;)wx(nn)}function GL(u,h){var p=Hn;Hn|=2;var C=PR(),D=OR();hi!==u||yn!==h?(_p=null,vf=st()+500,Sf(u,h)):mf=uo(u,h);e:do try{if(Vn!==0&&nn!==null){h=nn;var E=wo;t:switch(Vn){case 1:Vn=0,wo=null,xf(u,h,E,1);break;case 2:case 9:if(BA(E)){Vn=0,wo=null,FR(h);break}h=function(){Vn!==2&&Vn!==9||hi!==u||(Vn=7),Qa(u)},E.then(h,h);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:BA(E)?(Vn=0,wo=null,FR(h)):(Vn=0,wo=null,xf(u,h,E,7));break;case 5:var G=null;switch(nn.tag){case 26:G=nn.memoizedState;case 5:case 27:var j=nn;if(!G||ys(G)){Vn=0,wo=null;var ee=j.sibling;if(ee!==null)nn=ee;else{var me=j.return;me!==null?(nn=me,eb(me)):nn=null}break t}}Vn=0,wo=null,xf(u,h,E,5);break;case 6:Vn=0,wo=null,xf(u,h,E,6);break;case 8:vx(),Fi=6;break e;default:throw Error(i(462))}}NR();break}catch(Le){LR(u,Le)}while(!0);return V=zc=null,X.H=C,X.A=D,Hn=p,nn!==null?0:(hi=null,yn=0,ud(),Fi)}function NR(){for(;nn!==null&&!mt();)wx(nn)}function wx(u){var h=$v(u.alternate,u,Ul);u.memoizedProps=u.pendingProps,h===null?eb(u):nn=h}function FR(u){var h=u,p=h.alternate;switch(h.tag){case 15:case 0:h=Wv(p,h,h.pendingProps,h.type,void 0,yn);break;case 11:h=Wv(p,h,h.pendingProps,h.type.render,h.ref,yn);break;case 5:Mv(h);default:pR(p,h),h=nn=ep(h,Ul),h=$v(p,h,Ul)}u.memoizedProps=u.pendingProps,h===null?eb(u):nn=h}function xf(u,h,p,C){V=zc=null,Mv(h),fs=null,Hr=0;var D=h.return;try{if(lR(u,D,h,p,yn)){Fi=1,Ap(u,cr(p,u.current)),nn=null;return}}catch(E){if(D!==null)throw nn=D,E;Fi=1,Ap(u,cr(p,u.current)),nn=null;return}h.flags&32768?(cn||C===1?u=!0:mf||(yn&536870912)!==0?u=!1:(qc=u=!0,(C===2||C===9||C===3||C===6)&&(C=bo.current,C!==null&&C.tag===13&&(C.flags|=16384))),_R(h,u)):eb(h)}function eb(u){var h=u;do{if((h.flags&32768)!==0){_R(h,qc);return}u=h.return;var p=fR(h.alternate,h,Ul);if(p!==null){nn=p;return}if(h=h.sibling,h!==null){nn=h;return}nn=h=u}while(h!==null);Fi===0&&(Fi=5)}function _R(u,h){do{var p=gR(u.alternate,u);if(p!==null){p.flags&=32767,nn=p;return}if(p=u.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(u=u.sibling,u!==null)){nn=u;return}nn=u=p}while(u!==null);Fi=6,nn=null}function Bp(u,h,p,C,D,E,G,j,ee){u.cancelPendingCommit=null;do tb();while(zs!==0);if((Hn&6)!==0)throw Error(i(327));if(h!==null){if(h===u.current)throw Error(i(177));if(E=h.lanes|h.childLanes,E|=xS,ho(u,p,E,G,j,ee),u===hi&&(nn=hi=null,yn=0),bf=h,Qc=u,Cf=p,px=E,mx=D,TR=C,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,UR(lt,function(){return VR(),null})):(u.callbackNode=null,u.callbackPriority=0),C=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||C){C=X.T,X.T=null,D=ne.p,ne.p=2,G=Hn,Hn|=4;try{OL(u,h,p)}finally{Hn=G,ne.p=D,X.T=C}}zs=1,BR(),GR(),zR()}}function BR(){if(zs===1){zs=0;var u=Qc,h=bf,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=X.T,X.T=null;var C=ne.p;ne.p=2;var D=Hn;Hn|=4;try{ax(h,u);var E=lb,G=TA(u.containerInfo),j=E.focusedElem,ee=E.selectionRange;if(G!==j&&j&&j.ownerDocument&&RA(j.ownerDocument.documentElement,j)){if(ee!==null&&wS(j)){var me=ee.start,Le=ee.end;if(Le===void 0&&(Le=me),"selectionStart"in j)j.selectionStart=me,j.selectionEnd=Math.min(Le,j.value.length);else{var Ne=j.ownerDocument||document,be=Ne&&Ne.defaultView||window;if(be.getSelection){var ye=be.getSelection(),Tt=j.textContent.length,Dt=Math.min(ee.start,Tt),Zn=ee.end===void 0?Dt:Math.min(ee.end,Tt);!ye.extend&&Dt>Zn&&(G=Zn,Zn=Dt,Dt=G);var fe=CS(j,Dt),oe=CS(j,Zn);if(fe&&oe&&(ye.rangeCount!==1||ye.anchorNode!==fe.node||ye.anchorOffset!==fe.offset||ye.focusNode!==oe.node||ye.focusOffset!==oe.offset)){var pe=Ne.createRange();pe.setStart(fe.node,fe.offset),ye.removeAllRanges(),Dt>Zn?(ye.addRange(pe),ye.extend(oe.node,oe.offset)):(pe.setEnd(oe.node,oe.offset),ye.addRange(pe))}}}}for(Ne=[],ye=j;ye=ye.parentNode;)ye.nodeType===1&&Ne.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Ne.length;j++){var Pe=Ne[j];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}pb=!!va,lb=va=null}finally{Hn=D,ne.p=C,X.T=p}}u.current=h,zs=2}}function GR(){if(zs===2){zs=0;var u=Qc,h=bf,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=X.T,X.T=null;var C=ne.p;ne.p=2;var D=Hn;Hn|=4;try{vR(u,h.alternate,h)}finally{Hn=D,ne.p=C,X.T=p}}zs=3}}function zR(){if(zs===4||zs===3){zs=0,Ht();var u=Qc,h=bf,p=Cf,C=TR;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?zs=5:(zs=0,bf=Qc=null,HR(u,u.pendingLanes));var D=u.pendingLanes;if(D===0&&(Xc=null),mn(p),h=h.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(us,h,void 0,(h.current.flags&128)===128)}catch{}if(C!==null){h=X.T,D=ne.p,ne.p=2,X.T=null;try{for(var E=u.onRecoverableError,G=0;G<C.length;G++){var j=C[G];E(j.value,{componentStack:j.stack})}}finally{X.T=h,ne.p=D}}(Cf&3)!==0&&tb(),Qa(u),D=u.pendingLanes,(p&4194090)!==0&&(D&42)!==0?u===yx?wf++:(wf=0,yx=u):wf=0,Hp(0)}}function HR(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,op(h)))}function tb(u){return BR(),GR(),zR(),VR()}function VR(){if(zs!==5)return!1;var u=Qc,h=px;px=0;var p=mn(Cf),C=X.T,D=ne.p;try{ne.p=32>p?32:p,X.T=null,p=mx,mx=null;var E=Qc,G=Cf;if(zs=0,bf=Qc=null,Cf=0,(Hn&6)!==0)throw Error(i(331));var j=Hn;if(Hn|=4,AR(E.current),xR(E,E.current,G,p),Hn=j,Hp(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(us,E)}catch{}return!0}finally{ne.p=D,X.T=C,HR(u,h)}}function jR(u,h,p){h=cr(p,h),h=zv(u.stateNode,h,2),u=Nl(u,h,2),u!==null&&(lr(u,2),Qa(u))}function ri(u,h,p){if(u.tag===3)jR(u,u,p);else for(;h!==null;){if(h.tag===3){jR(h,u,p);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Xc===null||!Xc.has(C))){u=cr(p,u),p=ex(2),C=Nl(h,p,2),C!==null&&(aR(p,C,h,u),lr(C,2),Qa(C));break}}h=h.return}}function Sx(u,h,p){var C=u.pingCache;if(C===null){C=u.pingCache=new ux;var D=new Set;C.set(h,D)}else D=C.get(h),D===void 0&&(D=new Set,C.set(h,D));D.has(p)||(dx=!0,D.add(p),u=zL.bind(null,u,h,p),h.then(u,u))}function zL(u,h,p){var C=u.pingCache;C!==null&&C.delete(h),u.pingedLanes|=u.suspendedLanes&p,u.warmLanes&=~p,hi===u&&(yn&p)===p&&(Fi===4||Fi===3&&(yn&62914560)===yn&&300>st()-gx?(Hn&2)===0&&Sf(u,0):hx|=p,yf===yn&&(yf=0)),Qa(u)}function WR(u,h){h===0&&(h=ni()),u=dd(u,h),u!==null&&(lr(u,h),Qa(u))}function nb(u){var h=u.memoizedState,p=0;h!==null&&(p=h.retryLane),WR(u,p)}function HL(u,h){var p=0;switch(u.tag){case 13:var C=u.stateNode,D=u.memoizedState;D!==null&&(p=D.retryLane);break;case 19:C=u.stateNode;break;case 22:C=u.stateNode._retryCache;break;default:throw Error(i(314))}C!==null&&C.delete(h),WR(u,p)}function UR(u,h){return it(u,h)}var Gp=null,eu=null,ib=!1,zp=!1,sb=!1,tu=0;function Qa(u){u!==eu&&u.next===null&&(eu===null?Gp=eu=u:eu=eu.next=u),zp=!0,ib||(ib=!0,xx())}function Hp(u,h){if(!sb&&zp){sb=!0;do for(var p=!1,C=Gp;C!==null;){if(u!==0){var D=C.pendingLanes;if(D===0)var E=0;else{var G=C.suspendedLanes,j=C.pingedLanes;E=(1<<31-tn(42|u)+1)-1,E&=D&~(G&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(p=!0,YR(C,E))}else E=yn,E=ar(C,C===hi?E:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(E&3)===0||uo(C,E)||(p=!0,YR(C,E));C=C.next}while(p);sb=!1}}function VL(){Vp()}function Vp(){zp=ib=!1;var u=0;tu!==0&&(qL()&&(u=tu),tu=0);for(var h=st(),p=null,C=Gp;C!==null;){var D=C.next,E=jp(C,h);E===0?(C.next=null,p===null?Gp=D:p.next=D,D===null&&(eu=p)):(p=C,(u!==0||(E&3)!==0)&&(zp=!0)),C=D}Hp(u)}function jp(u,h){for(var p=u.suspendedLanes,C=u.pingedLanes,D=u.expirationTimes,E=u.pendingLanes&-62914561;0<E;){var G=31-tn(E),j=1<<G,ee=D[G];ee===-1?((j&p)===0||(j&C)!==0)&&(D[G]=Lh(j,h)):ee<=h&&(u.expiredLanes|=j),E&=~j}if(h=hi,p=yn,p=ar(u,u===h?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),C=u.callbackNode,p===0||u===h&&(Vn===2||Vn===9)||u.cancelPendingCommit!==null)return C!==null&&C!==null&&$e(C),u.callbackNode=null,u.callbackPriority=0;if((p&3)===0||uo(u,p)){if(h=p&-p,h===u.callbackPriority)return h;switch(C!==null&&$e(C),mn(p)){case 2:case 8:p=et;break;case 32:p=lt;break;case 268435456:p=Vt;break;default:p=lt}return C=$R.bind(null,u),p=it(p,C),u.callbackPriority=h,u.callbackNode=p,h}return C!==null&&C!==null&&$e(C),u.callbackPriority=2,u.callbackNode=null,2}function $R(u,h){if(zs!==0&&zs!==5)return u.callbackNode=null,u.callbackPriority=0,null;var p=u.callbackNode;if(tb()&&u.callbackNode!==p)return null;var C=yn;return C=ar(u,u===hi?C:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),C===0?null:(IR(u,C,h),jp(u,st()),u.callbackNode!=null&&u.callbackNode===p?$R.bind(null,u):null)}function YR(u,h){if(tb())return null;IR(u,h,!0)}function xx(){XL(function(){(Hn&6)!==0?it(Ze,VL):Vp()})}function rb(){return tu===0&&(tu=$t()),tu}function KR(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ug(""+u)}function qR(u,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,u.id&&p.setAttribute("form",u.id),h.parentNode.insertBefore(p,h),u=new FormData(u),p.parentNode.removeChild(p),u}function jL(u,h,p,C,D){if(h==="submit"&&p&&p.stateNode===D){var E=KR((D[As]||null).action),G=C.submitter;G&&(h=(h=G[As]||null)?KR(h.formAction):G.getAttribute("formAction"),h!==null&&(E=h,G=null));var j=new tv("action","action",null,C,D);u.push({event:j,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(tu!==0){var ee=G?qR(D,G):new FormData(D);bp(p,{pending:!0,data:ee,method:D.method,action:E},null,ee)}}else typeof E=="function"&&(j.preventDefault(),ee=G?qR(D,G):new FormData(D),bp(p,{pending:!0,data:ee,method:D.method,action:E},E,ee))},currentTarget:D}]})}}for(var Mx=0;Mx<kn.length;Mx++){var Dx=kn[Mx],WL=Dx.toLowerCase(),UL=Dx[0].toUpperCase()+Dx.slice(1);da(WL,"on"+UL)}da(fv,"onAnimationEnd"),da(EA,"onAnimationIteration"),da(mo,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(gv,"onTransitionRun"),da(RL,"onTransitionStart"),da(Zh,"onTransitionCancel"),da(Zg,"onTransitionEnd"),_h("onMouseEnter",["mouseout","mouseover"]),_h("onMouseLeave",["mouseout","mouseover"]),_h("onPointerEnter",["pointerout","pointerover"]),_h("onPointerLeave",["pointerout","pointerover"]),ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ad("onBeforeInput",["compositionend","keypress","textInput","paste"]),ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$L=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wp));function ZR(u,h){h=(h&4)!==0;for(var p=0;p<u.length;p++){var C=u[p],D=C.event;C=C.listeners;e:{var E=void 0;if(h)for(var G=C.length-1;0<=G;G--){var j=C[G],ee=j.instance,me=j.currentTarget;if(j=j.listener,ee!==E&&D.isPropagationStopped())break e;E=j,D.currentTarget=me;try{E(D)}catch(Le){Td(Le)}D.currentTarget=null,E=ee}else for(G=0;G<C.length;G++){if(j=C[G],ee=j.instance,me=j.currentTarget,j=j.listener,ee!==E&&D.isPropagationStopped())break e;E=j,D.currentTarget=me;try{E(D)}catch(Le){Td(Le)}D.currentTarget=null,E=ee}}}}function sn(u,h){var p=h[Kw];p===void 0&&(p=h[Kw]=new Set);var C=u+"__bubble";p.has(C)||(XR(h,u,2,!1),p.add(C))}function Ax(u,h,p){var C=0;h&&(C|=4),XR(p,u,C,h)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Rx(u){if(!u[Ur]){u[Ur]=!0,nA.forEach(function(p){p!=="selectionchange"&&($L.has(p)||Ax(p,!1,u),Ax(p,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Ur]||(h[Ur]=!0,Ax("selectionchange",!1,h))}}function XR(u,h,p,C){switch(mT(h)){case 2:var D=uP;break;case 8:D=If;break;default:D=_x}p=D.bind(null,h,p,u),D=void 0,!Yg||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(D=!0),C?D!==void 0?u.addEventListener(h,p,{capture:!0,passive:D}):u.addEventListener(h,p,!0):D!==void 0?u.addEventListener(h,p,{passive:D}):u.addEventListener(h,p,!1)}function $l(u,h,p,C,D){var E=C;if((h&1)===0&&(h&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var j=C.stateNode.containerInfo;if(j===D)break;if(G===4)for(G=C.return;G!==null;){var ee=G.tag;if((ee===3||ee===4)&&G.stateNode.containerInfo===D)return;G=G.return}for(;j!==null;){if(G=Ph(j),G===null)return;if(ee=G.tag,ee===5||ee===6||ee===26||ee===27){C=E=G;continue e}j=j.parentNode}}C=C.return}lA(function(){var me=E,Le=lS(p),Ne=[];e:{var be=Xg.get(u);if(be!==void 0){var ye=tv,Tt=u;switch(u){case"keypress":if(Kn(p)===0)break e;case"keydown":case"keyup":ye=gS;break;case"focusin":Tt="focus",ye=iv;break;case"focusout":Tt="blur",ye=iv;break;case"beforeblur":case"afterblur":ye=iv;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=vL;break;case fv:case EA:case mo:ye=fA;break;case Zg:ye=bL;break;case"scroll":case"scrollend":ye=pL;break;case"wheel":ye=wL;break;case"copy":case"cut":case"paste":ye=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=kl;break;case"toggle":case"beforetoggle":ye=rv}var Dt=(h&4)!==0,Zn=!Dt&&(u==="scroll"||u==="scrollend"),fe=Dt?be!==null?be+"Capture":null:be;Dt=[];for(var oe=me,pe;oe!==null;){var Pe=oe;if(pe=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||pe===null||fe===null||(Pe=$g(oe,fe),Pe!=null&&Dt.push(_t(oe,Pe,pe))),Zn)break;oe=oe.return}0<Dt.length&&(be=new ye(be,Tt,null,p,Le),Ne.push({event:be,listeners:Dt}))}}if((h&7)===0){e:{if(be=u==="mouseover"||u==="pointerover",ye=u==="mouseout"||u==="pointerout",be&&p!==Jy&&(Tt=p.relatedTarget||p.fromElement)&&(Ph(Tt)||Tt[Ic]))break e;if((ye||be)&&(be=Le.window===Le?Le:(be=Le.ownerDocument)?be.defaultView||be.parentWindow:window,ye?(Tt=p.relatedTarget||p.toElement,ye=me,Tt=Tt?Ph(Tt):null,Tt!==null&&(Zn=r(Tt),Dt=Tt.tag,Tt!==Zn||Dt!==5&&Dt!==27&&Dt!==6)&&(Tt=null)):(ye=null,Tt=me),ye!==Tt)){if(Dt=Pc,Pe="onMouseLeave",fe="onMouseEnter",oe="mouse",(u==="pointerout"||u==="pointerover")&&(Dt=kl,Pe="onPointerLeave",fe="onPointerEnter",oe="pointer"),Zn=ye==null?be:Nh(ye),pe=Tt==null?be:Nh(Tt),be=new Dt(Pe,oe+"leave",ye,p,Le),be.target=Zn,be.relatedTarget=pe,Pe=null,Ph(Le)===me&&(Dt=new Dt(fe,oe+"enter",Tt,p,Le),Dt.target=pe,Dt.relatedTarget=Zn,Pe=Dt),Zn=Pe,ye&&Tt)t:{for(Dt=ye,fe=Tt,oe=0,pe=Dt;pe;pe=ps(pe))oe++;for(pe=0,Pe=fe;Pe;Pe=ps(Pe))pe++;for(;0<oe-pe;)Dt=ps(Dt),oe--;for(;0<pe-oe;)fe=ps(fe),pe--;for(;oe--;){if(Dt===fe||fe!==null&&Dt===fe.alternate)break t;Dt=ps(Dt),fe=ps(fe)}Dt=null}else Dt=null;ye!==null&&_i(Ne,be,ye,Dt,!1),Tt!==null&&Zn!==null&&_i(Ne,Zn,Tt,Dt,!0)}}e:{if(be=me?Nh(me):window,ye=be.nodeName&&be.nodeName.toLowerCase(),ye==="select"||ye==="input"&&be.type==="file")var ut=SA;else if(cv(be))if(xA)ut=ML;else{ut=Fc;var Jt=AA}else ye=be.nodeName,!ye||ye.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&aS(me.elementType)&&(ut=SA):ut=hv;if(ut&&(ut=ut(u,me))){$h(Ne,ut,p,Le);break e}Jt&&Jt(u,be,me),u==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&Wg(be,"number",be.value)}switch(Jt=me?Nh(me):window,u){case"focusin":(cv(Jt)||Jt.contentEditable==="true")&&(qh=Jt,_c=me,de=null);break;case"focusout":de=_c=qh=null;break;case"mousedown":ke=!0;break;case"contextmenu":case"mouseup":case"dragend":ke=!1,xe(Ne,p,Le);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":xe(Ne,p,Le)}var yt;if(yS)e:{switch(u){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Oc?CA(u,p)&&(Et="onCompositionEnd"):u==="keydown"&&p.keyCode===229&&(Et="onCompositionStart");Et&&(ov&&p.locale!=="ko"&&(Oc||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Oc&&(yt=cA()):(Lc=Le,dS="value"in Lc?Lc.value:Lc.textContent,Oc=!0)),Jt=ob(me,Et),0<Jt.length&&(Et=new Or(Et,u,null,p,Le),Ne.push({event:Et,listeners:Jt}),yt?Et.data=yt:(yt=lv(p),yt!==null&&(Et.data=yt)))),(yt=bA?SL(u,p):wA(u,p))&&(Et=ob(me,"onBeforeInput"),0<Et.length&&(Jt=new Or("onBeforeInput","beforeinput",null,p,Le),Ne.push({event:Jt,listeners:Et}),Jt.data=yt)),jL(Ne,u,me,p,Le)}ZR(Ne,h)})}function _t(u,h,p){return{instance:u,listener:h,currentTarget:p}}function ob(u,h){for(var p=h+"Capture",C=[];u!==null;){var D=u,E=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||E===null||(D=$g(u,p),D!=null&&C.unshift(_t(u,D,E)),D=$g(u,h),D!=null&&C.push(_t(u,D,E))),u.tag===3)return C;u=u.return}return[]}function ps(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function _i(u,h,p,C,D){for(var E=h._reactName,G=[];p!==null&&p!==C;){var j=p,ee=j.alternate,me=j.stateNode;if(j=j.tag,ee!==null&&ee===C)break;j!==5&&j!==26&&j!==27||me===null||(ee=me,D?(me=$g(p,E),me!=null&&G.unshift(_t(p,me,ee))):D||(me=$g(p,E),me!=null&&G.push(_t(p,me,ee)))),p=p.return}G.length!==0&&u.push({event:h,listeners:G})}var YL=/\r\n?/g,nu=/\u0000|\uFFFD/g;function QR(u){return(typeof u=="string"?u:""+u).replace(YL,`
`).replace(nu,"")}function JR(u,h){return h=QR(h),QR(u)===h}function ab(){}function qn(u,h,p,C,D,E){switch(p){case"children":typeof C=="string"?h==="body"||h==="textarea"&&C===""||kc(u,C):(typeof C=="number"||typeof C=="bigint")&&h!=="body"&&kc(u,""+C);break;case"className":Ky(u,"class",C);break;case"tabIndex":Ky(u,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Ky(u,p,C);break;case"style":oS(u,C,E);break;case"data":if(h!=="object"){Ky(u,"data",C);break}case"src":case"href":if(C===""&&(h!=="a"||p!=="href")){u.removeAttribute(p);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){u.removeAttribute(p);break}C=Ug(""+C),u.setAttribute(p,C);break;case"action":case"formAction":if(typeof C=="function"){u.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(p==="formAction"?(h!=="input"&&qn(u,h,"name",D.name,D,null),qn(u,h,"formEncType",D.formEncType,D,null),qn(u,h,"formMethod",D.formMethod,D,null),qn(u,h,"formTarget",D.formTarget,D,null)):(qn(u,h,"encType",D.encType,D,null),qn(u,h,"method",D.method,D,null),qn(u,h,"target",D.target,D,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){u.removeAttribute(p);break}C=Ug(""+C),u.setAttribute(p,C);break;case"onClick":C!=null&&(u.onclick=ab);break;case"onScroll":C!=null&&sn("scroll",u);break;case"onScrollEnd":C!=null&&sn("scrollend",u);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(p=C.__html,p!=null){if(D.children!=null)throw Error(i(60));u.innerHTML=p}}break;case"multiple":u.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":u.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){u.removeAttribute("xlink:href");break}p=Ug(""+C),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?u.setAttribute(p,""+C):u.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?u.setAttribute(p,""):u.removeAttribute(p);break;case"capture":case"download":C===!0?u.setAttribute(p,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?u.setAttribute(p,C):u.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?u.setAttribute(p,C):u.removeAttribute(p);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?u.removeAttribute(p):u.setAttribute(p,C);break;case"popover":sn("beforetoggle",u),sn("toggle",u),Yy(u,"popover",C);break;case"xlinkActuate":Va(u,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Va(u,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Va(u,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Va(u,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Va(u,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Va(u,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Va(u,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Va(u,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Va(u,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Yy(u,"is",C);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=oA.get(p)||p,Yy(u,p,C))}}function Tx(u,h,p,C,D,E){switch(p){case"style":oS(u,C,E);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(p=C.__html,p!=null){if(D.children!=null)throw Error(i(60));u.innerHTML=p}}break;case"children":typeof C=="string"?kc(u,C):(typeof C=="number"||typeof C=="bigint")&&kc(u,""+C);break;case"onScroll":C!=null&&sn("scroll",u);break;case"onScrollEnd":C!=null&&sn("scrollend",u);break;case"onClick":C!=null&&(u.onclick=ab);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iA.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(D=p.endsWith("Capture"),h=p.slice(2,D?p.length-7:void 0),E=u[As]||null,E=E!=null?E[p]:null,typeof E=="function"&&u.removeEventListener(h,E,D),typeof C=="function")){typeof E!="function"&&E!==null&&(p in u?u[p]=null:u.hasAttribute(p)&&u.removeAttribute(p)),u.addEventListener(h,C,D);break e}p in u?u[p]=C:C===!0?u.setAttribute(p,""):Yy(u,p,C)}}}function ms(u,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",u),sn("load",u);var C=!1,D=!1,E;for(E in p)if(p.hasOwnProperty(E)){var G=p[E];if(G!=null)switch(E){case"src":C=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:qn(u,h,E,G,p,null)}}D&&qn(u,h,"srcSet",p.srcSet,p,null),C&&qn(u,h,"src",p.src,p,null);return;case"input":sn("invalid",u);var j=E=G=D=null,ee=null,me=null;for(C in p)if(p.hasOwnProperty(C)){var Le=p[C];if(Le!=null)switch(C){case"name":D=Le;break;case"type":G=Le;break;case"checked":ee=Le;break;case"defaultChecked":me=Le;break;case"value":E=Le;break;case"defaultValue":j=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,h));break;default:qn(u,h,C,Le,p,null)}}iS(u,E,j,ee,me,G,D,!1),Zy(u);return;case"select":sn("invalid",u),C=G=E=null;for(D in p)if(p.hasOwnProperty(D)&&(j=p[D],j!=null))switch(D){case"value":E=j;break;case"defaultValue":G=j;break;case"multiple":C=j;default:qn(u,h,D,j,p,null)}h=E,p=G,u.multiple=!!C,h!=null?Gh(u,!!C,h,!1):p!=null&&Gh(u,!!C,p,!0);return;case"textarea":sn("invalid",u),E=D=C=null;for(G in p)if(p.hasOwnProperty(G)&&(j=p[G],j!=null))switch(G){case"value":C=j;break;case"defaultValue":D=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:qn(u,h,G,j,p,null)}Qy(u,C,D,E),Zy(u);return;case"option":for(ee in p)if(p.hasOwnProperty(ee)&&(C=p[ee],C!=null))switch(ee){case"selected":u.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:qn(u,h,ee,C,p,null)}return;case"dialog":sn("beforetoggle",u),sn("toggle",u),sn("cancel",u),sn("close",u);break;case"iframe":case"object":sn("load",u);break;case"video":case"audio":for(C=0;C<Wp.length;C++)sn(Wp[C],u);break;case"image":sn("error",u),sn("load",u);break;case"details":sn("toggle",u);break;case"embed":case"source":case"link":sn("error",u),sn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in p)if(p.hasOwnProperty(me)&&(C=p[me],C!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:qn(u,h,me,C,p,null)}return;default:if(aS(h)){for(Le in p)p.hasOwnProperty(Le)&&(C=p[Le],C!==void 0&&Tx(u,h,Le,C,p,void 0));return}}for(j in p)p.hasOwnProperty(j)&&(C=p[j],C!=null&&qn(u,h,j,C,p,null))}function KL(u,h,p,C){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,E=null,G=null,j=null,ee=null,me=null,Le=null;for(ye in p){var Ne=p[ye];if(p.hasOwnProperty(ye)&&Ne!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ee=Ne;default:C.hasOwnProperty(ye)||qn(u,h,ye,null,C,Ne)}}for(var be in C){var ye=C[be];if(Ne=p[be],C.hasOwnProperty(be)&&(ye!=null||Ne!=null))switch(be){case"type":E=ye;break;case"name":D=ye;break;case"checked":me=ye;break;case"defaultChecked":Le=ye;break;case"value":G=ye;break;case"defaultValue":j=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,h));break;default:ye!==Ne&&qn(u,h,be,ye,C,Ne)}}Xy(u,G,j,ee,me,Le,E,D);return;case"select":ye=G=j=be=null;for(E in p)if(ee=p[E],p.hasOwnProperty(E)&&ee!=null)switch(E){case"value":break;case"multiple":ye=ee;default:C.hasOwnProperty(E)||qn(u,h,E,null,C,ee)}for(D in C)if(E=C[D],ee=p[D],C.hasOwnProperty(D)&&(E!=null||ee!=null))switch(D){case"value":be=E;break;case"defaultValue":j=E;break;case"multiple":G=E;default:E!==ee&&qn(u,h,D,E,C,ee)}h=j,p=G,C=ye,be!=null?Gh(u,!!p,be,!1):!!C!=!!p&&(h!=null?Gh(u,!!p,h,!0):Gh(u,!!p,p?[]:"",!1));return;case"textarea":ye=be=null;for(j in p)if(D=p[j],p.hasOwnProperty(j)&&D!=null&&!C.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:qn(u,h,j,null,C,D)}for(G in C)if(D=C[G],E=p[G],C.hasOwnProperty(G)&&(D!=null||E!=null))switch(G){case"value":be=D;break;case"defaultValue":ye=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:D!==E&&qn(u,h,G,D,C,E)}sS(u,be,ye);return;case"option":for(var Tt in p)if(be=p[Tt],p.hasOwnProperty(Tt)&&be!=null&&!C.hasOwnProperty(Tt))switch(Tt){case"selected":u.selected=!1;break;default:qn(u,h,Tt,null,C,be)}for(ee in C)if(be=C[ee],ye=p[ee],C.hasOwnProperty(ee)&&be!==ye&&(be!=null||ye!=null))switch(ee){case"selected":u.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:qn(u,h,ee,be,C,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in p)be=p[Dt],p.hasOwnProperty(Dt)&&be!=null&&!C.hasOwnProperty(Dt)&&qn(u,h,Dt,null,C,be);for(me in C)if(be=C[me],ye=p[me],C.hasOwnProperty(me)&&be!==ye&&(be!=null||ye!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,h));break;default:qn(u,h,me,be,C,ye)}return;default:if(aS(h)){for(var Zn in p)be=p[Zn],p.hasOwnProperty(Zn)&&be!==void 0&&!C.hasOwnProperty(Zn)&&Tx(u,h,Zn,void 0,C,be);for(Le in C)be=C[Le],ye=p[Le],!C.hasOwnProperty(Le)||be===ye||be===void 0&&ye===void 0||Tx(u,h,Le,be,C,ye);return}}for(var fe in p)be=p[fe],p.hasOwnProperty(fe)&&be!=null&&!C.hasOwnProperty(fe)&&qn(u,h,fe,null,C,be);for(Ne in C)be=C[Ne],ye=p[Ne],!C.hasOwnProperty(Ne)||be===ye||be==null&&ye==null||qn(u,h,Ne,be,C,ye)}var va=null,lb=null;function Ld(u){return u.nodeType===9?u:u.ownerDocument}function Mi(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ai(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function cb(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Ex=null;function qL(){var u=window.event;return u&&u.type==="popstate"?u===Ex?!1:(Ex=u,!0):(Ex=null,!1)}var eT=typeof setTimeout=="function"?setTimeout:void 0,ZL=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,XL=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(u){return tT.resolve(null).then(u).catch(nT)}:eT;function nT(u){setTimeout(function(){throw u})}function qo(u){return u==="head"}function ub(u,h){var p=h,C=0,D=0;do{var E=p.nextSibling;if(u.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(0<C&&8>C){p=C;var G=u.ownerDocument;if(p&1&&Up(G.documentElement),p&2&&Up(G.body),p&4)for(p=G.head,Up(p),G=p.firstChild;G;){var j=G.nextSibling,ee=G.nodeName;G[Vg]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&G.rel.toLowerCase()==="stylesheet"||p.removeChild(G),G=j}}if(D===0){u.removeChild(E),Jp(h);return}D--}else p==="$"||p==="$?"||p==="$!"?D++:C=p.charCodeAt(0)-48;else C=0;p=E}while(p);Jp(h)}function Ix(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Ix(p),qw(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}u.removeChild(p)}}function iT(u,h,p,C){for(;u.nodeType===1;){var D=p;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!C&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(C){if(!u[Vg])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(E=u.getAttribute("rel"),E==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(E!==D.rel||u.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||u.getAttribute("title")!==(D.title==null?null:D.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(E=u.getAttribute("src"),(E!==(D.src==null?null:D.src)||u.getAttribute("type")!==(D.type==null?null:D.type)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&E&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var E=D.name==null?null:""+D.name;if(D.type==="hidden"&&u.getAttribute("name")===E)return u}else return u;if(u=ba(u.nextSibling),u===null)break}return null}function db(u,h,p){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=ba(u.nextSibling),u===null))return null;return u}function gr(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function Mf(u,h){var p=u.ownerDocument;if(u.data!=="$?"||p.readyState==="complete")h();else{var C=function(){h(),p.removeEventListener("DOMContentLoaded",C)};p.addEventListener("DOMContentLoaded",C),u._reactRetry=C}}function ba(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var kx=null;function sT(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var p=u.data;if(p==="$"||p==="$!"||p==="$?"){if(h===0)return u;h--}else p==="/$"&&h++}u=u.previousSibling}return null}function rT(u,h,p){switch(h=Ld(p),u){case"html":if(u=h.documentElement,!u)throw Error(i(452));return u;case"head":if(u=h.head,!u)throw Error(i(453));return u;case"body":if(u=h.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function Up(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);qw(u)}var xo=new Map,Ja=new Set;function Wt(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var el=ne.d;ne.d={f:Zo,r:oT,D:QL,C:aT,L:hb,m:JL,X:tP,S:eP,M:nP};function Zo(){var u=el.f(),h=Jv();return u||h}function oT(u){var h=Oh(u);h!==null&&h.tag===5&&h.type==="form"?Fv(h):el.r(u)}var Df=typeof document>"u"?null:document;function Ln(u,h,p){var C=Df;if(C&&typeof h=="string"&&h){var D=Fo(h);D='link[rel="'+u+'"][href="'+D+'"]',typeof p=="string"&&(D+='[crossorigin="'+p+'"]'),Ja.has(D)||(Ja.add(D),u={rel:u,crossOrigin:p,href:h},C.querySelector(D)===null&&(h=C.createElement("link"),ms(h,"link",u),Rs(h),C.head.appendChild(h)))}}function QL(u){el.D(u),Ln("dns-prefetch",u,null)}function aT(u,h){el.C(u,h),Ln("preconnect",u,h)}function hb(u,h,p){el.L(u,h,p);var C=Df;if(C&&u&&h){var D='link[rel="preload"][as="'+Fo(h)+'"]';h==="image"&&p&&p.imageSrcSet?(D+='[imagesrcset="'+Fo(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(D+='[imagesizes="'+Fo(p.imageSizes)+'"]')):D+='[href="'+Fo(u)+'"]';var E=D;switch(h){case"style":E=Af(u);break;case"script":E=Rf(u)}xo.has(E)||(u=d({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:u,as:h},p),xo.set(E,u),C.querySelector(D)!==null||h==="style"&&C.querySelector($p(E))||h==="script"&&C.querySelector(Yp(E))||(h=C.createElement("link"),ms(h,"link",u),Rs(h),C.head.appendChild(h)))}}function JL(u,h){el.m(u,h);var p=Df;if(p&&u){var C=h&&typeof h.as=="string"?h.as:"script",D='link[rel="modulepreload"][as="'+Fo(C)+'"][href="'+Fo(u)+'"]',E=D;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Rf(u)}if(!xo.has(E)&&(u=d({rel:"modulepreload",href:u},h),xo.set(E,u),p.querySelector(D)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Yp(E)))return}C=p.createElement("link"),ms(C,"link",u),Rs(C),p.head.appendChild(C)}}}function eP(u,h,p){el.S(u,h,p);var C=Df;if(C&&u){var D=Fh(C).hoistableStyles,E=Af(u);h=h||"default";var G=D.get(E);if(!G){var j={loading:0,preload:null};if(G=C.querySelector($p(E)))j.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},p),(p=xo.get(E))&&Kp(u,p);var ee=G=C.createElement("link");Rs(ee),ms(ee,"link",u),ee._p=new Promise(function(me,Le){ee.onload=me,ee.onerror=Le}),ee.addEventListener("load",function(){j.loading|=1}),ee.addEventListener("error",function(){j.loading|=2}),j.loading|=4,fb(G,h,C)}G={type:"stylesheet",instance:G,count:1,state:j},D.set(E,G)}}}function tP(u,h){el.X(u,h);var p=Df;if(p&&u){var C=Fh(p).hoistableScripts,D=Rf(u),E=C.get(D);E||(E=p.querySelector(Yp(D)),E||(u=d({src:u,async:!0},h),(h=xo.get(D))&&Lx(u,h),E=p.createElement("script"),Rs(E),ms(E,"link",u),p.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},C.set(D,E))}}function nP(u,h){el.M(u,h);var p=Df;if(p&&u){var C=Fh(p).hoistableScripts,D=Rf(u),E=C.get(D);E||(E=p.querySelector(Yp(D)),E||(u=d({src:u,async:!0,type:"module"},h),(h=xo.get(D))&&Lx(u,h),E=p.createElement("script"),Rs(E),ms(E,"link",u),p.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},C.set(D,E))}}function lT(u,h,p,C){var D=(D=we.current)?Wt(D):null;if(!D)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=Af(p.href),p=Fh(D).hoistableStyles,C=p.get(h),C||(C={type:"style",instance:null,count:0,state:null},p.set(h,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){u=Af(p.href);var E=Fh(D).hoistableStyles,G=E.get(u);if(G||(D=D.ownerDocument||D,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(u,G),(E=D.querySelector($p(u)))&&!E._p&&(G.instance=E,G.state.loading=5),xo.has(u)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},xo.set(u,p),E||iP(D,u,p,G.state))),h&&C===null)throw Error(i(528,""));return G}if(h&&C!==null)throw Error(i(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Rf(p),p=Fh(D).hoistableScripts,C=p.get(h),C||(C={type:"script",instance:null,count:0,state:null},p.set(h,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function Af(u){return'href="'+Fo(u)+'"'}function $p(u){return'link[rel="stylesheet"]['+u+"]"}function cT(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function iP(u,h,p,C){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?C.loading=1:(h=u.createElement("link"),C.preload=h,h.addEventListener("load",function(){return C.loading|=1}),h.addEventListener("error",function(){return C.loading|=2}),ms(h,"link",p),Rs(h),u.head.appendChild(h))}function Rf(u){return'[src="'+Fo(u)+'"]'}function Yp(u){return"script[async]"+u}function uT(u,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var C=u.querySelector('style[data-href~="'+Fo(p.href)+'"]');if(C)return h.instance=C,Rs(C),C;var D=d({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return C=(u.ownerDocument||u).createElement("style"),Rs(C),ms(C,"style",D),fb(C,p.precedence,u),h.instance=C;case"stylesheet":D=Af(p.href);var E=u.querySelector($p(D));if(E)return h.state.loading|=4,h.instance=E,Rs(E),E;C=cT(p),(D=xo.get(D))&&Kp(C,D),E=(u.ownerDocument||u).createElement("link"),Rs(E);var G=E;return G._p=new Promise(function(j,ee){G.onload=j,G.onerror=ee}),ms(E,"link",C),h.state.loading|=4,fb(E,p.precedence,u),h.instance=E;case"script":return E=Rf(p.src),(D=u.querySelector(Yp(E)))?(h.instance=D,Rs(D),D):(C=p,(D=xo.get(E))&&(C=d({},p),Lx(C,D)),u=u.ownerDocument||u,D=u.createElement("script"),Rs(D),ms(D,"link",C),u.head.appendChild(D),h.instance=D);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(C=h.instance,h.state.loading|=4,fb(C,p.precedence,u));return h.instance}function fb(u,h,p){for(var C=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=C.length?C[C.length-1]:null,E=D,G=0;G<C.length;G++){var j=C[G];if(j.dataset.precedence===h)E=j;else if(E!==D)break}E?E.parentNode.insertBefore(u,E.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(u,h.firstChild))}function Kp(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function Lx(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Tf=null;function dT(u,h,p){if(Tf===null){var C=new Map,D=Tf=new Map;D.set(p,C)}else D=Tf,C=D.get(p),C||(C=new Map,D.set(p,C));if(C.has(u))return C;for(C.set(u,null),p=p.getElementsByTagName(u),D=0;D<p.length;D++){var E=p[D];if(!(E[Vg]||E[Pi]||u==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var G=E.getAttribute(h)||"";G=u+G;var j=C.get(G);j?j.push(E):C.set(G,[E])}}return C}function hT(u,h,p){u=u.ownerDocument||u,u.head.insertBefore(p,h==="title"?u.querySelector("head > title"):null)}function sP(u,h,p){if(p===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function ys(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Is=null;function rP(){}function oP(u,h,p){if(Is===null)throw Error(i(475));var C=Is;if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var D=Af(p.href),E=u.querySelector($p(D));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(C.count++,C=qp.bind(C),u.then(C,C)),h.state.loading|=4,h.instance=E,Rs(E);return}E=u.ownerDocument||u,p=cT(p),(D=xo.get(D))&&Kp(p,D),E=E.createElement("link"),Rs(E);var G=E;G._p=new Promise(function(j,ee){G.onload=j,G.onerror=ee}),ms(E,"link",p),h.instance=E}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(C.count++,h=qp.bind(C),u.addEventListener("load",h),u.addEventListener("error",h))}}function aP(){if(Is===null)throw Error(i(475));var u=Is;return u.stylesheets&&u.count===0&&Px(u,u.stylesheets),0<u.count?function(h){var p=setTimeout(function(){if(u.stylesheets&&Px(u,u.stylesheets),u.unsuspend){var C=u.unsuspend;u.unsuspend=null,C()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(p)}}:null}function qp(){if(this.count--,this.count===0){if(this.stylesheets)Px(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var gb=null;function Px(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,gb=new Map,h.forEach(lP,u),gb=null,qp.call(u))}function lP(u,h){if(!(h.state.loading&4)){var p=gb.get(u);if(p)var C=p.get(null);else{p=new Map,gb.set(u,p);for(var D=u.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<D.length;E++){var G=D[E];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),C=G)}C&&p.set(null,C)}D=h.instance,G=D.getAttribute("data-precedence"),E=p.get(G)||C,E===C&&p.set(null,D),p.set(G,D),this.count++,C=qp.bind(this),D.addEventListener("load",C),D.addEventListener("error",C),E?E.parentNode.insertBefore(D,E.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(D,u.firstChild)),h.state.loading|=4}}var Ef={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function cP(u,h,p,C,D,E,G,j){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=C,this.onUncaughtError=D,this.onCaughtError=E,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function fT(u,h,p,C,D,E,G,j,ee,me,Le,Ne){return u=new cP(u,h,p,G,j,ee,me,Ne),h=1,E===!0&&(h|=24),E=Nr(3,null,null,h),u.current=E,E.stateNode=u,h=RS(),h.refCount++,u.pooledCache=h,h.refCount++,E.memoizedState={element:C,isDehydrated:p,cache:h},bd(E),u}function gT(u){return u?(u=hd,u):hd}function Ox(u,h,p,C,D,E){D=gT(D),C.context===null?C.context=D:C.pendingContext=D,C=Hc(h),C.payload={element:p},E=E===void 0?null:E,E!==null&&(C.callback=E),p=Nl(u,C,h),p!==null&&(So(p,u,h),lp(p,u,h))}function Nx(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var p=u.retryLane;u.retryLane=p!==0&&p<h?p:h}}function Fx(u,h){Nx(u,h),(u=u.alternate)&&Nx(u,h)}function pT(u){if(u.tag===13){var h=dd(u,67108864);h!==null&&So(h,u,67108864),Fx(u,67108864)}}var pb=!0;function uP(u,h,p,C){var D=X.T;X.T=null;var E=ne.p;try{ne.p=2,_x(u,h,p,C)}finally{ne.p=E,X.T=D}}function If(u,h,p,C){var D=X.T;X.T=null;var E=ne.p;try{ne.p=8,_x(u,h,p,C)}finally{ne.p=E,X.T=D}}function _x(u,h,p,C){if(pb){var D=Bx(C);if(D===null)$l(u,h,C,mb,p),yT(u,C);else if(hP(D,u,h,p,C))C.stopPropagation();else if(yT(u,C),h&4&&-1<dP.indexOf(u)){for(;D!==null;){var E=Oh(D);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var G=kr(E.pendingLanes);if(G!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;G;){var ee=1<<31-tn(G);j.entanglements[1]|=ee,G&=~ee}Qa(E),(Hn&6)===0&&(vf=st()+500,Hp(0))}}break;case 13:j=dd(E,2),j!==null&&So(j,E,2),Jv(),Fx(E,2)}if(E=Bx(C),E===null&&$l(u,h,C,mb,p),E===D)break;D=E}D!==null&&C.stopPropagation()}else $l(u,h,C,null,p)}}function Bx(u){return u=lS(u),Gx(u)}var mb=null;function Gx(u){if(mb=null,u=Ph(u),u!==null){var h=r(u);if(h===null)u=null;else{var p=h.tag;if(p===13){if(u=o(h),u!==null)return u;u=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return mb=u,null}function mT(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case Ze:return 2;case et:return 8;case lt:case vt:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var yb=!1,Yl=null,iu=null,su=null,Zp=new Map,Xp=new Map,ru=[],dP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yT(u,h){switch(u){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":Zp.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(h.pointerId)}}function Qp(u,h,p,C,D,E){return u===null||u.nativeEvent!==E?(u={blockedOn:h,domEventName:p,eventSystemFlags:C,nativeEvent:E,targetContainers:[D]},h!==null&&(h=Oh(h),h!==null&&pT(h)),u):(u.eventSystemFlags|=C,h=u.targetContainers,D!==null&&h.indexOf(D)===-1&&h.push(D),u)}function hP(u,h,p,C,D){switch(h){case"focusin":return Yl=Qp(Yl,u,h,p,C,D),!0;case"dragenter":return iu=Qp(iu,u,h,p,C,D),!0;case"mouseover":return su=Qp(su,u,h,p,C,D),!0;case"pointerover":var E=D.pointerId;return Zp.set(E,Qp(Zp.get(E)||null,u,h,p,C,D)),!0;case"gotpointercapture":return E=D.pointerId,Xp.set(E,Qp(Xp.get(E)||null,u,h,p,C,D)),!0}return!1}function vT(u){var h=Ph(u.target);if(h!==null){var p=r(h);if(p!==null){if(h=p.tag,h===13){if(h=o(p),h!==null){u.blockedOn=h,Yw(u.priority,function(){if(p.tag===13){var C=tr();C=Lr(C);var D=dd(p,C);D!==null&&So(D,p,C),Fx(p,C)}});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){u.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}u.blockedOn=null}function vb(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var p=Bx(u.nativeEvent);if(p===null){p=u.nativeEvent;var C=new p.constructor(p.type,p);Jy=C,p.target.dispatchEvent(C),Jy=null}else return h=Oh(p),h!==null&&pT(h),u.blockedOn=p,!1;h.shift()}return!0}function bT(u,h,p){vb(u)&&p.delete(h)}function fP(){yb=!1,Yl!==null&&vb(Yl)&&(Yl=null),iu!==null&&vb(iu)&&(iu=null),su!==null&&vb(su)&&(su=null),Zp.forEach(bT),Xp.forEach(bT)}function bb(u,h){u.blockedOn===h&&(u.blockedOn=null,yb||(yb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fP)))}var Cb=null;function CT(u){Cb!==u&&(Cb=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cb===u&&(Cb=null);for(var h=0;h<u.length;h+=3){var p=u[h],C=u[h+1],D=u[h+2];if(typeof C!="function"){if(Gx(C||p)===null)continue;break}var E=Oh(p);E!==null&&(u.splice(h,3),h-=3,bp(E,{pending:!0,data:D,method:p.method,action:C},C,D))}}))}function Jp(u){function h(ee){return bb(ee,u)}Yl!==null&&bb(Yl,u),iu!==null&&bb(iu,u),su!==null&&bb(su,u),Zp.forEach(h),Xp.forEach(h);for(var p=0;p<ru.length;p++){var C=ru[p];C.blockedOn===u&&(C.blockedOn=null)}for(;0<ru.length&&(p=ru[0],p.blockedOn===null);)vT(p),p.blockedOn===null&&ru.shift();if(p=(u.ownerDocument||u).$$reactFormReplay,p!=null)for(C=0;C<p.length;C+=3){var D=p[C],E=p[C+1],G=D[As]||null;if(typeof E=="function")G||CT(p);else if(G){var j=null;if(E&&E.hasAttribute("formAction")){if(D=E,G=E[As]||null)j=G.formAction;else if(Gx(D)!==null)continue}else j=G.action;typeof j=="function"?p[C+1]=j:(p.splice(C,3),C-=3),CT(p)}}}function zx(u){this._internalRoot=u}wb.prototype.render=zx.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(i(409));var p=h.current,C=tr();Ox(p,C,u,h,null,null)},wb.prototype.unmount=zx.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Ox(u.current,2,null,u,null,null),Jv(),h[Ic]=null}};function wb(u){this._internalRoot=u}wb.prototype.unstable_scheduleHydration=function(u){if(u){var h=Uy();u={blockedOn:null,target:u,priority:h};for(var p=0;p<ru.length&&h!==0&&h<ru[p].priority;p++);ru.splice(p,0,u),p===0&&vT(u)}};var wT=t.version;if(wT!=="19.1.0")throw Error(i(527,wT,"19.1.0"));ne.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=l(h),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var gP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sb.isDisabled&&Sb.supportsFiber)try{us=Sb.inject(gP),bn=Sb}catch{}}return Vx.createRoot=function(u,h){if(!s(u))throw Error(i(299));var p=!1,C="",D=JS,E=Gv,G=oR,j=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(D=h.onUncaughtError),h.onCaughtError!==void 0&&(E=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(j=h.unstable_transitionCallbacks)),h=fT(u,1,!1,null,null,p,C,D,E,G,j,null),u[Ic]=h.current,Rx(u),new zx(h)},Vx.hydrateRoot=function(u,h,p){if(!s(u))throw Error(i(299));var C=!1,D="",E=JS,G=Gv,j=oR,ee=null,me=null;return p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onUncaughtError!==void 0&&(E=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(j=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ee=p.unstable_transitionCallbacks),p.formState!==void 0&&(me=p.formState)),h=fT(u,1,!0,h,p??null,C,D,E,G,j,ee,me),h.context=gT(null),p=h.current,C=tr(),C=Lr(C),D=Hc(C),D.callback=null,Nl(p,D,C),p=C,h.current.lanes=p,lr(h,p),Qa(h),u[Ic]=h.current,Rx(u),new wb(h)},Vx.version="19.1.0",Vx}var Oz;function CQ(){if(Oz)return wP.exports;Oz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wP.exports=bQ(),wP.exports}var wQ=CQ(),jx={},Nz;function SQ(){if(Nz)return jx;Nz=1,Object.defineProperty(jx,"__esModule",{value:!0}),jx.parse=o,jx.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const v=new r,w=g.length;if(w<2)return v;const S=(y==null?void 0:y.decode)||d;let x=0;do{const M=g.indexOf("=",x);if(M===-1)break;const A=g.indexOf(";",x),k=A===-1?w:A;if(M>k){x=g.lastIndexOf(";",M-1)+1;continue}const I=a(g,x,M),P=l(g,M,I),N=g.slice(I,P);if(v[N]===void 0){let B=a(g,M+1,k),z=l(g,k,B);const W=S(g.slice(B,z));v[N]=W}x=k+1}while(x<w);return v}function a(g,y,v){do{const w=g.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function l(g,y,v){for(;y>v;){const w=g.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function c(g,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=w(y);if(!t.test(S))throw new TypeError(`argument val is invalid: ${y}`);let x=g+"="+S;if(!v)return x;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);x+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);x+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);x+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);x+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(x+="; HttpOnly"),v.secure&&(x+="; Secure"),v.partitioned&&(x+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return x}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function f(g){return s.call(g)==="[object Date]"}return jx}SQ();var Fz="popstate";function xQ(e={}){function t(s,r){let{pathname:o="/",search:a="",hash:l=""}=by(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bN("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof r=="string"?r:H0(r))}function i(s,r){pc(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return DQ(t,n,i,e)}function Xi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MQ(){return Math.random().toString(36).substring(2,10)}function _z(e,t){return{usr:e.state,key:e.key,idx:t}}function bN(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?by(t):t,state:n,key:t&&t.key||i||MQ()}}function H0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function by(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function DQ(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:w.location,delta:x})}function g(S,x){a="PUSH";let M=bN(w.location,S,x);n&&n(M,S),c=d()+1;let A=_z(M,c),k=w.createHref(M);try{o.pushState(A,"",k)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(k)}r&&l&&l({action:a,location:w.location,delta:1})}function y(S,x){a="REPLACE";let M=bN(w.location,S,x);n&&n(M,S),c=d();let A=_z(M,c),k=w.createHref(M);o.replaceState(A,"",k),r&&l&&l({action:a,location:w.location,delta:0})}function v(S){return AQ(S)}let w={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Fz,f),l=S,()=>{s.removeEventListener(Fz,f),l=null}},createHref(S){return t(s,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:y,go(S){return o.go(S)}};return w}function AQ(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xi(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:H0(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function j4(e,t,n="/"){return RQ(e,t,n,!1)}function RQ(e,t,n,i){let s=typeof t=="string"?by(t):t,r=sh(s.pathname||"/",n);if(r==null)return null;let o=W4(e);TQ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=GQ(r);a=_Q(o[l],c,i)}return a}function W4(e,t=[],n=[],i=""){let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Xi(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=qd([i,l.relativePath]),d=n.concat(l);r.children&&r.children.length>0&&(Xi(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),W4(r.children,t,d,c)),!(r.path==null&&!r.index)&&t.push({path:c,score:NQ(c,r.index),routesMeta:d})};return e.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of U4(r.path))s(r,o,l)}),t}function U4(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=U4(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function TQ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FQ(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var EQ=/^:[\w-]+$/,IQ=3,kQ=2,LQ=1,PQ=10,OQ=-2,Bz=e=>e==="*";function NQ(e,t){let n=e.split("/"),i=n.length;return n.some(Bz)&&(i+=OQ),t&&(i+=kQ),n.filter(s=>!Bz(s)).reduce((s,r)=>s+(EQ.test(r)?IQ:r===""?LQ:PQ),i)}function FQ(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function _Q(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=r==="/"?t:t.slice(r.length)||"/",f=YE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=YE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:qd([r,f.pathname]),pathnameBase:jQ(qd([r,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(r=qd([r,f.pathnameBase]))}return o}function YE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=BQ(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:f},g)=>{if(d==="*"){let v=a[g]||"";o=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[g];return f&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:e}}function BQ(e,t=!1,n=!0){pc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function GQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function zQ(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?by(e):e;return{pathname:n?n.startsWith("/")?n:HQ(n,t):t,search:WQ(i),hash:UQ(s)}}function HQ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function DP(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VQ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $4(e){let t=VQ(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Y4(e,t,n,i=!1){let s;typeof e=="string"?s=by(e):(s={...e},Xi(!s.pathname||!s.pathname.includes("?"),DP("?","pathname","search",s)),Xi(!s.pathname||!s.pathname.includes("#"),DP("#","pathname","hash",s)),Xi(!s.search||!s.search.includes("#"),DP("#","search","hash",s)));let r=e===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=zQ(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var qd=e=>e.join("/").replace(/\/\/+/g,"/"),jQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $Q(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var K4=["POST","PUT","PATCH","DELETE"];new Set(K4);var YQ=["GET",...K4];new Set(YQ);var rw=T.createContext(null);rw.displayName="DataRouter";var h1=T.createContext(null);h1.displayName="DataRouterState";var q4=T.createContext({isTransitioning:!1});q4.displayName="ViewTransition";var KQ=T.createContext(new Map);KQ.displayName="Fetchers";var qQ=T.createContext(null);qQ.displayName="Await";var Uu=T.createContext(null);Uu.displayName="Navigation";var HM=T.createContext(null);HM.displayName="Location";var $u=T.createContext({outlet:null,matches:[],isDataRoute:!1});$u.displayName="Route";var D2=T.createContext(null);D2.displayName="RouteError";function ZQ(e,{relative:t}={}){Xi(VM(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(Uu),{hash:s,pathname:r,search:o}=jM(e,{relative:t}),a=r;return n!=="/"&&(a=r==="/"?n:qd([n,r])),i.createHref({pathname:a,search:o,hash:s})}function VM(){return T.useContext(HM)!=null}function Yu(){return Xi(VM(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(HM).location}var Z4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X4(e){T.useContext(Uu).static||T.useLayoutEffect(e)}function A2(){let{isDataRoute:e}=T.useContext($u);return e?dJ():XQ()}function XQ(){Xi(VM(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(rw),{basename:t,navigator:n}=T.useContext(Uu),{matches:i}=T.useContext($u),{pathname:s}=Yu(),r=JSON.stringify($4(i)),o=T.useRef(!1);return X4(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(pc(o.current,Z4),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Y4(l,JSON.parse(r),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:qd([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,r,s,e])}var QQ=T.createContext(null);function JQ(e){let t=T.useContext($u).outlet;return t&&T.createElement(QQ.Provider,{value:e},t)}function jM(e,{relative:t}={}){let{matches:n}=T.useContext($u),{pathname:i}=Yu(),s=JSON.stringify($4(n));return T.useMemo(()=>Y4(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function eJ(e,t){return Q4(e,t)}function Q4(e,t,n,i){var x;Xi(VM(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Uu),{matches:r}=T.useContext($u),o=r[r.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let M=d&&d.path||"";J4(l,!d||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let f=Yu(),g;if(t){let M=typeof t=="string"?by(t):t;Xi(c==="/"||((x=M.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${M.pathname}" was given in the \`location\` prop.`),g=M}else g=f;let y=g.pathname||"/",v=y;if(c!=="/"){let M=c.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=j4(e,{pathname:v});pc(d||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),pc(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=rJ(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},a,M.params),pathname:qd([c,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?c:qd([c,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),r,n,i);return t&&S?T.createElement(HM.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function tJ(){let e=uJ(),t=$Q(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:r},"ErrorBoundary")," or"," ",T.createElement("code",{style:r},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:s},n):null,o)}var nJ=T.createElement(tJ,null),iJ=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement($u.Provider,{value:this.props.routeContext},T.createElement(D2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sJ({routeContext:e,match:t,children:n}){let i=T.useContext(rw);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement($u.Provider,{value:e},n)}function rJ(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let l=s.findIndex(c=>c.route.id&&(r==null?void 0:r[c.route.id])!==void 0);Xi(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,g=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,c,d)=>{let f,g=!1,y=null,v=null;n&&(f=r&&c.route.id?r[c.route.id]:void 0,y=c.route.errorElement||nJ,o&&(a<0&&d===0?(J4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):a===d&&(g=!0,v=c.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,d+1)),S=()=>{let x;return f?x=y:g?x=v:c.route.Component?x=T.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=l,T.createElement(sJ,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(iJ,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function R2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oJ(e){let t=T.useContext(rw);return Xi(t,R2(e)),t}function aJ(e){let t=T.useContext(h1);return Xi(t,R2(e)),t}function lJ(e){let t=T.useContext($u);return Xi(t,R2(e)),t}function T2(e){let t=lJ(e),n=t.matches[t.matches.length-1];return Xi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cJ(){return T2("useRouteId")}function uJ(){var i;let e=T.useContext(D2),t=aJ("useRouteError"),n=T2("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function dJ(){let{router:e}=oJ("useNavigate"),t=T2("useNavigate"),n=T.useRef(!1);return X4(()=>{n.current=!0}),T.useCallback(async(s,r={})=>{pc(n.current,Z4),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var Gz={};function J4(e,t,n){!t&&!Gz[e]&&(Gz[e]=!0,pc(!1,n))}T.memo(hJ);function hJ({routes:e,future:t,state:n}){return Q4(e,void 0,n,t)}function fJ(e){return JQ(e.context)}function Bf(e){Xi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gJ({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Xi(!VM(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof n=="string"&&(n=by(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:g="default"}=n,y=T.useMemo(()=>{let v=sh(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:g},navigationType:i}},[o,l,c,d,f,g,i]);return pc(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(Uu.Provider,{value:a},T.createElement(HM.Provider,{children:t,value:y}))}function pJ({children:e,location:t}){return eJ(CN(e),t)}function CN(e,t=[]){let n=[];return T.Children.forEach(e,(i,s)=>{if(!T.isValidElement(i))return;let r=[...t,s];if(i.type===T.Fragment){n.push.apply(n,CN(i.props.children,r));return}Xi(i.type===Bf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=CN(i.props.children,r)),n.push(o)}),n}var cE="get",uE="application/x-www-form-urlencoded";function f1(e){return e!=null&&typeof e.tagName=="string"}function mJ(e){return f1(e)&&e.tagName.toLowerCase()==="button"}function yJ(e){return f1(e)&&e.tagName.toLowerCase()==="form"}function vJ(e){return f1(e)&&e.tagName.toLowerCase()==="input"}function bJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CJ(e,t){return e.button===0&&(!t||t==="_self")&&!bJ(e)}var MT=null;function wJ(){if(MT===null)try{new FormData(document.createElement("form"),0),MT=!1}catch{MT=!0}return MT}var SJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function AP(e){return e!=null&&!SJ.has(e)?(pc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uE}"`),null):e}function xJ(e,t){let n,i,s,r,o;if(yJ(e)){let a=e.getAttribute("action");i=a?sh(a,t):null,n=e.getAttribute("method")||cE,s=AP(e.getAttribute("enctype"))||uE,r=new FormData(e)}else if(mJ(e)||vJ(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?sh(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||cE,s=AP(e.getAttribute("formenctype"))||AP(a.getAttribute("enctype"))||uE,r=new FormData(a,e),!wJ()){let{name:c,type:d,value:f}=e;if(d==="image"){let g=c?`${c}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else c&&r.append(c,f)}}else{if(f1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cE,i=null,s=uE,o=e}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:o}}function E2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function MJ(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DJ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AJ(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await MJ(r,n);return o.links?o.links():[]}return[]}));return IJ(i.flat(1).filter(DJ).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zz(e,t,n,i,s,r){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):r==="data"?t.filter((l,c)=>{var f;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function RJ(e,t,{includeHydrateFallback:n}={}){return TJ(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function TJ(e){return[...new Set(e)]}function EJ(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function IJ(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(EJ(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kJ=new Set([100,101,204,205]);function LJ(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&sh(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eU(){let e=T.useContext(rw);return E2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function PJ(){let e=T.useContext(h1);return E2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var I2=T.createContext(void 0);I2.displayName="FrameworkContext";function tU(){let e=T.useContext(I2);return E2(e,"You must render this element inside a <HydratedRouter> element"),e}function OJ(e,t){let n=T.useContext(I2),[i,s]=T.useState(!1),[r,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=x=>{x.forEach(M=>{o(M.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),T.useEffect(()=>{if(i){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[i]);let y=()=>{s(!0)},v=()=>{s(!1),o(!1)};return n?e!=="intent"?[r,g,{}]:[r,g,{onFocus:Wx(a,y),onBlur:Wx(l,v),onMouseEnter:Wx(c,y),onMouseLeave:Wx(d,v),onTouchStart:Wx(f,y)}]:[!1,g,{}]}function Wx(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function NJ({page:e,...t}){let{router:n}=eU(),i=T.useMemo(()=>j4(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?T.createElement(_J,{page:e,matches:i,...t}):null}function FJ(e){let{manifest:t,routeModules:n}=tU(),[i,s]=T.useState([]);return T.useEffect(()=>{let r=!1;return AJ(e,t,n).then(o=>{r||s(o)}),()=>{r=!0}},[e,t,n]),i}function _J({page:e,matches:t,...n}){let i=Yu(),{manifest:s,routeModules:r}=tU(),{basename:o}=eU(),{loaderData:a,matches:l}=PJ(),c=T.useMemo(()=>zz(e,t,l,s,i,"data"),[e,t,l,s,i]),d=T.useMemo(()=>zz(e,t,l,s,i,"assets"),[e,t,l,s,i]),f=T.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let v=new Set,w=!1;if(t.forEach(x=>{var A;let M=s.routes[x.route.id];!M||!M.hasLoader||(!c.some(k=>k.route.id===x.route.id)&&x.route.id in a&&((A=r[x.route.id])!=null&&A.shouldRevalidate)||M.hasClientLoader?w=!0:v.add(x.route.id))}),v.size===0)return[];let S=LJ(e,o);return w&&v.size>0&&S.searchParams.set("_routes",t.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[o,a,i,s,c,t,e,r]),g=T.useMemo(()=>RJ(d,s),[d,s]),y=FJ(d);return T.createElement(T.Fragment,null,f.map(v=>T.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>T.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>T.createElement("link",{key:v,...w})))}function BJ(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nU&&(window.__reactRouterVersion="7.6.2")}catch{}function GJ({basename:e,children:t,window:n}){let i=T.useRef();i.current==null&&(i.current=xQ({window:n,v5Compat:!0}));let s=i.current,[r,o]=T.useState({action:s.action,location:s.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>s.listen(a),[s,a]),T.createElement(gJ,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var iU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sU=T.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...g},y){let{basename:v}=T.useContext(Uu),w=typeof c=="string"&&iU.test(c),S,x=!1;if(typeof c=="string"&&w&&(S=c,nU))try{let z=new URL(window.location.href),W=c.startsWith("//")?new URL(z.protocol+c):new URL(c),Y=sh(W.pathname,v);W.origin===z.origin&&Y!=null?c=Y+W.search+W.hash:x=!0}catch{pc(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=ZQ(c,{relative:s}),[A,k,I]=OJ(i,g),P=jJ(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function N(z){t&&t(z),z.defaultPrevented||P(z)}let B=T.createElement("a",{...g,...I,href:S||M,onClick:x||r?t:N,ref:BJ(y,k),target:l,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?T.createElement(T.Fragment,null,B,T.createElement(NJ,{page:M})):B});sU.displayName="Link";var zJ=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...c},d){let f=jM(o,{relative:c.relative}),g=Yu(),y=T.useContext(h1),{navigator:v,basename:w}=T.useContext(Uu),S=y!=null&&KJ(f)&&a===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,M=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&w&&(A=sh(A,w)||A);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let I=M===x||!s&&M.startsWith(x)&&M.charAt(k)==="/",P=A!=null&&(A===x||!s&&A.startsWith(x)&&A.charAt(x.length)==="/"),N={isActive:I,isPending:P,isTransitioning:S},B=I?t:void 0,z;typeof i=="function"?z=i(N):z=[i,I?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof r=="function"?r(N):r;return T.createElement(sU,{...c,"aria-current":B,className:z,ref:d,style:W,to:o,viewTransition:a},typeof l=="function"?l(N):l)});zJ.displayName="NavLink";var HJ=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:o=cE,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...g},y)=>{let v=$J(),w=YJ(a,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&iU.test(a),M=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,I=(k==null?void 0:k.getAttribute("formmethod"))||o;v(k||A.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:s,state:r,relative:c,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:y,method:S,action:w,onSubmit:i?l:M,...g,"data-discover":!x&&e==="render"?"true":void 0})});HJ.displayName="Form";function VJ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rU(e){let t=T.useContext(rw);return Xi(t,VJ(e)),t}function jJ(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=A2(),l=Yu(),c=jM(e,{relative:r});return T.useCallback(d=>{if(CJ(d,t)){d.preventDefault();let f=n!==void 0?n:H0(l)===H0(c);a(e,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,c,n,i,t,e,s,r,o])}var WJ=0,UJ=()=>`__${String(++WJ)}__`;function $J(){let{router:e}=rU("useSubmit"),{basename:t}=T.useContext(Uu),n=cJ();return T.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:c}=xJ(i,t);if(s.navigate===!1){let d=s.fetcherKey||UJ();await e.fetch(d,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function YJ(e,{relative:t}={}){let{basename:n}=T.useContext(Uu),i=T.useContext($u);Xi(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...jM(e||".",{relative:t})},o=Yu();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();r.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:qd([n,r.pathname])),H0(r)}function KJ(e,t={}){let n=T.useContext(q4);Xi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rU("useViewTransitionState"),s=jM(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=sh(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=sh(n.nextLocation.pathname,i)||n.nextLocation.pathname;return YE(s.pathname,o)!=null||YE(s.pathname,r)!=null}[...kJ];var Cy=V4();const oU=z4(Cy);var qm=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let s=i.get(e);return!s&&n&&(s=new Set,i.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:i}=this,s=a=>{const l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},r=this.getListeners(n,t,!1);if(((r==null?void 0:r.size)??0)>0){const a=new Set(r);for(const l of a)r!=null&&r.has(l)&&s(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)s(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function qJ(e,t){return t}function aU(e){return(e==null?void 0:e.getLocaleTextFunc())??qJ}function mh(e,t,n){n==null||typeof n=="string"&&n==""?lU(e,t):wc(e,t,n)}function wc(e,t,n){e.setAttribute(cU(t),n.toString())}function lU(e,t){e.removeAttribute(cU(t))}function cU(e){return`aria-${e}`}function Zm(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function ZJ(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function XJ(e){return e.getAttribute("aria-label")}function g1(e,t){mh(e,"label",t)}function wN(e,t){mh(e,"labelledby",t)}function uU(e,t){mh(e,"live",t)}function QJ(e,t){mh(e,"atomic",t)}function JJ(e,t){mh(e,"relevant",t)}function eee(e,t){mh(e,"disabled",t)}function dU(e,t){mh(e,"hidden",t)}function SN(e,t){wc(e,"expanded",t)}function tee(e,t){wc(e,"setsize",t)}function nee(e,t){wc(e,"posinset",t)}function iee(e,t){wc(e,"rowcount",t)}function hU(e,t){wc(e,"rowindex",t)}function see(e,t){wc(e,"rowspan",t)}function ree(e,t){wc(e,"colcount",t)}function fU(e,t){wc(e,"colindex",t)}function oee(e,t){wc(e,"colspan",t)}function aee(e,t){wc(e,"sort",t)}function lee(e){lU(e,"sort")}function xN(e,t){mh(e,"selected",t)}function cee(e,t){mh(e,"controls",t.id),wN(t,e.id)}function k2(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var RP,TP,EP,IP,MN,DN,kP;function wy(){return RP===void 0&&(RP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),RP}function gU(){return TP===void 0&&(TP=/(firefox)/i.test(navigator.userAgent)),TP}function pU(){return EP===void 0&&(EP=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),EP}function Om(){return IP===void 0&&(IP=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),IP}function AN(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!gU())?null:t.toString()}function uee(){if(kP!==void 0)return kP;if(!document.body)return-1;let e=1e6;const t=gU()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),kP=e,e}function dee(){return DN==null&&mU(),DN}function mU(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(DN=n,MN=n===0)}function yU(){return MN==null&&mU(),MN}var hee="[tabindex], input, select, button, textarea, [href]",vU="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function L2(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),s=t.call(e,vU),r=Gu(e);return i&&!s&&r}function qi(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||dU(e,!t)}function fee(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||dU(e,!t)}function V0(e,t){const n="disabled",i=t?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);i(e);const s=e.querySelectorAll("input")??[];for(const r of s)i(r)}function Nm(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Sy(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:g,marginBottom:y,marginLeft:v,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(y||"0"),marginLeft:parseFloat(v||"0"),boxSizing:w}}function P2(e){const t=Sy(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function j0(e){const t=Sy(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function bU(e){const{height:t,marginBottom:n,marginTop:i}=Sy(e);return Math.floor(t+n+i)}function KE(e){const{width:t,marginLeft:n,marginRight:i}=Sy(e);return Math.floor(t+n+i)}function CU(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:s,borderBottomWidth:r}=Sy(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(s||0),bottom:t.bottom+(r||0)}}function qE(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function ZE(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Fa(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function rh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function wU(e){return!!e.offsetParent}function Gu(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!wU(e)||window.getComputedStyle(e).visibility!=="visible")}function O2(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function gee(e){return e.clientWidth<e.scrollWidth}function pee(e){return e.clientHeight<e.scrollHeight}function XE(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Iu(e,t)}function Iu(e,t){t=N2(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function C0(e,t){t=N2(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function N2(e){return typeof e=="number"?`${e}px`:e}function F2(e){return e instanceof Node||e instanceof HTMLElement}function pl(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function yh(e,t,n){const s=IU(e).ResizeObserver,r=s?new s(n):null;return r==null||r.observe(t),()=>r==null?void 0:r.disconnect()}function vh(e,t){const n=IU(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var SU="data-ref",LP;function Hz(){return LP??(LP=document.createTextNode(" ")),LP.cloneNode()}function ws(e){const{attrs:t,children:n,cls:i,ref:s,role:r,tag:o}=e,a=document.createElement(o);if(i&&(a.className=i),s&&a.setAttribute(SU,s),r&&a.setAttribute("role",r),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):(l&&(a.appendChild(Hz()),l=!1),a.append(ws(c)),a.appendChild(Hz())))}return a}var Vz={};function _2(e,t){Vz[t]||(e(),Vz[t]=!0)}function Xm(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function w0(e,...t){_2(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function iC(e,...t){_2(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var mee={pending:!1,funcs:[]},yee={pending:!1,funcs:[]};function RN(e,t="setTimeout",n){const i=t==="raf"?yee:mee;if(i.funcs.push(e),i.pending)return;i.pending=!0;const s=()=>{const r=i.funcs.slice();i.funcs.length=0,i.pending=!1,r.forEach(o=>o())};t==="raf"?vh(n,s):window.setTimeout(s,0)}function Dr(e,t,n){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(r,s)},n)}}function jz(e,t){let n=0;return function(...i){const s=this,r=Date.now();r-n<t||(n=r,e.apply(s,i))}}function vee(e,t,n=100,i){const s=Date.now();let r=null,o=!1;const a=()=>{const l=Date.now()-s>n;(e()||l)&&(t(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}function Zd(e){return e==null||e===""?null:e}function Qe(e){return e!=null&&e!==""}function Ti(e){return!Qe(e)}function TN(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function W0(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function bee(e,t,n=!1){const i=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&s)return 0;if(i)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var xU="https://www.ag-grid.com",nt="33.3.2",Wz=2e3,Uz=100,MU="_version_",dE=null,sC=`${xU}/javascript-data-grid`;function Cee(e){dE=e}function wee(e){sC=e}function DU(e,t,n){return(dE==null?void 0:dE.getConsoleMessage(e,t))??[Dee(e,t,n)]}function B2(e,t,n,i){e(`error #${t}`,...DU(t,n,i))}function See(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function xee(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=See(e)),t}function QE(e){return e===void 0?"undefined":e===null?"null":e}function EN(e,t){return`${e}?${t.toString()}`}function Mee(e,t,n){const i=Array.from(t.entries()).sort((r,o)=>o[1].length-r[1].length);let s=EN(e,t);for(const[r,o]of i){if(r===MU)continue;const a=s.length-n;if(a<=0)break;const l="...",c=a+l.length,d=o.length-c>Uz?o.slice(0,o.length-c)+l:o.slice(0,Uz)+l;t.set(r,d),s=EN(e,t)}return s}function AU(e,t){const n=new URLSearchParams;if(n.append(MU,nt),t)for(const r of Object.keys(t))n.append(r,xee(t[r]));const i=`${sC}/errors/${e}`,s=EN(i,n);return s.length<=Wz?s:Mee(i,n,Wz)}var Dee=(e,t,n)=>{const i=AU(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Ue(...e){B2(w0,e[0],e[1])}function li(...e){B2(iC,e[0],e[1])}function o0(e,t,n){B2(iC,e,t,n)}function Aee(e,t){const n=t[0];return`error #${n} `+DU(n,t[1],e).join(" ")}function rg(...e){return Aee(void 0,e)}function RU(e,t){return e.get("rowModelType")===t}function ir(e,t){return RU(e,"clientSide")}function xy(e,t){return RU(e,"serverSide")}function Rr(e,t){return e.get("domLayout")===t}function Fm(e){return eI(e)!==void 0}function TU(e){return typeof e.get("getRowHeight")=="function"}function Ree(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function pg(e,t,n=!1,i){const{gos:s,environment:r}=e;if(i==null&&(i=r.getDefaultRowHeight()),TU(s)){if(n)return{height:i,estimated:!0};const l={node:t,data:t.data},c=s.getCallback("getRowHeight")(l);if(IN(c))return c===0&&Ue(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&s.get("masterDetail"))return Tee(s);const o=s.get("rowHeight");return{height:o&&IN(o)?o:i,estimated:!1}}function Tee(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return IN(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function _m(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Ti(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(Ue(24),t.getDefaultRowHeight())}function IN(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function EU(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function Qm(e,t,n,i){const s=e.getDomDataKey();let r=t[s];Ti(r)&&(r={},t[s]=r),r[n]=i}function sr(e){const{gos:t,eGridDiv:n}=e;let i=null;const s=t.get("getDocument");return s&&Qe(s)?i=s():n&&(i=n.ownerDocument),i&&Qe(i)?i:document}function IU(e){return sr(e).defaultView||window}function U0(e){return e.eGridDiv.getRootNode()}function zi(e){return U0(e).activeElement}function G2(e){let t=null,n=null;try{t=sr(e).fullscreenElement}catch{}finally{t||(t=U0(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function Eee(e){const t=G2(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function Iee(e){const t=G2(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function kee(e,t,n){const s=e.getBoundingClientRect().height,r=Eee(n)-2,o=Iee(n)-2;if(!e.offsetParent)return;const l=CU(e.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-s/2,g=d-l.left-10;const y=sr(n),v=y.defaultView||window,w=v.pageYOffset||y.documentElement.scrollTop,S=v.pageXOffset||y.documentElement.scrollLeft;r>0&&g+e.clientWidth>r+S&&(g=r+S-e.clientWidth),g<0&&(g=0),o>0&&f+e.clientHeight>o+w&&(f=o+w-e.clientHeight),f<0&&(f=0),e.style.left=`${g}px`,e.style.top=`${f}px`}function kU(e){const t=zi(e);return t===null||t===sr(e).body}function rC(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function LU(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Rr(e,"print"))}function yu(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function kN(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function PU(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function OU(e,t,n){return!!t.group&&!t.footer&&PU(e,n)}function _C(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(_2(()=>Ue(25,{id:i}),"getRowIdString"),i=String(i)),i}}function Lee(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Pee(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function oC(e){return(e==null?void 0:e.checkboxes)??!0}function hE(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function JE(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function PP(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function Oee(e){return typeof e.get("rowSelection")!="string"}function mg(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function NU(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Nee(e){const t=NU(e);return t===!0||t==="enableSelection"}function Fee(e){const t=NU(e);return t===!0||t==="enableDeselection"}function LN(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function eI(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function tI(e){return eI(e)==="multiRow"}function _ee(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function nI(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function FU(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function $0(e){const t=nI(e);return t==="descendants"||t==="filteredDescendants"}function $z(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function OP(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Ra(e){return e.get("columnMenu")==="legacy"}function Bee(e){return!Ra(e)}function _U(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Gee(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(s=>{const r=t[s];typeof r<"u"&&(i[s]=r)}),i}function zee(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const s={type:"gridOptionsChanged",options:n};t.dispatchEvent(s);const r={type:"componentStateChanged",...n};t.dispatchEvent(r)}function Rt(e,t){return e.addGridCommonParams(t)}function Hee(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var BU="__ag_Grid_Stop_Propagation",Vee=["touchstart","touchend","touchmove","touchcancel","scroll"],jee=["wheel"],NP={};function Jm(e){e[BU]=!0}function Xd(e){return e[BU]===!0}var GU=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof NP[n]=="boolean")return NP[n];const i=document.createElement(e[n]||"div");return n="on"+n,NP[n]=n in i}})();function zU(e,t,n){let i=t;for(;i;){const s=EU(e,i,n);if(s)return s;i=i.parentElement}return null}function Wee(e,t){return!t||!e?!1:$ee(t).indexOf(e)>=0}function Uee(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function $ee(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Uee(t)}function Yee(e,t,n,i){const s=HU(n);let r;s!=null&&(r={passive:s}),e&&e.addEventListener&&e.addEventListener(t,n,i,r)}var HU=e=>{const t=Vee.includes(e),n=jee.includes(e);if(t)return!0;if(n)return!1},Te=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new qm),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const s=t[i];s&&n.push(this._setupListener(e,i,s))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return Kee(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Yee(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=s.changeSet.id}const r={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(r)};e.forEach(s=>this.setupGridOptionListener(s,i))}getLocaleTextFunc(){return aU(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Kee(e){return e.__addEventListener!==void 0}var VU=new Set(["__proto__","constructor","prototype"]);function qee(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function Po(e,t,n=!0,i=!1){Qe(t)&&qee(t,(s,r)=>{if(VU.has(s))return;let o=e[s];o!==r&&(i&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},e[s]=o),Yz(r)&&Yz(o)&&!Array.isArray(o)?Po(o,r,n,i):(n||r!==void 0)&&(e[s]=r))})}function S0(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let s=e;for(let r=0;r<i.length;r++){if(s==null)return;s=s[i[r]]}return s}function Yz(e){return typeof e=="object"&&e!==null}var Zee=/[&<>"']/g,Xee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ow(e){return(e==null?void 0:e.toString().toString())??null}function fE(e){var t;return((t=ow(e))==null?void 0:t.replace(Zee,n=>Xee[n]))??null}var Qee={resizable:!0,sortable:!0},Jee=0;function jU(){return Jee++}function oh(e){return e instanceof p1}var p1=class extends Te{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=jU(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new qm,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=fE(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t==null||t.initCol(this);const s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,n==null||n.initCol(this),i==null||i.initCol(this)}setColDef(e,t,n){var s;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((s=this.beans.rowSpanSvc)==null||s.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=Qe(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=Qe(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,s,r;this.frameworkEventListenerService=(s=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(i,this.frameworkEventListenerService,this.colEventSvc);const n=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(e,t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(e,t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Rt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Qee[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Rt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ti(this.sort)}isSorting(){return Qe(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return Ue(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Rt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ti(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Ti(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&Po(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Xr(e){return e instanceof gE}var gE=class extends Te{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=jU(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)oh(t)?e(t):Xr(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{oh(t)?e.push(t):Xr(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let r=0,o=i.length;r<o;r++){const a=i[r];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const s=e&&t&&n;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{Xr(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},ete={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Kz(e,t,n){const i={},s=e.gos;return Object.assign(i,s.get("defaultColGroupDef")),Object.assign(i,t),s.validateColDef(i,n),i}var tte=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=TN(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const s=String(i);return e&&n>0&&Ue(273,{providedId:e,usedId:s}),this.existingKeys[s]=!0,s}n++}}},qz=Object.freeze([]);function Un(e){if(e!=null&&e.length)return e[e.length-1]}function My(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,s)=>n?n(i,t[s]):t[s]===i)}function DT(e,t){if(e)for(const n of e)t(n)}function bl(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function Zz(e,t,n){for(let i=0;i<t.length;i++)bl(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var m1="ag-Grid-AutoColumn",WU="ag-Grid-SelectionColumn",UU="ag-Grid-RowNumbersColumn";function $U(e){const t=[],n=i=>{for(let s=0;s<i.length;s++){const r=i[s];oh(r)?t.push(r):Xr(r)&&n(r.getChildren())}};return n(e),t}function Hd(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function iI(e,t,n){const i={};if(!t)return;Qd(null,t,r=>{i[r.getInstanceId()]=r}),n&&Qd(null,n,r=>{i[r.getInstanceId()]=null});const s=Object.values(i).filter(r=>r!=null);e.context.destroyBeans(s)}function z2(e){return e.getId().startsWith(m1)}function aw(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(WU))??!1}function Bm(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(UU))??!1}function sI(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function nte(e,t){return My(e,t,(n,i)=>n.getColId()===i.getColId())}function ite(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function aC(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function YU(e,t){const n=e===t,i=e.getColDef()===t,s=e.getColId()==t;return n||i||s}var ste=(e,t)=>(n,i)=>{const s={value1:void 0,value2:void 0};let r=!1;return e&&(e[n]!==void 0&&(s.value1=e[n],r=!0),Qe(i)&&e[i]!==void 0&&(s.value2=e[i],r=!0)),!r&&t&&(t[n]!==void 0&&(s.value1=t[n]),Qe(i)&&t[i]!==void 0&&(s.value2=t[i])),s};function rte(e,t=null,n,i,s){const r=new tte,{existingCols:o,existingGroups:a,existingColKeys:l}=ote(i);r.addExistingKeys(l);const c=KU(e,t,0,n,o,r,a,s),{colGroupSvc:d}=e,f=(d==null?void 0:d.findMaxDepth(c,0))??0,g=d?d.balanceColumnTree(c,0,f,r):c;return Qd(null,g,(v,w)=>{Xr(v)&&v.setupExpandable(),v.originalParent=w}),{columnTree:g,treeDepth:f}}function ote(e){const t=[],n=[],i=[];return e&&Qd(null,e,s=>{if(Xr(s)){const r=s;n.push(r)}else{const r=s;i.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function KU(e,t,n,i,s,r,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){const f=t[d];l&&hte(f)?c[d]=l.createProvidedColumnGroup(i,f,n,s,r,o,a):c[d]=ate(e,i,f,s,r,a)}return c}function ate(e,t,n,i,s,r){var l;const o=cte(n,i);o&&(i==null||i.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const c=PN(e,n,a.getColId());a.setColDef(c,n,r),lte(e,a,c,r)}else{const c=s.getUniqueKey(n.colId,n.field),d=PN(e,n,c);a=new p1(d,n,c,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function qU(e,t,n,i,s,r,o,a){const{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),s!==void 0&&l.setColSortIndex(t,s)),r!==void 0&&(c==null||c.setColPinned(t,r)),o!==void 0&&(d==null||d.setColFlex(t,o))}function lte(e,t,n,i){qU(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const s=t.getFlex();if(!(s!=null&&s>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const r=t.getActualWidth();t.setActualWidth(r,i)}}function cte(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function PN(e,t,n,i){const{gos:s,dataTypeSvc:r}=e,o={},a=s.get("defaultColDef");Po(o,a,!1,!0);const l=ute(e,o,t,n);l&&dte(e,l,o),Po(o,t,!1,!0);const c=s.get("autoGroupColumnDef"),d=yu(s);return t.rowGroup&&c&&d&&Po(o,{sort:c.sort,initialSort:c.initialSort},!1,!0),r==null||r.validateColDef(o),s.validateColDef(o,n,i),o}function ute(e,t,n,i){var o;const s=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,n,i),r=n.type??s??t.type;return t.type=r,r?sI(r):void 0}function dte(e,t,n){if(!t.length)return;const i=Object.assign({},ete),s=e.gos.get("columnTypes")||{};for(const r of Object.keys(s)){const o=s[r];r in i?Ue(34,{key:r}):(o.type&&Ue(35),i[r]=o)}t.forEach(r=>{const o=i[r.trim()];o?Po(n,o,!1,!0):Ue(36,{t:r})})}function hte(e){return e.children!==void 0}function Qd(e,t,n){if(t)for(let i=0;i<t.length;i++){const s=t[i];Xr(s)&&Qd(s,s.getChildren(),n),n(s,e)}}function ZU(e,t){const n=[],i=[],s=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?s.push(o):a==="left"||a===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...s,...i,...n]:[...n,...i,...s]}function XU(e,t){let n=!0;return Qd(null,t,i=>{if(!Xr(i))return;const s=i,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];s.getLeafColumns().forEach(g=>{const y=e.indexOf(g);a.push(y)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,f=s.getLeafColumns().length-1;d>f&&(n=!1)}),n}function QU(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function JU(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,s=QU(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:i,source:n})}function fte(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,s=QU(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:i,source:n})}function gte(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function BC(e,t,n,i,s=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:n,source:i})}function hc(e,t,n){var I;const{colModel:i,rowGroupColsSvc:s,pivotColsSvc:r,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:f,valueColsSvc:g,eventSvc:y,gos:v}=e,w=i.getColDefCols()??[],S=a==null?void 0:a.getColumns();if(!(w!=null&&w.length)&&!(S!=null&&S.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return Ue(32),!1;const x=(P,N,B,z,W)=>{if(!P)return;const Y=ste(N,t.defaultState),K=Y("flex").value1;if(qU(e,P,Y("hide").value1,Y("sort").value1,Y("sortIndex").value1,Y("pinned").value1,K,n),K==null){const q=Y("width").value1;if(q!=null){const te=P.getColDef().minWidth??f.getDefaultColumnMinWidth();te!=null&&q>=te&&P.setActualWidth(q,n)}}W||!P.isPrimary()||(g==null||g.syncColumnWithState(P,n,Y),s==null||s.syncColumnWithState(P,n,Y,B),r==null||r.syncColumnWithState(P,n,Y,z))},M=(P,N,B)=>{var ie,ve;const z=e3(e,n),W=N.slice(),Y={},K={},q=[],te=[],re=[];let X=0;const ne=(s==null?void 0:s.columns.slice())??[],Z=(r==null?void 0:r.columns.slice())??[];P.forEach(J=>{const he=J.colId;if(he.startsWith(m1)){q.push(J),re.push(J);return}if(aw(he)){te.push(J),re.push(J);return}const we=B(he);we?(x(we,J,Y,K,!1),bl(W,we)):(re.push(J),X+=1)});const Se=J=>x(J,null,Y,K,!1);W.forEach(Se),s==null||s.sortColumns(Xz.bind(s,Y,ne)),r==null||r.sortColumns(Xz.bind(r,K,Z)),i.refreshCols(!1);const U=(J,he,Ee=[])=>{he.forEach(we=>{const Me=J(we.colId);bl(Ee,Me),x(Me,we,null,null,!0)}),Ee.forEach(Se)};return U(J=>(o==null?void 0:o.getColumn(J))??null,q,(ie=o==null?void 0:o.getColumns())==null?void 0:ie.slice()),U(J=>(a==null?void 0:a.getColumn(J))??null,te,(ve=a==null?void 0:a.getColumns())==null?void 0:ve.slice()),mte(t,i,v),c.refresh(n),y.dispatchEvent({type:"columnEverythingChanged",source:n}),z(),{unmatchedAndAutoStates:re,unmatchedCount:X}};l==null||l.start();let{unmatchedAndAutoStates:A,unmatchedCount:k}=M(t.state||[],w,P=>i.getColDefCol(P));if(A.length>0||Qe(t.defaultState)){const P=((I=d==null?void 0:d.getPivotResultCols())==null?void 0:I.list)??[];k=M(A,P,N=>(d==null?void 0:d.getPivotResultCol(N))??null).unmatchedCount}return l==null||l.finish(),k===0}function pte(e,t){var S,x;const{colModel:n,autoColSvc:i,selectionColSvc:s}=e,r=n.getColDefCols();if(!(r!=null&&r.length))return;const o=n.getColDefColTree(),a=$U(o),l=[];let c=1e3,d=1e3;const f=M=>{const A=t3(M);Ti(A.rowGroupIndex)&&A.rowGroup&&(A.rowGroupIndex=c++),Ti(A.pivotIndex)&&A.pivot&&(A.pivotIndex=d++),l.push(A)};(S=i==null?void 0:i.getColumns())==null||S.forEach(f),(x=s==null?void 0:s.getColumns())==null||x.forEach(f),a==null||a.forEach(f),hc(e,{state:l},t);const g=(i==null?void 0:i.getColumns())??[],w=[...(s==null?void 0:s.getColumns())??[],...g,...r].map(M=>({colId:M.colId}));hc(e,{state:w,applyOrder:!0},t)}function e3(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:s,colModel:r,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(s==null?void 0:s.columns.slice())??[]},c=rI(e),d={};return c.forEach(f=>{d[f.colId]=f}),()=>{const f=(P,N,B,z)=>{const W=N.map(z),Y=B.map(z);if(My(W,Y))return;const q=new Set(N);B.forEach(re=>{q.delete(re)||q.add(re)});const te=[...q];a.dispatchEvent({type:P,columns:te,column:te.length===1?te[0]:null,source:t})},g=P=>{const N=[];return r.forAllCols(B=>{const z=d[B.getColId()];z&&P(z,B)&&N.push(B)}),N},y=P=>P.getColId();f("columnRowGroupChanged",l.rowGroupColumns,(n==null?void 0:n.columns)??[],y),f("columnPivotChanged",l.pivotColumns,(i==null?void 0:i.columns)??[],y);const w=g((P,N)=>{const B=P.aggFunc!=null,z=B!=N.isValueActive(),W=B&&P.aggFunc!=N.getAggFunc();return z||W});w.length>0&&gte(a,"columnValueChanged",w,t),BC(a,g((P,N)=>P.width!=N.getActualWidth()),!0,t),JU(a,g((P,N)=>P.pinned!=N.getPinned()),t),fte(a,g((P,N)=>P.hide==N.isVisible()),t);const k=g((P,N)=>P.sort!=N.getSort()||P.sortIndex!=N.getSortIndex());k.length>0&&(o==null||o.dispatchSortChangedEvents(t,k));const I=rI(e);vte(c,I,t,r,a)}}function rI(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,s=t.getColDefCols();if(Ti(s)||!t.isAlive())return[];const r=n==null?void 0:n.columns,o=i==null?void 0:i.columns,a=[],l=d=>{const f=d.isRowGroupActive()&&r?r.indexOf(d):null,g=d.isPivotActive()&&o?o.indexOf(d):null,y=d.isValueActive()?d.getAggFunc():null,v=d.getSort()!=null?d.getSort():null,w=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:v,sortIndex:w,aggFunc:y,rowGroup:d.isRowGroupActive(),rowGroupIndex:f,pivot:d.isPivotActive(),pivotIndex:g,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));const c=new Map(t.getCols().map((d,f)=>[d.getColId(),f]));return a.sort((d,f)=>{const g=c.has(d.colId)?c.get(d.colId):-1,y=c.has(f.colId)?c.get(f.colId):-1;return g-y}),a}function t3(e){const t=(v,w)=>v??w??null,n=e.getColDef(),i=t(n.sort,n.initialSort),s=t(n.sortIndex,n.initialSortIndex),r=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let f=t(n.pivotIndex,n.initialPivotIndex),g=t(n.pivot,n.initialPivot);f==null&&(g==null||g==!1)&&(f=null,g=null);const y=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:s,hide:r,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:g,pivotIndex:f,aggFunc:y}}function mte(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(s=>{s.colId!=null&&i.push(s.colId)}),yte(t.cols,i,t,n)}function yte(e,t,n,i){if(e==null)return;let s=[];const r={};t.forEach(a=>{if(r[a])return;const l=e.map[a];l&&(s.push(l),r[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(r[l]!=null)return;l.startsWith(m1)?s.splice(o++,0,a):s.push(a)}),s=ZU(s,i),!XU(s,n.getColTree())){Ue(39);return}e.list=s}function vte(e,t,n,i,s){const r={};t.forEach(d=>r[d.colId]=d);const o={};e.forEach(d=>{r[d.colId]&&(o[d.colId]=!0)});const a=e.filter(d=>o[d.colId]),l=t.filter(d=>o[d.colId]),c=[];l.forEach((d,f)=>{const g=a&&a[f];if(g&&g.colId!==d.colId){const y=i.getCol(g.colId);y&&c.push(y)}}),c.length&&s.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var Xz=(e,t,n,i)=>{const s=e[n.getId()],r=e[i.getId()],o=s!=null,a=r!=null;if(o&&a)return s-r;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(i),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},bte=class extends Te{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(aC(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),aC(e.source)))}createColsFromColDefs(e){var M,A,k;const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:s,pivotColsSvc:r,valueColsSvc:o,visibleCols:a,colViewport:l,eventSvc:c}=t,d=this.colDefs?e3(t,e):void 0;n==null||n.expire();const f=(M=this.colDefCols)==null?void 0:M.list,g=(A=this.colDefCols)==null?void 0:A.tree,y=rte(t,this.colDefs,!0,g,e);iI(t,(k=this.colDefCols)==null?void 0:k.tree,y.columnTree);const v=y.columnTree,w=y.treeDepth,S=$U(v),x={};S.forEach(I=>x[I.getId()]=I),this.colDefCols={tree:v,treeDepth:w,list:S,map:x},s==null||s.extractCols(e,f),r==null||r.extractCols(e,f),o==null||o.extractCols(e,f),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var w;if(!this.colDefCols)return;const t=(w=this.cols)==null?void 0:w.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:s,quickFilter:r,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:f}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,s],g);const y=Ree(this.gos,this.showingPivotResult);(!e||y)&&this.restoreColOrder(g),this.positionLockedCols(g),a==null||a.refresh(),r==null||r.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(g),c.clear(),d.clear(),!My(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:i,list:s,tree:r,treeDepth:o}=n??t;return this.cols={list:s.slice(),map:{...i},tree:r.slice(),treeDepth:o},n&&(n.list.some(l=>{var c;return((c=this.cols)==null?void 0:c.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(s=>{const r=z2(s);if(e){const o=t==null?void 0:t.includes(s);return r||o}else return r||s.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){hc(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=f=>{const g=f.getOriginalParent();return g?g.getChildren().length>1?!0:i(g):!1};if(!n.some(f=>i(f))){const f=new Set(n);for(const g of e.list)f.has(g)||n.push(g);e.list=n;return}const s=new Map;for(let f=0;f<n.length;f++){const g=n[f];s.set(g,f)}const r=e.list.filter(f=>!s.has(f));if(r.length===0){e.list=n;return}const o=(f,g)=>{const y=g?g.getOriginalParent():f.getOriginalParent();if(!y)return null;let v=null,w=null;for(const S of y.getChildren())if(!(S===g||S===f)){if(S instanceof p1){const x=s.get(S);if(x==null)continue;(v==null||v<x)&&(v=x,w=S);continue}S.forEachLeafColumn(x=>{const M=s.get(x);M!=null&&(v==null||v<M)&&(v=M,w=x)})}return w??o(f,y)},a=[],l=new Map;for(const f of r){const g=o(f,null);if(g==null){a.push(f);continue}const y=l.get(g);y===void 0?l.set(g,f):Array.isArray(y)?y.push(f):l.set(g,[y,f])}const c=new Array(e.list.length);let d=c.length-1;for(let f=a.length-1;f>=0;f--)c[d--]=a[f];for(let f=n.length-1;f>=0;f--){const g=n[f],y=l.get(g);if(y)if(Array.isArray(y))for(let v=y.length-1;v>=0;v--){const w=y[v];c[d--]=w}else c[d--]=y;c[d--]=g}e.list=c}positionLockedCols(e){e.list=ZU(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=aC(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;iI(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var s,r,o,a;const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;DT((s=this.colDefCols)==null?void 0:s.list,e),DT((r=n==null?void 0:n.columns)==null?void 0:r.list,e),DT((o=i==null?void 0:i.columns)==null?void 0:o.list,e),DT((a=t==null?void 0:t.getPivotResultCols())==null?void 0:a.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){var t;return((t=this.cols)==null?void 0:t.map[e])??null}getColFromCollection(e,t){var s,r;if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let o=0;o<i.length;o++)if(YU(i[o],e))return i[o];return((s=this.beans.autoColSvc)==null?void 0:s.getColumn(e))??((r=this.beans.selectionColSvc)==null?void 0:r.getColumn(e))??null}},n3=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},lw=class extends Te{};function WM(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var UM=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){var i;if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&((i=this.getGui())==null||i.classList.toggle(e,t),this.cssClassStates[e]=t)}},Cte=0,gt=null,Ei=class extends Te{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Cte++,this.cssManager=new UM(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,i;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(i=this.css)==null||i.forEach(s=>this.beans.environment.addGlobalCSS(s,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(SU):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const s=this[t];if(s===gt)this[t]=i??e;else{const r=n&&n[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const s=this.createComponentFromElement(i,r=>{const o=r.getGui();if(o)for(const a of i.attributes??[])o.setAttribute(a.name,a.value)},t);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const r=Array.prototype.slice.call(i.children);s.addItems(r)}this.swapComponentForNode(s,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,s=this.getDataRefAttribute(e),r=i.indexOf("AG-")===0,o=r?this.componentSelectors.get(i):null;let a=null;if(o){const l=n&&s?n[s]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(r)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,s,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=O2(e):i=ws(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let s=0;s<t.length;s++){const r=t[s];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),F2(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;fee(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;qi(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Ri=class a0{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new a0(n=>{let i=t.length;const s=new Array(i);t.forEach((r,o)=>{r.then(a=>{s[o]=a,i--,i===0&&n(s)})})}):a0.resolve()}static resolve(t=null){return new a0(n=>n(t))}then(t){return new a0(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function wte(e){return e?e.prototype&&"getGui"in e.prototype:!1}function i3(e,t,n,i){const{name:s}=n;let r,o,a,l,c,d;if(t){const f=t,g=f[s+"Selector"],y=g?g(i):null,v=w=>{typeof w=="string"?r=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};y?(v(y.component),l=y.params,c=y.popup,d=y.popupPosition):v(f[s])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var Ste=class extends Te{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,s=!1){var M;const{name:r,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:g}=i3(this.beans.frameworkOverrides,e,t,i),y;const v=A=>{const k=this.registry.getUserComponent(r,A);k&&(l=k.componentFromFramework?void 0:k.component,c=k.componentFromFramework?k.component:void 0,y=k.params)};if(a!=null&&v(a),l==null&&c==null&&n!=null&&v(n),l&&o&&!wte(l)&&(l=(M=this.agCompUtils)==null?void 0:M.adaptFunction(t,l)),!l&&!c){const{validation:A}=this.beans;s&&(a!==n||!n)?a?A!=null&&A.isProvidedUserComp(a)||li(50,{compName:a}):n?A||li(260,{...this.gos.getModuleErrorParams(),propName:r,compName:n}):li(216,{name:r}):n&&!A&&li(146,{comp:n});return}const w=this.mergeParams(e,t,i,d,y),S=l==null,x=l??c;return{componentFromFramework:S,componentClass:x,params:w,type:t,popupFromSelector:f,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(x,S,w,t)}}newAgStackInstance(e,t,n,i){var a;const s=!t;let r;s?r=new e:r=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(r);const o=(a=r.init)==null?void 0:a.call(r,n);return o==null?Ri.resolve(r):o.then(()=>r)}mergeParams(e,t,n,i=null,s){const r={...n,...s},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const l=a(n);Po(r,l)}else typeof a=="object"&&Po(r,a);return Po(r,i),r}},xte={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Mte={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Dte={name:"headerComponent",optionalMethods:["refresh"]},Ate={name:"innerHeaderComponent"},Rte={name:"innerHeaderGroupComponent"},Tte={name:"headerGroupComponent"},Ete={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ite={name:"loadingCellRenderer",cellRenderer:!0},kte={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Lte={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Pte={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Ote={name:"tooltipComponent"},H2={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Nte={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Fte={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},_te={name:"loadingCellRenderer",cellRenderer:!0},Bte={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Gte={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function zte(e,t){return e.getCompDetailsFromGridOptions(Mte,"agDragAndDropImage",t,!0)}function Hte(e,t,n){return e.getCompDetails(t,Dte,"agColumnHeader",n)}function Vte(e,t,n){return e.getCompDetails(t,Ate,void 0,n)}function jte(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Tte,"agColumnGroupHeader",t)}function Wte(e,t,n){return e.getCompDetails(t,Rte,void 0,n)}function Ute(e,t){return e.getCompDetailsFromGridOptions(Fte,void 0,t,!0)}function $te(e,t){return e.getCompDetailsFromGridOptions(_te,"agLoadingCellRenderer",t,!0)}function Yte(e,t){return e.getCompDetailsFromGridOptions(Bte,"agGroupRowRenderer",t,!0)}function Kte(e,t){return e.getCompDetailsFromGridOptions(Gte,"agDetailCellRenderer",t,!0)}function Qz(e,t,n){return e.getCompDetails(t,Ete,void 0,n)}function qte(e,t,n){return e.getCompDetails(t,Ite,"agSkeletonCellRenderer",n,!0)}function Jz(e,t,n){return e.getCompDetails(t,kte,"agCellEditor",n,!0)}function Zte(e,t,n,i){return e.getCompDetails(t,H2,i,n,!0)}function Xte(e,t,n){return e.getCompDetails(t,xte,"agDateInput",n,!0)}function Qte(e,t){return e.getCompDetailsFromGridOptions(Lte,"agLoadingOverlay",t,!0)}function Jte(e,t){return e.getCompDetailsFromGridOptions(Pte,"agNoRowsOverlay",t,!0)}function ene(e,t){return e.getCompDetails(t.colDef,Ote,"agTooltipComponent",t,!0)}function tne(e,t,n,i){return e.getCompDetails(t,Nte,i,n)}function nne(e,t){return i3(e,t,H2)}function ine(e,t,n){return e.mergeParams(t,H2,n)}function Y0(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var s3=new Set,oI={},Gm={},pE,r3=!1,o3=!1,sne=!1;function rne(e){const[t,n]=e.version.split(".")||[],[i,s]=pE.split(".")||[];return t===i&&n===s}function one(e){pE||(pE=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?rne(e)||iC(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${pE}.`)):iC(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||iC(`${n.message}`)}}function K0(e,t,n=!1){n||(r3=!0),one(e);const i=e.rowModels??["all"];s3.add(e);let s;t!==void 0?(o3=!0,Gm[t]===void 0&&(Gm[t]={}),s=Gm[t]):s=oI,i.forEach(r=>{s[r]===void 0&&(s[r]={}),s[r][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(r=>K0(r,t,n))}function ane(e){delete Gm[e]}function ON(e,t,n){const i=s=>{var r,o,a;return!!((r=oI[s])!=null&&r[e])||!!((a=(o=Gm[t])==null?void 0:o[s])!=null&&a[e])};return i(n)||i("all")}function V2(){return o3}function lne(e,t){const n=Gm[e]??{};return[...Object.values(oI.all??{}),...Object.values(n.all??{}),...Object.values(oI[t]??{}),...Object.values(n[t]??{})]}function cne(){return new Set(s3)}function une(e,t){const n=Gm[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function dne(){return r3}function hne(){return sne}var fne=class{static register(t){K0(t,void 0)}static registerModules(t){t.forEach(n=>K0(n,void 0))}},gne=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const i=new n;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:i,bean:s}=n(this);this.beans[i]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var i,s;(i=n.preWireBeans)==null||i.call(n,this.beans),(s=n.wireBeans)==null||s.call(n,this.beans)}),e.forEach(n=>{var i;return(i=n.preConstruct)==null?void 0:i.call(n)}),t&&e.forEach(t),e.forEach(n=>{var i;return(i=n.postConstruct)==null?void 0:i.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},pne=class extends gne{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),ane(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},mne="ag-column-first",yne="ag-column-last";function a3(e,t,n,i){return Ti(e)?[]:bne(e.headerClass,e,t,n,i)}function l3(e,t,n){e.toggleCss(mne,n.isColAtEdge(t,"first")),e.toggleCss(yne,n.isColAtEdge(t,"last"))}function vne(e,t,n,i){return Rt(t,{colDef:e,column:n,columnGroup:i})}function bne(e,t,n,i,s){if(Ti(e))return[];let r;if(typeof e=="function"){const o=vne(t,n,i,s);r=e(o)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}function $M(e){return!!(e.rowPinned&&e.pinnedSibling)}function il(e,t,n,i){const s=t==="top";if(!n)return il(e,t,s?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const l=s?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return il(e,t,n,s?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let r=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!r){r=!0,a.push(l);return}if(r&&l===i){o=!0,a.push(l);return}r&&!o&&a.push(l)}),a}var De={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},NN=!1,aI=0;function Cne(e){aI>0||(e.addEventListener("keydown",lI),e.addEventListener("mousedown",lI))}function wne(e){aI>0||(e.removeEventListener("keydown",lI),e.removeEventListener("mousedown",lI))}function lI(e){const t=NN,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(NN=n)}function Sne(e){const t=sr(e);return Cne(t),aI++,()=>{aI--,wne(t)}}function xne(){return NN}function Mne(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===De.TAB){const s=i.shiftKey;Dy(e,n,!1,s)||GC(e,s)&&i.preventDefault()}}})}function lC(e,t,n=!1){const i=hee;let s=vU;t&&(s+=", "+t),n&&(s+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>Gu(l)),o=Array.prototype.slice.apply(e.querySelectorAll(s));return o.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(r,o):r}function ey(e,t=!1,n=!1,i=!1){const s=lC(e,i?".ag-tab-guard":null,n),r=t?Un(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}function Dy(e,t,n,i){const s=lC(t,n?':not([tabindex="-1"])':null),r=zi(e);let o;n?o=s.findIndex(l=>l.contains(r)):o=s.indexOf(r);const a=o+(i?-1:1);return a<0||a>=s.length?null:s[a]}function c3(e,t=5){let n=0;for(;e&&AN(e)===null&&++n<=t;)e=e.parentElement;return AN(e)===null?null:e}function Dne(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function zm(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function y1(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function GC(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function Ane(e,t=!1){return e===De.DELETE?!0:!t&&e===De.BACKSPACE?pU():!1}var Rne=class extends Te{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case De.ENTER:this.onEnterKeyDown(e);break;case De.F2:this.onF2KeyDown(e);break;case De.ESCAPE:this.onEscapeKeyDown(e);break;case De.TAB:this.onTabKeyDown(e);break;case De.BACKSPACE:case De.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case De.DOWN:case De.UP:case De.RIGHT:case De.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(n==null||n.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:n,beans:i,rowNode:s}=this,{gos:r,rangeSvc:o,eventSvc:a}=i;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Ane(e,r.get("enableCellEditingOnBackspace"))){if(o&&mg(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,s);s.setDataValue(c,d,"cellClear")}}else(l=i.editSvc)==null||l.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,s,r;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)(i=this.beans.editSvc)==null||i.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const o=e.shiftKey?De.UP:De.DOWN;(s=n.navigation)==null||s.navigateToNextCell(null,o,t.cellPosition,!1)}else(r=n.editSvc)==null||r.startRowOrCellEdit(t,De.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing||(i=n.editSvc)==null||i.startRowOrCellEdit(t,De.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing&&((i=n.editSvc)==null||i.stopRowOrCellEdit(t,!0))}processCharacter(e){var s;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===De.SPACE?this.onSpaceKeyDown(e):(s=this.beans.editSvc)!=null&&s.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&Fm(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},Tne=class extends Te{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Xd(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var c;if((c=this.beans.touchSvc)!=null&&c.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:i,editSvc:s}=this.beans,r=e.ctrlKey||e.metaKey;n&&r&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(i.get("singleClickEdit")||a.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(s==null||s.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:s,frameworkOverrides:r,gos:o,editSvc:a}=n,l=t.getColDef(),c=i.createEvent(e,"cellDoubleClicked");s.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,s=e.target,{cellCtrl:r,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:f}=o;if(this.isRightClickInExistingRange(e))return;const g=l&&!l.isEmpty(),y=this.containsWidget(s),{cellPosition:v}=r,w=Bm(v.column);if(c&&w&&!c.handleMouseDownOnCell(v,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!g){const x=f.get("enableCellTextSelection")&&e.defaultPrevented,M=(wy()||x)&&!r.editing&&!L2(s)&&!y;r.focusCell(M)}if(i&&g&&!d.isCellFocused(v)){e.preventDefault();const S=d.getFocusedCell();if(S){const{column:x,rowIndex:M,rowPinned:A}=S,k=o.rowRenderer.getRowByPosition({rowIndex:M,rowPinned:A}),I=k==null?void 0:k.getCellCtrl(x);I!=null&&I.editing&&I.stopEditing(),d.setFocusedCell({column:x,rowIndex:M,rowPinned:A,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!y){if(l)if(w&&e.preventDefault(),i)l.extendLatestRangeToCell(v);else{const S=t||n;l.setRangeToCell(v,S)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return Nm(e,"ag-selection-checkbox",3)||Nm(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){super.destroy()}},Ene=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();My(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let s=e;const r=e.getPinned();for(let o=0;s&&o<n&&(i.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||Ti(s)||r!==s.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Un(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=_m(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Ine="ag-cell",kne="ag-cell-auto-height",Lne="ag-cell-normal-height",Pne="ag-cell-focus",One="ag-cell-first-right-pinned",Nne="ag-cell-last-left-pinned",Fne="ag-cell-not-inline-editing",_ne="ag-cell-wrap-text",cI="cellCtrl";function u3(e,t){return zU(e,t,cI)}var Bne=0,x0=class extends Te{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=n;const{colId:s}=e;this.instanceId=s+"-"+Bne++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new Ene(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new Tne(this,e,this.column),this.keyboardListener=new Rne(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&mg(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Bm(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,i,s,r,o){var a,l,c,d,f,g,y;this.comp=e,this.eGui=t,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(c=this.tooltipFeature)==null||c.refreshTooltip(),(d=this.keyboardListener)==null||d.init(),(f=this.rangeFeature)==null||f.setComp(e),(g=this.rowResizeFeature)==null||g.refreshRowResizer(),r&&this.isCellEditable()?(y=this.beans.editSvc)==null||y.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(v=>v()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var f,g,y;const{beans:n,column:i,rowNode:s,rangeFeature:r}=this,{userCompFactory:o}=n,a=this.getValueToDisplay();let l;const c=s.stub&&((f=s.groupData)==null?void 0:f[i.getId()])==null,d=i.getColDef();if(c||this.isCellRenderer()){const v=this.createCellRendererParams();!c||Bm(i)?l=Qz(o,d,v):l=qte(o,d,v)}if(!l&&!c&&((g=n.findSvc)!=null&&g.isMatch(s,i))){const v=this.createCellRendererParams();l=Qz(o,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},v)}this.comp.setRenderDetails(l,a,e),!t&&r&&vh(n,()=>r==null?void 0:r.refreshHandle()),(y=this.rowResizeFeature)==null||y.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&$M(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=JE(t),s=aw(this.column);return n==="custom"&&i!=="selectionColumn"&&s?!1:e.checkboxSelection||s&&typeof t=="object"&&oC(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||s}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:s,eGui:r,beans:{valueSvc:o,gos:a}}=this;return Rt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i).value,setValue:c=>o.setValue(i,n,c),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:s.getParentOfValue(),registerRowDragger:(c,d,f,g)=>this.registerRowDragger(c,d,g),setTooltip:(c,d)=>{var f;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,d),(f=this.tooltipFeature)==null||f.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var c,d,f,g,y,v;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,s=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,r=e&&e.forceRefresh||s||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=r||a;if(o){if(l){this.showValue(n,!1);const w=(c=this.beans.filterManager)==null?void 0:c.isSuppressFlashingCellsBecauseFiltering();!i&&!w&&t.enableCellChangeFlash&&((d=this.beans.cellFlashSvc)==null||d.flashCell(this)),(f=this.customStyleFeature)==null||f.applyUserStyles(),(g=this.customStyleFeature)==null||g.applyClassesFromColDef()}(y=this.tooltipFeature)==null||y.refreshTooltip(),(v=this.customStyleFeature)==null||v.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:s}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=s,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Qm(this.beans.gos,t,cI,this),e.addDestroyFunc(()=>Qm(this.beans.gos,t,cI,null))}createEvent(e,t){const{rowNode:n,column:i,value:s,beans:r}=this;return Rt(r.gos,{type:t,node:n,data:n.data,value:s,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;l3(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);fU(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const n=this.comp.getFocusableElement();this.isCellFocused()&&n.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e,t;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged(),(t=this.rowResizeFeature)==null||t.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Bm(this.column)&&(e=!0),pl(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(One,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(Nne,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var s;const{beans:t}=this;if(y1(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused();if(this.comp.toggleCss(Pne,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(this.editing){const o=lC(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&((s=t.editSvc)==null||s.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Zd(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Ine,!0),e.toggleCss(Fne,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(kne,t),e.toggleCss(Lne,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(_ne,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(zi(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var s;const i=(s=this.beans.rowDragSvc)==null?void 0:s.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},d3="__ag_grid_instance";function h3(e,t){t[d3]=e.gridInstanceId}function q0(e,t){return f3(e,t.target)}function f3(e,t){let n=t;for(;n;){const i=n[d3];if(Qe(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function Gne(e,t){var n;return((n=u3(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function eH(e,t){const n=Rr(e.gos,"normal"),i=t;let s,r;i.clientX!=null||i.clientY!=null?(s=i.clientX,r=i.clientY):(s=i.x,r=i.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(r+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();s+=c.left,r+=l.top}return{x:s,y:r}}var zne=class extends Te{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(s=>s.dragSource===e);i&&(n.removeDragSource(i.params),bl(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,i;(i=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||i.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const s=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var d,f;const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(g=>this.isMouseOnDropTarget(e,g)),r=this.findCurrentDropTarget(e,s),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(r!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&r===null&&((d=a==null?void 0:a.onGridExit)==null||d.call(a,c)),o===null&&r!==null&&((f=a==null?void 0:a.onGridEnter)==null||f.call(a,c)),this.enterDragTargetIfExists(r,e,n,i,t),r&&l){const{comp:g,promise:y}=l;g?g.setIcon(r.getIconName?r.getIconName():null,!1):y.then(v=>{v&&v.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const g=this.createDropTargetEvent(r,e,n,i,t);r.onDragging(g)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const s=(a,l)=>{for(const c of l){const{width:d,height:f,left:g,right:y,top:v,bottom:w}=c.getBoundingClientRect();if(d===0||f===0)return!1;const S=a.clientX>=g&&a.clientX<y,x=a.clientY>=v&&a.clientY<w;if(!S||!x)return!1}return!0};for(const a of n)if(s(e,a)){i=!0;break}const{eElement:r,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:i&&t.isInterestedIn(o,r)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const s=U0(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of s)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,s){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,n,i,s);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:s}=this;if(!s)return;if(s.onDragLeave){const o=this.createDropTargetEvent(s,e,t,n,i);s.onDragLeave(o)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,s){const r=e.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-o.left,f=t.clientY-o.top;return Rt(c,{event:t,x:d,y:f,vDirection:i,hDirection:n,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&kee(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const i=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=zte(n,Rt(t,{dragSource:e}));if(!i)return;const s=i.newAgStackInstance();this.dragAndDropImageComp={promise:s},s.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),h3(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:s}=t;typeof s=="function"&&(s=s()),e.setLabel(s||""),i.style.top="20px",i.style.left="20px";const r=G2(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(i):Ue(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},Hne=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<i.left+s,this.tickRight=e.clientX>i.right-s,this.tickUp=e.clientY<i.top+s&&!n,this.tickDown=e.clientY>i.bottom-s&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function Vne(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function g3(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return n&&i&&s}function jne(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Qe(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Wne(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Une(e){let t=0,n;const{pinnedRowModel:i,rowModel:s,pageBounds:r}=e;return i!=null&&i.getPinnedTopRowCount()?n="top":s.getRowCount()?(n=null,t=r.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function $ne(e){let t,n=null;const{pinnedRowModel:i,pageBounds:s}=e,r=i==null?void 0:i.getPinnedBottomRowCount(),o=i==null?void 0:i.getPinnedTopRowCount();return r?(n="bottom",t=r-1):e.rowModel.getRowCount()?(n=null,t=s.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function uI(e,t){var n,i;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Zb(e,t){var s;const n=(s=e.spannedRowRenderer)==null?void 0:s.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function dI(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:r,rowModel:o}=e;if(n===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:r!=null&&r.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=i?void 0:o.getRow(n);return p3(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function tH(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:r,rowModel:o}=e;if(Yne(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=i?void 0:o.getRow(n);return p3(e,a)??{rowIndex:n+1,rowPinned:i}}function p3(e,t,n){const{gos:i,rowRenderer:s}=e;if(!(t!=null&&t.sticky)||!LU(i))return;const r=n?s.getStickyTopRowCtrls():s.getStickyBottomRowCtrls();let o;for(let a=0;a<r.length;a++)if(r[a].rowNode.rowIndex===t.rowIndex){o=r[a+(n?-1:1)];break}return o?{rowIndex:o.rowNode.rowIndex,rowPinned:null}:void 0}function Yne(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:s,pageBounds:r}=e;return n==="top"?((s==null?void 0:s.getPinnedTopRowCount())??0)-1<=i:n==="bottom"?((s==null?void 0:s.getPinnedBottomRowCount())??0)-1<=i:r.getLastRow()<=i}var Z0=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let s=0;s<i.length;++s)this.depthFirstSearchChangedPath(i[s],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let s=0,r=i.length;s<r;++s){const o=i[s];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const s=this.mapToItems[n.id],r=this.mapToItems[n.parent.id];r.children||(r.children=[]),r.children.push(s),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(s=>n[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(s=>!n[s.getId()])}},Kne=class extends Te{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;ir(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const s=i.gridBodyCtrl;this.autoScrollService=new Hne({scrollContainer:s.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>s.scrollFeature.getVScrollPosition().top,setVerticalPosition:r=>s.scrollFeature.setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var i;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e),this.autoScrollService.check(e.event)}doManagedDrag(e){const{dragAndDrop:t,gos:n}=this.beans,i=this.isFromThisGrid(e);if(!(n.get("rowDragManaged")&&this.shouldPreventRowMove()))if(n.get("suppressMoveWhenRowDragging")||!i){if(t.isDropZoneWithinThisGrid(e)){const r=this.clientSideRowModel,o=this.getRowsDrop(e),a=o==null?void 0:o.target;a?r.highlightRow(a,o.delta<0?"Above":"Below"):r.clearHighlight()}}else{const r=this.getRowsDrop(e);r&&this.dropRows(r)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Un(t.split("-")),10)}getRowsDrop(e){const{rowNode:t,rowNodes:n}=e.dragItem,i=n==null?void 0:n.length,s=this.isFromThisGrid(e),r=i&&(t??n[0]),o=eH(this.beans,e).y,a=this.clientSideRowModel,l=a.getRowIndexAtPixel(o);let c=a.getRow(l),d=0;if(!r)return null;if(s){if(!c||c===r)return null;d=l-r.rowIndex,n.includes(c)&&(c=(d<0?this.getPrevOrNext(-1,n[0]):this.getPrevOrNext(1,Un(n)))??c)}return c&&(!s||d<-1||d>1)&&(d=o-c.rowTop-c.rowHeight/2),{sameGrid:s,delta:d,target:c,rows:n}}getPrevOrNext(e,t){const n=this.clientSideRowModel,i=n.getRowCount();let s=t.rowIndex+e;for(;s>=0&&s<i;){const r=n.getRow(s);if(r.sourceRowIndex>=0)return r;s+=e}}addRowDropZone(e){if(!e.getContainer()){Ue(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Ue(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(n.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(n.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(n.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(n.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),s=this.onDragging.bind(this),r=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:s,onDragStop:r,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:s,gos:r}=n,o=eH(this.beans,t).y,a=o>i.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=s.getRowIndexAtPixel(o),c=s.getRow(l)),Rt(r,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clientSideRowModel.clearHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const i=this.getRowsDrop(e);i&&this.dropRows(i),this.clientSideRowModel.clearHighlight()}}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.clearHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({delta:e,target:t,rows:n}){const i=_C(this.gos),s=this.clientSideRowModel,r=n.filter(({data:a,rowPinned:l})=>!s.getRowNode((i==null?void 0:i({data:a,level:0,rowPinned:l}))??a.id)).map(({data:a})=>a);if(r.length===0)return!1;const o=t&&t.sourceRowIndex+(e<0?0:1);return s.updateRowData({add:r,addIndex:o}),!0}moveRows({delta:e,target:t,rows:n}){const i=this.getValidRowsToMove(n),s=this.beans.focusSvc,r=s.getFocusedCell(),o=r&&Zb(this.beans,r);return this.reorderLeafChildren(i,...this.getMoveRowsBounds(i,t,e))?(this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Z0(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0}),o?o.focusCell():s.clearFocusedCell(),!0):!1}getValidRowsToMove(e){const t=this.clientSideRowModel,n=new Set;for(const i of e)i.sourceRowIndex>=0&&(i.rowTop!==null||i===t.getRowNode(i.id))&&n.add(i);return n}getMoveRowsBounds(e,t,n){var a;const i=((a=this.clientSideRowModel.rootNode)==null?void 0:a.allLeafChildren.length)??0;let s=(t==null?void 0:t.sourceRowIndex)??-1;s<0||s>=i?s=i:n>=0&&++s;let r=s,o=Math.min(s,i-1);for(const{sourceRowIndex:l}of e)l<r&&(r=l),l>o&&(o=l);return[r,s,o]}reorderLeafChildren(e,t,n,i){var l;let s=!1;const r=(l=this.clientSideRowModel.rootNode)==null?void 0:l.allLeafChildren;if(!e.size||!r)return!1;let o=t;for(let c=t;c<n;++c){const d=r[c];e.has(d)||(d.sourceRowIndex!==o&&(d.sourceRowIndex=o,r[o]=d,s=!0),++o)}let a=i;for(let c=i;c>=n;--c){const d=r[c];e.has(d)||(d.sourceRowIndex!==a&&(d.sourceRowIndex=a,r[a]=d,s=!0),--a)}for(const c of e)c.sourceRowIndex!==o&&(c.sourceRowIndex=o,r[o]=c,s=!0),++o;return s}};function m3(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(i,s)<=n}var qne=class extends Te{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),bl(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:s}=e;n.addEventListener("mousedown",t);let r=null;const o=this.gos.get("suppressTouch");i&&!o&&(r=a=>{L2(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),r=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:U0(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=c=>this.onMouseMove(c,e.eElement),s=c=>this.onMouseUp(c,e.eElement),r=c=>c.preventDefault(),o=c=>{c.key===De.ESCAPE&&this.cancelDrag(e.eElement)},a=U0(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:s,options:r}=t;n.addEventListener(i,s,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:s,options:r}=t;n.removeEventListener(i,s,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=Qe(n)?n:4;return m3(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;wy()&&((n=sr(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",s=r=>{const o=r.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return n&&i&&e.cancelable&&q0(t,e)&&!s(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function y3(e,t){return e+"_"+t}function Ki(e){return e instanceof v3}var v3=class extends Te{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return y3(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ki(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Un(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{oh(t)?e.push(t):Ki(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{oh(t)?e.push(t):Ki(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Ki(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},FN="row-group-",j2="t-",W2="b-",Zne=0,ty=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Zne++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var l,c,d;const{valueCache:n,selectionSvc:i,eventSvc:s}=this.beans,r=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,r,t);if((l=this.__localEventService)==null||l.dispatchEvent(o),this.sibling){this.sibling.data=e;const f=this.sibling.createDataChangedEvent(e,r,t);(c=this.sibling.__localEventService)==null||c.dispatchEvent(f)}s.dispatchEvent({type:"rowNodeDataChanged",node:this});const a=this.pinnedSibling;a&&(a.data=e,(d=a.__localEventService)==null||d.dispatchEvent(a.createDataChangedEvent(e,r,t)),s.dispatchEvent({type:"rowNodeDataChanged",node:a}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(li(13),null):this.rowPinned==="top"?j2+this.rowIndex:this.rowPinned==="bottom"?W2+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,a;const{selectionSvc:n}=this.beans,i=(o=n==null?void 0:n.createDaemonNode)==null?void 0:o.call(n,this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const r=this.createDataChangedEvent(e,s,!1);(a=this.__localEventService)==null||a.dispatchEvent(r)}setId(e){var n;const t=_C(this.beans.gos);if(t)if(this.data){const i=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(FN)&&li(14,{groupPrefix:FN})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:s,gos:r,selectionSvc:o}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;const l=s.getValueForDisplay(a,this).value;if(r.get("readOnlyEdit")){const{beans:{eventSvc:g},data:y,rowIndex:v,rowPinned:w}=this;return g.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:w,column:a,colDef:a.colDef,data:y,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}const c=s.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const d=o==null?void 0:o.updateRowSelectable(this),f=this.pinnedSibling;return f&&(c&&f.dispatchCellChangedEvent(a,t,l),f.selectable=d??!0),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var s;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(s=this.__localEventService)==null||s.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new qm),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,s,r,o;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new qm),this.frameworkEventListenerService=(r=(s=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(s,this.frameworkEventListenerService,this.__localEventService);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(e,t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(e,t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,i;(n=this.__localEventService)==null||n.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Ue(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){var e;return this.childStore?this.childStore.getFirstNode():((e=this.childrenAfterSort)==null?void 0:e[0])??null}};function Xne(e,t,n){return Rt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Qne=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function Jne(e,t){const n=new ty(t);return Object.keys(e).forEach(i=>{Qne.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var eie={tag:"div",cls:"ag-filter"},tie=class extends Ei{constructor(e,t){super(eie),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Ri.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(i=>{var s;(s=i==null?void 0:i.afterGuiAttached)==null||s.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var i;(i=n==null?void 0:n.afterGuiDetached)==null||i.call(n)})}createFilter(e){var i,s;const{column:t,source:n}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(r=>{const o=r.getGui();Qe(o)||Ue(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Fa(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},b3="ag-resizer-wrapper",kf=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),nie={tag:"div",cls:b3,children:[kf("eTopLeft","topLeft"),kf("eTop","top"),kf("eTopRight","topRight"),kf("eRight","right"),kf("eBottomRight","bottomRight"),kf("eBottom","bottom"),kf("eBottomLeft","bottomLeft"),kf("eLeft","left")]},iie=class extends Te{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:s,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=Gu(this.element);if(d){const f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){const y=f.offsetWidth-this.element.offsetWidth;c=parseInt(g.minWidth,10)-y}if(g.minHeight!=null){const y=f.offsetHeight-this.element.offsetHeight;l=parseInt(g.minHeight,10)-y}}if(this.minHeight=s||l,this.minWidth=n||c,i&&this.setWidth(i),r&&this.setHeight(r),(!i||!r)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&t){let f=this.boundaryEl,g=!0;if(f||(f=this.findBoundaryElement(),g=!1),f){const y=parseFloat(f.style.top),v=parseFloat(f.style.left);g?this.offsetElement(isNaN(v)?0:v,isNaN(y)?0:y):this.setPosition(v,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,s;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(n),this.moveElementDragListener=n):((s=this.dragSvc)==null||s.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const i=!!e[t],s=this.getResizerElement(t),r={dragStartPixels:0,eElement:s,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?((o=this.dragSvc)==null||o.addDragSource(r),this.resizeListeners.push(r),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)C0(n,e),e=bU(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?C0(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:i.top,o=e?0:s.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-i.bottom}}return n+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Iu(t,e),e=KE(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,r=n?this.position.x:this.element.getBoundingClientRect().left;s&&e+r>s&&(e=s-r)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Iu(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var s;const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&((s=this.popupSvc)==null||s.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=yh(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:s,topBuffer:r}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!s,o)?0:o,c=this.shouldSkipY(t,!!i,r,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,i){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=o.right;return l?!0:(t?l=i<0&&e.clientX>a+r.left||i>0&&e.clientX<a+r.left:n?l=i<0&&e.clientX>o.right||i>0&&e.clientX<a+r.left:l=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,i){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=o.bottom;return l?!0:(t?l=i<0&&e.clientY>a+r.top+n||i>0&&e.clientY<a+r.top:l=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(ws(nie)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${b3}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const s=e[i],r=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const s=n[i];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:s,isBottom:r,isLeft:o}=this.currentResizer,a=s||o,l=r||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),f=this.position.x,g=this.position.y;let y=0,v=0;if(a&&c){const w=o?-1:1,S=this.getWidth(),x=S+c*w;let M=!1;o&&(y=S-x,(f+y<=0||x<=this.minWidth)&&(M=!0,y=0)),M||this.setWidth(x)}if(l&&d){const w=i?-1:1,S=this.getHeight(),x=S+d*w;let M=!1;i?(v=S-x,(g+v<=0||x<=this.minHeight)&&(M=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(M=!0),M||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&y||v)&&this.offsetElement(f+y,g+v)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:s,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+s,n+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},sie="ag-focus-managed",cw=class extends Te{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=Dy(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(sie),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Xd(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Jm(t);return}t.key===De.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},C3={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function U2(e,t){const{debounceMs:n}=e;return hI(e)?(n!=null&&Ue(71),0):n??t}function hI(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var rie=class extends Ei{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=gt,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new cw(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new iie(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t==null||t.removeEventListener("submit",this.onFormSubmit);const n={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=hI(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=hI(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:i}=t??{},{buttons:s,readOnly:r}=e;if(i===r&&W0(n,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Fa(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=ws({tag:"div",cls:"ag-filter-apply-panel"})),!o){this.eButtonsPanel&&rh(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let d;const f=c?this.translate(`${c}Filter`):void 0;switch(c){case"apply":d=v=>this.onBtApply(!1,!1,v);break;case"clear":d=()=>this.onBtClear();break;case"reset":d=()=>this.onBtReset();break;case"cancel":d=v=>{this.onBtCancel(v)};break;default:Ue(75);return}const y=ws({tag:"button",attrs:{type:c==="apply"?"submit":"button"},ref:`${c}FilterButton`,cls:"ag-button ag-standard-button ag-filter-apply-panel-button",children:f});this.buttonListeners.push(...this.addManagedElementListeners(y,{click:d})),a.append(y)};s.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=U2(this.params,this.defaultDebounceMs),t=Dr(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&V0(i,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,C3[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function oie(e,t,n){if(t==null)return null;let i=null;const{compName:s,jsComp:r,fwComp:o}=nne(e,t);return s?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:r==null&&o==null&&t.filter===!0&&(i=n()),i}var mE={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},$2=class extends Te{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?mE.AUTO_HEIGHT:t.print?mE.PRINT:mE.NORMAL;this.view.updateLayoutClasses(n,t)}},Lf="Viewport",nH="fakeVScrollComp",iH=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],sH=100,FP=150,aie=class extends Te{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Dr(this,()=>this.lastScrollSource[1]=null,FP),this.resetLastVScrollDebounced=Dr(this,()=>this.lastScrollSource[0]=null,FP)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Lf)});for(const e of iH){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Dr(this,this.onVScroll.bind(this,Lf),sH):this.onVScroll.bind(this,Lf),i=t?Dr(this,this.onVScroll.bind(this,nH),sH):this.onVScroll.bind(this,nH);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...iH,Lf]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);ZE(n,e,this.enableRtl)}}getViewportForSource(e){return e===Lf?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=qE(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Lf?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===Lf?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n!=null&&n.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},FP)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Om()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=P2(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Lf)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),ZE(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let s=-1;for(let r=0;r<i;r++){const o=n.getRow(r);if(typeof e=="function"){if(o&&e(o)){s=r;break}}else if(e===o||e===o.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t,n=0){if(Rr(this.gos,"print"))return;const{rowModel:i}=this.beans,s=i.getRowCount();if(typeof e!="number"||e<0||e>=s){Ue(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:r,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;r.wrapIncoming(()=>{var v,w;const c=this.ctrlsSvc.getGridBodyCtrl(),d=i.getRow(e);let f,g,y=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:S,stickyBottomHeight:x}=c,M=d.rowTop,A=d.rowHeight,k=o.getPixelOffset(),I=d.rowTop-k,P=I+d.rowHeight,N=this.getVScrollPosition(),B=a.divStretchOffset,z=N.top+B,W=N.bottom+B,Y=W-z,K=a.getScrollPositionForPixel(I),q=a.getScrollPositionForPixel(P-Y),te=Math.min((K+q)/2,I),re=z+S>I,X=W-x<P;let ne=null;t==="top"?ne=K-S:t==="bottom"?ne=q+x:t==="middle"?ne=te:re?ne=K-S:X&&(ne=q+x),ne!==null&&(this.setVerticalScrollPosition(ne),l.redraw({afterScroll:!0})),f=M!==d.rowTop||A!==d.rowHeight,g=S!==c.stickyTopHeight||x!==c.stickyBottomHeight,y++}while((f||g)&&y<10);if((v=this.animationFrameSvc)==null||v.flushAllFrames(),n<10&&(d!=null&&d.stub||!((w=this.beans.rowAutoHeight)!=null&&w.areRowsMeasured()))){const S=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const x=this.getVScrollPosition().top;S!==x&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,s=n.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;const r=this.getPositionedHorizontalScroll(s,t);i.wrapIncoming(()=>{var o;r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||s,l=o?i:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:f,colRight:g}=this.getColumnBounds(e);return c?f-r/2:a?o?g:d:o?d-r:g-r}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:s}=this.getColumnBounds(e),r=this.enableRtl,o=r?t>s:n<s,a=r?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),s=e.getLeft(),r=t?-1:1,o=t?n-s:s,a=o+i*r,l=o+i/2*r;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},Y2=class extends Te{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Rr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,s=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let o;e?o=i+s+r:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?s:r)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},lie=class extends Te{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{vh(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=P2(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function K2(e,t,n,i,s,r){if(n==null&&t==null)return;const o={},a={},l=(c,d)=>{c.split(" ").forEach(f=>{f.trim()!=""&&d(f)})};if(n){const c=Object.keys(n);for(let d=0;d<c.length;d++){const f=c[d],g=n[f];let y;typeof g=="string"?y=e?e.evaluate(g,i):!0:typeof g=="function"&&(y=g(i)),l(f,v=>{y?o[v]=!0:a[v]=!0})}}t&&r&&Object.keys(t).forEach(c=>l(c,d=>{o[d]||(a[d]=!0)})),r&&Object.keys(a).forEach(r),Object.keys(o).forEach(s)}function rH(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var cie=class extends Te{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},s=n.get("rowClass");s&&i(s);const r=n.getCallback("getRowClass");if(r){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=r(o);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:s}=this.beans,r=Rt(i,{data:e.data,node:e,rowIndex:e.rowIndex});K2(s,void 0,i.get("rowClassRules"),r,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let s;if(i){const r={data:e.data,node:e,rowIndex:e.rowIndex};s=i(r)}if(s||n)return Object.assign({},n,s)}},uie=0,fI="renderedRow",gI=class extends Te{constructor(e,t,n,i,s){var r;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=s,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((r=t.pagination)==null?void 0:r.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+uie++,this.rowId=fE(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=rH(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=fE(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){var f;const{context:s,focusSvc:r}=this.beans;i=WM(this,s,i);const o={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=(f=this.fullWidthGui)==null?void 0:f.element;d&&!this.editing&&r.isRowFocused(a.rowIndex,a.rowPinned)&&r.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Fm(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>n.toggleCss(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&SN(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Qm(t,e.element,fI,this),e.compBean.addDestroyFunc(()=>Qm(t,e.element,fI,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=fE(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(RN(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(RN(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,s=!!e||!i.isPinningLeft(),r=!!t,o=!!n||!i.isPinningRight();return s&&r&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),s=OU(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!(n!=null&&n.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new x0(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const i={list:[],map:{}},s=(c,d,f)=>{f!=null?i.list.splice(f,0,d):i.list.push(d),i.map[c]=d},r=[];for(const c of t){const d=c.getInstanceId();let f=e.map[d];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(c)),f&&s(d,f)}for(const c of e.list){const d=c.column.getInstanceId();if(i.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?r.push([d,c]):c.destroy()}if(r.length)for(const[c,d]of r){const f=i.list.findIndex(y=>y.column.getLeft()>d.column.getLeft()),g=f===-1?void 0:Math.max(f-1,0);s(c,d,g)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!i.map[c]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const g=i.list.findIndex(v=>v.column.getLeft()>f.column.getLeft()),y=g===-1?void 0:Math.max(g-1,0);s(c,f,y)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t==null?void 0:t.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){const{column:s}=e;if(s.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:r}=e,{visibleCols:o}=this.beans,a=e.isCellFocused();return r||a?!(o.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Rr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Qe(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),s=n.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=i,r.right=s}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=i,r.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&n&&i&&s}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",i=e==="Below";t.rowComp.toggleCss("ag-row-highlight-above",n),t.rowComp.toggleCss("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Zd(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(c==null?void 0:c.column)??i};l==null||l.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Xd(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,s=zi(this.beans);let r=!1;n&&s&&(r=n.contains(s)&&s.classList.contains("ag-cell"));let o=null;!i&&!r&&(o=Dy(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Gu(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{pl(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var s,r,o;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const a=this.beans.colModel.getCol(e==null?void 0:e.column),l=a==null?void 0:a.pinned;l?i=l==="right"?(s=this.rightGui)==null?void 0:s.element:(r=this.leftGui)==null?void 0:r.element:i=(o=this.centerGui)==null?void 0:o.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Rt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Xd(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Nm(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n==null||n.removeAllCellRanges();const s=this.findFullWidthInfoForEvent(e);if(!s)return;const{rowGui:r,column:o}=s,a=r.element,l=e.target;let c=e.defaultPrevented||wy();a&&a.contains(l)&&L2(l)&&(c=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Xd(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,s=Rt(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Kte(r,s);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return s.value=o,s.valueFormatted=a,Yte(r,s)}case"FullWidthLoading":return $te(r,s);default:return Ute(r,s)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:s,context:r}=this.beans;if(!s||!this.isFullWidth())return;const o=s.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,r),this.addDestroyFunc(()=>{this.destroyBean(o,r)})}onUiLevelChanged(){const e=rH(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.toggleCss(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a,l;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:s}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(r.push("ag-row-pinned"),(a=s.pinnedRowModel)!=null&&a.isManual()&&r.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&r.push("ag-row-pinned-source"),i.isSelected()&&r.push("ag-row-selected"),i.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),i.stub&&r.push("ag-row-loading"),n&&r.push("ag-full-width-row"),(l=s.expansionSvc)==null||l.addExpandedCss(r,i),i.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:o}=s;return o&&(o.processClassesFromGridOptions(r,i),o.preProcessRowClassRules(r,i)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),n&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:s,gos:r}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{var o;!((o=s.dragSvc)!=null&&o.dragging)&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=TU(this.gos)?pg(this.beans,this.rowNode).height:void 0,r=s?`${Math.min(n,s)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,r&&o.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){var i;this.active=!1;const{rowNode:t}=this;if(!e&&rC(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));(i=this.fullWidthGui)!=null&&i.element.contains(zi(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Qe(e)){const t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(i);n=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var r,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((r=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,s=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.toggleCss("ag-row-even",i),a.rowComp.toggleCss("ag-row-odd",!i),hU(a.element,s)})}};function w3(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function _N(e,t,n,i,s){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=Rt(e,{event:t,editing:s,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(r&&r(o))}function die(e){const{pinnedRowModel:t,rowModel:n}=e,[i,s]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],r=i?null:"top";let o,a;s?(o=null,a=n.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!(d!=null&&d.length)||c.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:o})}var hie=65,fie=67,gie=86,pie=68,mie=90,yie=89;function vie(e){const{keyCode:t}=e;let n;switch(t){case hie:n=De.A;break;case fie:n=De.C;break;case gie:n=De.V;break;case pie:n=De.D;break;case mie:n=De.Z;break;case yie:n=De.Y;break;default:n=e.code}return n}var bie=class extends Te{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",GU("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){var s;if(!q0(this.gos,t)||Xd(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(s=this.beans.contextMenuSvc)==null||s.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:u3(t,e),rowCtrl:zU(t,e,fI)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){var a;const{rowNode:i,column:s,editing:r}=e;!_N(this.gos,n,i,s,r)&&t==="keydown"&&(!r&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),w3(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:s,navigation:r}=this.beans,o=s.getFocusedCell(),a=o&&o.column;if(!_N(this.gos,n,i,a,!1)){const c=n.key;if(t==="keydown")switch(c){case De.PAGE_HOME:case De.PAGE_END:case De.PAGE_UP:case De.PAGE_DOWN:r==null||r.handlePageScrollingKey(n,!0);break;case De.LEFT:case De.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case De.UP:case De.DOWN:e.onKeyboardNavigate(n);break;case De.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!q0(this.gos,e))return;const n=vie(e),{clipboardSvc:i,undoRedo:s}=this.beans;if(n===De.A)return this.onCtrlAndA(e);if(n===De.C)return this.onCtrlAndC(i,e);if(n===De.D)return this.onCtrlAndD(i,e);if(n===De.V)return this.onCtrlAndV(i,e);if(n===De.X)return this.onCtrlAndX(i,e);if(n===De.Y)return this.onCtrlAndY(s);if(n===De.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:s}=this;n&&mg(s)&&t.isRowsToRender()?die(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:FU(s)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},S3=class extends Te{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},AT=e=>e.topRowCtrls,RT=e=>e.getStickyTopRowCtrls(),TT=e=>e.getStickyBottomRowCtrls(),ET=e=>e.bottomRowCtrls,IT=e=>e.allRowCtrls,_P=e=>e.getCtrls("top"),BP=e=>e.getCtrls("center"),GP=e=>e.getCtrls("bottom"),Cie={center:{type:"center",name:"center-cols",getRowCtrls:IT,getSpannedRowCtrls:BP},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:IT,getSpannedRowCtrls:BP},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:IT,getSpannedRowCtrls:BP},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:IT},topCenter:{type:"center",name:"floating-top",getRowCtrls:AT,getSpannedRowCtrls:_P},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:AT,getSpannedRowCtrls:_P},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:AT,getSpannedRowCtrls:_P},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:AT},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:RT},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:RT},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:RT},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:RT},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:TT},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:TT},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:TT},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:TT},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:ET,getSpannedRowCtrls:GP},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:ET,getSpannedRowCtrls:GP},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:ET,getSpannedRowCtrls:GP},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:ET}};function x3(e){return`ag-${YM(e).name}-viewport`}function yE(e){const t=YM(e);return t.container??`ag-${t.name}-container`}function wie(e){return`ag-${YM(e).name}-spanned-cells-container`}function YM(e){return Cie[e]}var Sie=["topCenter","topLeft","topRight"],xie=["bottomCenter","bottomLeft","bottomRight"],Mie=["center","left","right"],Die=["center","left","right","fullWidth"],Aie=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Rie=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Tie=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],M3=["stickyTopCenter","stickyTopLeft","stickyTopRight"],D3=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Eie=[...M3,"stickyTopFullWidth",...D3,"stickyBottomFullWidth"],Iie=[...Sie,...xie,...Mie,...M3,...D3],kie=class extends Te{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=YM(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new lie(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new bie(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:r}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Rie,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Tie,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Die,()=>this.createManagedBean(new S3(this.eContainer,this.name==="center"?i:void 0))),r&&this.forContainers(Iie,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(Aie,()=>this.createManagedBean(new Y2(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(Eie.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=Rr(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return j0(this.eViewport)}getCenterViewportScrollLeft(){return qE(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=yh(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return wU(this.eViewport)}getViewportScrollLeft(){return qE(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||gee(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ZE(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Rr(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||n,r=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},Lie="ag-force-vertical-scroll",Pie="ag-selectable",Oie="ag-column-moving",Nie=class extends Te{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,s,r,o){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=s,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${x3("center")}`),this.eFullWidthContainer=n.querySelector(`.${yE("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${yE("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${yE("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new $2(this.comp)),this.scrollFeature=this.createManagedBean(new aie(n)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,s,r,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=yU()?16:0,s=`calc(100% + ${n+i}px)`;vh(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,s=Nm(i,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:n=>{const{target:i,relatedTarget:s}=n,r=t.contains(s),o=Nm(s,"ag-root",t);Nm(i,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Oie,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Pie,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var s,r;const e=(((s=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((r=this.filterManager)==null?void 0:r.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Lie:null,n=Rr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&pee(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const s=n&&rC(this.gos)&&!e.stretching,r=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,s)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:s,beans:{popupSvc:r,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o==null||o.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,r)});const l=this.onStickyWheel.bind(this);for(const d of[t,n,i,s])this.addManagedElementListeners(d,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&q0(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;e.preventDefault(),this.scrollVertically(t)}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var s;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((s=this.beans.contextMenuSvc)==null||s.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e==null?void 0:e.getPinnedTopTotalHeight(),i=e==null?void 0:e.getPinnedBottomTotalHeight(),s=t.getPinnedRowBorderWidth(),r=t.getRowBorderWidth(),o=s-r,a=n?o+n:0,l=i?o+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var s,r;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),n=((r=this.pinnedRowModel)==null?void 0:r.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+r;n.setStickyBottomBottom(`${o}px`)}},A3=class extends Ei{constructor(e,t){super(),this.direction=t,this.eViewport=gt,this.eContainer=gt,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",pU()||Om())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=yU(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),vh(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;vee(()=>Gu(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Fie={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},_ie=class extends A3{constructor(){super(Fie,"horizontal"),this.eLeftSpacer=gt,this.eRightSpacer=gt,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Y2(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),Iu(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=i),Iu(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),C0(this.getGui(),r),C0(this.eViewport,r),C0(this.eContainer,r),r||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return qE(this.eViewport,this.enableRtl)}setScrollPosition(e){Gu(this.eViewport)||this.attemptSettingScrollPosition(e),ZE(this.eViewport,e,this.enableRtl)}},Bie={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Gie=class extends A3{constructor(){super(Bie,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new S3(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,s=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),Iu(this.getGui(),s),Iu(this.eViewport,s),Iu(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),s=n.scrollTop;i!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Gu(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function zie(e){return e.cols?e.cols.treeDepth+1:-1}function xu(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function q2(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const s=i.getGroupRowCount()||0;for(let r=0;r<s;r++){const o=i.getGroupRowCtrlAtIndex(r),a=t[r];if(o){const l=Hie(e,o);(a==null||l>a)&&(t[r]=l)}}}return t}function Hie(e,t){let i=e.colModel.isPivotMode()?jie(e):T3(e);const s=t.getHeaderCellCtrls();for(const r of s){const{column:o}=r,a=o.getAutoHeaderHeight();a!=null&&a>i&&o.isAutoHeaderHeight()&&(i=a)}return i}function Z2(e){let n=e.colModel.isPivotMode()?Vie(e):KM(e);return e.colModel.forAllCols(i=>{const s=i.getAutoHeaderHeight();s!=null&&s>n&&i.isAutoHeaderHeight()&&(n=s)}),n}function KM(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function R3(e){return e.gos.get("floatingFiltersHeight")??KM(e)}function T3(e){return e.gos.get("groupHeaderHeight")??KM(e)}function Vie(e){return e.gos.get("pivotHeaderHeight")??KM(e)}function jie(e){return e.gos.get("pivotGroupHeaderHeight")??T3(e)}var Wie=class extends Te{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:s,touchSvc:r,ctrlsSvc:o}=i;s&&this.createManagedBean(new cw(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),r==null||r.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>vh(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var r;const{beans:e}=this;let t=0;const n=q2(e).reduce((o,a)=>o+a,0),i=Z2(e);if((r=e.filterManager)!=null&&r.hasFloatingFilters()&&(t+=R3(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:r,focusSvc:o}=s;(r.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||GC(s,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case De.LEFT:t="LEFT";case De.RIGHT:{Qe(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case De.UP:t="UP";case De.DOWN:{Qe(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(zi(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var o;const{menuSvc:i,ctrlsSvc:s}=this.beans;if(!e&&!n||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:r}=e??t;(r===this.eGui||r===((o=s.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&i.showHeaderContextMenu(void 0,e,n)}},X2=class extends Te{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Un(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=Qe(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!Rr(n,"print")||e.getPinned()==="left")return t;const r=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return r+o+t}return r+t}setLeft(e){if(Qe(e)&&(this.eCell.style.left=`${e}px`),Ki(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&oee(this.ariaEl,t.length)}}},Uie=0,E3="headerCtrl",Q2=class extends Te{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Uie++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;if(!Qe(s))return!1;const r=Rt(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!s(r)}getWrapperHasFocus(){return zi(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:s}=this,r=f=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:g,paddingBottom:y,borderBottomWidth:v,borderTopWidth:w}=Sy(this.eGui),S=g+y+v+w,M=t.offsetHeight+S;if(f<5){const A=sr(s),k=!A||!A.contains(t),I=M==0;if(k||I){RN(()=>r(f+1),"raf",s);return}}this.setColHeaderHeight(this.column,M)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&c(),!f&&o&&d()},c=()=>{o=!0,r(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=yh(this.beans,t,()=>r(0))},d=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>d()),i.addManagedListeners(this.column,{widthChanged:()=>o&&r(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>r(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(l3(e,t,n.visibleCols),fU(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=zm(this.beans);this.eGui&&pl(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var r;const t=zi(this.beans),n=e.key===De.LEFT||e.key===De.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const s=e.key===De.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(r=this.resizeFeature)==null||r.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===De.LEFT!==t.get("enableRtl");const s=n.getPinned(),r=t.get("enableRtl");return s&&r!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case De.PAGE_DOWN:case De.PAGE_UP:case De.PAGE_HOME:case De.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=E3,{eGui:n,gos:i}=this;Qm(i,n,t,this),e.addDestroyFunc(()=>Qm(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:s,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&i.preventDefault(),s!=null&&s.isHeaderContextMenuEnabled(n)&&s.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},$ie=class extends Q2{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,s){this.comp=e;const{rowCtrl:r,column:o,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:f}=a,g=WM(this,c,s);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:v=>this.setRefreshFunction("measuring",v),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=g.createManagedBean(l.createResizeFeature(r.pinned,o,n,e,this)):qi(n,!1),d==null||d.createHoverFeature(g,[o],t),f==null||f.createRangeHighlightFeature(g,o,e),g.createManagedBean(new X2(o,t,a)),g.createManagedBean(new cw(t,{shouldStopEventPropagation:v=>this.shouldStopEventPropagation(v),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const y=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:y,columnRowGroupChanged:y,columnPivotChanged:y,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Rt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Hte(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Rt(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||Ra(this.gos)),showColumnMenu:(r,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(r,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:o})},showFilter:r=>{e==null||e.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t==null||t.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,o)=>{t==null||t.setSortForColumn(this.column,r,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===De.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===De.ENTER&&this.onEnterKeyDown(e),e.key===De.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();oH(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),xne()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=a3(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(s=>{i.has(s)?i.delete(s):this.comp.toggleCss(s,!0)}),i.forEach(s=>this.comp.toggleCss(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,s=q2(this.beans),r=s.reduce((d,f)=>d+=f,0)===0;if(n.toggleCss("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=Z2(i);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);let c=0;for(let d=0;d<o;d++)c+=s[s.length-1-d];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(ZJ(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Ra(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(zi(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>n==="filter"?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return oH(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function oH(e){return typeof(e==null?void 0:e.getAnchorElementForMenu)=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Yie=0,zP=class extends Te{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Yie++,this.allCtrls=[];const i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=Rr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=WM(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Rr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=q2(this.beans),i=Z2(this.beans);t.push(...n),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(R3(this.beans));let s=0;for(let o=0;o<this.rowIndex;o++)s+=t[o];const r=t[this.rowIndex];return{topOffset:s,rowHeight:r}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:s,visibleCols:r}=this.beans;return s.isHeaderWrapperFocused(i)?r.isVisible(i.column):!1};if(e)for(const[i,s]of e)n(s)?this.ctrlsById.set(i,s):this.destroyBean(s);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(n&&(s=n.get(i),n.delete(i)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new $ie(e,this));break}t.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{const s=n.getHeadersToRender(i,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const n=this.allCtrls.find(s=>s.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},Kie=class extends Te{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:s,colMoves:r,filterManager:o}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),s.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:i}=this.beans;let s=0;const r=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const d=zie(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let f=0;f<d;f++){const g=this.createBean(new zP(s++,this.pinned,"group"));this.groupsRowCtrls.push(g)}},a=()=>{const d=s++,f=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==d);(f||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),f&&(this.columnsRowCtrl=this.createBean(new zP(d,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}const f=s++;if(this.filtersRowCtrl){const g=this.filtersRowCtrl.rowIndex!==f;(!e||g)&&d()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new zP(f,this.pinned,"filter")))};o(),a(),l();const c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,r)}getHeaderCtrlForColumn(e){const t=n=>n==null?void 0:n.getHeaderCellCtrls().find(i=>i.column===e);if(oh(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Y2(e=>this.comp.setCenterWidth(`${e}px`),!0))}},qie=class extends Te{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&Ra(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(Ra(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&oh(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Om()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Ra(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Ra(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Ra(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:s,onClosedCallback:r}=t,o=t.column;if(s==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,n,r,i)}else if(s==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,n,r,i)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),vh(a,()=>{var d;const c=(d=l.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:d.getHeaderCtrlForColumn(o);c&&(e==null||e.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(i),n,r,i))})}}};function aH(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var I3=class extends Ei{constructor(){super()}},Zie={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},Xie=class extends I3{init(){var t;const e=Zd((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??Zie),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},Qie={tag:"span",cls:"ag-overlay-no-rows-center"},Jie=class extends I3{init(){var t;const e=Zd((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??Qie),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function ese(e,t,n){const i=hl(e,t,n);if(i){const{className:r}=i;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return i}const s=ws({tag:"span"});return s.appendChild(i),s}function hl(e,t,n){var r;let i=null;e==="smallDown"?Ue(262):e==="smallLeft"?Ue(263):e==="smallRight"&&Ue(264);const s=n&&n.getColDef().icons;if(s&&(i=s[e]),t.gos&&!i){const o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{Ue(38,{iconName:e});return}if(typeof o=="string")return O2(o);if(F2(o))return o;Ue(133,{iconName:e});return}else{const o=t.registry.getIcon(e);return o||(r=t.validation)==null||r.validateIcon(e),ws({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var tse=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",nse={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},ise=class extends Ei{constructor(){super(),this.dragSource=null,this.eIcon=gt,this.eLabel=gt,this.eGhost=gt,this.registerCSS(tse)}postConstruct(){const e=t=>ese(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(nse),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:s,gos:r}=this;Fa(n);let o=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=s[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===s.hide&&r.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},sse=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",rse=class extends Ei{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(sse)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Fa(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(qi(t,!1),Zm(t,"presentation")):(qi(t,!0),Zm(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(XE(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return V0(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},k3=class extends rse{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||XJ(e)!==null?wN(e,""):wN(e,t??"")}setAriaLabel(e){return g1(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Iu(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function ose(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Cm=class extends k3{constructor(e,t,n="text",i="input"){super(e,(e==null?void 0:e.template)??ose(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=gt,this.eWrapper=gt,this.eInput=gt}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:s,inputWidth:r}=this.config;s!=null&&this.setInputName(s),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return XE(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return pl(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return g1(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return V0(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)pl(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";pl(this.eInput,"autocomplete",t)}return this}},J2=class extends Cm{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},e_={selector:"AG-CHECKBOX",component:J2},ase=".ag-checkbox-cell{height:100%}",lse={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},cse=class extends Ei{constructor(){super(lse,[e_]),this.eCheckbox=gt,this.registerCSS(ase)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),uU(i,"polite"),this.addManagedListeners(i,{click:s=>{if(Jm(s),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:s=>{Jm(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===De.SPACE&&!t.isDisabled()){e.eGridCell===zi(n)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:s,node:r}=e;if(r.group&&s)if(typeof i=="boolean")t=i;else{const f=s.getColId();f.startsWith(m1)?t=i==null||i===""?void 0:i==="true":r.aggData&&r.aggData[f]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(s!=null&&s.isCellEditable(r));o.setDisabled(a);const l=this.getLocaleTextFunc(),c=k2(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(d)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:i,node:s,value:r}=n,o={column:i,colDef:i.getColDef(),data:s.data,node:s,rowIndex:s.rowIndex,rowPinned:s.rowPinned,value:r};t.dispatchEvent({type:"cellEditingStarted",...o});const a=s.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:r,newValue:e,valueChanged:a}),a||this.updateCheckbox(n)}},lH=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),bl(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t}=this.beans,n=(e==null?void 0:e.getSortOptions())??[],i=hse(this.order);if(this.order.sort((r,o)=>{var a,l;return(((a=r.pinnedSibling)==null?void 0:a.rowIndex)??0)-(((l=o.pinnedSibling)==null?void 0:l.rowIndex)??0)}),this.order=(t==null?void 0:t.doFullSort(this.order,n))??this.order,!i)return;const s=this.beans.gos.get("grandTotalRow");s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function L3(e){var n;if(e.level===-1)return!0;const t=e.parent;return(n=t==null?void 0:t.childrenAfterSort)!=null&&n.some(i=>i==e)?L3(t):!1}function HP(e,t){const{gos:n,rowModel:i,filterManager:s}=e;return xy(n)?!i.getRowNode(t.id):s!=null&&s.isAnyFilterPresent()?!L3(t):n.get("pivotMode")?!t.group:!1}function use(e){return!!e.footer&&e.level===-1}function dse(e){return!!e.pinnedSibling&&use(e.pinnedSibling)}function hse(e){var n;const t=e.findIndex(dse);if(t>-1)return(n=e.splice(t,1))==null?void 0:n[0]}var fse=class extends Te{postConstruct(){const{gos:e,beans:t}=this;this.top=new lH(t,"top"),this.bottom=new lH(t,"bottom");const n=s=>HP(t,s.pinnedSibling),i=()=>{const s=e.get("isRowPinned");s&&t.rowModel.forEachNode(r=>this.pinRow(r,s(r)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(pse),this.refreshRowPositions()},rowNodeDataChanged:({node:s})=>{const r=e.get("isRowPinnable");((r==null?void 0:r(s))??!0)||this.pinRow(s,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(s=>s.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:s})=>{this._grandTotalPinned=s==="pinnedBottom"?"bottom":s==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){var o;if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,ir(this.gos,this.beans.rowModel)&&this.beans.rowModel.refreshModel({step:"map"});return}const i=e.rowPinned??((o=e.pinnedSibling)==null?void 0:o.rowPinned);if(i!=null&&t!=null&&t!=i){const a=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(a,null,n),this.pinRow(l,t,n);return}const r=n&&mse(this.beans,e,n);if(r){r.forEach(a=>this.pinRow(a,t));return}if(t==null){const a=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(a);if(!l)return;l.delete(a);const c=a.pinnedSibling;VP(a),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(c)}else{const a=cH(this.beans,e,t),l=this.getContainer(t);l.add(a),HP(this.beans,e)&&l.hide(c=>HP(this.beans,c.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const s=pg(this.beans,i);i.setRowTop(t),i.setRowHeight(s.height),t+=s.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){const e=this.top.size();if(e===0)return 0;const t=this.top.getByIndex(e-1);return t===void 0?0:t.rowTop+t.rowHeight}getPinnedBottomTotalHeight(){const e=this.bottom.size();if(e===0)return 0;const t=this.bottom.getByIndex(e-1);return t===void 0?0:t.rowTop+t.rowHeight}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const s=this.beans.rowModel.getRowNode(i);s?this.pinRow(s,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const s=this.beans.rowModel.getRowNode(i);s&&n.add(s)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){var r;const e=this.beans.rowModel;if(!ir(this.gos))return;const t=(r=e.rootNode)==null?void 0:r.sibling;if(!t)return;const n=this._grandTotalPinned,i=t.pinnedSibling,s=i&&this.findPinnedRowNode(i);if(n){if(s&&s.floating!==n&&(s.delete(i),VP(i)),!s||s.floating!==n){const o=cH(this.beans,t,n);this.getContainer(n).add(o)}}else{if(!s)return;s.delete(i),VP(i)}}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};this.forContainers(n=>n.forEach(t))}}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>gse(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e==null||e.dispatchRowEvent("rowPinned")}};function gse(e,t){let n=0;t.forEach((i,s)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(pg(e,i).height),i.setRowIndex(s),n+=i.rowHeight})}function cH(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=Jne(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const s=n==="top"?j2:W2;return i.id=`${s}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function VP(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function pse(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>{e.delete(n)})}function mse(e,t,n){const{rowSpanSvc:i}=e,s=(n&&(i==null?void 0:i.isCellSpanning(n,t)))??!1;if(n&&s){const r=i==null?void 0:i.getCellSpan(n,t);if(r)return Array.from(r.spannedNodes)}}var yse=class extends Te{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Ux(this.pinnedBottomRows,t),Ux(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const s=pg(this.beans,i);i.setRowTop(t),i.setRowHeight(s.height),t+=s.height,e=!0}};return Ux(this.pinnedBottomRows,n),t=0,Ux(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=_C(this.gos),s=t==="top"?j2:W2,r=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const d of e){const f=(i==null?void 0:i({data:d,level:0,rowPinned:t}))??s+this.nextId++;if(a.has(f)){Ue(96,{id:f,data:d});continue}c++,a.add(f),o.push(f);const g=M0(n,f);if(g!==void 0)g.data!==d&&g.updateData(d),l+=this.setRowTopAndRowIndex(g,l,c),r.delete(f);else{const y=new ty(this.beans);y.id=f,y.data=d,y.rowPinned=t,l+=this.setRowTopAndRowIndex(y,l,c),n.cache[f]=y,n.order.push(f)}}r.forEach(d=>{var f;(f=M0(n,d))==null||f.clearRowTopAndRowIndex(),delete n.cache[d]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(pg(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return uH(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return uH(this.pinnedBottomRows)}getPinnedTopRowCount(){return GN(this.pinnedTopRows)}getPinnedBottomRowCount(){return GN(this.pinnedBottomRows)}getPinnedTopRow(e){return BN(this.pinnedTopRows,e)}getPinnedBottomRow(e){return BN(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return M0(this.getCache(t),e)}forEachPinnedRow(e,t){return Ux(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function uH(e){const t=GN(e);if(t===0)return 0;const n=BN(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function M0(e,t){return e.cache[t]}function BN(e,t){return M0(e,e.order[t])}function Ux(e,t){e.order.forEach((n,i)=>{const s=M0(e,n);s&&t(s,i)})}function GN(e){return e.order.length}var vse=class extends Te{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const e=()=>{const t=this.gos.get("enableRowPinning");this.inner&&this.destroyBean(this.inner),this.inner=this.createManagedBean(t?new fse:new yse)};this.addManagedPropertyListener("enableRowPinning",e),e()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},bse="ROOT_NODE_ID",Cse=class extends Te{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=bse,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){var v;const n=_C(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),s=e.changedRowNodes,r=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,d=!1,f=!1,g=!1;for(let w=0,S=-1,x=t.length;w<x;w++){const M=t[w];let A=this.getRowNode(n({data:M,level:0}));if(!A)c=!0,A=this.createRowNode(M,-1),s.add(A);else{if(i){const k=A.sourceRowIndex;g||(g=k<=S||c),S=k}A.data!==M&&(f=!0,A.updateData(M),s.update(A))}r.add(A)}const y=[];for(let w=0;w<l;w++){const S=a[w];r.has(S)||(d=!0,S.isSelected()&&y.push(S),S.pinnedSibling&&((v=this.beans.pinnedRowModel)==null||v.pinRow(S.pinnedSibling,null)),this.rowNodeDeleted(S),s.remove(S))}if(c||d||g){const w=new Array(r.size);let S=0;if(!i)for(let M=0;M<l;++M){const A=a[M];r.delete(A)&&(A.sourceRowIndex=S,w[S++]=A)}for(const M of r)M.sourceRowIndex=S,w[S++]=M;o.allLeafChildren=w;const x=o.sibling;x&&(x.allLeafChildren=w),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(c||d||g||f)&&(this.deselectNodes(y),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],s=_C(this.gos);return this.executeRemove(s,e,n,i),this.executeUpdate(s,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let i=this.rootNode.allLeafChildren,s=i.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let f=0;f<i.length;f++){const g=i[f];if((g==null?void 0:g.rowIndex)==s-1){s=f+1;break}}const r=n.length,o=t.changedRowNodes,a=new Array(r);for(let d=0;d<r;d++){const f=this.createRowNode(n[d],s+d);o.add(f),a[d]=f}const l=this.rootNode;if(s<i.length){const d=i.slice(0,s),f=i.slice(s,i.length),g=d.length+a.length;for(let y=0,v=f.length;y<v;++y)f[y].sourceRowIndex=g+y;i=[...d,...a,...f],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const c=l.sibling;c&&(c.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},s){var c,d;const{remove:r}=t;if(!(r!=null&&r.length))return;const o={};r.forEach(f=>{var y;const g=this.lookupRowNode(e,f);g&&(g.isSelected()&&s.push(g),g.pinnedSibling&&((y=this.beans.pinnedRowModel)==null||y.pinRow(g.pinnedSibling,null)),g.clearRowTopAndRowIndex(),o[g.id]=!0,delete this.allNodesMap[g.id],i.remove.push(g),n.remove(g))});const a=this.rootNode;a.allLeafChildren=((c=a.allLeafChildren)==null?void 0:c.filter(f=>!o[f.id]))??null,(d=a.allLeafChildren)==null||d.forEach((f,g)=>{f.sourceRowIndex=g});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},s){const{update:r}=t;r!=null&&r.length&&r.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&s.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var s;const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(s=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||s.call(n,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(n==null?void 0:n.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new ty(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Ue(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var i,s;let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return li(4,{id:r}),null}else if(n=(s=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:s.find(r=>r.data===t),!n)return li(5,{data:t}),null;return n||null}},wse={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Sse=class extends Ei{constructor(){super(wse,[e_]),this.eCheckbox=gt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),s=k2(e,i),[r,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(r,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${s})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Jm,click:i=>{var s;Jm(i),(s=this.beans.selectionSvc)==null||s.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:s})=>{const r=typeof i=="object"?PP(i):void 0,o=typeof s=="object"?PP(s):void 0;r!==o&&this.onSelectableChanged()}),LN(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this;let s=t.selectable;const r=this.getIsVisible();if(s)if(typeof r=="function"){const l=n==null?void 0:n.callbackParams;if(!e)s=r({...l,node:t,data:t.data});else{const c=e.createColumnFunctionCallbackParams(t);s=r({...l,...c})}}else s=r??!1;const o=i.get("rowSelection");if(o&&typeof o!="string"?!PP(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(s);return}this.setVisible(s)}getIsVisible(){var n,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?oC(t):(i=(n=this.column)==null?void 0:n.getColDef())==null?void 0:i.checkboxSelection}},xse=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i!=null&&i.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(s=>s.id===e.id);if(i>-1){const s=t.slice(0,i),r=t.slice(i+1);return this.setEndRange(e),n?{keep:s,discard:r}:{keep:r,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&s.push(r)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(s=>s.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!(n!=null&&n.isManual()))return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return il(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const s=il(n,"bottom",void 0,e),r=i.getRowCount(),o=i.getRow(r-1);return(i.getNodesInRangeForSelection(t,o)??[]).concat(s)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return il(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const s=il(n,"top",t,void 0),r=il(n,"bottom",void 0,e),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return s.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(r)}if(!e.rowPinned&&t.rowPinned==="top")return il(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const s=il(n,"top",e,void 0),r=il(n,"bottom",void 0,t),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return s.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(r)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return il(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const s=il(n,"bottom",void 0,t),r=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,r)??[]).concat(s)}return null}},Mse=class extends Te{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(zi(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new J2);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Zm(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:s})=>{const r=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;r(i)!==r(s)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const s=t.hasNodesToSelect(e);n.setDisabled(!s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:s}=this,o=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",s?`${a} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return tI(this.gos)?!0:(Ue(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return ir(t)||xy(t)?!0:(Ue(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},s=this.beans.selectionSvc;e?s.selectAllRowNodes(i):s.deselectAllRowNodes(i)}isCheckboxSelection(){var c;const{column:e,gos:t,beans:n}=this,i=t.get("rowSelection"),s=e.getColDef(),{headerCheckboxSelection:r}=s;let o=!1;const a=typeof i=="object";if(a){const d=aw(e),f=z2(e);(JE(i)==="autoGroupColumn"&&f||d&&((c=n.selectionColSvc)!=null&&c.isSelectionColumnEnabled()))&&(o=hE(i))}else typeof r=="function"?o=r(Rt(t,{column:e,colDef:s})):o=!!r;const l=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=FU(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},Dse=class extends Te{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new xse(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=LN(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=LN(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Sse}createSelectAllFeature(e){return new Mse(e)}isMultiSelect(){return tI(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,s=>{s.rowComp.toggleCss("ag-row-selected",i);const r=s.element;xN(r,i),r.contains(zi(this.beans))&&t(s)})}announceAriaRowSelection(e){var s;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(s=this.beans.ariaAnnounce)==null||s.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!$M(e)||!Fm(this.gos)}updateRowSelectable(e,t){var i;const n=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if($0(this.gos)){const s=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:s??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,n=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];let o=r.isSelected();if(!r.selectable){const a=this.calculateSelectedFromChildren(r);if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const s=!e.selectable&&t,r=e.__selected===t;if(s||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...Xne(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=aw(e)&&oC(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:s,selectionCtx:r}=this,o=e.isSelected(),a=$0(s),l=Nee(s),c=Fee(s),d=this.isMultiSelect(),f=i==="rowClicked";if(f&&!(l||c))return null;if(t&&n&&d){const g=r.getRoot();if(g)if(g.isSelected()){const y=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{deselect:y.discard,select:y.keep,reset:!1}}else{const y=r.extend(e,a);return{select:[],deselect:y.keep,reset:!1}}else return null}else if(t&&d){const g=r.selectAll?this.beans.rowModel.getRow(0):void 0,y=r.getRoot(g),v=r.isInRange(e)?r.truncate(e):r.extend(e,a);return{select:v.keep,deselect:v.discard,reset:r.selectAll||!!(y&&!y.isSelected())}}else if(n){if(f){const g=!o;return g&&!l||!g&&!c?null:(r.setRoot(e),{node:e,newValue:g,clearSelection:!1})}return r.setRoot(e),{node:e,newValue:!o,clearSelection:!d}}else{r.setRoot(e);const g=_ee(s),y=nI(s)==="filteredDescendants",v=f&&(!g||!l);if(y&&o===void 0&&ir(s))return{node:e,newValue:!1,clearSelection:!d||v};if(f){const w=o?!g:l;return w===o&&!v||w&&!l||!w&&!c?null:{node:e,newValue:w,clearSelection:!d||v,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!d||v}}}},Ase=class extends J2{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Ay=class extends Cm{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Qe(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{w3(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var s;const i=(s=n.clipboardData)==null?void 0:s.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},v1={selector:"AG-INPUT-TEXT-FIELD",component:Ay},Rse=class extends Cm{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Tse={selector:"AG-INPUT-TEXT-AREA",component:Rse},t_=class extends Ay{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=parseFloat(e.value),o=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){zi(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:i}=this;return n!=null&&t<n?e=n.toString():i!=null&&t>i&&(e=i.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const s=parseFloat(e).toFixed(n);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,pl(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,pl(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,pl(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Qe(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const s=this.normalizeValue(n);i=n!=s}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Ese={selector:"AG-INPUT-NUMBER-FIELD",component:t_};function D0(e,t){return e.toString().padStart(t,"0")}function ml(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>D0(s,2)).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>D0(s,2)).join(":")),i}var jP=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function A0(e,t="YYYY-MM-DD"){const n=D0(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>D0(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${jP(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${jP(e.getDate())}`,DD:()=>D0(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${jP(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function ra(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const i=t.split("-").map(f=>parseInt(f,10));if(i.filter(f=>!isNaN(f)).length!==3)return null;const[s,r,o]=i,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!n||n==="00:00:00")return a;const[l,c,d]=n.split(":").map(f=>parseInt(f,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var Ise=class extends Ay{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=wy();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){zi(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ml(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,pl(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ml(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,pl(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,pl(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return ra(this.getValue())??void 0}setDate(e,t){this.setValue(ml(e??null,!1),t)}},P3={selector:"AG-INPUT-DATE-FIELD",component:Ise},kse=1e3,Lse=1e3,dH=100,hH,kT=!1,Pse=class extends Te{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,i,s;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((s=(i=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:s.call(i))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Om()&&(kT?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},dH):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var s;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(i!=null&&i.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||kT)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-hH<kse}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,a,l,c,d,f,g;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Qe(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(o=t.getRowNode)==null?void 0:o.call(t),i=Rt(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(c=t.getColumn)==null?void 0:c.call(t),rowIndex:(d=t.getRowIndex)==null?void 0:d.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(f=t.getValueFormatted)==null?void 0:f.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((g=t.getAdditionalParams)==null?void 0:g.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=ene(this.userCompFactory,i);r==null||r.newAgStackInstance().then(s)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),hH=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const s=this.getLocaleTextFunc(),r=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(sr(this.beans),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=zi(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?Lse:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){kT=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},dH)}unlockService(){kT=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function WP(e){return e.get("tooltipShowMode")==="whenTruncated"}function vE(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var Ose=class extends Te{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Pse(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Nse=class extends Ei{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case De.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case De.DOWN:case De.UP:e.preventDefault(),this.navigate(t);break;case De.PAGE_DOWN:case De.PAGE_UP:case De.PAGE_HOME:case De.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===De.DOWN;let n;const{itemEls:i,highlightedEl:s}=this;if(!s)n=i[t?0:i.length-1];else{let o=i.indexOf(s)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),s=this.options.length-1,r=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/r);let a=-1;e===De.PAGE_HOME?a=0:e===De.PAGE_END?a=s:e===De.PAGE_DOWN?a=Math.min(i+o,s):e===De.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{rh(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Zm(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{nee(t,n+1),tee(t,e.length)})}renderOption(e,t){const n=ws({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=ws({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Gu(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),xN(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:s,offsetHeight:r}=e;(s+r>n+i||s<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Gu(e)||(e.classList.remove(this.activeClass),xN(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Fse=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",_se={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Bse=class extends k3{constructor(e){if(super(e,(e==null?void 0:e.template)||_se,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=gt,this.eWrapper=gt,this.eDisplayField=gt,this.eIcon=gt,this.registerCSS(Fse),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:s,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),s!=null&&this.setPickerMinWidth(s),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const s=hl(n,this.beans);s&&this.eIcon.appendChild(s)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),SN(e,!1),this.ariaRole&&Zm(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case De.UP:case De.DOWN:case De.ENTER:case De.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case De.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:s=!0},maxPickerHeight:r,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,f={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const w=kU(c);this.beforeHidePicker(),w&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:d};e.style.position="absolute";const g=c.popupSvc,y=g.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=N2(KE(d)),a&&(e.style.maxWidth=a)):XE(e,a??KE(d));const v=r??`${P2(g.getPopupParent())}px`;return e.style.setProperty("max-height",v),this.alignPickerToComponent(),y.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:s,pickerComponent:r}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:s,ePopup:r.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();SN(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return XE(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Gse=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",n_=class extends Bse{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Gse)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:vE(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new Nse("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),cee(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i==null||i.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===De.TAB&&this.hidePicker(),t){case De.ENTER:case De.UP:case De.DOWN:case De.PAGE_UP:case De.PAGE_DOWN:case De.PAGE_HOME:case De.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case De.ESCAPE:super.onKeyDown(e);break;case De.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:s},eDisplayField:r,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&s&&(l=s),r.textContent=l,o==null||o.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},zse={selector:"AG-SELECT",component:n_},cC={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},O3=class extends Te{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:g,isEmpty:y,eFocusableElement:v}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=v,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=g,this.providedIsEmpty=y}postConstruct(){this.createManagedBean(new cw(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():lC(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=sr(this.beans),n=lC(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let s,r;e?(s=0,r=i):(s=i+1,r=n.length);const o=n.slice(s,r),a=this.gos.get("tabIndex");o.sort((c,d)=>{const f=parseInt(c.getAttribute("tabindex")||"0"),g=parseInt(d.getAttribute("tabindex")||"0");return g===a?1:f===a?-1:f===0?1:g===0?-1:f-g}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=lC(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Dy(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Hse=class extends Te{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,s=[t,n],r={setTabIndex:S=>{s.forEach(x=>S!=null?x.setAttribute("tabindex",S):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:y,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new O3({comp:r,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:y,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=sr(this.beans).createElement("div"),n=e==="top"?cC.TAB_GUARD_TOP:cC.TAB_GUARD_BOTTOM;return t.classList.add(cC.TAB_GUARD,n),Zm(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Fa(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){F2(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;rh(e),rh(t),super.destroy()}},Vse=class extends Ei{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Hse(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},uw=class extends Ei{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},fm=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new qm,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!m3(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},N3=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${xU}/${this.frameworkName}-data-grid`,wee(this.baseDocLink)}setInterval(e,t){return new Ri(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let s={};if(typeof i=="object"?s=i:typeof i=="boolean"&&(s={capture:i}),s.passive==null){const r=HU(t);r!=null&&(s.passive=r)}e.addEventListener(t,n,s)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function jse(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Wse=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],fH=Object.fromEntries(Wse.map((e,t)=>[e,t]));function Use(e,t){const n=(e.beanName?fH[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?fH[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function $se(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:(t==null?void 0:t.beanName)==="gridDestroySvc"?1:0}var Yse=class extends Te{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:s}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),h3(this.gos,t),this.createManagedBean(new $2(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=yh(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=c3(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,i,s;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:s,focusSvc:r}=this.beans,o=s.allCols,a=Un(o);if(r.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:s}=this.beans,r=s.allCols;if(e){if(n.length>1)return this.focusContainer(Un(n),e);const o=Un(r);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||zm(this.beans)){if(i.focusGridView({column:r[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(ey(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var r;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const s=t[n];(r=s.setAllowFocus)==null||r.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}isFocusable(){var t,n;const e=this.beans;return!y1(e)||!zm(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=zi(this.beans),i=e.findIndex(r=>r.getGui().contains(n)),s=i+(t?-1:1);return{indexWithFocus:i,nextIndex:s}}focusContainer(e,t){var i,s;(i=e.setAllowFocus)==null||i.call(e,!0);const n=ey(e.getGui(),t,!1,!0);return(s=e.setAllowFocus)==null||s.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Gt=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},gH={dispatchEvent:"CommunityCore",...Gt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Gt("GridState",{getState:0}),...Gt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Gt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Gt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Gt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Gt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Gt("ValueCache",{expireValueCache:0}),...Gt("CellApi",{getCellValue:0}),...Gt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Gt("Sort",{onSortChanged:0}),...Gt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Gt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Gt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Gt("HighlightChanges",{flashCells:0}),...Gt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Gt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Gt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Gt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Gt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Gt("ColumnResize",{setColumnWidths:0}),...Gt("ColumnHover",{isColumnHovered:0}),...Gt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Gt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Gt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Gt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Gt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Gt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Gt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Gt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Gt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Gt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Gt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Gt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Gt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Gt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Gt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Gt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Gt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Gt("ContextMenu",{showContextMenu:0}),...Gt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Gt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Gt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Gt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Gt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Gt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Gt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Gt("StatusBar",{getStatusPanel:0})},UP={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Kse=(e,t)=>e.eventSvc.dispatchEvent(t),F3=class{};Reflect.defineProperty(F3,"name",{value:"GridApi"});var qse=class extends Te{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new F3,this.fns={...UP,dispatchEvent:Kse},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(gH))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:n,beans:i}=this;n!==UP&&(n[e]=((s=i==null?void 0:i.validation)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)Ue(26,{fnName:e,preDestroyLink:i});else{const s=gH[e];n.assertModuleRegistered(s,`api.${e}`)&&Ue(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=UP,this.beans=null}};function Zse(e){return e.context.getGridId()}function Xse(e){e.gridDestroySvc.destroy()}function Qse(e){return e.gridDestroySvc.destroyCalled}function Jse(e,t){return e.gos.get(t)}function ere(e,t,n){_3(e,{[t]:n})}function _3(e,t){e.gos.updateGridOptions({options:t})}function tre(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var nre={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},ire=class extends Ei{constructor(e,t,n){super(nre),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(hl("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:s}=this,r=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),r){const a=Rt(s,{rowNode:t,dragEvent:e});r(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function sre(e,t){var n,i;(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||i.addRowDropZone(t)}function rre(e,t){var i,s;const n=(i=e.dragAndDrop)==null?void 0:i.findExternalZone(t);n&&((s=e.dragAndDrop)==null||s.removeDropTarget(n))}function ore(e,t){var n,i;return(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:i.getRowDropZone(t)}var are=class extends Te{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},lre={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},cre=class extends Ei{constructor(e,t,n,i,s,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=s,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(lre),this.getGui().appendChild(hl("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const s=i.get("rowDragManaged")?new dre(this,t,n):new ure(this,t,n);this.createManagedBean(s,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var i;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const i=this.getDragItem(),s=((o=i.rowNodes)==null?void 0:o.length)||1,r=this.getRowDragText(this.column);return r?r(i,s):s===1?this.cellValueFn():`${s} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},B3=class extends Te{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;const{column:s,rowNode:r,parent:o}=this;s&&(n=s.isRowDrag(r)||o.isCustomGui(),i=typeof s.getColDef().rowDrag=="function"),i?(o.setDisplayed(!0,t),o.setVisible(n,t)):(o.setDisplayed(n,t),o.setVisible(!0,t))}}},ure=class extends B3{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},dre=class extends B3{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,s=i&&i.shouldPreventRowMove(),r=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=s&&!o||r;this.setDisplayedOrVisible(a)}},hre=class extends Te{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Kne(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,s,r){return new cre(e,t,n,i,s,r)}createRowDragCompForRow(e,t){if(mg(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,s,r){const o=this.gos;return o.get("rowDragManaged")&&(!ir(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,s,r)}},G3={moduleName:"Drag",version:nt,beans:[qne]},fre={moduleName:"DragAndDrop",version:nt,dynamicBeans:{dndSourceComp:ire},icons:{rowDrag:"grip"}},z3={moduleName:"SharedDragAndDrop",version:nt,beans:[zne],dependsOn:[G3],userComponents:{agDragAndDropImage:ise},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},gre={moduleName:"RowDrag",version:nt,beans:[hre],apiFunctions:{addRowDropZone:sre,removeRowDropZone:rre,getRowDropZoneParams:ore},dependsOn:[z3]},pre={moduleName:"HorizontalResize",version:nt,beans:[are],dependsOn:[G3]},mre=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",yre=class extends Te{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const s=r=>{for(;r.length;){const o=r.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(n)},0),window.setTimeout(()=>{t(),s(i)},200)})}};function vre(e,t,n){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,n,"api")}function bre(e,t,n){var i;(i=e.colMoves)==null||i.moveColumns(t,n,"api")}var Cre=class extends Te{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function wre(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,s)=>{const r=e.indexOf(i),o=e.indexOf(s);return r-o})}function H3(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:s,fakeEvent:r,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:d}=e;let{allMovingColumns:f}=e;if(t){const I=[];f.forEach(P=>{var z;let N=null,B=P.getParent();for(;B!=null&&B.getDisplayedLeafColumns().length===1;)N=B,B=B.getParent();N!=null?(!!((z=N.getColGroupDef())!=null&&z.marryChildren)?N.getProvidedColumnGroup().getLeafColumns():N.getLeafColumns()).forEach(K=>{I.includes(K)||I.push(K)}):I.includes(P)||I.push(P)}),f=I}const g=f.slice();wre(l.getCols(),g);const y=Dre({movingCols:g,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:l,visibleCols:d}),v=Sre(g,l);if(y.length===0)return;const w=y[0];let S=v!==null&&!s;if(t&&(S=v!==null),S&&!r&&(!n&&w>=v||n&&w<=v))return;const x=d.allCols,M=[];let A=null;for(let I=0;I<y.length;I++){const P=y[I],N=c.getProposedColumnOrder(g,P);if(!c.doesOrderPassRules(N))continue;const B=N.filter(W=>x.includes(W));if(A===null)A=B;else if(!My(B,A))break;const z=xre(N);M.push({move:P,fragCount:z})}if(M.length===0)return;M.sort((I,P)=>I.fragCount-P.fragCount);const k=M[0].move;if(!(k>l.getCols().length-f.length))return{columns:f,toIndex:k}}function V3(e){const{columns:t,toIndex:n}=H3(e)||{},{finished:i,colMoves:s}=e;return!t||n==null?null:(s.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function Sre(e,t){const n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),s=i[0];return Un(i)-s!==i.length-1?null:s}function xre(e){function t(i){const s=[];let r=i.getOriginalParent();for(;r!=null;)s.push(r),r=r.getOriginalParent();return s}let n=0;for(let i=0;i<e.length-1;i++){let s=t(e[i]),r=t(e[i+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(o=>{r.indexOf(o)===-1&&n++})}return n}function Mre(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Dre(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:s,gos:r,colModel:o,visibleCols:a}=e;if(r.get("suppressMovableColumns")||t.some(A=>A.getColDef().suppressMovable))return[];const c=Mre(a,s),d=o.getCols(),f=c.filter(A=>t.includes(A)),g=c.filter(A=>!t.includes(A)),y=d.filter(A=>!t.includes(A));let v=0,w=i;if(n){let A=0;f.forEach(k=>A+=k.getActualWidth()),w-=A}if(w>0){for(let A=0;A<g.length;A++){const k=g[A];if(w-=k.getActualWidth(),w<0)break;v++}n&&v++}let S;if(v>0){const A=g[v-1];S=y.indexOf(A)+1}else S=y.indexOf(g[0]),S===-1&&(S=0);const x=[S],M=(A,k)=>A-k;if(n){let A=S+1;const k=d.length-1;for(;A<=k;)x.push(A),A++;x.sort(M)}else{let A=S;const k=d.length-1;let I=d[A];for(;A<=k&&c.indexOf(I)<0;)A++,x.push(A),I=d[A];A=S-1;const P=0;for(;A>=P;)x.push(A),A--;x.sort(M).reverse()}return x}function zN(e){var c;const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:s,useHeaderRow:r,skipScrollPadding:o}=e;let a=(c=s.getHeaderRowContainerCtrl(t))==null?void 0:c.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function $P(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var pH=7,HN=100,LT=HN/2,Are=5,Rre=100,Tre=class extends Te{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Qe(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=(n==null?void 0:n.columns)??[];for(const s of i){const r=s.getPinned();if(s.getColDef().lockPinned){if(r==e)return"move";continue}const o=n==null?void 0:n.containerType;if(o===e||!e)return"move";if(e&&(!r||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const s=t.visibleState,r=(n||[]).filter(o=>s[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:s,ctrlsSvc:r}=this.beans,o=s.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Ti(e.hDirection))return;const a=zN({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:r});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const i=e.filter(s=>!s.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,s){const r=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,s){const r=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),c=V3({...l,finished:s});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const s=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return i?i.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:s,fromEnter:r,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:s,xPosition:i,pinned:this.pinned,fromEnter:r,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){var d;const{gos:n,colModel:i}=this.beans,s=n.get("enableRtl"),r=i.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let o=null,a=null,l=null;for(const f of r){if(a=f.getActualWidth(),o=this.getNormalisedColumnLeft(f,0,s),o!=null){const g=o+a;if(o<=t&&g>=t){l=f;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let f=r.length-1;f>=0;f--){const g=r[f],y=r[f].getParent();if(!y){l=g;break}const v=y==null?void 0:y.getDisplayedLeafColumns();if(v.length){l=Un(v);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==s?c=0:c=1,mH(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,s=n.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!r||!o||a==null)return;const l=i.allCols,c=l.indexOf(r),d=l.indexOf(o),f=a===0!==s,g=c<d||c===d&&!f;let y=0;if(f?g&&(y-=1):g||(y+=1),d+y===c)return;const v=l[d+y];if(!v)return;const w=this.getNormalisedColumnLeft(v,20,s);return{fromLeft:g,xPosition:w}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:r}=Ere(e);if(!s||!r||i.column||!t)return{firstMovingCol:s,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==n?s:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:s}=this.beans,r=e.getLeft();if(r==null)return null;const o=e.getActualWidth();return zN({x:n?r+o-t:r+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>pH;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:s,fromLeft:r}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:r,fromEnter:i,fakeEvent:s}),{columns:a,toIndex:l}=H3(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(mH(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let s,r;this.gos.get("enableRtl")?(s=e<n+LT,r=e>i-LT):(r=e<n+LT,s=e>i-LT),this.needToMoveRight=s,this.needToMoveLeft=r,r||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Rre),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,s;let e;this.intervalCount++,e=10+this.intervalCount*Are,e>HN&&(e=HN);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=pH+1||!r)return;if((i=o.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:s,dragAndDrop:r}=this.beans;return s==null||s.setColsPinned(i,t,"uiColumnDragged"),n&&r.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function mH(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Ere(e){const t=e.length;let n,i;for(let s=0;s<t;s++){if(!n){const r=e[s];r.getLeft()!=null&&(n=r)}if(!i){const r=e[t-1-s];r.getLeft()!=null&&(i=r)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var Ire=class extends Te{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let s;const r=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":s=[[r,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":s=[[r,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:s=[[r,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new Tre(n)),this.bodyDropPivotTarget=this.createManagedBean(new Cre(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},kre=class extends Te{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const s=i[e];this.moveColumns([s],t,n)}moveColumns(e,t,n,i=!0){const{colModel:s,colAnimation:r,visibleCols:o,eventSvc:a}=this.beans,l=s.getCols();if(!l)return;if(t>l.length-e.length){Ue(30,{toIndex:t});return}r==null||r.start();const c=s.getColsForKeys(e);this.doesMovePassRules(c,t)&&(Zz(s.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:i,source:n})),r==null||r.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!XU(e,t.getColTree())||!(s=>{const r=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return s.forEach(c=>{const d=r(c.getColDef().lockPosition);o?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return Zz(i,e,t),i}createBodyDropTarget(e,t){return new Ire(e,t)}moveHeader(e,t,n,i,s){const{ctrlsSvc:r,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),f=d.left,g=Ki(n),y=g?d.width:n.getActualWidth(),v=e==="left"!==o.get("enableRtl"),w=zN({x:v?f-20:f+y+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:r}),S=c.focusedHeader;V3({allMovingColumns:g?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(g){const M=n.getDisplayedLeafColumns();x=v?M[0]:Un(M)}else x=n;if(r.getScrollFeature().ensureColumnVisible(x,"auto"),(!s.isAlive()||o.get("ensureDomOrder"))&&S){let M;if(g){const A=n.getGroupId(),k=n.getLeafColumns();if(!k.length)return;const I=k[0].getParent();if(!I)return;M=Lre(I,A)}else M=n;M&&c.focusHeaderPosition({headerPosition:{...S,column:M}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:s,dragAndDrop:r,visibleCols:o}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=Ki(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>Ore(t,o.allCols):()=>Pre(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),$P(c,!0)},onDragStopped:()=>$P(c,!1),onDragCancelled:()=>$P(c,!1),onGridEnter:g=>{if(a){const{columns:y=[],visibleState:v}=g??{},w=l?x=>!v||v[x.getColId()]:()=>!0,S=y.filter(x=>!x.getColDef().lockVisible&&w(x));s.setColsVisible(S,!0,"uiColumnMoved")}},onGridExit:g=>{var y;if(a){const v=((y=g==null?void 0:g.columns)==null?void 0:y.filter(w=>!w.getColDef().lockVisible))||[];s.setColsVisible(v,!1,"uiColumnMoved")}}};return r.addDragSource(f,!0),f}};function Lre(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Pre(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function Ore(e,t){var a;const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(l=>i[l.getId()]=l.isVisible());const s=[];t.forEach(l=>{n.indexOf(l)>=0&&(s.push(l),bl(n,l))}),n.forEach(l=>s.push(l));const r=[],o=e.getLeafColumns();for(const l of s)o.indexOf(l)!==-1&&r.push(l);return{columns:s,columnsInSplit:r,visibleState:i,containerType:(a=r[0])==null?void 0:a.pinned}}var Nre={moduleName:"ColumnMove",version:nt,beans:[kre,yre],apiFunctions:{moveColumnByIndex:vre,moveColumns:bre},dependsOn:[z3],css:[mre]},Fre=class extends Te{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,n)),i.appendChild(n);const s=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),s=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(s.add("ag-header","ag-header-row"),i.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&s.add(c)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},j3={moduleName:"AutoWidth",version:nt,beans:[Fre]};function _re(e,t,n=!0,i="api"){var s;(s=e.colResize)==null||s.setColumnWidths(t,!1,n,i)}var Bre=class extends Te{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),s=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(s,n,e)}getInitialValues(e){var l;const t=c=>c.reduce((d,f)=>d+f.getActualWidth(),0),n=(c,d)=>c.map(f=>f.getActualWidth()/d),i=this.getColumnsToResize(),s=t(i),r=n(i,s),o={columnsToResize:i,resizeStartWidth:s,resizeRatios:r};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const c=a.getDisplayedLeafColumns(),d=o.groupAfterColumns=c.filter(g=>g.isResizable()),f=o.groupAfterStartWidth=t(d);o.groupAfterRatios=n(d,f)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){var f;const{columnsToResize:s,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:s,ratios:o,width:t}),a){const g=t-r;d.push({columns:a,ratios:c,width:l-g})}(f=this.beans.colResize)==null||f.resizeColumnSets({resizeSets:d,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},Gre=class extends Te{constructor(e,t,n,i,s){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=s}postConstruct(){const e=[];let t,n;const i=()=>{if(qi(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},s=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,s(),i())};r(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:s,beans:r}=this,o=this.normaliseResizeAmount(t),a=s+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:f}=r;if(this.column.getPinned()){const g=(c==null?void 0:c.leftWidth)??0,y=(c==null?void 0:c.rightWidth)??0,v=j0(d.getGridBodyCtrl().eBodyViewport)-50;if(g+y+(o-i)>v)return}this.lastResizeAmount=o,f==null||f.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},zre=class extends Te{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const s=[],{colModel:r,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=r.getColDefCol(l.key)||r.getCol(l.key);if(!c)return;if(s.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(c);if(!f)return;const g=c.getActualWidth()-l.newWidth,y=f.getActualWidth()+g;s.push({width:y,ratios:[1],columns:[f]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(d=>Hre(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;BC(this.eventSvc,d,n,i)}return}const r=[],o=[];t.forEach(d=>{const{width:f,columns:g,ratios:y}=d,v={},w={};g.forEach(M=>o.push(M));let S=!0,x=0;for(;S;){if(x++,x>1e3){li(31);break}S=!1;const M=[];let A=0,k=f;g.forEach((P,N)=>{if(w[P.getId()])k-=v[P.getId()];else{M.push(P);const z=y[N];A+=z}});const I=1/A;M.forEach((P,N)=>{const B=N===M.length-1;let z;B?z=k:(z=Math.round(y[N]*f*I),k-=z);const W=P.getMinWidth(),Y=P.getMaxWidth();z<W?(z=W,w[P.getId()]=!0,S=!0):Y>0&&z>Y&&(z=Y,w[P.getId()]=!0,S=!0),v[P.getId()]=z})}g.forEach(M=>{const A=v[M.getId()];M.getActualWidth()!==A&&(M.setActualWidth(A,i),r.push(M))})});const a=r.length>0;let l=[];if(a){const{colFlex:d,visibleCols:f,colViewport:g}=this.beans;l=(d==null?void 0:d.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],f.setLeftValues(i),f.updateBodyWidths(),g.checkViewportColumns()}const c=o.concat(l);(a||n)&&BC(this.eventSvc,c,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),s=e.getMinWidth(),r=e.getMaxWidth(),o=Math.min(Math.max(i+t,s),r);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,s){return new Gre(e,t,n,i,s)}createGroupResizeFeature(e,t,n,i){return new Bre(e,t,n,i)}};function Hre(e){const{columns:t,width:n}=e;let i=0,s=0,r=!0;t.forEach(l=>{const c=l.getMinWidth();i+=c||0;const d=l.getMaxWidth();d>0?s+=d:r=!1});const o=n>=i,a=!r||n<=s;return o&&a}var Vre={moduleName:"ColumnResize",version:nt,beans:[zre],apiFunctions:{setColumnWidths:_re},dependsOn:[pre,j3]},jre=class extends Te{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},Wre=class extends Q2{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,s){const{column:r,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:f}=o;this.comp=e,s=WM(this,a,s),this.setGui(t,s),this.displayName=l.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,y=r.getProvidedColumnGroup().getLeafColumns();c==null||c.createHoverFeature(s,y,t),d==null||d.createRangeHighlightFeature(s,r,e),s.createManagedBean(new X2(r,t,o)),s.createManagedBean(new jre(e,r)),f?this.resizeFeature=s.createManagedBean(f.createGroupResizeFeature(e,n,g,r)):e.setResizableDisplayed(!1),s.createManagedBean(new cw(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,y),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Rt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Un(t)===e;if(!n&&!i)return;const s=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(r){const l=this.beans.gos.get("enableRtl"),c=s===1,d=s===0;n&&(l?a=c:o=d),i&&(l?o=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,s=this.column,r=s.getProvidedColumnGroup(),o=Rt(n,{displayName:this.displayName,columnGroup:s,setExpanded:l=>{e.setColumnGroupOpened(r,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>i==null?void 0:i.showMenuAfterButtonClick(r,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>i==null?void 0:i.showMenuAfterMouseEvent(r,l,"columnMenu",c),eGridHeader:this.eGui}),a=jte(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=a3(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===De.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Ure(e,t,n){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,n,"api")}function $re(e,t,n){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,n))??null}function Yre(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function Kre(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function qre(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Zre(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function Xre(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function Qre(e){return e.visibleCols.treeLeft}function Jre(e){return e.visibleCols.treeCenter}function eoe(e){return e.visibleCols.treeRight}function toe(e){return e.visibleCols.getAllTrees()}function noe(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var ioe=class extends Te{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:s,colViewport:r,selectionColSvc:o}=this.beans;t||this.buildTrees(i,s),s==null||s.updateOpenClosedVisibility(),this.leftCols=YP(this.treeLeft),this.centerCols=YP(this.treeCenter),this.rightCols=YP(this.treeRight),o==null||o.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n==null||n.refreshFlexedColumns(),this.updateBodyWidths(),r.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Hd(this.centerCols),t=Hd(this.leftCols),n=Hd(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let s,r;this.gos.get("enableRtl")?(s=t?t[0]:null,r=n?Un(n):null):(s=t?Un(t):null,r=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===s,i),o.setFirstRightPinned(o===r,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),s=n.filter(l=>l.getPinned()=="right"),r=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new n3,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:s,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:r,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],s=[];for(const r of t){const o=r.getPinned();o?o===!0||o==="left"?n.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=n.concat(i).concat(s)}getAriaColIndex(e){let t;return Ki(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ki(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),s=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(s){let o=Hd(r);r.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;r.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}noe(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const s=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const g=c-1;for(let y=1;y<=g;y++)d.push(t[o+y]);o+=g}let f;n?(f=!1,d.forEach(g=>{n(g)&&(f=!0)})):f=!0,f&&(s.length===0&&r&&(i&&i(a))&&s.push(r),s.push(a)),r=a}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Hm(this.treeCenter,!1,e),Hm(this.treeLeft,!1,e),Hm(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?Un(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Hd(this.leftCols)}getDisplayedColumnsRightWidth(){return Hd(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let s;if(Ki(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;s=i?r[0]:Un(r)}else s=e;return(i?n[0]:Un(n))===s}};function Hm(e,t,n){if(e)for(let i=0;i<e.length;i++){const s=e[i];if(Ki(s)){const r=t?s.getDisplayedChildren():s.getChildren();Hm(r,t,n)}n(s)}}function YP(e){const t=[];return Hm(e,!0,n=>{oh(n)&&t.push(n)}),t}var soe=class extends Te{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Qd(null,t,n=>{Xr(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Qd(null,t,i=>{if(Xr(i)){const s=i.getColGroupDef(),r={groupId:i.getGroupId(),open:s?s.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:s,eventSvc:r}=this.beans;if(!n.getColTree().length)return;i==null||i.start();const a=[];e.forEach(l=>{const c=l.groupId,d=l.open,f=this.getProvidedColGroup(c);f&&f.isExpanded()!==d&&(f.setExpanded(d),a.push(f))}),s.refresh(t,!0),a.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i==null||i.finish()}setColumnGroupOpened(e,t,n){let i;Xr(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return Qd(null,this.beans.colModel.getColTree(),n=>{Xr(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),s=t==="After"?Un(i):i[0],r=`getCol${t}`;for(;;){const o=this.beans.visibleCols[r](s);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,s;for(;i=n.getProvidedColumnGroup().getLevel(),s=n.getPaddingLevel(),!(i+s<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Hm(e,!1,t=>{Ki(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Ki(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let s=null;return Hm(n,!1,r=>{if(Ki(r)){const o=r;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:s,isStandaloneStructure:r}=e,o=this.mapOldGroupsById(s),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const f=g=>{const y=d;d=g;const v=c[y],S=(Ki(v)?v.getProvidedColumnGroup():v).getOriginalParent();if(S==null){for(let M=y;M<g;M++)a.push(c[M]);return}const x=this.createColumnGroup(S,n,o,i,r);for(let M=y;M<g;M++)x.addChild(c[M]);l.push(x)};for(let g=1;g<c.length;g++){const y=c[g],w=(Ki(y)?y.getProvidedColumnGroup():y).getOriginalParent(),S=c[d],M=(Ki(S)?S.getProvidedColumnGroup():S).getOriginalParent();w!==M&&f(g)}d<c.length&&f(c.length)}return r||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,s,r,o){const a=s.getUniqueKey(t.groupId||null,null),l=Kz(this.beans,t,a),c=new gE(l,a,!1,n);this.createBean(c);const d=this.findExistingGroup(t,r);d&&r.splice(d.idx,1);const f=d==null?void 0:d.group;f&&c.setExpanded(f.isExpanded());const g=KU(this.beans,l.children,n+1,e,i,s,r,o);return c.setChildren(g),c}balanceColumnTree(e,t,n,i){const s=[];for(let r=0;r<e.length;r++){const o=e[r];if(Xr(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),s.push(a)}else{let a,l;for(let c=n-1;c>=t;c--){const d=i.getUniqueKey(null,null),f=Kz(this.beans,null,d),g=new gE(f,d,!0,t);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(s.push(a),e.some(d=>Xr(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}s.push(o)}}return s}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Xr(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const s=e[i];if(Xr(s)){const r=s,o=this.findMaxDepth(r.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let s=i;for(let r=t-1;r>=0;r--){const o=new gE(null,`FAKE_PATH_${i.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([s]),s.originalParent=o,s=o}t===0&&(i.originalParent=null),n.push(s)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const s=t[i];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:i,group:s}}}createColumnGroup(e,t,n,i,s){const r=e.getGroupId(),o=t.getInstanceIdForKey(r),a=y3(r,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Qe(l)?l.reset():(l=new v3(e,r,o,i),s||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(s=>{if(Ki(s)){const r=s;t[s.getUniqueId()]=r,n(r.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,Ki(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},roe={moduleName:"ColumnGroup",version:nt,dynamicBeans:{headerGroupCellCtrl:Wre},beans:[soe],apiFunctions:{getAllDisplayedColumnGroups:toe,getCenterDisplayedColumnGroups:Jre,getColumnGroup:$re,getColumnGroupState:qre,getDisplayNameForColumnGroup:Kre,getLeftDisplayedColumnGroups:Qre,getProvidedColumnGroup:Yre,getRightDisplayedColumnGroups:eoe,resetColumnGroupState:Xre,setColumnGroupOpened:Ure,setColumnGroupState:Zre}},ooe={moduleName:"CheckboxCellRenderer",version:nt,userComponents:{agCheckboxCellRenderer:cse}};function aoe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function loe(e){return e.colModel.getColumnDefs()}function coe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function uoe(e,t){return e.colModel.getColDefCol(t)}function doe(e){return e.colModel.getColDefCols()}function hoe(e,t){return hc(e,t,"api")}function foe(e){return rI(e)}function goe(e){pte(e,"api")}function poe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function moe(e){return e.visibleCols.isPinningLeft()}function yoe(e){return e.visibleCols.isPinningRight()}function voe(e,t){return e.visibleCols.getColAfter(t)}function boe(e,t){return e.visibleCols.getColBefore(t)}function Coe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function woe(e,t,n){var i;(i=e.pinnedCols)==null||i.setColsPinned(t,n,"api")}function Soe(e){return e.colModel.getCols()}function xoe(e){return e.visibleCols.leftCols}function Moe(e){return e.visibleCols.centerCols}function Doe(e){return e.visibleCols.rightCols}function Aoe(e){return e.visibleCols.allCols}function Roe(e){return e.colViewport.getViewportColumns()}function VN(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(s=>{if(t&&t.indexOf(s)>=0||VU.has(s))return;const r=n[s];typeof r=="object"&&r!==null&&r.constructor===Object?i[s]=VN(r):i[s]=r}),i}var Toe=class extends Te{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){var a,l;const s=e.slice();t?s.sort((c,d)=>n.indexOf(c)-n.indexOf(d)):n&&s.sort((c,d)=>i.indexOf(c)-i.indexOf(d));const r=(a=this.rowGroupColsSvc)==null?void 0:a.columns,o=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(s,r,o)}buildColumnDefs(e,t=[],n=[]){const i=[],s={};return e.forEach(r=>{const o=this.createDefFromColumn(r,t,n);let a=!0,l=o,c=r.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const g=s[c.getGroupId()];if(g){g.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],s[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&i.push(l)}),i}createDefFromGroup(e){const t=VN(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=VN(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},Eoe=class extends Te{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,s=i.centerCols;let r=-1;if(e.resizingCols){const v=new Set(e.resizingCols);for(let w=s.length-1;w>=0;w--)if(v.has(s[w])){r=w;break}}let o=!1;const a=s.map((v,w)=>{const S=v.getFlex(),x=S!=null&&S>0&&w>r;return o||(o=x),{col:v,isFlex:x,flex:Math.max(0,S??0),initialSize:v.getActualWidth(),min:v.getMinWidth(),max:v.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((v,w)=>v+w.flex,0),d=n;const f=(v,w)=>{v.frozenSize=w,v.col.setActualWidth(w,t),d-=w,c-=v.flex,l-=1},g=v=>v.frozenSize!=null;for(const v of a)v.isFlex||f(v,v.initialSize);for(;l>0;){const v=Math.round(c<1?d*c:d);let w,S=0,x=0;for(const k of a){if(g(k))continue;w=k,x+=v*(k.flex/c);const I=x-S,P=Math.round(I);k.targetSize=P,S+=P}w&&(w.targetSize+=v-S);let M=0;for(const k of a){if(g(k))continue;const I=k.targetSize,P=Math.min(Math.max(I,k.min),k.max);M+=P-I,k.violationType=P===I?void 0:P<I?"max":"min",k.targetSize=P}const A=M===0?"all":M>0?"min":"max";for(const k of a)g(k)||(A==="all"||k.violationType===A)&&f(k,k.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const y=a.filter(v=>v.isFlex&&!v.violationType).map(v=>v.col);if(e.fireResizedEvent){const v=a.filter(S=>S.initialSize!==S.frozenSize).map(S=>S.col),w=a.filter(S=>S.flex).map(S=>S.col);BC(this.eventSvc,v,!0,t,w)}return y}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},Ioe=class extends Te{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const i=o=>a=>{const{column:l,node:c,value:d}=a;let f=l.getColDef().valueFormatter;return f===o.groupSafeValueFormatter&&(f=o.valueFormatter),this.beans.valueSvc.formatValue(l,c,d,f)};for(const o of Object.keys(e)){const a=e[o],l={...a,groupSafeValueFormatter:bH(a,this.gos)};t[o]=l,n[o]=i(l)}const s=this.gos.get("dataTypeDefinitions")??{},r={};this.dataTypeMatchers=r;for(const o of Object.keys(s)){const a=s[o],l=this.processDataTypeDefinition(a,s,[o],e);l&&(t[o]=l,a.dataTypeMatcher&&(r[o]=a.dataTypeMatcher),n[o]=i(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=r[o];a&&delete r[o],r[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,n,i){let s;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[r];const a=t[r];if(o&&a&&(o=a),!vH(e,o,r))return;s=yH(o,e)}else{if(n.includes(r)){Ue(44);return}const o=t[r];if(!vH(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...n,r],i);if(!a)return;s=yH(a,e)}return{...s,groupSafeValueFormatter:bH(s,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:s}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(s,n):!1),!i){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[i];if(!r){Ue(47,{cellDataType:i});return}return e.cellDataType=i,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,r,n),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!ir(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(KP(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const r=n.get("columnTypes")??{};if(sI(s).some(a=>{const l=r[a.trim()];return l&&KP(l,i)}))return!1}return!KP(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=S0(i,e,s)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[s]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:o}=r;o&&(s==null||s(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},s={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[r],a=this.colModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=Loe(a,o);d.rowGroup&&d.rowGroupIndex==null&&(i[r]=d),d.pivot&&d.pivotIndex==null&&(s[r]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,s)),n.length&&hc(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:s}=this.beans;return i==null||i.restoreColumnOrder(n,e),s==null||s.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=PN(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const n=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Ue(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){var r;const s=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===De.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.colModel.getColDefCol(i),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const d=o==null?"":s({column:l,node:null,value:o}),f=a==null?"":s({column:l,node:null,value:a});return d===f?0:d>f?1:-1},e.keyCreator=s;break}}(r=this.beans.filterManager)==null||r.setColDefPropertiesForDataType(e,n,s)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,s;return((s=(i=n.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:TN(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var i,s;return n.newValue==null?n.newValue:((s=(i=n.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>ra(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):ml(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>ra(n)??void 0,dateFormatter:n=>ml(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>TN(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function yH(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...sI(e.columnTypes),...sI(t.columnTypes)]),n}function vH(e,t,n){return t?t.baseDataType!==e.baseDataType?(Ue(46),!1):!0:(Ue(45,{parentCellDataType:n}),!1)}function bH(e,t){if(e.valueFormatter)return n=>{var i,s;if((i=n.node)!=null&&i.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,n.value)))return;return e.valueFormatter(n)}}function koe(e,t,n,i){if(!t[n])return!1;const s=e[n];return s===null?(t[n]=!1,!1):i===void 0?!!s:s===i}function KP(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>koe(e,t,n,i))}function Loe(e,t){const n=t3(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var Poe={moduleName:"DataType",version:nt,beans:[Ioe],dependsOn:[ooe]},Ooe={moduleName:"ColumnFlex",version:nt,beans:[Eoe]},Noe={moduleName:"ColumnApi",version:nt,beans:[Toe],apiFunctions:{getColumnDef:aoe,getDisplayNameForColumn:coe,getColumn:uoe,getColumns:doe,applyColumnState:hoe,getColumnState:foe,resetColumnState:goe,isPinning:poe,isPinningLeft:moe,isPinningRight:yoe,getDisplayedColAfter:voe,getDisplayedColBefore:boe,setColumnsVisible:Coe,setColumnsPinned:woe,getAllGridColumns:Soe,getDisplayedLeftColumns:xoe,getDisplayedCenterColumns:Moe,getDisplayedRightColumns:Doe,getAllDisplayedColumns:Aoe,getAllDisplayedVirtualColumns:Roe,getColumnDefs:loe}};function Foe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var _oe=class extends Te{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return n&&s?s.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,s){var o;const r=e.headerValueGetter;if(r){const a=Rt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:s});return typeof r=="function"?r(a):typeof r=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(r,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return Foe(e.field)}return""}},Boe=class extends Te{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,s=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||Goe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,s=this.viewportRight+200,r=t<i&&n<i,o=t>s&&n>s;return!r&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const o=r.getLeft();return Qe(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,s=i.centerCols;return i.getColsForRow(e,s,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:s,treeCenter:r}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);const a=(l,c,d)=>{let f=!1;for(let g=0;g<l.length;g++){const y=l[g];let v=!1;if(oh(y))v=e[y.getId()]===!0;else{const S=y.getDisplayedChildren();S&&(v=a(S,c,d+1))}v&&(f=!0,c[d]||(c[d]=[]),c[d].push(y))}return f};a(i,this.rowsOfHeadersToRenderLeft,0),a(s,this.rowsOfHeadersToRenderRight,0),a(r,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function Goe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var zoe=class extends Te{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(s){const r=t(s),o=typeof r;if(o==="string"||o==="number"||o==="boolean"){this.eGui=O2("<span>"+r+"</span>");return}if(r==null){this.eGui=ws({tag:"span"});return}this.eGui=r}}return n}},Hoe={moduleName:"CellRendererFunction",version:nt,beans:[zoe]},Voe=class extends Te{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:s}=e;if(n){const r=(o,a,l)=>{this.agGridDefaults[o]=a,l&&(this.agGridDefaultParams[o]=l)};for(const o of Object.keys(n)){const a=n[o];typeof a=="object"?r(o,a.classImp,a.params):r(o,a)}}if(i)for(const r of Object.keys(i))this.dynamicBeans[r]=i[r];if(s==null||s.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){var a;const n=(l,c,d)=>({componentFromFramework:c,component:l,params:d}),{frameworkOverrides:i}=this.beans,s=i.frameworkComponent(t,this.gos.get("components"));if(s!=null)return n(s,!0);const r=this.jsComps[t];if(r){const l=i.isFrameworkComponent(r);return n(r,l)}const o=this.agGridDefaults[t];return o?n(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(rg(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},joe=23,Woe=class extends Te{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===joe&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Uoe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',T4,E4,i_=typeof window!="object"||!((E4=(T4=window==null?void 0:window.document)==null?void 0:T4.fonts)!=null&&E4.forEach),zC=(e,t,n,i,s,r)=>{if(i_)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let o=uC.map.get(t);if(o||(o=[],uC.map.set(t,o)),o.find(d=>d.css===e))return;const a=document.createElement("style");r&&a.setAttribute("nonce",r),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:s};let c;for(const d of o){if(d.priority>s)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);const d=o.indexOf(c);o.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},W3=(e,t,n)=>{zC(Uoe,e,"core",t,0,n),Array.from(cne()).sort((i,s)=>i.moduleName.localeCompare(s.moduleName)).forEach(i=>{var s;return(s=i.css)==null?void 0:s.forEach(r=>zC(r,e,`module-${i.moduleName}`,t,0,n))})},$oe=e=>{uC.grids.add(e)},Yoe=e=>{if(uC.grids.delete(e),uC.grids.size===0){uC.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},CH,uC=(CH=typeof window=="object"?window:{}).agStyleInjectionState??(CH.agStyleInjectionState={map:new WeakMap,grids:new Set}),ah=e=>new U3(e),Wf="$default",Koe=0,U3=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:s}){this.feature=e,this.css=i,this.cssImports=s,this.modeParams={[Wf]:{...n[Wf]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:s}=this;if(s){const r=`ag-theme-${this.feature??"part"}-${++Koe}`;typeof s=="function"&&(s=s()),s=`:where(.${r}) {
${s}
}
`;for(const o of this.cssImports??[])s=`@import url(${JSON.stringify(o)});
${s}`;i={css:s,class:r}}else i=!1;this._inject=i}return i&&e&&zC(i.css,e,i.class,t,1,n),i?i.class:!1}},qoe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),$3=e=>`--ag-${qoe(e)}`,zu=e=>`var(${$3(e)})`,Zoe=(e,t,n)=>Math.max(t,Math.min(n,e)),Xoe=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},du=e=>({ref:"accentColor",mix:e}),sl=e=>({ref:"foregroundColor",mix:e}),lc=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Qoe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ta={ref:"backgroundColor"},$x={ref:"foregroundColor"},Uf={ref:"accentColor"},pI={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:sl(.15),chromeBackgroundColor:lc(.02),browserColorScheme:"light"},Joe={...pI,textColor:$x,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ta,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Uf,rangeSelectionBackgroundColor:du(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:du(.5),rangeHeaderHighlightColor:Qoe(.08),rowNumbersSelectedColor:du(.5),rowHoverColor:du(.08),columnHoverColor:du(.05),selectedRowBackgroundColor:du(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Ta,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Ta,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:sl(.7),focusShadow:{spread:3,color:du(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:sl(.1),iconButtonActiveColor:Uf,iconButtonActiveBackgroundColor:du(.28),iconButtonActiveIndicatorColor:Uf,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Uf,toggleButtonOffBackgroundColor:lc(.3),toggleButtonSwitchBackgroundColor:Ta,toggleButtonSwitchInset:2,menuBorder:{color:sl(.2)},menuBackgroundColor:lc(.03),menuTextColor:lc(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:sl(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Uf},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:sl(.2)},panelBackgroundColor:Ta,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:sl(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:sl(.13)},selectCellBackgroundColor:sl(.07),selectCellBorder:{color:sl(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:$x,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:$x,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:sl(.15),statusBarLabelColor:$x,statusBarLabelFontWeight:500,statusBarValueColor:$x,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},eae=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",tae={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},nae=()=>ah({feature:"buttonStyle",params:{...tae,buttonBackgroundColor:Ta,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Uf}},css:eae}),iae=nae(),sae=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",rae=()=>ah({feature:"columnDropStyle",css:sae}),Y3=rae(),oae=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],aae=Xoe(e=>(e=e.toLowerCase(),oae.find(t=>e.endsWith(t.toLowerCase()))??"length")),b1=e=>typeof e=="object"&&(e!=null&&e.ref)?zu(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,s_=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=zu(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?zu(e.onto):"transparent"}, ${t} ${Zoe(e.mix*100,0,100)}%)`}return!1},lae=b1,Xb=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${zu(n)} `)})`:e&&"ref"in e?zu(e.ref):!1,cae=b1,uae=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?zu(e.ref):K3(e.style??"solid")+" "+Xb(e.width??1)+" "+s_(e.color??{ref:"borderColor"}),dae=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?zu(e.ref):[Xb(e.offsetX??0),Xb(e.offsetY??0),Xb(e.radius??0),Xb(e.spread??0),s_(e.color??{ref:"foregroundColor"})].join(" "),K3=b1,q3=e=>typeof e=="string"?e.includes(",")?e:wH(e):e&&"googleFont"in e?q3(e.googleFont):e&&"ref"in e?zu(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),wH(t))).join(", "):!1,wH=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),hae=b1,Z3=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?Z3({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?zu(e.ref):!1,fae=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&li(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?zu(e.ref):!1,gae={color:s_,colorScheme:lae,length:Xb,scale:cae,border:uae,borderStyle:K3,shadow:dae,image:Z3,fontFamily:q3,fontWeight:hae,duration:fae},pae=(e,t)=>{const n=aae(e);return gae[n](t,e)},mae=()=>new X3().withPart(iae).withPart(Y3),X3=class Q3{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof U3?new Q3([...this.parts,t]):(o0(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(ah({feature:t}))}withParams(t,n=Wf){return this.withPart(ah({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:s}){if(i_)return;vae(),W3(t,n,i);const r=yae(this);if(r.length>0)for(const o of r)s&&Cae(o,i);for(const o of this.parts)o.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=SH(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Wf]:{...Joe}};for(const i of SH(this.parts))for(const s of Object.keys(i.modeParams)){const r=i.modeParams[s];if(r){const o=n[s]??(n[s]={}),a=new Set;for(const l of Object.keys(r)){const c=r[l];c!==void 0&&(o[l]=c,a.add(l))}if(s===Wf)for(const l of Object.keys(n)){const c=n[l];if(l!==Wf)for(const d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let s="",r="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==Wf){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;s+=f,r+=f}for(const d of Object.keys(c).sort()){const f=c[d],g=pae(d,f);if(g===!1)li(107,{key:d,value:f});else{const y=$3(d),v=y.replace("--ag-","--ag-inherited-");s+=`	${y}: var(${v}, ${g});
`,r+=`	${v}: var(${y});
`}}l!==Wf&&(s+=`}
`,r+=`}
`)}let a=`${n} {
${s}}
`;a+=`:has(> ${n}):not(${n}) {
${r}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},SH=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},yae=e=>{const t=new Set,n=r=>{if(Array.isArray(r))r.forEach(n);else{const o=r==null?void 0:r.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(n),Array.from(t).sort()},xH=!1,vae=()=>{if(!xH){xH=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},bae=new Set,Cae=async(e,t)=>{bae.add(e);const n=`@import url('https://${wae}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;zC(n,document.head,`googleFont:${e}`,void 0,0,t)},wae="fonts.googleapis.com",Sae='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',xae=()=>ah({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ta,checkboxUncheckedBorderColor:lc(.3),checkboxCheckedBackgroundColor:Uf,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ta,checkboxIndeterminateBackgroundColor:lc(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ta,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:Sae}),Mae=xae(),J3=()=>({...pI,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:lc(.05),rowHoverColor:du(.15),selectedRowBackgroundColor:du(.2),menuBackgroundColor:lc(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:Ta,findActiveMatchColor:Ta,checkboxUncheckedBorderColor:lc(.4),toggleButtonOffBackgroundColor:lc(.4)}),Dae=()=>({...J3(),backgroundColor:"#1f2836"}),Aae=()=>ah({feature:"colorScheme",params:pI,modeParams:{light:pI,dark:J3(),"dark-blue":Dae()}}),Rae=Aae(),e$={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},t$={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},Tae=(e={})=>{let t="";for(const n of[...Object.keys(e$),...Object.keys(t$)]){const i=Eae(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},Eae=(e,t=1.5)=>{const n=t$[e];if(n)return n;const i=e$[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},Iae=(e={})=>ah({feature:"iconSet",css:()=>Tae(e)}),kae=Iae(),Lae=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Pae=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow)}}",Oae={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},Nae=()=>ah({feature:"inputStyle",params:{...Oae,inputBackgroundColor:Ta,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Uf},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:lc(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>Lae+Pae}),Fae=Nae(),_ae='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',Bae={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Gae=()=>ah({feature:"tabStyle",params:{...Bae,tabBarBorder:!0,tabBarBackgroundColor:sl(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ta},css:_ae}),zae=Gae(),Hae=()=>mae().withPart(Mae).withPart(Rae).withPart(kae).withPart(zae).withPart(Fae).withPart(Y3).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Vae=Hae(),jae={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Wae={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Uae={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},MH={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},DH={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},AH={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},qP={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},RH={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},$ae=0,Yae=class extends Te{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++$ae}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(MH),this.getSizeEl(DH),this.getSizeEl(AH),this.getSizeEl(qP),this.getSizeEl(RH),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Yoe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(RH)}getRowBorderWidth(){return this.getCSSVariablePixelValue(qP)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(MH)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(DH)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(jae)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Wae),n=this.getCSSVariablePixelValue(Uae);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(AH)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let s=!1;for(const r of Array.from(i.classList))r.startsWith("ag-theme-")&&(s=!0,n=n?`${n} ${r}`:r);s&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?zC(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===ZP?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=ws({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=ws({tag:"div"});const{border:i,noWarn:s}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${ZP}px)`)):t.style.width=`var(${e.cssName}, ${ZP}px)`,n.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&!s&&Ue(9,{variable:e});const o=yh(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==r&&(r=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(qP);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,s=e.get("theme");let r;if(s==="legacy")r=void 0;else{const o=s??Vae;o instanceof X3?r=o:li(240,{theme:o})}if(r!==i){if(r){$oe(this),W3(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)zC(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=r,r==null||r._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=ws({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}i_||(o.textContent=(r==null?void 0:r._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&li(s?106:239)}},ZP=15538,Kae=class extends Te{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new qm}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Rt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Rt(this.gos,e))}};function n$(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function jN(e,t){let n;if(Ki(e)&&n$(e)&&e.isPadding()){const i=e;n=i.getLeafColumns()[0];let s=n;for(;s!==i;)t++,s=s.getParent()}return{column:n||e,headerRowIndex:t}}var qae=class extends Te{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=sr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:s,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=(s==null?void 0:s.getColumnGroup(e))??null)):n=e,!n)return null;const o=r.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),l=Un(a||[]).type==="filter",c=xu(this.beans)-1;let d=-1,f=n;for(;f;)d++,f=f.getParent();let g=d;return t&&l&&g===c-1&&g++,g===-1?null:{headerRowIndex:g,column:n}}navigateVertically(e,t,n){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:s}=t,r=t.column,o=xu(this.beans),a=e==="UP",l=this.getHeaderRowType(s);let{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:f}=a?Zae(l,r,s):Xae(l,r,s),g=!1;return c<0&&(c=0,d=r,g=!0),c>=o?(c=-1,this.currentHeaderRowWithoutSpan=-1):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!g&&!d?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:s}=this.beans,r=i.focusedHeader;let o,a;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(a="Before",o=this.findHeader(r,a)):(a="After",o=this.findHeader(r,a));const l=s.getCallback("tabToNextHeader");if(t&&l){const c=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:d}=i.focusedHeader||{};d!=null&&d!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return o||!t?i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(r,a,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let s=null,r;const o=this.beans;if(t==="Before"?i>0&&(r=i-1,this.currentHeaderRowWithoutSpan-=1,s=this.findColAtEdgeForHeaderRow(r,"end")):(r=i+1,this.currentHeaderRowWithoutSpan<xu(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,s=this.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:a,headerRowIndex:l}=jN(s.column,s==null?void 0:s.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Ki(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?Un(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i;const{colGroupSvc:s,visibleCols:r}=this.beans;if(Ki(e.column)?n=(s==null?void 0:s.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,n=r[i](e.column)),!n)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[Math.max(0,c.length-1-o)]}const{column:a,headerRowIndex:l}=jN(n,o);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:i,colGroupSvc:s}=this.beans,r=n.allCols,o=r[t==="start"?0:r.length-1];if(!o)return;const a=i.getHeaderRowContainerCtrl(o.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const c=s==null?void 0:s.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:c}}return{headerRowIndex:l==null?-1:e,column:o}}};function Zae(e,t,n){const i=e==="filter",s=e==="column";let r=i?t:t.getParent(),o=n-1,a=o;if(s&&n$(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=t,o=n,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function Xae(e,t,n,i="After"){let s=t,r=n+1;const o=r;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:Un(a),c=[];let d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(s=l,l.isSpanHeaderHeight())for(let f=c.length-1;f>=0;f--){const g=c[f];if(!g.isPadding()){s=g;break}r++}else s=Un(c),s||(s=l)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:o}}var Qae=class extends Te{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Sne(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(zi(this.beans),E3)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=zi(this.beans);return this.isDomDataPresentInHierarchy(e,cI)?!0:this.isDomDataPresentInHierarchy(e,fI)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(EU(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,s={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:r=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Zd(i),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:s,preventScrollOnBrowserFocus:r})}isCellFocused(e){return this.focusedCell==null?!1:g3(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:s,headerRowIndex:r}=this.focusedHeader;return t===s&&n===r&&i==s.getPinned()}focusHeaderPosition(e){var l;if(this.setFocusRecovered(),zm(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:s,fromCell:r,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(r&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(i){const c=this.focusedHeader,d=xu(this.beans);if(n){const f=this.gos.getCallback("tabToNextHeader");f&&(a=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:c,headerPosition:a,headerRowCount:d}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&s){const g={key:s.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d,event:s};a=f(g)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:s,fromCell:r,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(zm(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:s}=e,r=this.focusedHeader,o=xu(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:r,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:s,headerRowCount:r}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:s,headerRowCount:r});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:s,event:r}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:r});d==null||d.scrollToColumn(o,n);const f=c.getHeaderRowContainerCtrl(o.getPinned()),g=(f==null?void 0:f.focusHeader(t.headerRowIndex,o,r))||!1;return d&&g&&(s!=null||i)&&(d.currentHeaderRowWithoutSpan=s??-1),g}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=jN(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=xu(this.beans)-1,n=Un(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Zd(t)}focusOverlay(e){var n,i;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&ey(t,e)}focusGridView(e){var r,o,a,l,c,d;const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if((r=this.overlays)!=null&&r.isExclusive())return n&&this.focusOverlay(t);if(y1(this.beans))return t&&!zm(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:GC(this.beans,t);const s=t?$ne(this.beans):Une(this.beans);if(s){const f=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:g,rowPinned:y}=s,v=uI(this.beans,s);if(!f||!v||g==null)return!1;if(f.isSuppressNavigable(v)){const w=this.gos.get("enableRtl");let S;return!i||i.key===De.TAB?S=w?De.LEFT:De.RIGHT:S=i.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,S,{rowIndex:g,column:f,rowPinned:y||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:g,column:f,rowPinned:y}),t){const w=this.rowRenderer.getRowByPosition(s);if(w!=null&&w.isFullWidth()&&((c=this.navigation)!=null&&c.tryToFocusFullWidthRow(s,t)))return!0}return this.setFocusedCell({rowIndex:g,column:f,rowPinned:Zd(y),forceBrowserFocus:!0}),(d=this.beans.rangeSvc)==null||d.setRangeToCell({rowIndex:g,rowPinned:y,column:f}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const n=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:xu(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Jae=class extends Te{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:dee();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},ele=class extends Te{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),n.destroy(),super.destroy()}},bE=new Set(["gridPreDestroyed","fillStart","pasteStart"]),tle={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},Yx=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),nle={tag:"span",cls:"ag-sort-indicator-container",children:[Yx("Order","order"),Yx("Asc","ascending-icon"),Yx("Desc","descending-icon"),Yx("Mixed","mixed-icon"),Yx("None","none-icon")]},r_=class extends Ei{constructor(e){super(),this.eSortOrder=gt,this.eSortAsc=gt,this.eSortDesc=gt,this.eSortMixed=gt,this.eSortNone=gt,e||this.setTemplate(nle)}attachCustomElements(e,t,n,i,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=hl(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:s,beans:r}=this,o=r.sortSvc.getDisplaySortForColumn(i);if(e&&qi(e,o==="asc",{skipAriaHidden:!0}),t&&qi(t,o==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!s.get("unSortIcon"),l=o==null;qi(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;yu(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";qi(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),s=n.getDisplaySortIndexForColumn(t)??-1,r=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=s>=0&&r;qi(e,o,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():Fa(e)}},ile={selector:"AG-SORT-INDICATOR",component:r_},X0=["asc","desc",null],sle=class extends Te{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){var d;t!=="asc"&&t!=="desc"&&(t=null);const{gos:s,showRowGroupCols:r}=this.beans,o=yu(s);let a=[e];if(o&&e.getColDef().showRowGroup){const f=(d=r==null?void 0:r.getSourceColumnsForGroupColumn)==null?void 0:d.call(r,e),g=f==null?void 0:f.filter(y=>y.isSortable());g&&(a=[e,...g])}a.forEach(f=>this.setColSort(f,t,i));const l=(n||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),c=[];if(!l){const f=this.clearSortBarTheseColumns(a,i);c.push(...f)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(i,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,s=yu(t),r=i==null?void 0:i.getShowRowGroupCol(e.getId()),o=s&&r||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));const l=a.filter(d=>s&&d.getColDef().showRowGroup?!1:d!==o);(o.getSort()?[...l,o]:l).forEach((d,f)=>this.setColSortIndex(d,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??X0,n=t.indexOf(e.getSort()),i=n<0,s=n==t.length-1;return i||s?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let s=[];if(t.forAllCols(c=>{c.getSort()&&s.push(c)}),t.isPivotMode()){const c=yu(e);s=s.filter(d=>{const f=!!d.getAggFunc(),g=!d.isPrimary(),y=c?n==null?void 0:n.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return f||g||y})}const r=(i==null?void 0:i.columns.filter(c=>!!c.getSort()))??[],o={};s.forEach((c,d)=>o[c.getId()]=d),s.sort((c,d)=>{const f=c.getSortIndex(),g=d.getSortIndex();if(f!=null&&g!=null)return f-g;if(f==null&&g==null){const y=o[c.getId()],v=o[d.getId()];return y>v?1:-1}else return g==null?-1:1});const a=yu(e)&&!!r.length;a&&(s=[...new Set(s.map(c=>(n==null?void 0:n.getShowRowGroupCol(c.getId()))??c))]);const l=new Map;return s.forEach((c,d)=>l.set(c,d)),a&&r.forEach(c=>{const d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=yu(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=i[0].getSort();return i.every(a=>a.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:r=>{const o=t.isMoving(),l=Date.now()-i<50;o||l||this.progressSortFromEvent(t,r)}});const s=()=>{var o;const r=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",r==="asc"),e.toggleCss("ag-header-cell-sorted-desc",r==="desc"),e.toggleCss("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),c=!(a==null?void 0:a.every(d=>t.getSort()==d.getSort()));e.toggleCss("ag-header-cell-sorted-mixed",c)}};e.addManagedEventListeners({sortChanged:s,columnRowGroupChanged:s})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:s}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):s!==null&&(e.sortIndex=s)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new r_(e)}getSortIndicatorSelector(){return ile}},dC={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},rle=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),ole={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?dC[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:dC[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?dC[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(i=>t.includes(i))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},ale=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return rg(262);if(t.smallLeft)return rg(263);if(t.smallRight)return rg(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(s=>!X0.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${X0.map(QE).join()}], currently it includes [${i.map(QE).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(s=>typeof s!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:s,enableCellSpan:r,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&(n==null?void 0:n.mode)==="singleRow"&&n!=null&&n.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":s?"colDef.spanRows is not supported with suppressRowTransform.":r?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),lle={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},cle=()=>Object.keys(lle),ule=()=>({objectName:"colDef",allProperties:cle(),docsUrl:"column-properties/",deprecations:rle(),validations:ale()}),dle=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded"],hle=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],fle=()=>[...dle,...hle],gle=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],ple=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],mle=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],i$=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],yle=["theme","rowSelection"],vle=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],s$=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],ble=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned"],Cle=()=>[...mle,...ple,...gle,...i$,...ble,...s$,...vle,...yle],wle=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function au(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var Sle={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},xle=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return au("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return au("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return au("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,s=["autoHeight","normal","print"];return i&&!s.includes(i)?`domLayout must be one of [${s.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({isRowPinnable:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({isRowPinned:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return rg(262);if(n.smallLeft)return rg(263);if(n.smallRight)return rg(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return au("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return au("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return au("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return au("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return au("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const s=i.filter(r=>!X0.includes(r));if(s.length>0)return`sortingOrder must be an array with elements from [${X0.map(QE).join()}], currently it includes [${s.map(QE).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:s,treeDataParentIdField:r,getDataPath:o,getRowId:a}=n;if(!s&&!r&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(s){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(r)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(r){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:s}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return au("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return au("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n!=null&&n.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n!=null&&n.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return s$.forEach(n=>{t[n]={expectedType:"boolean"}}),i$.forEach(n=>{t[n]={expectedType:"number"}}),Po(t,e),t},Mle=()=>({objectName:"gridOptions",allProperties:[...Cle(),...fle().map(e=>_U(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:wle(),validations:xle()}),Dle=0,Ale=0,Rle=class extends Te{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=Ale++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new qm,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=bE.has(t);if(i&&!e||!i&&e)return;const s=(r,o)=>{const a=this.gridOptions[_U(r)];typeof a=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>a(o))};if(this.gridReadyFired)s(t,n);else if(t==="gridReady"){s(t,n),this.gridReadyFired=!0;for(const r of this.queueEvents)s(r.eventName,r.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??tle[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Qe(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:Dle++,properties:[]},s=[],{gridOptions:r,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o==null||o.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",d=r[a];if(c||d!==l){r[a]=l;const f={type:a,currentValue:l,previousValue:d,changeSet:i,source:n};s.push(f)}}this.validateGridOptions(this.gridOptions),i.properties=s.map(a=>a.type),s.forEach(a=>{Xm(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let s=t[n];typeof s=="function"&&(s=s(e,this.gridOptions,this.beans)),s&&this.assertModuleRegistered(s,n)}}validateGridOptions(e){var t;this.validateOptions(e,Sle),(t=this.validation)==null||t.processGridOptions(e)}validateColDef(e,t,n){var i,s;(n||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&(this.validateOptions(e,ole),(s=this.validation)==null||s.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||li(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:V2(),rowModelType:this.get("rowModelType"),isUmd:hne()}}isModuleRegistered(e){return ON(e,this.gridId,this.get("rowModelType"))}};function r$(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Tle=r$(!0),Ele=r$(!1),Ile=class extends Ei{constructor(){super(...arguments),this.eFilter=gt,this.eFilterButton=gt,this.eSortIndicator=gt,this.eMenu=gt,this.eLabel=gt,this.eText=gt,this.eSortOrder=gt,this.eSortAsc=gt,this.eSortDesc=gt,this.eSortMixed=gt,this.eSortNone=gt,this.isLoadingInnerComponent=!1}refresh(e){var n,i,s;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((n=this.beans)!=null&&n.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const r={...e};Po(r,e.innerHeaderComponentParams),(s=(i=this.innerHeaderComponent).refresh)==null||s.call(i,r)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n!=null&&n.trim?n.trim():n:t?Tle:Ele}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:s}=this.beans,r=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Vte(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=ow(t))}addInIcon(e,t,n){const i=hl(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){rh(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=Ra(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:n,beans:i,eMenu:s,eFilterButton:r}=this,o=t.column,a=Ra(n);if(e&&!a){if((l=i.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(o))return t.showFilter(r??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:s,eSortAsc:r,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(s,r,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();qi(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return rh(t),!1;const s=this.params.column;return this.addInIcon(i,t,s),this.addManagedListeners(s,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},kle={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},Lle=class extends Ei{constructor(){super(kle),this.agOpened=gt,this.agClosed=gt,this.agLabel=gt,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n==null||n.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Ue(89)}workOutInnerHeaderGroupComponent(e,t){const n=Wte(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const s=l=>{if(Xd(l))return;const c=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,s),this.addTouchAndClickListeners(i,e,s);const r=l=>{Jm(l)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var i;(i=e.touchSvc)==null||i.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();qi(e,i),qi(t,!i)}else qi(e,!1),qi(t,!1)}addInIcon(e,t){const n=hl(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;qi(t,!1),qi(n,!1);return}}setupLabel(e){var s;const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Qe(t)&&!i&&(this.agLabel.textContent=ow(t)),this.toggleCss("ag-sticky-label",!((s=n.getColGroupDef())!=null&&s.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Ple={moduleName:"ColumnHeaderComp",version:nt,userComponents:{agColumnHeader:Ile},icons:{menu:"menu",menuAlt:"menu-alt"}},Ole={moduleName:"ColumnGroupHeaderComp",version:nt,userComponents:{agColumnGroupHeader:Lle},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Nle=class extends Te{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Ue(92)}createTask(e,t,n,i){this.verify();let s=n;i&&this.batchFrameworkComps&&(s="f1");const r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[s],r),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:s,beans:r}=this,{ctrlsSvc:o,frameworkOverrides:a}=r,l=t.list,c=n.list,d=i.list,f=Date.now();let g=0;const y=e<=0,v=o.getScrollFeature();for(;y||g<e;){if(!v.scrollGridIfNeeded()){let S;if(l.length)this.sortTaskList(t),S=l.pop().task;else if(c.length)this.sortTaskList(n),S=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(y||g<e)&&!v.scrollGridIfNeeded();){if(d.length)this.sortTaskList(i),S=d.pop().task,S();else break;g=Date.now()-f}}),S=()=>{};else if(s.length)S=s.pop();else break;S()}g=Date.now()-f}l.length||c.length||d.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);vh(this.beans,e)}isQueueEmpty(){return!this.ticking}},Fle={moduleName:"AnimationFrame",version:nt,beans:[Nle]},_le=class extends Te{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Om())return;const t=(n,i,s)=>{var a;const{rowCtrl:r,cellCtrl:o}=e.getControlsForEventTarget((s==null?void 0:s.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(s??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,s,r,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Om()||GU("dblclick"))return!1;const i=Date.now(),s=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:s,eMenu:r,eFilterButton:o}=e,a=new fm(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&Qe(r)&&s.enableMenu,d=c?new fm(r,!0):a;if(s.enableMenu||i!=null&&i.isHeaderContextMenuEnabled(s.column)){const f=c?"tap":"longTap",g=y=>s.showColumnMenuAfterMouseClick(y.touchStart);e.addManagedListeners(d,{[f]:g})}if(s.enableSorting){const f=g=>{const y=g.touchStart.target;l&&(r!=null&&r.contains(y)||o!=null&&o.contains(y))||n==null||n.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(s.enableFilterButton&&o){const f=new fm(o,!0);e.addManagedListeners(f,{tap:()=>s.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e){var n;const t=e.params;if((n=this.beans.menuSvc)!=null&&n.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const i=new fm(t.eGridHeader,!0),s=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(i,{longTap:s}),e.addDestroyFunc(()=>i.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new fm(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Om())return;const i=new fm(t),s=r=>{q0(this.gos,r.touchEvent)&&n(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(i,{longTap:s}),e.addDestroyFunc(()=>i.destroy())}},Ble={moduleName:"Touch",version:nt,beans:[_le]},Gle=class extends Te{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===De.UP,i=e===De.DOWN,s=e===De.LEFT;let r,o;const{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(n||i)o=n?a.getFirstRow():a.getLastRow(),r=t.column;else{const d=l.get("enableRtl");o=t.rowIndex,r=(s!==d?c.allCols:[...c.allCols].reverse()).find(g=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:g}))}return r?{rowIndex:o,rowPinned:null,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case De.UP:n=this.getCellAbove(n);break;case De.DOWN:n=this.getCellBelow(n);break;case De.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case De.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Ue(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:s}=this.beans;switch(e.rowPinned){case"top":n=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:n=s.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,n=tH(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,n=dI(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let s=e.rowIndex,r=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const a=tH(this.beans,e);if(Ti(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a.rowIndex))??!0))return null;s=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:s,column:o,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,s=n.allCols;let r=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Un(s);const l=dI(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ti(l)||!l.rowPinned&&!((i==null?void 0:i.isRowInPage(l.rowIndex))??!0))return null;r=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function zle(e){return e.focusSvc.getFocusedCell()}function Hle(e){return e.focusSvc.clearFocusedCell()}function Vle(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function jle(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function Wle(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function Ule(e,t,n=!1){var s;const i=(s=e.headerNavigation)==null?void 0:s.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var $le=class extends Te{constructor(){super(),this.beanName="navigation",this.onPageDown=jz(this.onPageDown,100),this.onPageUp=jz(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,s=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,o=Gne(this.gos,e);let a=!1;switch(n){case De.PAGE_HOME:case De.PAGE_END:!s&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case De.LEFT:case De.RIGHT:case De.UP:case De.DOWN:if(!o)return!1;s&&!i&&!r&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case De.PAGE_DOWN:case De.PAGE_UP:!s&&!i&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===De.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:s,focusColumn:r}=e,{scrollFeature:o}=this.gridBodyCon;Qe(i)&&!i.isPinned()&&o.ensureColumnVisible(i),Qe(t)&&o.ensureIndexVisible(t,n),e.isAsync||o.ensureIndexVisible(s);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:s,column:r,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:s,rowPinned:null,column:r})}onPageDown(e){const t=this.beans,n=XP(t),i=this.getViewportHeight(),{pageBounds:s,rowModel:r,rowAutoHeight:o}=t,a=s.getPixelOffset(),l=n.top+i,c=r.getRowIndexAtPixel(l+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=XP(t),{pageBounds:i,rowModel:s,rowAutoHeight:r}=t,o=i.getPixelOffset(),a=n.top,l=s.getRowIndexAtPixel(a+o);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:s}=this.beans,r=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),c=s.getRow(e.rowIndex),d=n?(c==null?void 0:c.rowHeight)-r-l:r-l,f=(c==null?void 0:c.rowTop)+d;let g=s.getRowIndexAtPixel(f+l);if(g===e.rowIndex){const v=n?-1:1;t=g=e.rowIndex+v}let y;n?(y="bottom",g<o&&(g=o),t<o&&(t=o)):(y="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(s.getRow(g))&&(t=g,y="top"),this.navigateTo({scrollIndex:t,scrollType:y,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:s,rowModel:r}=this.beans,o=s.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=r.getRow(l);if(c){const d=c.rowHeight??0;if(a+d>i)break;a+=d}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=XP(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s})}onHomeOrEndKey(e){const t=e===De.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:s}=this.beans,r=n.allCols,o=t?i.getFirstRow():i.getLastRow(),a=s.getRow(o);if(!a)return;const l=(t?r:[...r].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),s=this.beans,{ctrlsSvc:r,pageBounds:o,focusSvc:a,gos:l}=s;if(i!==!1){i?t.preventDefault():i===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||zm(s)?GC(s,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof x0&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||GC(s,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:s}=n,r=i.getFocusedCell();if(!r)return!1;let o=Zb(n,r);return!o&&(o=s.getRowByPosition(r),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,n){let i=e.editing;if(!i&&e instanceof x0){const o=e.rowCtrl;o&&(i=o.editing)}let s;return i?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,n):s=this.moveToNextEditingCell(e,t,n):s=this.moveToNextCellNotEditing(e,t,n),s===null?s:s||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var r;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const s=this.findNextCellToFocusOn(i,t,!0);return s===!1?null:s==null?!1:((r=this.beans.editSvc)==null||r.startEditing(s,null,!0,n),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.cellPosition,s=this.findNextCellToFocusOn(i,t,!0);if(s===!1)return null;if(s==null)return!1;const r=s.cellPosition,o=this.isCellEditable(i),a=this.isCellEditable(r),l=r&&i.rowIndex===r.rowIndex&&i.rowPinned===r.rowPinned,{editSvc:c,rowEditSvc:d}=this.beans;if(o&&(c==null||c.setFocusOutOnEditor(e)),!l){const f=e.rowCtrl;c==null||c.stopRowEditing(f);const g=s.rowCtrl;d==null||d.startEditing(g,void 0,void 0,n)}return a?(c==null||c.setFocusInOnEditor(s),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let s;if(e instanceof gI){if(s={...e.getRowPosition(),column:t?i[0]:Un(i)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(s.column=o.column)}}else s=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r===!1)return null;if(r instanceof x0)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return Qe(r)}findNextCellToFocusOn(e,t,n){let i=e;const s=this.beans,{cellNavigation:r,gos:o,focusSvc:a,rowRenderer:l,rangeSvc:c}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=r.getNextTabbedCell(i,t);const d=o.getCallback("tabToNextCell");if(Qe(d)){const v=d({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(v===!0)i=e;else{if(v===!1)return!1;i={rowIndex:v.rowIndex,column:v.column,rowPinned:v.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const y=xu(s);return a.focusHeaderPosition({headerPosition:{headerRowIndex:y+i.rowIndex,column:i.column},fromCell:!0}),null}const f=o.get("editType")==="fullRow";if(n&&!f&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const g=Zb(s,i);if(!g){const y=l.getRowByPosition(i);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:i==null?void 0:i.column}}if(!r.isSuppressNavigable(g.column,g.rowNode))return g.setFocusedCellPosition(i),c==null||c.setRangeToCell(i),g}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let s=n,r=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;s&&(s===n||!this.isValidNavigateCell(s));)c.get("enableRtl")?t===De.LEFT&&(s=this.getLastCellOfColSpan(s)):t===De.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=a.getNextCellToFocus(t,s),r=Ti(s);if(r&&e&&e.key===De.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){const f=c.getCallback("navigateToNextCell");if(Qe(f)){const y=f({key:t,previousCellPosition:n,nextCellPosition:s||null,event:e});Qe(y)?s={rowPinned:y.rowPinned,rowIndex:y.rowIndex,column:y.column}:s=null}}if(!s)return;if(s.rowIndex<0){const f=xu(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+s.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=Zb(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:s,eventSvc:r}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=s.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Un(o):o[0])};this.focusPosition(c);const d=t??(l!=null&&jne(c,l));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!uI(this.beans,e)}getLastCellOfColSpan(e){const t=Zb(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Un(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=LU(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&(n==null?void 0:n.sticky),{scrollFeature:s}=this.gridBodyCon;!i&&Ti(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}};function XP(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Yle={moduleName:"KeyboardNavigation",version:nt,beans:[$le,Gle,qae],apiFunctions:{getFocusedCell:zle,clearFocusedCell:Hle,setFocusedCell:Vle,setFocusedHeader:Ule,tabToNextCell:jle,tabToPreviousCell:Wle}},Kle=class extends Te{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},qle=class extends Te{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const s=n.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Zle=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",Xle=class extends Te{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(qi(n,t),Iu(n,e))}},Qle=class extends Te{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Rr(e,"print"),s=i?0:t.getColsLeftWidth(),r=i?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,n.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=j0(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:r}=n;let o=s;!o.length&&!r||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!Bm(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new Xle(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:s,visibleCols:r,gos:o}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if(Rr(o,"print")){Ue(37);return}s==null||s.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const d=i.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(r.refresh(n),JU(this.eventSvc,l,n)),s==null||s.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const s=()=>{const r=n?this.leftWidth:this.rightWidth;if(r==null)return;const o=r==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&i)?r+c:r;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:s}=this,r=j0(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+s+e>r)if(r>i+s)e=r-i-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let s=!1;if(i<e)return{columns:[],hasLockedPinned:s};const{visibleCols:r}=this.beans,o=[...r.leftCols],a=[...r.rightCols];let l=0,c=0;const d=0,f=[];let g=i-d-e;for(;(c<o.length||l<a.length)&&g>0;){if(l<a.length){const y=a[l++];if(y.colDef.lockPinned){s=!0;continue}g-=y.getActualWidth(),f.push(y)}if(c<o.length&&g>0){const y=o[c++];if(y.colDef.lockPinned){s=!0;continue}g-=y.getActualWidth(),f.push(y)}}return{columns:f,hasLockedPinned:s}}},Jle={moduleName:"PinnedColumn",version:nt,beans:[Qle],css:[Zle]},ece=class extends Te{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Dr(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=sr(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),uU(n,"polite"),JJ(n,"additions text"),QJ(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(Fa(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},tce={moduleName:"Aria",version:nt,beans:[ece]};function nce(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function ice(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function sce(e){var t;(t=e.overlays)==null||t.hideOverlay()}var rce=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",oce={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},o$=class extends Ei{constructor(){super(oce),this.eOverlayWrapper=gt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(rce)}handleKeyDown(e){if(e.key!==De.TAB||e.defaultPrevented||Xd(e))return;const t=this.beans;if(Dy(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Un(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=GC(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:s,PRINT:r}=mE;n.toggle(i,t.autoHeight),n.toggle(s,t.normal),n.toggle(r,t.print)}postConstruct(){this.createManagedBean(new $2(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const s=zi(this.beans);s&&!kU(this.beans)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s){if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,i)){const r=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{var a;(a=r.refresh)==null||a.call(r,Rt(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&ey(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Fa(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=zi(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},ace={selector:"AG-OVERLAY-WRAPPER",component:o$},lce=class extends Te{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=ir(this.gos),this.isServerSide=!this.isClientSide&&xy(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Ue(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return ace}getOverlayWrapperCompClass(){return o$}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:s,rowModel:r}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!s.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Qte(this.beans.userCompFactory,Rt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Jte(this.beans.userCompFactory,Rt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var s;const i=(e==null?void 0:e.newAgStackInstance())??null;(s=this.eWrapper)==null||s.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},cce={moduleName:"Overlay",version:nt,userComponents:{agLoadingOverlay:Xie,agNoRowsOverlay:Jie},apiFunctions:{showLoadingOverlay:nce,showNoRowsOverlay:ice,hideOverlay:sce},beans:[lce]},uce=class extends Te{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=uee(),Xm(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Xm(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},dce=400,hce=class extends Te{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{mg(this.gos)?n():i()}),mg(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:s})=>{(!s&&i||s&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Rr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new fce(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){var s;const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!((s=this.beans.spannedRowRenderer)==null?void 0:s.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},i=()=>{n(l=>l.onLeftChanged())},s=()=>{n(l=>l.onWidthChanged())},r=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Rr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var s;const i=(s=n.getCellCtrl(e,!0))==null?void 0:s.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:s,printLayout:r}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i==null||i.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&i.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new gI(l,s,!1,!1,r)});const a=(t==="top"?i==null?void 0:i.getPinnedTopRowCount():i==null?void 0:i.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var n,i;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const o=r[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var a;this.getLockOnRefresh();const t=(a=this.beans.focusSvc)==null?void 0:a.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&rC(this.gos),s=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r,gos:o}=this;if(r){r.checkStickyRows();const l=r.extraTopHeight+r.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(s,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(rg(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:xu(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Rt(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=dI(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const s=this.getRowByPosition(i);if(s!=null&&s.isAlive())return{...s.getRowPosition(),column:e.column};i=dI(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const s=t[i].getAllCellCtrls(),r=s.length;for(let o=0;o<r;o++)e.push(s[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=WN(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const s=i.rowNode;return UN(s,t)})}getCellCtrls(e,t){let n;Qe(t)&&(n={},t.forEach(s=>{const r=this.colModel.getCol(s);Qe(r)&&(n[r.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const o=r.column.getId();n&&!n[o]||i.push(r)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let s;const r=this.stickyRowFeature;r&&(s=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(r){l=r.checkStickyRows();const d=r.extraTopHeight+r.extraBottomHeight;d&&this.updateContainerHeights(d)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(i&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),s!=null)){const d=t==null?void 0:t.getFocusCellToUseAfterRefresh();s!=null&&d==null&&(n==null||n.flushAllFrames(),this.restoreFocusedCell(s))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(r=>n[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!n[r]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){var o,a;const t=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)t.push(l);const n=this.beans.pagination,i=(a=(o=this.beans.focusSvc)==null?void 0:o.getFocusedCell())==null?void 0:a.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const s=l=>{const c=l.rowNode.rowIndex;c==null||c===i||(c<this.firstRenderedRow||c>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(l)&&t.push(c)};for(const l of Object.values(this.rowCtrlsByRowIndex))s(l);if(e)for(const l of Object.values(e))s(l);t.sort((l,c)=>l-c);const r=[];for(let l=0;l<t.length;l++){const c=t[l],d=this.rowModel.getRow(c);d&&!d.sticky&&r.push(c)}return r}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,n)}),e){const{animationFrameSvc:s}=this.beans;(s==null?void 0:s.active)&&n&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=WN(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!UN(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let s,r=this.rowCtrlsByRowIndex[e];if(r||(s=this.rowModel.getRow(e),Qe(s)&&Qe(t)&&t[s.id]&&s.alreadyRendered&&(r=t[s.id],t[s.id]=null)),!r)if(s||(s=this.rowModel.getRow(e)),Qe(s))r=this.createRowCon(s,n,i);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const s=i.instanceId;this.zombieRowCtrls[s]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[s]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),dce))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=_m(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,s;if(!n.isRowsToRender())i=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),s=t.getLastRow();else{const d=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let y=!1,v,w;do{const k=t.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:P}=t.getCurrentPagePixelRange(),N=e.divStretchOffset,B=f.getVScrollPosition(),z=B.top,W=B.bottom;g?(v=I+N,w=P+N):(v=Math.max(z+k-d,I)+N,w=Math.min(W+k+d,P)+N),this.firstVisibleVPixel=Math.max(z+k,I)+N,this.lastVisibleVPixel=Math.min(W+k,P)+N,y=this.ensureAllRowsInRangeHaveHeightsCalculated(v,w)}while(y);let S=n.getRowIndexAtPixel(v),x=n.getRowIndexAtPixel(w);const M=t.getFirstRow(),A=t.getLastRow();S<M&&(S=M),x>A&&(x=A),i=S,s=x}const r=Rr(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);r&&!o&&s-i>a&&(s=i+a);const l=i!==this.firstRenderedRow,c=s!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=i,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,vh(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const n=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),i=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:s,rowModel:r}=this,o=r.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,s=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),r=e.editing,o=i.detail;return s||r||o?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,n){var o,a;const i=((o=this.cachedRowCtrls)==null?void 0:o.getRow(e))??null;if(i)return i;const s=n&&!this.printLayout&&!!((a=this.beans.animationFrameSvc)!=null&&a.active);return new gI(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},fce=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],bl(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],bl(this.entriesList,e)}getEntries(){return this.entriesList}};function WN(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function UN(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var gce=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=yu(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=yu(e))}doFullSort(e,t){const n=e.map((i,s)=>({currentPos:s,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,s=n.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],l=a.sort==="desc",c=this.getValue(i,a.column),d=this.getValue(s,a.column);let f;const g=this.getComparator(a,i);if(g?f=g(c,d,i,s,l):f=bee(c,d,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const s=!t.group&&n.getColDef().field;if(!s)return;const r=this.beans.colModel.getColDefCol(s);if(r)return r.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:n,colModel:i,showRowGroupCols:s,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(PU(r,i.isPivotActive())){const f=(a=e.allLeafChildren)==null?void 0:a[0];return f?n.getValue(t,f,!1):void 0}const d=s==null?void 0:s.getShowRowGroupCol(t.getId());return d?(l=e.groupData)==null?void 0:l[d.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function pce(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var a$={moduleName:"Sort",version:nt,beans:[sle,gce],apiFunctions:{onSortChanged:pce},userComponents:{agSortIndicator:r_},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},mce=class extends Te{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Xm(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,aC(e.source))}}};function yce(e){var t;(t=e.valueCache)==null||t.expire()}function vce(e,t){const{colKey:n,rowNode:i,useFormatter:s}=t,r=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Ti(r))return null;const o=e.valueSvc.getValueForDisplay(r,i).value;return s?e.valueSvc.formatValue(r,i,o)??ow(o):o}var bce="paste",Cce=class extends Te{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;ir(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===bce||t.get("suppressChangeDetection"))return;const i=e.node,s=[i],r=this.clientSideRowModel,o=r==null?void 0:r.rootNode;if(o&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Z0(a,o);l.addParentNode(i.parent,[e.column]),r.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{s.push(c),c.sibling&&s.push(c.sibling)})}n.refreshCells({rowNodes:s})}},wce=class extends Te{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);li(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return li(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Sce=class extends Te{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},xce={moduleName:"ValueCache",version:nt,beans:[Sce],apiFunctions:{expireValueCache:yce}},Mce={moduleName:"Expression",version:nt,beans:[wce]},Dce={moduleName:"ChangeDetection",version:nt,beans:[Cce]},Ace={moduleName:"CellApi",version:nt,apiFunctions:{getCellValue:vce}},Rce=class extends Te{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=xy(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1){const{showRowGroupColValueSvc:s}=this.beans,r=!e&&t.group,o=e==null?void 0:e.colDef.showRowGroup,a=!this.isTreeData||t.footer;if(s&&a&&(r||o)){const v=s.getGroupValue(t,e);if(v==null)return{value:null,valueFormatted:null};if(!n)return{value:v.value,valueFormatted:null};const w=s.formatAndPrefixGroupColValue(v,e,i);return{value:v.value,valueFormatted:w}}if(!e)return{value:t.key,valueFormatted:null};const l=t.leafGroup&&this.colModel.isPivotMode(),c=t.group&&t.expanded&&!t.footer&&!l,d=this.gos.get("groupSuppressBlankHeader")||!t.sibling,f=c&&!d,g=this.getValue(e,t,f),y=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:g,valueFormatted:y?this.formatValue(e,t,g):null}}getValue(e,t,n=!1){var v;if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,r=e.getColId(),o=t.data;let a;const l=i.showRowGroup;if(typeof l=="string"&&(((v=this.beans.rowGroupColsSvc)==null?void 0:v.getColumnIndex(l))??-1)>t.level)return null;const c=typeof l!="string"||!t.group,d=t.groupData&&r in t.groupData,f=!n&&t.aggData&&t.aggData[r]!==void 0,g=this.isSsrm&&n&&!!e.getColDef().aggFunc,y=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f)a=t.aggData[r];else if(this.isTreeData&&i.valueGetter)a=this.executeValueGetter(i.valueGetter,o,e,t);else if(this.isTreeData&&s&&o)a=S0(o,s,e.isFieldContainsDots());else if(d)a=t.groupData[r];else if(f)a=t.aggData[r];else if(i.valueGetter){if(!c)return a;a=this.executeValueGetter(i.valueGetter,o,e,t)}else if(y)a=S0(o,t.field,e.isFieldContainsDots());else if(s&&o&&!g){if(!c)return a;a=S0(o,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const w=a.substring(1);a=this.executeValueGetter(w,o,e,t)}return a}parseValue(e,t,n,i){var o;const s=e.getColDef(),r=s.valueParser;if(Qe(r)){const a=Rt(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:s,column:e});return typeof r=="function"?r(a):(o=this.expressionSvc)==null?void 0:o.evaluate(r,a)}return n}getDeleteValue(e,t){return Qe(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,s=!0){let r=null,o;const a=e.getColDef();if(i?o=i:s&&(o=a.valueFormatter),o){const l=Rt(this.gos,{value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?r=o(l):r=this.expressionSvc?this.expressionSvc.evaluate(o,l):null}else if(a.refData)return a.refData[n]||"";return r==null&&Array.isArray(n)&&(r=n.join(", ")),r}setValue(e,t,n,i){var d,f;const s=this.colModel.getColDefCol(t);if(!e||!s)return!1;Ti(e.data)&&(e.data={});const{field:r,valueSetter:o}=s.getColDef();if(Ti(r)&&Ti(o))return Ue(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(s,n))return Ue(135),!1;const a=Rt(this.gos,{node:e,data:e.data,oldValue:this.getValue(s,e),newValue:n,colDef:s.getColDef(),column:s});a.newValue=n;let l;if(Qe(o)?typeof o=="function"?l=o(a):l=(d=this.expressionSvc)==null?void 0:d.evaluate(o,a):l=this.setValueUsingField(e.data,r,n,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(f=this.valueCache)==null||f.onDataChanged();const c=this.getValue(s,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let s=!1;if(!i)s=e[t]===n,s||(e[t]=n);else{const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();r.length===0?(s=o[a]===n,s||(o[a]=n)):o=o[a]}}return!s}executeValueGetterWithValueCache(e,t,n,i){const s=n.getColId(),r=this.valueCache.getValue(i,s);if(r!==void 0)return r;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,s,o),o}executeValueGetterWithoutValueCache(e,t,n,i){var o;const s=Rt(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let r;return typeof e=="function"?r=e(s):r=(o=this.expressionSvc)==null?void 0:o.evaluate(e,s),r}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let s=n;if(i){const r=Rt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});s=i(r)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Ue(121)),s}},Tce={moduleName:"CommunityCore",version:nt,beans:[ele,qse,Voe,Ste,uce,ioe,Kae,Rle,bte,qle,Kle,hce,Rce,Qae,Yae,Jae,Woe,mce,_oe,Boe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Zse,destroy:Xse,isDestroyed:Qse,getGridOption:Jse,setGridOption:ere,updateGridOptions:_3,isModuleRegistered:tre},dependsOn:[Poe,Nre,Vre,a$,Ple,roe,Ole,cce,Dce,Fle,Yle,Jle,tce,Ble,Hoe,Ooe,Mce]};function l$(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:s}=e;let r=n.map((l,c)=>({value:l,relevance:Ece(t,l),idx:c}));if(r.sort((l,c)=>c.relevance-l.relevance),i&&(r=r.filter(l=>l.relevance!==0)),r.length>0&&s&&s>0){const c=r[0].relevance*s;r=r.filter(d=>c-d.relevance<0)}const o=[],a=[];for(const l of r)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function Ece(e,t){if(e===t)return 1e3;const n=e.length,i=t.length;if(n===0||i===0)return 0;const s=e.toLocaleLowerCase(),r=t.toLocaleLowerCase(),o=r.indexOf(s);if(o!==-1)return 980-o*2;if([...s].filter(f=>r.includes(f)).length===0)return 0;let l=Array.from({length:i+1},(f,g)=>g);for(let f=0;f<n;f++){const g=[f+1];for(let y=0;y<i;y++){const v=l[y+1]+1,w=g[y]+1;let S=l[y]+(e[f]!==t[y]?1:0);i>10&&y>i/2&&(S+=1),f>0&&y>0&&e[f-1]===t[y-1]&&(S-=4),g.push(Math.min(v,w,S))}l=g}const c=Math.round(l[i]),d=Math.max(1,1e3-c*30);return Math.max(1,d)}var c$={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},QP=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],Ice={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:QP,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...QP,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...QP,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},kce={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function Lce(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const s=Ice[i];s?s.forEach(r=>{const o=kce[r];(!o||o===t)&&n.push(r)}):n.push(i)}),n}var u$=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,Pce=e=>{const t=e.map(i=>`import { ${R0(i)} } from '${c$[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>R0(i,!0)).join(", ")} ]); 

For more info see: ${sC}/modules/`};function R0(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function Oce(e,t){const n=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>c$[r])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function d$({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var TH=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:s,additionalText:r,isUmd:o})=>{const a=Lce(t,s),l=typeof e=="string"?e:Bce[e];if(o)return Oce(l,a);const c=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),d=c.length>0?`${c.map(g=>R0(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(g=>R0(g)).join(", "):R0(a[0])} is not registered${n?" for gridId: "+i:""}. ${d} Check if you have registered the module:
`}
${Pce(a)}`+(r?` 

${r}`:"")},EH=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,Nce=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Fce={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${Nce(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const s=[],r=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],o=l$({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return s.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&s.push(`         Did you mean: [${o.slice(0,3)}]?
`),s.push("If using a custom component check it has been registered correctly."),s},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${sC}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:TH,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${sC}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>EH("IntegratedChartsModule"),258:()=>EH("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:s})=>TH({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:dC[t],gridId:i,gridScoped:n,rowModelType:s}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${sC}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>u$(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:d$,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled."};function _ce(e,t){const n=Fce[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),r=`
See ${AU(e,t)}`;return Array.isArray(i)?i.concat(r):[i,r]}var Bce={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},o_=class gm{static applyGlobalGridOptions(t){if(!gm.gridOptions)return{...t};let n={};return Po(n,gm.gridOptions,!0,!0),gm.mergeStrategy==="deep"?Po(n,t,!0,!0):n={...n,...t},gm.gridOptions.context&&(n.context=gm.gridOptions.context),t.context&&(gm.mergeStrategy==="deep"&&n.context&&Po(t.context,n.context,!0,!0),n.context=t.context),n}};o_.gridOptions=void 0;o_.mergeStrategy="shallow";var h$=o_;function Gce(e){var t;return(t=h$.gridOptions)==null?void 0:t[e]}var zce=1,Hce=class{create(e,t,n,i,s,r){const o=h$.applyGlobalGridOptions(t),a=o.gridId??String(zce++),l=this.getRegisteredModules(s,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,s);if(!c)return;const f={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:Use,beanDestroyComparator:$se,derivedBeans:[jse],destroyCallback:r},g=new pne(f);return this.registerModuleFeatures(g,l),n(g),g.getBean("syncSvc").start(),i&&i(g),g.getBean("gridApi")}getRegisteredModules(e,t,n){var i;return K0(Tce,void 0,!0),(i=e==null?void 0:e.modules)==null||i.forEach(s=>K0(s,t)),lne(t,IH(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(s=>{n.registerModule(s);const r=s.apiFunctions;r&&Object.keys(r).forEach(a=>{i==null||i.addFunction(a,r[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Ti(i)&&(i=new N3);const s={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(s,n.providedBeanInstances),s}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},s=IH(e),r=i[s];if(!r){o0(201,{rowModelType:s},`Unknown rowModelType ${s}.`);return}if(!dne()){o0(272,void 0,u$());return}if(!e){const a=Object.entries(i).filter(([l,c])=>ON(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==s){const d={moduleName:c,rowModelType:l};o0(275,d,d$(d));return}}}if(!ON(r,n,s)){o0(200,{reasonOrId:`rowModelType = '${s}'`,moduleName:r,gridScoped:V2(),gridId:n,rowModelType:s},`Missing module ${r}Module for rowModelType ${s}.`);return}const o=new Set;return t.forEach(a=>{var l;return(l=a.beans)==null?void 0:l.forEach(c=>o.add(c))}),Array.from(o)}};function IH(e){return e??"clientSide"}function Ku(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function C1(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function f$(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Vce=class extends Te{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,s,r)=>t({key:i,defaultValue:s,variableValues:r});const n=e.get("localeText");return(i,s,r)=>{let o=n&&n[i];if(o&&r&&r.length){let a=0;for(;!(a>=r.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",r[a++])}return o??s}}};function jce(e,t=!1){const n=[],i=[],s=[],r=[],o=[],a=[],l=[],c=[],d=[];let f=0;for(let g=0;g<e.length;g++){const{colId:y,sort:v,sortIndex:w,rowGroup:S,rowGroupIndex:x,aggFunc:M,pivot:A,pivotIndex:k,pinned:I,hide:P,width:N,flex:B}=e[g];d.push(y),v&&(n[w??f++]={colId:y,sort:v}),S&&(i[x??0]=y),typeof M=="string"&&s.push({colId:y,aggFunc:M}),A&&(r[k??0]=y),I&&(I==="right"?a:o).push(y),P&&l.push(y),(B!=null||N)&&c.push({colId:y,flex:B??void 0,width:N})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function Wce(e){const t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var Uce=class{wrap(e,t,n,i){const s=this.createWrapper(e,i);return t==null||t.forEach(r=>{this.createMethod(s,r,!0)}),n==null||n.forEach(r=>{this.createMethod(s,r,!1)}),s}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Ue(49,{methodName:t}),null)}}},$ce={tag:"div",cls:"ag-tooltip"},Yce=class extends uw{constructor(){super($ce)}init(e){const{value:t}=e;this.getGui().textContent=ow(t)}};function Kce(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),s=n("decimalSeparator",".");return e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var qce=class extends Te{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Zce=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:s,gos:r,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=s,this.gos=r,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,s){if(this.processRowGroupCallback&&(this.gos.get("treeData")||s.group)&&(!s.rowGroupColumn||e.isRowGroupDisplayed(s.rowGroupColumn.getColId())))return{value:this.processRowGroupCallback(Rt(this.gos,{column:e,node:s}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Rt(this.gos,{accumulatedRowIndex:n,column:e,node:s,value:this.valueSvc.getValueForDisplay(e,s).value,type:i,parseValue:g=>this.valueSvc.parseValue(e,s,g,this.valueSvc.getValue(e,s)),formatValue:g=>this.valueSvc.formatValue(e,s,g)??g}))??""};const r=this.gos.get("treeData"),o=this.valueSvc,a=s.level===-1&&s.footer,l=t===0&&OU(this.gos,s,this.colModel.isPivotMode()),c=e.colDef.showRowGroup===!0&&(s.group||r);if(!a&&(l||c)){let g="",y=s;for(;y&&y.level!==-1;){const{value:v,valueFormatted:w}=o.getValueForDisplay(l?void 0:e,y,!0,!0);g=` -> ${w??v??""}${g}`,y=y.parent}return{value:g,valueFormatted:g}}const{value:d,valueFormatted:f}=o.getValueForDisplay(e,s,!0,!0);return{value:d??"",valueFormatted:f}}getHeaderName(e,t){return e?e(Rt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function Xce(e,t){const n=document.defaultView||window;if(!n){Ue(52);return}const i=document.createElement("a"),s=n.URL.createObjectURL(t);i.setAttribute("href",s),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(s)},0)}var Qce={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Xo="clientSide",Do="serverSide",xb="infinite",Jce={onGroupExpandedOrCollapsed:[Xo],refreshClientSideRowModel:[Xo],isRowDataEmpty:[Xo],forEachLeafNode:[Xo],forEachNodeAfterFilter:[Xo],forEachNodeAfterFilterAndSort:[Xo],resetRowHeights:[Xo],applyTransaction:[Xo],applyTransactionAsync:[Xo],flushAsyncTransactions:[Xo],getBestCostNodeSelection:[Xo],getServerSideSelectionState:[Do],setServerSideSelectionState:[Do],applyServerSideTransaction:[Do],applyServerSideTransactionAsync:[Do],applyServerSideRowData:[Do],retryServerSideLoads:[Do],flushServerSideAsyncTransactions:[Do],refreshServerSide:[Do],getServerSideGroupLevelState:[Do],refreshInfiniteCache:[xb],purgeInfiniteCache:[xb],getInfiniteRowCount:[xb],isLastRowIndexKnown:[xb,Do],expandAll:[Xo,Do],collapseAll:[Xo,Do],onRowHeightChanged:[Xo,Do],setRowCount:[xb,Do],getCacheBlockState:[xb,Do]},eue={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function tue(e,t,n){const i=eue[e];if(i){const{version:r,new:o,old:a,message:l}=i,c=a??e;return(...d)=>{const f=o?`Please use ${o} instead. `:"";return w0(`Since ${r} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,d)}}const s=Jce[e];return s?(...r)=>{const o=n.rowModel.getType();if(!s.includes(o)){iC(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,r)}:t}var nue={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1},iue={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},sue=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),rue=class extends Te{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Cee(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Qce[t]&&Ue(22,{key:t})}processGridOptions(e){this.processOptions(e,Mle())}validateApiFunction(e,t){return tue(e,t,this.beans)}missingUserComponent(e,t,n,i){const s=dC[t];s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):Ue(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}checkRowEvents(e){aue.has(e)&&Ue(10,{eventType:e})}validateIcon(e){if(sue.has(e)&&Ue(43,{iconName:e}),nue[e])return;const t=iue[e];if(t){li(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:V2(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Ue(134,{iconName:e})}isProvidedUserComp(e){return!!dC[e]}validateColDef(e){this.processOptions(e,ule())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:s,propertyExceptions:r,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(i)],s,o,a);const l=new Set;Object.keys(e).forEach(d=>{const f=i[d];if(f){const{message:M,version:A}=f;l.add(`As of v${A}, ${String(d)} is deprecated. ${M??""}`)}const g=e[d];if(g==null||g===!1)return;const y=n[d];if(!y)return;const{dependencies:v,validate:w,supportedRowModels:S,expectedType:x}=y;if(x){const M=typeof g;if(M!==x){l.add(`${String(d)} should be of type '${x}' but received '${M}' (${g}).`);return}}if(S){const M=this.gridOptions.rowModelType??"clientSide";if(!S.includes(M)){l.add(`${String(d)} is not supported with the '${M}' row model. It is only valid with: ${S.join(", ")}.`);return}}if(v){const M=this.checkForRequiredDependencies(d,v,e);if(M){l.add(M);return}}if(w){const M=w(e,this.gridOptions,this.beans);if(M){l.add(M);return}}}),l.size>0&&l.forEach(d=>{w0(d)})}checkForRequiredDependencies(e,t,n){const s=Object.entries(t).filter(([r,o])=>{const a=n[r];return!o.required.includes(a)});return s.length===0?null:s.map(([r,o])=>`'${String(e)}' requires '${r}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,s){const r=["__ob__","__v_skip","__metadata__"],o=oue(Object.getOwnPropertyNames(e),[...r,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let d=`invalid ${i} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),w0(d)}if(a.length>0&&s){const l=this.beans.frameworkOverrides.getDocLink(s);w0(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return _ce(e,t)}};function oue(e,t,n){const i={},s=e.filter(r=>!t.some(o=>o===r));return s.length>0&&s.forEach(r=>i[r]=l$({inputValue:r,allSuggestions:n}).values),i}var aue=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),lue={moduleName:"Validation",version:nt,beans:[rue]};function g$(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var cue=class extends Te{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(i,s)=>{i.hasChildren()&&e&&!s?i.childrenAfterFilter=i.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,g$(i)};if(this.doingTreeDataFiltering()){const i=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(r.childrenAfterGroup[a],c):n(l,c)}n(r,o)},s=r=>i(r,!1);t.executeFromRootNode(s)}else{const i=s=>n(s,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},uue=class extends Q2{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,s){this.comp=e;const r=WM(this,this.beans.context,s);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Rt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=hl("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new cw(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();g1(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(zi(t)===this.eGui)return;const s=Dy(t,this.eGui,null,e.shiftKey);if(s){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case De.UP:case De.DOWN:case De.LEFT:case De.RIGHT:if(t)return;Jm(e);case De.ENTER:t&&ey(this.eGui)&&e.preventDefault();break;case De.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Nm(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const s=this.lastFocusEvent,r=!!(s&&s.key===De.TAB);if(s&&r){const o=s.shiftKey;ey(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new X2(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Ra(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(r=>{if(r){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;r.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var r;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(r=this.beans.filterManager)==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(i=>{i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function due(e,t){var i;const n=e.colModel.getCol(t);if(!n){li(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:n,positionBy:"auto"})}function hue(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var fue={moduleName:"SharedMenu",version:nt,beans:[qie],apiFunctions:{showColumnMenu:due,hidePopupMenu:hue}},gue=0,pue=200,mue=class extends Te{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:s,event:r}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const d=this.keepXYWithinBounds(n,o.top-a.top,0),f=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${f}px`,l=!0);const y=a.right-a.left-f;let v;return this.gos.get("enableRtl")?(v=S(),v<0&&(v=w(),this.setAlignedStyles(n,"left")),v>y&&(v=0,this.setAlignedStyles(n,"right"))):(v=w(),v>y&&(v=S(),this.setAlignedStyles(n,"right")),v<0&&(v=0,this.setAlignedStyles(n,"left"))),{x:v,y:d};function w(){return o.right-a.left-2}function S(){return o.left-a.left-f}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,r instanceof MouseEvent?r:void 0,i,s)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:s,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,f=r.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(r,t);const y=()=>{let v=f.left-g.left;o==="right"&&(v-=t.offsetWidth-f.width);let w;return a==="over"?(w=f.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,g,e.nudgeY||0)==="under"?w=f.top-g.top+f.height:w=f.top-t.offsetHeight-(i||0)*2-g.top),{x:v,y:w}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:s,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(d,t,r,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,i){const s=n.bottom-t.bottom,r=t.top-n.top,o=e.offsetHeight+i;return s>o?"under":r>o||r>s?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:s}=i;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,s,r){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:r,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:s,skipObserver:r,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(d+=i),s&&(f+=s),n&&(d=this.keepXYWithinBounds(t,d,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){const c=yh(this.beans,t,()=>l(!0));setTimeout(()=>c(),pue)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=sr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),CU(t)}keepXYWithinBounds(e,t,n){const i=n===0,s=i?"clientHeight":"clientWidth",r=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=sr(this.beans),c=l.documentElement,d=this.getPopupParent(),f=e.getBoundingClientRect(),g=d.getBoundingClientRect(),y=l.documentElement.getBoundingClientRect(),v=d===l.body,w=Math.ceil(f[o]);let x=v?(i?bU:KE)(c)+c[a]:d[s];v&&(x-=Math.abs(y[r]-g[r]));const M=x-w;return Math.min(Math.max(t,0),Math.abs(M))}addPopup(e){const t=sr(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:s,positionCallback:r,anchorToElement:o}=e;if(!t)return Ue(122),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,i,!!s),c=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(n,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Qe(e.style.top)||(e.style.top=`${n.top*-1}px`),Qe(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),{environment:s,gos:r}=this.beans,o=ws({tag:"div"});return s.applyThemeClasses(o),o.classList.add("ag-popup"),e.classList.add(r.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Zm(e,"dialog"),g1(e,t),o.appendChild(e),i.appendChild(o),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=sr(t),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c}=e;let d=!1;const f=w=>{if(!s.contains(zi(t)))return;w.key===De.ESCAPE&&!Xd(w)&&v({keyboardEvent:w})},g=w=>v({mouseEvent:w}),y=w=>v({touchEvent:w}),v=(w={})=>{const{mouseEvent:S,touchEvent:x,keyboardEvent:M,forceHide:A}=w;!A&&(this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:x},r)||d)||(d=!0,i.removeChild(s),n.removeEventListener("keydown",f),n.removeEventListener("mousedown",g),n.removeEventListener("touchstart",y),n.removeEventListener("contextmenu",g),this.eventSvc.removeEventListener("dragStarted",g),o&&o(S||x||M),this.removePopupFromPopupList(r))};return a&&a({hidePopup:v}),window.setTimeout(()=>{l&&n.addEventListener("keydown",f),c&&(n.addEventListener("mousedown",g),this.eventSvc.addEventListener("dragStarted",g),n.addEventListener("touchstart",y),n.addEventListener("contextmenu",g))},0),v}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:gue++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(r=>r&&r()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=s,i.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:s}=e,r=i.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,g)=>{const y=n[f]-r[f],v=o(s.style[f]);return{initialDiff:y,lastDiff:y,initial:v,last:v,direction:g}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new Ri(f=>{d.wrapIncoming(()=>{d.setInterval(()=>{const g=t.getBoundingClientRect(),y=i.getBoundingClientRect();if(y.top==0&&y.left==0&&y.height==0&&y.width==0){e.hidePopup();return}const w=(S,x)=>{const M=o(s.style[x]);S.last!==M&&(S.initial=M,S.last=M);const A=g[x]-y[x];if(A!=S.lastDiff){const k=this.keepXYWithinBounds(s,S.initial+S.initialDiff-A,S.direction);s.style[x]=`${k}px`,S.last=k}S.lastDiff=A};w(l,"top"),w(c,"left")},200).then(g=>{f(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,s=n||i;if(!s)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let o=r;o<this.popupList.length;o++){const a=this.popupList[o];if(Wee(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=sr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,s=this.getWrapper(e);if(!s||i<=1||!t.contains(e))return;const r=[],o=[];for(const g of n)g!==s&&(g.classList.contains("ag-always-on-top")?o.push(g):r.push(g));const a=[],l=o.length,f=s.classList.contains("ag-always-on-top")||!l?[...r,...o,s]:[...r,s,...o];for(let g=0;g<=i;g++){const y=f[g];if(n[g]===f[g]||y===s)continue;y.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&a.push([w,w.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",y):f[g-1].insertAdjacentElement("afterend",y)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},w1={moduleName:"Popup",version:nt,beans:[mue]},yue=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function vue(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function bue(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Cue(e,t){var i;const n=e.colModel.getColDefCol(t);if(n)return(i=e.filterManager)==null?void 0:i.destroyFilter(n,"api")}function wue(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function Sue(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function xue(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function Mue(e,t,n){var i;return((i=e.filterManager)==null?void 0:i.setColumnFilterModel(t,n))??Promise.resolve()}function Due(e,t){var i;const n=e.colModel.getCol(t);if(!n){li(12,{colKey:t});return}(i=e.menuSvc)==null||i.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var kH={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},LH=["january","february","march","april","may","june","july","august","september","october","november","december"];function Aue(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Rue=class extends Te{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var i;(n.rowDataUpdated||(i=n.changedProps)!=null&&i.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:s}=this.beans;if(i!=null&&i.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],o=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const d=e[c];r.push(PT(l.filterPromise,d)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){Ue(62,{colId:l});return}if(!c.isFilterAllowed()){Ue(63,{colId:l});return}const d=this.getOrCreateFilterWrapper(c);if(!d){Ue(64,{colId:l});return}r.push(PT(d.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{r.push(PT(a.filterPromise,null))});Ri.all(r).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{const f=o?o[d]:null,g=a?a[d]:null;W0(f,g)||l.push(c.column)}),l.length>0&&(s==null||s.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var r;const t={},{allColumnFilters:n,initialFilterModel:i,beans:{colModel:s}}=this;if(n.forEach((o,a)=>{const l=this.getModelFromFilterWrapper(o);Qe(l)&&(t[a]=l)}),!e)for(const o of Object.keys(i)){const a=i[o];Qe(a)&&!n.has(o)&&((r=s.getCol(o))!=null&&r.isFilterAllowed())&&(t[o]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Ue(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(Ue(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!kN(n),s=a=>{if(!a.isPrimary())return!0;const c=!t.isPivotActive();return!a.isValueActive()||!c?!1:t.isPivotMode()?!0:i},r=[],o=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(s(l.column)?r.push(a):o.push(a))}).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,i)=>this.setColFilterActive(i.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const i=n.filterPromise;i&&t.push(i.then(s=>e(s,n)))}),Ri.all(t)}doColumnFiltersPass(e,t,n){const{data:i,aggData:s}=e,r=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?s:i;for(let a=0;a<r.length;a++){const l=r[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){li(91);continue}if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(i,s)=>{const r=s?n.getCol(s):e;return r?t.getValue(r,i):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(OP(n))t="agSetColumnFilter";else{const s=i==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(OP(n))t="agSetColumnFloatingFilter";else{const s=i==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),i=e.getColDef();let s;const r={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(s,a))??!0}},o=Zte(this.beans.userCompFactory,i,r,n);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a.then(l=>{s=l,t&&(t.filter=l??void 0)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return Rt(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=i,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((s,r)=>{let o;s.column.isPrimary()?o=t.getColDefCol(r):o=t.getCol(r),!(o&&o===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const i=e.every(PH);e.length>0&&!i?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{PH(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=d=>{var g;const f=(g=this.getOrCreateFilterWrapper(e))==null?void 0:g.filterPromise;f!=null&&f.then(y=>{d(Y0(y))})},i=e.getColDef(),s={...this.createFilterParams(e,i),filterChangedCallback:()=>n(d=>this.filterChangedCallbackFactory(d,e)())},{userCompFactory:r,frameworkOverrides:o}=this.beans,a=ine(r,i,s);let l=oie(o,i,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const c=Rt(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return tne(r,i,c,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&this.disposeFilterWrapper(i,t).then(s=>{var r;s&&this.isAlive()&&((r=this.beans.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(i=>{const s=!!(i!=null&&i.isFilterActive());return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),s}))??Ri.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const i=(n==null?void 0:n.source)??"columnFilter",s={filter:e,additionalEventAttributes:n,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return}const s=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(r=>{(r!=null&&r.refresh?r.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(r,n),filterChangedCallback:this.filterChangedCallbackFactory(r,n),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(r,a))??!0},...s}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(Y0(n))})})}getFilterInstanceImpl(e){var i;const t=this.beans.colModel.getColDefCol(e);return t?((i=this.getOrCreateFilterWrapper(t))==null?void 0:i.filterPromise)??Ri.resolve(null):Ri.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:i}=this.beans;if(i!=null&&i.isPendingInference){let a=()=>{};const l=new Promise(c=>{a=c});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const s=n.getColDefCol(e),r=s?this.getOrCreateFilterWrapper(s):null;return r?(a=>new Promise(l=>{a.then(c=>l(c))}))(PT(r.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const i=OP(this.gos),s=this.getLocaleTextFunc(),r=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{i&&r({comparator:Aue});break}case"boolean":{r(i?{valueFormatter:o=>Qe(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{r(i?{valueFormatter:o=>{const a=n(o);return Qe(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(o==="NaN")return s("invalidDate","Invalid Date");if(a===1&&o!=null){const l=LH[Number(o)-1];return s(l,kH[l])}return o??s("blanks","(Blanks)")}}:{isValidDate:OH});break}case"dateString":{const o=t.dateParser;r(i?{valueFormatter:a=>{const l=n(a);return Qe(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=LH[Number(a)-1];return s(c,kH[c])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0},isValidDate:a=>typeof a=="string"&&OH(o(a))});break}case"object":{i?r({valueFormatter:o=>{const a=n(o);return Qe(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function PT(e,t){return e?new Ri(n=>{e.then(i=>{typeof i.setModel!="function"&&(Ue(65),n()),(i.setModel(t)||Ri.resolve()).then(()=>n())})}):Ri.resolve()}function PH(e){return e.getColDef().filter==="agGroupColumnFilter"}function OH(e){return e instanceof Date&&!isNaN(e.getTime())}function Tue(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Eue(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var Iue=class extends Te{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){kN(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ri.resolve()).then(()=>{var r;const s={source:t,type:"filterChanged",columns:i};n&&Po(s,n),this.eventSvc.dispatchEvent(s),(r=this.colFilter)==null||r.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!kN(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){Ue(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var i;(i=this.colFilter)==null||i.setColDefPropertiesForDataType(e,t,n)}},kue=class extends Te{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,s=>{var r;(r=this.popupSvc)==null||r.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:s})},n,t.target,Ra(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let s=-1,r="left";const o=Ra(this.gos);!o&&this.gos.get("enableRtl")&&(s=1,r="right");const a=o?void 0:4*s,l=o?void 0:4;this.showPopup(e,c=>{var d;(d=this.popupSvc)==null||d.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,s,r){var w;const o=e?this.createBean(new tie(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){li(57);return}const a=ws({tag:"div",cls:`ag-menu${s?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:S=>this.trapFocusWithin(S,a)}),a.appendChild(o==null?void 0:o.getGui());let l;const c=()=>o==null?void 0:o.afterGuiDetached(),d=Bee(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=S=>{aH(e,!1,"contextMenu");const x=S instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),x&&i&&Gu(i)){const M=c3(i);M==null||M.focus({preventScroll:!0})}c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),r==null||r()},g=this.getLocaleTextFunc(),y=s&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),v=(w=this.popupSvc)==null?void 0:w.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:y});v&&(this.hidePopup=l=v.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),aH(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==De.TAB||e.defaultPrevented||Dy(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),ey(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},Lue=class extends Te{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:i}=n;return i?this.executeFilterValueGetter(i,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,i,s){const{expressionSvc:r,valueSvc:o}=this.beans,a=Rt(this.gos,{data:t,node:i,column:n,colDef:s,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):r==null?void 0:r.evaluate(e,a)}},Pue={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},Oue=class extends Ei{constructor(){super(Pue,[v1]),this.eFloatingFilterText=gt}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},p$=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(r=>t[r]!=null)?!0:(Ue(72,{keys:s}),!1);if(!n.every(i)){this.filterOptions=e.filter(s=>s===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:Ue(73)}else Ue(74)}getCustomOption(e){return this.customFilterOptions[e]}};function T0(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function mI(e){return e==null||typeof e=="string"&&e.trim().length===0}function Nue(e){return e==="AND"||e==="OR"?e:"AND"}function Fue(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(s=>s==null))return i(t,n)}function _ue(e,t){let n=e.length;return n>t&&(e.splice(t),Ue(78),n=t),n}var m$=class extends rie{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let r;if(n){const o=e,a=t;r=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;r=o.operator===a.operator&&My(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return r}shouldRefresh(e){var r;const t=this.getModel(),n=t?t.conditions??[t]:null,i=((r=e.filterOptions)==null?void 0:r.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(o=>i.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],Ue(77));const s=_ue(i,this.maxNumConditions),r=this.getNumConditions();if(s<r)this.removeConditionsAndOperators(s);else if(s>r)for(let a=r;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ri.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,i=[];if(n){const r=t;i.push(...r.conditions??[])}else i.push(t);return i[n&&n==="OR"?"some":"every"](r=>this.individualConditionPasses(e,r))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=Nue(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new p$,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Ue(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Ue(80),n=1),n>t&&(Ue(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new n_);this.eTypes.push(e),e.addCss("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=ws({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,s),this.resetJoinOperatorOr(n,i,s),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new Ase);e.push(i);const s="ag-filter-condition-operator";return i.addCss(s),i.addCss(`${s}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,s=n-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,s)=>{const r=this.isConditionDisabled(s,e);i.setDisabled(r||this.filterListOptions.length<=1),s===1&&(V0(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((i,s)=>{qi(i,this.isConditionBodyVisible(s))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,s,r,o)=>{this.setElementDisplayed(i,s<o),this.setElementDisabled(i,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinOperatorPanels:s,eJoinOperatorsAnd:r,eJoinOperatorsOr:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(s,a,t),this.removeComponents(r,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){T0(e,t,n).forEach(s=>rh(s))}removeComponents(e,t,n){T0(e,t,n).forEach(s=>{rh(s.getGui()),this.destroyBean(s)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:i}=this;let s;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof Cm&&this.isConditionBodyVisible(0)?s=r.getInputElement():s=(t=i[0])==null?void 0:t.getFocusableElement()}(s??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(n,s),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),s=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:s,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,s)=>{if(!(t instanceof Cm))return;const r=n===0&&s>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&s>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Cm&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Ei&&qi(e.getGui(),t)}setElementDisabled(e,t){e instanceof Ei&&V0(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Cm&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),s=this.getInputs(e);for(let r=0;r<s.length;r++){const o=s[r];o!=null&&n(o,r,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Ri.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,s){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,s,r)=>{r===t&&this.setElementValue(i,n[s]!=null?n[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),r=Fue(s,i,n);return r??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}hasInvalidInputs(){return!1}},y$=class extends m${setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:s,includeBlanksInRange:r}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(s)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const s=this.comparator(),r=e[0]!=null?s(e[0],t):0;switch(i){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const o=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case"blank":return mI(t);case"notBlank":return!mI(t);default:return Ue(76,{filterModelType:i}),!0}}},v$=class{constructor(e,t,n,i,s,r){this.alive=!0,this.context=e,this.eParent=s;const o=Xte(t,n,i);o&&o.newAgStackInstance().then(a=>{var d,f;if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;s.appendChild(a.getGui()),(d=a==null?void 0:a.afterGuiAttached)==null||d.call(a);const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&((f=a.setDisabled)==null||f.call(a,c)),r==null||r(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){qi(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},b$=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],a_=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const i=e,r=(i.conditions??[]).map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return r.join(` ${n(o,C3[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const i=e,s=this.optionsFactory.getCustomOption(i.type),{displayKey:r,displayName:o,numberOfInputs:a}=s||{};return r&&o&&a===0?(n(r,o),o):this.conditionToString(i,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},C$=class extends a_{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},s=n=="inRange"||i===2,r=ra(e.dateFrom),o=ra(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=r!==null?A0(r,a):"null",c=o!==null?A0(o,a):"null";return`${l}-${c}`}return r!=null?A0(r,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},NH=1e3,FH=1/0,Bue=class extends y${constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=NH,this.maxValidYear=FH,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&ra(t)||null,n&&ra(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator??Gue}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))Ue(82,{param:n});else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",NH),this.maxValidYear=t("maxValidYear",FH),this.minValidYear>this.maxValidYear&&Ue(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:ra(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:ra(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Ue(84),this.filterModelFormatter=new C$(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},dateFilterParams:s}=this,r=new v$(n,t,s.colDef,Rt(i,{onDateChanged:()=>this.onUiChanged(),filterParams:s,location:"filter"}),e);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return b$}createValueElement(){const e=ws({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const s=ws({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),T0(this.eConditionPanelsFrom,e,t),T0(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){T0(e,t,n).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:s}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>s)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,s,r)=>{s!==e||!t||i>=r||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=ml(i[0])),i.length>1&&(n.dateTo=ml(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,r)=>{i<r&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function Gue(e,t){const n=t;return n<e?-1:n>e?1:0}var w$=class extends Ei{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new p$;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const i=n.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const s=this.isTypeEditable(i);this.setEditable(s)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},zue={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Hue=class extends w${constructor(){super(zue,[v1]),this.eReadOnlyText=gt,this.eDateWrapper=gt}getDefaultOptions(){return b$}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new C$(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?ra(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){qi(this.eDateWrapper,e),qi(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=ml(e);this.params.parentFilterInstance(n=>{if(n){const i=ra(t);n.onFloatingFilterChanged(this.lastType||null,i)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=U2(e,this.defaultDebounceMs);return Rt(this.gos,{onDateChanged:Dr(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new v$(e,t,i.column.getColDef(),this.getDateComponentParams(),n,s=>{s.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Vue={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},jue=class extends Ei{constructor(){super(Vue,[v1]),this.eDateInput=gt,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&wy(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:s,minValidDate:r,maxValidDate:o,buttons:a}=e.filterParams||{};if(r&&i&&Ue(85),o&&s&&Ue(86),r&&o){const[l,c]=[r,o].map(d=>d instanceof Date?d:ra(d));l&&c&&l.getTime()>c.getTime()&&Ue(87)}r?r instanceof Date?t.min=A0(r):t.min=r:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=A0(o):t.max=o:s&&(t.max=`${s}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return ra(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(ml(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},S$=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],x$=class extends a_{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:s,type:r}=e,o=r=="inRange"||n===2,a=this.formatValue.bind(this);return o?`${a(i)}-${a(s)}`:i!=null?a(i):`${r}`}};function $N(e){const{allowedCharPattern:t}=e??{};return t??null}var Wue=class extends y${constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new x$(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return S$}setElementValue(e,t,n){const{numberFormatter:i}=this.numberFilterParams,s=!n&&i?i(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=$N(this.numberFilterParams),t=ws({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const s=this.createManagedBean(i?new Ay({allowedCharPattern:i}):new t_);s.addCss(`ag-filter-${n}`),s.addCss("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,r)=>{i<r&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Zd(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},M$=class extends Te{constructor(e){super(),this.params=e,this.eInput=gt,this.onValueChanged=()=>{}}setupGui(e){var i;this.eInput=this.createManagedBean(new Ay((i=this.params)==null?void 0:i.config));const t=this.eInput.getGui();e.appendChild(t);const n=s=>this.onValueChanged(s);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function D$(e){const t=e==null?void 0:e.trim();return t===""?e:t}var Uue={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},A$=class extends w${constructor(){super(...arguments),this.eFloatingFilterInputContainer=gt,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Uue)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:s}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=hI(e.filterParams),!s){const r=U2(e.filterParams,i),o=Dr(this,this.syncUpWithParentFilter.bind(this),r);n.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Fa(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===De.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:i}=this;let s=n.getValue();i.filterParams.trimInput&&(s=D$(s),n.setValue(s,!0)),i.parentFilterInstance(r=>{r==null||r.onFloatingFilterChanged(this.lastType||null,s||null)})}setEditable(e){this.inputSvc.setEditable(e)}},$ue=class extends Te{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new t_),this.eTextInput=this.createManagedBean(new Ay),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Yue=class extends A${init(e){var t;super.init(e),this.filterModelFormatter=new x$(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){$N(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return S$}createFloatingFilterInputService(e){return this.allowedCharPattern=$N(e.filterParams),this.allowedCharPattern?this.createManagedBean(new M$({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new $ue)}},R$=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],T$=class extends a_{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:s,type:r}=e;return r=="inRange"||n===2?`${i}-${s}`:i!=null?`${i}`:`${r}`}},Kue=class extends m${constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new T$(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,s,r,o)=>{if(s<o){let a=Zd(i.getValue());t&&this.textFilterParams.trimInput&&(a=D$(a)??null,i.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return R$}createValueElement(){const e=ws({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Ay);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const s=e.map(g=>this.formatter(g))||[],r=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(n.type==="blank")return mI(t);if(n.type==="notBlank")return!mI(t);const f={api:o,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:r,textFormatter:d};return s.some(g=>this.matcher({...f,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},que=class extends A${init(e){super.init(e),this.filterModelFormatter=new T$(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return R$}createFloatingFilterInputService(){return this.createManagedBean(new M$)}};function Zue(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function Xue(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function Que(e){var t;(t=e.quickFilter)==null||t.resetCache()}var Jue=class extends Te{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,s=t.isPivotMode(),r=e==null?void 0:e.getColumns(),o=t.getColDefCols();let a=(s&&!n.get("applyQuickFilterBeforePivotOrAgg")?(l=i==null?void 0:i.getPivotResultCols())==null?void 0:l.list:o)??[];r&&(a=a.concat(r)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(c=>c.isVisible()||c.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Qe(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Ue(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return Qe(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:s}=this;return s(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const s=Rt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(s)}return Qe(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);Qe(i)&&t.push(i)}),t.join(`
`)}},ede={moduleName:"ClientSideRowModelFilter",version:nt,rowModels:["clientSide"],beans:[cue]},l_={moduleName:"FilterCore",version:nt,beans:[Iue],apiFunctions:{isAnyFilterPresent:Tue,onFilterChanged:Eue},css:[yue],dependsOn:[ede]},E$={moduleName:"FilterValue",version:nt,beans:[Lue]},S1={moduleName:"ColumnFilter",version:nt,beans:[Rue,kue],dynamicBeans:{headerFilterCellCtrl:uue},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:vue,getColumnFilterInstance:bue,destroyFilter:Cue,setFilterModel:wue,getFilterModel:Sue,getColumnFilterModel:xue,setColumnFilterModel:Mue,showColumnFilter:Due},dependsOn:[l_,w1,E$,fue]},tde={moduleName:"CustomFilter",version:nt,userComponents:{agReadOnlyFloatingFilter:Oue},dependsOn:[S1]},nde={moduleName:"TextFilter",version:nt,dependsOn:[S1],userComponents:{agTextColumnFilter:Kue,agTextColumnFloatingFilter:que}},ide={moduleName:"NumberFilter",version:nt,dependsOn:[S1],userComponents:{agNumberColumnFilter:Wue,agNumberColumnFloatingFilter:Yue}},sde={moduleName:"DateFilter",version:nt,dependsOn:[S1],userComponents:{agDateColumnFilter:Bue,agDateInput:jue,agDateColumnFloatingFilter:Hue}},rde={moduleName:"QuickFilterCore",version:nt,rowModels:["clientSide"],beans:[Jue],dependsOn:[l_,E$]},ode={moduleName:"QuickFilter",version:nt,apiFunctions:{isQuickFilterPresent:Zue,getQuickFilter:Xue,resetQuickFilter:Que},dependsOn:[rde]},ade={moduleName:"ExternalFilter",version:nt,dependsOn:[l_]},l0=class{constructor(e){this.cellValueChanges=e}},JP=class extends l0{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},lde=10,_H=class{constructor(e){this.actionStack=[],this.maxStackSize=e||lde,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},cde=class extends Te{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&g3(this.activeCellEdit,t),i=this.activeRowEdit!==null&&Wne(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new _H(n),this.redoStack=new _H(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:s=>{s.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,s=>{this.gridBodyCtrl=s.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const s=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:s})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const s=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:s})}undoRedo(e,t,n,i,s){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,o=>o[i],s),r instanceof JP?this.processRange(r.ranges||[r[n]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:s,rowPinned:r,columnId:o}=i,a={rowIndex:s,rowPinned:r},l=uI(this.beans,a);l.displayed&&l.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,s)=>{if(!i)return;const r=i.startRow,o=i.endRow;s===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,s={rowIndex:n,rowPinned:i},r=uI(this.beans,s),o={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:s,focusSvc:r,rangeSvc:o}=this.beans,a=s.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:i};r.setFocusedCell({...c,forceBrowserFocus:!0}),o==null||o.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new l0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new l0(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new l0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new JP(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&mg(n)?e=new JP(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new l0(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},ude=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",dde={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},hde=class extends uw{constructor(){super(dde,[e_]),this.eCheckbox=gt}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=k2(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}},x1=class extends uw{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=gt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:i}=e,s=this.eInput;this.cellEditorInput.init(s,e);let r,o=!0;t?(this.focusAfterAttached=!0,n===De.BACKSPACE||n===De.DELETE?r="":n&&n.length===1?i?o=!1:r=n:(r=this.cellEditorInput.getStartValue(),n!==De.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),o&&r!=null&&s.setStartValue(r),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===De.PAGE_UP||l===De.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var i,s;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;wy()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(s=(i=this.cellEditorInput).setCaret)==null||s.call(i)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},fde={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},gde=class{getTemplate(){return fde}getAgComponents(){return[P3]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),s!=null&&e.setStep(s)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!Qe(n)&&!Qe(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ml(e,!1)}},pde=class extends x1{constructor(){super(new gde)}},mde={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},yde=class{constructor(e){this.getDataTypeService=e}getTemplate(){return mde}getAgComponents(){return[P3]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),s!=null&&e.setStep(s)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!Qe(n)&&!Qe(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ml(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ra(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ml(e??null,!1)??void 0}},vde=class extends x1{constructor(){super(new yde(()=>this.beans.dataTypeSvc))}},bde={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},Cde=class extends uw{constructor(){super(bde,[Tse]),this.eTextArea=gt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===De.LEFT||t===De.UP||t===De.RIGHT||t===De.DOWN||e.shiftKey&&t===De.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!Qe(e)&&!Qe(t.value)?t.value:t.parseValue(e)}},wde={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},Sde=class{getTemplate(){return wde}getAgComponents(){return[Ese]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:i,precision:s,step:r}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),s!=null&&e.setPrecision(s),r!=null&&e.setStep(r);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===De.UP||e.key===De.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!Qe(n)&&!Qe(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){wy()&&this.eInput.getInputElement().focus({preventScroll:!0})}},xde=class extends x1{constructor(){super(new Sde)}},Mde={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},Dde=class extends uw{constructor(){super(Mde,[zse]),this.eSelect=gt,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:i}=this,{values:s,value:r,eventKey:o}=e;if(Ti(s)){Ue(58);return}this.startedByEnter=o!=null?o===De.ENTER:!1;let a=!1;s.forEach(f=>{const g={value:f},y=n.formatValue(e.column,null,f),v=y!=null;g.text=v?y:f,t.addOption(g),a=a||r===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Ade={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},Rde=class{getTemplate(){return Ade}getAgComponents(){return[v1]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!Qe(n)&&!Qe(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=Qe(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},BH=class extends x1{constructor(){super(new Rde)}};function Tde(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Ede(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function I$(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function k$(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function Ide(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function kde(e){var t;(t=e.undoRedo)==null||t.undo("api")}function Lde(e){var t;(t=e.undoRedo)==null||t.redo("api")}function Pde(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{var r;const s=(r=i.comp)==null?void 0:r.getCellEditor();s&&n.push(Y0(s))}),n}function Ode(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:i}=n;t.push(i)}}),t}function Nde(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function Fde(e,t){const n=e.colModel.getCol(t.colKey);if(!n){Ue(12,{colKey:t.colKey});return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&k$(e,t.rowIndex),I$(e,t.colKey);const r=Zb(e,i);if(!r)return;const{focusSvc:o,gos:a,editSvc:l}=e,c=()=>{const f=zi(e),g=r.eGui;return f!==g&&!!(g!=null&&g.contains(f))},d=a.get("stopEditingWhenCellsLoseFocus")&&c();(d||!o.isCellFocused(i))&&o.setFocusedCell({...i,forceBrowserFocus:d,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(r,t.key)}function _de(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function Bde(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var Gde={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},zde=class extends uw{constructor(e){super(Gde),this.params=e}postConstruct(){Qm(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{_N(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},Hde=class extends Te{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,i=null){var c;if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,i)}),!0;const s=this.createCellEditorParams(e,t,n),r=e.column.getColDef(),o=Jz(this.beans.userCompFactory,r,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!r.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:r.cellEditorPopupPosition;return GH(e,!0,o),e.comp.setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:i,rowNode:s}=e,{newValue:r,newValueExists:o}=Vde(t,n),a=this.beans.valueSvc.getValueForDisplay(i,s).value;let l=!1;return o&&(l=jde(e,a,r,s,i)),GH(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:r,valueChanged:l}),l}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:s}=e.editCompDetails.params,r=this.createCellEditorParams(e,i,s),o=e.column.getColDef(),a=Jz(this.beans.userCompFactory,o,r);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var i,s;return(s=(i=t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:s.call(i)}))}createPopupEditorWrapper(e){return new zde(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var r;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let s=!1;for(const o of n){const a=o.stopEditing(t);i&&!t&&!s&&a&&(s=!0)}s&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&((r=this.beans.rowEditSvc)==null||r.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(AN(i)===null){this.stopAllEditing();return}let s=e.some(r=>r.contains(i))&&f3(this.gos,i);if(!s){const r=this.beans.popupSvc;s=!!r&&(r.getActivePopups().some(o=>o.contains(i))||r.isElementWithinCustomPopup(i))}s||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.toggleCss("ag-row-inline-editing",t),n.rowComp.toggleCss("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var i;return e.comp?this.gos.get("editType")==="fullRow"?((i=this.beans.rowEditSvc)==null?void 0:i.startEditing(e.rowCtrl,t,e))??!1:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1,n=!1,i=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),n||this.navigateAfterEdit(i,e.cellPosition)}createCellEditorParams(e,t,n){const{column:i,rowNode:s,cellPosition:{rowIndex:r}}=e,{valueSvc:o,gos:a}=this.beans;return Rt(a,{value:o.getValueForDisplay(i,s).value,eventKey:t,column:i,colDef:i.getColDef(),rowIndex:r,node:s,data:s.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:l=>o.parseValue(i,s,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var i;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?De.UP:De.DOWN;(i=this.beans.navigation)==null||i.navigateToNextCell(null,s,t,!1)}}};function GH(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function Vde(e,t){const n={newValueExists:!1};if(e)return n;const i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}function jde(e,t,n,i,s){if(n===t)return!1;e.suppressRefreshCell=!0;const r=i.setDataValue(s,n,"edit");return e.suppressRefreshCell=!1,r}var Wde=class extends Te{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,i=null){if(e.editing)return!1;let s=!0,r=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===n;l?s=(o==null?void 0:o.startEditing(a,t,l,i))??!1:o==null||o.startEditing(a,null,l,i),r||(r=a.editing)}),r&&this.setEditing(e,!0),s}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.toggleCss("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},Ag={moduleName:"EditCore",version:nt,beans:[Hde,Wde],apiFunctions:{getCellEditorInstances:Pde,getEditingCells:Ode,stopEditing:Nde,startEditingCell:Fde},dependsOn:[w1],css:[ude]},Ude={moduleName:"UndoRedoEdit",version:nt,beans:[cde],apiFunctions:{undoCellEditing:kde,redoCellEditing:Lde,getCurrentUndoSize:_de,getCurrentRedoSize:Bde},dependsOn:[Ag]},$de={moduleName:"TextEditor",version:nt,userComponents:{agCellEditor:BH,agTextCellEditor:BH},dependsOn:[Ag]},Yde={moduleName:"NumberEditor",version:nt,userComponents:{agNumberCellEditor:{classImp:xde,params:{suppressPreventDefault:!0}}},dependsOn:[Ag]},Kde={moduleName:"DateEditor",version:nt,userComponents:{agDateCellEditor:pde,agDateStringCellEditor:vde},dependsOn:[Ag]},qde={moduleName:"CheckboxEditor",version:nt,userComponents:{agCheckboxCellEditor:hde},dependsOn:[Ag]},Zde={moduleName:"SelectEditor",version:nt,userComponents:{agSelectCellEditor:Dde},dependsOn:[Ag]},Xde={moduleName:"LargeTextEditor",version:nt,userComponents:{agLargeTextCellEditor:Cde},dependsOn:[Ag]},Qde={moduleName:"CustomEditor",version:nt,dependsOn:[Ag]},Jde=class extends Te{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,aC(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),ite(e))}createColumns(e,t){var g,y;const n=()=>{var v;iI(this.beans,(v=this.columns)==null?void 0:v.tree),this.columns=null},i=e.treeDepth,r=(((g=this.columns)==null?void 0:g.treeDepth)??-1)==i,o=this.generateSelectionCols();if(nte(o,((y=this.columns)==null?void 0:y.list)??[])&&r)return;n();const{colGroupSvc:l}=this.beans,c=(l==null?void 0:l.findDepth(e.tree))??0,d=(l==null?void 0:l.balanceTreeForAutoCols(o,c))??[];this.columns={list:o,tree:d,treeDepth:c,map:{}},t(v=>{if(!v)return null;const w=v.filter(S=>!aw(S));return[...o,...w]})}updateColumns(e){var n;const t=aC(e.source);(n=this.columns)==null||n.list.forEach(i=>{const s=this.createSelectionColDef(e.currentValue);i.setColDef(s,null,t),hc(this.beans,{state:[{...s,colId:i.getColId()}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>YU(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,a;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Fm(e))return!1;const i=(((a=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:a.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const s=!!oC(n),r=hE(n);return s||r}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:s,spanRows:r,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,c,d){const f=c.isSelected(),g=d.isSelected();return f===g?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:WU,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new p1(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?oC(t):void 0,s=e&&typeof e!="string"?oC(e):void 0,r=i!==s,o=t&&typeof t!="string"?hE(t):void 0,a=e&&typeof e!="string"?hE(e):void 0,l=o!==a,c=JE(e),d=JE(t);(r||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){var e;iI(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e,t,n){var l,c;if(!((l=this.columns)!=null&&l.list.length))return;const i=e.length+t.length+n.length;if(i===0)return;const s=this.columns.list[0];if(!s.isVisible())return;const r=()=>{let d;switch(s.pinned){case"left":case!0:d=e;break;case"right":d=n;break;default:d=t}d&&bl(d,s)};(((c=this.beans.rowNumbersSvc)==null?void 0:c.getColumn(UU))?2:1)===i&&r()}};function ehe(e,t){var o;if(!t.nodes.every(a=>a.rowPinned&&!$M(a)?(Ue(59),!1):a.id===void 0?(Ue(60),!1):!0))return;const{nodes:i,source:s,newValue:r}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:i,source:s??"api",newValue:r})}function the(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:n,selectAll:t})}function nhe(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:n,selectAll:t})}function ihe(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function she(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function rhe(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function ohe(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function ahe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function lhe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var che=class extends Dse{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=eI(e),this.groupSelectsDescendants=$0(e),this.groupSelectsFiltered=nI(e)==="filteredDescendants",this.masterSelectsDetail=$z(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=$0(e),n=eI(e),i=nI(e)==="filteredDescendants";this.masterSelectsDetail=$z(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:s,source:r,keepDescendants:o=!1}){var l;if(!Fm(this.gos)&&e)return Ue(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Ue(130),0;let a=0;for(let c=0;c<i.length;c++){const d=i[c],f=Mb(d),g=this.groupSelectsFiltered&&f.group;if(f.rowPinned&&!$M(f)){Ue(59);continue}if(f.id===void 0){Ue(60);continue}g||this.selectRowNode(f,e,s,r)&&(this.detailSelection.delete(f.id),a++),this.groupSelectsDescendants&&((l=f.childrenAfterGroup)!=null&&l.length)&&(a+=this.selectChildren(f,e,r))}return n||(i.length===1&&r==="api"&&this.selectionCtx.setRoot(Mb(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Mb(i[0]),o,r)),a>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),a}selectRange(e,t,n){let i=0;return e.forEach(s=>{const r=Mb(s);if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!ir(n))return!1;const s=i.rootNode;if(!s)return!1;t||(t=new Z0(!0,s),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==s){const a=this.calculateSelectedFromChildren(o);r=this.selectRowNode(o,a===null?!1:a,void 0,e)||r}}),r}clearOtherNodes(e,t,n){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{const o=r.id==e.id;if((t?!dhe(e,r):!0)&&!o){const l=this.selectedNodes.get(r.id);s+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const o=this.calculateSelectedFromChildren(r);this.selectRowNode(r,o===null?!1:o,void 0,n)}),s}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new ty(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!ir(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function s(r){for(let o=0,a=r.length;o<a;o++){const l=r[o];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&s(l.childrenAfterGroup)}}return s(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=ir(this.gos);let i=!1;const s=r=>{const o=this.selectRowNode(Mb(r),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){li(102);return}this.getNodesToSelect(t).forEach(s)}else this.selectedNodes.forEach(s),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);i||(i=r)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return L$(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=s=>t.push(s);if(e==="currentPage")return this.forEachNodeOnPage(s=>{if(!s.group){n(s);return}if(!s.expanded&&!s.footer){const r=o=>{var a;n(o),(a=o.childrenAfterFilter)==null||a.forEach(r)};r(s);return}this.groupSelectsDescendants||n(s)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),s=t.getLastRow();for(let r=i;r<=s;r++){const o=n.getRow(r);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Fm(t)){Ue(132);return}if(Oee(t)&&!tI(t)){Ue(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:s}=e;let r=!1;if(this.getNodesToSelect(s).forEach(o=>{const a=this.selectRowNode(Mb(o),!0,void 0,i);r||(r=a)}),n.selectAll=!0,ir(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);r||(r=o)}r&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){li(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{n.has(s.id)&&i.push(s)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!ir(e)}updateSelectable(e){var l;const{gos:t,rowModel:n}=this.beans;if(!Fm(t))return;const i="selectableChanged",s=e!==void 0,r=ir(t)&&this.groupSelectsDescendants,o=[],a=c=>{var f;if(s&&!c.group)return;if(r&&c.group){const g=((f=c.childrenAfterGroup)==null?void 0:f.some(y=>y.selectable))??!1;this.setRowSelectable(c,g,!0);return}!this.updateRowSelectable(c,!0)&&c.isSelected()&&o.push(c)};if(r){if(e===void 0){const c=n.rootNode;e=c?new Z0(!1,c):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!s,!s)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!s&&r&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,i))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var r,o;if(!this.masterSelectsDetail)return;const n=(o=(r=e.detailNode)==null?void 0:r.detailGridInfo)==null?void 0:o.api;if(!n)return;const i=uhe(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const a=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!tI(t)){Ue(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const s=[];for(const r of i){const o=n.getRowNode(r);o&&s.push(o)}n.setNodesSelected({nodes:s,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Mb(e){return $M(e)?e.pinnedSibling:e.footer?e.sibling:e}function uhe(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),L$(t,n)}function L$(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function dhe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var hhe={moduleName:"SharedRowSelection",version:nt,beans:[Jde],apiFunctions:{setNodesSelected:ehe,selectAll:the,deselectAll:nhe,selectAllFiltered:ihe,deselectAllFiltered:she,selectAllOnCurrentPage:rhe,deselectAllOnCurrentPage:ohe,getSelectedNodes:ahe,getSelectedRows:lhe}},fhe={moduleName:"RowSelection",version:nt,rowModels:["clientSide","infinite","viewport"],beans:[che],dependsOn:[hhe]};function ghe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function phe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function mhe(e){const t=Ku(e),n=f$(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function yhe(e,t,n){var r;const i=f$(e);if(i){if(((r=e.rowGroupColsSvc)==null?void 0:r.columns.length)===0){if(t<0){li(238);return}i.setRowCount(t,n);return}li(28);return}const s=C1(e);if(s){s.setRowCount(t,n);return}}function vhe(e){var t;return xy(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function bhe(e){return e.rowModel.isLastRowIndexKnown()}var Che={moduleName:"CsrmSsrmSharedApi",version:nt,apiFunctions:{expandAll:ghe,collapseAll:phe,onRowHeightChanged:mhe}},whe={moduleName:"SsrmInfiniteSharedApi",version:nt,apiFunctions:{setRowCount:yhe,getCacheBlockState:vhe,isLastRowIndexKnown:bhe}},She=class extends Te{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{var r;if(!i){li(18),t||li(20);return}if(this.isGridApi(i))return i;const s=i;return"current"in s?(r=s.current)==null?void 0:r.api:(s.api||li(19),s.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Ue(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var d;const t=e.column;let n=null;const i=this.beans,{colResize:s,ctrlsSvc:r,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(y=>({colId:y.colId}));hc(i,{state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(y=>({colId:y.colId,hide:y.hide}));hc(i,{state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(y=>({colId:y.colId,pinned:y.pinned}));hc(i,{state:g},"alignedGridChanged")}break;case"columnResized":{const f=e,g={};a.forEach(y=>{g[y.getId()]={key:y.getColId(),newWidth:y.getActualWidth()}}),(d=f.flexColumns)==null||d.forEach(y=>{g[y.getId()]&&delete g[y.getId()]}),s==null||s.setColumnWidths(Object.values(g),!1,f.finished,"alignedGridChanged");break}}const c=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",c)})}},xhe={moduleName:"AlignedGrids",version:nt,beans:[She]},Mhe=class extends Cse{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},eO=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Dhe(e){if(Ti(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],s=n===0,r=n===e.childrenAfterSort.length-1;i.setFirstChild(s),i.lastChild!==r&&(i.lastChild=r,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function P$(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Dhe(e)}var Ahe=class extends Te{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=Qe(n)&&n.length>0,s=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=n.some(({column:o})=>yu(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,s,e.changedRowNodes,e.changedPath,r)}sort(e,t,n,i,s,r,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:d,rowRenderer:f,showRowGroupCols:g}=e,y=a.get("groupMaintainOrder"),v=l.getCols().some(A=>A.isRowGroupActive()),w=l.isPivotMode(),S=a.getCallback("postSortRows");let x=!1;const M=A=>{var N,B;const k=w&&A.leafGroup,I=y&&v&&!A.leafGroup&&!o;let P;if(I){const z=(N=c==null?void 0:c.columns)==null?void 0:N[A.level+1],W=(z==null?void 0:z.getSort())===null,Y=A.childrenAfterAggFilter.slice(0);if(A.childrenAfterSort&&!W){const K={};A.childrenAfterSort.forEach((q,te)=>{K[q.id]=te}),Y.sort((q,te)=>(K[q.id]??0)-(K[te.id]??0))}P=Y}else!n||k?P=A.childrenAfterAggFilter.slice(0):i&&s?P=Rhe(d,A,s,r,t):P=d.doFullSort(A.childrenAfterAggFilter,t);if(x||(x=((B=A.childrenAfterSort)==null?void 0:B[0])!==P[0]),A.childrenAfterSort=P,P$(A),S){const z={nodes:A.childrenAfterSort};S(z)}};if(r==null||r.forEachChangedNodeDepthFirst(M),x&&this.gos.get("groupHideOpenParents")){const A=g==null?void 0:g.getShowRowGroupCols();A!=null&&A.length&&f.refreshCells({columns:A,force:!0})}}};function Rhe(e,t,n,i,s){const r=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(r,s);const a=new Set,l=[],{updates:c,adds:d}=n;for(let g=0,y=r.length;g<y;++g){const v=r[g];c.has(v)||d.has(v)||i&&!i.canSkip(v)?l.push({currentPos:l.length,rowNode:v}):a.add(v.id)}const f=o.filter(g=>a.has(g.id)).map((g,y)=>({currentPos:y,rowNode:g}));return l.sort((g,y)=>e.compareRowNodes(s,g,y)),The(e,s,l,f)}function The(e,t,n,i){const s=[];let r=0,o=0;const a=n.length,l=i.length;for(;r<a&&o<l;){const c=n[r],d=i[o],f=e.compareRowNodes(t,c,d);let g;f<0?(g=c,++r):(g=d,++o),s.push(g.rowNode)}for(;r<a;)s.push(n[r++].rowNode);for(;o<l;)s.push(i[o++].rowNode);return s}var Ehe=class extends Te{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.lastHighlightedRow=null,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Dr(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new ty(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;switch(Hee(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var i;const n=(i=t.changeSet)==null?void 0:i.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let s,r=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,i);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const g=pg(this.beans,f);f.setRowHeight(g.height),s=!0,r=!0}}s&&this.setRowTopAndRowIndex()}while(s);return r}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},s=n.has("rowData"),r=this.nodeManager,o=this.getNewNodeManager(),a=r!==o||s&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||s)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,Ue(1))),a&&(s||(l=(r==null?void 0:r.extractRowData())??l),r!==o&&(r==null||r.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new eO,o.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:d,pinnedRowModel:f}=this.beans;d==null||d.reset("rowDataChanged"),f!=null&&f.isManual()&&f.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:c,step:d}of this.orderedStages)if(e.some(f=>c.has(f))){i.step=d;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const s=new Set,r=Rr(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&s.add(l.id),l.rowHeight==null){const c=pg(e,l,r,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return s}clearRowTopAndRowIndex(e,t){const n=e.active,i=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{if(r!==null&&(i(r),i(r.detailNode),i(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){const o=r.level==-1;n&&!o&&!r.expanded||r.childrenAfterGroup.forEach(s)}};s(this.rootNode)}clearHighlight(){const e=this.lastHighlightedRow;e&&(e.highlighted=null,e.dispatchRowEvent("rowHighlightChanged"),this.lastHighlightedRow=null)}highlightRow(e,t){const n=e!==this.lastHighlightedRow,i=t!==e.highlighted;(n||i)&&(n&&this.clearHighlight(),e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"),this.lastHighlightedRow=e)}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:s}=t,r=a=>{let l=s[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,s,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){var o;const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let s=this.getRow(e);for(s.footer&&(s=s.sibling);s.parent&&s.parent!==t;)s=s.parent;const r=(o=t.childrenAfterSort)==null?void 0:o.findIndex(a=>a===s);return r===-1?e:r??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=rC(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=rC(this.gos),i=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=rC(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Z0(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){var i,s;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((s=(i=this.nodeManager).refreshModel)==null||s.call(i,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const s=[],r=$0(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&r)){s.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!r){s.push(o);return}}),s}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(Un(t).rowTop<=e)return t.length-1;let r=-1,o=-1;for(;;){const a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),r===n&&o===i))return a;r=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((i,s)=>e(i,s))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:i,rowGroupColsSvc:s}=this.beans;if(!i.isPivotMode())return;if(!(s!=null&&s.columns.length)){e(this.rootNode,0);return}const r=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[r])}depthFirstSearchRowNodes(e,t=!1,n=r=>r.childrenAfterGroup,i=this.rootNode,s=0){let r=s;if(!i)return r;const o=i===this.rootNode;o||e(i,r++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const l=n(i);if(l){r=(a==null?void 0:a.addTotalRows(r,i,e,t,o,"top"))??r;for(const c of l)r=this.depthFirstSearchRowNodes(e,t,n,c,r);return(a==null?void 0:a.addTotalRows(r,i,e,t,o,"bottom"))??r}}return r}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),P$(n)})}doRowGrouping(e,t,n,i){var o;const s=this.rootNode;if(!((o=this.groupStage)==null?void 0:o.execute({rowNode:s,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:i}))&&!this.nodeManager.treeData){const a=s.sibling;s.childrenAfterGroup=s.allLeafChildren,a&&(a.childrenAfterGroup=s.childrenAfterGroup),s.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,g$(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(FN)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s,r;(s=this.valueCache)==null||s.onDataChanged();const e=[],t=[],n=new eO;let i=!1;(r=this.rowDataTransactionBatch)==null||r.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(o.rowDataTransaction,n);l&&(i=!0),t.push(a),o.callback&&e.push(o.callback.bind(null,a))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var s;(s=this.valueCache)==null||s.onDataChanged(),this.rowNodesCountReady=!0;const t=new eO,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlight(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=qz,this.rowsToDisplay=qz}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Ihe(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function khe(e,t){const n=Ku(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function Lhe(e){var t;return((t=Ku(e))==null?void 0:t.isEmpty())??!0}function Phe(e,t){var n;(n=Ku(e))==null||n.forEachLeafNode(t)}function Ohe(e,t){var n;(n=Ku(e))==null||n.forEachNodeAfterFilter(t)}function Nhe(e,t){var n;(n=Ku(e))==null||n.forEachNodeAfterFilterAndSort(t)}function Fhe(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){Ue(3);return}(n=Ku(e))==null||n.resetRowHeights()}function _he(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Ku(e))==null?void 0:n.updateRowData(t)})}function Bhe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=Ku(e))==null?void 0:i.batchUpdateRowData(t,n)})}function Ghe(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Ku(e))==null?void 0:t.flushAsyncTransactions()})}function zhe(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var Hhe={moduleName:"ClientSideRowModel",version:nt,rowModels:["clientSide"],beans:[Mhe,Ehe,Ahe],dependsOn:[a$]},Vhe={moduleName:"ClientSideRowModelApi",version:nt,apiFunctions:{onGroupExpandedOrCollapsed:Ihe,refreshClientSideRowModel:khe,isRowDataEmpty:Lhe,forEachLeafNode:Phe,forEachNodeAfterFilter:Ohe,forEachNodeAfterFilterAndSort:Nhe,resetRowHeights:Fhe,applyTransaction:_he,applyTransactionAsync:Bhe,flushAsyncTransactions:Ghe,getBestCostNodeSelection:zhe},dependsOn:[Che]},jhe=class extends Te{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:s,exportRowNumbers:r}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:s,columnKeys:i,exportRowNumbers:r});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){var v;const s=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,d=i.allChildrenCount===1&&((v=i.childrenAfterGroup)==null?void 0:v.length)===1&&Lee(this.gos,i);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!c||s(Rt(this.gos,{node:i})))return;const y=e.onNewBodyRow(i);if(n.forEach((w,S)=>{y.onColumn(w,S,i)}),t.getCustomContentBelowRow){const w=t.getCustomContentBelowRow(Rt(this.gos,{node:i}));w&&e.addCustomContent(w)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new n3,{colGroupSvc:s}=this.beans,r=s?s.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((s,r)=>{i.onColumn(s,r,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var s,r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedTopRow(o.rowIndex)}).forEach(i):(s=this.pinnedRowModel)!=null&&s.isManual()||(r=this.pinnedRowModel)==null||r.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{var c;const i=this.rowModel,s=ir(this.gos),r=xy(this.gos),o=!s&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(d=>d.rowPinned==null).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>i.getRow(d.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return s?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):r?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){const d=((c=this.beans.selectionSvc)==null?void 0:c.getSelectedNodes())??[];this.replicateSortedOrder(d),d.forEach(a)}else l==="all"?i.forEachNode(a):s||r?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),s=(r,o)=>{var a,l;return r.rowIndex!=null&&o.rowIndex!=null?r.rowIndex-o.rowIndex:r.level===o.level?((a=r.parent)==null?void 0:a.id)===((l=o.parent)==null?void 0:l.id)?n.compareRowNodes(i,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):s(r.parent,o.parent):r.level>o.level?s(r.parent,o):s(r,o.parent)};e.sort(s)}processPinnedBottomRows(e,t){return n=>{var s,r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedBottomRow(o.rowIndex)}).forEach(i):(s=this.pinnedRowModel)!=null&&s.isManual()||(r=this.pinnedRowModel)==null||r.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:s}=e,{colModel:r,gos:o,visibleCols:a}=this,l=r.isPivotMode(),c=g=>aw(g)?!1:!Bm(g)||i;if(s&&s.length)return r.getColsForKeys(s).filter(c);const d=o.get("treeData");let f=[];return t&&!l?f=r.getCols():f=a.allCols,f=f.filter(g=>c(g)&&(n&&!d?!z2(g):!0)),f}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(s=>{const r=s;r.getChildren&&r.getChildren().forEach(o=>i.push(o))}),e.length>0&&Ki(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let s=0;t.forEach(r=>{const o=r;let a;n?a=n(Rt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,d,f,g)=>{let y=Un(c);return d.getColumnGroupShow()==="open"?(!y||y[1]!=null)&&(y=[f],c.push(y)):y&&y[1]==null&&(y[1]=f-1),f===g.length-1&&y&&y[1]==null&&(y[1]=f),c},[]);i.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}},Whe={moduleName:"SharedExport",version:nt,beans:[jhe]},zH=`\r
`,Uhe=class extends Zce{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,zH),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Ue(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=zH),this.isFirstLine=!1}},$he=class extends qce{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Ue(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(Rt(this.gos,{})):t.fileName;Xce(this.getFileName(s),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:s,gos:r}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:f}=e;return new Uhe({colModel:t,colNames:n,valueSvc:s,gos:r,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:f||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Yhe(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function Khe(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var qhe={moduleName:"CsvExport",version:nt,beans:[$he],apiFunctions:{getDataAsCsv:Yhe,exportDataAsCsv:Khe},dependsOn:[Whe]},Zhe=class extends Te{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:s}=this;for(let r=0;r<e;r++){const o=n+r,a=new ty(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),s.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){Qe(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Ti(this.params.datasource.getRows)){Ue(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:s},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:s,context:Rt(r,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,s)=>{this.startRow+s<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((s,r)=>{const o=e.rowData?e.rowData[r]:void 0;!s.id&&s.alreadyRendered&&o&&(t[r]=new ty(n),t[r].setRowIndex(s.rowIndex),t[r].setRowTop(s.rowTop),t[r].setRowHeight(s.rowHeight),s.clearRowTopAndRowIndex()),this.setDataAndId(t[r],o,this.startRow+r)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},Xhe=2,Qhe=class extends Te{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new Zhe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Xm(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,s=i?this.params.maxBlocksInCache-1:null,r=Xhe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=r,c=i?a>=s:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,r=(e.id+1)*n+i;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,Qe(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,s=!1;const r={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(s&&i+1!==l.id){o=!0;return}i=l.id,l.forEachNode(c=>{const d=c===e||c===t;(s||d)&&n.push(c),d&&(s=!s)},r,this.rowCount)}}),o||s?[]:n}},Jhe=class extends Te{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=_m(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=_m(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!W0(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;_C(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:s,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:i,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:_m(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Qhe(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function efe(e){var t;(t=C1(e))==null||t.refreshCache()}function tfe(e){var t;(t=C1(e))==null||t.purgeCache()}function nfe(e){var t;return(t=C1(e))==null?void 0:t.getRowCount()}var ife=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Pee(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Dr(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){bl(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Xm(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){Xm(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},sfe={moduleName:"InfiniteRowModelCore",version:nt,rowModels:["infinite"],beans:[Jhe,ife]},rfe={moduleName:"InfiniteRowModel",version:nt,apiFunctions:{refreshInfiniteCache:efe,purgeInfiniteCache:tfe,getInfiniteRowCount:nfe},dependsOn:[sfe,whe]},ofe="↑",afe="↓",lfe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},cfe=class extends Ei{constructor(){super(lfe),this.eValue=gt,this.eDelta=gt,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),s=Qe(i)?i:n,r=t>=0,o=this.eDelta;r?o.textContent=ofe+s:o.textContent=afe+s,o.classList.toggle("ag-value-change-delta-up",r),o.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Fa(this.eDelta)}refresh(e,t=!1){var a;const{value:n,valueFormatted:i}=e,{eValue:s,lastValue:r,beans:o}=this;if(n===r||(Qe(i)?s.textContent=i:Qe(n)?s.textContent=n:Fa(s),(a=o.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof r=="number"){const l=n-r;this.showDelta(e,l)}return r&&s.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},ufe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",dfe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},hfe=class extends Ei{constructor(){super(dfe),this.eCurrent=gt,this.refreshCount=0,this.registerCSS(ufe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=ws({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var s;let n=e.value;if(Ti(n)&&(n=""),n===this.lastValue||(s=this.beans.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return Qe(e.valueFormatted)?i.textContent=e.valueFormatted:Qe(e.value)?i.textContent=n:Fa(i),!0}},ffe=class extends Te{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const s=this.animations[t];s.delete(e);const r=Date.now(),o=r+n,a=r+n+i,l={phase:"flash",flashEndTime:o,fadeEndTime:a};s.set(e,l);const c=`ag-cell-${t}`,d=`${c}-animation`,{comp:f,eGui:{style:g}}=e;f.toggleCss(c,!0),f.toggleCss(d,!1),g.removeProperty("transition"),g.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],s=`ag-cell-${n}`,r=`${s}-animation`;for(const[o,a]of i){if(!o.isAlive()||!o.comp){i.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:d}=a,f=l==="flash"?c:d;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:y,eGui:{style:v}}=o;switch(l){case"flash":y.toggleCss(s,!1),y.toggleCss(r,!0),v.transition=`background-color ${d-c}ms`,v.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":y.toggleCss(s,!1),y.toggleCss(r,!1),v.removeProperty("transition"),v.removeProperty("transition-delay"),i.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Vne(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function gfe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var pfe={moduleName:"HighlightChanges",version:nt,beans:[ffe],userComponents:{agAnimateShowChangeCellRenderer:cfe,agAnimateSlideCellRenderer:hfe},apiFunctions:{flashCells:gfe}};function mfe(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function yfe(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=vfe(e)}return e}function vfe(e){return e.cellSelection=bfe(e,"rangeSelection"),e}function bfe(e,t){if(e&&typeof e=="object")return e[t]}var Cfe=class extends Te{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Dr(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Dr(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Dr(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=ir(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",nt);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return yfe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i);const s=this.updateCachedState.bind(this);s("filter",this.getFilterState()),s("rowGroupExpansion",this.getRowGroupExpansionState()),s("rowSelection",this.getRowSelectionState()),s("pagination",this.getPaginationState());const r=()=>{this.updateRowGroupExpansionStateTimer=0,s("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>s("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(r)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&s("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:i,rowPinning:s}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),s&&this.setRowPinningState(s),this.setColumnPivotState(!!(i!=null&&i.orderedColIds));const r=this.updateCachedState.bind(this);r("sideBar",this.getSideBarState()),r("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();r("rangeSelection",o),r("cellSelection",o),r("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>r("focusedCell",this.getFocusedCellState()),cellSelectionChanged:a=>{if(a.finished){const l=this.getRangeSelectionState();r("rangeSelection",l),r("cellSelection",l)}},bodyScrollEnd:()=>r("scroll",this.getScrollState()),pinnedRowsChanged:()=>r("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return jce(rI(e),e.colModel.isPivotMode())}setColumnState(e){const{sort:t,rowGroup:n,aggregation:i,pivot:s,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},f=S=>{let x=d[S];return x||(x={colId:S},d[S]=x,x)},g=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:S,sort:x},M)=>{const A=f(S);A.sort=x,A.sortIndex=M}),g.sort=null,g.sortIndex=null),n&&(n.groupColIds.forEach((S,x)=>{const M=f(S);M.rowGroup=!0,M.rowGroupIndex=x}),g.rowGroup=null,g.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:S,aggFunc:x})=>{f(S).aggFunc=x}),g.aggFunc=null),s&&(s.pivotColIds.forEach((S,x)=>{const M=f(S);M.pivot=!0,M.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),r&&(r.leftColIds.forEach(S=>{f(S).pinned="left"}),r.rightColIds.forEach(S=>{f(S).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(S=>{f(S).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:S,flex:x,width:M})=>{const A=f(S);A.flex=x??null,A.width=M}),g.flex=null);const y=l==null?void 0:l.orderedColIds,v=!!(y!=null&&y.length),w=v?y.map(S=>f(S)):Object.values(d);w.length&&(this.columnStates=w,hc(this.beans,{state:w,applyOrder:v,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:r}=i;if(s!=null&&s.isPivotResultColsPresent()){if(t){const o=[];for(const a of t)s.getPivotResultCol(a.colId)&&o.push(a);hc(i,{state:o,applyOrder:e},"gridInitializing")}n&&(r==null||r.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return Wce(t)}setColumnGroupState(e){var r;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),s=t.getColumnGroupState().map(({groupId:o})=>{const a=n.has(o);return a&&n.delete(o),{groupId:o,open:a}});n.forEach(o=>{s.push({groupId:o,open:!0})}),s.length&&(this.columnGroupStates=s),t.setColumnGroupState(s,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:i}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),i&&(t==null||t.setAdvFilterModel(i,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:i,type:s,startRow:r,endRow:o,columns:a,startColumn:l}=n;return{id:i,type:s,startRow:r,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:s}=this.beans;if(!mg(t)||!n)return;const r=[];e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=i.getCol(c);d&&a.push(d)}),!a.length)return;let l=i.getCol(o.startColId);if(!l){const c=s.allCols,d=new Set(a);l=c.find(f=>d.has(f))}r.push({...o,columns:a,startColumn:l})}),n.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:i,rowRenderer:s,animationFrameSvc:r,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{var a;o.get("center").setCenterViewportScrollLeft(n),(a=o.getScrollFeature())==null||a.setVerticalScrollPosition(t),s.redraw({afterScroll:!0}),r==null||r.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:i}=e,{focusSvc:s,colModel:r}=this.beans;s.setFocusedCell({column:r.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var i;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:s})=>{i&&s&&n.push(s)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){var e;return(e=this.beans.pinnedRowModel)==null?void 0:e.getPinnedState()}setRowPinningState(e){var t;(t=this.beans.pinnedRowModel)==null||t.setPinnedState(e)}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const s of Object.keys(t)){const r=t[s];W0(r,i[s])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),W0(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},wfe={moduleName:"GridState",version:nt,beans:[Cfe],apiFunctions:{getState:mfe}};function Sfe(e){return e.rowModel.isLastRowIndexKnown()}function xfe(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function Mfe(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function Dfe(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function Afe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Rfe(e){var t;(t=e.pagination)==null||t.goToNextPage()}function Tfe(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Efe(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function Ife(e){var t;(t=e.pagination)==null||t.goToLastPage()}function kfe(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var Lfe=class extends Te{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(_m(t),1),s=Math.floor(e/i);t.pagination.setPageSize(s,"autoCalculated")};this.isBodyRendered?Dr(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Kx="paginationPageSizeSelector",Pfe={tag:"span",cls:"ag-paging-page-size"},Ofe=class extends Ei{constructor(){super(Pfe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Kx,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Fa(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Kx)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const s=this.gos.exists("paginationPageSize"),r=this.gos.get(Kx)!==!0;Ue(94,{pageSizeSet:s,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||Ue(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Kx}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(My(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),s=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new n_).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Kx);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Nfe={selector:"AG-PAGE-SIZE-SELECTOR",component:Ofe},Ffe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",_fe=class extends Vse{constructor(){super(),this.btFirst=gt,this.btPrevious=gt,this.btNext=gt,this.btLast=gt,this.lbRecordCount=gt,this.lbFirstRowOnPage=gt,this.lbLastRowOnPage=gt,this.lbCurrent=gt,this.lbTotal=gt,this.pageSizeComp=gt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Ffe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Nfe]);const{btFirst:t,btPrevious:n,btNext:i,btLast:s}=this;this.activateTabIndex([t,n,i,s]),t.insertAdjacentElement("afterbegin",hl(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",hl(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",hl(e?"previous":"next",this.beans)),s.insertAdjacentElement("afterbegin",hl(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):Dne(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===De.ENTER||i.key===De.SPACE)&&(i.preventDefault(),n())}})}),Mne(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Kce(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),s=e===n-1;this.nextButtonDisabled=s||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){eee(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,s=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=r*s+1,a=o+r-1,e&&a>i&&(a=i));const l=o+r-1,c=!e&&n<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let f;const g=this.getLocaleTextFunc();c?f=g("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const v=t>0?s+1:0,w=this.formatNumber(v);this.lbCurrent.textContent=w;let S,x;if(e)S=this.formatNumber(t),x=this.formatNumber(i);else{const M=g("more","more");S=M,x=M}this.lbTotal.textContent=S,this.lbRecordCount.textContent=x,this.announceAriaStatus(d,f,x,w,S)}announceAriaStatus(e,t,n,i,s){var f,g;const r=this.getLocaleTextFunc(),o=r("page","Page"),a=r("to","to"),l=r("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${o} ${i} ${l} ${s}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,(f=this.ariaAnnounce)==null||f.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,(g=this.ariaAnnounce)==null||g.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Bfe={selector:"AG-PAGINATION",component:_fe},Gfe=class extends Te{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Bfe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){var n,i;if(!this.active)return;let t=e;this.paginateChildRows||(t=((i=(n=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:i.call(n,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Qe(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Qe(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Qe(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Qe(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const s=this.currentPage,r=n*s;let o=n*(s+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},zfe={moduleName:"Pagination",version:nt,beans:[Gfe,Lfe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Sfe,paginationGetPageSize:xfe,paginationGetCurrentPage:Mfe,paginationGetTotalPages:Dfe,paginationGetRowCount:Afe,paginationGoToNextPage:Rfe,paginationGoToPreviousPage:Tfe,paginationGoToFirstPage:Efe,paginationGoToLastPage:Ife,paginationGoToPage:kfe},dependsOn:[w1]};function Hfe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function O$(e,t,n,i,s){t&&(i&&t.parent&&t.parent.level!==-1&&O$(e,t.parent,n,i,s),t.setExpanded(n,void 0,s))}function Vfe(e,t){return e.rowModel.getRowNode(t)}function jfe(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function Wfe(e){return e.rowRenderer.getRenderedNodes()}function Ufe(e,t,n){e.rowModel.forEachNode(t,n)}function $fe(e){return e.rowRenderer.firstRenderedRow}function Yfe(e){return e.rowRenderer.lastRenderedRow}function Kfe(e,t){return e.rowModel.getRow(t)}function qfe(e){return e.rowModel.getRowCount()}var Zfe={moduleName:"RowApi",version:nt,apiFunctions:{redrawRows:Hfe,setRowNodeExpanded:O$,getRowNode:Vfe,addRenderedRowListener:jfe,getRenderedNodes:Wfe,forEachNode:Ufe,getFirstDisplayedRowIndex:$fe,getLastDisplayedRowIndex:Yfe,getDisplayedRowAtIndex:Kfe,getDisplayedRowCount:qfe}},Xfe={moduleName:"ScrollApi",version:nt,apiFunctions:{getVerticalPixelRange:Tde,getHorizontalPixelRange:Ede,ensureColumnVisible:I$,ensureIndexVisible:k$,ensureNodeVisible:Ide}};function Qfe(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,s=`aria-${t}`;n===null?i.removeAttribute(s):i.setAttribute(s,n)}function Jfe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function ege(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function tge(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function nge(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function ige(e){return{rowHeight:_m(e),headerHeight:KM(e)}}function sge(e,t={}){var r;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const a=o.getCellRenderer();a!=null&&n.push(Y0(a))}),(r=t.columns)!=null&&r.length)return n;const i=[],s=WN(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(s&&!UN(o.rowNode,s)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const c=a[l];c!=null&&i.push(Y0(c))}}),[...i,...n]}var rge={moduleName:"RenderApi",version:nt,apiFunctions:{setGridAriaProperty:Qfe,refreshCells:Jfe,refreshHeader:ege,isAnimationFrameQueueEmpty:tge,flushAllAnimationFrames:nge,getSizesForCurrentTheme:ige,getCellRendererInstances:sge}};function oge(e,t){var n,i;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(i=e.colAutosize)==null||i.sizeColumnsToFitGridBody(t)}function age(e,t,n){var i;(i=e.colAutosize)==null||i.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function lge(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var cge=class extends Te{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:s,source:r="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:l,autoWidthCalc:c,visibleCols:d}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const f=[];let g=-1;const y=n??this.gos.get("skipHeaderOnAutoSize"),v=i??y;for(;g!==0;){g=0;const w=[];t.forEach(S=>{if(!S)return;const x=l.getCol(S);if(!x||Bm(x)||f.indexOf(x)>=0)return;const M=c.getPreferredWidthForColumn(x,y);if(M>0){const A=uge(x,M);x.setActualWidth(A,r),f.push(x),g++}w.push(x)}),w.length&&d.refresh(r)}v||this.autoSizeColumnGroupsByColumns(t,r,s),BC(this.eventSvc,f,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:s}=this.beans,r=new Set;i.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||r.add(d),d=d.getParent()});let a;const l=[];for(const c of r){for(const d of s.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const s=new fm(e);return s.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),s.removeEventListener("doubleTap",i),s.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),s=()=>{const r=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||r.push(a.getColId())}),r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",s),()=>e.removeEventListener("dblclick",s)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,s=n.getGridBodyCtrl(),o=s.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=j0(s.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Ue(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var y;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const s={};i&&((y=i==null?void 0:i.columnLimits)==null||y.forEach(({key:v,...w})=>{s[typeof v=="string"?v:v.getColId()]=w}));const r=this.beans.visibleCols.allCols;if(e<=0||!r.length||e===Hd(r)&&r.every(w=>{if(w.colDef.suppressSizeToFit)return!0;const S=s==null?void 0:s[w.getId()],x=(S==null?void 0:S.minWidth)??(i==null?void 0:i.defaultMinWidth),M=(S==null?void 0:S.maxWidth)??(i==null?void 0:i.defaultMaxWidth),A=w.getActualWidth();return(x==null||A>=x)&&(M==null||A<=M)}))return;const a=[],l=[];r.forEach(v=>{v.getColDef().suppressSizeToFit===!0?l.push(v):a.push(v)});const c=a.slice(0);let d=!1;const f=v=>{bl(a,v),l.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const w=s==null?void 0:s[v.getId()],S=(w==null?void 0:w.minWidth)??(i==null?void 0:i.defaultMinWidth),x=(w==null?void 0:w.maxWidth)??(i==null?void 0:i.defaultMaxWidth),M=v.getActualWidth();typeof S=="number"&&M<S?v.setActualWidth(S,t,!0):typeof x=="number"&&M>x&&v.setActualWidth(x,t,!0)});!d;){d=!0;const v=e-Hd(l);if(v<=0)a.forEach(w=>{var x;const S=((x=s==null?void 0:s[w.getId()])==null?void 0:x.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof S=="number"){w.setActualWidth(S,t,!0);return}w.setActualWidth(w.minWidth,t)});else{const w=v/Hd(a);let S=v;for(let x=a.length-1;x>=0;x--){const M=a[x],A=s==null?void 0:s[M.getId()],k=(A==null?void 0:A.minWidth)??(i==null?void 0:i.defaultMinWidth),I=(A==null?void 0:A.maxWidth)??(i==null?void 0:i.defaultMaxWidth),P=M.getMinWidth(),N=M.getMaxWidth(),B=typeof k=="number"&&k>P?k:P,z=typeof I=="number"&&I<N?I:N;let W=Math.round(M.getActualWidth()*w);W<B?(W=B,f(M),d=!1):W>z?(W=z,f(M),d=!1):x===0&&(W=S),M.setActualWidth(W,t,!0),S-=W}}}c.forEach(v=>{v.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!n&&BC(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:s}=e,r=n==null?void 0:n.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:s,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function uge(e,t){const n=e.getMinWidth();t<n&&(t=n);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}var dge={moduleName:"ColumnAutoSize",version:nt,beans:[cge],apiFunctions:{sizeColumnsToFit:oge,autoSizeColumns:age,autoSizeAllColumns:lge},dependsOn:[j3]},hge=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function fge(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function gge(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function pge(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function mge(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}function yge(e,t,n){var i;return(i=e.pinnedRowModel)==null?void 0:i.forEachPinnedRow(t,n)}var vge={moduleName:"PinnedRow",version:nt,beans:[vse],css:[hge],apiFunctions:{getPinnedTopRowCount:fge,getPinnedBottomRowCount:gge,getPinnedTopRow:pge,getPinnedBottomRow:mge,forEachPinnedRow:yge},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},bge=class extends x0{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,s,r,o){this.eWrapper=n,super.setComp(e,t,n,i,s,r,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&hU(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){see(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(y1(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Cge=class extends gI{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new bge(t,this,this.beans)}isCorrectCtrlForSpan(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},wge=class extends Te{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],s=i.size,r=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of r)c.isAlive()&&(t==null||t.forEachSpannedColumn(c.rowNode,(d,f)=>{if(o.has(f.firstNode))return;const g=i.get(f.firstNode);if(g){o.set(f.firstNode,g),i.delete(f.firstNode);return}a=!0;const y=new Cge(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,y)}));this[n]=o;const l=o.size===s;if(!(!a&&l)){for(const c of i.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const i=`${N$(e.rowPinned)}Ctrls`,s=this[i].get(n.firstNode);if(s)return s.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},N$=e=>e??"center",Sge=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},xge=class extends Te{constructor(e){super(),this.column=e}buildCache(e){var A;const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:s,valueSvc:r,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,d=n.getCallback("isFullWidthRow"),f=a.equals,g=a.spanRows,y=typeof g=="function";let v=null,w=null,S;const x=(k,I)=>{v=k,w=null,S=I},M=k=>{const I=!k.isExpandable()&&!k.group&&!k.detail&&(d?!d({rowNode:k}):!0);if(k.rowIndex==null||!I){x(null,null);return}if(v==null||k.level!==v.level||k.footer||w&&k.rowIndex-1!==(w==null?void 0:w.getLastNode().rowIndex)){x(k,r.getValue(t,k));return}const P=r.getValue(t,k);if(y){const N=Rt(n,{valueA:S,nodeA:v,valueB:P,nodeB:k,column:t,colDef:a});if(!g(N)){x(k,P);return}}else if(f?!f(S,P):S!==P){x(k,P);return}if(!w){const N=l==null?void 0:l.get(v);(N==null?void 0:N.firstNode)===v?(N.reset(),w=N):w=new Sge(t,v),c.set(v,w)}w.addSpannedNode(k),c.set(k,w)};switch(e){case"center":(A=s.forEachDisplayedNode)==null||A.call(s,k=>{(!o||o.isRowInPage(k.rowIndex))&&M(k)});break;case"top":i==null||i.forEachPinnedRow("top",M);break;case"bottom":i==null||i.forEachPinnedRow("bottom",M);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${N$(e.rowPinned)}ValueNodeMap`].get(e)}},Mge=class extends Te{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Dr(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Dr(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new xge(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,s=e.rowIndex,r=this.spanningColumns.get(i);if(!r)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(s);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(s);break;default:o=n.getRow(s)}if(o)return r.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const s=i.getCellSpan(e);t(n,s)}}destroy(){super.destroy(),this.spanningColumns.clear()}},Dge={moduleName:"CellSpan",version:nt,beans:[Mge,wge]},Age=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,s=this.getCellClassParams(e,n);K2(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,s,r=>t.toggleCss(r,!0),r=>t.toggleCss(r,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const s=this.getCellClassParams(e,t);i=n(s)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(r=>t.toggleCss(r,!1));const s=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=s,s.forEach(r=>t.toggleCss(r,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return Rt(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},Rge=class extends Te{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){K2(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new Age(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(s=>{n(s)})}},Tge={moduleName:"CellStyle",version:nt,beans:[Rge]},Ege={moduleName:"RowStyle",version:nt,beans:[cie]};function Ige(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var kge=class extends Te{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:s,element:r,columns:o}=this,a=i.colHover;n??!!s.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Lge="ag-column-hover",Pge=class extends Te{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(Lge,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const s=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:s}),s()}createHoverFeature(e,t,n){e.createManagedBean(new kge(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Oge={moduleName:"ColumnHover",version:nt,beans:[Pge],apiFunctions:{isColumnHovered:Ige}},Nge=class extends Te{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var r;const n=((r=this.wrapSvc)==null?void 0:r.wrap(e,t))??t,i=!bE.has(e),s=i?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){var r,o;const n=((r=this.wrapSvc)==null?void 0:r.unwrap(e,t))??t,i=this.asyncListeners.get(e),s=!!(i!=null&&i.delete(n));s||(o=this.syncListeners.get(e))==null||o.delete(n),this.eventSvc.removeEventListener(e,n,s)}addGlobalListener(e){var r;const t=((r=this.wrapSvc)==null?void 0:r.wrapGlobal(e))??e,n=(o,a)=>{bE.has(o)&&t(o,a)},i=(o,a)=>{bE.has(o)||t(o,a)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const s=this.eventSvc;s.addGlobalListener(n,!1),s.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,s=(n==null?void 0:n.unwrapGlobal(e))??e;if(i.has(s)){const{syncListener:o,asyncListener:a}=i.get(s);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(s),t.removeGlobalListener(s,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(s=>this.eventSvc.removeEventListener(i,s,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function Fge(e,t,n){var i;(i=e.apiEventSvc)==null||i.addEventListener(t,n)}function _ge(e,t,n){var i;(i=e.apiEventSvc)==null||i.removeEventListener(t,n)}function Bge(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function Gge(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var zge={moduleName:"EventApi",version:nt,apiFunctions:{addEventListener:Fge,addGlobalListener:Bge,removeEventListener:_ge,removeGlobalListener:Gge},beans:[Nge]},Hge=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Vge=class extends Te{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const s=WP(this.gos),{column:r,eGui:o}=t,a=r.getColDef();!i&&s&&!a.headerComponent&&(i=vE(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>r,getColDef:()=>r.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??r.getColDef().headerTooltip,shouldDisplayTooltip:i};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const s=WP(this.gos),{column:r,eGui:o}=t,a=r.getColGroupDef();!i&&s&&!(a!=null&&a.headerGroupComponent)&&(i=vE(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>r,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{column:i,rowNode:s}=e,r=()=>{const l=i.getColDef(),c=s.data;if(l.tooltipField&&Qe(c))return S0(c,l.tooltipField,i.isTooltipFieldContainsDots());const d=l.tooltipValueGetter;return d?d(Rt(this.gos,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=WP(this.gos);!n&&o&&!e.isCellRenderer()&&(n=vE(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>s,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:r,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,n,i){const s={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},r=this.beans,o=r.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(s,r);return t.createBean(a,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Qe(t.tooltipField)||Qe(t.tooltipValueGetter)||Qe(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},jge={moduleName:"Tooltip",version:nt,beans:[Vge],dynamicBeans:{tooltipFeature:Ose},userComponents:{agTooltipComponent:Yce},dependsOn:[w1],css:[Hge]},Wge={moduleName:"Locale",version:nt,beans:[Vce]},Uge=class extends Te{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Dr(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var a,l,c,d;const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,s=e.autoHeightCols;let r=!1;const o=f=>{var v;const g=f.__autoHeights;let y=pg(this.beans,f).height;for(const w of s){let S=g==null?void 0:g[w.getColId()];const x=n==null?void 0:n.getCellSpan(w,f);if(x){if(x.getLastNode()!==f)continue;if(S=(v=n==null?void 0:n.getCellSpan(w,f))==null?void 0:v.getLastNodeAutoHeight(),!S)return}if(S==null){if(this.colSpanSkipCell(w,f))continue;return}y=Math.max(S,y)}y!==f.rowHeight&&(f.setRowHeight(y),r=!0)};(a=i==null?void 0:i.forEachPinnedRow)==null||a.call(i,"top",o),(l=i==null?void 0:i.forEachPinnedRow)==null||l.call(i,"bottom",o),(c=t.forEachDisplayedNode)==null||c.call(t,o),r&&((d=t.onRowHeightChanged)==null||d.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:s}=this.beans;if(!n.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=s.getLeftColsForRow(t);break;case"right":r=s.getRightColsForRow(t);break;case null:r=i.getColsWithinViewport(t);break}return!r.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:s,column:r}=e,o=this.beans,a=d=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:g,borderBottomWidth:y,borderTopWidth:v}=Sy(i),w=f+g+y+v,x=t.offsetHeight+w;if(d<5){const M=sr(o),A=!M||!M.contains(t),k=x==0;if(A||k){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(s,x,r)},l=()=>a(0);l();const c=yh(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(s,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(s=>s.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const s=n.__autoHeights[i.getColId()];if(!s||n.rowHeight<s)return!1}}return!0}},$ge={moduleName:"RowAutoHeight",version:nt,beans:[Uge]},Yge={moduleName:"AllCommunity",version:nt,dependsOn:[Hhe,qhe,rfe,lue,$de,Yde,Kde,qde,Zde,Xde,Qde,Ude,nde,ide,sde,tde,ode,ade,wfe,xhe,zfe,Noe,Zfe,Xfe,rge,dge,gre,vge,fhe,xce,Tge,Oge,Ege,zge,Ace,pfe,jge,Wge,$ge,fre,Vhe,Dge]},qM=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ny=typeof window>"u"||"Deno"in globalThis;function ia(){}function Kge(e,t){return typeof e=="function"?e(t):e}function YN(e){return typeof e=="number"&&e>=0&&e!==1/0}function F$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function og(e,t){return typeof e=="function"?e(t):e}function rc(e,t){return typeof e=="function"?e(t):e}function HH(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:a}=e;if(o){if(i){if(t.queryHash!==c_(o,t.options))return!1}else if(!J0(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||r&&!r(t))}function VH(e,t){const{exact:n,status:i,predicate:s,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(n){if(Q0(t.options.mutationKey)!==Q0(r))return!1}else if(!J0(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function c_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Q0)(e)}function Q0(e){return JSON.stringify(e,(t,n)=>qN(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function J0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>J0(e[n],t[n])):!1}function _$(e,t){if(e===t)return e;const n=jH(e)&&jH(t);if(n||qN(e)&&qN(t)){const i=n?e:Object.keys(e),s=i.length,r=n?t:Object.keys(t),o=r.length,a=n?[]:{},l=new Set(i);let c=0;for(let d=0;d<o;d++){const f=n?d:r[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=_$(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function KN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jH(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qN(e){if(!WH(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!WH(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function WH(e){return Object.prototype.toString.call(e)==="[object Object]"}function qge(e){return new Promise(t=>{setTimeout(t,e)})}function ZN(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?_$(e,t):t}function Zge(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function Xge(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var u_=Symbol();function B$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===u_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Qge(e,t){return typeof e=="function"?e(...t):!!e}var Am,Yf,MC,I4,Jge=(I4=class extends qM{constructor(){super();Bt(this,Am);Bt(this,Yf);Bt(this,MC);dt(this,MC,t=>{if(!ny&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Yf)||this.setEventListener(ce(this,MC))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Yf))==null||t.call(this),dt(this,Yf,void 0))}setEventListener(t){var n;dt(this,MC,t),(n=ce(this,Yf))==null||n.call(this),dt(this,Yf,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){ce(this,Am)!==t&&(dt(this,Am,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,Am)=="boolean"?ce(this,Am):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Am=new WeakMap,Yf=new WeakMap,MC=new WeakMap,I4),d_=new Jge,DC,Kf,AC,k4,epe=(k4=class extends qM{constructor(){super();Bt(this,DC,!0);Bt(this,Kf);Bt(this,AC);dt(this,AC,t=>{if(!ny&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){ce(this,Kf)||this.setEventListener(ce(this,AC))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Kf))==null||t.call(this),dt(this,Kf,void 0))}setEventListener(t){var n;dt(this,AC,t),(n=ce(this,Kf))==null||n.call(this),dt(this,Kf,t(this.setOnline.bind(this)))}setOnline(t){ce(this,DC)!==t&&(dt(this,DC,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return ce(this,DC)}},DC=new WeakMap,Kf=new WeakMap,AC=new WeakMap,k4),yI=new epe;function XN(){let e,t;const n=new Promise((s,r)=>{e=s,t=r});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function tpe(e){return Math.min(1e3*2**e,3e4)}function G$(e){return(e??"online")==="online"?yI.isOnline():!0}var z$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tO(e){return e instanceof z$}function H$(e){let t=!1,n=0,i=!1,s;const r=XN(),o=w=>{var S;i||(g(new z$(w)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>d_.isFocused()&&(e.networkMode==="always"||yI.isOnline())&&e.canRun(),d=()=>G$(e.networkMode)&&e.canRun(),f=w=>{var S;i||(i=!0,(S=e.onSuccess)==null||S.call(e,w),s==null||s(),r.resolve(w))},g=w=>{var S;i||(i=!0,(S=e.onError)==null||S.call(e,w),s==null||s(),r.reject(w))},y=()=>new Promise(w=>{var S;s=x=>{(i||c())&&w(x)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;s=void 0,i||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i)return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(f).catch(x=>{var P;if(i)return;const M=e.retry??(ny?0:3),A=e.retryDelay??tpe,k=typeof A=="function"?A(n,x):A,I=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,x);if(t||!I){g(x);return}n++,(P=e.onFail)==null||P.call(e,n,x),qge(k).then(()=>c()?void 0:y()).then(()=>{t?g(x):v()})})};return{promise:r,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():y().then(v),r)}}var npe=e=>setTimeout(e,0);function ipe(){let e=[],t=0,n=a=>{a()},i=a=>{a()},s=npe;const r=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{s=a}}}var xr=ipe(),Rm,L4,V$=(L4=class{constructor(){Bt(this,Rm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YN(this.gcTime)&&dt(this,Rm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ny?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Rm)&&(clearTimeout(ce(this,Rm)),dt(this,Rm,void 0))}},Rm=new WeakMap,L4),RC,TC,rl,Tm,qr,_M,Em,ic,Fd,P4,spe=(P4=class extends V${constructor(t){super();Bt(this,ic);Bt(this,RC);Bt(this,TC);Bt(this,rl);Bt(this,Tm);Bt(this,qr);Bt(this,_M);Bt(this,Em);dt(this,Em,!1),dt(this,_M,t.defaultOptions),this.setOptions(t.options),this.observers=[],dt(this,Tm,t.client),dt(this,rl,ce(this,Tm).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dt(this,RC,rpe(this.options)),this.state=t.state??ce(this,RC),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,qr))==null?void 0:t.promise}setOptions(t){this.options={...ce(this,_M),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,rl).remove(this)}setData(t,n){const i=ZN(this.state.data,t,this.options);return Mn(this,ic,Fd).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Mn(this,ic,Fd).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=ce(this,qr))==null?void 0:i.promise;return(s=ce(this,qr))==null||s.cancel(t),n?n.then(ia).catch(ia):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,RC))}isActive(){return this.observers.some(t=>rc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===u_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>og(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F$(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,qr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,qr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,rl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,qr)&&(ce(this,Em)?ce(this,qr).cancel({revert:!0}):ce(this,qr).cancelRetry()),this.scheduleGc()),ce(this,rl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mn(this,ic,Fd).call(this,{type:"invalidate"})}fetch(t,n){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,qr))return ce(this,qr).continueRetry(),ce(this,qr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(dt(this,Em,!0),i.signal)})},r=()=>{const g=B$(this.options,n),v=(()=>{const w={client:ce(this,Tm),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return dt(this,Em,!1),this.options.persister?this.options.persister(g,v,this):g(v)},a=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Tm),state:this.state,fetchFn:r};return s(g),g})();(c=this.options.behavior)==null||c.onFetch(a,this),dt(this,TC,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Mn(this,ic,Fd).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=g=>{var y,v,w,S;tO(g)&&g.silent||Mn(this,ic,Fd).call(this,{type:"error",error:g}),tO(g)||((v=(y=ce(this,rl).config).onError)==null||v.call(y,g,this),(S=(w=ce(this,rl).config).onSettled)==null||S.call(w,this.state.data,g,this)),this.scheduleGc()};return dt(this,qr,H$({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var y,v,w,S;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){l(x);return}(v=(y=ce(this,rl).config).onSuccess)==null||v.call(y,g,this),(S=(w=ce(this,rl).config).onSettled)==null||S.call(w,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,y)=>{Mn(this,ic,Fd).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{Mn(this,ic,Fd).call(this,{type:"pause"})},onContinue:()=>{Mn(this,ic,Fd).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ce(this,qr).start()}},RC=new WeakMap,TC=new WeakMap,rl=new WeakMap,Tm=new WeakMap,qr=new WeakMap,_M=new WeakMap,Em=new WeakMap,ic=new WeakSet,Fd=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...j$(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return tO(s)&&s.revert&&ce(this,TC)?{...ce(this,TC),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),xr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ce(this,rl).notify({query:this,type:"updated",action:t})})},P4);function j$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rpe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gu,O4,W$=(O4=class extends qM{constructor(t={}){super();Bt(this,gu);this.config=t,dt(this,gu,new Map)}build(t,n,i){const s=n.queryKey,r=n.queryHash??c_(s,n);let o=this.get(r);return o||(o=new spe({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ce(this,gu).has(t.queryHash)||(ce(this,gu).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,gu).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,gu).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,gu).get(t)}getAll(){return[...ce(this,gu).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>HH(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>HH(t,i)):n}notify(t){xr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gu=new WeakMap,O4),pu,Ao,Im,mu,Gf,N4,ope=(N4=class extends V${constructor(t){super();Bt(this,mu);Bt(this,pu);Bt(this,Ao);Bt(this,Im);this.mutationId=t.mutationId,dt(this,Ao,t.mutationCache),dt(this,pu,[]),this.state=t.state||ape(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,pu).includes(t)||(ce(this,pu).push(t),this.clearGcTimeout(),ce(this,Ao).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dt(this,pu,ce(this,pu).filter(n=>n!==t)),this.scheduleGc(),ce(this,Ao).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,pu).length||(this.state.status==="pending"?this.scheduleGc():ce(this,Ao).remove(this))}continue(){var t;return((t=ce(this,Im))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,o,a,l,c,d,f,g,y,v,w,S,x,M,A,k,I,P,N,B;const n=()=>{Mn(this,mu,Gf).call(this,{type:"continue"})};dt(this,Im,H$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,W)=>{Mn(this,mu,Gf).call(this,{type:"failed",failureCount:z,error:W})},onPause:()=>{Mn(this,mu,Gf).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,Ao).canRun(this)}));const i=this.state.status==="pending",s=!ce(this,Im).canStart();try{if(i)n();else{Mn(this,mu,Gf).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(r=ce(this,Ao).config).onMutate)==null?void 0:o.call(r,t,this));const W=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));W!==this.state.context&&Mn(this,mu,Gf).call(this,{type:"pending",context:W,variables:t,isPaused:s})}const z=await ce(this,Im).start();return await((d=(c=ce(this,Ao).config).onSuccess)==null?void 0:d.call(c,z,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,z,t,this.state.context)),await((v=(y=ce(this,Ao).config).onSettled)==null?void 0:v.call(y,z,null,this.state.variables,this.state.context,this)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,z,null,t,this.state.context)),Mn(this,mu,Gf).call(this,{type:"success",data:z}),z}catch(z){try{throw await((M=(x=ce(this,Ao).config).onError)==null?void 0:M.call(x,z,t,this.state.context,this)),await((k=(A=this.options).onError)==null?void 0:k.call(A,z,t,this.state.context)),await((P=(I=ce(this,Ao).config).onSettled)==null?void 0:P.call(I,void 0,z,this.state.variables,this.state.context,this)),await((B=(N=this.options).onSettled)==null?void 0:B.call(N,void 0,z,t,this.state.context)),z}finally{Mn(this,mu,Gf).call(this,{type:"error",error:z})}}finally{ce(this,Ao).runNext(this)}}},pu=new WeakMap,Ao=new WeakMap,Im=new WeakMap,mu=new WeakSet,Gf=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xr.batch(()=>{ce(this,pu).forEach(i=>{i.onMutationUpdate(t)}),ce(this,Ao).notify({mutation:this,type:"updated",action:t})})},N4);function ape(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jd,sc,BM,F4,lpe=(F4=class extends qM{constructor(t={}){super();Bt(this,jd);Bt(this,sc);Bt(this,BM);this.config=t,dt(this,jd,new Set),dt(this,sc,new Map),dt(this,BM,0)}build(t,n,i){const s=new ope({mutationCache:this,mutationId:++ST(this,BM)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){ce(this,jd).add(t);const n=OT(t);if(typeof n=="string"){const i=ce(this,sc).get(n);i?i.push(t):ce(this,sc).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,jd).delete(t)){const n=OT(t);if(typeof n=="string"){const i=ce(this,sc).get(n);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&ce(this,sc).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=OT(t);if(typeof n=="string"){const i=ce(this,sc).get(n),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const n=OT(t);if(typeof n=="string"){const s=(i=ce(this,sc).get(n))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xr.batch(()=>{ce(this,jd).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,jd).clear(),ce(this,sc).clear()})}getAll(){return Array.from(ce(this,jd))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>VH(n,i))}findAll(t={}){return this.getAll().filter(n=>VH(t,n))}notify(t){xr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return xr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ia))))}},jd=new WeakMap,sc=new WeakMap,BM=new WeakMap,F4);function OT(e){var t;return(t=e.options.scope)==null?void 0:t.id}function UH(e){return{onFetch:(t,n)=>{var d,f,g,y,v;const i=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,r=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},x=B$(t.options,t.fetchOptions),M=async(A,k,I)=>{if(w)return Promise.reject();if(k==null&&A.pages.length)return Promise.resolve(A);const N=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:k,direction:I?"backward":"forward",meta:t.options.meta};return S(Y),Y})(),B=await x(N),{maxPages:z}=t.options,W=I?Xge:Zge;return{pages:W(A.pages,B,z),pageParams:W(A.pageParams,k,z)}};if(s&&r.length){const A=s==="backward",k=A?cpe:$H,I={pages:r,pageParams:o},P=k(i,I);a=await M(I,P,A)}else{const A=e??r.length;do{const k=l===0?o[0]??i.initialPageParam:$H(i,a);if(l>0&&k==null)break;a=await M(a,k),l++}while(l<A)}return a};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function $H(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function cpe(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var rs,qf,Zf,EC,IC,Xf,kC,LC,_4,upe=(_4=class{constructor(e={}){Bt(this,rs);Bt(this,qf);Bt(this,Zf);Bt(this,EC);Bt(this,IC);Bt(this,Xf);Bt(this,kC);Bt(this,LC);dt(this,rs,e.queryCache||new W$),dt(this,qf,e.mutationCache||new lpe),dt(this,Zf,e.defaultOptions||{}),dt(this,EC,new Map),dt(this,IC,new Map),dt(this,Xf,0)}mount(){ST(this,Xf)._++,ce(this,Xf)===1&&(dt(this,kC,d_.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,rs).onFocus())})),dt(this,LC,yI.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,rs).onOnline())})))}unmount(){var e,t;ST(this,Xf)._--,ce(this,Xf)===0&&((e=ce(this,kC))==null||e.call(this),dt(this,kC,void 0),(t=ce(this,LC))==null||t.call(this),dt(this,LC,void 0))}isFetching(e){return ce(this,rs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,qf).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,rs).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,rs).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(og(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return ce(this,rs).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=ce(this,rs).get(i.queryHash),r=s==null?void 0:s.state.data,o=Kge(t,r);if(o!==void 0)return ce(this,rs).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return xr.batch(()=>ce(this,rs).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,rs).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,rs);xr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,rs);return xr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=xr.batch(()=>ce(this,rs).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ia).catch(ia)}invalidateQueries(e,t={}){return xr.batch(()=>(ce(this,rs).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=xr.batch(()=>ce(this,rs).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,n);return n.throwOnError||(r=r.catch(ia)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(ia)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,rs).build(this,t);return n.isStaleByTime(og(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ia).catch(ia)}fetchInfiniteQuery(e){return e.behavior=UH(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ia).catch(ia)}ensureInfiniteQueryData(e){return e.behavior=UH(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yI.isOnline()?ce(this,qf).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,rs)}getMutationCache(){return ce(this,qf)}getDefaultOptions(){return ce(this,Zf)}setDefaultOptions(e){dt(this,Zf,e)}setQueryDefaults(e,t){ce(this,EC).set(Q0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,EC).values()],n={};return t.forEach(i=>{J0(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,IC).set(Q0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,IC).values()],n={};return t.forEach(i=>{J0(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,Zf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===u_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,Zf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,rs).clear(),ce(this,qf).clear()}},rs=new WeakMap,qf=new WeakMap,Zf=new WeakMap,EC=new WeakMap,IC=new WeakMap,Xf=new WeakMap,kC=new WeakMap,LC=new WeakMap,_4),ta,Dn,GM,Ro,km,PC,Qf,Jf,zM,OC,NC,Lm,Pm,eg,FC,ei,c0,QN,JN,eF,tF,nF,iF,sF,U$,B4,dpe=(B4=class extends qM{constructor(t,n){super();Bt(this,ei);Bt(this,ta);Bt(this,Dn);Bt(this,GM);Bt(this,Ro);Bt(this,km);Bt(this,PC);Bt(this,Qf);Bt(this,Jf);Bt(this,zM);Bt(this,OC);Bt(this,NC);Bt(this,Lm);Bt(this,Pm);Bt(this,eg);Bt(this,FC,new Set);this.options=n,dt(this,ta,t),dt(this,Jf,null),dt(this,Qf,XN()),this.options.experimental_prefetchInRender||ce(this,Qf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,Dn).addObserver(this),YH(ce(this,Dn),this.options)?Mn(this,ei,c0).call(this):this.updateResult(),Mn(this,ei,tF).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rF(ce(this,Dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rF(ce(this,Dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Mn(this,ei,nF).call(this),Mn(this,ei,iF).call(this),ce(this,Dn).removeObserver(this)}setOptions(t){const n=this.options,i=ce(this,Dn);if(this.options=ce(this,ta).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rc(this.options.enabled,ce(this,Dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Mn(this,ei,sF).call(this),ce(this,Dn).setOptions(this.options),n._defaulted&&!KN(this.options,n)&&ce(this,ta).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,Dn),observer:this});const s=this.hasListeners();s&&KH(ce(this,Dn),i,this.options,n)&&Mn(this,ei,c0).call(this),this.updateResult(),s&&(ce(this,Dn)!==i||rc(this.options.enabled,ce(this,Dn))!==rc(n.enabled,ce(this,Dn))||og(this.options.staleTime,ce(this,Dn))!==og(n.staleTime,ce(this,Dn)))&&Mn(this,ei,QN).call(this);const r=Mn(this,ei,JN).call(this);s&&(ce(this,Dn)!==i||rc(this.options.enabled,ce(this,Dn))!==rc(n.enabled,ce(this,Dn))||r!==ce(this,eg))&&Mn(this,ei,eF).call(this,r)}getOptimisticResult(t){const n=ce(this,ta).getQueryCache().build(ce(this,ta),t),i=this.createResult(n,t);return fpe(this,i)&&(dt(this,Ro,i),dt(this,PC,this.options),dt(this,km,ce(this,Dn).state)),i}getCurrentResult(){return ce(this,Ro)}trackResult(t,n){return new Proxy(t,{get:(i,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(i,s))})}trackProp(t){ce(this,FC).add(t)}getCurrentQuery(){return ce(this,Dn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,ta).defaultQueryOptions(t),i=ce(this,ta).getQueryCache().build(ce(this,ta),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return Mn(this,ei,c0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,Ro)))}createResult(t,n){var z;const i=ce(this,Dn),s=this.options,r=ce(this,Ro),o=ce(this,km),a=ce(this,PC),c=t!==i?t.state:ce(this,GM),{state:d}=t;let f={...d},g=!1,y;if(n._optimisticResults){const W=this.hasListeners(),Y=!W&&YH(t,n),K=W&&KH(t,i,n,s);(Y||K)&&(f={...f,...j$(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:S}=f;y=f.data;let x=!1;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let W;r!=null&&r.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(W=r.data,x=!0):W=typeof n.placeholderData=="function"?n.placeholderData((z=ce(this,NC))==null?void 0:z.state.data,ce(this,NC)):n.placeholderData,W!==void 0&&(S="success",y=ZN(r==null?void 0:r.data,W,n),g=!0)}if(n.select&&y!==void 0&&!x)if(r&&y===(o==null?void 0:o.data)&&n.select===ce(this,zM))y=ce(this,OC);else try{dt(this,zM,n.select),y=n.select(y),y=ZN(r==null?void 0:r.data,y,n),dt(this,OC,y),dt(this,Jf,null)}catch(W){dt(this,Jf,W)}ce(this,Jf)&&(v=ce(this,Jf),y=ce(this,OC),w=Date.now(),S="error");const M=f.fetchStatus==="fetching",A=S==="pending",k=S==="error",I=A&&M,P=y!==void 0,B={status:S,fetchStatus:f.fetchStatus,isPending:A,isSuccess:S==="success",isError:k,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:M,isRefetching:M&&!A,isLoadingError:k&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&P,isStale:h_(t,n),refetch:this.refetch,promise:ce(this,Qf)};if(this.options.experimental_prefetchInRender){const W=q=>{B.status==="error"?q.reject(B.error):B.data!==void 0&&q.resolve(B.data)},Y=()=>{const q=dt(this,Qf,B.promise=XN());W(q)},K=ce(this,Qf);switch(K.status){case"pending":t.queryHash===i.queryHash&&W(K);break;case"fulfilled":(B.status==="error"||B.data!==K.value)&&Y();break;case"rejected":(B.status!=="error"||B.error!==K.reason)&&Y();break}}return B}updateResult(){const t=ce(this,Ro),n=this.createResult(ce(this,Dn),this.options);if(dt(this,km,ce(this,Dn).state),dt(this,PC,this.options),ce(this,km).data!==void 0&&dt(this,NC,ce(this,Dn)),KN(n,t))return;dt(this,Ro,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!ce(this,FC).size)return!0;const o=new Set(r??ce(this,FC));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,Ro)).some(a=>{const l=a;return ce(this,Ro)[l]!==t[l]&&o.has(l)})};Mn(this,ei,U$).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Mn(this,ei,tF).call(this)}},ta=new WeakMap,Dn=new WeakMap,GM=new WeakMap,Ro=new WeakMap,km=new WeakMap,PC=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,zM=new WeakMap,OC=new WeakMap,NC=new WeakMap,Lm=new WeakMap,Pm=new WeakMap,eg=new WeakMap,FC=new WeakMap,ei=new WeakSet,c0=function(t){Mn(this,ei,sF).call(this);let n=ce(this,Dn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ia)),n},QN=function(){Mn(this,ei,nF).call(this);const t=og(this.options.staleTime,ce(this,Dn));if(ny||ce(this,Ro).isStale||!YN(t))return;const i=F$(ce(this,Ro).dataUpdatedAt,t)+1;dt(this,Lm,setTimeout(()=>{ce(this,Ro).isStale||this.updateResult()},i))},JN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,Dn)):this.options.refetchInterval)??!1},eF=function(t){Mn(this,ei,iF).call(this),dt(this,eg,t),!(ny||rc(this.options.enabled,ce(this,Dn))===!1||!YN(ce(this,eg))||ce(this,eg)===0)&&dt(this,Pm,setInterval(()=>{(this.options.refetchIntervalInBackground||d_.isFocused())&&Mn(this,ei,c0).call(this)},ce(this,eg)))},tF=function(){Mn(this,ei,QN).call(this),Mn(this,ei,eF).call(this,Mn(this,ei,JN).call(this))},nF=function(){ce(this,Lm)&&(clearTimeout(ce(this,Lm)),dt(this,Lm,void 0))},iF=function(){ce(this,Pm)&&(clearInterval(ce(this,Pm)),dt(this,Pm,void 0))},sF=function(){const t=ce(this,ta).getQueryCache().build(ce(this,ta),this.options);if(t===ce(this,Dn))return;const n=ce(this,Dn);dt(this,Dn,t),dt(this,GM,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},U$=function(t){xr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,Ro))}),ce(this,ta).getQueryCache().notify({query:ce(this,Dn),type:"observerResultsUpdated"})})},B4);function hpe(e,t){return rc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function YH(e,t){return hpe(e,t)||e.state.data!==void 0&&rF(e,t,t.refetchOnMount)}function rF(e,t,n){if(rc(t.enabled,e)!==!1&&og(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&h_(e,t)}return!1}function KH(e,t,n,i){return(e!==t||rc(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&h_(e,n)}function h_(e,t){return rc(t.enabled,e)!==!1&&e.isStaleByTime(og(t.staleTime,e))}function fpe(e,t){return!KN(e.getCurrentResult(),t)}var $$=T.createContext(void 0),gpe=e=>{const t=T.useContext($$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ppe=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),_.jsx($$.Provider,{value:e,children:t})),Y$=T.createContext(!1),mpe=()=>T.useContext(Y$);Y$.Provider;function ype(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vpe=T.createContext(ype()),bpe=()=>T.useContext(vpe),Cpe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},wpe=e=>{T.useEffect(()=>{e.clearReset()},[e])},Spe=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||Qge(n,[e.error,i])),xpe=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>t(n(...i)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Mpe=(e,t)=>e.isLoading&&e.isFetching&&!t,Dpe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,qH=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ape(e,t,n){var f,g,y,v,w;const i=mpe(),s=bpe(),r=gpe(),o=r.defaultQueryOptions(e);(g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",xpe(o),Cpe(o,s),wpe(s);const a=!r.getQueryCache().get(o.queryHash),[l]=T.useState(()=>new t(r,o)),c=l.getOptimisticResult(o),d=!i&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(S=>{const x=d?l.subscribe(xr.batchCalls(S)):ia;return l.updateResult(),x},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),T.useEffect(()=>{l.setOptions(o)},[o,l]),Dpe(o,c))throw qH(o,l,s);if(Spe({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,o,c),o.experimental_prefetchInRender&&!ny&&Mpe(c,i)){const S=a?qH(o,l,s):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(ia).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function HC(e,t){return Ape(e,dpe)}class f_{constructor(t){Mz(this,"error");const{detail:n}=t;this.error=(n==null?void 0:n[0].msg)||"Unknown error"}}var u0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Rpe=u0.exports,ZH;function Tpe(){return ZH||(ZH=1,function(e,t){(function(){var n,i="4.17.21",s=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,g=2,y=4,v=1,w=2,S=1,x=2,M=4,A=8,k=16,I=32,P=64,N=128,B=256,z=512,W=30,Y="...",K=800,q=16,te=1,re=2,X=3,ne=1/0,Z=9007199254740991,Se=17976931348623157e292,U=NaN,ie=4294967295,ve=ie-1,J=ie>>>1,he=[["ary",N],["bind",S],["bindKey",x],["curry",A],["curryRight",k],["flip",z],["partial",I],["partialRight",P],["rearg",B]],Ee="[object Arguments]",we="[object Array]",Me="[object AsyncFunction]",Ce="[object Boolean]",je="[object Date]",Ye="[object DOMException]",Ge="[object Error]",We="[object Function]",it="[object GeneratorFunction]",$e="[object Map]",mt="[object Number]",Ht="[object Null]",st="[object Object]",St="[object Promise]",Ze="[object Proxy]",et="[object RegExp]",lt="[object Set]",vt="[object String]",Vt="[object Symbol]",vn="[object Undefined]",ln="[object WeakMap]",us="[object WeakSet]",bn="[object ArrayBuffer]",Pt="[object DataView]",tn="[object Float32Array]",co="[object Float64Array]",El="[object Int8Array]",Xs="[object Int16Array]",Ir="[object Int32Array]",Gs="[object Uint8Array]",kr="[object Uint8ClampedArray]",ar="[object Uint16Array]",uo="[object Uint32Array]",Lh=/\b__p \+= '';/g,$t=/\b(__p \+=) '' \+/g,ni=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/&(?:amp|lt|gt|quot|#39);/g,lr=/[&<>"']/g,ho=RegExp(In.source),od=RegExp(lr.source),ds=/<%-([\s\S]+?)%>/g,Lr=/<%([\s\S]+?)%>/g,mn=/<%=([\s\S]+?)%>/g,Uy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yw=/^\w*$/,Ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/[\\^$.*+?()[\]{}|]/g,As=RegExp(Pi.source),Ic=/^\s+/,Kw=/\s/,dL=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hL=/\{\n\/\* \[wrapped with (.+)\] \*/,tA=/,? & /,Vg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qw=/[()=,{}\[\]\/\s]/,Ph=/\\(\\)?/g,Oh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nh=/\w*$/,Fh=/^[-+]0x[0-9a-f]+$/i,Rs=/^0b[01]+$/i,nA=/^\[object .+?Constructor\]$/,iA=/^0o[0-7]+$/i,ad=/^(?:0|[1-9]\d*)$/,_h=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$y=/($^)/,sA=/['\n\r\u2028\u2029\\]/g,jg="\\ud800-\\udfff",fL="\\u0300-\\u036f",Yy="\\ufe20-\\ufe2f",Ky="\\u20d0-\\u20ff",Va=fL+Yy+Ky,qy="\\u2700-\\u27bf",Zw="a-z\\xdf-\\xf6\\xf8-\\xff",Bh="\\xac\\xb1\\xd7\\xf7",Xw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qw="\\u2000-\\u206f",gL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jw="A-Z\\xc0-\\xd6\\xd8-\\xde",fo="\\ufe0e\\ufe0f",eS=Bh+Xw+Qw+gL,tS="['’]",Zy="["+jg+"]",nS="["+eS+"]",ld="["+Va+"]",rA="\\d+",Fo="["+qy+"]",Xy="["+Zw+"]",iS="[^"+jg+eS+rA+qy+Zw+Jw+"]",Wg="\\ud83c[\\udffb-\\udfff]",Gh="(?:"+ld+"|"+Wg+")",sS="[^"+jg+"]",Qy="(?:\\ud83c[\\udde6-\\uddff]){2}",kc="[\\ud800-\\udbff][\\udc00-\\udfff]",zh="["+Jw+"]",rS="\\u200d",oS="(?:"+Xy+"|"+iS+")",aS="(?:"+zh+"|"+iS+")",oA="(?:"+tS+"(?:d|ll|m|re|s|t|ve))?",aA="(?:"+tS+"(?:D|LL|M|RE|S|T|VE))?",Ug=Gh+"?",Jy="["+fo+"]?",lS="(?:"+rS+"(?:"+[sS,Qy,kc].join("|")+")"+Jy+Ug+")*",Hh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cS=Jy+Ug+lS,uS="(?:"+[Fo,Qy,kc].join("|")+")"+cS,lA="(?:"+[sS+ld+"?",ld,Qy,kc,Zy].join("|")+")",$g=RegExp(tS,"g"),Il=RegExp(ld,"g"),Yg=RegExp(Wg+"(?="+Wg+")|"+lA+cS,"g"),Kg=RegExp([zh+"?"+Xy+"+"+oA+"(?="+[nS,zh,"$"].join("|")+")",aS+"+"+aA+"(?="+[nS,zh+oS,"$"].join("|")+")",zh+"?"+oS+"+"+oA,zh+"+"+aA,Vh,Hh,rA,uS].join("|"),"g"),Lc=RegExp("["+rS+jg+Va+fo+"]"),dS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ev=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cA=-1,Kn={};Kn[tn]=Kn[co]=Kn[El]=Kn[Xs]=Kn[Ir]=Kn[Gs]=Kn[kr]=Kn[ar]=Kn[uo]=!0,Kn[Ee]=Kn[we]=Kn[bn]=Kn[Ce]=Kn[Pt]=Kn[je]=Kn[Ge]=Kn[We]=Kn[$e]=Kn[mt]=Kn[st]=Kn[et]=Kn[lt]=Kn[vt]=Kn[ln]=!1;var Gn={};Gn[Ee]=Gn[we]=Gn[bn]=Gn[Pt]=Gn[Ce]=Gn[je]=Gn[tn]=Gn[co]=Gn[El]=Gn[Xs]=Gn[Ir]=Gn[$e]=Gn[mt]=Gn[st]=Gn[et]=Gn[lt]=Gn[vt]=Gn[Vt]=Gn[Gs]=Gn[kr]=Gn[ar]=Gn[uo]=!0,Gn[Ge]=Gn[We]=Gn[ln]=!1;var uA={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qg=parseFloat,pL=parseInt,nv=typeof xT=="object"&&xT&&xT.Object===Object&&xT,hS=typeof self=="object"&&self&&self.Object===Object&&self,ji=nv||hS||Function("return this")(),jh=t&&!t.nodeType&&t,Pc=jh&&!0&&e&&!e.nodeType&&e,dA=Pc&&Pc.exports===jh,fS=dA&&nv.process,_o=function(){try{var de=Pc&&Pc.require&&Pc.require("util").types;return de||fS&&fS.binding&&fS.binding("util")}catch{}}(),iv=_o&&_o.isArrayBuffer,hA=_o&&_o.isDate,fA=_o&&_o.isMap,gA=_o&&_o.isRegExp,pA=_o&&_o.isSet,mA=_o&&_o.isTypedArray;function Or(de,ke,xe){switch(xe.length){case 0:return de.call(ke);case 1:return de.call(ke,xe[0]);case 2:return de.call(ke,xe[0],xe[1]);case 3:return de.call(ke,xe[0],xe[1],xe[2])}return de.apply(ke,xe)}function mL(de,ke,xe,rt){for(var kt=-1,Cn=de==null?0:de.length;++kt<Cn;){var is=de[kt];ke(rt,is,xe(is),de)}return rt}function Bo(de,ke){for(var xe=-1,rt=de==null?0:de.length;++xe<rt&&ke(de[xe],xe,de)!==!1;);return de}function yL(de,ke){for(var xe=de==null?0:de.length;xe--&&ke(de[xe],xe,de)!==!1;);return de}function yA(de,ke){for(var xe=-1,rt=de==null?0:de.length;++xe<rt;)if(!ke(de[xe],xe,de))return!1;return!0}function ja(de,ke){for(var xe=-1,rt=de==null?0:de.length,kt=0,Cn=[];++xe<rt;){var is=de[xe];ke(is,xe,de)&&(Cn[kt++]=is)}return Cn}function sv(de,ke){var xe=de==null?0:de.length;return!!xe&&Wh(de,ke,0)>-1}function gS(de,ke,xe){for(var rt=-1,kt=de==null?0:de.length;++rt<kt;)if(xe(ke,de[rt]))return!0;return!1}function Ci(de,ke){for(var xe=-1,rt=de==null?0:de.length,kt=Array(rt);++xe<rt;)kt[xe]=ke(de[xe],xe,de);return kt}function kl(de,ke){for(var xe=-1,rt=ke.length,kt=de.length;++xe<rt;)de[kt+xe]=ke[xe];return de}function pS(de,ke,xe,rt){var kt=-1,Cn=de==null?0:de.length;for(rt&&Cn&&(xe=de[++kt]);++kt<Cn;)xe=ke(xe,de[kt],kt,de);return xe}function vL(de,ke,xe,rt){var kt=de==null?0:de.length;for(rt&&kt&&(xe=de[--kt]);kt--;)xe=ke(xe,de[kt],kt,de);return xe}function mS(de,ke){for(var xe=-1,rt=de==null?0:de.length;++xe<rt;)if(ke(de[xe],xe,de))return!0;return!1}var bL=ov("length");function CL(de){return de.split("")}function wL(de){return de.match(Vg)||[]}function vA(de,ke,xe){var rt;return xe(de,function(kt,Cn,is){if(ke(kt,Cn,is))return rt=Cn,!1}),rt}function rv(de,ke,xe,rt){for(var kt=de.length,Cn=xe+(rt?1:-1);rt?Cn--:++Cn<kt;)if(ke(de[Cn],Cn,de))return Cn;return-1}function Wh(de,ke,xe){return ke===ke?DL(de,ke,xe):rv(de,Uh,xe)}function yS(de,ke,xe,rt){for(var kt=xe-1,Cn=de.length;++kt<Cn;)if(rt(de[kt],ke))return kt;return-1}function Uh(de){return de!==de}function bA(de,ke){var xe=de==null?0:de.length;return xe?lv(de,ke)/xe:U}function ov(de){return function(ke){return ke==null?n:ke[de]}}function av(de){return function(ke){return de==null?n:de[ke]}}function vS(de,ke,xe,rt,kt){return kt(de,function(Cn,is,wn){xe=rt?(rt=!1,Cn):ke(xe,Cn,is,wn)}),xe}function CA(de,ke){var xe=de.length;for(de.sort(ke);xe--;)de[xe]=de[xe].value;return de}function lv(de,ke){for(var xe,rt=-1,kt=de.length;++rt<kt;){var Cn=ke(de[rt]);Cn!==n&&(xe=xe===n?Cn:xe+Cn)}return xe}function Oc(de,ke){for(var xe=-1,rt=Array(de);++xe<de;)rt[xe]=ke(xe);return rt}function SL(de,ke){return Ci(ke,function(xe){return[xe,de[xe]]})}function wA(de){return de&&de.slice(0,CS(de)+1).replace(Ic,"")}function go(de){return function(ke){return de(ke)}}function cv(de,ke){return Ci(ke,function(xe){return de[xe]})}function $h(de,ke){return de.has(ke)}function Yh(de,ke){for(var xe=-1,rt=de.length;++xe<rt&&Wh(ke,de[xe],0)>-1;);return xe}function Kh(de,ke){for(var xe=de.length;xe--&&Wh(ke,de[xe],0)>-1;);return xe}function xL(de,ke){for(var xe=de.length,rt=0;xe--;)de[xe]===ke&&++rt;return rt}var uv=av(uA),SA=av(Pr);function xA(de){return"\\"+tv[de]}function bS(de,ke){return de==null?n:de[ke]}function Nc(de){return Lc.test(de)}function MA(de){return dS.test(de)}function DA(de){for(var ke,xe=[];!(ke=de.next()).done;)xe.push(ke.value);return xe}function dv(de){var ke=-1,xe=Array(de.size);return de.forEach(function(rt,kt){xe[++ke]=[kt,rt]}),xe}function AA(de,ke){return function(xe){return de(ke(xe))}}function Fc(de,ke){for(var xe=-1,rt=de.length,kt=0,Cn=[];++xe<rt;){var is=de[xe];(is===ke||is===d)&&(de[xe]=d,Cn[kt++]=xe)}return Cn}function hv(de){var ke=-1,xe=Array(de.size);return de.forEach(function(rt){xe[++ke]=rt}),xe}function ML(de){var ke=-1,xe=Array(de.size);return de.forEach(function(rt){xe[++ke]=[rt,rt]}),xe}function DL(de,ke,xe){for(var rt=xe-1,kt=de.length;++rt<kt;)if(de[rt]===ke)return rt;return-1}function po(de,ke,xe){for(var rt=xe+1;rt--;)if(de[rt]===ke)return rt;return rt}function Wa(de){return Nc(de)?TA(de):bL(de)}function Go(de){return Nc(de)?wS(de):CL(de)}function CS(de){for(var ke=de.length;ke--&&Kw.test(de.charAt(ke)););return ke}var RA=av(cd);function TA(de){for(var ke=Yg.lastIndex=0;Yg.test(de);)++ke;return ke}function wS(de){return de.match(Yg)||[]}function AL(de){return de.match(Kg)||[]}var qh=function de(ke){ke=ke==null?ji:_c.defaults(ji.Object(),ke,_c.pick(ji,ev));var xe=ke.Array,rt=ke.Date,kt=ke.Error,Cn=ke.Function,is=ke.Math,wn=ke.Object,fv=ke.RegExp,EA=ke.String,mo=ke.TypeError,gv=xe.prototype,RL=Cn.prototype,Zh=wn.prototype,Zg=ke["__core-js_shared__"],Xg=RL.toString,kn=Zh.hasOwnProperty,da=0,SS=function(){var m=/[^.]+$/.exec(Zg&&Zg.keys&&Zg.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),cr=Zh.toString,zo=Xg.call(wn),Xh=ji._,xS=fv("^"+Xg.call(kn).replace(Pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ud=dA?ke.Buffer:n,ha=ke.Symbol,Qh=ke.Uint8Array,dd=ud?ud.allocUnsafe:n,Qg=AA(wn.getPrototypeOf,wn),Jg=wn.create,hd=Zh.propertyIsEnumerable,pv=gv.splice,Nr=ha?ha.isConcatSpreadable:n,fd=ha?ha.iterator:n,ur=ha?ha.toStringTag:n,ep=function(){try{var m=$c(wn,"defineProperty");return m({},"",{}),m}catch{}}(),mv=ke.clearTimeout!==ji.clearTimeout&&ke.clearTimeout,gd=rt&&rt.now!==ji.Date.now&&rt.now,MS=ke.setTimeout!==ji.setTimeout&&ke.setTimeout,Jh=is.ceil,Ll=is.floor,Bc=wn.getOwnPropertySymbols,yv=ud?ud.isBuffer:n,tp=ke.isFinite,Ho=gv.join,Vo=AA(wn.keys,wn),fi=is.max,wi=is.min,Pl=rt.now,pd=ke.parseInt,DS=is.random,AS=gv.reverse,np=$c(ke,"DataView"),hs=$c(ke,"Map"),Si=$c(ke,"Promise"),cn=$c(ke,"Set"),fa=$c(ke,"WeakMap"),Fr=$c(wn,"create"),ef=fa&&new fa,jo={},IA=Vl(np),kA=Vl(hs),ip=Vl(Si),sp=Vl(cn),LA=Vl(fa),Gc=ha?ha.prototype:n,md=Gc?Gc.valueOf:n,zc=Gc?Gc.toString:n;function V(m){if(Ai(m)&&!_t(m)&&!(m instanceof Qt)){if(m instanceof _r)return m;if(kn.call(m,"__wrapped__"))return gs(m)}return new _r(m)}var yo=function(){function m(){}return function(b){if(!Mi(b))return{};if(Jg)return Jg(b);m.prototype=b;var R=new m;return m.prototype=n,R}}();function Wo(){}function _r(m,b){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}V.templateSettings={escape:ds,evaluate:Lr,interpolate:mn,variable:"",imports:{_:V}},V.prototype=Wo.prototype,V.prototype.constructor=V,_r.prototype=yo(Wo.prototype),_r.prototype.constructor=_r;function Qt(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function rp(){var m=new Qt(this.__wrapped__);return m.__actions__=fs(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=fs(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=fs(this.__views__),m}function vv(){if(this.__filtered__){var m=new Qt(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function yd(){var m=this.__wrapped__.value(),b=this.__dir__,R=_t(m),O=b<0,H=R?m.length:0,$=dR(0,H,this.__views__),Q=$.start,se=$.end,ge=se-Q,Oe=O?se:Q-1,Fe=this.__iteratees__,Ve=Fe.length,ot=0,pt=wi(ge,this.__takeCount__);if(!R||!O&&H==ge&&pt==ge)return XA(m,this.__actions__);var Ot=[];e:for(;ge--&&ot<pt;){Oe+=b;for(var en=-1,Nt=m[Oe];++en<Ve;){var hn=Fe[en],xn=hn.iteratee,Ca=hn.type,Mo=xn(Nt);if(Ca==re)Nt=Mo;else if(!Mo){if(Ca==te)continue e;break e}}Ot[ot++]=Nt}return Ot}Qt.prototype=yo(Wo.prototype),Qt.prototype.constructor=Qt;function Oi(m){var b=-1,R=m==null?0:m.length;for(this.clear();++b<R;){var O=m[b];this.set(O[0],O[1])}}function bv(){this.__data__=Fr?Fr(null):{},this.size=0}function PA(m){var b=this.has(m)&&delete this.__data__[m];return this.size-=b?1:0,b}function TL(m){var b=this.__data__;if(Fr){var R=b[m];return R===l?n:R}return kn.call(b,m)?b[m]:n}function EL(m){var b=this.__data__;return Fr?b[m]!==n:kn.call(b,m)}function IL(m,b){var R=this.__data__;return this.size+=this.has(m)?0:1,R[m]=Fr&&b===n?l:b,this}Oi.prototype.clear=bv,Oi.prototype.delete=PA,Oi.prototype.get=TL,Oi.prototype.has=EL,Oi.prototype.set=IL;function ii(m){var b=-1,R=m==null?0:m.length;for(this.clear();++b<R;){var O=m[b];this.set(O[0],O[1])}}function RS(){this.__data__=[],this.size=0}function op(m){var b=this.__data__,R=sf(b,m);if(R<0)return!1;var O=b.length-1;return R==O?b.pop():pv.call(b,R,1),--this.size,!0}function ap(m){var b=this.__data__,R=sf(b,m);return R<0?n:b[R][1]}function TS(m){return sf(this.__data__,m)>-1}function tf(m,b){var R=this.__data__,O=sf(R,m);return O<0?(++this.size,R.push([m,b])):R[O][1]=b,this}ii.prototype.clear=RS,ii.prototype.delete=op,ii.prototype.get=ap,ii.prototype.has=TS,ii.prototype.set=tf;function Br(m){var b=-1,R=m==null?0:m.length;for(this.clear();++b<R;){var O=m[b];this.set(O[0],O[1])}}function kL(){this.size=0,this.__data__={hash:new Oi,map:new(hs||ii),string:new Oi}}function OA(m){var b=uf(this,m).delete(m);return this.size-=b?1:0,b}function LL(m){return uf(this,m).get(m)}function NA(m){return uf(this,m).has(m)}function vd(m,b){var R=uf(this,m),O=R.size;return R.set(m,b),this.size+=R.size==O?0:1,this}Br.prototype.clear=kL,Br.prototype.delete=OA,Br.prototype.get=LL,Br.prototype.has=NA,Br.prototype.set=vd;function Ol(m){var b=-1,R=m==null?0:m.length;for(this.__data__=new Br;++b<R;)this.add(m[b])}function Cv(m){return this.__data__.set(m,l),this}function FA(m){return this.__data__.has(m)}Ol.prototype.add=Ol.prototype.push=Cv,Ol.prototype.has=FA;function dr(m){var b=this.__data__=new ii(m);this.size=b.size}function _A(){this.__data__=new ii,this.size=0}function wv(m){var b=this.__data__,R=b.delete(m);return this.size=b.size,R}function ES(m){return this.__data__.get(m)}function BA(m){return this.__data__.has(m)}function Sv(m,b){var R=this.__data__;if(R instanceof ii){var O=R.__data__;if(!hs||O.length<s-1)return O.push([m,b]),this.size=++R.size,this;R=this.__data__=new Br(O)}return R.set(m,b),this.size=R.size,this}dr.prototype.clear=_A,dr.prototype.delete=wv,dr.prototype.get=ES,dr.prototype.has=BA,dr.prototype.set=Sv;function IS(m,b){var R=_t(m),O=!R&&$l(m),H=!R&&!O&&nu(m),$=!R&&!O&&!H&&Mf(m),Q=R||O||H||$,se=Q?Oc(m.length,EA):[],ge=se.length;for(var Oe in m)(b||kn.call(m,Oe))&&!(Q&&(Oe=="length"||H&&(Oe=="offset"||Oe=="parent")||$&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||ya(Oe,ge)))&&se.push(Oe);return se}function nf(m){var b=m.length;return b?m[Lv(0,b-1)]:n}function GA(m,b){return Op(fs(m),pa(b,0,m.length))}function zA(m){return Op(fs(m))}function Ua(m,b,R){(R!==n&&!Ur(m[b],R)||R===n&&!(b in m))&&ga(m,b,R)}function bd(m,b,R){var O=m[b];(!(kn.call(m,b)&&Ur(O,R))||R===n&&!(b in m))&&ga(m,b,R)}function sf(m,b){for(var R=m.length;R--;)if(Ur(m[R][0],b))return R;return-1}function Hc(m,b,R,O){return Fl(m,function(H,$,Q){b(O,H,R(H),Q)}),O}function Nl(m,b){return m&&Hr(b,ys(b),m)}function lp(m,b){return m&&Hr(b,Is(b),m)}function ga(m,b,R){b=="__proto__"&&ep?ep(m,b,{configurable:!0,enumerable:!0,value:R,writable:!0}):m[b]=R}function cp(m,b){for(var R=-1,O=b.length,H=xe(O),$=m==null;++R<O;)H[R]=$?n:Kp(m,b[R]);return H}function pa(m,b,R){return m===m&&(R!==n&&(m=m<=R?m:R),b!==n&&(m=m>=b?m:b)),m}function Qs(m,b,R,O,H,$){var Q,se=b&f,ge=b&g,Oe=b&y;if(R&&(Q=H?R(m,O,H,$):R(m)),Q!==n)return Q;if(!Mi(m))return m;var Fe=_t(m);if(Fe){if(Q=nx(m),!se)return fs(m,Q)}else{var Ve=Es(m),ot=Ve==We||Ve==it;if(nu(m))return KS(m,se);if(Ve==st||Ve==Ee||ot&&!H){if(Q=ge||ot?{}:ix(m),!se)return ge?Sp(m,lp(Q,m)):Bv(m,Nl(Q,m))}else{if(!Gn[Ve])return H?m:{};Q=sx(m,Ve,se)}}$||($=new dr);var pt=$.get(m);if(pt)return pt;$.set(m,Q),iT(m)?m.forEach(function(Nt){Q.add(Qs(Nt,b,R,Nt,m,$))}):cb(m)&&m.forEach(function(Nt,hn){Q.set(hn,Qs(Nt,b,R,hn,m,$))});var Ot=Oe?ge?Vv:Hv:ge?Is:ys,en=Fe?n:Ot(m);return Bo(en||m,function(Nt,hn){en&&(hn=Nt,Nt=m[hn]),bd(Q,hn,Qs(Nt,b,R,hn,m,$))}),Q}function HA(m){var b=ys(m);return function(R){return kS(R,m,b)}}function kS(m,b,R){var O=R.length;if(m==null)return!O;for(m=wn(m);O--;){var H=R[O],$=b[H],Q=m[H];if(Q===n&&!(H in m)||!$(Q))return!1}return!0}function Cd(m,b,R){if(typeof m!="function")throw new mo(o);return hf(function(){m.apply(n,R)},b)}function Vc(m,b,R,O){var H=-1,$=sv,Q=!0,se=m.length,ge=[],Oe=b.length;if(!se)return ge;R&&(b=Ci(b,go(R))),O?($=gS,Q=!1):b.length>=s&&($=$h,Q=!1,b=new Ol(b));e:for(;++H<se;){var Fe=m[H],Ve=R==null?Fe:R(Fe);if(Fe=O||Fe!==0?Fe:0,Q&&Ve===Ve){for(var ot=Oe;ot--;)if(b[ot]===Ve)continue e;ge.push(Fe)}else $(b,Ve,O)||ge.push(Fe)}return ge}var Fl=QS(Js),xv=QS(of,!0);function LS(m,b){var R=!0;return Fl(m,function(O,H,$){return R=!!b(O,H,$),R}),R}function ma(m,b,R){for(var O=-1,H=m.length;++O<H;){var $=m[O],Q=b($);if(Q!=null&&(se===n?Q===Q&&!gr(Q):R(Q,se)))var se=Q,ge=$}return ge}function Zt(m,b,R,O){var H=m.length;for(R=Wt(R),R<0&&(R=-R>H?0:H+R),O=O===n||O>H?H:Wt(O),O<0&&(O+=H),O=R>O?0:el(O);R<O;)m[R++]=b;return m}function zn(m,b){var R=[];return Fl(m,function(O,H,$){b(O,H,$)&&R.push(O)}),R}function un(m,b,R,O,H){var $=-1,Q=m.length;for(R||(R=zl),H||(H=[]);++$<Q;){var se=m[$];b>0&&R(se)?b>1?un(se,b-1,R,O,H):kl(H,se):O||(H[H.length]=se)}return H}var rf=Rd(),wd=Rd(!0);function Js(m,b){return m&&rf(m,b,ys)}function of(m,b){return m&&wd(m,b,ys)}function jc(m,b){return ja(b,function(R){return va(m[R])})}function Uo(m,b){b=Bl(b,m);for(var R=0,O=b.length;m!=null&&R<O;)m=m[Fn(b[R++])];return R&&R==O?m:n}function VA(m,b,R){var O=b(m);return _t(m)?O:kl(O,R(m))}function dn(m){return m==null?m===n?vn:Ht:ur&&ur in wn(m)?uR(m):mR(m)}function up(m,b){return m>b}function PS(m,b){return m!=null&&kn.call(m,b)}function jA(m,b){return m!=null&&b in wn(m)}function WA(m,b,R){return m>=wi(b,R)&&m<fi(b,R)}function OS(m,b,R){for(var O=R?gS:sv,H=m[0].length,$=m.length,Q=$,se=xe($),ge=1/0,Oe=[];Q--;){var Fe=m[Q];Q&&b&&(Fe=Ci(Fe,go(b))),ge=wi(Fe.length,ge),se[Q]=!R&&(b||H>=120&&Fe.length>=120)?new Ol(Q&&Fe):n}Fe=m[0];var Ve=-1,ot=se[0];e:for(;++Ve<H&&Oe.length<ge;){var pt=Fe[Ve],Ot=b?b(pt):pt;if(pt=R||pt!==0?pt:0,!(ot?$h(ot,Ot):O(Oe,Ot,R))){for(Q=$;--Q;){var en=se[Q];if(!(en?$h(en,Ot):O(m[Q],Ot,R)))continue e}ot&&ot.push(Ot),Oe.push(pt)}}return Oe}function NS(m,b,R,O){return Js(m,function(H,$,Q){b(O,R(H),$,Q)}),O}function Sd(m,b,R){b=Bl(b,m),m=df(m,b);var O=m==null?m:m[Fn(er(b))];return O==null?n:Or(O,m,R)}function Mv(m){return Ai(m)&&dn(m)==Ee}function Gr(m){return Ai(m)&&dn(m)==bn}function ss(m){return Ai(m)&&dn(m)==je}function xd(m,b,R,O,H){return m===b?!0:m==null||b==null||!Ai(m)&&!Ai(b)?m!==m&&b!==b:dp(m,b,R,O,xd,H)}function dp(m,b,R,O,H,$){var Q=_t(m),se=_t(b),ge=Q?we:Es(m),Oe=se?we:Es(b);ge=ge==Ee?st:ge,Oe=Oe==Ee?st:Oe;var Fe=ge==st,Ve=Oe==st,ot=ge==Oe;if(ot&&nu(m)){if(!nu(b))return!1;Q=!0,Fe=!1}if(ot&&!Fe)return $||($=new dr),Q||Mf(m)?lR(m,b,R,O,H,$):cR(m,b,ge,R,O,H,$);if(!(R&v)){var pt=Fe&&kn.call(m,"__wrapped__"),Ot=Ve&&kn.call(b,"__wrapped__");if(pt||Ot){var en=pt?m.value():m,Nt=Ot?b.value():b;return $||($=new dr),H(en,Nt,R,O,$)}}return ot?($||($=new dr),Ts(m,b,R,O,H,$)):!1}function Dv(m){return Ai(m)&&Es(m)==$e}function hp(m,b,R,O){var H=R.length,$=H,Q=!O;if(m==null)return!$;for(m=wn(m);H--;){var se=R[H];if(Q&&se[2]?se[1]!==m[se[0]]:!(se[0]in m))return!1}for(;++H<$;){se=R[H];var ge=se[0],Oe=m[ge],Fe=se[1];if(Q&&se[2]){if(Oe===n&&!(ge in m))return!1}else{var Ve=new dr;if(O)var ot=O(Oe,Fe,ge,m,b,Ve);if(!(ot===n?xd(Fe,Oe,v|w,O,Ve):ot))return!1}}return!0}function $a(m){if(!Mi(m)||Kv(m))return!1;var b=va(m)?xS:nA;return b.test(Vl(m))}function Av(m){return Ai(m)&&dn(m)==et}function FS(m){return Ai(m)&&Es(m)==lt}function _S(m){return Ai(m)&&Ld(m.length)&&!!Kn[dn(m)]}function BS(m){return typeof m=="function"?m:m==null?ye:typeof m=="object"?_t(m)?Ev(m[0],m[1]):zS(m):Sn(m)}function Rv(m){if(!si(m))return Vo(m);var b=[];for(var R in wn(m))kn.call(m,R)&&R!="constructor"&&b.push(R);return b}function UA(m){if(!Mi(m))return Yc(m);var b=si(m),R=[];for(var O in m)O=="constructor"&&(b||!kn.call(m,O))||R.push(O);return R}function Tv(m,b){return m<b}function GS(m,b){var R=-1,O=ps(m)?xe(m.length):[];return Fl(m,function(H,$,Q){O[++R]=b(H,$,Q)}),O}function zS(m){var b=Wv(m);return b.length==1&&b[0][2]?gR(b[0][0],b[0][1]):function(R){return R===m||hp(R,m,b)}}function Ev(m,b){return $v(m)&&fR(b)?gR(Fn(m),b):function(R){var O=Kp(R,m);return O===n&&O===b?Tf(R,m):xd(b,O,v|w)}}function fp(m,b,R,O,H){m!==b&&rf(b,function($,Q){if(H||(H=new dr),Mi($))PL(m,b,Q,R,fp,O,H);else{var se=O?O(qv(m,Q),$,Q+"",m,b,H):n;se===n&&(se=$),Ua(m,Q,se)}},Is)}function PL(m,b,R,O,H,$,Q){var se=qv(m,R),ge=qv(b,R),Oe=Q.get(ge);if(Oe){Ua(m,R,Oe);return}var Fe=$?$(se,ge,R+"",m,b,Q):n,Ve=Fe===n;if(Ve){var ot=_t(ge),pt=!ot&&nu(ge),Ot=!ot&&!pt&&Mf(ge);Fe=ge,ot||pt||Ot?_t(se)?Fe=se:_i(se)?Fe=fs(se):pt?(Ve=!1,Fe=KS(ge,!0)):Ot?(Ve=!1,Fe=ZS(ge,!0)):Fe=[]:qo(ge)||$l(ge)?(Fe=se,$l(se)?Fe=oT(se):(!Mi(se)||va(se))&&(Fe=ix(ge))):Ve=!1}Ve&&(Q.set(ge,Fe),H(Fe,ge,O,$,Q),Q.delete(ge)),Ua(m,R,Fe)}function HS(m,b){var R=m.length;if(R)return b+=b<0?R:0,ya(b,R)?m[b]:n}function VS(m,b,R){b.length?b=Ci(b,function($){return _t($)?function(Q){return Uo(Q,$.length===1?$[0]:$)}:$}):b=[ye];var O=-1;b=Ci(b,go(Ct()));var H=GS(m,function($,Q,se){var ge=Ci(b,function(Oe){return Oe($)});return{criteria:ge,index:++O,value:$}});return CA(H,function($,Q){return tR($,Q,R)})}function $A(m,b){return Iv(m,b,function(R,O){return Tf(m,O)})}function Iv(m,b,R){for(var O=-1,H=b.length,$={};++O<H;){var Q=b[O],se=Uo(m,Q);R(se,Q)&&lf($,Bl(Q,m),se)}return $}function YA(m){return function(b){return Uo(b,m)}}function kv(m,b,R,O){var H=O?yS:Wh,$=-1,Q=b.length,se=m;for(m===b&&(b=fs(b)),R&&(se=Ci(m,go(R)));++$<Q;)for(var ge=0,Oe=b[$],Fe=R?R(Oe):Oe;(ge=H(se,Fe,ge,O))>-1;)se!==m&&pv.call(se,ge,1),pv.call(m,ge,1);return m}function jS(m,b){for(var R=m?b.length:0,O=R-1;R--;){var H=b[R];if(R==O||H!==$){var $=H;ya(H)?pv.call(m,H,1):yp(m,H)}}return m}function Lv(m,b){return m+Ll(DS()*(b-m+1))}function KA(m,b,R,O){for(var H=-1,$=fi(Jh((b-m)/(R||1)),0),Q=xe($);$--;)Q[O?$:++H]=m,m+=R;return Q}function WS(m,b){var R="";if(!m||b<1||b>Z)return R;do b%2&&(R+=m),b=Ll(b/2),b&&(m+=m);while(b);return R}function Kt(m,b){return Lp(rx(m,b,ye),m+"")}function af(m){return nf(If(m))}function Pv(m,b){var R=If(m);return Op(R,pa(b,0,R.length))}function lf(m,b,R,O){if(!Mi(m))return m;b=Bl(b,m);for(var H=-1,$=b.length,Q=$-1,se=m;se!=null&&++H<$;){var ge=Fn(b[H]),Oe=R;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return m;if(H!=Q){var Fe=se[ge];Oe=O?O(Fe,ge,se):n,Oe===n&&(Oe=Mi(Fe)?Fe:ya(b[H+1])?[]:{})}bd(se,ge,Oe),se=se[ge]}return m}var gp=ef?function(m,b){return ef.set(m,b),m}:ye,pp=ep?function(m,b){return ep(m,"toString",{configurable:!0,enumerable:!1,value:me(b),writable:!0})}:ye;function qA(m){return Op(If(m))}function vo(m,b,R){var O=-1,H=m.length;b<0&&(b=-b>H?0:H+b),R=R>H?H:R,R<0&&(R+=H),H=b>R?0:R-b>>>0,b>>>=0;for(var $=xe(H);++O<H;)$[O]=m[O+b];return $}function ZA(m,b){var R;return Fl(m,function(O,H,$){return R=b(O,H,$),!R}),!!R}function mp(m,b,R){var O=0,H=m==null?O:m.length;if(typeof b=="number"&&b===b&&H<=J){for(;O<H;){var $=O+H>>>1,Q=m[$];Q!==null&&!gr(Q)&&(R?Q<=b:Q<b)?O=$+1:H=$}return H}return Ov(m,b,ye,R)}function Ov(m,b,R,O){var H=0,$=m==null?0:m.length;if($===0)return 0;b=R(b);for(var Q=b!==b,se=b===null,ge=gr(b),Oe=b===n;H<$;){var Fe=Ll((H+$)/2),Ve=R(m[Fe]),ot=Ve!==n,pt=Ve===null,Ot=Ve===Ve,en=gr(Ve);if(Q)var Nt=O||Ot;else Oe?Nt=Ot&&(O||ot):se?Nt=Ot&&ot&&(O||!pt):ge?Nt=Ot&&ot&&!pt&&(O||!en):pt||en?Nt=!1:Nt=O?Ve<=b:Ve<b;Nt?H=Fe+1:$=Fe}return wi($,ve)}function US(m,b){for(var R=-1,O=m.length,H=0,$=[];++R<O;){var Q=m[R],se=b?b(Q):Q;if(!R||!Ur(se,ge)){var ge=se;$[H++]=Q===0?0:Q}}return $}function Nv(m){return typeof m=="number"?m:gr(m)?U:+m}function zr(m){if(typeof m=="string")return m;if(_t(m))return Ci(m,zr)+"";if(gr(m))return zc?zc.call(m):"";var b=m+"";return b=="0"&&1/m==-ne?"-0":b}function _l(m,b,R){var O=-1,H=sv,$=m.length,Q=!0,se=[],ge=se;if(R)Q=!1,H=gS;else if($>=s){var Oe=b?null:oR(m);if(Oe)return hv(Oe);Q=!1,H=$h,ge=new Ol}else ge=b?[]:se;e:for(;++O<$;){var Fe=m[O],Ve=b?b(Fe):Fe;if(Fe=R||Fe!==0?Fe:0,Q&&Ve===Ve){for(var ot=ge.length;ot--;)if(ge[ot]===Ve)continue e;b&&ge.push(Ve),se.push(Fe)}else H(ge,Ve,R)||(ge!==se&&ge.push(Ve),se.push(Fe))}return se}function yp(m,b){return b=Bl(b,m),m=df(m,b),m==null||delete m[Fn(er(b))]}function $S(m,b,R,O){return lf(m,b,R(Uo(m,b)),O)}function vp(m,b,R,O){for(var H=m.length,$=O?H:-1;(O?$--:++$<H)&&b(m[$],$,m););return R?vo(m,O?0:$,O?$+1:H):vo(m,O?$+1:0,O?H:$)}function XA(m,b){var R=m;return R instanceof Qt&&(R=R.value()),pS(b,function(O,H){return H.func.apply(H.thisArg,kl([O],H.args))},R)}function bp(m,b,R){var O=m.length;if(O<2)return O?_l(m[0]):[];for(var H=-1,$=xe(O);++H<O;)for(var Q=m[H],se=-1;++se<O;)se!=H&&($[H]=Vc($[H]||Q,m[se],b,R));return _l(un($,1),b,R)}function YS(m,b,R){for(var O=-1,H=m.length,$=b.length,Q={};++O<H;){var se=O<$?b[O]:n;R(Q,m[O],se)}return Q}function Fv(m){return _i(m)?m:[]}function Cp(m){return typeof m=="function"?m:ye}function Bl(m,b){return _t(m)?m:$v(m,b)?[m]:Za(Ln(m))}var QA=Kt;function Wc(m,b,R){var O=m.length;return R=R===n?O:R,!b&&R>=O?m:vo(m,b,R)}var JA=mv||function(m){return ji.clearTimeout(m)};function KS(m,b){if(b)return m.slice();var R=m.length,O=dd?dd(R):new m.constructor(R);return m.copy(O),O}function Md(m){var b=new m.constructor(m.byteLength);return new Qh(b).set(new Qh(m)),b}function qS(m,b){var R=b?Md(m.buffer):m.buffer;return new m.constructor(R,m.byteOffset,m.byteLength)}function _v(m){var b=new m.constructor(m.source,Nh.exec(m));return b.lastIndex=m.lastIndex,b}function eR(m){return md?wn(md.call(m)):{}}function ZS(m,b){var R=b?Md(m.buffer):m.buffer;return new m.constructor(R,m.byteOffset,m.length)}function wp(m,b){if(m!==b){var R=m!==n,O=m===null,H=m===m,$=gr(m),Q=b!==n,se=b===null,ge=b===b,Oe=gr(b);if(!se&&!Oe&&!$&&m>b||$&&Q&&ge&&!se&&!Oe||O&&Q&&ge||!R&&ge||!H)return 1;if(!O&&!$&&!Oe&&m<b||Oe&&R&&H&&!O&&!$||se&&R&&H||!Q&&H||!ge)return-1}return 0}function tR(m,b,R){for(var O=-1,H=m.criteria,$=b.criteria,Q=H.length,se=R.length;++O<Q;){var ge=wp(H[O],$[O]);if(ge){if(O>=se)return ge;var Oe=R[O];return ge*(Oe=="desc"?-1:1)}}return m.index-b.index}function XS(m,b,R,O){for(var H=-1,$=m.length,Q=R.length,se=-1,ge=b.length,Oe=fi($-Q,0),Fe=xe(ge+Oe),Ve=!O;++se<ge;)Fe[se]=b[se];for(;++H<Q;)(Ve||H<$)&&(Fe[R[H]]=m[H]);for(;Oe--;)Fe[se++]=m[H++];return Fe}function nR(m,b,R,O){for(var H=-1,$=m.length,Q=-1,se=R.length,ge=-1,Oe=b.length,Fe=fi($-se,0),Ve=xe(Fe+Oe),ot=!O;++H<Fe;)Ve[H]=m[H];for(var pt=H;++ge<Oe;)Ve[pt+ge]=b[ge];for(;++Q<se;)(ot||H<$)&&(Ve[pt+R[Q]]=m[H++]);return Ve}function fs(m,b){var R=-1,O=m.length;for(b||(b=xe(O));++R<O;)b[R]=m[R];return b}function Hr(m,b,R,O){var H=!R;R||(R={});for(var $=-1,Q=b.length;++$<Q;){var se=b[$],ge=O?O(R[se],m[se],se,R,m):n;ge===n&&(ge=m[se]),H?ga(R,se,ge):bd(R,se,ge)}return R}function Bv(m,b){return Hr(m,Tp(m),b)}function Sp(m,b){return Hr(m,Uv(m),b)}function Dd(m,b){return function(R,O){var H=_t(R)?mL:Hc,$=b?b():{};return H(R,m,Ct(O,2),$)}}function Ad(m){return Kt(function(b,R){var O=-1,H=R.length,$=H>1?R[H-1]:n,Q=H>2?R[2]:n;for($=m.length>3&&typeof $=="function"?(H--,$):n,Q&&fr(R[0],R[1],Q)&&($=H<3?n:$,H=1),b=wn(b);++O<H;){var se=R[O];se&&m(b,se,O,$)}return b})}function QS(m,b){return function(R,O){if(R==null)return R;if(!ps(R))return m(R,O);for(var H=R.length,$=b?H:-1,Q=wn(R);(b?$--:++$<H)&&O(Q[$],$,Q)!==!1;);return R}}function Rd(m){return function(b,R,O){for(var H=-1,$=wn(b),Q=O(b),se=Q.length;se--;){var ge=Q[m?se:++H];if(R($[ge],ge,$)===!1)break}return b}}function iR(m,b,R){var O=b&S,H=$o(m);function $(){var Q=this&&this!==ji&&this instanceof $?H:m;return Q.apply(O?R:this,arguments)}return $}function bo(m){return function(b){b=Ln(b);var R=Nc(b)?Go(b):n,O=R?R[0]:b.charAt(0),H=R?Wc(R,1).join(""):b.slice(1);return O[m]()+H}}function hr(m){return function(b){return pS(D(Yl(b).replace($g,"")),m,"")}}function $o(m){return function(){var b=arguments;switch(b.length){case 0:return new m;case 1:return new m(b[0]);case 2:return new m(b[0],b[1]);case 3:return new m(b[0],b[1],b[2]);case 4:return new m(b[0],b[1],b[2],b[3]);case 5:return new m(b[0],b[1],b[2],b[3],b[4]);case 6:return new m(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new m(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var R=yo(m.prototype),O=m.apply(R,b);return Mi(O)?O:R}}function sR(m,b,R){var O=$o(m);function H(){for(var $=arguments.length,Q=xe($),se=$,ge=Ed(H);se--;)Q[se]=arguments[se];var Oe=$<3&&Q[0]!==ge&&Q[$-1]!==ge?[]:Fc(Q,ge);if($-=Oe.length,$<R)return JS(m,b,Ni,H.placeholder,n,Q,Oe,n,n,R-$);var Fe=this&&this!==ji&&this instanceof H?O:m;return Or(Fe,this,Q)}return H}function Gl(m){return function(b,R,O){var H=wn(b);if(!ps(b)){var $=Ct(R,3);b=ys(b),R=function(se){return $(H[se],se,H)}}var Q=m(b,R,O);return Q>-1?H[$?b[Q]:Q]:n}}function Ya(m){return gi(function(b){var R=b.length,O=R,H=_r.prototype.thru;for(m&&b.reverse();O--;){var $=b[O];if(typeof $!="function")throw new mo(o);if(H&&!Q&&Rp($)=="wrapper")var Q=new _r([],!0)}for(O=Q?O:R;++O<R;){$=b[O];var se=Rp($),ge=se=="wrapper"?jv($):n;ge&&Yv(ge[0])&&ge[1]==(N|A|I|B)&&!ge[4].length&&ge[9]==1?Q=Q[Rp(ge[0])].apply(Q,ge[3]):Q=$.length==1&&Yv($)?Q[se]():Q.thru($)}return function(){var Oe=arguments,Fe=Oe[0];if(Q&&Oe.length==1&&_t(Fe))return Q.plant(Fe).value();for(var Ve=0,ot=R?b[Ve].apply(this,Oe):Fe;++Ve<R;)ot=b[Ve].call(this,ot);return ot}})}function Ni(m,b,R,O,H,$,Q,se,ge,Oe){var Fe=b&N,Ve=b&S,ot=b&x,pt=b&(A|k),Ot=b&z,en=ot?n:$o(m);function Nt(){for(var hn=arguments.length,xn=xe(hn),Ca=hn;Ca--;)xn[Ca]=arguments[Ca];if(pt)var Mo=Ed(Nt),wa=xL(xn,Mo);if(O&&(xn=XS(xn,O,H,pt)),$&&(xn=nR(xn,$,Q,pt)),hn-=wa,pt&&hn<Oe){var vs=Fc(xn,Mo);return JS(m,b,Ni,Nt.placeholder,R,xn,vs,se,ge,Oe-hn)}var Kl=Ve?R:this,Pd=ot?Kl[m]:m;return hn=xn.length,se?xn=qa(xn,se):Ot&&hn>1&&xn.reverse(),Fe&&ge<hn&&(xn.length=ge),this&&this!==ji&&this instanceof Nt&&(Pd=en||$o(Pd)),Pd.apply(Kl,xn)}return Nt}function xp(m,b){return function(R,O){return NS(R,m,b(O),{})}}function cf(m,b){return function(R,O){var H;if(R===n&&O===n)return b;if(R!==n&&(H=R),O!==n){if(H===n)return O;typeof R=="string"||typeof O=="string"?(R=zr(R),O=zr(O)):(R=Nv(R),O=Nv(O)),H=m(R,O)}return H}}function Mp(m){return gi(function(b){return b=Ci(b,go(Ct())),Kt(function(R){var O=this;return m(b,function(H){return Or(H,O,R)})})})}function Dp(m,b){b=b===n?" ":zr(b);var R=b.length;if(R<2)return R?WS(b,m):b;var O=WS(b,Jh(m/Wa(b)));return Nc(b)?Wc(Go(O),0,m).join(""):O.slice(0,m)}function rR(m,b,R,O){var H=b&S,$=$o(m);function Q(){for(var se=-1,ge=arguments.length,Oe=-1,Fe=O.length,Ve=xe(Fe+ge),ot=this&&this!==ji&&this instanceof Q?$:m;++Oe<Fe;)Ve[Oe]=O[Oe];for(;ge--;)Ve[Oe++]=arguments[++se];return Or(ot,H?R:this,Ve)}return Q}function Uc(m){return function(b,R,O){return O&&typeof O!="number"&&fr(b,R,O)&&(R=O=n),b=Ja(b),R===n?(R=b,b=0):R=Ja(R),O=O===n?b<R?1:-1:Ja(O),KA(b,R,O,m)}}function Td(m){return function(b,R){return typeof b=="string"&&typeof R=="string"||(b=Zo(b),R=Zo(R)),m(b,R)}}function JS(m,b,R,O,H,$,Q,se,ge,Oe){var Fe=b&A,Ve=Fe?Q:n,ot=Fe?n:Q,pt=Fe?$:n,Ot=Fe?n:$;b|=Fe?I:P,b&=~(Fe?P:I),b&M||(b&=-4);var en=[m,b,H,pt,Ve,Ot,ot,se,ge,Oe],Nt=R.apply(n,en);return Yv(m)&&Zv(Nt,en),Nt.placeholder=O,Xv(Nt,m,b)}function Gv(m){var b=is[m];return function(R,O){if(R=Zo(R),O=O==null?0:wi(Wt(O),292),O&&tp(R)){var H=(Ln(R)+"e").split("e"),$=b(H[0]+"e"+(+H[1]+O));return H=(Ln($)+"e").split("e"),+(H[0]+"e"+(+H[1]-O))}return b(R)}}var oR=cn&&1/hv(new cn([,-0]))[1]==ne?function(m){return new cn(m)}:ut;function Ap(m){return function(b){var R=Es(b);return R==$e?dv(b):R==lt?ML(b):SL(b,m(b))}}function Ka(m,b,R,O,H,$,Q,se){var ge=b&x;if(!ge&&typeof m!="function")throw new mo(o);var Oe=O?O.length:0;if(Oe||(b&=-97,O=H=n),Q=Q===n?Q:fi(Wt(Q),0),se=se===n?se:Wt(se),Oe-=H?H.length:0,b&P){var Fe=O,Ve=H;O=H=n}var ot=ge?n:jv(m),pt=[m,b,R,O,H,Fe,Ve,$,Q,se];if(ot&&kp(pt,ot),m=pt[0],b=pt[1],R=pt[2],O=pt[3],H=pt[4],se=pt[9]=pt[9]===n?ge?0:m.length:fi(pt[9]-Oe,0),!se&&b&(A|k)&&(b&=-25),!b||b==S)var Ot=iR(m,b,R);else b==A||b==k?Ot=sR(m,b,se):(b==I||b==(S|I))&&!H.length?Ot=rR(m,b,R,O):Ot=Ni.apply(n,pt);var en=ot?gp:Zv;return Xv(en(Ot,pt),m,b)}function zv(m,b,R,O){return m===n||Ur(m,Zh[R])&&!kn.call(O,R)?b:m}function ex(m,b,R,O,H,$){return Mi(m)&&Mi(b)&&($.set(b,m),fp(m,b,n,ex,$),$.delete(b)),m}function aR(m){return qo(m)?n:m}function lR(m,b,R,O,H,$){var Q=R&v,se=m.length,ge=b.length;if(se!=ge&&!(Q&&ge>se))return!1;var Oe=$.get(m),Fe=$.get(b);if(Oe&&Fe)return Oe==b&&Fe==m;var Ve=-1,ot=!0,pt=R&w?new Ol:n;for($.set(m,b),$.set(b,m);++Ve<se;){var Ot=m[Ve],en=b[Ve];if(O)var Nt=Q?O(en,Ot,Ve,b,m,$):O(Ot,en,Ve,m,b,$);if(Nt!==n){if(Nt)continue;ot=!1;break}if(pt){if(!mS(b,function(hn,xn){if(!$h(pt,xn)&&(Ot===hn||H(Ot,hn,R,O,$)))return pt.push(xn)})){ot=!1;break}}else if(!(Ot===en||H(Ot,en,R,O,$))){ot=!1;break}}return $.delete(m),$.delete(b),ot}function cR(m,b,R,O,H,$,Q){switch(R){case Pt:if(m.byteLength!=b.byteLength||m.byteOffset!=b.byteOffset)return!1;m=m.buffer,b=b.buffer;case bn:return!(m.byteLength!=b.byteLength||!$(new Qh(m),new Qh(b)));case Ce:case je:case mt:return Ur(+m,+b);case Ge:return m.name==b.name&&m.message==b.message;case et:case vt:return m==b+"";case $e:var se=dv;case lt:var ge=O&v;if(se||(se=hv),m.size!=b.size&&!ge)return!1;var Oe=Q.get(m);if(Oe)return Oe==b;O|=w,Q.set(m,b);var Fe=lR(se(m),se(b),O,H,$,Q);return Q.delete(m),Fe;case Vt:if(md)return md.call(m)==md.call(b)}return!1}function Ts(m,b,R,O,H,$){var Q=R&v,se=Hv(m),ge=se.length,Oe=Hv(b),Fe=Oe.length;if(ge!=Fe&&!Q)return!1;for(var Ve=ge;Ve--;){var ot=se[Ve];if(!(Q?ot in b:kn.call(b,ot)))return!1}var pt=$.get(m),Ot=$.get(b);if(pt&&Ot)return pt==b&&Ot==m;var en=!0;$.set(m,b),$.set(b,m);for(var Nt=Q;++Ve<ge;){ot=se[Ve];var hn=m[ot],xn=b[ot];if(O)var Ca=Q?O(xn,hn,ot,b,m,$):O(hn,xn,ot,m,b,$);if(!(Ca===n?hn===xn||H(hn,xn,R,O,$):Ca)){en=!1;break}Nt||(Nt=ot=="constructor")}if(en&&!Nt){var Mo=m.constructor,wa=b.constructor;Mo!=wa&&"constructor"in m&&"constructor"in b&&!(typeof Mo=="function"&&Mo instanceof Mo&&typeof wa=="function"&&wa instanceof wa)&&(en=!1)}return $.delete(m),$.delete(b),en}function gi(m){return Lp(rx(m,n,jr),m+"")}function Hv(m){return VA(m,ys,Tp)}function Vv(m){return VA(m,Is,Uv)}var jv=ef?function(m){return ef.get(m)}:ut;function Rp(m){for(var b=m.name+"",R=jo[b],O=kn.call(jo,b)?R.length:0;O--;){var H=R[O],$=H.func;if($==null||$==m)return H.name}return b}function Ed(m){var b=kn.call(V,"placeholder")?V:m;return b.placeholder}function Ct(){var m=V.iteratee||Tt;return m=m===Tt?BS:m,arguments.length?m(arguments[0],arguments[1]):m}function uf(m,b){var R=m.__data__;return Hl(b)?R[typeof b=="string"?"string":"hash"]:R.map}function Wv(m){for(var b=ys(m),R=b.length;R--;){var O=b[R],H=m[O];b[R]=[O,H,fR(H)]}return b}function $c(m,b){var R=bS(m,b);return $a(R)?R:n}function uR(m){var b=kn.call(m,ur),R=m[ur];try{m[ur]=n;var O=!0}catch{}var H=cr.call(m);return O&&(b?m[ur]=R:delete m[ur]),H}var Tp=Bc?function(m){return m==null?[]:(m=wn(m),ja(Bc(m),function(b){return hd.call(m,b)}))}:mP,Uv=Bc?function(m){for(var b=[];m;)kl(b,Tp(m)),m=Qg(m);return b}:mP,Es=dn;(np&&Es(new np(new ArrayBuffer(1)))!=Pt||hs&&Es(new hs)!=$e||Si&&Es(Si.resolve())!=St||cn&&Es(new cn)!=lt||fa&&Es(new fa)!=ln)&&(Es=function(m){var b=dn(m),R=b==st?m.constructor:n,O=R?Vl(R):"";if(O)switch(O){case IA:return Pt;case kA:return $e;case ip:return St;case sp:return lt;case LA:return ln}return b});function dR(m,b,R){for(var O=-1,H=R.length;++O<H;){var $=R[O],Q=$.size;switch($.type){case"drop":m+=Q;break;case"dropRight":b-=Q;break;case"take":b=wi(b,m+Q);break;case"takeRight":m=fi(m,b-Q);break}}return{start:m,end:b}}function tx(m){var b=m.match(hL);return b?b[1].split(tA):[]}function Ep(m,b,R){b=Bl(b,m);for(var O=-1,H=b.length,$=!1;++O<H;){var Q=Fn(b[O]);if(!($=m!=null&&R(m,Q)))break;m=m[Q]}return $||++O!=H?$:(H=m==null?0:m.length,!!H&&Ld(H)&&ya(Q,H)&&(_t(m)||$l(m)))}function nx(m){var b=m.length,R=new m.constructor(b);return b&&typeof m[0]=="string"&&kn.call(m,"index")&&(R.index=m.index,R.input=m.input),R}function ix(m){return typeof m.constructor=="function"&&!si(m)?yo(Qg(m)):{}}function sx(m,b,R){var O=m.constructor;switch(b){case bn:return Md(m);case Ce:case je:return new O(+m);case Pt:return qS(m,R);case tn:case co:case El:case Xs:case Ir:case Gs:case kr:case ar:case uo:return ZS(m,R);case $e:return new O;case mt:case vt:return new O(m);case et:return _v(m);case lt:return new O;case Vt:return eR(m)}}function hR(m,b){var R=b.length;if(!R)return m;var O=R-1;return b[O]=(R>1?"& ":"")+b[O],b=b.join(R>2?", ":" "),m.replace(dL,`{
/* [wrapped with `+b+`] */
`)}function zl(m){return _t(m)||$l(m)||!!(Nr&&m&&m[Nr])}function ya(m,b){var R=typeof m;return b=b??Z,!!b&&(R=="number"||R!="symbol"&&ad.test(m))&&m>-1&&m%1==0&&m<b}function fr(m,b,R){if(!Mi(R))return!1;var O=typeof b;return(O=="number"?ps(R)&&ya(b,R.length):O=="string"&&b in R)?Ur(R[b],m):!1}function $v(m,b){if(_t(m))return!1;var R=typeof m;return R=="number"||R=="symbol"||R=="boolean"||m==null||gr(m)?!0:Yw.test(m)||!Uy.test(m)||b!=null&&m in wn(b)}function Hl(m){var b=typeof m;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?m!=="__proto__":m===null}function Yv(m){var b=Rp(m),R=V[b];if(typeof R!="function"||!(b in Qt.prototype))return!1;if(m===R)return!0;var O=jv(R);return!!O&&m===O[0]}function Kv(m){return!!SS&&SS in m}var Ip=Zg?va:yP;function si(m){var b=m&&m.constructor,R=typeof b=="function"&&b.prototype||Zh;return m===R}function fR(m){return m===m&&!Mi(m)}function gR(m,b){return function(R){return R==null?!1:R[m]===b&&(b!==n||m in wn(R))}}function pR(m){var b=Vp(m,function(O){return R.size===c&&R.clear(),O}),R=b.cache;return b}function kp(m,b){var R=m[1],O=b[1],H=R|O,$=H<(S|x|N),Q=O==N&&R==A||O==N&&R==B&&m[7].length<=b[8]||O==(N|B)&&b[7].length<=b[8]&&R==A;if(!($||Q))return m;O&S&&(m[2]=b[2],H|=R&S?0:M);var se=b[3];if(se){var ge=m[3];m[3]=ge?XS(ge,se,b[4]):se,m[4]=ge?Fc(m[3],d):b[4]}return se=b[5],se&&(ge=m[5],m[5]=ge?nR(ge,se,b[6]):se,m[6]=ge?Fc(m[5],d):b[6]),se=b[7],se&&(m[7]=se),O&N&&(m[8]=m[8]==null?b[8]:wi(m[8],b[8])),m[9]==null&&(m[9]=b[9]),m[0]=b[0],m[1]=H,m}function Yc(m){var b=[];if(m!=null)for(var R in wn(m))b.push(R);return b}function mR(m){return cr.call(m)}function rx(m,b,R){return b=fi(b===n?m.length-1:b,0),function(){for(var O=arguments,H=-1,$=fi(O.length-b,0),Q=xe($);++H<$;)Q[H]=O[b+H];H=-1;for(var se=xe(b+1);++H<b;)se[H]=O[H];return se[b]=R(Q),Or(m,this,se)}}function df(m,b){return b.length<2?m:Uo(m,vo(b,0,-1))}function qa(m,b){for(var R=m.length,O=wi(b.length,R),H=fs(m);O--;){var $=b[O];m[O]=ya($,R)?H[$]:n}return m}function qv(m,b){if(!(b==="constructor"&&typeof m[b]=="function")&&b!="__proto__")return m[b]}var Zv=Pp(gp),hf=MS||function(m,b){return ji.setTimeout(m,b)},Lp=Pp(pp);function Xv(m,b,R){var O=b+"";return Lp(m,hR(O,yR(tx(O),R)))}function Pp(m){var b=0,R=0;return function(){var O=Pl(),H=q-(O-R);if(R=O,H>0){if(++b>=K)return arguments[0]}else b=0;return m.apply(n,arguments)}}function Op(m,b){var R=-1,O=m.length,H=O-1;for(b=b===n?O:b;++R<b;){var $=Lv(R,H),Q=m[$];m[$]=m[R],m[R]=Q}return m.length=b,m}var Za=pR(function(m){var b=[];return m.charCodeAt(0)===46&&b.push(""),m.replace(Ha,function(R,O,H,$){b.push(H?$.replace(Ph,"$1"):O||R)}),b});function Fn(m){if(typeof m=="string"||gr(m))return m;var b=m+"";return b=="0"&&1/m==-ne?"-0":b}function Vl(m){if(m!=null){try{return Xg.call(m)}catch{}try{return m+""}catch{}}return""}function yR(m,b){return Bo(he,function(R){var O="_."+R[0];b&R[1]&&!sv(m,O)&&m.push(O)}),m.sort()}function gs(m){if(m instanceof Qt)return m.clone();var b=new _r(m.__wrapped__,m.__chain__);return b.__actions__=fs(m.__actions__),b.__index__=m.__index__,b.__values__=m.__values__,b}function OL(m,b,R){(R?fr(m,b,R):b===n)?b=1:b=fi(Wt(b),0);var O=m==null?0:m.length;if(!O||b<1)return[];for(var H=0,$=0,Q=xe(Jh(O/b));H<O;)Q[$++]=vo(m,H,H+=b);return Q}function vR(m){for(var b=-1,R=m==null?0:m.length,O=0,H=[];++b<R;){var $=m[b];$&&(H[O++]=$)}return H}function bR(){var m=arguments.length;if(!m)return[];for(var b=xe(m-1),R=arguments[0],O=m;O--;)b[O-1]=arguments[O];return kl(_t(R)?fs(R):[R],un(b,1))}var xi=Kt(function(m,b){return _i(m)?Vc(m,un(b,1,_i,!0)):[]}),Vr=Kt(function(m,b){var R=er(b);return _i(R)&&(R=n),_i(m)?Vc(m,un(b,1,_i,!0),Ct(R,2)):[]}),jl=Kt(function(m,b){var R=er(b);return _i(R)&&(R=n),_i(m)?Vc(m,un(b,1,_i,!0),n,R):[]});function CR(m,b,R){var O=m==null?0:m.length;return O?(b=R||b===n?1:Wt(b),vo(m,b<0?0:b,O)):[]}function wR(m,b,R){var O=m==null?0:m.length;return O?(b=R||b===n?1:Wt(b),b=O-b,vo(m,0,b<0?0:b)):[]}function NL(m,b){return m&&m.length?vp(m,Ct(b,3),!0,!0):[]}function ox(m,b){return m&&m.length?vp(m,Ct(b,3),!0):[]}function Co(m,b,R,O){var H=m==null?0:m.length;return H?(R&&typeof R!="number"&&fr(m,b,R)&&(R=0,O=H),Zt(m,b,R,O)):[]}function Yo(m,b,R){var O=m==null?0:m.length;if(!O)return-1;var H=R==null?0:Wt(R);return H<0&&(H=fi(O+H,0)),rv(m,Ct(b,3),H)}function ax(m,b,R){var O=m==null?0:m.length;if(!O)return-1;var H=O-1;return R!==n&&(H=Wt(R),H=R<0?fi(O+H,0):wi(H,O-1)),rv(m,Ct(b,3),H,!0)}function jr(m){var b=m==null?0:m.length;return b?un(m,1):[]}function SR(m){var b=m==null?0:m.length;return b?un(m,ne):[]}function Kc(m,b){var R=m==null?0:m.length;return R?(b=b===n?1:Wt(b),un(m,b)):[]}function Id(m){for(var b=-1,R=m==null?0:m.length,O={};++b<R;){var H=m[b];O[H[0]]=H[1]}return O}function Wl(m){return m&&m.length?m[0]:n}function lx(m,b,R){var O=m==null?0:m.length;if(!O)return-1;var H=R==null?0:Wt(R);return H<0&&(H=fi(O+H,0)),Wh(m,b,H)}function cx(m){var b=m==null?0:m.length;return b?vo(m,0,-1):[]}var Xa=Kt(function(m){var b=Ci(m,Fv);return b.length&&b[0]===m[0]?OS(b):[]}),xR=Kt(function(m){var b=er(m),R=Ci(m,Fv);return b===er(R)?b=n:R.pop(),R.length&&R[0]===m[0]?OS(R,Ct(b,2)):[]}),ff=Kt(function(m){var b=er(m),R=Ci(m,Fv);return b=typeof b=="function"?b:n,b&&R.pop(),R.length&&R[0]===m[0]?OS(R,n,b):[]});function Np(m,b){return m==null?"":Ho.call(m,b)}function er(m){var b=m==null?0:m.length;return b?m[b-1]:n}function gf(m,b,R){var O=m==null?0:m.length;if(!O)return-1;var H=O;return R!==n&&(H=Wt(R),H=H<0?fi(O+H,0):wi(H,O-1)),b===b?po(m,b,H):rv(m,Uh,H,!0)}function MR(m,b){return m&&m.length?HS(m,Wt(b)):n}var DR=Kt(pf);function pf(m,b){return m&&m.length&&b&&b.length?kv(m,b):m}function AR(m,b,R){return m&&m.length&&b&&b.length?kv(m,b,Ct(R,2)):m}function Qv(m,b,R){return m&&m.length&&b&&b.length?kv(m,b,n,R):m}var RR=gi(function(m,b){var R=m==null?0:m.length,O=cp(m,b);return jS(m,Ci(b,function(H){return ya(H,R)?+H:H}).sort(wp)),O});function FL(m,b){var R=[];if(!(m&&m.length))return R;var O=-1,H=[],$=m.length;for(b=Ct(b,3);++O<$;){var Q=m[O];b(Q,O,m)&&(R.push(Q),H.push(O))}return jS(m,H),R}function ux(m){return m==null?m:AS.call(m)}function Hn(m,b,R){var O=m==null?0:m.length;return O?(R&&typeof R!="number"&&fr(m,b,R)?(b=0,R=O):(b=b==null?0:Wt(b),R=R===n?O:Wt(R)),vo(m,b,R)):[]}function hi(m,b){return mp(m,b)}function nn(m,b,R){return Ov(m,b,Ct(R,2))}function yn(m,b){var R=m==null?0:m.length;if(R){var O=mp(m,b);if(O<R&&Ur(m[O],b))return O}return-1}function Vn(m,b){return mp(m,b,!0)}function wo(m,b,R){return Ov(m,b,Ct(R,2),!0)}function qc(m,b){var R=m==null?0:m.length;if(R){var O=mp(m,b,!0)-1;if(Ur(m[O],b))return O}return-1}function mf(m){return m&&m.length?US(m):[]}function dx(m,b){return m&&m.length?US(m,Ct(b,2)):[]}function Ul(m){var b=m==null?0:m.length;return b?vo(m,1,b):[]}function Fi(m,b,R){return m&&m.length?(b=R||b===n?1:Wt(b),vo(m,0,b<0?0:b)):[]}function Zc(m,b,R){var O=m==null?0:m.length;return O?(b=R||b===n?1:Wt(b),b=O-b,vo(m,b<0?0:b,O)):[]}function kd(m,b){return m&&m.length?vp(m,Ct(b,3),!1,!0):[]}function hx(m,b){return m&&m.length?vp(m,Ct(b,3)):[]}var Ko=Kt(function(m){return _l(un(m,1,_i,!0))}),yf=Kt(function(m){var b=er(m);return _i(b)&&(b=n),_l(un(m,1,_i,!0),Ct(b,2))}),Fp=Kt(function(m){var b=er(m);return b=typeof b=="function"?b:n,_l(un(m,1,_i,!0),n,b)});function Wr(m){return m&&m.length?_l(m):[]}function fx(m,b){return m&&m.length?_l(m,Ct(b,2)):[]}function gx(m,b){return b=typeof b=="function"?b:n,m&&m.length?_l(m,n,b):[]}function vf(m){if(!(m&&m.length))return[];var b=0;return m=ja(m,function(R){if(_i(R))return b=fi(R.length,b),!0}),Oc(b,function(R){return Ci(m,ov(R))})}function _p(m,b){if(!(m&&m.length))return[];var R=vf(m);return b==null?R:Ci(R,function(O){return Or(b,n,O)})}var Xc=Kt(function(m,b){return _i(m)?Vc(m,b):[]}),zs=Kt(function(m){return bp(ja(m,_i))}),Qc=Kt(function(m){var b=er(m);return _i(b)&&(b=n),bp(ja(m,_i),Ct(b,2))}),bf=Kt(function(m){var b=er(m);return b=typeof b=="function"?b:n,bp(ja(m,_i),n,b)}),Cf=Kt(vf);function px(m,b){return YS(m||[],b||[],bd)}function mx(m,b){return YS(m||[],b||[],lf)}var TR=Kt(function(m){var b=m.length,R=b>1?m[b-1]:n;return R=typeof R=="function"?(m.pop(),R):n,_p(m,R)});function wf(m){var b=V(m);return b.__chain__=!0,b}function yx(m,b){return b(m),m}function tr(m,b){return b(m)}var ER=gi(function(m){var b=m.length,R=b?m[0]:0,O=this.__wrapped__,H=function($){return cp($,m)};return b>1||this.__actions__.length||!(O instanceof Qt)||!ya(R)?this.thru(H):(O=O.slice(R,+R+(b?1:0)),O.__actions__.push({func:tr,args:[H],thisArg:n}),new _r(O,this.__chain__).thru(function($){return b&&!$.length&&$.push(n),$}))});function So(){return wf(this)}function IR(){return new _r(this.value(),this.__chain__)}function kR(){this.__values__===n&&(this.__values__=xo(this.value()));var m=this.__index__>=this.__values__.length,b=m?n:this.__values__[this.__index__++];return{done:m,value:b}}function _L(){return this}function Jc(m){for(var b,R=this;R instanceof Wo;){var O=gs(R);O.__index__=0,O.__values__=n,b?H.__wrapped__=O:b=O;var H=O;R=R.__wrapped__}return H.__wrapped__=m,b}function Jv(){var m=this.__wrapped__;if(m instanceof Qt){var b=m;return this.__actions__.length&&(b=new Qt(this)),b=b.reverse(),b.__actions__.push({func:tr,args:[ux],thisArg:n}),new _r(b,this.__chain__)}return this.thru(ux)}function vx(){return XA(this.__wrapped__,this.__actions__)}var Sf=Dd(function(m,b,R){kn.call(m,R)?++m[R]:ga(m,R,1)});function LR(m,b,R){var O=_t(m)?yA:LS;return R&&fr(m,b,R)&&(b=n),O(m,Ct(b,3))}function PR(m,b){var R=_t(m)?ja:zn;return R(m,Ct(b,3))}var OR=Gl(Yo),bx=Gl(ax);function Cx(m,b){return un(Bp(m,b),1)}function BL(m,b){return un(Bp(m,b),ne)}function GL(m,b,R){return R=R===n?1:Wt(R),un(Bp(m,b),R)}function NR(m,b){var R=_t(m)?Bo:Fl;return R(m,Ct(b,3))}function wx(m,b){var R=_t(m)?yL:xv;return R(m,Ct(b,3))}var FR=Dd(function(m,b,R){kn.call(m,R)?m[R].push(b):ga(m,R,[b])});function xf(m,b,R,O){m=ps(m)?m:If(m),R=R&&!O?Wt(R):0;var H=m.length;return R<0&&(R=fi(H+R,0)),db(m)?R<=H&&m.indexOf(b,R)>-1:!!H&&Wh(m,b,R)>-1}var eb=Kt(function(m,b,R){var O=-1,H=typeof b=="function",$=ps(m)?xe(m.length):[];return Fl(m,function(Q){$[++O]=H?Or(b,Q,R):Sd(Q,b,R)}),$}),_R=Dd(function(m,b,R){ga(m,R,b)});function Bp(m,b){var R=_t(m)?Ci:GS;return R(m,Ct(b,3))}function BR(m,b,R,O){return m==null?[]:(_t(b)||(b=b==null?[]:[b]),R=O?n:R,_t(R)||(R=R==null?[]:[R]),VS(m,b,R))}var GR=Dd(function(m,b,R){m[R?0:1].push(b)},function(){return[[],[]]});function zR(m,b,R){var O=_t(m)?pS:vS,H=arguments.length<3;return O(m,Ct(b,4),R,H,Fl)}function HR(m,b,R){var O=_t(m)?vL:vS,H=arguments.length<3;return O(m,Ct(b,4),R,H,xv)}function tb(m,b){var R=_t(m)?ja:zn;return R(m,jp(Ct(b,3)))}function VR(m){var b=_t(m)?nf:af;return b(m)}function jR(m,b,R){(R?fr(m,b,R):b===n)?b=1:b=Wt(b);var O=_t(m)?GA:Pv;return O(m,b)}function ri(m){var b=_t(m)?zA:qA;return b(m)}function Sx(m){if(m==null)return 0;if(ps(m))return db(m)?Wa(m):m.length;var b=Es(m);return b==$e||b==lt?m.size:Rv(m).length}function zL(m,b,R){var O=_t(m)?mS:ZA;return R&&fr(m,b,R)&&(b=n),O(m,Ct(b,3))}var WR=Kt(function(m,b){if(m==null)return[];var R=b.length;return R>1&&fr(m,b[0],b[1])?b=[]:R>2&&fr(b[0],b[1],b[2])&&(b=[b[0]]),VS(m,un(b,1),[])}),nb=gd||function(){return ji.Date.now()};function HL(m,b){if(typeof b!="function")throw new mo(o);return m=Wt(m),function(){if(--m<1)return b.apply(this,arguments)}}function UR(m,b,R){return b=R?n:b,b=m&&b==null?m.length:b,Ka(m,N,n,n,n,n,b)}function Gp(m,b){var R;if(typeof b!="function")throw new mo(o);return m=Wt(m),function(){return--m>0&&(R=b.apply(this,arguments)),m<=1&&(b=n),R}}var eu=Kt(function(m,b,R){var O=S;if(R.length){var H=Fc(R,Ed(eu));O|=I}return Ka(m,O,b,R,H)}),ib=Kt(function(m,b,R){var O=S|x;if(R.length){var H=Fc(R,Ed(ib));O|=I}return Ka(b,O,m,R,H)});function zp(m,b,R){b=R?n:b;var O=Ka(m,A,n,n,n,n,n,b);return O.placeholder=zp.placeholder,O}function sb(m,b,R){b=R?n:b;var O=Ka(m,k,n,n,n,n,n,b);return O.placeholder=sb.placeholder,O}function tu(m,b,R){var O,H,$,Q,se,ge,Oe=0,Fe=!1,Ve=!1,ot=!0;if(typeof m!="function")throw new mo(o);b=Zo(b)||0,Mi(R)&&(Fe=!!R.leading,Ve="maxWait"in R,$=Ve?fi(Zo(R.maxWait)||0,b):$,ot="trailing"in R?!!R.trailing:ot);function pt(vs){var Kl=O,Pd=H;return O=H=n,Oe=vs,Q=m.apply(Pd,Kl),Q}function Ot(vs){return Oe=vs,se=hf(hn,b),Fe?pt(vs):Q}function en(vs){var Kl=vs-ge,Pd=vs-Oe,Sz=b-Kl;return Ve?wi(Sz,$-Pd):Sz}function Nt(vs){var Kl=vs-ge,Pd=vs-Oe;return ge===n||Kl>=b||Kl<0||Ve&&Pd>=$}function hn(){var vs=nb();if(Nt(vs))return xn(vs);se=hf(hn,en(vs))}function xn(vs){return se=n,ot&&O?pt(vs):(O=H=n,Q)}function Ca(){se!==n&&JA(se),Oe=0,O=ge=H=se=n}function Mo(){return se===n?Q:xn(nb())}function wa(){var vs=nb(),Kl=Nt(vs);if(O=arguments,H=this,ge=vs,Kl){if(se===n)return Ot(ge);if(Ve)return JA(se),se=hf(hn,b),pt(ge)}return se===n&&(se=hf(hn,b)),Q}return wa.cancel=Ca,wa.flush=Mo,wa}var Qa=Kt(function(m,b){return Cd(m,1,b)}),Hp=Kt(function(m,b,R){return Cd(m,Zo(b)||0,R)});function VL(m){return Ka(m,z)}function Vp(m,b){if(typeof m!="function"||b!=null&&typeof b!="function")throw new mo(o);var R=function(){var O=arguments,H=b?b.apply(this,O):O[0],$=R.cache;if($.has(H))return $.get(H);var Q=m.apply(this,O);return R.cache=$.set(H,Q)||$,Q};return R.cache=new(Vp.Cache||Br),R}Vp.Cache=Br;function jp(m){if(typeof m!="function")throw new mo(o);return function(){var b=arguments;switch(b.length){case 0:return!m.call(this);case 1:return!m.call(this,b[0]);case 2:return!m.call(this,b[0],b[1]);case 3:return!m.call(this,b[0],b[1],b[2])}return!m.apply(this,b)}}function $R(m){return Gp(2,m)}var YR=QA(function(m,b){b=b.length==1&&_t(b[0])?Ci(b[0],go(Ct())):Ci(un(b,1),go(Ct()));var R=b.length;return Kt(function(O){for(var H=-1,$=wi(O.length,R);++H<$;)O[H]=b[H].call(this,O[H]);return Or(m,this,O)})}),xx=Kt(function(m,b){var R=Fc(b,Ed(xx));return Ka(m,I,n,b,R)}),rb=Kt(function(m,b){var R=Fc(b,Ed(rb));return Ka(m,P,n,b,R)}),KR=gi(function(m,b){return Ka(m,B,n,n,n,b)});function qR(m,b){if(typeof m!="function")throw new mo(o);return b=b===n?b:Wt(b),Kt(m,b)}function jL(m,b){if(typeof m!="function")throw new mo(o);return b=b==null?0:fi(Wt(b),0),Kt(function(R){var O=R[b],H=Wc(R,0,b);return O&&kl(H,O),Or(m,this,H)})}function Mx(m,b,R){var O=!0,H=!0;if(typeof m!="function")throw new mo(o);return Mi(R)&&(O="leading"in R?!!R.leading:O,H="trailing"in R?!!R.trailing:H),tu(m,b,{leading:O,maxWait:b,trailing:H})}function Dx(m){return UR(m,1)}function WL(m,b){return xx(Cp(b),m)}function UL(){if(!arguments.length)return[];var m=arguments[0];return _t(m)?m:[m]}function Wp(m){return Qs(m,y)}function $L(m,b){return b=typeof b=="function"?b:n,Qs(m,y,b)}function ZR(m){return Qs(m,f|y)}function sn(m,b){return b=typeof b=="function"?b:n,Qs(m,f|y,b)}function Ax(m,b){return b==null||kS(m,b,ys(b))}function Ur(m,b){return m===b||m!==m&&b!==b}var Rx=Td(up),XR=Td(function(m,b){return m>=b}),$l=Mv(function(){return arguments}())?Mv:function(m){return Ai(m)&&kn.call(m,"callee")&&!hd.call(m,"callee")},_t=xe.isArray,ob=iv?go(iv):Gr;function ps(m){return m!=null&&Ld(m.length)&&!va(m)}function _i(m){return Ai(m)&&ps(m)}function YL(m){return m===!0||m===!1||Ai(m)&&dn(m)==Ce}var nu=yv||yP,QR=hA?go(hA):ss;function JR(m){return Ai(m)&&m.nodeType===1&&!qo(m)}function ab(m){if(m==null)return!0;if(ps(m)&&(_t(m)||typeof m=="string"||typeof m.splice=="function"||nu(m)||Mf(m)||$l(m)))return!m.length;var b=Es(m);if(b==$e||b==lt)return!m.size;if(si(m))return!Rv(m).length;for(var R in m)if(kn.call(m,R))return!1;return!0}function qn(m,b){return xd(m,b)}function Tx(m,b,R){R=typeof R=="function"?R:n;var O=R?R(m,b):n;return O===n?xd(m,b,n,R):!!O}function ms(m){if(!Ai(m))return!1;var b=dn(m);return b==Ge||b==Ye||typeof m.message=="string"&&typeof m.name=="string"&&!qo(m)}function KL(m){return typeof m=="number"&&tp(m)}function va(m){if(!Mi(m))return!1;var b=dn(m);return b==We||b==it||b==Me||b==Ze}function lb(m){return typeof m=="number"&&m==Wt(m)}function Ld(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=Z}function Mi(m){var b=typeof m;return m!=null&&(b=="object"||b=="function")}function Ai(m){return m!=null&&typeof m=="object"}var cb=fA?go(fA):Dv;function Ex(m,b){return m===b||hp(m,b,Wv(b))}function qL(m,b,R){return R=typeof R=="function"?R:n,hp(m,b,Wv(b),R)}function eT(m){return nT(m)&&m!=+m}function ZL(m){if(Ip(m))throw new kt(r);return $a(m)}function tT(m){return m===null}function XL(m){return m==null}function nT(m){return typeof m=="number"||Ai(m)&&dn(m)==mt}function qo(m){if(!Ai(m)||dn(m)!=st)return!1;var b=Qg(m);if(b===null)return!0;var R=kn.call(b,"constructor")&&b.constructor;return typeof R=="function"&&R instanceof R&&Xg.call(R)==zo}var ub=gA?go(gA):Av;function Ix(m){return lb(m)&&m>=-Z&&m<=Z}var iT=pA?go(pA):FS;function db(m){return typeof m=="string"||!_t(m)&&Ai(m)&&dn(m)==vt}function gr(m){return typeof m=="symbol"||Ai(m)&&dn(m)==Vt}var Mf=mA?go(mA):_S;function ba(m){return m===n}function kx(m){return Ai(m)&&Es(m)==ln}function sT(m){return Ai(m)&&dn(m)==us}var rT=Td(Tv),Up=Td(function(m,b){return m<=b});function xo(m){if(!m)return[];if(ps(m))return db(m)?Go(m):fs(m);if(fd&&m[fd])return DA(m[fd]());var b=Es(m),R=b==$e?dv:b==lt?hv:If;return R(m)}function Ja(m){if(!m)return m===0?m:0;if(m=Zo(m),m===ne||m===-ne){var b=m<0?-1:1;return b*Se}return m===m?m:0}function Wt(m){var b=Ja(m),R=b%1;return b===b?R?b-R:b:0}function el(m){return m?pa(Wt(m),0,ie):0}function Zo(m){if(typeof m=="number")return m;if(gr(m))return U;if(Mi(m)){var b=typeof m.valueOf=="function"?m.valueOf():m;m=Mi(b)?b+"":b}if(typeof m!="string")return m===0?m:+m;m=wA(m);var R=Rs.test(m);return R||iA.test(m)?pL(m.slice(2),R?2:8):Fh.test(m)?U:+m}function oT(m){return Hr(m,Is(m))}function Df(m){return m?pa(Wt(m),-Z,Z):m===0?m:0}function Ln(m){return m==null?"":zr(m)}var QL=Ad(function(m,b){if(si(b)||ps(b)){Hr(b,ys(b),m);return}for(var R in b)kn.call(b,R)&&bd(m,R,b[R])}),aT=Ad(function(m,b){Hr(b,Is(b),m)}),hb=Ad(function(m,b,R,O){Hr(b,Is(b),m,O)}),JL=Ad(function(m,b,R,O){Hr(b,ys(b),m,O)}),eP=gi(cp);function tP(m,b){var R=yo(m);return b==null?R:Nl(R,b)}var nP=Kt(function(m,b){m=wn(m);var R=-1,O=b.length,H=O>2?b[2]:n;for(H&&fr(b[0],b[1],H)&&(O=1);++R<O;)for(var $=b[R],Q=Is($),se=-1,ge=Q.length;++se<ge;){var Oe=Q[se],Fe=m[Oe];(Fe===n||Ur(Fe,Zh[Oe])&&!kn.call(m,Oe))&&(m[Oe]=$[Oe])}return m}),lT=Kt(function(m){return m.push(n,ex),Or(qp,n,m)});function Af(m,b){return vA(m,Ct(b,3),Js)}function $p(m,b){return vA(m,Ct(b,3),of)}function cT(m,b){return m==null?m:rf(m,Ct(b,3),Is)}function iP(m,b){return m==null?m:wd(m,Ct(b,3),Is)}function Rf(m,b){return m&&Js(m,Ct(b,3))}function Yp(m,b){return m&&of(m,Ct(b,3))}function uT(m){return m==null?[]:jc(m,ys(m))}function fb(m){return m==null?[]:jc(m,Is(m))}function Kp(m,b,R){var O=m==null?n:Uo(m,b);return O===n?R:O}function Lx(m,b){return m!=null&&Ep(m,b,PS)}function Tf(m,b){return m!=null&&Ep(m,b,jA)}var dT=xp(function(m,b,R){b!=null&&typeof b.toString!="function"&&(b=cr.call(b)),m[b]=R},me(ye)),hT=xp(function(m,b,R){b!=null&&typeof b.toString!="function"&&(b=cr.call(b)),kn.call(m,b)?m[b].push(R):m[b]=[R]},Ct),sP=Kt(Sd);function ys(m){return ps(m)?IS(m):Rv(m)}function Is(m){return ps(m)?IS(m,!0):UA(m)}function rP(m,b){var R={};return b=Ct(b,3),Js(m,function(O,H,$){ga(R,b(O,H,$),O)}),R}function oP(m,b){var R={};return b=Ct(b,3),Js(m,function(O,H,$){ga(R,H,b(O,H,$))}),R}var aP=Ad(function(m,b,R){fp(m,b,R)}),qp=Ad(function(m,b,R,O){fp(m,b,R,O)}),gb=gi(function(m,b){var R={};if(m==null)return R;var O=!1;b=Ci(b,function($){return $=Bl($,m),O||(O=$.length>1),$}),Hr(m,Vv(m),R),O&&(R=Qs(R,f|g|y,aR));for(var H=b.length;H--;)yp(R,b[H]);return R});function Px(m,b){return Ef(m,jp(Ct(b)))}var lP=gi(function(m,b){return m==null?{}:$A(m,b)});function Ef(m,b){if(m==null)return{};var R=Ci(Vv(m),function(O){return[O]});return b=Ct(b),Iv(m,R,function(O,H){return b(O,H[0])})}function cP(m,b,R){b=Bl(b,m);var O=-1,H=b.length;for(H||(H=1,m=n);++O<H;){var $=m==null?n:m[Fn(b[O])];$===n&&(O=H,$=R),m=va($)?$.call(m):$}return m}function fT(m,b,R){return m==null?m:lf(m,b,R)}function gT(m,b,R,O){return O=typeof O=="function"?O:n,m==null?m:lf(m,b,R,O)}var Ox=Ap(ys),Nx=Ap(Is);function Fx(m,b,R){var O=_t(m),H=O||nu(m)||Mf(m);if(b=Ct(b,4),R==null){var $=m&&m.constructor;H?R=O?new $:[]:Mi(m)?R=va($)?yo(Qg(m)):{}:R={}}return(H?Bo:Js)(m,function(Q,se,ge){return b(R,Q,se,ge)}),R}function pT(m,b){return m==null?!0:yp(m,b)}function pb(m,b,R){return m==null?m:$S(m,b,Cp(R))}function uP(m,b,R,O){return O=typeof O=="function"?O:n,m==null?m:$S(m,b,Cp(R),O)}function If(m){return m==null?[]:cv(m,ys(m))}function _x(m){return m==null?[]:cv(m,Is(m))}function Bx(m,b,R){return R===n&&(R=b,b=n),R!==n&&(R=Zo(R),R=R===R?R:0),b!==n&&(b=Zo(b),b=b===b?b:0),pa(Zo(m),b,R)}function mb(m,b,R){return b=Ja(b),R===n?(R=b,b=0):R=Ja(R),m=Zo(m),WA(m,b,R)}function Gx(m,b,R){if(R&&typeof R!="boolean"&&fr(m,b,R)&&(b=R=n),R===n&&(typeof b=="boolean"?(R=b,b=n):typeof m=="boolean"&&(R=m,m=n)),m===n&&b===n?(m=0,b=1):(m=Ja(m),b===n?(b=m,m=0):b=Ja(b)),m>b){var O=m;m=b,b=O}if(R||m%1||b%1){var H=DS();return wi(m+H*(b-m+qg("1e-"+((H+"").length-1))),b)}return Lv(m,b)}var mT=hr(function(m,b,R){return b=b.toLowerCase(),m+(R?yb(b):b)});function yb(m){return C(Ln(m).toLowerCase())}function Yl(m){return m=Ln(m),m&&m.replace(_h,uv).replace(Il,"")}function iu(m,b,R){m=Ln(m),b=zr(b);var O=m.length;R=R===n?O:pa(Wt(R),0,O);var H=R;return R-=b.length,R>=0&&m.slice(R,H)==b}function su(m){return m=Ln(m),m&&od.test(m)?m.replace(lr,SA):m}function Zp(m){return m=Ln(m),m&&As.test(m)?m.replace(Pi,"\\$&"):m}var Xp=hr(function(m,b,R){return m+(R?"-":"")+b.toLowerCase()}),ru=hr(function(m,b,R){return m+(R?" ":"")+b.toLowerCase()}),dP=bo("toLowerCase");function yT(m,b,R){m=Ln(m),b=Wt(b);var O=b?Wa(m):0;if(!b||O>=b)return m;var H=(b-O)/2;return Dp(Ll(H),R)+m+Dp(Jh(H),R)}function Qp(m,b,R){m=Ln(m),b=Wt(b);var O=b?Wa(m):0;return b&&O<b?m+Dp(b-O,R):m}function hP(m,b,R){m=Ln(m),b=Wt(b);var O=b?Wa(m):0;return b&&O<b?Dp(b-O,R)+m:m}function vT(m,b,R){return R||b==null?b=0:b&&(b=+b),pd(Ln(m).replace(Ic,""),b||0)}function vb(m,b,R){return(R?fr(m,b,R):b===n)?b=1:b=Wt(b),WS(Ln(m),b)}function bT(){var m=arguments,b=Ln(m[0]);return m.length<3?b:b.replace(m[1],m[2])}var fP=hr(function(m,b,R){return m+(R?"_":"")+b.toLowerCase()});function bb(m,b,R){return R&&typeof R!="number"&&fr(m,b,R)&&(b=R=n),R=R===n?ie:R>>>0,R?(m=Ln(m),m&&(typeof b=="string"||b!=null&&!ub(b))&&(b=zr(b),!b&&Nc(m))?Wc(Go(m),0,R):m.split(b,R)):[]}var Cb=hr(function(m,b,R){return m+(R?" ":"")+C(b)});function CT(m,b,R){return m=Ln(m),R=R==null?0:pa(Wt(R),0,m.length),b=zr(b),m.slice(R,R+b.length)==b}function Jp(m,b,R){var O=V.templateSettings;R&&fr(m,b,R)&&(b=n),m=Ln(m),b=hb({},b,O,zv);var H=hb({},b.imports,O.imports,zv),$=ys(H),Q=cv(H,$),se,ge,Oe=0,Fe=b.interpolate||$y,Ve="__p += '",ot=fv((b.escape||$y).source+"|"+Fe.source+"|"+(Fe===mn?Oh:$y).source+"|"+(b.evaluate||$y).source+"|$","g"),pt="//# sourceURL="+(kn.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cA+"]")+`
`;m.replace(ot,function(Nt,hn,xn,Ca,Mo,wa){return xn||(xn=Ca),Ve+=m.slice(Oe,wa).replace(sA,xA),hn&&(se=!0,Ve+=`' +
__e(`+hn+`) +
'`),Mo&&(ge=!0,Ve+=`';
`+Mo+`;
__p += '`),xn&&(Ve+=`' +
((__t = (`+xn+`)) == null ? '' : __t) +
'`),Oe=wa+Nt.length,Nt}),Ve+=`';
`;var Ot=kn.call(b,"variable")&&b.variable;if(!Ot)Ve=`with (obj) {
`+Ve+`
}
`;else if(qw.test(Ot))throw new kt(a);Ve=(ge?Ve.replace(Lh,""):Ve).replace($t,"$1").replace(ni,"$1;"),Ve="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ve+`return __p
}`;var en=E(function(){return Cn($,pt+"return "+Ve).apply(n,Q)});if(en.source=Ve,ms(en))throw en;return en}function zx(m){return Ln(m).toLowerCase()}function wb(m){return Ln(m).toUpperCase()}function wT(m,b,R){if(m=Ln(m),m&&(R||b===n))return wA(m);if(!m||!(b=zr(b)))return m;var O=Go(m),H=Go(b),$=Yh(O,H),Q=Kh(O,H)+1;return Wc(O,$,Q).join("")}function gP(m,b,R){if(m=Ln(m),m&&(R||b===n))return m.slice(0,CS(m)+1);if(!m||!(b=zr(b)))return m;var O=Go(m),H=Kh(O,Go(b))+1;return Wc(O,0,H).join("")}function Sb(m,b,R){if(m=Ln(m),m&&(R||b===n))return m.replace(Ic,"");if(!m||!(b=zr(b)))return m;var O=Go(m),H=Yh(O,Go(b));return Wc(O,H).join("")}function u(m,b){var R=W,O=Y;if(Mi(b)){var H="separator"in b?b.separator:H;R="length"in b?Wt(b.length):R,O="omission"in b?zr(b.omission):O}m=Ln(m);var $=m.length;if(Nc(m)){var Q=Go(m);$=Q.length}if(R>=$)return m;var se=R-Wa(O);if(se<1)return O;var ge=Q?Wc(Q,0,se).join(""):m.slice(0,se);if(H===n)return ge+O;if(Q&&(se+=ge.length-se),ub(H)){if(m.slice(se).search(H)){var Oe,Fe=ge;for(H.global||(H=fv(H.source,Ln(Nh.exec(H))+"g")),H.lastIndex=0;Oe=H.exec(Fe);)var Ve=Oe.index;ge=ge.slice(0,Ve===n?se:Ve)}}else if(m.indexOf(zr(H),se)!=se){var ot=ge.lastIndexOf(H);ot>-1&&(ge=ge.slice(0,ot))}return ge+O}function h(m){return m=Ln(m),m&&ho.test(m)?m.replace(In,RA):m}var p=hr(function(m,b,R){return m+(R?" ":"")+b.toUpperCase()}),C=bo("toUpperCase");function D(m,b,R){return m=Ln(m),b=R?n:b,b===n?MA(m)?AL(m):wL(m):m.match(b)||[]}var E=Kt(function(m,b){try{return Or(m,n,b)}catch(R){return ms(R)?R:new kt(R)}}),G=gi(function(m,b){return Bo(b,function(R){R=Fn(R),ga(m,R,eu(m[R],m))}),m});function j(m){var b=m==null?0:m.length,R=Ct();return m=b?Ci(m,function(O){if(typeof O[1]!="function")throw new mo(o);return[R(O[0]),O[1]]}):[],Kt(function(O){for(var H=-1;++H<b;){var $=m[H];if(Or($[0],this,O))return Or($[1],this,O)}})}function ee(m){return HA(Qs(m,f))}function me(m){return function(){return m}}function Le(m,b){return m==null||m!==m?b:m}var Ne=Ya(),be=Ya(!0);function ye(m){return m}function Tt(m){return BS(typeof m=="function"?m:Qs(m,f))}function Dt(m){return zS(Qs(m,f))}function Zn(m,b){return Ev(m,Qs(b,f))}var fe=Kt(function(m,b){return function(R){return Sd(R,m,b)}}),oe=Kt(function(m,b){return function(R){return Sd(m,R,b)}});function pe(m,b,R){var O=ys(b),H=jc(b,O);R==null&&!(Mi(b)&&(H.length||!O.length))&&(R=b,b=m,m=this,H=jc(b,ys(b)));var $=!(Mi(R)&&"chain"in R)||!!R.chain,Q=va(m);return Bo(H,function(se){var ge=b[se];m[se]=ge,Q&&(m.prototype[se]=function(){var Oe=this.__chain__;if($||Oe){var Fe=m(this.__wrapped__),Ve=Fe.__actions__=fs(this.__actions__);return Ve.push({func:ge,args:arguments,thisArg:m}),Fe.__chain__=Oe,Fe}return ge.apply(m,kl([this.value()],arguments))})}),m}function Pe(){return ji._===this&&(ji._=Xh),this}function ut(){}function Jt(m){return m=Wt(m),Kt(function(b){return HS(b,m)})}var yt=Mp(Ci),Et=Mp(yA),ks=Mp(mS);function Sn(m){return $v(m)?ov(Fn(m)):YA(m)}function ou(m){return function(b){return m==null?n:Uo(m,b)}}var pP=Uc(),VX=Uc(!0);function mP(){return[]}function yP(){return!1}function jX(){return{}}function WX(){return""}function UX(){return!0}function $X(m,b){if(m=Wt(m),m<1||m>Z)return[];var R=ie,O=wi(m,ie);b=Ct(b),m-=ie;for(var H=Oc(O,b);++R<m;)b(R);return H}function YX(m){return _t(m)?Ci(m,Fn):gr(m)?[m]:fs(Za(Ln(m)))}function KX(m){var b=++da;return Ln(m)+b}var qX=cf(function(m,b){return m+b},0),ZX=Gv("ceil"),XX=cf(function(m,b){return m/b},1),QX=Gv("floor");function JX(m){return m&&m.length?ma(m,ye,up):n}function eQ(m,b){return m&&m.length?ma(m,Ct(b,2),up):n}function tQ(m){return bA(m,ye)}function nQ(m,b){return bA(m,Ct(b,2))}function iQ(m){return m&&m.length?ma(m,ye,Tv):n}function sQ(m,b){return m&&m.length?ma(m,Ct(b,2),Tv):n}var rQ=cf(function(m,b){return m*b},1),oQ=Gv("round"),aQ=cf(function(m,b){return m-b},0);function lQ(m){return m&&m.length?lv(m,ye):0}function cQ(m,b){return m&&m.length?lv(m,Ct(b,2)):0}return V.after=HL,V.ary=UR,V.assign=QL,V.assignIn=aT,V.assignInWith=hb,V.assignWith=JL,V.at=eP,V.before=Gp,V.bind=eu,V.bindAll=G,V.bindKey=ib,V.castArray=UL,V.chain=wf,V.chunk=OL,V.compact=vR,V.concat=bR,V.cond=j,V.conforms=ee,V.constant=me,V.countBy=Sf,V.create=tP,V.curry=zp,V.curryRight=sb,V.debounce=tu,V.defaults=nP,V.defaultsDeep=lT,V.defer=Qa,V.delay=Hp,V.difference=xi,V.differenceBy=Vr,V.differenceWith=jl,V.drop=CR,V.dropRight=wR,V.dropRightWhile=NL,V.dropWhile=ox,V.fill=Co,V.filter=PR,V.flatMap=Cx,V.flatMapDeep=BL,V.flatMapDepth=GL,V.flatten=jr,V.flattenDeep=SR,V.flattenDepth=Kc,V.flip=VL,V.flow=Ne,V.flowRight=be,V.fromPairs=Id,V.functions=uT,V.functionsIn=fb,V.groupBy=FR,V.initial=cx,V.intersection=Xa,V.intersectionBy=xR,V.intersectionWith=ff,V.invert=dT,V.invertBy=hT,V.invokeMap=eb,V.iteratee=Tt,V.keyBy=_R,V.keys=ys,V.keysIn=Is,V.map=Bp,V.mapKeys=rP,V.mapValues=oP,V.matches=Dt,V.matchesProperty=Zn,V.memoize=Vp,V.merge=aP,V.mergeWith=qp,V.method=fe,V.methodOf=oe,V.mixin=pe,V.negate=jp,V.nthArg=Jt,V.omit=gb,V.omitBy=Px,V.once=$R,V.orderBy=BR,V.over=yt,V.overArgs=YR,V.overEvery=Et,V.overSome=ks,V.partial=xx,V.partialRight=rb,V.partition=GR,V.pick=lP,V.pickBy=Ef,V.property=Sn,V.propertyOf=ou,V.pull=DR,V.pullAll=pf,V.pullAllBy=AR,V.pullAllWith=Qv,V.pullAt=RR,V.range=pP,V.rangeRight=VX,V.rearg=KR,V.reject=tb,V.remove=FL,V.rest=qR,V.reverse=ux,V.sampleSize=jR,V.set=fT,V.setWith=gT,V.shuffle=ri,V.slice=Hn,V.sortBy=WR,V.sortedUniq=mf,V.sortedUniqBy=dx,V.split=bb,V.spread=jL,V.tail=Ul,V.take=Fi,V.takeRight=Zc,V.takeRightWhile=kd,V.takeWhile=hx,V.tap=yx,V.throttle=Mx,V.thru=tr,V.toArray=xo,V.toPairs=Ox,V.toPairsIn=Nx,V.toPath=YX,V.toPlainObject=oT,V.transform=Fx,V.unary=Dx,V.union=Ko,V.unionBy=yf,V.unionWith=Fp,V.uniq=Wr,V.uniqBy=fx,V.uniqWith=gx,V.unset=pT,V.unzip=vf,V.unzipWith=_p,V.update=pb,V.updateWith=uP,V.values=If,V.valuesIn=_x,V.without=Xc,V.words=D,V.wrap=WL,V.xor=zs,V.xorBy=Qc,V.xorWith=bf,V.zip=Cf,V.zipObject=px,V.zipObjectDeep=mx,V.zipWith=TR,V.entries=Ox,V.entriesIn=Nx,V.extend=aT,V.extendWith=hb,pe(V,V),V.add=qX,V.attempt=E,V.camelCase=mT,V.capitalize=yb,V.ceil=ZX,V.clamp=Bx,V.clone=Wp,V.cloneDeep=ZR,V.cloneDeepWith=sn,V.cloneWith=$L,V.conformsTo=Ax,V.deburr=Yl,V.defaultTo=Le,V.divide=XX,V.endsWith=iu,V.eq=Ur,V.escape=su,V.escapeRegExp=Zp,V.every=LR,V.find=OR,V.findIndex=Yo,V.findKey=Af,V.findLast=bx,V.findLastIndex=ax,V.findLastKey=$p,V.floor=QX,V.forEach=NR,V.forEachRight=wx,V.forIn=cT,V.forInRight=iP,V.forOwn=Rf,V.forOwnRight=Yp,V.get=Kp,V.gt=Rx,V.gte=XR,V.has=Lx,V.hasIn=Tf,V.head=Wl,V.identity=ye,V.includes=xf,V.indexOf=lx,V.inRange=mb,V.invoke=sP,V.isArguments=$l,V.isArray=_t,V.isArrayBuffer=ob,V.isArrayLike=ps,V.isArrayLikeObject=_i,V.isBoolean=YL,V.isBuffer=nu,V.isDate=QR,V.isElement=JR,V.isEmpty=ab,V.isEqual=qn,V.isEqualWith=Tx,V.isError=ms,V.isFinite=KL,V.isFunction=va,V.isInteger=lb,V.isLength=Ld,V.isMap=cb,V.isMatch=Ex,V.isMatchWith=qL,V.isNaN=eT,V.isNative=ZL,V.isNil=XL,V.isNull=tT,V.isNumber=nT,V.isObject=Mi,V.isObjectLike=Ai,V.isPlainObject=qo,V.isRegExp=ub,V.isSafeInteger=Ix,V.isSet=iT,V.isString=db,V.isSymbol=gr,V.isTypedArray=Mf,V.isUndefined=ba,V.isWeakMap=kx,V.isWeakSet=sT,V.join=Np,V.kebabCase=Xp,V.last=er,V.lastIndexOf=gf,V.lowerCase=ru,V.lowerFirst=dP,V.lt=rT,V.lte=Up,V.max=JX,V.maxBy=eQ,V.mean=tQ,V.meanBy=nQ,V.min=iQ,V.minBy=sQ,V.stubArray=mP,V.stubFalse=yP,V.stubObject=jX,V.stubString=WX,V.stubTrue=UX,V.multiply=rQ,V.nth=MR,V.noConflict=Pe,V.noop=ut,V.now=nb,V.pad=yT,V.padEnd=Qp,V.padStart=hP,V.parseInt=vT,V.random=Gx,V.reduce=zR,V.reduceRight=HR,V.repeat=vb,V.replace=bT,V.result=cP,V.round=oQ,V.runInContext=de,V.sample=VR,V.size=Sx,V.snakeCase=fP,V.some=zL,V.sortedIndex=hi,V.sortedIndexBy=nn,V.sortedIndexOf=yn,V.sortedLastIndex=Vn,V.sortedLastIndexBy=wo,V.sortedLastIndexOf=qc,V.startCase=Cb,V.startsWith=CT,V.subtract=aQ,V.sum=lQ,V.sumBy=cQ,V.template=Jp,V.times=$X,V.toFinite=Ja,V.toInteger=Wt,V.toLength=el,V.toLower=zx,V.toNumber=Zo,V.toSafeInteger=Df,V.toString=Ln,V.toUpper=wb,V.trim=wT,V.trimEnd=gP,V.trimStart=Sb,V.truncate=u,V.unescape=h,V.uniqueId=KX,V.upperCase=p,V.upperFirst=C,V.each=NR,V.eachRight=wx,V.first=Wl,pe(V,function(){var m={};return Js(V,function(b,R){kn.call(V.prototype,R)||(m[R]=b)}),m}(),{chain:!1}),V.VERSION=i,Bo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){V[m].placeholder=V}),Bo(["drop","take"],function(m,b){Qt.prototype[m]=function(R){R=R===n?1:fi(Wt(R),0);var O=this.__filtered__&&!b?new Qt(this):this.clone();return O.__filtered__?O.__takeCount__=wi(R,O.__takeCount__):O.__views__.push({size:wi(R,ie),type:m+(O.__dir__<0?"Right":"")}),O},Qt.prototype[m+"Right"]=function(R){return this.reverse()[m](R).reverse()}}),Bo(["filter","map","takeWhile"],function(m,b){var R=b+1,O=R==te||R==X;Qt.prototype[m]=function(H){var $=this.clone();return $.__iteratees__.push({iteratee:Ct(H,3),type:R}),$.__filtered__=$.__filtered__||O,$}}),Bo(["head","last"],function(m,b){var R="take"+(b?"Right":"");Qt.prototype[m]=function(){return this[R](1).value()[0]}}),Bo(["initial","tail"],function(m,b){var R="drop"+(b?"":"Right");Qt.prototype[m]=function(){return this.__filtered__?new Qt(this):this[R](1)}}),Qt.prototype.compact=function(){return this.filter(ye)},Qt.prototype.find=function(m){return this.filter(m).head()},Qt.prototype.findLast=function(m){return this.reverse().find(m)},Qt.prototype.invokeMap=Kt(function(m,b){return typeof m=="function"?new Qt(this):this.map(function(R){return Sd(R,m,b)})}),Qt.prototype.reject=function(m){return this.filter(jp(Ct(m)))},Qt.prototype.slice=function(m,b){m=Wt(m);var R=this;return R.__filtered__&&(m>0||b<0)?new Qt(R):(m<0?R=R.takeRight(-m):m&&(R=R.drop(m)),b!==n&&(b=Wt(b),R=b<0?R.dropRight(-b):R.take(b-m)),R)},Qt.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Qt.prototype.toArray=function(){return this.take(ie)},Js(Qt.prototype,function(m,b){var R=/^(?:filter|find|map|reject)|While$/.test(b),O=/^(?:head|last)$/.test(b),H=V[O?"take"+(b=="last"?"Right":""):b],$=O||/^find/.test(b);H&&(V.prototype[b]=function(){var Q=this.__wrapped__,se=O?[1]:arguments,ge=Q instanceof Qt,Oe=se[0],Fe=ge||_t(Q),Ve=function(hn){var xn=H.apply(V,kl([hn],se));return O&&ot?xn[0]:xn};Fe&&R&&typeof Oe=="function"&&Oe.length!=1&&(ge=Fe=!1);var ot=this.__chain__,pt=!!this.__actions__.length,Ot=$&&!ot,en=ge&&!pt;if(!$&&Fe){Q=en?Q:new Qt(this);var Nt=m.apply(Q,se);return Nt.__actions__.push({func:tr,args:[Ve],thisArg:n}),new _r(Nt,ot)}return Ot&&en?m.apply(this,se):(Nt=this.thru(Ve),Ot?O?Nt.value()[0]:Nt.value():Nt)})}),Bo(["pop","push","shift","sort","splice","unshift"],function(m){var b=gv[m],R=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",O=/^(?:pop|shift)$/.test(m);V.prototype[m]=function(){var H=arguments;if(O&&!this.__chain__){var $=this.value();return b.apply(_t($)?$:[],H)}return this[R](function(Q){return b.apply(_t(Q)?Q:[],H)})}}),Js(Qt.prototype,function(m,b){var R=V[b];if(R){var O=R.name+"";kn.call(jo,O)||(jo[O]=[]),jo[O].push({name:b,func:R})}}),jo[Ni(n,x).name]=[{name:"wrapper",func:n}],Qt.prototype.clone=rp,Qt.prototype.reverse=vv,Qt.prototype.value=yd,V.prototype.at=ER,V.prototype.chain=So,V.prototype.commit=IR,V.prototype.next=kR,V.prototype.plant=Jc,V.prototype.reverse=Jv,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=vx,V.prototype.first=V.prototype.head,fd&&(V.prototype[fd]=_L),V},_c=qh();Pc?((Pc.exports=_c)._=_c,jh._=_c):ji._=_c}).call(Rpe)}(u0,u0.exports)),u0.exports}var Epe=Tpe();function K$(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=K$(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function q$(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=K$(e))&&(i&&(i+=" "),i+=t);return i}const g_="-",Ipe=e=>{const t=Lpe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const a=o.split(g_);return a[0]===""&&a.length!==1&&a.shift(),Z$(a,t)||kpe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},Z$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?Z$(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=e.join(g_);return(o=t.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},XH=/^\[(.+)\]$/,kpe=e=>{if(XH.test(e)){const t=XH.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Lpe=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const s in n)oF(n[s],i,s,t);return i},oF=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const r=s===""?t:QH(t,s);r.classGroupId=n;return}if(typeof s=="function"){if(Ppe(s)){oF(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([r,o])=>{oF(o,QH(t,r),n,i)})})},QH=(e,t)=>{let n=e;return t.split(g_).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},Ppe=e=>e.isThemeGetter,Ope=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(r,o)=>{n.set(r,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(r){let o=n.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){n.has(r)?n.set(r,o):s(r,o)}}},aF="!",lF=":",Npe=lF.length,Fpe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const r=[];let o=0,a=0,l=0,c;for(let v=0;v<s.length;v++){let w=s[v];if(o===0&&a===0){if(w===lF){r.push(s.slice(l,v)),l=v+Npe;continue}if(w==="/"){c=v;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=r.length===0?s:s.substring(l),f=_pe(d),g=f!==d,y=c&&c>l?c-l:void 0;return{modifiers:r,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:y}};if(t){const s=t+lF,r=i;i=o=>o.startsWith(s)?r(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=i;i=r=>n({className:r,parseClassName:s})}return i},_pe=e=>e.endsWith(aF)?e.substring(0,e.length-1):e.startsWith(aF)?e.substring(1):e,Bpe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["||t[o]?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s}},Gpe=e=>({cache:Ope(e.cacheSize),parseClassName:Fpe(e),sortModifiers:Bpe(e),...Ipe(e)}),zpe=/\s+/,Hpe=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,o=[],a=e.trim().split(zpe);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let S=!!w,x=i(S?v.substring(0,w):v);if(!x){if(!S){l=d+(l.length>0?" "+l:l);continue}if(x=i(v),!x){l=d+(l.length>0?" "+l:l);continue}S=!1}const M=r(g).join(":"),A=y?M+aF:M,k=A+x;if(o.includes(k))continue;o.push(k);const I=s(x,S);for(let P=0;P<I.length;++P){const N=I[P];o.push(A+N)}l=d+(l.length>0?" "+l:l)}return l};function Vpe(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=X$(t))&&(i&&(i+=" "),i+=n);return i}const X$=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=X$(e[i]))&&(n&&(n+=" "),n+=t);return n};function jpe(e,...t){let n,i,s,r=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return n=Gpe(c),i=n.cache.get,s=n.cache.set,r=a,a(l)}function a(l){const c=i(l);if(c)return c;const d=Hpe(l,n);return s(l,d),d}return function(){return r(Vpe.apply(null,arguments))}}const Hs=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Q$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wpe=/^\d+\/\d+$/,Upe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$pe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ype=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Kpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Db=e=>Wpe.test(e),rn=e=>!!e&&!Number.isNaN(Number(e)),Pf=e=>!!e&&Number.isInteger(Number(e)),nO=e=>e.endsWith("%")&&rn(e.slice(0,-1)),Od=e=>Upe.test(e),Zpe=()=>!0,Xpe=e=>$pe.test(e)&&!Ype.test(e),e5=()=>!1,Qpe=e=>Kpe.test(e),Jpe=e=>qpe.test(e),eme=e=>!ht(e)&&!ft(e),tme=e=>dw(e,i5,e5),ht=e=>Q$.test(e),em=e=>dw(e,s5,Xpe),iO=e=>dw(e,ome,rn),JH=e=>dw(e,t5,e5),nme=e=>dw(e,n5,Jpe),NT=e=>dw(e,r5,Qpe),ft=e=>J$.test(e),qx=e=>hw(e,s5),ime=e=>hw(e,ame),eV=e=>hw(e,t5),sme=e=>hw(e,i5),rme=e=>hw(e,n5),FT=e=>hw(e,r5,!0),dw=(e,t,n)=>{const i=Q$.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},hw=(e,t,n=!1)=>{const i=J$.exec(e);return i?i[1]?t(i[1]):n:!1},t5=e=>e==="position"||e==="percentage",n5=e=>e==="image"||e==="url",i5=e=>e==="length"||e==="size"||e==="bg-size",s5=e=>e==="length",ome=e=>e==="number",ame=e=>e==="family-name",r5=e=>e==="shadow",lme=()=>{const e=Hs("color"),t=Hs("font"),n=Hs("text"),i=Hs("font-weight"),s=Hs("tracking"),r=Hs("leading"),o=Hs("breakpoint"),a=Hs("container"),l=Hs("spacing"),c=Hs("radius"),d=Hs("shadow"),f=Hs("inset-shadow"),g=Hs("text-shadow"),y=Hs("drop-shadow"),v=Hs("blur"),w=Hs("perspective"),S=Hs("aspect"),x=Hs("ease"),M=Hs("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...k(),ft,ht],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],B=()=>[ft,ht,l],z=()=>[Db,"full","auto",...B()],W=()=>[Pf,"none","subgrid",ft,ht],Y=()=>["auto",{span:["full",Pf,ft,ht]},Pf,ft,ht],K=()=>[Pf,"auto",ft,ht],q=()=>["auto","min","max","fr",ft,ht],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...B()],ne=()=>[Db,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],Z=()=>[e,ft,ht],Se=()=>[...k(),eV,JH,{position:[ft,ht]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",sme,tme,{size:[ft,ht]}],ve=()=>[nO,qx,em],J=()=>["","none","full",c,ft,ht],he=()=>["",rn,qx,em],Ee=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>[rn,nO,eV,JH],Ce=()=>["","none",v,ft,ht],je=()=>["none",rn,ft,ht],Ye=()=>["none",rn,ft,ht],Ge=()=>[rn,ft,ht],We=()=>[Db,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Od],breakpoint:[Od],color:[Zpe],container:[Od],"drop-shadow":[Od],ease:["in","out","in-out"],font:[eme],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Od],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Od],shadow:[Od],spacing:["px",rn],text:[Od],"text-shadow":[Od],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Db,ht,ft,S]}],container:["container"],columns:[{columns:[rn,ht,ft,a]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Pf,"auto",ft,ht]}],basis:[{basis:[Db,"full","auto",a,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rn,Db,"auto","initial","none",ht]}],grow:[{grow:["",rn,ft,ht]}],shrink:[{shrink:["",rn,ft,ht]}],order:[{order:[Pf,"first","last","none",ft,ht]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[a,"screen",...ne()]}],"min-w":[{"min-w":[a,"screen","none",...ne()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,qx,em]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ft,iO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nO,ht]}],"font-family":[{font:[ime,ht,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ft,ht]}],"line-clamp":[{"line-clamp":[rn,"none",ft,iO]}],leading:[{leading:[r,...B()]}],"list-image":[{"list-image":["none",ft,ht]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ht]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[rn,"from-font","auto",ft,em]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[rn,"auto",ft,ht]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Se()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pf,ft,ht],radial:["",ft,ht],conic:[Pf,ft,ht]},rme,nme]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rn,ft,ht]}],"outline-w":[{outline:["",rn,qx,em]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",d,FT,NT]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",f,FT,NT]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[rn,em]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",g,FT,NT]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[rn,ft,ht]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Me()}],"mask-image-linear-to-pos":[{"mask-linear-to":Me()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Me()}],"mask-image-t-to-pos":[{"mask-t-to":Me()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Me()}],"mask-image-r-to-pos":[{"mask-r-to":Me()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Me()}],"mask-image-b-to-pos":[{"mask-b-to":Me()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Me()}],"mask-image-l-to-pos":[{"mask-l-to":Me()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Me()}],"mask-image-x-to-pos":[{"mask-x-to":Me()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Me()}],"mask-image-y-to-pos":[{"mask-y-to":Me()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[ft,ht]}],"mask-image-radial-from-pos":[{"mask-radial-from":Me()}],"mask-image-radial-to-pos":[{"mask-radial-to":Me()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[rn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Me()}],"mask-image-conic-to-pos":[{"mask-conic-to":Me()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Se()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ht]}],filter:[{filter:["","none",ft,ht]}],blur:[{blur:Ce()}],brightness:[{brightness:[rn,ft,ht]}],contrast:[{contrast:[rn,ft,ht]}],"drop-shadow":[{"drop-shadow":["","none",y,FT,NT]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",rn,ft,ht]}],"hue-rotate":[{"hue-rotate":[rn,ft,ht]}],invert:[{invert:["",rn,ft,ht]}],saturate:[{saturate:[rn,ft,ht]}],sepia:[{sepia:["",rn,ft,ht]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ht]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[rn,ft,ht]}],"backdrop-contrast":[{"backdrop-contrast":[rn,ft,ht]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rn,ft,ht]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rn,ft,ht]}],"backdrop-invert":[{"backdrop-invert":["",rn,ft,ht]}],"backdrop-opacity":[{"backdrop-opacity":[rn,ft,ht]}],"backdrop-saturate":[{"backdrop-saturate":[rn,ft,ht]}],"backdrop-sepia":[{"backdrop-sepia":["",rn,ft,ht]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ht]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rn,"initial",ft,ht]}],ease:[{ease:["linear","initial",x,ft,ht]}],delay:[{delay:[rn,ft,ht]}],animate:[{animate:["none",M,ft,ht]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ft,ht]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[ft,ht,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ht]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ht]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[rn,qx,em,iO]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cme=jpe(lme);function bt(...e){return cme(q$(e))}function ume(e={},t){const n=Epe.reduce(e,(i,s,r)=>(s instanceof Array?(i.delete(r),s.forEach(o=>{i.append(r,o.toString())})):s!=null&&s!==""?i.set(r,s.toString()):i.delete(r),i),new URLSearchParams(t)).toString();return n===""?"":`?${n}`}const tV=(e,t=2)=>{const n=[];for(let i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n};function o5(){const e=window.location.hash;return new URLSearchParams(e.split("?")[1]||"").get("token")}function dme(){return localStorage.getItem("iframe_token")}function a5(e){localStorage.setItem("iframe_token",e)}function hme(){const e=o5();return e?(a5(e),e):dme()}function fme(){return _.jsx(_.Fragment,{children:_.jsx(T.Suspense,{fallback:null,children:_.jsx("section",{className:"h-full",style:void 0,children:_.jsx(fJ,{})})})})}var gme=Object.defineProperty,l5=(e,t)=>{for(var n in t)gme(e,n,{get:t[n],enumerable:!0})},ze={};l5(ze,{error:()=>c5,errorOnce:()=>yme,log:()=>pme,logGroup:()=>bme,reset:()=>vme,table:()=>mme,warn:()=>p_,warnOnce:()=>eM});var cF=new Set;function pme(...e){console.log(...e)}function p_(e,...t){console.warn(`AG Charts - ${e}`,...t)}function c5(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function mme(...e){console.table(...e)}function u5(e,t,n){let i;e instanceof Error?i=e.message:typeof e=="string"?i=e:typeof e=="object"?i=JSON.stringify(e):i=String(e);const s=`${t}: ${i}`;cF.has(s)||(n(e),cF.add(s))}function eM(e,...t){u5(e,"Logger.warn",n=>p_(n,...t))}function yme(e,...t){u5(e,"Logger.error",n=>c5(n,...t))}function vme(){cF.clear()}function bme(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var To={};l5(To,{detectChartDefinition:()=>Mme,getAxisModule:()=>Dme,getPresetModule:()=>Ame,getSeriesModule:()=>Rme,hasModule:()=>Sme,listModulesByType:()=>xme,register:()=>d5,registerMany:()=>Cme,reset:()=>wme});var CE=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(CE||{}),ku=new Map;function d5(e,t){const{def:n,version:i}=ku.get(e.name)??{};if(!n){ku.set(e.name,{def:e,version:t});return}if(!n.enterprise&&e.enterprise&&t===i){ku.set(e.name,{def:e,version:t});return}if(i===t){p_([`AG Charts - Module '${e.name}' already registered,',
                'ignoring (version: ${i}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${e.name}' already registered with different version:`,`${i} vs ${t}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function Cme(e,t){for(const n of e)d5(n,t)}function wme(){ku.clear()}function Sme(e){return ku.has(e)}function*xme(e){for(const t of ku.values())ZM(e,t.def)&&(yield t.def)}function Mme(e){for(const t of ku.values())if(ZM("chart",t.def)&&t.def.detect(e))return t.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function Dme(e){const t=ku.get(e);if(ZM("axis",t==null?void 0:t.def))return t==null?void 0:t.def}function Ame(e){const t=ku.get(e);if(ZM("preset",t==null?void 0:t.def))return t==null?void 0:t.def}function Rme(e){const t=ku.get(e);if(ZM("series",t==null?void 0:t.def))return t==null?void 0:t.def}function ZM(e,t){return(t==null?void 0:t.type)===e}var Rg=class{constructor(){this.events=new Map}on(e,t){var n;return this.events.has(e)||this.events.set(e,new Set),(n=this.events.get(e))==null||n.add(t),()=>this.off(e,t)}off(e,t){const n=this.events.get(e);n&&(n.delete(t),n.size===0&&this.events.delete(e))}emit(e,t){var n;(n=this.events.get(e))==null||n.forEach(i=>i(t))}clear(e){e?this.events.delete(e):this.events.clear()}},Hu={};typeof window<"u"?Hu.window=window:typeof global<"u"&&(Hu.window=global.window);typeof document<"u"?Hu.document=document:typeof global<"u"&&(Hu.document=global.document);function Vu(e){var t;return e?(t=Hu.document)==null?void 0:t[e]:Hu.document}function $n(e){var t;return e?(t=Hu.window)==null?void 0:t[e]:Hu.window}function Tme(e){Hu.document=e}function Eme(e){Hu.window=e}function Yt(e,t,n){const i=Vu().createElement(e);if(typeof t=="object"&&(n=t,t=void 0),t)for(const s of t.split(" "))i.classList.add(s);return n&&Object.assign(i.style,n),i}function as(e){return Vu().createElementNS("http://www.w3.org/2000/svg",e)}function Ime(e,t){const n=Vu("body"),i=Yt("a",{display:"none"});i.href=e,i.download=t,n.appendChild(i),i.click(),setTimeout(()=>n.removeChild(i))}function Qn(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}var _T;function kme(e){if(_T==null){const t=$n("Option");_T=new t().style}return _T.color=e,_T.color||null}function E0(e){return e!=null}function gn(e){return Array.isArray(e)}function Lme(e){return typeof e=="boolean"}function fw(e){return e instanceof Date}function m_(e){return fw(e)&&!isNaN(Number(e))}function Pme(e){return e instanceof RegExp}function bh(e){return typeof e=="function"}function Hi(e){return typeof e=="object"&&e!==null&&!gn(e)}function vI(e){return gn(e)||Tn(e)}function Tn(e){var t;return typeof e=="object"&&e!==null&&((t=e.constructor)==null?void 0:t.name)==="Object"}function sO(e){if(typeof e!="object"||e===null)return!1;for(const t in e)return!1;return!0}function Ks(e){return typeof e=="string"}function bI(e){return typeof e=="number"}function Wn(e){return Number.isFinite(e)}function Ome(e){return typeof window<"u"&&e instanceof HTMLElement}function wE(e){return typeof e=="symbol"}function Nme(e){return Ks(e)&&(e==="none"||kme(e)!=null)}function nV(e,t,n){const{leading:i=!0,trailing:s=!0}=n??{};let r,o,a=!1;function l(){s&&o?(r=setTimeout(l,t),e(...o)):a=!1,o=null}function c(...d){a?o=d:(a=!0,r=setTimeout(l,t),i?e(...d):o=d)}return Object.assign(c,{cancel(){clearTimeout(r),a=!1,o=null}})}function h5(e,t,n=""){try{return e(...t)}catch(i){const s=n?` \`${n}\``:"";eM(`Uncaught exception in user callback${s}`,i)}}function tM(e,t="and",n=String,i=1/0){if(e.length===0)return"";if(e.length===1)return n(e[0]);e=e.map(n);const s=e.pop();if(e.length>=i){const r=e.length-(i-1);return`${e.slice(0,i-1).join(", ")}, and ${r} more ${t} ${s}`}return`${e.join(", ")} ${t} ${s}`}function y_(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const n=JSON.stringify(e)??typeof e;return n.length>t?`${n.slice(0,t)}... (+${n.length-t} characters)`:n}function Fme(e){let t=1;for(let n=0;n<e.length;n++)e.charCodeAt(n)===10&&t++;return t}function _me(e,t){if(e===t)return 0;const[n,i]=e.length<t.length?[e,t]:[t,e],s=n.length,r=i.length;let o=new Array(s+1).fill(0).map((l,c)=>c),a=new Array(s+1);for(let l=1;l<=r;l++){a[0]=l;for(let c=1;c<=s;c++){const d=i[l-1]===n[c-1]?0:1;a[c]=Math.min(o[c]+1,a[c-1]+1,o[c-1]+d)}[o,a]=[a,o]}return o[s]}function Bme(e){return e.replace(Gme,(t,n)=>(n>0?"-":"")+t.toLowerCase())}var Gme=/[A-Z]+(?![a-z])|[A-Z]/g;function uF(e){return gn(e)?e.map(t=>t.text).join(""):e??""}var _a=Symbol("description"),f5=Symbol("required"),CI=Symbol("marked"),g5=Symbol("undocumented"),wI=Symbol("union"),zme=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((e,t)=>{for(const n of t)e.set(n.toLowerCase(),new Set(t.filter(i=>i!==n)));return e},new Map),v_=(e=>(e.Invalid="invalid",e.Required="required",e.Unknown="unknown",e))(v_||{});function nM(e,t){return Wn(t)?`${e}[${t}]`:e?`${e}.${t}`:t}var Vm=class{constructor(e,t,n,i,s){this.type=e,this.description=t,this.value=n,this.path=i,this.key=s}setUnionType(e,t){if(this.path.startsWith(t)){const n=this.path.slice(t.length);this.altPath=`${t}[type=${e}]${n}`}}getPrefix(){const{altPath:e=this.path,key:t}=this;return!e&&!t?"Value":`Option \`${t?nM(e,t):e}\``}toString(){const{description:e="unknown",type:t,value:n}=this;return t==="required"&&n==null?`${this.getPrefix()} is required and has not been provided; expecting ${e}, ignoring.`:`${this.getPrefix()} cannot be set to \`${y_(n,50)}\`; expecting ${e}, ignoring.`}},b_=class extends Vm{constructor(e,t,n,i){super("unknown",void 0,t,n,i),this.suggestions=e,this.key=i}getPrefix(){return`Unknown option \`${nM(this.altPath??this.path,this.key)}\``}getPostfix(){const e=tM(Hme(this.key,this.suggestions),"or",t=>`\`${t}\``);return e?`; Did you mean ${e}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function Jr(e,t,n=""){if(!Hi(e))return{cleared:null,invalid:[new Vm("required","an object",e,n)]};const i={},s=[],r=new Set(Object.keys(e)),o=[];if(wI in t){const a=Object.keys(t),l=t[wI];if(e.type!=null&&a.includes(e.type)||e.type==null&&l!=null){const{type:c=l,...d}=e,f=Jr(d,t[c],n);Object.assign(i,{type:c},f.cleared);for(const g of f.invalid)g.setUnionType(c,n);s.push(...f.invalid)}else{const c=tM(a,"or",d=>`'${d}'`);s.push(new Vm("required",`a keyword such as ${c}`,e.type,n,"type"))}return{cleared:i,invalid:s}}for(const a of Object.keys(t)){const l=t[a],c=l[f5],d=e[a];if(r.delete(a),typeof d>"u"&&(l[g5]||o.push(a),!c))continue;const f=nM(n,a);if(bh(l)){const y=l(d,{options:e,path:f});if(typeof y=="object"){if(s.push(...y.invalid),y.valid){i[a]=y.cleared;continue}else if(hC(y.invalid,f))continue}else if(y){i[a]=d;continue}s.push(new Vm(c?"required":"invalid",l[_a],d,n,a))}else{const g=Jr(d,l,f);g.cleared!=null&&(i[a]=g.cleared),s.push(...g.invalid)}}for(const a of r){const l=e[a];typeof l>"u"||s.push(new b_(o,l,n,a))}return{cleared:i,invalid:s}}function Hme(e,t,n=2){const i=[],s=e.toLowerCase(),r=zme.get(s);for(const o of t){const a=o.toLowerCase();(r!=null&&r.has(o)||a.includes(s)||_me(s,a)<=n)&&i.push(o)}return i}function An(e,t){if(bh(e)){let n=function(i,s){return e(i,s)};return n[_a]=t,n}else return{...e,[_a]:t}}function tt(e){return Object.assign(bh(e)?(t,n)=>e(t,n):Ss(e),{[f5]:!0,[_a]:e[_a]})}function Ft(e){return Object.assign(bh(e)?(t,n)=>e(t,n):Ss(e),{[g5]:!0,[_a]:e[_a]})}var Ss=(e,t="an object")=>An((n,i)=>{const s=Jr(n,e,i.path);return{valid:!hC(s.invalid,i.path),cleared:s.cleared,invalid:s.invalid}},t),XM=(e,t,n)=>({...e,[_a]:t,[wI]:n}),yi=(...e)=>An((t,n)=>{const i=[];for(const s of e){const r=s(t,n);if(typeof r=="object"){if(i.push(...r.invalid),!r.valid)return{valid:!1,cleared:t,invalid:i};t=r.cleared}else if(!r)return!1}return{valid:!0,cleared:t,invalid:i}},e.map(t=>t[_a]).filter(Boolean).join(" and ")),zt=(...e)=>An((t,n)=>{for(const i of e){const s=i(t,n);if(typeof s=="object"?s.valid:s)return s}return!1},e.map(t=>t[_a]).filter(Boolean).join(" or ")),SI=e=>Wn(e)||m_(e),Vme=e=>fw(e)||(Wn(e)||Ks(e))&&m_(new Date(e)),qu=An(gn,"an array"),le=An(Lme,"a boolean"),jn=An(bh,"a function"),qe=An(Nme,"a color string"),yg=An(Vme,"a date"),xt=An(E0,"a defined value"),Ie=An(Wn,"a number"),M1=An(Hi,"an object"),Ae=An(Ks,"a string"),p5=An(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),Ry=(e,t=1/0)=>{let n;return t===1/0?n=`an array of at least ${e} items`:e===t?n=`an array of exactly ${e} items`:n=`an array of at least ${e} and no more than ${t} items`,An(i=>gn(i)&&i.length>=e&&i.length<=t,n)},m5=(e,t=1/0)=>{let n;return t===1/0?n=`a string of at least ${e} characters`:e===t?n=`an string of exactly ${e} characters`:n=`an string of at least ${e} and no more than ${t} characters`,An(i=>Ks(i)&&i.length>=e&&i.length<=t,n)},y5=(e,t=!0)=>An(n=>Wn(n)&&(n>e||t&&n===e),`a number greater than ${t?"or equal to ":""}${e}`),jme=(e,t)=>An(n=>Wn(n)&&n>=e&&n<=t,`a number between ${e} and ${t} inclusive`),ae=y5(0),iM=y5(0,!1),ct=jme(0,1),Lu=e=>An((t,{options:n})=>!SI(t)||!SI(n[e])||t<n[e],`the value to be less than \`${e}\``),Pu=e=>An((t,{options:n})=>!SI(t)||!SI(n[e])||t>n[e],`the value to be greater than \`${e}\``);function _e(...e){Hi(e[0])&&(e=Object.values(e[0]));const t=tM(e,"or",n=>`'${n}'`);return An(n=>e.includes(n),`a keyword such as ${t}`)}var bi=e=>An(t=>e===t,`the value ${JSON.stringify(e)}`),Mt=(e,t,n=!0)=>An((i,s)=>{if(!gn(i))return!1;let r=n;const o=[],a=[],l=c=>r=n?r&&c:r||c;if(i.length===0)return{valid:!0,cleared:o,invalid:a};for(let c=0;c<i.length;c++){const d=i[c],f=e(d,{options:d,path:`${s.path}[${c}]`});typeof f=="object"?(r=l(f.valid),a.push(...f.invalid),f.cleared!=null&&o.push(f.cleared)):(r=l(f),f&&o.push(d))}return{valid:r,cleared:r||!n?o:null,invalid:a}},t??`${e[_a]} array`),Tr=(e,t="an object array")=>An((n,i)=>{if(!gn(n))return!1;const s=[],r=[];for(let o=0;o<n.length;o++){const a=`${i.path}[${o}]`,l=Jr(n[o],e,a);hC(l.invalid,a)||s.push(l.cleared),r.push(...l.invalid)}return{valid:!0,cleared:s,invalid:r}},t),iy=(e,t)=>An((n,i)=>bh(n)?CI in n?!0:{valid:!0,cleared:Object.assign((...r)=>{const o=h5(n,r);if(o==null)return;const a=e(o,{options:o,path:""});if(typeof a=="object"){if(a.invalid.forEach(v5(i,e[_a])),a.valid)return a.cleared}else{if(a)return o;eM(`Callback \`${i.path}\` returned an invalid value \`${y_(o,50)}\`; expecting ${e[_a]}, ignoring.`)}},{[CI]:!0}),invalid:[]}:!1,"a function"),vi=(e,t="an object")=>An((n,i)=>bh(n)?CI in n?!0:{valid:!0,cleared:Object.assign((...r)=>{const o=h5(n,r,i.path);if(o==null)return;const a=Jr(o,e);return a.invalid.forEach(v5(i,t)),a.cleared},{[CI]:!0}),invalid:[]}:!1,"a function");function hC(e,t){return e.some(n=>n.type==="required"&&n.path===t)}function v5(e,t){return n=>{if(n instanceof b_)return eM(`Callback \`${e.path}\` returned an unknown property \`${nM(n.path,n.key)}\`${n.getPostfix()}`);const i=y_(n.value,50);eM(n.key?`Callback \`${e.path}\` returned an invalid property \`${nM(n.path,n.key)}\`: \`${i}\`; expecting ${n.description}, ignoring.`:`Callback \`${e.path}\` returned an invalid value \`${i}\`; expecting ${t??n.description}, ignoring.`)}}var xI=e=>{if(!Hi(e))return!1;const t=Object.keys(e);return t.length===1&&t[0].startsWith("$")},Wme=Ss({color:qe,stop:ct},""),b5=An(e=>{let t=-1/0;for(const n of e)if((n==null?void 0:n.stop)!=null){if(n.stop<t)return!1;t=n.stop}return!0},"color stops to be defined in ascending order"),C_=yi(Ry(2),Mt(Wme),b5),w_=_e("axis","item","series"),rO=Ss({type:tt(bi("gradient")),colorStops:tt(C_),rotation:Ie,gradient:Ft(_e("linear","radial","conic")),bounds:Ft(w_),reverse:Ft(le)},"a gradient object with color stops"),He={stroke:qe,strokeWidth:ae,strokeOpacity:ct},Ume=Ss({type:tt(bi("gradient")),gradient:tt(_e("linear","radial","conic")),bounds:tt(w_),colorStops:tt(zt(C_,yi(Ry(2),Mt(qe)))),rotation:tt(Ie),reverse:tt(le)}),$me=Ss({type:tt(bi("pattern")),pattern:tt(_e("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:m5(2),width:tt(ae),height:tt(ae),fill:tt(qe),fillOpacity:tt(ct),backgroundFill:tt(qe),backgroundFillOpacity:tt(ct),padding:tt(ae),rotation:tt(Ie),scale:tt(ae),stroke:tt(qe),strokeWidth:tt(ae),strokeOpacity:tt(ct)}),Yme=Ss({type:tt(bi("image")),url:Ae,width:ae,height:ae,rotation:tt(Ie),backgroundFill:tt(qe),backgroundFillOpacity:ct,fit:tt(_e("stretch","contain","cover")),repeat:tt(_e("repeat","repeat-x","repeat-y","no-repeat"))}),Kme=XM({gradient:{colorStops:C_,rotation:Ie,gradient:Ft(_e("linear","radial","conic")),bounds:Ft(w_),reverse:Ft(le)},pattern:{pattern:_e("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:m5(2),width:ae,height:ae,rotation:Ie,scale:ae,fill:qe,fillOpacity:ct,backgroundFill:qe,backgroundFillOpacity:ct,...He,padding:Ft(ae)},image:{url:tt(Ae),backgroundFill:qe,backgroundFillOpacity:ct,width:ae,height:ae,fit:_e("stretch","contain","cover","none"),repeat:_e("repeat","repeat-x","repeat-y","no-repeat"),rotation:Ie}},"a color object"),Cl=zt(qe,Ss(Kme,"a color object")),Je={fill:Cl,fillOpacity:ct};Je.fillGradientDefaults=Ft(Ume);Je.fillPatternDefaults=Ft($me);Je.fillImageDefaults=Ft(Yme);var at={lineDash:Mt(ae),lineDashOffset:Ie},ju={...Je,...He,...at,opacity:ct,cornerRadius:ae},sy={...He,...at,opacity:ct},Ii={...Je,...He,...at,opacity:ct};function C5(e){return{enabled:le,range:_e("tooltip","node"),highlightedItem:e,unhighlightedItem:e}}function ls(e,t){return{enabled:le,range:_e("tooltip","node"),highlightedItem:e,unhighlightedItem:e,highlightedSeries:t,unhighlightedSeries:t,bringToFront:le}}var iV=Ss({googleFont:Ae},"google font"),dF=zt(Ae,xI,iV,Mt(zt(Ae,iV))),Jn={color:qe,fontFamily:dF,fontSize:ae,fontStyle:_e("normal","italic","oblique"),fontWeight:zt(ae,_e("normal","bold","bolder","lighter"))},qme=Ss({top:Ie,right:Ie,bottom:Ie,left:Ie},"padding object"),SE=zt(Ie,qme),xE={enabled:le,stroke:qe,strokeWidth:ae,strokeOpacity:ct},cc={border:{...xE},cornerRadius:Ie,padding:SE,...Je};function Zme(e,t,n=1/0){const i=t,s=n,r=e%180*(Math.PI/180),o=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));if(o===0)return{width:i,height:s};if(a===0)return{width:s,height:i};if(!isFinite(s)){const c=a/o,d=i/(a+c*o);return{width:d,height:c*d}}const l=a*a-o*o;if(l===0){const c=Math.min(i,s)/Math.SQRT2;return{width:c,height:c}}return{width:Math.abs((i*a-s*o)/l),height:Math.abs((s*a-i*o)/l)}}function MI(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function Xme(e){return Array.from(new Set(e))}function S_(e,t){return e.reduce((n,i)=>{const s=t(i);return n[s]??(n[s]=[]),n[s].push(i),n},{})}function Jd(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!Jd(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function vu(e,t,n=0){if(e.length===0)return[];const i=[];for(let s=0;s<t;s++)i.push(e.at((s+n)%e.length));return i}function Qme(e,t){const n=new Map;return t.forEach((i,s)=>{n.set(i,s)}),e.sort((i,s)=>{const r=n.get(i)??1/0,o=n.get(s)??1/0;return r-o})}function Jme(e,t){let n=0;for(;n<e.length&&t(e[n]);)n+=1;const i=n;i!==0&&e.splice(0,i)}function eye(e,t){let n=e.length-1;for(;n>=0&&t(e[n]);)n-=1;const i=e.length-1-n;i!==0&&e.splice(e.length-i,i)}var sV=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const n=()=>{clearTimeout(s),t(!0)},s=setTimeout(()=>{const r=this.queue.indexOf(n);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(n)})}notify(){this.queue.splice(0).forEach(e=>e())}};function rV(e=0){return new Promise(t=>{setTimeout(t,e)})}function*Qb(...e){for(const t of e)yield*t}function tye(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Zx(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*fc(e){const t=[void 0,void 0];for(const n of Object.keys(e))t[0]=n,t[1]=e[n],yield t}function Of(e){return e==="true"}function nye(e){return Number(e)}function Sa(e){return e}var oO={role:Sa,"aria-checked":Of,"aria-controls":Sa,"aria-describedby":Sa,"aria-disabled":Of,"aria-expanded":Of,"aria-haspopup":Sa,"aria-hidden":Of,"aria-label":Sa,"aria-labelledby":Sa,"aria-live":Sa,"aria-orientation":Sa,"aria-selected":Of,"data-focus-override":Of,"data-focus-visible-override":Of,"data-preventdefault":Of,class:Sa,for:Sa,id:Sa,tabindex:nye,title:Sa,placeholder:Sa};function fn(e,t,n){n==null||n===""||n===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,n.toString())}function VC(e,t){if(t!=null)for(const[n,i]of fc(t))n!=="class"&&fn(e,n,i)}function fC(e,t,n){var s;if(!(e instanceof HTMLElement))return;const i=e.getAttribute(t);return i===null?n:((s=oO[t])==null?void 0:s.call(oO,i))??void 0}function Mu(e,t,n){e!=null&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n.toString()))}function iye(e,t){for(const[n,i]of fc(t))Mu(e,n,i)}function w5(e,t,n,i,s){return t<e.x+e.width&&t+i>e.x&&n<e.y+e.height&&n+s>e.y}function x_(e,t,n,i=0,s=0){return t>=e.x&&t+i<=e.x+e.width&&n>=e.y&&n+s<=e.y+e.height}function sye(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wm(e,t,n){if(e>t)return;let i;for(;t>=e;){const s=Math.floor((t+e)/2);n(s)?(i=s,e=s+1):t=s-1}return i}function sM(e,t,n){if(e>t)return;let i;for(;t>=e;){const s=Math.floor((t+e)/2);n(s)?(i=s,t=s-1):e=s+1}return i}var rye=class{constructor(e){this.getter=e}get(){var t;let e=(t=this.result)==null?void 0:t.deref();return e||(e=this.getter(),this.result=new WeakRef(e),e)}clear(){this.result=void 0}},Vi=class{constructor(){this.callbacks=new Set}flush(){for(const e of this.callbacks)e();this.callbacks.clear()}merge(e){for(const t of e.callbacks)this.callbacks.add(t)}register(...e){for(const t of e)t&&this.callbacks.add(t)}};function oye(e,t){const n=Math.max(e.length,t.length),i=new Set,s=new Set;for(let r=0;r<n;r++){const o=e[r],a=t[r];o!==a&&(s.has(a)?s.delete(a):a&&i.add(a),i.has(o)?i.delete(o):o&&s.add(o))}return{changed:i.size>0||s.size>0,added:i,removed:s}}function At(e,t,n){return Math.min(n,Math.max(e,t))}function aye(e,t,n=1e-10){return e>=t[0]-n&&e<=t[1]+n}function ll(e,t,n=1e-10){return e===t||Math.abs(e-t)<n}function M_(e){return Math.sign(e)===-1||Object.is(e,-0)}function lye(e){return e%1===0}function oV(e,t=2){const n=10**t;return Math.round(e*n)/n}function cye(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function D_(e){var s;if(Math.floor(e)===e)return 0;let t=String(e),n=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(n=Number(r))}const i=((s=t.split(".")[1])==null?void 0:s.length)??0;return Math.max(i-n,0)}function S5(e){return Array.isArray(e)&&e.length>=2&&e.every(Wn)}function ME(e){return Array.isArray(e)&&e.length>=2&&e.every(S5)}function uye(e){const t=e[0],n=e[e.length-1];return ll(t[0],n[0],.001)&&ll(t[1],n[1],.001)}function aV(e){return Array.isArray(e)&&e.every(ME)&&e.every(uye)}function x5(e){if(e===null)return!0;if(!Hi(e)||e.type==null)return!1;const{type:t,coordinates:n}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(x5);case"MultiPolygon":return Array.isArray(n)&&n.every(aV);case"Polygon":return aV(n);case"MultiLineString":return Array.isArray(n)&&n.every(ME);case"LineString":return ME(n);case"MultiPoint":return ME(n);case"Point":return S5(n);default:return!1}}function dye(e){return Hi(e)&&e.type==="Feature"&&x5(e.geometry)}function hye(e){return Hi(e)&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(dye)}var fye=An(hye,"a GeoJSON object"),gye=class{constructor(e,t){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=e,this.processedEdge=t}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(e){const t=new pye(e);return this._vertexCount++,t}addEdge(e,t,n){n===this.cachedNeighboursEdge?e.updateCachedNeighbours().set(t.value,t):n===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(e),this.pendingProcessingEdgesTo.push(t));const{edges:i}=e,s=i.get(n);s?s.indexOf(t)===-1&&s.push(t):i.set(n,[t])}removeVertex(e){this._vertexCount--;const t=e.edges;if(t){for(const[n,i]of t)this._vertexCount-=i.length;e.clear()}}removeEdge(e,t){for(const[n,i]of e.edges){const s=i.indexOf(t);i.splice(s,1),i.length===0&&e.edges.delete(n)}}removeEdges(e,t){e.edges.delete(t)}getVertexValue(e){return e.value}*neighbours(e){for(const[t,n]of e.edges)for(const i of n)yield i}*neighboursAndEdges(e){for(const[t,n]of e.edges)for(const i of n)yield[i,t]}neighboursWithEdgeValue(e,t){return e.edges.get(t)}findNeighbour(e,t){var n;return(n=e.edges.get(t))==null?void 0:n[0]}findNeighbourValue(e,t){const n=this.findNeighbour(e,t);if(n)return this.getVertexValue(n)}findNeighbourWithValue(e,t,n){const i=n==null?this.neighbours(e):this.neighboursWithEdgeValue(e,n);if(i){for(const s of i)if(this.getVertexValue(s)===t)return s}}findVertexAlongEdge(e,t,n){var s;if(n===this.cachedNeighboursEdge){let r;for(const o of t)if(r=(s=(r??e).readCachedNeighbours())==null?void 0:s.get(o),!r)return;return r}if(t.length===0)return;let i=e;for(const r of t){const o=i?this.neighboursWithEdgeValue(i,n):void 0;if(!o)return;i=o.find(a=>a.value===r)}return i}adjacent(e,t){for(const[n,i]of e.edges)if(i.includes(t))return!0;return!1}},pye=class{constructor(e){this.value=e,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){var e;this.edges.clear(),(e=this._cachedNeighbours)==null||e.clear()}},lV=new Map,mye=1;function Sc(e){const t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);const i=(lV.get(n)??0)+1;return lV.set(n,i),`${n}-${i}`}function DI(){return`ag-charts-${mye++}`}function aO(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??yye()}function yye(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let n=0;n<e.length;n++)(n===4||n===6||n===8||n===10)&&(t+="-"),t+=e[n].toString(16).padStart(2,"0");return t}var vye=(e,t,n)=>{let i=e,s=i;for(const r of t)if(i==null||n(i.value,r)>0)i={value:r,next:i},s=i;else{for(s=s;s.next!=null&&n(s.next.value,r)<=0;)s=s.next;s.next={value:r,next:s.next}}return i},M5=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,D5=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function bye(e){if(!Ks(e))return!1;const t=D5.exec(e);return M5.test(t?t[2]:e)}function A_(e){let t,n;const i=D5.exec(e);i&&([,t,e,n]=i);const s=M5.exec(e);if(!s){ze.warnOnce(`The number formatter is invalid: ${e}`);return}const[,r,o,a,l,c,d,f,g,y,v]=s;return{fill:r,align:o,sign:a,symbol:l,zero:c,width:parseInt(d),comma:f,precision:parseInt(g),trim:!!y,type:v,prefix:t,suffix:n}}function A5(e){const t=typeof e=="string"?A_(e):e;if(t==null)return;const{fill:n,align:i,sign:s="-",symbol:r,zero:o,width:a,comma:l,type:c,prefix:d="",suffix:f="",precision:g}=t;let{trim:y}=t;const v=g==null||isNaN(g);let w;if(!c)w=ol.g,y=!0;else if(c in ol&&c in Jb)w=v?Jb[c]:ol[c];else if(c in ol)w=ol[c];else if(c in Jb)w=Jb[c];else throw new Error(`The number formatter type is invalid: ${c}`);const S=c?6:12;let x;return v||(x=g),(M,A)=>{let k=w(M,x??A??S);return y&&(k=Sye(k)),l&&(k=xye(k,l)),k=Dye(M,k,s),r&&r!=="#"&&(k=`${r}${k}`),r==="#"&&c==="x"&&(k=`0x${k}`),c==="s"&&(k=`${k}${Mye(M)}`),(c==="%"||c==="p")&&(k=`${k}%`),a!=null&&!isNaN(a)&&(k=Aye(k,a,n??o,i)),k=`${d}${k}${f}`,k}}var Jb={b:e=>BT(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>BT(e).toString(8),x:e=>BT(e).toString(16),X:e=>Jb.x(e).toUpperCase(),n:e=>Jb.d(e),"%":e=>`${BT(e*100).toFixed(0)}`},ol={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>ol.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>ol.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>ol.g(e,t).toUpperCase(),n:(e,t)=>ol.g(e,t),p:(e,t)=>ol.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),s=Math.floor(Math.log10(n))-(t-1);if(s<=0)return n.toFixed(-s);const r=10**s;return(Math.round(n/r)*r).toFixed()},s:(e,t)=>{const n=E5(e);return ol.r(e/10**n,t)},"%":(e,t)=>ol.f(e*100,t)},R5=-24,T5=24,Cye={[R5]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[T5]:"Y"},wye="−";function BT(e){return Math.floor(Math.abs(e))}function Sye(e){if(!e.endsWith("0")||e.indexOf(".")===-1)return e;let t=e.length-1;for(;t>0;)if(e[t]=="0")t-=1;else if(e[t]=="."){t-=1;break}else break;return e.substring(0,t+1)}function xye(e,t){let n=e.indexOf(".");n<0&&(n=e.length);const i=e.substring(0,n).split(""),s=e.substring(n);for(let r=i.length-3;r>0;r-=3)i.splice(r,0,t);return`${i.join("")}${s}`}function Mye(e){return Cye[E5(e)]}function E5(e){return At(R5,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,T5)}function Dye(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;const i=n==="+"?"+":"";return`${e>=0?i:wye}${t}`}function Aye(e,t,n=" ",i=">"){let s=e;if(i===">"||!i)s=s.padStart(t,n);else if(i==="<")s=s.padEnd(t,n);else if(i==="^"){const r=Math.max(0,t-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,n),s=s.padEnd(a+s.length,n)}return s}var I5=Object.defineProperty,Rye=Object.getOwnPropertyDescriptor,Zu=(e,t)=>{for(var n in t)I5(e,n,{get:t[n],enumerable:!0})},L=(e,t,n,i)=>{for(var s=i>1?void 0:i?Rye(t,n):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(s=(i?o(t,n,s):o(s))||s);return i&&s&&I5(t,n,s),s},D1=class{constructor(){this.cleanup=new Vi}destroy(){this.cleanup.flush()}},Tye=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const n=this.modules.find(i=>t.type===i.type&&("optionsKey"in t&&"optionsKey"in i?t.optionsKey===i.optionsKey:!0)&&t.identifier===i.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){const i=this.modules.indexOf(n);this.modules.splice(i,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,n=this.modules.filter(r=>e.includes(r.type)),i=r=>{const o=this.dependencies.get(r);return(o==null?void 0:o.flatMap(i).concat(o))??[]},s=[];for(const r of n){const o="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(o)){for(const a of i(o)){if(t.has(a))continue;const l=this.modulesByOptionKey.get(a);if(!l){s.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield r,t.add(o)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},Ou=new Tye,A1=Symbol("interpolate"),AI=e=>e[A1]!=null;function R1(e,t,n,i=1/0){const s={nearest:void 0,distanceSquared:i};for(const r of n){const o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function Eye(e,t,n,i=1/0){var a;const{x:s=e,y:r=t}=((a=n.transformPoint)==null?void 0:a.call(n,e,t))??{},o={nearest:void 0,distanceSquared:i};for(const l of n.children){const{nearest:c,distanceSquared:d}=l.nearestSquared(s,r,o.distanceSquared);if(d===0)return{nearest:c,distanceSquared:d};d<o.distanceSquared&&(o.nearest=c,o.distanceSquared=d)}return o}var rM=class Fb{constructor(t,n,i,s){this.x=t,this.y=n,this.width=i,this.height=s}static fromDOMRect({x:t,y:n,width:i,height:s}){return new Fb(t,n,i,s)}static merge(t){let n=1/0,i=1/0,s=-1/0,r=-1/0;for(const o of t)o.x<n&&(n=o.x),o.y<i&&(i=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new Fb(n,i,s-n,r-i)}static nearestBox(t,n,i){return R1(t,n,i)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:n,width:i,height:s}=this;return new Fb(t,n,i,s)}equals(t){return sye(this,t)}containsPoint(t,n){return x_(this,t,n)}intersection(t){if(!this.collidesBBox(t))return;const n=At(t.x,this.x,t.x+t.width),i=At(t.y,this.y,t.y+t.height),s=At(t.x,this.x+this.width,t.x+t.width),r=At(t.y,this.y+this.height,t.y+t.height);return new Fb(n,i,s-n,r-i)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;const i=t-At(this.x,t,this.x+this.width),s=n-At(this.y,n,this.y+this.height);return i*i+s*s}shrink(t,n){if(typeof t=="number")this.applyMargin(t,n);else for(const i of Object.keys(t)){const s=t[i];typeof s=="number"&&this.applyMargin(s,i)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,n){if(typeof t=="number")this.applyMargin(-t,n);else for(const i of Object.keys(t)){const s=t[i];typeof s=="number"&&this.applyMargin(-s,i)}return this}applyMargin(t,n){switch(n){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,n){return this.x+=t,this.y+=n,this}[A1](t,n){return new Fb(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};rM.zero=Object.freeze(new rM(0,0,0,0));rM.NaN=Object.freeze(new rM(NaN,NaN,NaN,NaN));var Xe=rM,Iye=2e3,cV=Date.now(),kye=()=>{const e=Date.now()-cV;if(e>Iye){const t=(Math.floor(e/100)/10).toFixed(1);ze.log(`**** ${t}s since last log message ****`)}cV=Date.now()},Ut={create(...e){return Object.assign((...n)=>{Ut.check(...e)&&(typeof n[0]=="function"&&(n=MI(n[0]())),kye(),ze.log(...n))},{check:()=>Ut.check(...e),group:(n,i)=>Ut.check(...e)?ze.logGroup(n,i):i()})},check(...e){return e.length===0&&e.push(!0),MI($n("agChartsDebug")).some(n=>e.includes(n))},inDevelopmentMode(e){if(Ut.check("dev"))return e()}};function k5({context:e,pixelRatio:t,width:n,height:i}){e.save();try{e.resetTransform(),e.clearRect(0,0,Math.ceil(n*t),Math.ceil(i*t))}finally{e.restore()}}function L5(e){if(Ut.check("canvas")){const t=e.save.bind(e),n=e.restore.bind(e);let i=0;Object.assign(e,{save(){t(),i++},restore(){if(i===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),i--},verifyDepthZero(){if(i!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${i}`)}})}}function uV(e,t,n){return[Math.floor(e*n),Math.floor(t*n)]}var R_=class{constructor(e){const{width:t,height:n,pixelRatio:i,willReadFrequently:s=!1}=e;this.width=t,this.height=n,this.pixelRatio=i;const[r,o]=uV(t,n,i);this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(i,0,0,i,0,0),L5(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.canvas,t,n)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,n){if(!(e>0&&t>0))return;const{canvas:i,context:s}=this;if(e!==this.width||t!==this.height||n!==this.pixelRatio){const[r,o]=uV(e,t,n);i.width=r,i.height=o}s.setTransform(n,0,0,n,0,0),this.width=e,this.height=t,this.pixelRatio=n}clear(){k5(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},hF=Symbol("BREAK"),I0="__decorator_config",GT="__decorator_accessors";function Lye(e,t){T_(e,t).optional=!0}function T_(e,t){var c;if(Object.getOwnPropertyDescriptor(e,I0)==null&&Object.defineProperty(e,I0,{value:{}}),Object.getOwnPropertyDescriptor(e,GT)==null){const d=(c=Object.getPrototypeOf(e))==null?void 0:c[GT],f=(d==null?void 0:d.slice())??[];Object.defineProperty(e,GT,{value:f})}const n=e[I0],i=t.toString();if(n[i]!=null)return n[i];n[i]={setters:[],getters:[],observers:[]};const s=Object.getOwnPropertyDescriptor(e,t);let r=s==null?void 0:s.get,o=s==null?void 0:s.set;if(r==null||o==null){const d=e[GT];let f=d.indexOf(t);f===-1&&(f=d.push(t)-1),r??(r=function(){let g=this.__accessors;return g==null&&(g=d.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:g})),g[f]}),o??(o=function(g){let y=this.__accessors;y==null&&(y=d.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:y})),y[f]=g})}return Object.defineProperty(e,t,{set:function(d){const{setters:f,observers:g}=n[i];let y;f.some(v=>v.length>2)&&(y=r.call(this));for(const v of f)if(d=v(this,t,d,y),d===hF)return;o.call(this,d);for(const v of g)v(this,d,y)},get:function(){let d=r.call(this);for(const f of n[i].getters)if(d=f(this,t,d),d===hF)return;return d},enumerable:!0,configurable:!1}),n[i]}function ry(e,t,n){return(i,s)=>{const r=T_(i,s);r.setters.push(e),t&&r.getters.unshift(t),n&&Object.assign(r,n)}}function P5(e){return(t,n)=>{T_(t,n).observers.push(e)}}function T1(e){return typeof e<"u"&&I0 in e}function ag(e){const t=new Set;for(;T1(e);)t.add(e==null?void 0:e[I0]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function O5(e){return ag(e).reduce((t,n)=>(t[String(n)]=e[n]??null,t),{})}function Oo(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((n,i)=>Oo(n,t[i])):Tn(e)?Tn(t)?E_(e,t,Oo):!1:e===t}function E_(e,t,n){if(Object.is(e,t))return!0;for(const i of Object.keys(t))if(!(i in e))return!1;for(const i of Object.keys(e))if(!(i in t)||!n(e[i],t[i]))return!1;return!0}function Rn(...e){const t={};for(const n of e){if(!Hi(n))continue;const i=T1(n)?ag(n):Object.keys(n);for(const s of i)Tn(t[s])&&Tn(n[s])?t[s]=Rn(t[s],n[s]):t[s]??(t[s]=n[s])}return t}function oM(...e){const t={};for(const n of e){if(!Hi(n))continue;const i=T1(n)?ag(n):Object.keys(n);for(const s of i)Tn(t[s])&&Tn(n[s])?t[s]=oM(t[s],n[s]):s in t||(t[s]??(t[s]=n[s]))}return t}function N5(e,...t){return t&&gn(e)?e.map(n=>Rn(n,...t)):e}function F5(e,t){const n={};for(const[i,s]of fc(e))n[i]=t(s,i,e);return n}function Ke(e,t){const n={...e};for(const i of t)delete n[i];return n}function fF(e,t){if(e==null)return;const n={};for(const i of t)Object.hasOwn(e,i)&&(n[i]=e[i]);return n}function I_(e,t){return(gn(t)?t:t.split(".")).reduce((i,s)=>i[s],e)}var k_=new Set(["__proto__","constructor","prototype"]);function L_(e,t,n){const i=gn(t)?t.slice():t.split("."),s=i.pop();if(i.some(o=>k_.has(o)))return;const r=i.reduce((o,a)=>o[a],e);return r[s]=n,r[s]}function gF(e,t,n){if(n===void 0)return t;for(const i of e){const s=n[i];s!==void 0&&(t[i]=s)}return t}function Ud(e){return e==null||typeof e!="object"||!Tn(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t];n!==null&&(typeof n=="object"||typeof n=="function")&&!Object.isFrozen(n)&&Ud(n)})),e}function _5(e,t){return Tn(e)&&t in e}function Pye(e,t){return _5(e,t)&&typeof e[t]=="string"}var B5=(e,t)=>e===t;function Be(e){return function(t,n){const i=`__${n}`;t[n]||Oye(t,n,i,e)}}function G5(e){return Be(e)}function Ba(e){return Be(e)}function P_(e){const t=e??{};return t.equals=Jd,Be(e)}function Oye(e,t,n,i){const{changeCb:s,convertor:r,checkDirtyOnAssignment:o=!1}=i??{},a={changeCb:s,checkDirtyOnAssignment:o,convertor:r},l=_ye(n,Fye(Nye(Bye(n,a),a),a),a);Object.defineProperty(e,t,{set:l,get:function(){return this[n]},enumerable:!0,configurable:!0})}function Nye(e,t){const{convertor:n}=t;return n?function(i){e.call(this,n(i))}:e}var z5=Symbol("no-change");function Fye(e,t){const{changeCb:n}=t;return n?function(i){const s=e.call(this,i);return s!==z5&&n.call(this,this),s}:e}function _ye(e,t,n){const{checkDirtyOnAssignment:i}=n;return i?function(s){const r=t.call(this,s);return(s==null?void 0:s._dirty)===!0&&this.markDirty(e),r}:t}function Bye(e,t){const{equals:n=B5}=t;return function(i){const s=this[e];return n(i,s)?z5:(this[e]=i,this.onChangeDetection(e),i)}}var lO=(e,t)=>Math.sign(e-t);function H5(e,t){if(typeof e=="number"&&typeof t=="number")return lO(e,t);const n=typeof e=="number"?[e]:e,i=typeof t=="number"?[t]:t,s=Math.min(n.length,i.length);for(let r=0;r<s;r+=1){const o=lO(n[r],i[r]);if(o!==0)return o}return lO(n.length,i.length)}var V5=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(V5||{}),Gye=5,QM=class pF{constructor(t){this.serialNumber=pF._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Sc(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0,this.scene=t==null?void 0:t.scene,((t==null?void 0:t.debugDirty)??pF._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,n,i){var o,a;const s=t==null?void 0:t.toSVG();if(s==null||!s.elements.length&&!((o=s.defs)!=null&&o.length))return;const r=as("svg");if(r.setAttribute("width",String(n)),r.setAttribute("height",String(i)),r.setAttribute("viewBox",`0 0 ${n} ${i}`),r.setAttribute("overflow","visible"),(a=s.defs)!=null&&a.length){const l=as("defs");l.append(...s.defs),r.append(l)}return r.append(...s.elements),r.outerHTML}static*extractBBoxes(t,n){for(const i of t)if(!n||i.visible&&!i.transitionOut){const s=i.getBBox();s&&(yield s)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){var t;return(t=this.scene)==null?void 0:t.layersManager}get imageLoader(){var t;return(t=this.scene)==null?void 0:t.imageLoader}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,n=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(t){t.ctx.save();try{this.render(t)}catch(n){const i=n.errorCount??1;if(i>=Gye)throw n.errorCount=i,n;ze.warnOnce("Error during rendering",n,n.stack)}finally{t.ctx.restore()}}render(t){const{stats:n}=t;if(this.debugDirtyProperties(),t.debugNodeSearch){const i=this.name??this.id;t.debugNodeSearch.some(s=>typeof s=="string"?s===i:s.test(i))&&(t.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(t){this.scene=t}*traverseUp(t){let n=this;for(t&&(yield n);n=n.parentNode;)yield n}isRoot(){return!this.parentNode}removeChild(t){throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`)}remove(){var t;(t=this.parentNode)==null||t.removeChild(this)}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}batchedUpdate(t){this.batchLevel++,t(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(t){return this.batchLevel++,Object.assign(this,t),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(t,n){return!1}pickNode(t,n){if(this.containsPoint(t,n))return this}pickNodes(t,n,i=[]){return this.containsPoint(t,n)&&i.push(this),i}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(t){this.markDirty(t)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(t){var n;if(this.batchLevel>0){this.batchDirty=!0;return}t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),this.cachedBBox=void 0,(n=this.parentNode)==null||n.markDirty()}markDebugProperties(t){var s,r,o;const n=((s=this._debugDirtyProperties)==null?void 0:s.get(t))??[],i=((r=new Error().stack)==null?void 0:r.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`)))??"unknown";n.push(i[0].replace(" at ","").trim()),(o=this._debugDirtyProperties)==null||o.set(t,n)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,n)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${n} (${t.length}x)`),t.forEach(i=>console.log(i)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){var t;(t=this.parentNode)==null||t.markDirtyChildrenOrder()}toSVG(){}};QM._nextSerialNumber=0;QM._debugEnabled=!1;L([Be()],QM.prototype,"visible",2);L([Ba({changeCb:e=>e.onZIndexChange()})],QM.prototype,"zIndex",2);var lh=QM,fl=Math.PI*2,Xx=Math.PI/2;function Cs(e){return e%=fl,e+=fl,e%=fl,e}function zye(e){return e%=fl,e+=fl,e!==fl&&(e%=fl),e}function RI(e){return e%=fl,e<-Math.PI?e+=fl:e>=Math.PI&&(e-=fl),e}function Sm(e,t,n){const i=Cs(e),s=Cs(t),r=Cs(n);return s<r?s<=i&&i<=r:s>r?s<=i||i<=r:t!==n}function Ar(e){return e/180*Math.PI}function Hye(e){return e/Math.PI*180}function E1(e,t){return e=Cs(e),t=Cs(t),t-e+(e>t?fl:0)}function j5(e){const t=Cs(e);return t<=Xx?t/Xx:t<=Math.PI?(Math.PI-t)/Xx:t<=1.5*Math.PI?(t-Math.PI)/Xx:(fl-t)/Xx}function mF(e,t,n){const i=j5(n);return e*i+t*Math.abs(1-i)}function ch(e){return e?Cs(Ar(e)):0}var tm=(e,t,n)=>e*(1-n)+t*n,cO=e=>{const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},uO=e=>{const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},W5=class On{constructor(t,n,i,s=1){this.r=At(0,t||0,1),this.g=At(0,n||0,1),this.b=At(0,i||0,1),this.a=At(0,s||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!On.parseHex(t):t.indexOf("rgb")>=0?!!On.stringToRgba(t):On.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return On.fromHexString(t);const n=On.nameToHex.get(t.toLowerCase());if(n)return On.fromHexString(n);if(t.indexOf("rgb")>=0)return On.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:n=t.split("").map(i=>parseInt(i,16)).map(i=>i+i*16);break}if((n==null?void 0:n.length)>=3&&n.every(i=>i>=0))return n.length===3&&n.push(255),n}static fromHexString(t){const n=On.parseHex(t);if(n){const[i,s,r,o]=n;return new On(i/255,s/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,i=-1;for(let a=0;a<t.length;a++){const l=t[a];if(n===-1&&l==="(")n=a;else if(l===")"){i=a;break}}if(n===-1||i===-1)return;const r=t.substring(n+1,i).split(","),o=[];for(let a=0;a<r.length;a++){const l=r[a];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=At(0,c,100),c/=100):a===3?c=At(0,c,1):(c=At(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(t){const n=On.stringToRgba(t);if(n){if(n.length===3)return new On(n[0],n[1],n[2]);if(n.length===4)return new On(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new On(t[0],t[1],t[2],t[3]);if(t.length===3)return new On(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,i,s=1){const r=On.HSBtoRGB(t,n,i);return new On(r[0],r[1],r[2],s)}static fromHSL(t,n,i,s=1){const r=On.HSLtoRGB(t,n,i);return new On(r[0],r[1],r[2],s)}static fromOKLCH(t,n,i,s=1){const r=On.OKLCHtoRGB(t,n,i);return new On(r[0],r[1],r[2],s)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+On.padHex(Math.round(this.r*255).toString(16))+On.padHex(Math.round(this.g*255).toString(16))+On.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=On.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],i=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*i)/i),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return On.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,i){const s=cO(t),r=cO(n),o=cO(i),a=Math.cbrt(.4122214708*s+.5363325363*r+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*r+.1073969566*o),c=Math.cbrt(.0883024619*s+.2817188376*r+.6299787005*o),d=.2104542553*a+.793617785*l-.0040720468*c,f=1.9779984951*a-2.428592205*l+.4505937099*c,g=.0259040371*a+.7827717662*l-.808675766*c,y=Math.atan2(g,f)*180/Math.PI,v=d,w=Math.hypot(f,g),S=y>=0?y:y+360;return[v,w,S]}static OKLCHtoRGB(t,n,i){const s=t,r=n*Math.cos(i*Math.PI/180),o=n*Math.sin(i*Math.PI/180),a=(s+.3963377774*r+.2158037573*o)**3,l=(s-.1055613458*r-.0638541728*o)**3,c=(s-.0894841775*r-1.291485548*o)**3,d=4.0767416621*a-3.3077115913*l+.2309699292*c,f=-1.2684380046*a+2.6097574011*l-.3413193965*c,g=-.0041960863*a-.7034186147*l+1.707614701*c,y=uO(d),v=uO(f),w=uO(g);return[y,v,w]}static RGBtoHSL(t,n,i){const s=Math.min(t,n,i),r=Math.max(t,n,i),o=(r+s)/2;let a,l;if(r===s)a=0,l=0;else{const c=r-s;l=o>.5?c/(2-r-s):c/(r+s),r===t?a=(n-i)/c+(n<i?6:0):r===n?a=(i-t)/c+2:a=(t-n)/c+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,n,i){if(t=(t%360+360)%360,n===0)return[i,i,i];const s=i<.5?i*(1+n):i+n-i*n,r=2*i-s;function o(d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?r+(s-r)*6*d:d<1/2?s:d<2/3?r+(s-r)*(2/3-d)*6:r}const a=o(t/360+1/3),l=o(t/360),c=o(t/360-1/3);return[a,l,c]}static RGBtoHSB(t,n,i){const s=Math.min(t,n,i),r=Math.max(t,n,i),o=r===0?0:(r-s)/r;let a=0;if(s!==r){const l=r-s,c=(r-t)/l,d=(r-n)/l,f=(r-i)/l;t===r?a=f-d:n===r?a=2+c-f:a=4+d-c,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(t,n,i){t=(t%360+360)%360/360;let s=0,r=0,o=0;if(n===0)s=r=o=i;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),c=i*(1-n),d=i*(1-n*l),f=i*(1-n*(1-l));switch(a>>0){case 0:s=i,r=f,o=c;break;case 1:s=d,r=i,o=c;break;case 2:s=c,r=i,o=f;break;case 3:s=c,r=d,o=i;break;case 4:s=f,r=c,o=i;break;case 5:s=i,r=c,o=d;break}}return[s,r,o]}static mix(t,n,i){return new On(tm(t.r,n.r,i),tm(t.g,n.g,i),tm(t.b,n.b,i),tm(t.a,n.a,i))}static lighten(t,n){const i=On.RGBtoOKLCH(t.r,t.g,t.b);return On.fromOKLCH(At(0,i[0]+n,1),i[1],i[2])}static darken(t,n){const i=On.RGBtoOKLCH(t.r,t.g,t.b);return On.fromOKLCH(At(0,i[0]-n,1),i[1],i[2])}static interpolate(t,n){const i=1/(t.length-1),s=t.map(r=>On.RGBtoOKLCH(r.r,r.g,r.b));return Array.from({length:n},(r,o)=>{const a=o/(n-1),l=t.length<=2?0:Math.min(Math.floor(a*(t.length-1)),t.length-2),c=(a-l*i)/i,d=s[l],f=s[l+1];return On.fromOKLCH(tm(d[0],f[0],c),tm(d[1],f[1],c),tm(d[2],f[2],c))})}};W5.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var ai=W5,U5=(e=>(e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing",e[e.Interpolate=2]="Interpolate",e))(U5||{}),I1=class{ticks(e,t,n){}niceDomain(e,t=this.domain){return t}get bandwidth(){}get step(){}get inset(){}},JM=(e,t)=>{const n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(i){this[n]!==i&&(this[n]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},dV=e=>{const t=ai.fromString(e),[n,i,s]=ai.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:s,a:t.a}},dO=1e-6,hV=e=>e.c<dO||e.l<dO||e.l>1-dO,Vye=(e,t,n)=>{n=At(0,n,1);let i;if(hV(e))i=t.h;else if(hV(t))i=e.h;else{const a=e.h;let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),i=a*(1-n)+l*n}const s=e.c*(1-n)+t.c*n,r=e.l*(1-n)+t.l*n,o=e.a*(1-n)+t.a*n;return ai.fromOKLCH(r,s,i,o)},gw=class extends I1{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(dV)}update(){const{domain:e,range:t}=this;e.length<2&&(ze.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const i=e[n-1],s=e[n];if(i>s){ze.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(dV)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:n,parsedRange:i}=this,s=t[0],r=t.at(-1),o=n[0],a=n[n.length-1];if(e<=s)return o;if(e>=r)return a;let l,c;if(t.length===2){const g=(e-s)/(r-s),y=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(g*(n.length-1)),n.length-2),c=(g-l*y)/y}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const g=t[l],y=t[l+1];c=(e-g)/(y-g)}const d=i[l],f=i[l+1];return Vye(d,f,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ze.warnOnce("Expected update to not invalidate scale"))}};L([JM],gw.prototype,"domain",2);L([JM],gw.prototype,"range",2);var k1=class{constructor(e,t=[],n){this.colorSpace=e,this.stops=t,this.bbox=n,this._cache=void 0}createGradient(e,t,n){const i=this.bbox??t;if(!i.isFinite())return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:s,colorSpace:r}=this;if(s.length===0)return;if(s.length===1)return s[0].color;let o=this.createCanvasGradient(e,i,n);if(o==null)return;const a=r==="oklch",l=.05;let c=s[0];o.addColorStop(c.stop,c.color);for(let d=1;d<s.length;d+=1){const f=s[d];if(a){const g=new gw;g.domain=[c.stop,f.stop],g.range=[c.color,f.color];for(let y=c.stop+l;y<f.stop;y+=l)o.addColorStop(y,g.convert(y))}o.addColorStop(f.stop,f.color),c=f}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:i,gradient:o},o}toSvg(e){const t=this.bbox??e,n=this.createSvgGradient(t);return this.stops.forEach(({stop:i,color:s})=>{const r=as("stop");r.setAttribute("offset",`${i}`),r.setAttribute("stop-color",`${s}`),n.appendChild(r)}),n}},$5=class extends k1{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}createCanvasGradient(e,t,n){const{angle:s}=this,r=ch(s+-90),o=(n==null?void 0:n.centerX)??t.x+t.width*.5,a=(n==null?void 0:n.centerY)??t.y+t.height*.5;return e.createConicGradient(r,o,a)}createSvgGradient(e){return as("linearGradient")}},Y5=class extends k1{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}getGradientPoints(e){const{angle:n}=this,i=ch(n+90),s=Math.cos(i),r=Math.sin(i),o=e.width,a=e.height,l=e.x+o*.5,c=e.y+a*.5,d=Math.sqrt(a*a+o*o)/2,f=Math.atan2(a,o);let g;i<Math.PI/2?g=i:i<Math.PI?g=Math.PI-i:i<1.5*Math.PI?g=i-Math.PI:g=2*Math.PI-i;const y=d*Math.abs(Math.cos(g-f));return{x0:l+s*y,y0:c+r*y,x1:l-s*y,y1:c-r*y}}createCanvasGradient(e,t){const{x0:n,y0:i,x1:s,y1:r}=this.getGradientPoints(t);if(!(isNaN(n)||isNaN(i)||isNaN(s)||isNaN(r)))return e.createLinearGradient(n,i,s,r)}createSvgGradient(e){const{x0:t,y0:n,x1:i,y1:s}=this.getGradientPoints(e),r=as("linearGradient");return r.setAttribute("x1",String(t)),r.setAttribute("y1",String(n)),r.setAttribute("x2",String(i)),r.setAttribute("y2",String(s)),r.setAttribute("gradientUnits","userSpaceOnUse"),r}},jye=class extends k1{constructor(e,t,n){super(e,t,n)}createCanvasGradient(e,t,n){const i=(n==null?void 0:n.centerX)??t.x+t.width*.5,s=(n==null?void 0:n.centerY)??t.y+t.height*.5,r=(n==null?void 0:n.innerRadius)??0,o=(n==null?void 0:n.outerRadius)??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(i,s,r,i,s,o)}createSvgGradient(e){const t=e.x+e.width*.5,n=e.y+e.height*.5,i=as("radialGradient");return i.setAttribute("cx",String(t)),i.setAttribute("cy",String(n)),i.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),i.setAttribute("gradientUnits","userSpaceOnUse"),i}},F=Lye,It=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(e==null)return this.clear(),this;if(typeof e!="object")return ze.warn(`unable to set ${t} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const i of ag(this))if(n.has(i)){const s=e[i],r=this;if(jm(r[i]))if(r[i]instanceof eD){const o=r[i].reset(s);o==null?ze.warn(`unable to set [${String(i)}] - expecting a properties array`):r[i]=o}else r[i].set(s);else Tn(s)?r[i]=oM(s,r[i]??{}):r[i]=s;n.delete(i)}this.handleUnknownProperties(n,e);for(const i of n)ze.warn(`unable to set [${String(i)}] in ${t} - property is unknown`);return this}clear(){for(const e of ag(this)){const t=this[e];jm(t)?t.clear():this[e]=void 0}return this}toJson(){return ag(this).reduce((e,t)=>{const n=this[t];return e[String(t)]=jm(n)?n.toJson():n,e},{})}},eD=class K5 extends Array{constructor(t,...n){super(n.length);const s=(r=>{var o,a;return!!((a=(o=r==null?void 0:r.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(gn(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){if(Array.isArray(t))return new K5(this.itemFactory,...t)}toJson(){return this.map(t=>{var n;return((n=t==null?void 0:t.toJson)==null?void 0:n.call(t))??t})}};function jm(e){return e instanceof It||e instanceof eD}var O_=class extends It{constructor(){super(...arguments),this.color="black"}};L([F],O_.prototype,"stop",2);L([F],O_.prototype,"color",2);function Wye(e){let t;for(const n of e)if((n==null?void 0:n.stop)!=null){if(t!=null&&n.stop<t)return!1;t=n.stop}return!0}function q5(e){return e.flatMap((t,n)=>{var r;const{stop:i}=t,s=(r=e.at(n+1))==null?void 0:r.color;return s!=null?[t,{stop:i,color:s}]:[t]})}function Uye(e,t){const n=t==="discrete"?1:0,i=e.map((s,r,{length:o})=>({stop:(r+n)/(o-1+n),color:s}));return t==="discrete"?q5(i):i}function Z5(e,t,n,i="continuous"){var v,w,S,x;const s=e.map(M=>typeof M=="string"?{color:M}:M);if(s.length===0)return Uye(t,i);if(!Wye(s))return ze.warnOnce("[fills] must have the stops defined in ascending order"),[];const r=Math.min(...n),o=Math.max(...n),a=i==="discrete",l=new Float64Array(s.length);let c=0,d=-1;for(let M=0;M<s.length;M+=1){const A=s[M];if(M>=d){d=s.length-1;for(let I=M+1;I<s.length;I+=1)if(((v=s[I])==null?void 0:v.stop)!=null){d=I;break}}let k=A==null?void 0:A.stop;if(k==null){const I=(w=s[c])==null?void 0:w.stop,P=(S=s[d])==null?void 0:S.stop,N=I??r,B=P??o,z=a&&I==null?1:0;k=N+(B-N)*(M-c+z)/(d-c+z)}else c=M;l[M]=Math.max(0,Math.min(1,(k-r)/(o-r)))}let f=(x=s.find(M=>M.color!=null))==null?void 0:x.color,g;const y=s.map((M,A)=>{let k=M==null?void 0:M.color;const I=l[A];return k!=null?f=k:f!=null?k=f:(g==null&&(g=new gw,g.domain=[0,1],g.range=t),k=g.convert(I)),{stop:I,color:k}});return i==="discrete"?q5(y):y}var $ye=class{constructor(e,t){this.imageLoader=e,this._cache=void 0,this.url=t.url,this.backgroundFill=t.backgroundFill??"black",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.repeat=t.repeat??"no-repeat",this.width=t.width,this.height=t.height,this.fit=t.fit??"stretch",this.rotation=t.rotation??0}createCanvasImage(e,t,n,i){if(!t)return null;const[s,r]=this.getSize(t.width,t.height,n,i);return s<1||r<1?(ze.warnOnce("Image fill is too small to render, ignoring."),null):e.createPattern(t,this.repeat)}getSize(e,t,n,i){const{fit:s}=this;let r=e,o=t,a=1;const l=n/i,c=e/t;return s==="stretch"||e===0||t===0?(r=n,o=i):s==="contain"?a=c>l?n/e:i/t:s==="cover"&&(a=c>l?i/t:n/e),[Math.max(1,r*a),Math.max(1,o*a)]}setImageTransform(e,t){var k;if(typeof e=="string")return;const{url:n,rotation:i,width:s,height:r}=this,o=(k=this.imageLoader)==null?void 0:k.loadImage(n);if(!o)return;const a=ch(i),l=Math.cos(a),c=Math.sin(a),[d,f]=this.getSize(o.width,o.height,s??t.width,r??t.height),g=d/o.width,y=f/o.height,v=t.x+t.width/2,w=t.y+t.height/2,S=l*d-c*f,x=c*d+l*f,M=S/2,A=x/2;e==null||e.setTransform(new DOMMatrix([l*g,c*y,-c*g,l*y,v-M,w-A]))}createPattern(e,t,n,i){var c;const s=this.width??t,r=this.height??n,o=this._cache;if(o!=null&&o.ctx===e&&o.width===s&&o.height===r)return o.pattern;const a=(c=this.imageLoader)==null?void 0:c.loadImage(this.url,i),l=this.createCanvasImage(e,a,s,r);if(l!=null)return this._cache={ctx:e,pattern:l,width:s,height:r},l}toSvg(e,t){const{url:n,rotation:i,backgroundFill:s,backgroundFillOpacity:r}=this,{x:o,y:a,width:l,height:c}=e,d=as("pattern");d.setAttribute("viewBox",`0 0 ${l} ${c}`),d.setAttribute("x",String(o)),d.setAttribute("y",String(a)),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("patternUnits","userSpaceOnUse");const f=as("rect");f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("width",String(l)),f.setAttribute("height",String(c)),f.setAttribute("fill",s),f.setAttribute("fill-opacity",String(r)),d.appendChild(f);const g=as("image");return g.setAttribute("href",n),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("width",String(l)),g.setAttribute("height",String(c)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("transform",`scale(${1/t}) rotate(${i}, ${l/2}, ${c/2})`),d.appendChild(g),d}};function fV(e,t,n,i){const s=e-n,r=t-i;return s*s+r*r}function TI(e,t,n,i,s,r,o){if(n===s&&i===r)return Math.min(o,fV(e,t,n,i));const a=s-n,l=r-i,c=Math.max(0,Math.min(1,((e-n)*a+(t-i)*l)/(a*a+l*l))),d=n+c*a,f=i+c*l;return Math.min(o,fV(e,t,d,f))}var Yye=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,pi=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,Kye=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,gV=/^[01]/,qye={z:[],h:[pi],v:[pi],m:[pi,pi],l:[pi,pi],t:[pi,pi],s:[pi,pi,pi,pi],q:[pi,pi,pi,pi],c:[pi,pi,pi,pi,pi,pi],a:[pi,pi,pi,gV,gV,pi,pi]};function Zye(e){if(!e)return;const t=[];let n=0,i;for(;n<e.length;){const s=Yye.exec(e.slice(n));let r;if(s==null){if(!i){ze.warnOnce(`Invalid SVG path, error at index ${n}: Missing command.`);return}r=i}else r=s[1],n+=s[0].length;const o=Xye(r,e,n);if(!o)return;n=o[0],i=r,t.push(o[1])}return t}function Xye(e,t,n){const i=qye[e.toLocaleLowerCase()],s={command:e,params:[]};for(const r of i){const o=t.slice(n),a=r.exec(o);if(a!=null){s.params.push(parseFloat(a[0])),n+=a[0].length;const l=Kye.exec(o.slice(a[0].length));l!=null&&(n+=l[0].length)}else{if(s.params.length===1)return[n,s];ze.warnOnce(`Invalid SVG path, error at index ${n}: No path segment parameters for command [${e}]`);return}}return[n,s]}function Qye(e,t){const n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function Jye(e,t,n,i=1e-6){if(Math.abs(e)<i)return Qye(t,n);const s=t*t-4*e*n,r=[];if(Math.abs(s)<i){const o=-t/(2*e);o>=0&&o<=1&&r.push(o)}else if(s>0){const o=Math.sqrt(s),a=(-t-o)/(2*e),l=(-t+o)/(2*e);a>=0&&a<=1&&r.push(a),l>=0&&l<=1&&r.push(l)}return r}function eve(e,t,n,i,s=1e-6){if(Math.abs(e)<s)return Jye(t,n,i,s);const r=t/e,o=n/e,a=i/e,l=(3*o-r*r)/9,c=(9*r*o-27*a-2*r*r*r)/54,d=l*l*l+c*c,f=1/3,g=[];if(d>=0){const y=Math.sqrt(d),v=Math.sign(c+y)*Math.pow(Math.abs(c+y),f),w=Math.sign(c-y)*Math.pow(Math.abs(c-y),f),S=Math.abs(Math.sqrt(3)*(v-w)/2),x=-f*r+(v+w);if(x>=0&&x<=1&&g.push(x),Math.abs(S)<s){const M=-f*r-(v+w)/2;M>=0&&M<=1&&g.push(M)}}else{const y=Math.acos(c/Math.sqrt(-l*l*l)),v=f*r,w=2*Math.sqrt(-l),S=w*Math.cos(f*y)-v,x=w*Math.cos(f*(y+2*Math.PI))-v,M=w*Math.cos(f*(y+4*Math.PI))-v;S>=0&&S<=1&&g.push(S),x>=0&&x<=1&&g.push(x),M>=0&&M<=1&&g.push(M)}return g}function k0(e,t,n,i,s,r,o,a){const l=(n-e)*(a-r)-(i-t)*(o-s);if(l===0)return 0;const c=((o-s)*(t-r)-(e-s)*(a-r))/l,d=((n-e)*(t-r)-(i-t)*(e-s))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function tve(e,t,n,i,s,r,o,a,l,c,d,f){let g=0;const y=c-f,v=d-l,w=l*(f-c)-c*(d-l),S=pV(e,n,s,o),x=pV(t,i,r,a),M=y*S[0]+v*x[0],A=y*S[1]+v*x[1],k=y*S[2]+v*x[2],I=y*S[3]+v*x[3]+w,P=eve(M,A,k,I);for(const N of P){const B=N*N,z=N*B,W=S[0]*z+S[1]*B+S[2]*N+S[3],Y=x[0]*z+x[1]*B+x[2]*N+x[3];let K;l===d?K=(Y-c)/(f-c):K=(W-l)/(d-l),K>=0&&K<=1&&g++}return g}function pV(e,t,n,i){return[-e+3*t-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function jC(e,t,n,i,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)*s**2*n+s**3*i}function EI(e,t,n,i,s){if(s<=Math.min(e,i))return e<i?0:1;if(s>=Math.max(e,i))return e<i?1:0;let r=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(r+o)/2,jC(e,t,n,i,a)<s?r=a:o=a;return a}function aM(e,t,n,i,s,r,o,a,l){const c=(1-l)*e+l*n,d=(1-l)*t+l*i,f=(1-l)*n+l*s,g=(1-l)*i+l*r,y=(1-l)*s+l*o,v=(1-l)*r+l*a,w=(1-l)*c+l*f,S=(1-l)*d+l*g,x=(1-l)*f+l*y,M=(1-l)*g+l*v,A=(1-l)*w+l*x,k=(1-l)*S+l*M;return[[{x:e,y:t},{x:c,y:d},{x:w,y:S},{x:A,y:k}],[{x:A,y:k},{x,y:M},{x:y,y:v},{x:o,y:a}]]}function mV(e,t,n,i){const s=-e+3*t-3*n+i,r=2*(e-2*t+n),o=-e+t;if(s===0){if(r!==0){const l=-o/r;if(l>0&&l<1)return[l]}return[]}const a=r*r-4*s*o;if(a>=0){const l=Math.sqrt(a),c=(-r+l)/(2*s),d=(-r-l)/(2*s);return[c,d].filter(f=>f>0&&f<1)}return[]}function X5(e,t,n,i,s,r,o,a){const l=mV(e,n,s,o),c=mV(t,i,r,a);return[...l,...c]}function hO(e,t,n){const i=jC(e[0].x,e[1].x,e[2].x,e[3].x,.5),s=jC(e[0].y,e[1].y,e[2].y,e[3].y,.5),r=Math.hypot(i-t,s-n),o=Math.min(Math.hypot(e[0].x-t,e[0].y-n),Math.hypot(e[1].x-t,e[1].y-n),Math.hypot(e[2].x-t,e[2].y-n),Math.hypot(e[3].x-t,e[3].y-n));return{points:e,distance:r,minDistance:o}}function Q5(e,t,n,i,s,r,o,a,l,c,d=1){let g={value:hO([{x:e,y:t},{x:n,y:i},{x:s,y:r},{x:o,y:a}],l,c),next:null},y;for(;g!=null;){const{points:v,distance:w,minDistance:S}=g.value;if(g=g.next,(y==null||w<y.distance)&&(y={distance:w,minDistance:S}),y!=null&&y.distance-S<=d)continue;const[x,M]=aM(v[0].x,v[0].y,v[1].x,v[1].y,v[2].x,v[2].y,v[3].x,v[3].y,.5),A=[hO(x,l,c),hO(M,l,c)].sort(yV);g=vye(g,A,yV)}return(y==null?void 0:y.distance)??1/0}var yV=(e,t)=>t.minDistance-e.minDistance,WC=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.sx=e,this.sy=t,this.cx=e,this.cy=t,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.cx=e,this.cy=t,this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}cubicCurveTo(e,t,n,i,s,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,i,s,r),this.commands.push(2),this.params.push(e,t,n,i,s,r)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,s){s=Math.min(s,n/2,i/2),this.moveTo(e,t+s),this.arc(e+s,t+s,s,Math.PI,1.5*Math.PI),this.lineTo(e+s,t),this.lineTo(e+n-s,t),this.arc(e+n-s,t+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+s),this.lineTo(e+n,t+i-s),this.arc(e+n-s,t+i-s,s,0,Math.PI/2),this.lineTo(e+n-s,t+i),this.lineTo(e+s,t+i),this.arc(e+ +s,t+i-s,s,Math.PI/2,Math.PI),this.lineTo(e,t+i-s),this.closePath()}ellipse(e,t,n,i,s,r,o,a=!1){const l=n,c=i/n,d=Math.cos(s),f=Math.sin(s),g=-c*f,y=c*d,v=l*Math.cos(r),w=l*Math.sin(r),S=e+d*v+g*w,x=t+f*v+y*w,M=(S-this.cx)**2+(x-this.cy)**2;this.openedPath?M>1e-6&&this.lineTo(S,x):this.moveTo(S,x);let A=a?-Cs(r-o):Cs(o-r);Math.abs(Math.abs(o-r)-2*Math.PI)<1e-6&&A<2*Math.PI&&(A+=2*Math.PI*(a?-1:1));const k=Math.max(Math.ceil(Math.abs(A)/(Math.PI/2)),1),I=A/k,P=4/3*Math.tan(I/4);for(let N=0;N<k;N+=1){const B=r+I*(N+0),z=r+I*(N+1),W=l*Math.sin(B),Y=l*Math.cos(B),K=l*Math.sin(z),q=l*Math.cos(z),te=Y-P*W,re=W+P*Y,X=q+P*K,ne=K-P*q,Z=q,Se=K;this.cubicCurveTo(e+d*te+g*re,t+f*te+y*re,e+d*X+g*ne,t+f*X+y*ne,e+d*Z+g*Se,t+f*Z+y*Se)}}arc(e,t,n,i,s,r){this.ellipse(e,t,n,n,0,i,s,r)}appendSvg(e){const t=Zye(e);if(t==null)return!1;let n=0,i=0,s,r,o=0,a=0;for(const{command:l,params:c}of t){s??(s=c[0]),r??(r=c[1]);const d=l===l.toLowerCase(),f=d?s:0,g=d?r:0;switch(l.toLowerCase()){case"m":this.moveTo(f+c[0],g+c[1]),s=f+c[0],r=g+c[1],n=s,i=r;break;case"c":this.cubicCurveTo(f+c[0],g+c[1],f+c[2],g+c[3],f+c[4],g+c[5]),o=f+c[2],a=g+c[3],s=f+c[4],r=g+c[5];break;case"s":this.cubicCurveTo(s+s-o,r+r-a,f+c[0],g+c[1],f+c[2],g+c[3]),o=f+c[0],a=g+c[1],s=f+c[2],r=g+c[3];break;case"q":this.cubicCurveTo((f+2*c[0])/3,(g+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),o=c[0],a=c[1],s=c[2],r=c[3];break;case"t":this.cubicCurveTo((s+2*(s+s-o))/3,(r+2*(r+r-a))/3,(2*(s+s-o)+c[0])/3,(2*(r+r-a)+c[1])/3,c[0],c[1]),o=s+s-o,a=r+r-a,s=c[0],r=c[1];break;case"a":this.svgEllipse(s,r,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],f+c[5],g+c[6]),s=f+c[5],r=g+c[6];break;case"h":this.lineTo(f+c[0],r),s=f+c[0];break;case"l":this.lineTo(f+c[0],g+c[1]),s=f+c[0],r=g+c[1];break;case"v":this.lineTo(s,g+c[0]),r=g+c[0];break;case"z":this.closePath(),s=n,r=i;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(e,t,n,i,s,r,o,a,l){n=Math.abs(n),i=Math.abs(i);const c=(e-a)/2,d=(t-l)/2,f=Math.sin(s),g=Math.cos(s),y=g*c+f*d,v=-f*c+g*d,w=y/n,S=v/i;let x=w*w+S*S,M=(e+a)/2,A=(t+l)/2,k=0,I=0;x>=1?(x=Math.sqrt(x),n*=x,i*=x):(x=Math.sqrt(1/x-1),r===o&&(x=-x),k=x*n*S,I=-x*i*w,M+=g*k-f*I,A+=f*k+g*I);const P=Math.atan2((v-I)/i,(y-k)/n),N=Math.atan2((-v-I)/i,(-y-k)/n)-P,B=P+N,z=!!(1-o);this.ellipse(M,A,n,i,s,P,B,z)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const n=this.commands,i=this.params,s=n.length,r=-1e4,o=-1e4;let a=NaN,l=NaN,c=0,d=0,f=0;for(let g=0,y=0;g<s;g++)switch(n[g]){case 0:f+=k0(a,l,c,d,r,o,e,t),c=i[y++],a=c,d=i[y++],l=d;break;case 1:f+=k0(c,d,i[y++],i[y++],r,o,e,t),c=i[y-2],d=i[y-1];break;case 2:f+=tve(c,d,i[y++],i[y++],i[y++],i[y++],i[y++],i[y++],r,o,e,t),c=i[y-2],d=i[y-1];break;case 3:f+=k0(a,l,c,d,r,o,e,t);break}return f%2===1}distanceSquared(e,t){let n=1/0;const i=this.commands,s=this.params,r=i.length;let o=NaN,a=NaN,l=0,c=0;for(let d=0,f=0;d<r;d++)switch(i[d]){case 0:l=o=s[f++],c=a=s[f++];break;case 1:{const M=l,A=c;l=s[f++],c=s[f++],n=TI(e,t,M,A,l,c,n);break}case 2:const g=l,y=c,v=s[f++],w=s[f++],S=s[f++],x=s[f++];l=s[f++],c=s[f++],n=Q5(g,y,v,w,S,x,l,c,e,t)**2;break;case 3:n=TI(e,t,l,c,o,a,n);break}return n}toSVG(e=(t,n)=>({x:t,y:n})){const t=[],{commands:n,params:i}=this,s=(o,a)=>{t.push(o);for(let l=0;l<a;l+=2){const{x:c,y:d}=e(i[r++],i[r++]);t.push(c,d)}};let r=0;for(const o of n)switch(o){case 0:s("M",2);break;case 1:s("L",2);break;case 2:s("C",6);break;case 3:s("Z",0);break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[n,i,s,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,c]=[NaN,NaN];const d=(g,y)=>{n=Math.min(y,n),i=Math.min(g,i),s=Math.max(g,s),r=Math.max(y,r),o=g,a=y};let f=0;for(const g of e)switch(g){case 0:d(t[f++],t[f++]),l=o,c=a;break;case 1:d(t[f++],t[f++]);break;case 2:{const y=o,v=a,w=t[f++],S=t[f++],x=t[f++],M=t[f++],A=t[f++],k=t[f++];X5(y,v,w,S,x,M,A,k).forEach(P=>{const N=jC(y,w,x,A,P),B=jC(v,S,M,k,P);d(N,B)}),d(A,k);break}case 3:d(l,c),l=NaN,c=NaN;break}return new Xe(i,n,s-i,r-n)}};function Us(e,t,n){const i=Math.round(t*e)/e;return n==null?i:n===0?0:n<1?Math.ceil(n*e)/e:Math.round((n+t)*e)/e-i}function vV(e,t){return Math.floor(t*e)/e}function fO(e,t,n){const{width:i,height:s,padding:r,strokeWidth:o}=t,a=i/2,l=s/2,c=Math.max(1,i-r-o/2),d=Math.max(1,s-r-o/2);let f=!1;for(const[g,y]of n){const v=a+(g-.5)*c,w=l+(y-.5)*d;f?e.lineTo(v,w):e.moveTo(v,w),f=!0}e.closePath()}var bV={circles(e,{width:t,strokeWidth:n,padding:i}){const s=t/2,r=Math.max(1,s-i-n/2);e.arc(s,s,r,0,Math.PI*2)},squares(e,{width:t,height:n,pixelRatio:i,padding:s,strokeWidth:r}){const o=s+r/2;e.moveTo(Us(i,o),Us(i,o)),e.lineTo(Us(i,t-o),Us(i,o)),e.lineTo(Us(i,t-o),Us(i,n-o)),e.lineTo(Us(i,o),Us(i,n-o)),e.closePath()},triangles(e,t){fO(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){fO(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:n,padding:i}){const r=Math.max(1,(t-i)/2),o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?r:o,d=l*Math.PI/5-a,f=t/2+Math.cos(d)*c,g=n/2+Math.sin(d)*c;e.lineTo(f,g)}e.closePath()},hearts(e,{width:t,height:n,padding:i}){const s=Math.max(1,t/4-i/2),r=t/2,o=n/2+s/2;e.arc(r-s,o-s,s,Ar(130),Ar(330)),e.arc(r+s,o-s,s,Ar(220),Ar(50)),e.lineTo(r,o+s),e.closePath()},crosses(e,t){fO(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:s}){const r=Us(i,t/2)-s%2/2;e.moveTo(r,0),e.lineTo(r,n)},"horizontal-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:s}){const r=Us(i,n/2)-s%2/2;e.moveTo(0,r),e.lineTo(t,r)},"forward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){const s=Math.atan2(n,t),r=i*Math.cos(s),o=i*Math.sin(s);e.moveTo(-r,o),e.lineTo(r,-o),e.moveTo(-r,n+o),e.lineTo(t+r,-o),e.moveTo(t-r,n+o),e.lineTo(t+r,n-o)},"backward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){const s=Math.atan2(n,t),r=i*Math.cos(s),o=i*Math.sin(s);e.moveTo(t-r,-o),e.lineTo(t+r,o),e.moveTo(-r,-o),e.lineTo(t+r,n+o),e.moveTo(-r,n-o),e.lineTo(r,n+o)}},nve=class{constructor(e){this._cache=void 0,this.width=Math.max((e==null?void 0:e.width)??10,1),this.height=Math.max((e==null?void 0:e.height)??10,1),this.fill=e.fill??"none",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"none",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0,this.scale=e.scale??1,this.path=e.path}getPath(e){const{pattern:t,width:n,height:i,padding:s,strokeWidth:r,path:o}=this,a=new WC;let l=bV[t]!=null;return o&&l&&(l=!a.appendSvg(o)),l&&bV[t](a,{width:n,height:i,pixelRatio:e,strokeWidth:r,padding:s}),a}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:s}=this;i&&(t.strokeStyle=n,t.lineWidth=i,t.globalAlpha=s,t.stroke(e))}renderFill(e,t){const{fill:n,fillOpacity:i}=this;n!=="none"&&(t.fillStyle=n,t.globalAlpha=i,t.fill(e))}createCanvasPattern(e,t){const{width:n,height:i,scale:s,backgroundFill:r,backgroundFillOpacity:o}=this;if(n*s<1||i*s<1)return ze.warnOnce("Pattern fill is too small to render, ignoring."),null;const a=new R_({width:n,height:i,pixelRatio:t*s}),l=a.context;r!=="none"&&(l.fillStyle=r,l.globalAlpha=o,l.fillRect(0,0,n,i));const c=this.getPath(t).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);const d=e.createPattern(a.canvas,"repeat");return this.setPatternTransform(d,t),a.destroy(),d}setPatternTransform(e,t,n=0,i=0){if(e==null)return;const s=ch(this.rotation),r=1/t,o=Math.cos(s)*r,a=Math.sin(s)*r;e.setTransform(new DOMMatrix([o,a,-a,o,n,i]))}createPattern(e,t){if(this._cache!=null&&this._cache.ctx===e&&this._cache.pixelRatio===t)return this._cache.pattern;const n=this.createCanvasPattern(e,t);if(n!=null)return this._cache={ctx:e,pattern:n,pixelRatio:t},n}toSvg(){const{width:e,height:t,fill:n,fillOpacity:i,backgroundFill:s,backgroundFillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,rotation:c,scale:d}=this,f=as("pattern");f.setAttribute("viewBox",`0 0 ${e} ${t}`),f.setAttribute("width",String(e)),f.setAttribute("height",String(t)),f.setAttribute("patternUnits","userSpaceOnUse");const g=as("rect");g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("width",String(e)),g.setAttribute("height",String(t)),g.setAttribute("fill",s),g.setAttribute("fill-opacity",String(r)),f.appendChild(g);const y=as("path");return y.setAttribute("fill",n),y.setAttribute("fill-opacity",String(i)),y.setAttribute("stroke-opacity",String(l)),y.setAttribute("stroke",o),y.setAttribute("stroke-width",String(a)),y.setAttribute("transform",`rotate(${c}) scale(${d})`),y.setAttribute("d",this.getPath(1).toSVG()),f.appendChild(y),f}};function mc(e){return Hi(e)&&e.type=="gradient"}function ive(e){return gn(e)&&e.every(t=>typeof t=="string")}function vg(e){return e!==null&&Hi(e)&&e.type=="pattern"}function oy(e){return e!==null&&Hi(e)&&e.type=="image"}function sve(e){return mc(e)||vg(e)}function CV(e,t){const{fontStyle:n,fontWeight:i,fontSize:s,fontFamily:r}=t;n&&e.setAttribute("font-style",n),i&&e.setAttribute("font-weight",String(i)),s!=null&&e.setAttribute("font-size",String(s)),r&&e.setAttribute("font-family",r)}function rve(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:s}=t;n&&e.setAttribute("stroke",n),i!=null&&e.setAttribute("stroke-width",String(i)),s!=null&&e.setAttribute("stroke-opacity",String(s))}function ove(e,t){const{lineDash:n,lineDashOffset:i}=t;if(n!=null&&n.some(s=>s!==0)){const s=n.length%2===1?[...n,...n]:n;e.setAttribute("stroke-dasharray",s.join(" ")),i!=null&&e.setAttribute("stroke-dashoffset",String(i))}}var Ms=class extends lh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(e){if(mc(e))return this.createGradient(e)}createGradient(e){const{colorSpace:t="rgb",gradient:n="linear",colorStops:i,rotation:s=0,reverse:r=!1}=e;if(i==null)return;let o=Z5(i,["black"],[0,1]);switch(r&&(o=o.map(a=>({color:a.color,stop:1-a.stop})).reverse()),n){case"linear":return new Y5(t,o,s);case"radial":return new jye(t,o);case"conic":return new $5(t,o,s)}}getPattern(e){if(vg(e))return this.createPattern(e)}createPattern(e){return new nve(e)}getImage(e){if(oy(e))return this.createImage(e)}createImage(e){return new $ye(this.imageLoader,e)}onFillChange(){typeof this.fill=="object"&&Oo(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,t){var n,i;return Us(((i=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:i.pixelRatio)??1,e,t)}markDirty(e){super.markDirty(e),this.cachedDefaultGradientFillBBox=void 0}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){const{fill:n,fillOpacity:i,fillImage:s}=this;if(n!=null&&n!=="none"&&i>0){const{globalAlpha:r}=e;s&&(e.globalAlpha=s.backgroundFillOpacity,e.fillStyle=s.backgroundFill,this.executeFill(e,t),e.globalAlpha=r),this.applyFillAndAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=r,e.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(e,t){t?e.fill(t):e.fill()}applyFillAndAlpha(e){var a,l;const{fill:t,fillGradient:n,fillPattern:i,fillImage:s,fillOpacity:r=1,opacity:o=1}=this;if(e.globalAlpha*=o*r,n){const{fillBBox:c=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:d}=this;e.fillStyle=n.createGradient(e,c,d)??"black"}else if(i){const{x:c,y:d}=this.getBBox(),f=((l=(a=this.layerManager)==null?void 0:a.canvas)==null?void 0:l.pixelRatio)??1,g=i.createPattern(e,f);i.setPatternTransform(g,f,c,d),g?e.fillStyle=g:(e.fillStyle=i.fill,e.globalAlpha*=i.fillOpacity)}else if(s){const c=this.getBBox(),d=s.createPattern(e,c.width,c.height,this);s.setImageTransform(d,c),e.fillStyle=d??"transparent"}else e.fillStyle=typeof t=="string"?t:"black"}applyStrokeAndAlpha(e){const{stroke:t,strokeOpacity:n=1,strokeGradient:i,opacity:s=1}=this;e.strokeStyle=(i==null?void 0:i.createGradient(e,this.getBBox()))??(typeof t=="string"?t:void 0)??"black",e.globalAlpha*=s*n}applyShadow(e){var i;const t=((i=this.layerManager)==null?void 0:i.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t)}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,lineCap:a,lineJoin:l,miterLimit:c}=this;if(n!=null&&n!=="none"&&i>0&&s>0){const{globalAlpha:d}=e;this.applyStrokeAndAlpha(e),e.lineWidth=i,r&&e.setLineDash(r),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),c!=null&&(e.miterLimit=c),this.executeStroke(e,t),e.globalAlpha=d}}executeStroke(e,t){t?e.stroke(t):e.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(e,t){return this.isPointInPath(e,t)}applySvgFillAttributes(e,t){var s,r;const{fill:n,fillOpacity:i}=this;if(typeof n=="string")e.setAttribute("fill",n);else if(mc(n)&&this.fillGradient){t??(t=[]);const o=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),a=aO();o.setAttribute("id",a),t.push(o),e.setAttribute("fill",`url(#${a})`)}else if(vg(n)&&this.fillPattern){t??(t=[]);const o=this.fillPattern.toSvg(),a=aO();o.setAttribute("id",a),t.push(o),e.setAttribute("fill",`url(#${a})`)}else if(oy(n)&&this.fillImage){t??(t=[]);const o=((r=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:r.pixelRatio)??1,a=this.fillImage.toSvg(this.getBBox(),o),l=aO();a.setAttribute("id",l),t.push(a),e.setAttribute("fill",`url(#${l})`)}else e.setAttribute("fill","none");return e.setAttribute("fill-opacity",String(i)),t}applySvgStrokeAttributes(e){const{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:s,lineDashOffset:r}=this;rve(e,{stroke:Ks(t)?t:void 0,strokeOpacity:n,strokeWidth:i}),ove(e,{lineDash:s,lineDashOffset:r})}};L([Be()],Ms.prototype,"fillOpacity",2);L([Be()],Ms.prototype,"strokeOpacity",2);L([Ba({changeCb:e=>e.onFillChange()})],Ms.prototype,"fill",2);L([Ba({changeCb:e=>e.onStrokeChange()})],Ms.prototype,"stroke",2);L([Be()],Ms.prototype,"strokeWidth",2);L([P_()],Ms.prototype,"lineDash",2);L([Be()],Ms.prototype,"lineDashOffset",2);L([Be()],Ms.prototype,"lineCap",2);L([Be()],Ms.prototype,"lineJoin",2);L([Be()],Ms.prototype,"miterLimit",2);L([Be({convertor:e=>At(0,e??1,1)})],Ms.prototype,"opacity",2);L([Ba({checkDirtyOnAssignment:!0})],Ms.prototype,"fillShadow",2);L([Ba({changeCb:e=>e.onFillChange()})],Ms.prototype,"fillBBox",2);L([Ba({changeCb:e=>e.onFillChange()})],Ms.prototype,"fillParams",2);var J5=[1,0,0,1,0,0],uh=class DE{get e(){return[...this.elements]}constructor(t=J5){this.elements=[...t]}setElements(t){const n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){const t=this.elements;return ll(t[0],1)&&ll(t[1],0)&&ll(t[2],0)&&ll(t[3],1)&&ll(t[4],0)&&ll(t[5],0)}AxB(t,n,i){const s=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];i=i??t,i[0]=s,i[1]=r,i[2]=o,i[3]=a,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const n=new Array(6);return t instanceof DE?this.AxB(this.elements,t.elements,n):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],n),new DE(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let n=t[0],i=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],l=1/(n*r-i*s);return n*=l,i*=l,s*=l,r*=l,new DE([r,-i,-s,n,s*a-r*o,i*o-n*a])}invertSelf(){const t=this.elements;let n=t[0],i=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],l=1/(n*r-i*s);return n*=l,i*=l,s*=l,r*=l,t[0]=r,t[1]=-i,t[2]=-s,t[3]=n,t[4]=s*a-r*o,t[5]=i*o-n*a,this}transformPoint(t,n){const i=this.elements;return{x:t*i[0]+n*i[2]+i[4],y:t*i[1]+n*i[3]+i[5]}}transformBBox(t,n){const i=this.elements,s=i[0],r=i[1],o=i[2],a=i[3],l=t.width*.5,c=t.height*.5,d=t.x+l,f=t.y+c,g=Math.abs(l*s)+Math.abs(c*o),y=Math.abs(l*r)+Math.abs(c*a);return n??(n=new Xe(0,0,0,0)),n.x=d*s+f*o+i[4]-g,n.y=d*r+f*a+i[5]-y,n.width=g+g,n.height=y+y,n}toContext(t){if(this.identity)return;const n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static updateTransformMatrix(t,n,i,s,r,o,a){const l=n,c=i;let d,f;l===1&&c===1?(d=0,f=0):(d=(a==null?void 0:a.scalingCenterX)??0,f=(a==null?void 0:a.scalingCenterY)??0);const g=s,y=Math.cos(g),v=Math.sin(g);let w,S;g===0?(w=0,S=0):(w=(a==null?void 0:a.rotationCenterX)??0,S=(a==null?void 0:a.rotationCenterY)??0);const x=r,M=o,A=d*(1-l)-w,k=f*(1-c)-S;return t.setElements([y*l,v*l,-v*c,y*c,y*A-v*k+w+x,v*A+y*k+S+M]),t}};function Nf(e){return tY(e.constructor)}var eY=Symbol("isMatrixTransform");function tY(e){return e[eY]===!0}function N_(e){var t,n;const i=e;if(tY(e))return e;const s=Symbol("matrix_combined_transform");class r extends i{constructor(){super(...arguments),this[n]=new uh,this._dirtyTransform=!0}onChangeDetection(a){super.onChangeDetection(a),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(J5),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNode(a,l)}pickNodes(a,l,c){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNodes(a,l,c)}render(a){this.computeTransformMatrix();const{ctx:l}=a,c=this[s];let d=!1;try{c.identity||(l.save(),d=!0,c.toContext(l)),super.render(a)}finally{d&&l.restore()}}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),l=this[s];if(l.identity||a==null)return a;const c=as("g");c.append(...a.elements);const[d,f,g,y,v,w]=l.e;return c.setAttribute("transform",`matrix(${d} ${f} ${g} ${y} ${v} ${w})`),{elements:[c],defs:a.defs}}}return t=eY,n=s,r[t]=!0,r}function pw(e){var t;const n=e,i=Symbol("matrix_rotation");class s extends N_(n){constructor(){super(...arguments),this[t]=new uh,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;a!==0&&(uh.updateTransformMatrix(this[i],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[i]))}}return t=i,L([Be()],s.prototype,"rotationCenterX",2),L([Be()],s.prototype,"rotationCenterY",2),L([Be()],s.prototype,"rotation",2),s}function F_(e){var t;const n=e,i=Symbol("matrix_scale");class s extends N_(n){constructor(){super(...arguments),this[t]=new uh,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;a===1&&l===1||(uh.updateTransformMatrix(this[i],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),o.multiplySelf(this[i]))}}return t=i,L([Be()],s.prototype,"scalingX",2),L([Be()],s.prototype,"scalingY",2),L([Be()],s.prototype,"scalingCenterX",2),L([Be()],s.prototype,"scalingCenterY",2),s}function mw(e){var t;const n=e,i=Symbol("matrix_translation");class s extends N_(n){constructor(){super(...arguments),this[t]=new uh,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;a===0&&l===0||(uh.updateTransformMatrix(this[i],1,1,0,a,l),o.multiplySelf(this[i]))}}return t=i,L([Be()],s.prototype,"translationX",2),L([Be()],s.prototype,"translationY",2),s}var Qi=class{static fromCanvas(e,t){const n=[];for(const i of e.traverseUp())Nf(i)&&n.unshift(i);for(const i of n)t=i.fromParent(t);return Nf(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Nf(e)&&(t=e.toParent(t));for(const n of e.traverseUp())Nf(n)&&(t=n.toParent(t));return t}static fromCanvasPoint(e,t,n){const i=[];for(const s of e.traverseUp())Nf(s)&&i.unshift(s);for(const s of i)({x:t,y:n}=s.fromParentPoint(t,n));return Nf(e)&&({x:t,y:n}=e.fromParentPoint(t,n)),{x:t,y:n}}static toCanvasPoint(e,t,n){Nf(e)&&({x:t,y:n}=e.toParentPoint(t,n));for(const i of e.traverseUp())Nf(i)&&({x:t,y:n}=i.toParentPoint(t,n));return{x:t,y:n}}},Qx,__=class d0 extends lh{constructor(t){super(t),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof d0}static computeChildrenBBox(t,n=!0){return Xe.merge(lh.extractBBoxes(t,n))}static compareChildren(t,n){return H5(t.zIndex,n.zIndex)||t.serialNumber-n.serialNumber}containsPoint(t,n){return!0}computeBBox(){return d0.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const n=this.computeBBox();if((n==null?void 0:n.isFinite())!==!0)return;let i=0;const s=4;for(const g of this.descendants())g instanceof Ms&&(i=Math.max(i,g.strokeWidth));const r=Math.max(1,i/2*s),{x:o,y:a}=Qi.toCanvasPoint(this,0,0),l=vV(t,o+n.x-r)-o,c=vV(t,a+n.y-r)-a,d=Math.ceil(n.x+n.width-l+r),f=Math.ceil(n.y+n.height-c+r);return new Xe(l,c,d,f)}prepareSharedCanvas(t,n,i){return Qx==null||Qx.pixelRatio!==i?Qx=new R_({width:t,height:n,pixelRatio:i}):Qx.resize(t,n,i),Qx}setScene(t){var n;super.setScene(t),this.layer&&((n=this.scene)==null||n.layersManager.removeLayer(this.layer),this.layer=void 0);for(const i of this.children())i.setScene(t)}markDirty(t){this.dirty=!0,super.markDirty(t)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(t){var n;for(const i of tye(t))(n=i.parentNode)==null||n.removeChild(i),this.childNodes.add(i),i.parentNode=this,i.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var n;if(!((n=this.childNodes)!=null&&n.delete(t)))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);t.parentNode=void 0,t.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){var t;for(const n of this.children())delete n.parentNode,n.setScene();(t=this.childNodes)==null||t.clear(),this.markDirty()}pickNode(t,n){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))){if(this.childNodes!=null&&this.childNodes.size!==0){const i=[...this.children()];for(let s=i.length-1;s>=0;s--){const o=i[s].pickNode(t,n);if(o!=null)return o}}else if(!this.isContainerNode)return this}}pickNodes(t,n,i=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return i;this.isContainerNode||i.push(this);for(const s of this.children())s.pickNodes(t,n,i);return i}isDirty(t){const{width:n,height:i,devicePixelRatio:s}=t,{dirty:r,layer:o}=this,a=o!=null&&(this._lastWidth!==n||this._lastHeight!==i),l=this._lastDevicePixelRatio!==s;return this._lastWidth=n,this._lastHeight=i,this._lastDevicePixelRatio=s,r||a||l}preRender(t){var i,s;let n;if(this.dirty){n=super.preRender(t,0);for(const r of this.children()){const o=r.preRender(t);n.groups+=o.groups,n.nonGroups+=o.nonGroups,n.complexity+=o.complexity}n.groups+=1,n.nonGroups-=1}else n=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(i=this.layerManager)==null?void 0:i.addLayer({name:this.name})):this.layer!=null&&((s=this.layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),n}render(t){const{layer:n,renderToOffscreenCanvas:i}=this,s={...t},r=this.isDirty(t);if(this.dirty=!1,!i){this.renderInContext(s),super.render(s);return}const{ctx:o,stats:a,devicePixelRatio:l}=t;let{image:c}=this;if(r){c==null||c.bitmap.close(),c=void 0;const f=n?void 0:this.computeSafeClippingBBox(l),g=(y,...v)=>{var S;const w=y.context;s.ctx=w,y.clear(),w.save();try{w.setTransform(...v),w.globalAlpha=1,this.renderInContext(s)}finally{w.restore(),(S=w.verifyDepthZero)==null||S.call(w)}};if(n)g(n,o.getTransform());else if(f){const{x:y,y:v,width:w,height:S}=f,x=this.prepareSharedCanvas(w,S,l);g(x,l,0,0,l,-y*l,-v*l),c={bitmap:x.transferToImageBitmap(),x:y,y:v,width:w,height:S}}this.image=c,a&&a.layersRendered++}else a&&a.layersSkipped++;const{globalAlpha:d}=o;if(o.globalAlpha=d*this.opacity,n){o.save();try{o.resetTransform(),n.drawImage(o)}finally{o.restore()}}else if(c){const{bitmap:f,x:g,y,width:v,height:w}=c;o.drawImage(f,0,0,v*l,w*l,g,y,v,w)}o.globalAlpha=d,super.render(s)}applyClip(t,n){const{x:i,y:s,width:r,height:o}=n;t.beginPath(),t.rect(i,s,r,o),t.clip()}renderInContext(t){const{ctx:n,stats:i}=t;this.dirtyZIndex&&(this.sortChildren(d0.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),t.clipBBox=Qi.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){i&&(i.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,i.opsSkipped+=s.childNodeCounts.complexity);continue}s.isolatedRender(t)}}finally{n.restore()}}sortChildren(t){if(!this.childNodes)return;const n=[...this.childNodes].sort(t);this.childNodes.clear();for(const i of n)this.childNodes.add(i)}*children(){yield*this.childNodes}*excludeChildren(t){for(const n of this.children())(t.instance&&!(n instanceof t.instance)||t.name&&n.name!==t.name)&&(yield n)}*descendants(){for(const t of this.children())yield t,t instanceof d0&&(yield*t.descendants())}setClipRect(t){this.clipRect=t?Qi.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],n=[];for(const i of this.children()){const s=i.toSVG();s!=null&&(n.push(...s.elements),s.defs!=null&&t.push(...s.defs))}return{elements:n,defs:t}}};__.className="Group";L([Be({convertor:e=>At(0,e,1)})],__.prototype,"opacity",2);var jt=__,ave=class extends F_(jt){},lve=class extends pw(jt){},to=class extends mw(jt){},_b=class extends pw(mw(jt)){};function cve(e,t){return"context"in e}function wV(e,t){return e!=null&&cve(e)&&t[0]!=null&&typeof t[0]=="object"&&t[0].context===void 0?(t[0].context=e.context,!0):!1}function yc(e,t,...n){if(Array.isArray(e)){for(const i of e)if(wV(i,n))break}else wV(e,n);return t(...n)}var nY=class{constructor(){this.cache=new WeakMap}call(e,t,...n){let i,s=this.cache.get(t);try{i=JSON.stringify(n)}catch{return this.invoke(e,t,s,void 0,...n)}return s==null&&(s=new Map,this.cache.set(t,s)),s.has(i)?s.get(i):this.invoke(e,t,s,i,...n)}invoke(e,t,n,i,...s){try{const r=yc(e,t,...s);return n&&i!=null&&n.set(i,r),r}catch(r){ze.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}};function II(e,t){if(!e)return;const{x:n,y:i,width:s,height:r}=dve(t);zT(e.style,"width",s),zT(e.style,"height",r),zT(e.style,"left",n),zT(e.style,"top",i)}function iY(e){const t=parseFloat(e.style.width)||e.offsetWidth,n=parseFloat(e.style.height)||e.offsetHeight,i=parseFloat(e.style.left)||e.offsetLeft,s=parseFloat(e.style.top)||e.offsetTop;return{x:i,y:s,width:t,height:n}}function uve(e){var i;if(e.focus({preventScroll:!0}),((i=e.lastChild)==null?void 0:i.textContent)==null)return;const t=Vu().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const n=$n().getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function sY(){const e=$n("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function L1(e){return`ag-charts-icon ag-charts-icon-${e}`}function dve(e){let{x:t,y:n,width:i,height:s}=e;return(i==null||i>0)&&(s==null||s>0)?e:(t!=null&&i!=null&&i<0&&(i=-i,t=t-i),n!=null&&s!=null&&s<0&&(s=-s,n=n-s),{x:t,y:n,width:i,height:s})}function zT(e,t,n){n==null?e.removeProperty(t):e.setProperty(t,`${n}px`)}var yF="class-instance";function dh(e,t,n){if(gn(t)){if(!gn(e)||e.length!==t.length||t.some((i,s)=>dh(e[s],i,n)!=null))return t}else if(Tn(t)){if(!Tn(e))return t;const i={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of s)if(e[r]!==t[r])if(n!=null&&n.has(r))i[r]=t[r];else if(typeof e[r]==typeof t[r]){const o=dh(e[r],t[r],n);o!==null&&(i[r]=o)}else i[r]=t[r];return Object.keys(i).length?i:null}else if(e!==t)return t;return null}function rY(e,t){for(const n of Object.keys(e))if(e[n]!==(t==null?void 0:t[n]))return!1;return!0}function Bi(e,t){return gn(e)?hve(e,t):Tn(e)?fve(e,t):e instanceof Map?new Map(Bi(Array.from(e))):B_(e)}function hve(e,t){const n=[],i=t==null?void 0:t.seen;for(const s of e){if(typeof s=="object"&&(i!=null&&i.includes(s))){ze.warn("cycle detected in array",s);continue}i==null||i.push(s),n.push(Bi(s,t)),i==null||i.pop()}return n}function fve(e,t){var i,s;const n={};for(const r of Object.keys(e))(i=t==null?void 0:t.assign)!=null&&i.has(r)?n[r]=e[r]:(s=t==null?void 0:t.shallow)!=null&&s.has(r)?n[r]=B_(e[r]):n[r]=Bi(e[r],t);return n}function B_(e){return gn(e)?e.slice(0):Tn(e)?{...e}:fw(e)?new Date(e):Pme(e)?new RegExp(e.source,e.flags):e}function lg(e,t,n,i,s,r){if(gn(e)){r=t(e,i,s,r);let o=0;for(const a of e)r=lg(a,t,n,i==null?void 0:i[o],s,r),o++}else if(Tn(e)){r=t(e,i,s,r);for(const o of Object.keys(e)){if(n!=null&&n.has(o))continue;const a=e[o];r=lg(a,t,n,i==null?void 0:i[o],s,r)}}return r}function L0(e,t,n={}){const{path:i,matcherPath:s=i==null?void 0:i.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${i??"<root>"}`);if(t==null)return e;if(jm(e))return e.set(t);const o=e,a=gO(e);for(const l of Object.keys(t)){if(k_.has(l))continue;const c=`${s?s+".":""}${l}`;if(r.includes(c))continue;const d=t[l],f=`${i?i+".":""}${l}`,g=o.constructor,y=o[l];try{const v=gO(y),w=gO(d);if(a===yF&&!(l in e||l==="context")){if(d===void 0)continue;ze.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - property is unknown`);continue}if(v!=null&&w!=null&&w!==v&&(v!==yF||w!=="object")){ze.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - can't apply type of [${w}], allowed types are: [${v}]`);continue}if(jm(y))d===void 0?y.clear():y.set(d);else if(w==="object"&&l!=="context"){if(!(l in o)){ze.warn(`unable to set [${f}] in ${g==null?void 0:g.name} - property is unknown`);continue}y==null?o[l]=d:L0(y,d,{...n,path:f,matcherPath:c})}else o[l]=d}catch(v){ze.warn(`unable to set [${f}] in [${g==null?void 0:g.name}]; nested error is: ${v.message}`)}}return e}function gO(e){return e==null?null:Ome(e)||fw(e)?"primitive":gn(e)?"array":Hi(e)?Tn(e)?"object":yF:bh(e)?"function":"primitive"}var gve=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>ze.errorOnce(n))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(n){ze.error("mutex callback error",n),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},oY=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const n=this.eventListeners.get(e);n!=null&&(n.delete(t),n.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(n=>n(e))}},Ty=class extends It{constructor(e=0,t=e,n=e,i=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=i}};L([F],Ty.prototype,"top",2);L([F],Ty.prototype,"right",2);L([F],Ty.prototype,"bottom",2);L([F],Ty.prototype,"left",2);function Zs(e,t){const n=gn(e)?e:e.split(".");if(n.length===1){const[i]=n;return ry((s,r,o)=>s[i]=o,s=>s[i],t)}return ry((i,s,r)=>L_(i,n,r),i=>I_(i,n),t)}function pve(e){return ry((t,n,i)=>t[e]=i)}function cs(e,t){return ry((n,i,s)=>n[e][t??i]=s)}function ro(e){const{newValue:t,oldValue:n,changeValue:i}=e;return ry((s,r,o,a)=>(o!==a&&(a!==void 0&&(n==null||n.call(s,a)),o!==void 0&&(t==null||t.call(s,o)),i==null||i.call(s,o,a)),o))}function Tg(e){return P5(e)}function mve(e){return aY((t,n)=>$n().requestAnimationFrame(t),e)}function yve(e){return aY((t,n=0)=>{n===0?queueMicrotask(t):setTimeout(t,n)},e)}function aY(e,t){let n=0,i=!1,s,r;const o=()=>i,a=()=>{i=!1,r==null||r(),r=void 0,s=void 0,n>0&&e(l)},l=()=>{const c=n;n=0,i=!0;const d=t({count:c});if(!d){a();return}d.then(a,a)};return{schedule(c){n===0&&!o()&&e(l,c),n++},async await(){if(o())for(s??(s=new Promise(c=>{r=c}));o();)await s}}}var G_=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function Ab(e,t,n){const{offsetX:i,offsetY:s,clientX:r,clientY:o}=t,{currentX:a,currentY:l}=eh.calcCurrentXY(n,t);return{type:e,device:"mouse",offsetX:i,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:t}}function HT(e,t,n){return{type:e,sourceEvent:t}}var vve={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>Ab("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>Ab("click",e,t),dblclick:(e,t)=>Ab("dblclick",e,t),mouseenter:(e,t)=>Ab("mouseenter",e,t),mousemove:(e,t)=>Ab("mousemove",e,t),mouseleave:(e,t)=>Ab("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:n,clientX:i,clientY:s}=e,r=e.deltaMode===0?.01:1,o=e.deltaX*r,a=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:n,clientX:i,clientY:s,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>HT("touchstart",e),touchmove:(e,t)=>HT("touchmove",e),touchend:(e,t)=>HT("touchend",e),touchcancel:(e,t)=>HT("touchcancel",e)},eh=class{static alloc(e,t,n){return vve[e](t,n)}static isHTMLEvent(e){return G_.includes(e)}static calcCurrentXY(e,t){const n=e.getBoundingClientRect();return{currentX:t.clientX-n.x,currentY:t.clientY-n.y}}},bve=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var n;if(!(e in(this.sourceListeners??{}))){const i=r=>{const o=eh.alloc(e,r,t.getElement());this.dispatch(e,t,o)},s={};e.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(e,i),t.getElement().addEventListener(e,i,s)}return this.widgetListeners??(this.widgetListeners={}),(n=this.widgetListeners)[e]??(n[e]=[]),this.widgetListeners[e]}add(e,t,n){this.lazyGetWidgetListeners(e,t).push(n)}remove(e,t,n){const i=this.lazyGetWidgetListeners(e,t),s=i.indexOf(n);s>-1&&i.splice(s,1)}destroy(e){if(this.widgetListeners=void 0,this.sourceListeners){for(const[t,n]of fc(this.sourceListeners))e.getElement().removeEventListener(t,n);this.sourceListeners=void 0}}dispatch(e,t,n){var i;for(const s of((i=this.widgetListeners)==null?void 0:i[e])??[])s(n,t)}},Cve=class{constructor(e,t,n,i){this.glob=e,this.self=t,this.window=$n(),this.cleanup=new Vi,this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var c;l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mousemove(l)},this.mouseup=l=>{var c;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mouseup(l),this.destroy())};const{window:s,mousegeneral:r,mousemove:o,mouseup:a}=this;this.cleanup.register(Qn(s,"mousedown",r,{capture:!0}),Qn(s,"mouseenter",r,{capture:!0}),Qn(s,"mouseleave",r,{capture:!0}),Qn(s,"mouseout",r,{capture:!0}),Qn(s,"mouseover",r,{capture:!0}),Qn(s,"mousemove",o,{capture:!0}),Qn(s,"mouseup",a,{capture:!0})),t.mouseDragger=this,e.globalMouseDragCallbacks=n,e.globalMouseDragCallbacks.mousedown(i),i.stopPropagation(),i.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function wve(e,t,n,i){if(e.globalMouseDragCallbacks==null)return new Cve(e,t,n,i)}var Sve=500,xve=100;function Mve(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return n*n+i*i}var vF=!1,Dve=class{constructor(e,t,n,i,s){this.glob=e,this.self=t,this.initialTouch=i,this.target=s,this.cleanup=new Vi,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){const c=new Vi;a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),vF=!0;const d=w=>w.preventDefault(),f=w=>{vF=!1,w.preventDefault(),c.flush()};c.register(Qn(a,"touchmove",d,{passive:!1}),Qn(a,"touchend",f,{passive:!1}),Qn(a,"touchcancel",f,{passive:!1}));const{clientX:g,clientY:y}=l,v=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:$n(),clientX:g,clientY:y,pointerType:"touch"});a.dispatchEvent(v)}},this.touchmove=a=>{var g;const{glob:l,self:c,initialTouch:d}=this,f=this.findInitialFinger(a.targetTouches);f!=null&&(this.longTapInterrupted=this.longTapInterrupted||Mve(d,f)>xve,c.dragTouchEnabled&&((g=l.globalTouchDragCallbacks)==null||g.touchmove(a,f)))},this.touchend=a=>{var c;this.longTapInterrupted=!0;const l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&((c=this.glob.globalTouchDragCallbacks)==null||c.touchend(a,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,Sve);const{touchmove:r,touchend:o}=this;this.cleanup.register(Qn(s,"touchmove",r,{passive:!1}),Qn(s,"touchstart",o,{passive:!1}),Qn(s,"touchend",o,{passive:!1}),Qn(s,"touchcancel",o,{passive:!1})),t.touchDragger=this,e.globalTouchDragCallbacks=n}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(n=>Array.from(n)).flat();return Array.from(t).find(n=>n.identifier===this.initialTouch.identifier)}};function Ave(e,t,n,i,s){if(!(e.globalTouchDragCallbacks!=null||vF))return new Dve(e,t,n,i,s)}function pO(e,t,n,i){const{currentX:s,currentY:r}=eh.calcCurrentXY(e.getElement(),i),o=i.pageX-n.pageX,a=i.pageY-n.pageY;return{type:t,device:"mouse",offsetX:n.offsetX+o,offsetY:n.offsetY+a,clientX:i.clientX,clientY:i.clientY,currentX:s,currentY:r,originDeltaX:o,originDeltaY:a,sourceEvent:i}}function Rve(e,{pageX:t,pageY:n}){const{x:i,y:s}=e.getElement().getBoundingClientRect();return{offsetX:t-i,offsetY:n-s}}function mO(e,t,n,i,s){const{currentX:r,currentY:o}=eh.calcCurrentXY(e.getElement(),s),a=s.pageX-n.pageX,l=s.pageY-n.pageY;return{type:t,device:"touch",offsetX:n.offsetX+a,offsetY:n.offsetY+l,clientX:s.clientX,clientY:s.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:l,sourceEvent:i}}var SV={},xV=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,n,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,(t=this.listeners)==null||t.clear(),(n=this.mouseDragger)==null||n.destroy(),(i=this.touchDragger)==null||i.destroy()}getListenerSet(e){this.listeners??(this.listeners=new Map);let t=this.listeners.get(e);return t===void 0&&(t=new Set,this.listeners.set(e,t)),t}add(e,t,n){switch(this.getListenerSet(e).add(n),e){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(t);break}}}remove(e,t,n){this.getListenerSet(e).delete(n)}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=e.getElement(),n=new Vi;n.register(Qn(t,"mousedown",i=>this.triggerMouseDrag(e,i)),Qn(t,"touchstart",i=>this.triggerTouchDrag(e,i),{passive:!1})),this.dragTriggerRemover=()=>n.flush()}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const n={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};gF(["pageX","pageY","offsetX","offsetY"],n,t);const i={mousedown:s=>{const r=pO(e,"drag-start",n,s);this.dispatch("drag-start",e,r)},mousemove:s=>{const r=pO(e,"drag-move",n,s);this.dispatch("drag-move",e,r)},mouseup:s=>{const r=pO(e,"drag-end",n,s);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=wve(SV,this,i,t)}endDrag(e,{sourceEvent:t,clientX:n,clientY:i}){var o;const s=e.getElement(),r=s.getBoundingClientRect();x_(r,n,i)||(s.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const n=t.targetTouches[0];t.targetTouches.length===1&&n!=null&&this.startOneFingerTouch(e,t,n)}startOneFingerTouch(e,t,n){const i={pageX:NaN,pageY:NaN,...Rve(e,n)};gF(["pageX","pageY"],i,n);const s={touchmove:(a,l)=>{const c=mO(e,"drag-move",i,a,l);this.dispatch("drag-move",e,c)},touchend:(a,l)=>{const c=mO(e,"drag-end",i,a,l);this.dispatch("drag-end",e,c)}},r=e.getElement();this.touchDragger=Ave(SV,this,s,n,r);const o=mO(e,"drag-start",i,t,n);this.dispatch("drag-start",e,o)}dispatch(e,t,n){for(const i of this.getListenerSet(e))i(n,t);this.dispatchCallback(e,n)}},Tve=class{constructor(e){this.elem=e}setBounds(e){II(this.elemContainer??this.elem,e)}getBounds(){return iY(this.elemContainer??this.elem)}static setElementContainer(e,t){const n=e.getBounds();II(t,n),iye(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Xu=class extends Tve{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(e){fn(this.elem,"id",e)}get id(){return fC(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,n,i;(e=this.destroyListener)==null||e.call(this),this.destroyListener=void 0,(t=this.parent)==null||t.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.remove(),(n=this.internalListener)==null||n.destroy(),(i=this.htmlListener)==null||i.destroy(this)}remove(){var e;this.elem.remove(),(e=this.elemContainer)==null||e.remove()}setHidden(e){Mu(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=$n())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){Mu(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){fn(this.elem,"aria-describedby",e)}setAriaHidden(e){fn(this.elem,"aria-hidden",e)}setAriaLabel(e){fn(this.elem,"aria-label",e)}setAriaExpanded(e){fn(this.elem,"aria-expanded",e)}setAriaControls(e){fn(this.elem,"aria-controls",e)}setAriaHasPopup(e){fn(this.elem,"aria-haspopup",e)}setInnerHTML(e){this.elem.innerHTML=e}setPointerEvents(e){Mu(this.elem,"pointer-events",e)}isDisabled(){return fC(this.elem,"aria-disabled",!1)}hasPopup(){const e=fC(this.elem,"aria-haspopup");return e!==void 0&&e!=="false"}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(e){this.elem.focus(e)}setFocusOverride(e){fn(this.elem,"data-focus-override",e)}setPreventsDefault(e){fn(this.elem,"data-preventdefault",e)}setTabIndex(e){fn(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(n=>n===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,n)=>!t||n.domIndex<t.domIndex?n:t,void 0)}addListener(e,t){return eh.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new bve),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new xV(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var n,i;eh.isHTMLEvent(e)?(n=this.htmlListener)==null||n.remove(e,this,t):this.htmlListener!=null&&((i=this.internalListener)==null||i.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new xV(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){var i;if(!((i=t.sourceEvent)!=null&&i.bubbles))return;let{parent:n}=this;for(;n!=null;){const{internalListener:s}=n;if(s!=null){const r={...t,...eh.calcCurrentXY(n.getElement(),t)};s.dispatch(e,n,r)}n=n.parent}}static addWindowEvent(e,t){const n=i=>{i.persisted||t()};return Qn($n(),"pagehide",n)}};function Eve(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var z_=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const n=this.store.keys();let i=this.store.size-this.maxCacheSize;for(;i>0;){const s=n.next();s.done||this.store.delete(s.value),i--}}return t}clear(){this.store.clear()}},Eg=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=Xn.toFontString(e.font),n=`${t}-${e.textAlign??"start"}-${e.textBaseline??"top"}`;return this.instanceMap.get(n)??this.createFontMeasurer(t,e,n)}static clear(){this.instanceMap.clear()}static createFontMeasurer(e,t,n){const i=Eve();i.font=e,i.textAlign=t.textAlign??"start",i.textBaseline=t.textBaseline??"top";const s=new lY(i,t);return this.instanceMap.set(n,s),s}};Eg.instanceMap=new z_(10);var lY=class{constructor(e,t){this.ctx=e,this.measureMap=new z_(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=Xn.toFontString(t.font),this.textMeasurer=new H_(n=>this.cachedCtxMeasureText(n),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Xn=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:n,fontFamily:i}){let s="";return t&&t!=="normal"&&(s+=`${t} `),n&&n!=="normal"&&n!==400&&(s+=`${n} `),s+=`${e}px`,s+=` ${i}`,s.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getHorizontalModifier(e){switch(e){case"left":case"start":return 0;case"center":return .5;case"right":case"end":return 1;default:return 0}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};Xn.EllipsisChar="…";Xn.defaultLineHeight=1.15;Xn.lineSplitter=/\r?\n/g;var H_=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent}}getMultilineMetrics(e){let t=0,n=0,i=0,s=0,r=0,o=0;const a=Xn.getVerticalModifier(this.textBaseline),l=[];let c=0;const d=e.length;for(const f of e){const g=this.measureTextFn(f);g.fontBoundingBoxAscent??(g.fontBoundingBoxAscent=g.emHeightAscent),g.fontBoundingBoxDescent??(g.fontBoundingBoxDescent=g.emHeightDescent),t<g.width&&(t=g.width),s<g.actualBoundingBoxLeft&&(s=g.actualBoundingBoxLeft),c===0?(n+=g.actualBoundingBoxAscent,i+=g.actualBoundingBoxAscent,o=g.alphabeticBaseline):r+=g.fontBoundingBoxAscent,c===d-1?n+=g.actualBoundingBoxDescent:r+=g.fontBoundingBoxDescent,l.push({text:f,width:g.width,height:g.actualBoundingBoxAscent+g.actualBoundingBoxDescent,lineHeight:g.fontBoundingBoxAscent+g.fontBoundingBoxDescent,offsetTop:g.actualBoundingBoxAscent,offsetLeft:g.actualBoundingBoxLeft}),c++}return n+=r,i+=r*a,{width:t,height:n,offsetTop:i,offsetLeft:s,alphabeticBaseline:o,lineMetrics:l}}textWidth(e,t){if(t){let n=0;for(let i=0;i<e.length;i++)n+=this.textWidth(e.charAt(i));return n}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(Xn.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function Ive(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function kve(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:n}=performance.memory,i=[];for(const s of[t,e,n])typeof s=="number"&&i.push(Ive(s));return`Heap ${i.join(" / ")}`}function MV(e,t,n,i,s={},r=Xe.zero){if(!Ut.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:d=0,opsSkipped:f=0}=i??{},g=performance.now(),{start:y,...v}=t,w=Object.entries(v).map(([z,W])=>DV(z,W)).filter(z=>z!=null).join(" + "),S=Object.entries(s).map(([z,W])=>`${z}: ${JSON.stringify(W)}`).join(" ; "),x=Ut.check("scene:stats:verbose"),M=kve(),A=[`${DV("⏱️",y,g)} (${w})`,`${S}`,`Layers: ${x?yO(o,a):e.size}`,x?`Nodes: ${yO(l,c)}`:null,x?`Ops: ${yO(d,f)}`:null,x&&M?M:null].filter(Ks),k=new H_(z=>n.measureText(z)),I=new Map(A.map(z=>[z,k.measureLines(z)])),P=Math.max(...Array.from(I.values(),z=>z.width)),N=_ve(I.values(),z=>z.height),B=2+r.x;n.save();try{n.fillStyle="white",n.fillRect(B,0,P,N),n.fillStyle="black";let z=0;for(const[W,Y]of I.entries())z+=Y.height,n.fillText(W,B,z)}catch(z){ze.warnOnce("Error during debug stats rendering",z)}finally{n.restore()}}function Lve(e){const t=MI($n("agChartsSceneDebug")),n=[];for(const i of t)i==="layout"?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(i);e.debugNodeSearch=n}function Pve(e,t){e.save();try{for(const[n,i]of Object.entries(t)){const s=Qi.toCanvas(i);if(!s){ze.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,s.x,s.y,s.width),e.fillText(n,s.x,s.y,s.width)}}catch(n){ze.warnOnce("Error during debug rendering",n)}finally{e.restore()}}var Ove=new Set,Nve=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Fve(e){const{...t}=e;for(const n of Object.keys(t))Nve.has(n)||typeof t[n]!="number"&&typeof t[n]!="string"&&typeof t[n]!="boolean"&&(Ove.add(n),delete t[n]);return t}function AE(e,t){if(!Ut.check(!0,"scene"))return{};let n=0;return{node:t==="json"?Fve(e):e,name:e.name??e.id,dirty:e instanceof jt?e.dirty:void 0,...Array.from(e instanceof jt?e.children():[],i=>AE(i,t)).reduce((i,s)=>{let{name:r}=s;const{node:{visible:o,opacity:a,zIndex:l,translationX:c,translationY:d,rotation:f,scalingX:g,scalingY:y},node:v}=s;(!o||a<=0)&&(r=`(${r})`),jt.is(v)&&v.renderToOffscreenCanvas&&(r=`*${r}*`);const w=Array.isArray(l)?`(${l.join(", ")})`:l,S=[`${(n++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${w}`,c&&`x: ${c}`,d&&`y: ${d}`,f&&`r: ${f}`,g!=null&&g!==1&&`sx: ${g}`,y!=null&&y!==1&&`sy: ${y}`].filter(A=>!!A).join(" ");let x=S,M=1;for(;i[x]!=null&&M<100;)x=`${S} (${M++})`;return i[x]=s,i},{})}}function cY(e){const t=e instanceof jt?e.dirty:void 0;if(!t)return{dirtyTree:{},paths:[]};const n=Array.from(e instanceof jt?e.children():[],r=>cY(r)).filter(r=>r.paths.length>0),i=jt.is(e)?e.name??e.id:e.id,s=n.length?n.flatMap(r=>r.paths).map(r=>`${i}.${r}`):[i];return{dirtyTree:{name:i,node:e,dirty:t,...n.map(r=>r.dirtyTree).filter(r=>r.dirty!=null).reduce((r,o)=>(r[o.name??"<unknown>"]=o,r),{})},paths:s}}function yO(e,t){const n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function DV(e,t,n){const i=n!=null?n-t:t;return`${e}: ${Math.round(i*100)/100}ms`}function _ve(e,t){let n=0;for(const i of e)n+=t(i);return n}var h0=(e,{x0:t,y0:n,x1:i,y1:s,cx:r,cy:o},a,l)=>{if(l&&e.moveTo(t,n),t!==i||n!==s){const c=Math.atan2(n-o,t-r),d=Math.atan2(s-o,i-r);e.arc(r,o,a,c,d)}else e.lineTo(t,n)},oo=class extends Ms{constructor(){super(...arguments),this.path=new WC,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(e){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(e))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var n,i;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();try{const s=this.strokeWidth/2;this._clipPath??(this._clipPath=new WC),this._clipPath.clear(),this._clipPath.rect(-s,-s,this._clipX+s,this._clipY+s+s),t.clip((n=this._clipPath)==null?void 0:n.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t)}finally{t.restore()}}else this._clipPath=void 0,this.drawPath(t);(i=this.fillShadow)==null||i.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=as("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};oo.className="Path";L([Be()],oo.prototype,"clip",2);L([Be()],oo.prototype,"clipX",1);L([Be()],oo.prototype,"clipY",1);var AV=1e-6,VT=(e,t,n,i,s)=>{let r=!1,o=!1,a=i-Math.sqrt(Math.max(s**2-n**2,0)),l=0,c=0,d=n-Math.sqrt(Math.max(s**2-i**2,0));return a>e?(r=!0,a=e,l=n-Math.sqrt(Math.max(s**2-(i-e)**2))):a<AV&&(a=0),d>t?(o=!0,c=i-Math.sqrt(Math.max(s**2-(n-t)**2)),d=t):d<AV&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:r,trailingClipped:o}},RE=(e,t,n,i,s,r,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=r;const f=Math.max(a+d,l+c),g=Math.max(a+l,d+c);if(f<=0&&g<=0){o==null?e.rect(t,n,i,s):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===c&&a===d){e.roundRect(t,n,i,s,a);return}if(i<0&&(t+=i,i=Math.abs(i)),s<0&&(n+=s,s=Math.abs(s)),i<=0||s<=0)return;if(o==null)o=new Xe(t,n,i,s);else{const N=Math.max(t,o.x),B=Math.min(t+i,o.x+o.width),z=Math.max(n,o.y),W=Math.min(n+s,o.y+o.height);o=new Xe(N,z,B-N,W-z)}const y=Math.max(f/s,g/i,1);y>1&&(a/=y,l/=y,c/=y,d/=y);let v=!0,w=!0,S=!0,x=!0,M,A,k,I;if(v){const N=VT(o.height,o.width,Math.max(t+a-o.x,0),Math.max(n+a-o.y,0),a);N.leadingClipped&&(x=!1),N.trailingClipped&&(w=!1);const B=Math.max(o.x+N.leading1,o.x),z=Math.max(o.y+N.leading0,o.y),W=Math.max(o.x+N.trailing1,o.x),Y=Math.max(o.y+N.trailing0,o.y),K=t+a,q=n+a;M={x0:B,y0:z,x1:W,y1:Y,cx:K,cy:q}}if(w){const N=VT(o.width,o.height,Math.max(n+l-o.y,0),Math.max(o.x+o.width-(t+i-l),0),l);N.leadingClipped&&(v=!1),N.trailingClipped&&(S=!1);const B=Math.min(o.x+o.width-N.leading0,o.x+o.width),z=Math.max(o.y+N.leading1,o.y),W=Math.min(o.x+o.width-N.trailing0,o.x+o.width),Y=Math.max(o.y+N.trailing1,o.y),K=t+i-l,q=n+l;A={x0:B,y0:z,x1:W,y1:Y,cx:K,cy:q}}if(S){const N=VT(o.height,o.width,Math.max(o.x+o.width-(t+i-c),0),Math.max(o.y+o.height-(n+s-c),0),c);N.leadingClipped&&(w=!1),N.trailingClipped&&(x=!1);const B=Math.min(o.x+o.width-N.leading1,o.x+o.width),z=Math.min(o.y+o.height-N.leading0,o.y+o.height),W=Math.min(o.x+o.width-N.trailing1,o.x+o.width),Y=Math.min(o.y+o.height-N.trailing0,o.y+o.height),K=t+i-c,q=n+s-c;k={x0:B,y0:z,x1:W,y1:Y,cx:K,cy:q}}if(x){const N=VT(o.width,o.height,Math.max(o.y+o.height-(n+s-d),0),Math.max(t+d-o.x,0),d);N.leadingClipped&&(S=!1),N.trailingClipped&&(v=!1);const B=Math.max(o.x+N.leading0,o.x),z=Math.min(o.y+o.height-N.leading1,o.y+o.height),W=Math.max(o.x+N.trailing0,o.x),Y=Math.min(o.y+o.height-N.trailing1,o.y+o.height),K=t+d,q=n+s-d;I={x0:B,y0:z,x1:W,y1:Y,cx:K,cy:q}}let P=!1;v&&M!=null&&(h0(e,M,a,!P),P||(P=!0)),w&&A!=null&&(h0(e,A,l,!P),P||(P=!0)),S&&k!=null&&(h0(e,k,c,!P),P||(P=!0)),x&&I!=null&&h0(e,I,d,!P),e.closePath()},_s=class extends oo{constructor(){super(...arguments),this.borderPath=new WC,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var S;const{path:e,borderPath:t,crisp:n,topLeftCornerRadius:i,topRightCornerRadius:s,bottomRightCornerRadius:r,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:c,height:d,strokeWidth:f,clipBBox:g}=this;const v=1/(((S=this.layerManager)==null?void 0:S.canvas.pixelRatio)??1);let w=1;if(e.clear(!0),t.clear(!0),c===0||d===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(n&&(c<=v&&(w*=c/v),d<=v&&(w*=d/v),c=this.align(a,c),d=this.align(l,d),a=this.align(a),l=this.align(l),g=g!=null?new Xe(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),f)if(c<v){const x=a+v/2;t.moveTo(x,l),t.lineTo(x,l+d),f=v,this.borderClipPath=void 0}else if(d<v){const x=l+v/2;t.moveTo(a,x),t.lineTo(a+c,x),f=v,this.borderClipPath=void 0}else if(f<c&&f<d){const x=f/2;a+=x,l+=x,c-=f,d-=f;const M=g==null?void 0:g.clone().shrink(x),A={topLeft:i>0?i-f:0,topRight:s>0?s-f:0,bottomRight:r>0?r-f:0,bottomLeft:o>0?o-f:0};this.borderClipPath=void 0,c>0&&d>0&&(M==null||(M==null?void 0:M.width)>0&&(M==null?void 0:M.height)>0)&&(RE(e,a,l,c,d,A,M),RE(t,a,l,c,d,A,M))}else this.borderClipPath=this.borderClipPath??new WC,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,c,d),t.rect(a,l,c,d);else{const x={topLeft:i,topRight:s,bottomRight:r,bottomLeft:o};this.borderClipPath=void 0,RE(e,a,l,c,d,x,g)}if([i,s,r,o].every(x=>x===0)){const x=this.getBBox();this.hittester=x.containsPoint.bind(x),this.distanceSquared=(M,A)=>this.getBBox().distanceSquared(M,A)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=w}computeBBox(){const{x:e,y:t,width:n,height:i,clipBBox:s}=this;return(s==null?void 0:s.clone())??new Xe(e,t,n,i)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAndAlpha(e){super.applyFillAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(e){super.applyStrokeAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}renderStroke(e){const{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){const{globalAlpha:i}=e,{lineDash:s,lineDashOffset:r,lineCap:o,lineJoin:a,borderPath:l,borderClipPath:c}=this;c&&e.clip(c.getPath2D()),this.applyStrokeAndAlpha(e),e.lineWidth=n,s&&e.setLineDash(s),r&&(e.lineDashOffset=r),o&&(e.lineCap=o),a&&(e.lineJoin=a),e.stroke(l.getPath2D()),e.globalAlpha=i}}};_s.className="Rect";L([Be()],_s.prototype,"x",2);L([Be()],_s.prototype,"y",2);L([Be()],_s.prototype,"width",2);L([Be()],_s.prototype,"height",2);L([Be()],_s.prototype,"topLeftCornerRadius",2);L([Be()],_s.prototype,"topRightCornerRadius",2);L([Be()],_s.prototype,"bottomRightCornerRadius",2);L([Be()],_s.prototype,"bottomLeftCornerRadius",2);L([Ba({})],_s.prototype,"clipBBox",2);L([Be()],_s.prototype,"crisp",2);var vO=!1,ca=class Bb extends Ms{constructor(t){super(t),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=Bb.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=(t==null?void 0:t.trimText)??!0}onTextChange(){var t,n,i;if((t=this.richText)==null||t.clear(),(n=this.textMap)==null||n.clear(),gn(this.text))this.lines=[],this.richText??(this.richText=new jt),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new Bb({trimText:!1})));else{const s=((i=this.text)==null?void 0:i.split(`
`))??[];this.lines=this.trimText?s.map(r=>r.trim()):s}}static computeBBox(t,n,i,s,r=!0){const{font:o,font:{fontSize:a},textAlign:l,textBaseline:c,lineHeight:d=r?Xn.getLineHeight(a):void 0}=s,{width:f,alphabeticBaseline:g,offsetLeft:y,offsetTop:v,height:w}=Eg.measureLines(t,r?{font:o,lineHeight:d,textAlign:"start",textBaseline:"top"}:s),S=d==null?w:d*t.length;let x;d==null?x=v:c==="alphabetic"?x=(d-a)/2-g:x=Xn.getVerticalModifier(c)*S;const M=r?f*Xn.getHorizontalModifier(l):y;return new Xe(n-M,i-x,f,S)}computeBBox(t=vO){var c;if(this.generateTextMap(),(c=this.textMap)!=null&&c.size){const d=Xe.merge(this.textMap.values());return d.x=this.x,d.y=this.y,d}const{x:n,y:i,lines:s,textBaseline:r,textAlign:o,lineHeight:a}=this,l=Bb.computeBBox(s,n,i,{font:this,textBaseline:r,textAlign:o,lineHeight:a},t);return this.boxing!=null&&l.grow(this.boxPadding),l}getBBox(t=!0){if(t){vO=!0;const n=this.computeBBox(!0);return vO=!1,n}return super.getBBox()}getPlainText(){return uF(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(t,n){var i;return((i=this.getBBox())==null?void 0:i.containsPoint(t,n))??!1}setScene(t){var n;(n=this.richText)==null||n.setScene(t),super.setScene(t)}generateTextMap(){var o;if(!gn(this.text)||(o=this.textMap)!=null&&o.size)return;this.textMap??(this.textMap=new Map);let t=0,n=0,i=0;const s={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(const a of this.richText.children()){const{color:l,...c}=this.text[t++];a.x=0,a.y=0,a.setProperties(Rn({fill:l},c,s));const d=a.getBBox();this.textMap.set(a,d),i=Math.max(i,d.y+d.height/2+(a.lineHeight??Xn.getLineHeight(a.fontSize))),n+=d.x+d.width}let r=this.x-n/2;for(const[a,l]of this.textMap)a.x+=r,a.y+=i,r+=l.width}render(t){var s;const{ctx:n,stats:i}=t;if(!this.text||!this.layerManager)return i&&(i.nodesSkipped+=1),super.render(t);if(gn(this.text)){this.generateTextMap();const{width:r}=this.richText.getBBox();let o=0;switch(this.textAlign){case"left":case"start":o=r/2;break;case"right":case"end":o=r/-2}n.save(),n.translate(o,this.y),this.richText.render(t),n.restore()}else this.renderText(t);if(Bb.debug.check()&&!((s=this.textMap)!=null&&s.size)){const r=this.getBBox(!0);n.strokeStyle="red",n.lineWidth=1,n.strokeRect(r.x,r.y,r.width,r.height)}super.render(t)}markDirty(t){var n;return(n=this.textMap)==null||n.clear(),super.markDirty(t)}renderText(t){const{fill:n,stroke:i,strokeWidth:s}=this;if(!n&&!(i&&s)||!this.layerManager)return super.render(t);const{ctx:r}=t,o=Xn.toFontString(this);r.font!==o&&(r.font=o);const{fontSize:a,lineHeight:l=Xn.getLineHeight(a),textAlign:c,textBaseline:d}=this;if(r.textAlign=c,r.textBaseline=d,this.boxing){const f={font:this,textBaseline:d,textAlign:c,lineHeight:l},g=Bb.computeBBox(this.lines,this.x,this.y,f);if(g.width!==0&&g.height!==0){const{x:y,y:v,width:w,height:S}=g.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=y,this.boxing.y=v,this.boxing.width=w,this.boxing.height=S,this.boxing.preRender(t),this.boxing.render(t)}}this.fillStroke(r)}executeFill(t){const{fontSize:n,lineHeight:i=Xn.getLineHeight(n),textBaseline:s,lines:r}=this,o=s==="alphabetic"?0:Xn.getVerticalModifier(s)*i*(1-r.length);this.renderLines(o,i,(a,l,c)=>t.fillText(a,l,c))}executeStroke(t){const{fontSize:n,lineHeight:i=Xn.getLineHeight(n),textBaseline:s,lines:r}=this,o=s==="alphabetic"?0:Xn.getVerticalModifier(s)*i*(1-r.length);this.renderLines(o,i,(a,l,c)=>t.strokeText(a,l,c))}renderLines(t,n,i){const{lines:s,x:r,y:o}=this;if(!(!Number.isFinite(r)||!Number.isFinite(o)||!Number.isFinite(t)||!Number.isFinite(n)))for(const a of s)i(a,r,o+t),t+=n}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}setBoxing(t){var i,s,r,o;const n=(i=t.border)!=null&&i.enabled?(s=t.border)==null?void 0:s.stroke:void 0;t.fill!=null||n!=null?(this.boxing??(this.boxing=new _s({scene:this.scene})),this.boxing.fill=t.fill,this.boxing.fillOpacity=t.fillOpacity??1,this.boxing.cornerRadius=t.cornerRadius??0,this.boxing.stroke=n,this.boxing.strokeWidth=((r=t.border)==null?void 0:r.strokeWidth)??0,this.boxing.strokeOpacity=((o=t.border)==null?void 0:o.strokeOpacity)??1,this.boxPadding=t.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){const{fill:t,fillOpacity:n,cornerRadius:i,stroke:s,strokeWidth:r,strokeOpacity:o}=this.boxing??{};return{border:{enabled:s!=null,stroke:s,strokeWidth:r,strokeOpacity:o},cornerRadius:i,fill:t,fillOpacity:n,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;const t=as("text");if(Ks(this.text))this.applySvgFillAttributes(t),CV(t,this),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",this.textBaseline),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text;else for(const n of this.text){const i=as("tspan");CV(i,{fontSize:n.fontSize??this.fontSize,fontFamily:n.fontFamily??this.fontFamily,fontWeight:n.fontWeight??this.fontWeight,fontStyle:n.fontStyle??this.fontStyle}),this.applySvgFillAttributes(i),i.textContent=n.text,t.append(i)}return{elements:[t]}}};ca.className="Text";ca.debug=Ut.create(!0,"scene:text");ca.defaultFontSize=10;L([Be()],ca.prototype,"x",2);L([Be()],ca.prototype,"y",2);L([G5({changeCb:e=>e.onTextChange()})],ca.prototype,"text",2);L([Be()],ca.prototype,"fontStyle",2);L([Be()],ca.prototype,"fontWeight",2);L([Be()],ca.prototype,"fontSize",2);L([Be()],ca.prototype,"fontFamily",2);L([Be()],ca.prototype,"textAlign",2);L([Be()],ca.prototype,"textBaseline",2);L([Be()],ca.prototype,"lineHeight",2);var Ea=ca,uY=class extends pw(Ea){},UC=class extends pw(mw(Ea)){},tD=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const n=this.textWrap(e,t);return t.overflow==="hide"&&n.some(i=>i.endsWith(Xn.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Xn.EllipsisChar}static truncateLine(e,t,n,i){const s=t.textWidth(Xn.EllipsisChar);let r=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(r+a>n)break;r+=a}if(e.length===o&&(!i||r+s<=n))return i?e+Xn.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+s>n;)e=e.slice(0,-1).trimEnd();return e+Xn.EllipsisChar}static textWrap(e,t){const n=e.split(Xn.lineSplitter),i=Eg.getMeasurer(t);if(t.textWrap==="never")return n.map(a=>this.truncateLine(a.trimEnd(),i,t.maxWidth));const s=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of n){let l=a.trimEnd();if(l===""){s.push(l);continue}let c=0,d=0,f=0;for(;c<l.length;){const g=l.charAt(c);if(d+=i.textWidth(g),g===" "&&(f=c),d>t.maxWidth){if(c===0)break;const y=i.textWidth(l.slice(0,c+1));if(y<=t.maxWidth){d=y,c++;continue}if(f){const S=this.getWordAt(l,f+1),x=i.textWidth(S);if(x<=t.maxWidth){s.push(l.slice(0,f).trimEnd()),l=l.slice(f).trimStart(),c=0,d=0,f=0;continue}else o&&x>t.maxWidth&&s.push(l.slice(0,f).trimEnd(),this.truncateLine(l.slice(f).trimStart(),i,t.maxWidth,!0))}else o&&s.push(this.truncateLine(l,i,t.maxWidth,!0));if(o){l="";break}const v=r?"-":"";let w=l.slice(0,c).trim();for(;w.length&&i.textWidth(w+v)>t.maxWidth;)w=w.slice(0,-1).trimEnd();if(s.push(w+v),!w.length){l="";break}l=l.slice(w.length).trimStart(),c=-1,d=0,f=0}c++}l&&s.push(l)}return this.avoidOrphans(s,i,t),this.clipLines(s,i,t)}static getWordAt(e,t){const n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;const{height:i,lineMetrics:s}=t.measureLines(e);if(i<=n.maxHeight)return e;for(let r=0,o=0;r<s.length;r++){const{lineHeight:a}=s[r];if(o+=a,o>n.maxHeight){if(n.overflow==="hide")return[];const l=e.slice(0,r||1),c=l.pop();return l.concat(this.truncateLine(c,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(n.avoidOrphans===!1||e.length<2)return;const{length:i}=e,s=e[i-1],r=e[i-2];if(r.length<s.length)return;const o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||s.includes(" "))return;const a=r.slice(o+1);t.textWidth(s+a)<=n.maxWidth&&(e[i-2]=r.slice(0,o),e[i-1]=a+" "+s)}},dY={};Zu(dY,{BASE_FONT_SIZE:()=>Vd,CARTESIAN_AXIS_TYPE:()=>fY,CARTESIAN_POSITION:()=>hY,FONT_SIZE:()=>V_,FONT_SIZE_RATIO:()=>Ia,POLAR_AXIS_SHAPE:()=>pY,POLAR_AXIS_TYPE:()=>gY});var V_=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(V_||{}),Vd=12,Ia=(e=>(e[e.SMALLEST=8/Vd]="SMALLEST",e[e.SMALLER=10/Vd]="SMALLER",e[e.SMALL=12/Vd]="SMALL",e[e.MEDIUM=13/Vd]="MEDIUM",e[e.LARGE=14/Vd]="LARGE",e[e.LARGEST=17/Vd]="LARGEST",e))(Ia||{}),hY=(e=>(e.TOP="top",e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.BOTTOM="bottom",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e))(hY||{}),fY=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.UNIT_TIME="unit-time",e.TIME="time",e.NUMBER="number",e.LOG="log",e))(fY||{}),gY=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(gY||{}),pY=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(pY||{}),Gi=class extends It{constructor(){super(...arguments),this.id=Sc(this),this.node=new uY({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.eventsHub.on("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:n,padding:i,wrapping:s}=this;if(gn(n))return;const r=Math.min(this.maxWidth??1/0,e)-i*2,o=this.maxHeight??t-i*2;if(!isFinite(r)&&!isFinite(o)){this.node.text=n;return}const a=tD.wrapText(n??"",{maxWidth:r,maxHeight:o,font:this,textWrap:s});this.node.text=a,this.truncated=a.includes(Xn.EllipsisChar)}updateA11yText(e,t){var i;const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const s=Qi.toCanvas(this.node);if(s){const{id:r}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=uF(this.text),this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(i=this.proxyText)==null||i.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.truncated){const{x:n,y:i}=Qi.toCanvas(this.node),s=t.sourceEvent.offsetX+n,r=t.sourceEvent.offsetY+i;e.tooltipManager.updateTooltip(this.id,{canvasX:s,canvasY:r,showArrow:!1},[{type:"structured",title:uF(this.text)}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};Gi.SMALL_PADDING=10;L([F,cs("node","visible")],Gi.prototype,"enabled",2);L([F,cs("node")],Gi.prototype,"text",2);L([F,cs("node")],Gi.prototype,"textAlign",2);L([F,cs("node")],Gi.prototype,"fontStyle",2);L([F,cs("node")],Gi.prototype,"fontWeight",2);L([F,cs("node")],Gi.prototype,"fontSize",2);L([F,cs("node")],Gi.prototype,"fontFamily",2);L([F,cs("node","fill")],Gi.prototype,"color",2);L([F],Gi.prototype,"spacing",2);L([F],Gi.prototype,"maxWidth",2);L([F],Gi.prototype,"maxHeight",2);L([F],Gi.prototype,"wrapping",2);L([F],Gi.prototype,"padding",2);L([F],Gi.prototype,"layoutStyle",2);var j_=(e=>(e.X="x",e.Y="y",e.Angle="angle",e.Radius="radius",e))(j_||{});function Bve(e){switch(e){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var P1=class{constructor(){this.title=new Gi,this.subtitle=new Gi,this.footnote=new Gi}positionCaptions(e){const{title:t,subtitle:n,footnote:i}=this,s=e.layoutBox.height/10;t.enabled&&(this.positionCaption("top",t,e.layoutBox,s),this.shrinkLayoutByCaption("top",t,e.layoutBox)),n.enabled&&(this.positionCaption("top",n,e.layoutBox,s),this.shrinkLayoutByCaption("top",n,e.layoutBox)),i.enabled&&(this.positionCaption("bottom",i,e.layoutBox,s),this.shrinkLayoutByCaption("bottom",i,e.layoutBox))}positionAbsoluteCaptions(e){const{title:t,subtitle:n,footnote:i}=this,{rect:s}=e.series;for(const r of[t,n,i])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=s.x+r.padding;else if(r.textAlign==="right"){const o=r.node.getBBox();r.node.x=s.x+s.width-o.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,n,i){const s=Math.max(Xn.getLineHeight(t.fontSize),i);t.node.x=this.computeX(t.textAlign,n)+t.padding,t.node.y=n.y+(e==="top"?0:n.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(n.width,s)}shrinkLayoutByCaption(e,t,n){if(t.layoutStyle==="block"){const i=t.node.getBBox(),{spacing:s=0}=t;e==="bottom"&&gn(t.text)&&(t.node.y-=i.height,i.y-=i.height),n.shrink(Math.ceil(e==="top"?i.y-n.y+i.height+s:n.y+n.height-i.y+s),e)}}};L([F],P1.prototype,"title",2);L([F],P1.prototype,"subtitle",2);L([F],P1.prototype,"footnote",2);var Gve=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],zve=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,n;let e=(n=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:n.chartType;return e??(e="candlestick"),e}guardMemento(e){return e==null||Gve.includes(e)}restoreMemento(e,t,n){var s;if(n==null)return;const i={chartType:n};(s=this.chartService.publicApi)==null||s.updateDelta(i).catch(r=>ze.error("error restoring state",r))}},lM="12.1.1",RV=Symbol("previous-memento-not-found"),Hve=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=Ut.create(!0,"history"),this.cleanup=new Vi,this.cleanup.register(e.on("series:undo",this.undo.bind(this)),e.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const n=new Map;for(const i of t){if(!this.originators.has(i.mementoOriginatorKey))throw new Error(`Originator [${i.mementoOriginatorKey}] has not been added to the HistoryManager.`);n.set(i.mementoOriginatorKey,i.createMemento())}this.history.push({label:e,mementos:n}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const n=this.findPreviousMemento(t);if(n===RV)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,n)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,n]of e.mementos.entries())this.restoreMemento(t,n);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):RV}restoreMemento(e,t){var n;(n=this.originators.get(e))==null||n.restoreMemento(lM,lM,t)}debugEvent(...e){this.debug(...e,this.history.map((t,n)=>n===this.historyIndex?`** ${t.label} **`:t.label))}},mY=class bF{constructor(t){this.version=t.split("-")[0]}save(...t){const n={version:this.version};for(const i of Object.values(t))n[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return n}restore(t,...n){if(typeof t!="object"){ze.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){ze.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){ze.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const i of n){const s=this.decode(i,t[i.mementoOriginatorKey]),r=[];if(!i.guardMemento(s,r)){const o=r.length>0?`

${r.join(`

`)}

`:"";ze.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,s);return}i.restoreMemento(this.version,t.version,s)}}encode(t,n){try{return JSON.parse(JSON.stringify(n,bF.encodeTypes))}catch(i){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(t,n){if(n==null)return n;try{return JSON.parse(JSON.stringify(n),bF.decodeTypes)}catch(i){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}static encodeTypes(t,n){return fw(this[t])?{__type:"date",value:this[t].toISOString()}:n}static decodeTypes(t,n){return Hi(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):n}},Vve=class{constructor(){this.caretaker=new mY(lM),this.state=new Map}setState(e,t){Oo(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;const i=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:i},e)}},jve=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,W_=class{constructor(){this.cleanup=new Vi,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},Wve=class TE{constructor(t,n,i){this.element=t,this.topTabGuard=n,this.bottomTabGuard=i,this.cleanup=new Vi,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(t,n){this.cleanup.register(Qn(t,"focus",()=>this.onTab(t,n)))}setGuardIndices(t){const n=t;fn(this.topTabGuard,"tabindex",n),fn(this.bottomTabGuard,"tabindex",n)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:n,bottomTabGuard:i}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==n&&t!==i&&this.setGuardIndices(this.guardTabIndex)}onTab(t,n){if(this.guardTabIndex!==0){let i;t.tabIndex===0?(i=this.findExitTarget(!n),this.setGuardIndices(this.guardTabIndex)):i=this.findEnterTarget(n),i==null||i.focus()}}static queryFocusable(t,n){const i=$n();return Array.from(t.querySelectorAll(n)).filter(s=>{if(s instanceof HTMLElement){const r=i.getComputedStyle(s);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const n=TE.queryFocusable(this.element,'[tabindex="0"]'),i=t?n.length-1:0;return n[i]}findExitTarget(t){const n=TE.queryFocusable(Vu(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,o)=>r.tabIndex-o.tabIndex),{before:i,after:s}=TE.findBeforeAndAfter(n,this.guardTabIndex);return t?i:s}static findBeforeAndAfter(t,n){let i=0,s=t.length-1,r,o;for(;i<=s;){const a=Math.floor((i+s)/2),l=t[a].tabIndex;if(l===n){r=t[a-1]||void 0,o=t[a+1]||void 0;break}else l<n?(r=t[a],i=a+1):(o=t[a],s=a-1)}return{before:r,after:o}}};function O1(e,t,n=["Escape"]){return Qn(e,"keydown",i=>{N1(i,...n)&&t(i)})}function U_(e,t){const n=Qn($n(),"mousedown",i=>{[0,2].includes(i.button)&&!yY(e,i)&&(t(),n())});return n}function $_(e,t){const n=Qn($n(),"touchstart",i=>{Array.from(i.targetTouches).some(r=>!yY(e,r))&&(t(),n())});return n}function yY(e,t){return t.target instanceof Element&&t.target.shadowRoot!=null?!0:t.target instanceof Node&&e.contains(t.target)}function Y_(e,t,n){const i=s=>{for(const r of t)fn(r,"data-focus-visible-override",s)};return i(n),Qn(e,"keydown",()=>i(!0),{once:!0})}function nD(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function N1(e,...t){return nD(e)&&t.some(n=>e.key===n)}function TV(e,t,n){return Qn(e,"keydown",i=>{N1(i,n)&&t.focus()})}var gC={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function vY(e){const{orientation:t,buttons:n,wrapAround:i=!1,onEscape:s,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:l}=gC[t],c=y=>{y.target&&"tabIndex"in y.target&&(n.forEach(v=>v.tabIndex=-1),y.target.tabIndex=0)},[d,f]=i?[n.length,n.length]:[0,1/0],g=new Vi;for(let y=0;y<n.length;y++){const v=n[(d+y-1)%f],w=n[y],S=n[(d+y+1)%f];g.register(Qn(w,"focus",c),r&&Qn(w,"focus",r),o&&Qn(w,"blur",o),s&&O1(w,s),v&&TV(w,v,l),S&&TV(w,S,a),Qn(w,"keydown",x=>{N1(x,a,l)&&x.preventDefault()})),w.tabIndex=y===0?0:-1}return g}var Uve=class{constructor(e,t,n){this.lastFocus=t,this.closeCallback=n,this.cleanup=new Vi,this.cleanup.register(U_(e,()=>this.close(!0)),$_(e,()=>this.close(!0)))}close(e){this.cleanup.flush(),this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.cleanup.flush(),fn(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function bY(e){var y;const{sourceEvent:t,orientation:n,menu:i,buttons:s,closeCallback:r,overrideFocusVisible:o}=e,{nextKey:a,prevKey:l}=gC[n],c=_1(t);fn(c,"aria-expanded",!0);const d=new Uve(i,c,r),f=()=>d.close(),{cleanup:g}=d;return i.role="menu",i.ariaOrientation=n,g.merge(vY({orientation:n,buttons:s,onEscape:f,wrapAround:!0})),i.tabIndex=-1,g.register(O1(i,f),Qn(i,"keydown",v=>{var w;v.target===i&&(v.key===a||v.key===l)&&(v.preventDefault(),(w=s[0])==null||w.focus())})),(y=s[0])==null||y.focus({preventScroll:!0}),o!==void 0&&g.register(Y_(i,s,o)),d}function $ve(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function F1(e){return"button"in e?e.button===0:nD(e)&&(e.code==="Space"||e.key==="Enter")}function _1(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function CY(e){return Qn(e,"keydown",t=>{if(t.defaultPrevented)return;fC(t.target,"data-preventdefault",!0)&&N1(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()})}var Yve=class{constructor(e){this.callback=e,this.devicePixelRatio=$n("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=$n("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=$n("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},wY=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([n,i])=>this.observe(n,i)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(n=>{for(const{target:i,contentRect:{width:s,height:r}}of n){const o=this.elements.get(i);this.checkSize(o,i,s,r)}}));let e;this.pixelRatioObserver=new Yve(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Vu("readyState")==="complete",this.documentReady?this.observeWindow():(t=$n())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,n;(e=$n())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(n=this.pixelRatioObserver)==null||n.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[n,i]of this.elements)if(i.size!=null&&i.size.pixelRatio!==e){const{width:s,height:r}=i.size;i.size={width:s,height:r,pixelRatio:e},i.cb(i.size,n)}}checkSize(e,t,n,i){var s,r,o;if(e&&(n!==((s=e.size)==null?void 0:s.width)||i!==((r=e.size)==null?void 0:r.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:n,height:i,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var i;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(i=this.resizeObserver)==null||i.observe(e);const n={cb:t};this.elements.set(e,n)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},$C=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},Kve='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',qve=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],Zve=new Set(["styles","canvas-container","canvas","tooltip-container"]),EV={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},Xve=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function Qve(e,t){if(typeof IntersectionObserver>"u")return;const n=new IntersectionObserver(i=>{for(const s of i)s.target===e&&t(s.intersectionRatio)},{root:e});return n.observe(e),n}var SY={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return SY}};function IV(e,t){const n=Yt("div");return n.className="ag-charts-tab-guard",e.insertAdjacentElement(t,n),n}var K_=class pm extends W_{constructor(t,n,i,s,r="normal"){super(),this.eventsHub=t,this.chart=n,this.styleContainer=s,this.mode=r,this.anchorName=`--${Sc(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new wY,this.cursorState=new $C("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let o=!1;if(this.observer=Qve(this.element,a=>{a===0&&!o&&this.eventsHub.emit("dom:hidden",null),o=a===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",jve),this.setContainer(i),this.cleanup.register(CY(this.element)),this.mode==="normal"){const a=this.rootElements["canvas-center"].element;if(a==null)throw new Error("Error initializing tab guards");const l=IV(a,"beforebegin"),c=IV(a,"afterend");this.tabGuards=new Wve(a,l,c)}}initDOM(){if(this.mode==="normal"){const i=Yt("div");return i.innerHTML=Kve,i.firstChild}const t=Yt("div");t.role="presentation",t.dataset.agCharts="",t.classList.add("ag-charts-wrapper");const n=Yt("div");return t.appendChild(n),n.role="presentation",n.classList.add("ag-charts-series-area"),t}initRootElements(){const{mode:t,element:n}=this,i={};for(const s of qve){const r=`ag-charts-${s}`;let o;if(t==="normal"?o=n.classList.contains(r)?n:n.getElementsByClassName(r)[0]:Zve.has(s)?o=n:o=n.getElementsByClassName(r)[0]??Yt("div"),o==null)throw new Error(`AG Charts - unable to find DOM element ${r}`);i[s]={element:o,children:new Map,listeners:[]}}return i}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(n=>{n.children.forEach(i=>i.remove()),n.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(pm.batchedUpdateContainer.length===0&&$n().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),pm.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of pm.batchedUpdateContainer)t.destroyed||t.updateContainer();pm.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,n=300,i,s){const{style:r}=this.element;r.width=`${i??t}px`,r.height=`${s??n}px`,this.minWidth=i??t,this.minHeight=s??n,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const n of this.rootElements.styles.children.keys())this.removeChild("styles",n);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=t.isConnected;for(const[n,i]of this.styles)this.addStyles(n,i);t.appendChild(this.element),this.sizeMonitor.observe(t,n=>{this.containerSize=n,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(t){const n="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(n)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}setThemeParameters(t){for(const[n,i]of fc(t)){let s=`${i}`;n.endsWith("Size")||n.endsWith("Radius")?s=`${i}px`:n.endsWith("Border")&&typeof i=="boolean"&&(s=i?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${Bme(n)}`,s)}}updateCanvasLabel(t){fn(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,n){return["focus","blur","keydown","keyup"].includes(n)?this.rootElements["series-area"].element:t}addEventListener(t,n,i){const s=this.getEventElement(this.element,t);return Qn(s,t,n,i)}removeEventListener(t,n,i){this.getEventElement(this.element,t).removeEventListener(t,n,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var s;const t=$n(),n=new Xe(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect();return((s=n.intersection(i))==null?void 0:s.toDOMRect())??SY}getRawOverlayClientRect(){var r,o,a;let t=this.element;const n=(r=this.element.getRootNode())==null?void 0:r.fullscreenElement;for(;t!=null;){let l;if(n!=null&&t===n)l=!0;else{const c=(o=t.computedStyleMap)==null?void 0:o.call(t),d=(a=c==null?void 0:c.get("overflow-y"))==null?void 0:a.toString();l=d==="auto"||d==="scroll"}if(l)return Xe.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return Xe.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:i,innerHeight:s}=$n();return new Xe(0,0,i,s)}getShadowDocumentRoot(t=this.container){var i;const n=((i=t==null?void 0:t.ownerDocument)==null?void 0:i.body)??Vu("body");for(;t!=null;){if(t===n)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:n}=this.rootElements[t],i=[];for(const s of n.values())i.push(Xe.fromDOMRect(s.getBoundingClientRect()));return Xe.merge(i)}isManagedChildDOMElement(t,n,i){const{children:s}=this.rootElements[n],r=s==null?void 0:s.get(i);return r!=null&&t.contains(r)}contains(t,n){return n==null?this.element.contains(t):this.rootElements[n].element.contains(t)}addStyles(t,n){const i="data-ag-charts";if(this.styles.set(t,n),this.container==null)return;const s=a=>a.getAttribute(i)===t,r=a=>{const l=new Set(["TITLE","META"]);let c=!0,d;for(const g of a.children){if(c&&l.has(g.tagName)){d=g;continue}if(c=!1,s(g))return;g.hasAttribute(i)&&(d=g)}const f=Yt("style");return this.chart.styleNonce!=null&&(f.nonce=this.chart.styleNonce),d==null?a.prepend(f):a.insertBefore(f,d.nextSibling),f};let o;this.styleContainer?o=r(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",t):this.documentRoot==null&&!pm.headStyles.has(t)?(o=r(Vu("head")),pm.headStyles.add(t)):this.documentRoot!=null&&(o=this.addChild("styles",t)),!(o==null||s(o))&&(o.setAttribute(i,t),o.innerHTML=n)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,n){this.cursorState.set(t,n),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,n,i,s){const{element:r,children:o,listeners:a}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(n))return o.get(n);const{childElementType:l="div"}=Xve.get(t)??{};if(i&&i.tagName.toLowerCase()!==l.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const c=i??Yt(l);for(const[d,f,g]of a)c.addEventListener(d,f,g);if(o.set(n,c),l==="style"&&this.chart.styleNonce!=null&&(c.nonce=this.chart.styleNonce),s){const d=r.querySelector(s.query);if(d==null)throw new Error(`AG Charts - addChild query failed ${s.query}`);d.insertAdjacentElement(s.where,c)}else r==null||r.appendChild(c);return c}removeChild(t,n){var s;const{children:i}=this.rootElements[t];i&&((s=i.get(n))==null||s.remove(),i.delete(n))}incrementDataCounter(t){const{dataset:n}=this.element;n[t]??(n[t]="0"),n[t]=String(Number(n[t])+1)}setDataBoolean(t,n){this.element.dataset[t]=String(n)}updateContainerClassName(){const{element:t,containerSize:n,minWidth:i,minHeight:s}=this;t.classList.toggle(EV.safeHorizontal,i>=((n==null?void 0:n.width)??1/0)),t.classList.toggle(EV.safeVertical,s>=((n==null?void 0:n.height)??1/0))}};K_.batchedUpdateContainer=[];K_.headStyles=new Set;var xY=K_,Jve=class extends Xu{constructor(){super(Yt("div")),this.textElement=as("text"),this.textElement.role="presentation",this.svgElement=as("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var i;this.textElement.textContent=e;const t=this.textElement,n=(i=t.getBBox)==null?void 0:i.call(t);n&&this.svgElement.setAttribute("viewBox",`${n.x} ${n.y} ${n.width} ${n.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},MY=class extends Xu{constructor(e,t){super(e),fn(this.elem,"role",t),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:n})=>{var i;F1(n)&&(n.preventDefault(),(i=this.htmlListener)==null||i.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:n}))})}destructor(){}setEnabled(e){fn(this.elem,"aria-disabled",!e)}addListener(e,t){return super.addListener(e,(n,i)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(n,i)})}},iD=class extends MY{constructor(){super(Yt("button"))}},ebe=class extends Xu{constructor(){super(Yt("div")),fn(this.elem,"role","group")}destructor(){}},q_=class extends Xu{constructor(e,t){super(Yt("div")),this.focusedChildIndex=0,this.onChildFocus=(n,i)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=i.index,s==null||s.setTabIndex(-1),i.setTabIndex(0)},this.onChildKeyDown=(n,i)=>{var l;const s=this.orientation,[r,o]=s==="both"?[gC.horizontal,gC.vertical]:[gC[s],void 0];let a=-1;if(nD(n.sourceEvent)){const c=n.sourceEvent.key;c===r.nextKey||c===(o==null?void 0:o.nextKey)?a=i.index+1:(c===r.prevKey||c===(o==null?void 0:o.prevKey))&&(a=i.index-1)}(l=this.children[a])==null||l.focus()},fn(this.elem,"role",t),this.orientation=e}get orientation(){return fC(this.elem,"aria-orientation")??"both"}set orientation(e){fn(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}clear(){this.focusedChildIndex=0;for(const e of this.children)this.removeChildListeners(e),e.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown)}removeChildListeners(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}onChildAdded(e){this.addChildListeners(e),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){this.removeChildListeners(e);const{focusedChildIndex:t,children:n}=this,i=t===e.index;for(let s=0;s<n.length;s++){const r=n[s];r.index===t&&(this.focusedChildIndex=s),r.index=s}if(i){const s=n[t]??n[t-1];s?(this.focusedChildIndex=s.index,s.setTabIndex(0)):this.focusedChildIndex=0}}},tbe=class extends q_{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const n=Yt("div");fn(n,"role","listitem"),Mu(n,"position","absolute"),Xu.setElementContainer(e,n),this.appendOrInsert(n,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},YC=class extends Xu{constructor(e){super(e)}destructor(){}},nbe=new Intl.NumberFormat("en-US",{style:"percent"});function KC(e,t=2){return typeof e=="number"?AY(e,t):typeof e=="string"?e:String(e??"")}function DY(e){return nbe.format(e)}var kV=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function AY(e,t){let n=kV.get(t);return n||(n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),kV.set(t,n)),n.format(e)}var Z_=class f0 extends Xu{constructor(){super(Yt("input")),this._step=f0.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var n;if(t!==((n=this._keyboardStep)==null?void 0:n.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const i=()=>this.getElement().step=t.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:i,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return fC(this.elem,"aria-orientation")??"both"}set orientation(t){fn(this.elem,"aria-orientation",t!=="both"?t:void 0),f0.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,n){const i=this.getValueRatio(),s=At(t,i,n);return s!==i&&this.setValueRatio(s),s}setValueRatio(t,n){const{divider:i}=this.step,s=Math.round(t*1e4)/i,{ariaValueText:r=DY(s/i)}=n??{},o=this.getElement();o.value=`${s}`,o.ariaValueText=r}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(t,n){n==="both"?t.removeListener("keydown",f0.onKeyDown):t.addListener("keydown",f0.onKeyDown)}static onKeyDown(t,n){let i=[];const{orientation:s}=n;s==="horizontal"?i=["ArrowUp","ArrowDown"]:s==="vertical"&&(i=["ArrowLeft","ArrowRight"]),i.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};Z_.STEP_ONE={attributeValue:"1",divider:1};Z_.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var X_=Z_,ibe=class extends iD{constructor(){super(),fn(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){fn(this.elem,"aria-checked",e)}},B1=class extends q_{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function Rb(e,t){var n;return((n=t.params)==null?void 0:n.type)===e}function sbe(e){if(e==="button")return new iD;if(e==="slider")return new X_;if(e==="toolbar")return new B1;if(e==="group")return new ebe;if(e==="list")return new tbe;if(e==="region")return new YC(Yt("div"));if(e==="text")return new Jve;if(e==="listswitch")return new ibe;throw Error("AG Charts - error allocating meta")}function LV(e){const t={params:e,result:void 0};return t.result=sbe(t.params.type),t}var RY=class{constructor(e,t,n){this.eventsHub=e,this.localeManager=t,this.domManager=n,this.cleanup=new Vi}destroy(){this.cleanup.flush()}addLocalisation(e){e(),this.cleanup.register(this.eventsHub.on("locale:change",e))}createProxyContainer(e){const t=LV(e),{params:n,result:i}=t,s=i.getElement();return this.domManager.addChild("canvas-proxy",n.domManagerId,s),s.classList.add(...n.classList,"ag-charts-proxy-container"),s.role=n.type,Rb("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),i}createProxyElement(e){const t=LV(e);if(Rb("button",t)){const{params:n,result:i}=t,s=i.getElement();if(this.initInteract(n,i),typeof n.textContent=="string")s.textContent=n.textContent;else{const{textContent:r}=n;this.addLocalisation(()=>{s.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(Rb("slider",t)){const{params:n,result:i}=t,s=i.getElement();this.initInteract(n,i),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),this.setParent(t.params,t.result)}if(Rb("text",t)){const{params:n,result:i}=t;this.initElement(n,i),this.setParent(t.params,t.result)}if(Rb("listswitch",t)){const{params:n,result:i}=t;this.initInteract(n,i),i.setTextContent(n.textContent),i.setChecked(n.ariaChecked),i.setAriaDescribedBy(n.ariaDescribedBy),this.setParent(t.params,t.result)}if(Rb("region",t)){const{params:n,result:i}=t,s=i.getElement();this.initInteract(n,i),s.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const n=t.getElement();return Mu(n,"cursor",e.cursor),n.classList.toggle("ag-charts-proxy-elem",!0),n}initInteract(e,t){const{tabIndex:n,domIndex:i}=e,s=this.initElement(e,t);n!==void 0&&(s.tabIndex=n),i!==void 0&&(t.domIndex=i)}setParent(e,t){var n;if("parent"in e)(n=e.parent)==null||n.addChild(t);else{const i={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),i),t.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",e.domManagerId)}}}},rbe={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},obe=/\$\{(\w+)}(?:\[(\w+)])?/gi,bO={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},abe=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(obe,(n,i,s)=>{const r=t[i],o=s!=null?bO[s]:null;return s!=null&&o==null&&ze.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(r):typeof r=="number"?bO.number.format(r):r instanceof Date?bO.datetime.format(r):String(r)}),lbe=class{constructor(e){this.eventsHub=e,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.eventsHub.emit("locale:change",null))}t(e,t={}){const{localeText:n=rbe,getLocaleText:i}=this,s=n[e];return(i==null?void 0:i({key:e,defaultValue:s,variables:t}))??abe({defaultValue:s,variables:t})??e}},Q_=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:n,canvasElement:i,willReadFrequently:s=!1}=e;this.pixelRatio=e.pixelRatio??$n("devicePixelRatio")??1,this.element=i??Yt("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(t??0,n??0,this.pixelRatio),L5(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,n){if(!(e>0&&t>0))return;const{element:i,context:s}=this;i.width=Math.round(e*n),i.height=Math.round(t*n),s.setTransform(n,0,0,n,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=n}clear(){k5(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){var e,t;this.context.reset(),(t=(e=this.context).verifyDepthZero)==null||t.call(e)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};L([Tg(e=>e.onEnabledChange())],Q_.prototype,"enabled",2);var cbe=class extends Rg{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(e,t){const n=this.cache.get(e);if(n!=null&&n.image)return n.image;if(n!=null&&t){n.nodes.add(t);return}if(!t)return;const i={image:void 0,nodes:new Set([t])},s=new Image;return this.imageLoadingCount++,s.onload=()=>{i.image=s;for(const r of i.nodes)r.markDirty();i.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:e})},s.onerror=()=>{this.imageLoadingCount--,i.nodes.clear(),this.emit("image-error",{uri:e})},s.src=e,this.cache.set(e,i),i.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(e=>{e.nodes.clear()}),this.cache.clear()}},ube=class{constructor(e){this.canvas=e,this.debug=Ut.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,n){this.canvas.resize(e,t,n),this.layersMap.forEach(({canvas:i})=>i.resize(e,t,n))}addLayer(e){const{width:t,height:n,pixelRatio:i}=this.canvas,{name:s}=e,r=new R_({width:t,height:n,pixelRatio:i});return this.layersMap.set(r,{id:this.nextLayerId++,name:s,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}},G1=class extends Rg{constructor(e){super(),this.debug=Ut.create(!0,"scene"),this.id=Sc(this),this.imageLoader=new cbe,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new Vi,this.updateDebugFlags(),this.canvas=new Q_(e),this.layersManager=new ube(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:t})=>{ze.warnOnce(`Unable to load image ${t}`)}))}waitingForUpdate(){var e;return((e=this.imageLoader)==null?void 0:e.waitingToLoad())??!1}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var n;const{element:t}=this.canvas;return(n=t.parentElement)==null||n.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t.setScene(),this.root=e,e&&(e.visible=!0,e.setScene(this)),this)}updateDebugFlags(){Ut.inDevelopmentMode(()=>lh._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){Ime(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,n){return e=Math.round(e),t=Math.round(t),n??(n=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||n!==this.pixelRatio)?(this.pendingSize=[e,t,n],this.isDirty=!0,!0):!1}render(e){var S;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:n,seriesRect:i}=e??{},{canvas:s,canvas:{context:r}={},root:o,pendingSize:a,width:l,height:c,pixelRatio:d}=this;if(!r)return;const f=performance.now();let g=!1;if(a&&(g=!0,this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}let y;if(o instanceof jt&&(y=o.dirty),o!=null&&y===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:AE(o,"console")}),MV(this.layersManager,t,r,void 0,n,i);return}const v={ctx:r,width:l,height:c,devicePixelRatio:d,debugNodes:{}};Ut.check("scene:stats:verbose")&&(v.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Lve(v);let w=!1;if((y!==!1||g)&&(w=!0,s.clear()),o&&Ut.check("scene:dirtyTree")){const{dirtyTree:x,paths:M}=cY(o);Ut.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:x,paths:M})}if(o&&w){if(o.visible&&o.preRender(v),this.debug.check()){const x=AE(o,"console");this.debug("Scene.render() - before",{canvasCleared:w,tree:x})}if(o.visible)try{r.save(),o.render(v),r.restore()}catch(x){throw this.canvas.reset(),x}}t["✍️"]=performance.now()-f,(S=r.verifyDepthZero)==null||S.call(r),this.isDirty=!1,MV(this.layersManager,t,r,v.stats,n,i),Pve(r,v.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:AE(o,"console"),canvasCleared:w})}toSVG(){const{root:e,width:t,height:n}=this;if(e!=null)return lh.toSVG(e,t,n)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};G1.className="Scene";var dbe=class{constructor(e,t,n){this.eventsHub=e,this.annotationRoot=t,this.fireChartEvent=n,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||gn(e)}restoreMemento(e,t,n){this.annotations=this.cleanData(n??[]).map(i=>{const s=this.getAnnotationTypeStyles(i.type);return Rn(i,s)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:Bi([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},TY=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",e[e.AXIS_GRID=2]="AXIS_GRID",e[e.AXIS=3]="AXIS",e[e.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",e[e.ZOOM_SELECTION=5]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=7]="SERIES_LAYER",e[e.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=12]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=14]="STATUS_BAR",e[e.SERIES_LABEL=15]="SERIES_LABEL",e[e.LEGEND=16]="LEGEND",e[e.NAVIGATOR=17]="NAVIGATOR",e[e.FOREGROUND=18]="FOREGROUND",e))(TY||{}),hbe=class{constructor(e,t){this.eventsHub=e,this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new jt({name:"Axes-Grids",zIndex:2}),this.axisGroup=new jt({name:"Axes",zIndex:3}),this.axisLabelGroup=new jt({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new jt({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new jt({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new jt({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var i;const n={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of e)t.includes(s)||(s.detachAxis(n),s.destroy());for(const s of t)e!=null&&e.includes(s)||s.attachAxis(n);this.axes.clear();for(const s of t){const r=s.createAxisContext();this.axes.has(r.direction)?(i=this.axes.get(r.direction))==null||i.push(r):this.axes.set(r.direction,[r])}this.eventsHub.emit("axis:change",null)}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},P0=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",e[e.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=5]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=7]="SCENE_RENDER",e[e.NONE=8]="NONE",e))(P0||{}),z1=class{constructor(e,t,n){this.eventsHub=e,this.caller=t,this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=Ut.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(e){var n,i,s,r;const{pendingData:t}=this;if(t!=null&&((n=t.params.windowStart)==null?void 0:n.valueOf())===((i=e.windowStart)==null?void 0:i.valueOf())&&((s=t.params.windowEnd)==null?void 0:s.valueOf())===((r=e.windowEnd)==null?void 0:r.valueOf())){const o=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(o,t.data);return}this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}async getData(){const{latestRequest:e}=this;if(!e)return;const{params:t,fetchRequest:n}=e,i=await n;return{params:t,data:i}}restoreData(e){this.pendingData=e}createThrottledFetch(e){return nV(t=>this.fetch(t).catch(n=>ze.error("callback failed",n)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return nV((t,n)=>this.dispatch(t,n),e,{leading:!0,trailing:!0})}dispatch(e,t){this.debug(`DataService - dispatching 'data-load' | ${e}`),this.eventsHub.emit("data:load",{data:t})}async fetch(e){"context"in this.caller&&(e.context=this.caller.context);const t=Promise.resolve().then(async()=>{if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const n=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`);let s;try{s=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-n}ms | ${i}`)}catch(o){this.debug(`DataService - request failed | ${i}`),ze.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const r=this.freshRequests.indexOf(t);return r===-1||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${i}`),s):(this.freshRequests=this.freshRequests.slice(r+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(s)?this.throttledDispatch(i,s):this.eventsHub.emit("data:error",null),s)});this.latestRequest={params:e,fetchRequest:t},this.freshRequests.push(t),await t}};L([ro({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],z1.prototype,"dispatchThrottle",2);L([ro({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],z1.prototype,"requestThrottle",2);var fbe=class{constructor(e,t){this.domManager=e,this.updateService=t,this.observers=[]}updateFonts(e){!e||e.size===0||(this.loadFonts(e),e.forEach(t=>{this.observeFontStatus(t)}))}destroy(){for(const e of this.observers)e.disconnect();this.observers=[]}loadFonts(e){const t=Array.from(e).map(r=>encodeURIComponent(r)),n=":wght@100;200;300;400;500;600;700;800;900",i=`${n}&family=`,s=`@import url('https://fonts.googleapis.com/css2?family=${t.join(i)}${n}&display=swap');
`;this.domManager.addStyles(`google-font-${t.join("-")}`,s)}observeFontStatus(e){const t=window.document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0"),t.style.setProperty("margin","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("visibility","hidden"),t.style.setProperty("width","auto"),t.style.setProperty("max-width","none"),t.style.setProperty("font-synthesis","none"),t.style.setProperty("font-family",e),t.style.setProperty("font-size","16px"),t.style.setProperty("white-space","nowrap"),t.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(e)}`,t);const n=new ResizeObserver(i=>{var r,o;const s=(o=(r=i==null?void 0:i.at(0))==null?void 0:r.contentBoxSize.at(0))==null?void 0:o.inlineSize;s!=null&&s>0&&(Eg.clear(),this.updateService.update(4))});n.observe(t),this.observers.push(n)}},EY=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[t,n]of this.registeredListeners.entries()){const i=n.findIndex(s=>s.symbol===e);if(i>=0){n.splice(i,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const n of this.getListenersByType(e))try{n.handler(...t)}catch(i){ze.errorOnce(i)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Jx=new WeakMap;function cM(e,t){var i,s,r;const n=JSON.stringify(e,null,0);return Jx.has(t)||Jx.set(t,new Map),(i=Jx.get(t))!=null&&i.has(n)||(s=Jx.get(t))==null||s.set(n,t(e)),(r=Jx.get(t))==null?void 0:r.get(n)}var CO=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function sD(e,t){let n=new CO;const i=(...s)=>{let r=n;for(const o of s){const a=typeof o=="object"||typeof o=="symbol"?r.weak:r.strong;let l=a.get(o);l==null&&(l=new CO,a.set(o,l)),r=l}if(r.set)return t==null||t("hit",e,s),r.value;{const o=e(...s);return r.set=!0,r.value=o,t==null||t("miss",e,s),o}};return i.reset=()=>{n=new CO},i}function Sr(e,t){const n=new Map,i=(...o)=>o.map(a=>typeof a=="object"||typeof a=="symbol"?a:(n.has(a)||n.set(a,{v:a}),n.get(a))),s={},r=new WeakMap;return(...o)=>{const a=o.length===0?[s]:i(...o);let l=r;for(const f of a.slice(0,-1))l.has(f)||l.set(f,new WeakMap),l=l.get(f);const c=a.at(-1);let d=l.get(c);return d?t==null||t("hit",e,o):(d=e(...o),l.set(c,d),t==null||t("miss",e,o)),d}}var jT={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function J_(e,t=new Date(e.getFullYear(),0,1)){const n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+n*6e4,s=36e5*24;return Math.floor(i/s)}function PV(e,t){const i=new Date(e.getFullYear(),0,1).getDay(),s=(t-i+7)%7,r=new Date(e.getFullYear(),0,s+1);return r<=e?Math.floor(J_(e,r)/7)+1:0}var gbe=0,IY=1,OV=4;function kY(e,t=e.getFullYear()){const i=new Date(t,0,1).getDay(),s=(OV-i+7)%7,r=new Date(t,0,s-(OV-IY)+1);return r<=e?Math.floor(J_(e,r)/7)+1:kY(e,t-1)}function pbe(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${wr(Math.floor(n/60),2,"0")}${wr(Math.floor(n%60),2,"0")}`}var mbe={a:e=>jT.shortDays[e.getDay()],A:e=>jT.days[e.getDay()],b:e=>jT.shortMonths[e.getMonth()],B:e=>jT.months[e.getMonth()],c:"%x, %X",d:(e,t)=>wr(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>wr(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>wr(e.getHours(),2,t??"0"),I:(e,t)=>{const n=e.getHours()%12;return n===0?"12":wr(n,2,t??"0")},j:(e,t)=>wr(J_(e)+1,3,t??"0"),m:(e,t)=>wr(e.getMonth()+1,2,t??"0"),M:(e,t)=>wr(e.getMinutes(),2,t??"0"),L:(e,t)=>wr(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>wr(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>wr(PV(e,gbe),2,t??"0"),V:(e,t)=>wr(kY(e),2,t??"0"),w:(e,t)=>wr(e.getDay(),2,t??"0"),W:(e,t)=>wr(PV(e,IY),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>wr(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>wr(e.getFullYear(),4,t??"0"),Z:e=>pbe(e),"%":()=>"%"},ybe={_:" ",0:"0","-":""};function wr(e,t,n){const i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function ay(e){const t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){const a=n>0?e.substring(0,n):e;t.push(a)}if(n<0)break;const i=e[n+1],s=ybe[i];s!=null&&n++;const r=e[n+1],o=mbe[r];if(typeof o=="function")t.push([o,s]);else if(typeof o=="string"){const a=ay(o);t.push([a,s])}else t.push(`${s??""}${r}`);e=e.substring(n+2)}return n=>{const i=typeof n=="number"?new Date(n):n;return t.map(s=>typeof s=="string"?s:s[0](i,s[1])).join("")}}var hu={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},vbe={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},Yr={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},bbe=/%[-_0]?L/,Cbe=/%[-_0]?S/,wbe=/%[-_0]?M/,Sbe=/%[-_0]?[HI]/,xbe=/^%[-_0]?[de]$/,Mbe=/^%[-_0]?[Bbm]$/,Dbe=/^%[-_0]?[Yy]$/;function LY(e,t,n){if(typeof e=="string")return e;e??(e=hu);const{millisecond:i=hu.millisecond,second:s=hu.second,minute:r=hu.minute,hour:o=hu.hour,day:a=hu.day,month:l=hu.month,year:c=hu.year}=e,d=Yr[t],f=vbe[t],g=n?Yr[n]:-1;if(g<Yr.year&&d>=Yr.year&&!Dbe.test(c)||g<Yr.month&&d>=Yr.month&&!Mbe.test(l)||g<Yr.day&&d>=Yr.day&&!xbe.test(a))return f;let y;switch(t){case"year":return c;case"month":return g<Yr.year?`${l} ${c}`:l;case"day":return g<Yr.year?`${l} ${a} ${c}`:`${l} ${a}`;case"hour":y=o;break;case"minute":y=r;break;case"second":y=s;break;case"millisecond":y=i;break;default:return f}if(d>=Yr.hour&&!Sbe.test(y)||d>=Yr.minute&&!wbe.test(y)||d>=Yr.second&&!Cbe.test(y)||d>=Yr.millisecond&&!bbe.test(y))return f;let v;return g<Yr.year?v=`${l} ${a} ${c}`:g<Yr.month&&(v=`${l} ${a}`),v?`${y} ${v}`:y}var qC=class EE extends EY{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=sD((t,n,i,s,r)=>{const o=EE.mergeSpecifiers(t,n)??hu;return EE.getFormatter("date",o,i,s,{truncateDate:r})}),this.formatter=void 0}static mergeSpecifiers(...t){let n;for(const i of t)typeof i=="string"?n=i:Tn(i)&&(n=Tn(n)?{...n,...i}:i);return n}static getFormatter(t,n,i,s="long",{truncateDate:r}={}){if(Tn(n)){if(t!=="date"){ze.warn("Date formatter configuration is not supported for non-date types.");return}i??(i="millisecond");const o=s==="component"?(n==null?void 0:n[i])??hu[i]:LY(n,i,r);return ay(o)}switch(t){case"number":{const o=A_(n);return o==null?void 0:A5(o)}case"date":return ay(n);case"category":return o=>n.replace("%s",String(o))}}setFormatter(t){this.formatter!==t&&(this.formatter=t,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(t,n,{specifier:i,truncateDate:s}={}){if(n.value==null)return;const{formatter:r}=this;if(r==null)return;if(typeof r=="function"){const c=t(r,n);return c!=null?String(c):void 0}const o=r[n.property];if(o==null)return;if(typeof o=="function"){const c=t(o,n);return c!=null?String(c):void 0}else if(n.type==="date"){const{unit:c,style:d}=n,f=this.dateFormatter(o,i,c,d,s);return f==null?void 0:f(n.value)}const a=i??o;if(typeof a!="string")return;let l=this.formats.get(a);return l==null&&(l=EE.getFormatter(n.type,a),this.formats.set(a,l)),l==null?void 0:l(n.value,n.type==="number"?n.fractionDigits:void 0)}defaultFormat(t,{specifier:n,truncateDate:i}={}){const{formatter:s}=this,r=typeof s=="function"||s==null?void 0:s[t.property];switch(t.type){case"date":{const{unit:o,style:a}=t,l=r!=null&&typeof r!="function"?r:void 0,c=this.dateFormatter(l,n,o,a,i);return(c==null?void 0:c(t.value))??String(t.value)}case"number":return KC(t.value,t.fractionDigits);case"category":return Array.isArray(t.value)?t.value.join(" - "):typeof t.value=="string"?t.value:typeof t.value=="number"?KC(t.value):String(t.value)}}};function Abe(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function PY(e,t){if(typeof e=="string")try{e=ai.fromString(e)}catch{e=ai.fromArray([0,0,0])}if(typeof t=="string")try{t=ai.fromString(t)}catch{t=ai.fromArray([0,0,0])}return n=>ai.mix(e,t,n).toRgbaString()}var CF={};Zu(CF,{easeIn:()=>Rbe,easeInOut:()=>Tbe,easeInOutQuad:()=>kbe,easeInQuad:()=>Ebe,easeOut:()=>uM,easeOutQuad:()=>Ibe,inverseEaseOut:()=>NY,linear:()=>OY});var OY=e=>e,Rbe=e=>1-Math.cos(e*Math.PI/2),uM=e=>Math.sin(e*Math.PI/2),Tbe=e=>-(Math.cos(e*Math.PI)-1)/2,Ebe=e=>e*e,Ibe=e=>1-(1-e)**2,kbe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,NY=e=>2*Math.asin(e)/Math.PI,kI=.2,Gb=["initial","remove","update","add","trailing","end","none"],dM={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:kI,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+kI,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},FY=(e=>(e.Loop="loop",e.Reverse="reverse",e))(FY||{});function Lbe(e){return e.every(t=>t instanceof lh)}function H1(e){return Lbe(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function wF(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,i)=>wF(n,t[i])):AI(e)&&AI(t)?e.equals(t):Tn(e)&&Tn(t)?E_(e,t,wF):!1}var _Y=class{constructor(t){var i,s,r;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??OY,this.phase=t.phase;const n=t.duration??dM[this.phase].animationDuration;this.duration=n*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((i=this.onUpdate)==null||i.call(this,t.to,!1,this),(s=this.onStop)==null||s.call(this,this),(r=this.onComplete)==null||r.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,n){return wF(t.from,t.to)?0:n}play(t=!1){var n,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(n=this.onPlay)==null||n.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var r,o;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const n=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(r=this.onUpdate)==null||r.call(this,i,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(o=this.onComplete)==null||o.call(this,this),t-(s-n)):0}get delta(){return this.ease(At(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,n){if(typeof n!="object"||AI(n))return this.interpolateValue(t,n);const i=[];for(const s of Object.keys(n)){const r=this.interpolateValue(t[s],n[s]);r!=null&&i.push([s,r])}return s=>{const r={};for(const[o,a]of i)r[o]=a(s);return r}}interpolateValue(t,n){if(!(t==null||n==null)){if(AI(t))return i=>t[A1](n,i);try{switch(typeof t){case"number":return Abe(t,n);case"string":return PY(t,n);case"boolean":if(t===n)return()=>t;break;case"object":return()=>t;default:throw new Error(`Unable to interpolate values: ${t}, ${n}`)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${n}`)}}},NV=class{constructor(e){this.maxAnimationTime=e,this.debug=Ut.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Gb.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Gb[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var n;if(e.isComplete)return;if(Gb.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(n=this.phases.get(e.phase))==null||n.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),n=t==null?void 0:t.indexOf(e);n!=null&&n>=0&&(t==null||t.splice(n,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const n=()=>{const c=Gb[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:dM[c]}};let{phase:i,phaseControllers:s,phaseMeta:r}=n();const o=()=>Gb[this.currentPhase]==null,a=()=>{for({phase:i,phaseControllers:s,phaseMeta:r}=n();!o()&&s.length===0;)this.currentPhase++,{phase:i,phaseControllers:s,phaseMeta:r}=n(),this.debug(`AnimationBatch - phase changing to ${i}`,{unusedTime:t},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${i} with ${s==null?void 0:s.length} of ${l}`);do{const c=t,d=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let f=0;for(const g of s)d?g.stop():t=Math.min(g.update(c),t),g.isComplete&&(f++,this.removeAnimation(g));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${f} completed`,s),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&dM[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){ze.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(e){if(!this.isActive())return 0;let t=0;for(const[n,i]of this.phases)i.length!==0&&(e!=null&&e!==n||(t+=Math.max(...i.map(s=>s.isComplete?0:s.delay+s.duration-(s.elapsed??0)))));return t}destroy(){this.stop(),this.controllers.clear()}},BY=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(BY||{}),GY=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function FV(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var zY=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new NV(this.defaultDuration*1.5),this.debug=Ut.create(!0,"animation"),this.events=new Rg,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const i=this.isSkipped()||e.phase==="none";i&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:r}=e;if(!FV(s))throw new Error(`Animation delay of ${s} is unsupported (${n})`);if(!FV(r))throw new Error(`Animation duration of ${r} is unsupported (${n})`);const o=new _Y({...e,id:n,skip:i,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(e){return this.batch.getRemainingTime(e)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=$n().requestAnimationFrame(t=>{e(t).catch(n=>ze.error(n))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async n=>{await this.debug.group("AnimationManager.onAnimationFrame()",async()=>{const i=()=>{const s=n-(e??n);e=n,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(i):await this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))})};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){ze.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new NV(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},Pbe=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},Obe=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},HY=class{constructor(){this.items=new Pbe,this.lists=new Obe}},VY=class{constructor(e){this.eventsHub=e,this.builtins=new HY,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(e,t){return t.showOn==e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,i){const{widgetEvent:s}=t;if(s.sourceEvent.defaultPrevented)return;const r=(i==null?void 0:i.x)??t.canvasX,o=(i==null?void 0:i.y)??t.canvasY,a={showOn:e,x:r,y:o,context:n,widgetEvent:s};this.eventsHub.emit("context-menu:setup",a),this.eventsHub.emit("context-menu:complete",a)}isVisible(e){return!this.hiddenActions.has(e)}setVisible(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}},jY=class{constructor(e){this.eventsHub=e,this.highlightStates=new $C}updateHighlight(e,t){const n=this.getActiveHighlight();this.highlightStates.set(e,t);const i=this.getActiveHighlight();this.isEqual(i,n)||this.eventsHub.emit("highlight:change",{callerId:e,currentHighlight:i,previousHighlight:n})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function _V(e,t){if(e==null||t.length===0)return[!1,!1];const n=e.valueOf(),i=t[0],s=t[t.length-1];if(typeof i=="string")return[n===i,n===s];let r=i.valueOf(),o=s.valueOf();return r>o&&([r,o]=[o,r]),[n===r,n===o]}function cg(e,t,n,i,s,r){const[o,a]=_V(t,r),[l,c]=_V(e,s);return{xKey:n,yKey:i,xValue:e,yValue:t,first:l,last:c,min:o,max:a}}function WY(e,t,[n,i],s){let r=sM(0,t-1,a=>{var d;const l=e===1?a:t-a,c=((d=s(l))==null?void 0:d[1])??NaN;return!Number.isFinite(c)||c>n})??0,o=wm(0,t-1,a=>{var d;const l=e===1?a:t-a,c=((d=s(l))==null?void 0:d[0])??NaN;return!Number.isFinite(c)||c<i})??t-1;return e===-1&&([r,o]=[t-o,t-r]),r=Math.max(r,0),o=Math.min(o+1,t),[r,o]}function eB(e,t,n){var s,r;if(n){const{x:o,y:a,width:l,height:c}=n;return{canvasX:o+l/2,canvasY:a+c/2}}const i=((s=t.yBar)==null?void 0:s.upperPoint)??t.midPoint??((r=e.datumMidPoint)==null?void 0:r.call(e,t));if(i){const{x:o,y:a}=Qi.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(o),canvasY:Math.round(a)}}}function UY(e,t,n,i,s){let r=-1,o=0,a=0,l=!1;for(;o<i&&r<=t-e;){r+=1;const c=n+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),c<e||c>t){l=!0;continue}s(c)&&(o+=1)}return o}var LI=class{constructor(e,t,n,i){this.domManager=n,this.tooltip=i,this.stateTracker=new $C,this.suppressState=new $C(!1),this.appliedState=null,this.cleanup=new Vi,this.cleanup.register(i.setup(t,n),e.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(e,t,n,i){var s;n??(n=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{meta:t,content:n,pagination:i}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){var s,r;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const n=this.domManager.getBoundingClientRect(),i=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(Oo((s=this.appliedState)==null?void 0:s.content,t==null?void 0:t.content)&&Oo((r=this.appliedState)==null?void 0:r.pagination,t==null?void 0:t.pagination)){const o=this.tooltip.isVisible();this.tooltip.show(i,n,t==null?void 0:t.meta,null,void 0,o)}else this.tooltip.show(i,n,t==null?void 0:t.meta,t==null?void 0:t.content,t==null?void 0:t.pagination);this.appliedState=t}static makeTooltipMeta(e,t,n,i){var y;const{canvasX:s,canvasY:r}=e,o=t.properties.tooltip,{placement:a,anchorTo:l,xOffset:c,yOffset:d}=o.position,f=eB(t,n,i);return{canvasX:s,canvasY:r,nodeCanvasX:(f==null?void 0:f.canvasX)??s,nodeCanvasY:(f==null?void 0:f.canvasY)??r,enableInteraction:((y=o.interaction)==null?void 0:y.enabled)??!1,showArrow:o.showArrow,position:{placement:a,anchorTo:l,xOffset:c,yOffset:d}}}},BV=3,Nbe=505,GV=30;function wO(e,t){const{device:n,offsetX:i,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:c}=t;return{type:e,device:n,offsetX:i,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:c}}function zV(e,t){const n=e*e+t*t,i=BV*BV;return n>=i}function Fbe(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY,s=n*n+i*i,r=GV*GV;return s<r}var $Y=class{constructor(e){this.cleanup=new Vi,this.events=new Rg,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=n}onTouchMove(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-n),this.touch.clientX=t,this.touch.clientY=n}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.events.emit("mousemove",e)}onDblClick(e){this.events.emit("dblclick",e)}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&zV(e.originDeltaX,e.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",{...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",e)}onDragEnd(e){if(this.isDragging){this.events.emit("drag-end",e),this.isDragging=!1;return}if(e.device==="mouse"){const t=wO("click",e);this.events.emit("click",t)}else if(e.sourceEvent.type==="touchend"){if(zV(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=wO("click",e);this.events.emit("click",t);const n=Date.now();if(this.lastClick!==void 0&&n-this.lastClick.time<=Nbe&&Fbe(this.lastClick,e)){const i=wO("dblclick",e);this.events.emit("dblclick",i),this.lastClick=void 0}else this.lastClick={time:n,clientX:e.clientX,clientY:e.clientY}}}},SO=class extends YC{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},_be=class{constructor(e,t){this.seriesWidget=new SO(e.getParent("series-area")),this.chartWidget=new SO(e.getParent("canvas-proxy")),this.containerWidget=new SO(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),t.withDragInterpretation&&(this.seriesDragInterpreter=new $Y(this.seriesWidget))}destroy(){var e;(e=this.seriesDragInterpreter)==null||e.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function hM(e,t){const[n,i]=Ys(t);return At(n,e,i)}function Ys(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const n of e)n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n);return t}function ZC(e){const[t,n]=Ys(e);return n-t}function Bbe(e){return e=e|0,e<=0?1:e===1?2:1<<32-Math.clz32(e-1)}function SF(e){return e=e|0,e<=0?0:e===1?1:1<<31-Math.clz32(e)}var YY=class xF extends I1{constructor(t=[],n=[]){super(),this.domain=t,this.range=n,this.defaultTickCount=xF.defaultTickCount,this.defaultClamp=!1}static is(t){return t instanceof xF}normalizeDomains(...t){return tB(...t)}calcBandwidth(t=1,n=1){const{domain:i}=this,s=this.getPixelRange();if(i.length===0)return s;let o=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1;if(n!==0){const a=Math.floor(s);o=Math.min(o,a)}return s/Math.max(1,o)}convert(t,n){const{domain:i}=this;if(!i||i.length<2||t==null)return NaN;const{range:s}=this,r=(n==null?void 0:n.clamp)??this.defaultClamp;let o=i[0].valueOf(),a=i[1].valueOf(),l=t.valueOf();if(this.transform&&(o=this.transform(o),a=this.transform(a),l=this.transform(l)),r){const[d,f]=Ys([o,a]);if(l<d)return s[0];if(l>f)return s[1]}if(o===a)return(s[0]+s[1])/2;if(l===o)return s[0];if(l===a)return s[1];const c=s[0];return c+(l-o)/(a-o)*(s[1]-c)}invert(t,n){const{domain:i}=this;if(i.length<2)return;let s=i[0].valueOf(),r=i[1].valueOf();this.transform&&(s=this.transform(s),r=this.transform(r));const{range:o}=this,[a,l]=o;let c;return a===l?c=this.toDomain((s+r)/2):c=this.toDomain(s+(t-a)/(l-a)*(r-s)),this.transformInvert?this.transformInvert(c):c}getPixelRange(){const[t,n]=this.range;return Math.abs(n-t)}};YY.defaultTickCount=5;var ci=YY;function tB(...e){let t,n=1/0,i,s=-1/0;for(const r of e)for(const o of r){const a=o.valueOf();a<n&&(n=a,t=o),a>s&&(s=a,i=o)}return t!=null&&i!=null?{domain:[t,i],animatable:!0}:{domain:[],animatable:!1}}var nB=class KY extends I1{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof KY}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=At(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=At(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=At(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ze.warnOnce("Expected update to not invalidate scale"))}convert(t,n){this.refresh();const i=this.findIndex(t,n==null?void 0:n.alignment);return i==null||i<0||i>=this.bands.length?NaN:this.ordinalRange(i)}invertNearestIndex(t){this.refresh();const n=this.bands.length;if(n===0)return-1;let i=0,s=n-1,r=1/0,o=0;for(;i<=s;){const a=(s+i)/2|0,l=this.ordinalRange(a),c=Math.abs(l-t);if(c===0)return a;c<r&&(r=c,o=a),l<t?i=a+1:s=a-1}return o}update(){const[t,n]=this.range;let{_paddingInner:i}=this;const{_paddingOuter:s,round:r,bands:o}=this,a=o.length;if(a===0)return;const l=n-t;let c;a===1?(i=0,c=l*(1-s*2)):c=l/Math.max(1,a-i+s*2);const d=r?Math.floor(c):c;let f=t+(l-d*(a-i))/2,g=d*(1-i);r&&(f=Math.round(f),g=Math.round(g)),this._step=d,this._inset=f,this._bandwidth=g,this._rawBandwidth=c*(1-i)}ordinalRange(t){const{_inset:n,_step:i,range:s}=this,r=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return At(r,n+i*t,o)}};L([JM],nB.prototype,"range",2);L([JM],nB.prototype,"round",2);var Ch=nB,gc=class qY extends Ch{static is(t){return t instanceof qY}toDomain(t){return new Date(t)}convert(t,n){t instanceof Date||(t=new Date(t));const{domain:i,bands:s}=this;if(i.length<=0)return NaN;const r=this.ordinalRange(0),o=this.ordinalRange(s.length-1);if(s.length===0)return r;if((n==null?void 0:n.clamp)===!0){const{range:M}=this;if(t<s[0])return M[0];if(t>s[s.length-1])return M[1]}const a=(n==null?void 0:n.alignment)??0,l=i[0].valueOf()>i[i.length-1].valueOf();if(a!==2){const M=super.convert(t,n);return l?o-(M-r):M}const c=t.valueOf();let d=this.findIndex(t)??0,f;l?(d=Math.min(Math.max(d,1),s.length-1),f=-1):(d=Math.min(Math.max(d,0),s.length-2),f=1);const g=s[d].valueOf(),y=s[d+f].valueOf(),v=this.ordinalRange(d),w=this.ordinalRange(d+f),x=(c-g)/(y-g)*(w-v)+v;return l?o-(x-r):x}invert(t,n=!1){this.refresh();const{domain:i,bands:s}=this;if(i.length<=0)return;const r=i[0].valueOf()>i[i.length-1].valueOf();let o;return n?o=this.invertNearestIndex(t-this.bandwidth/2):o=sM(0,s.length-1,l=>this.ordinalRange(l)>=t)??s.length-1,s[r?s.length-1-o:o]}findIndex(t,n=0){const{bands:i}=this,s=t.valueOf();return n===1?sM(0,i.length-1,r=>i[r].valueOf()>=s):wm(0,i.length-1,r=>i[r].valueOf()<=s)}},fM={bottomCenter:jbe,center:Vbe,clone:Ybe,collides:Kbe,end:zbe,from:qbe,height:Ube,round:$be,start:Gbe,topCenter:Hbe,origin:Zbe,width:Wbe};function Gbe(e){return{x:e.x1,y:e.y1}}function zbe(e){return{x:e.x2,y:e.y2}}function Hbe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function Vbe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function jbe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function Wbe(e){return Math.abs(e.x2-e.x1)}function Ube(e){return Math.abs(e.y2-e.y1)}function $be(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function Ybe(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function Kbe(e,t){const n=MF(e),i=MF(t);return n.x1<=i.x2&&n.x2>=i.x1&&n.y1<=i.y2&&n.y2>=i.y1}function MF(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function qbe(e,t,n,i){if(typeof e=="number")return{x1:e,y1:t,x2:n,y2:i};if("width"in e)return MF({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${n}] [${i}]`)}function Zbe(){return{x1:0,y1:0,x2:0,y2:0}}function WT(e,t,n,i,s){return t+(i-t)*((s-e)/(n-e))}function HV(e,t,n,i,s){return e+(s-t)*((n-e)/(i-t))}function VV(e,t,n){return[HV(e,n.min,t,n.max,0),HV(e,n.min,t,n.max,1)]}function Xbe(e,t,n){const[i,s]=VV(e.x1,e.x2,t),[r,o]=VV(e.y1,e.y2,n);return{x1:i,x2:s,y1:r,y2:o}}function jV(e,t,n,i,s,r){if(n<=s&&r<=i)return n;const o=s-n,a=r-i,l=Math.abs(o)<Math.abs(a)?o:a;return At(e,n+l,t)}function Qbe(e,t,n){const{x:i={min:0,max:1},y:s={min:0,max:1}}=t,r=fM.from(n),o=fM.from(e),a=Xbe(o,i,s),l=jV(a.x1,a.x2,o.x1,o.x2,r.x1,r.x2),c=jV(a.y1,a.y2,o.y1,o.y2,r.y1,r.y2),d={x:{min:WT(o.x1,i.min,o.x2,i.max,l),max:WT(o.x1,i.min,o.x2,i.max,l+e.width)},y:{min:WT(o.y1,s.min,o.y2,s.max,c),max:WT(o.y1,s.min,o.y2,s.max,c+e.height)}},f=d.x.max-d.x.min,g=d.y.max-d.y.min;return d.x.min=At(0,d.x.min,1-f),d.x.max=d.x.min+f,d.y.min=At(0,d.y.min,1-g),d.y.max=d.y.min+g,d}function ZY(e,t){const n=e==null?void 0:e.valueOf(),i=t==null?void 0:t.valueOf();return typeof n!="number"||typeof i!="number"?[void 0,void 0]:n<i?[0,1]:[1,0]}var Jbe=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},WV=e=>An((t,{options:n})=>!ci.is(e==null?void 0:e.scale)&&!gc.is(e==null?void 0:e.scale)||t==null||n.end==null?!0:t<n.end,"to be less than end"),XY=class extends W_{constructor(e,t){super(),this.eventsHub=e,this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new $C(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new Jbe,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(e.on("layout:complete",()=>{this.didLayoutAxes=!0;const{pendingMemento:n}=this;n&&this.restoreMemento(n.version,n.mementoVersion,n.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!Hi(e))return!1;const n=this.getPrimaryAxis("x"),i=this.getPrimaryAxis("y"),s={rangeX:{start:WV(n),end:xt},rangeY:{start:WV(i),end:xt},ratioX:{start:xt,end:xt},ratioY:{start:xt,end:xt},autoScaledAxes:xt},{invalid:r}=Jr(e,s);return r.length>0?(t.push(...r.map(String)),!1):!0}restoreMemento(e,t,n){var a;const{independentAxes:i}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:n};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(n!=null&&n.rangeX?s.x=this.rangeToRatio(n.rangeX,"x")??{min:0,max:1}:n!=null&&n.ratioX?s.x={min:n.ratioX.start??0,max:n.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(a=n==null?void 0:n.autoScaledAxes)==null?void 0:a.includes("y");if(n!=null&&n.rangeY)l??(l=!1),s.y=this.rangeToRatio(n.rangeY,"y")??{min:0,max:1};else if(n!=null&&n.ratioY)l??(l=!1),s.y={min:n.ratioY.start??0,max:n.ratioY.end??1};else{l??(l=!0);const c=l?this.getAutoScaleYZoom(s.x):void 0;s.y=c??{min:0,max:1}}s.autoScaleYAxis=l}if(this.lastRestoredState=s,i!==!0){this.updateZoom("zoom-manager",s);return}const r=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[r,o])l&&this.updateAxisZoom("zoom-manager",l.id,s[l.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(const n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new eCe(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t,e&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(ze.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(ze.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const i=this.state.stateId();(i==="initial"||i===e)&&this.state.set(e,t);return}this.state.set(e,t);const n=t==null?void 0:t.autoScaleYAxis;n!=null&&(this.autoScaleYAxis.manuallyAdjusted=!n),this.axisZoomManagers.forEach(i=>{i.updateZoom(e,t==null?void 0:t[i.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){var i;(i=this.axisZoomManagers.get(t))==null||i.updateZoom(e,n),this.applyChanges(e)}resetZoom(e){var n,i,s,r;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((n=t==null?void 0:t.x)==null?void 0:n.min)??0,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??1},y:{min:((s=t==null?void 0:t.y)==null?void 0:s.min)??0,max:((r=t==null?void 0:t.y)==null?void 0:r.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const n=this.axisZoomManagers.get(t),i=n==null?void 0:n.getDirection();if(i==null)return;const s=this.getRestoredZoom();if(i==="y"){const r=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}for(const r of this.axes)r.direction===i&&this.updateAxisZoom(e,r.id,(s==null?void 0:s[i])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var i;((i=this.axisZoomManagers.get(t))==null?void 0:i.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,n){const i=this.getPrimaryAxis(t);i&&this.updateAxisZoom(e,i.id,n)}panToBBox(e,t,n){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const i=this.getZoom();if(i===void 0||!i.x&&!i.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(n.width)<=Math.abs(t.width)&&Math.abs(n.height)<=Math.abs(t.height)))return ze.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=Qbe(t,i,n);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.eventsHub.emit("zoom:pan-start",{callerId:e})}extendToEnd(e,t,n){return this.extendWith(e,t,i=>Number(i)-n)}extendWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const s=this.getDomainExtents(i);if(!s)return;const[,r]=s,o=n(r),a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const s=this.getDomainExtents(i);if(!s)return;let[r,o]=s;[r,o]=n(r,o);const a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const{autoScaleYAxis:n}=this,i=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y");let r;if(this.independentAxes){const c=new Set((i==null?void 0:i.boundSeries)??[]),d=new Set((s==null?void 0:s.boundSeries)??[]);r=new Set;for(const f of c)d.has(f)&&r.add(f)}else r=new Set([...(i==null?void 0:i.boundSeries)??[],...(s==null?void 0:s.boundSeries)??[]]);const o=[e.x.min,e.x.max],a=n.enabled&&!n.manuallyAdjusted?void 0:[e.y.min,e.y.max];let l=0;for(const c of r){const d=t-(l??0),f=c.getVisibleItems(o,a,d);if(l+=f,l>=t)return!0}return r.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}getAutoScaleYZoom(e){if(!this.isZoomEnabled())return;const{independentAxes:t,autoScaleYAxis:n}=this;if(!n.enabled||n.manuallyAdjusted)return;const{padding:i}=n;return(e==null?void 0:e.min)===0&&(e==null?void 0:e.max)===1?{min:0,max:1}:t?this.primaryAxisZoom("y",e,{padding:i}):this.combinedAxisZoom("y",e,{padding:i})}autoScaleYZoom(e,t=!0){const{independentAxes:n}=this,i=this.getZoom();if((i==null?void 0:i.x)==null)return;const s=this.getAutoScaleYZoom(i.x);if(!(s==null||Oo(i.y,s))){if(n){const r=this.getPrimaryAxis("y"),o=r==null?void 0:this.axisZoomManagers.get(r.id);o==null||o.updateZoom("zoom-manager",s)}else for(const r of this.axisZoomManagers.values())r.getDirection()==="y"&&r.updateZoom("zoom-manager",s);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),i=>i.applyChanges()).includes(!0))return;const n={};for(const[i,s]of this.axisZoomManagers.entries())n[i]=s.getZoom();this.eventsHub.emit("zoom:change",{...this.getZoom(),axes:n,callerId:e}),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent({type:"zoom",...this.getMementoRanges()}),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(e,t){const n=this.getPrimaryAxis(t);if(!n||!ci.is(n.scale)&&!gc.is(n.scale))return;const i=this.getDomainPixelExtents(n);if(!i)return;const[s,r]=i;let o,a;return s<=r?(o=n.scale.invert(0),a=n.scale.invert(s+(r-s)*e.max)):(o=n.scale.invert(s-(s-r)*e.min),a=n.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var M,A;const n=this.getPrimaryAxis(t);if(!n)return;const i=this.getDomainPixelExtents(n);if(!i)return;const[s,r]=i,{scale:o}=n,{start:a,end:l}=e,[c=0,d=1]=ZY(a,l);let f=e.start==null?s:o.convert(e.start,{alignment:c}),g=e.end==null?r:o.convert(e.end,{alignment:d})+(o.bandwidth??0);if(!Wn(f)||!Wn(g))return;const[y,v]=[Math.min(s,r),Math.max(s,r)];if(f<y||f>v){ze.warnOnce(`Invalid range start [${e.start}], expecting a value between [${o.invert(s)}] and [${(M=o.invert)==null?void 0:M.call(o,r)}], ignoring.`);return}if(g<y||g>v){ze.warnOnce(`Invalid range end [${e.end}], expecting a value between [${o.invert(s)}] and [${(A=o.invert)==null?void 0:A.call(o,r)}], ignoring.`);return}f=Math.min(v,Math.max(y,f)),g=Math.min(v,Math.max(y,g));const w=r-s,S=Math.abs((f-s)/w),x=Math.abs((g-s)/w);return{min:S,max:x}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(n=>n.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,n=t.at(0),i=t.at(-1);if(!(n==null||i==null))return[n,i]}getDomainPixelExtents(e){const[t,n]=e.scale.range;if(!(!Wn(t)||!Wn(n)))return[t,n]}getDefinedZoom(){var t,n,i,s;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((n=e==null?void 0:e.x)==null?void 0:n.max)??1},y:{min:((i=e==null?void 0:e.y)==null?void 0:i.min)??0,max:((s=e==null?void 0:e.y)==null?void 0:s.max)??1}}}zoomBounds(e,t,n,i){const s=e.scale,r=s.range;s.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let l=1,c=!1,d=0,f=!1;for(const v of t.boundSeries){if(!v.visible)continue;const{connectsToYAxis:w}=v,S=v.getRange("y",[n.min,n.max]);for(const x of S){const M=o.convert(x);Number.isFinite(M)&&(M<l&&(l=M,c=!w||x<0),M>d&&(d=M,f=!w||x>0))}}if(Wn(t.min)&&(l=0),Wn(t.max)&&(d=1),s.range=r,o.range=a,l>=d)return;const g=(c?i:0)+(f?i:0),y=Math.min((d-l)*(1+g),1);if(!(y<=0)){if(c&&f){const v=(d+l)/2;l=v-y/2,d=v+y/2}else!c&&f?d=l+y:c&&!f&&(l=d-y);return l<0?(d+=-l,l=0):d>1&&(l-=d-1,d=1),{min:l,max:d}}}primaryAxisZoom(e,t,{padding:n=0}={}){const i=e==="x"?"y":"x",s=this.getPrimaryAxis(i),r=this.getPrimaryAxis(e);if(!(s==null||r==null))return this.zoomBounds(s,r,t,n)}combinedAxisZoom(e,t,{padding:n=0}={}){const i=e==="x"?"y":"x",s=new Map;for(const l of this.axes)if(l.direction===i)for(const c of l.boundSeries)s.set(c,l);let r=1,o=0;for(const l of this.axes)if(l.direction===e)for(const c of l.boundSeries){const d=s.get(c);if(d==null)continue;const f=this.zoomBounds(d,l,t,n);if(f==null)return;r=Math.min(r,f.min),o=Math.max(o,f.max)}const a=1e-6;if(r<a&&(r=0),o>1-a&&(o=1),!(r>o))return{min:r,max:o}}},eCe=class{constructor(e){this.axis=e;const[t=0,n=1]=e.visibleRange;this.state=new $C({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Bi(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},iB=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(iB||{}),QY=class{constructor(e){this.eventsHub=e,this.elements=new Map}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var n;return(n=this.elements.get(e))==null?void 0:n.delete(t)}}createContext(e,t){var i;const n=new tCe(e,t);for(const s of Object.values(iB))typeof s=="number"&&((i=this.elements.get(s))==null||i.forEach(r=>r(n)));return n}emitLayoutComplete(e,t){const{width:n,height:i}=e;this.eventsHub.emit("layout:complete",{axes:t.axes??[],chart:{width:n,height:i},clipSeries:t.clipSeries??!1,series:t.series})}},tCe=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Xe(0,0,e,t)}};function nCe({point:e,anchor:t},n,i,s,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<n?l=n:o>n+s&&(l=n+s);let c=a;a<i?c=i:a>i+r&&(c=i+r);const d=o-l,f=a-c;return Math.sqrt(d*d+f*f)<=e.size*.5}function iCe(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var sCe={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function rCe(e,t,n=5){var a;const i=new Map,s=[],r=new Map([...e.entries()].map(([l,c])=>[l,c.toSorted((d,f)=>f.point.size-d.point.size)])),o=[...r.values()].flat();for(const[l,c]of r.entries()){const d=[];if((a=c[0])!=null&&a.label){for(let f=0,g=c.length;f<g;f++){const y=c[f],{point:v,label:w,anchor:S}=y,{text:x,width:M,height:A}=w,k=v.size*.5;let I=0,P=0;if(k>0&&y.placement!=null){const q=sCe[y.placement];I=(M*.5+k+n)*q.x,P=(A*.5+k+n)*q.y}const N=v.x-M*.5+I-(((S==null?void 0:S.x)??.5)-.5)*v.size,B=v.y-A*.5+P-(((S==null?void 0:S.y)??.5)-.5)*v.size;if(!x_(t,N,B,M,A)||o.some(q=>nCe(q,N,B,M,A))||s.some(q=>w5(q,N,B,M,A)))continue;const K={index:f,text:x,x:N,y:B,width:M,height:A,datum:y};d.push(K),s.push(K)}i.set(l,d)}}return i}var oCe=class{constructor(){this.labelData=new Map}updateLabels(e,t,n=Xe.zero){var o;const i={x:-t.left,y:-t.top,width:n.width+t.left+t.right,height:n.height+t.top+t.bottom},s=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())s.has(a)||this.labelData.delete(a);for(const a of e){const l=a.getLabelData();l.every(iCe)&&this.labelData.set(a.id,l)}const r=rCe(this.labelData,i,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,r.get(a.id)??[])}},aCe=class{constructor(e){this.eventsHub=e,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:n,legendItemName:i})=>({visible:e,seriesId:t,itemId:n,legendItemName:i}))}guardMemento(e){return e==null||gn(e)}restoreMemento(e,t,n){n==null||n.forEach(i=>{const{seriesId:s,data:r}=this.getRestoredData(i)??{};!s||!r||this.updateData(s,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:n,legendItemName:i,visible:s}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const l=a.seriesId===t&&(!n||a.itemId===n);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?{...a,enabled:s}:a});return{seriesId:t,data:o}}if(!(n==null&&i==null))for(const r of this.getData()){if(n!=null&&r.itemId!==n||i!=null&&r.legendItemName!==i)continue;if(r.isFixed){this.warnFixed(r.seriesId,n);return}const o=(this.legendDataMap.get(r.seriesId)??[]).map(a=>a.itemId===n||a.legendItemName===i?{...a,enabled:s}:a);return{seriesId:r.seriesId,data:o}}}warnFixed(e,t){ze.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.eventsHub.emit("legend:change",{legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,n,i){if(i){this.getData().forEach(a=>{const l=(this.legendDataMap.get(a.seriesId)??[]).map(c=>c.legendItemName===i?{...c,enabled:e}:c);this.updateData(a.seriesId,l)});return}const s=this.getData(t),r=s.length===1,o=s.map(a=>n==null&&r||a.itemId===n?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[n,i])=>t.concat(i),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(n=>n.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(n=>n.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var n;return((n=this.getDatum({seriesId:e,itemId:t}))==null?void 0:n.enabled)??!0}},lCe=class{constructor(){this.groups=new Map}registerSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){if(!t)return;let s=this.groups.get(i);s==null&&(s=new Map,this.groups.set(i,s)),s.set(e,{grouping:t,visible:n})}updateSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){var r;if(!t)return;const s=(r=this.groups.get(i))==null?void 0:r.get(e);s&&(s.grouping=t,s.visible=n)}deregisterSeries({internalId:e,type:t}){const n=this.groups.get(t);n!=null&&(n.delete(e),n.size===0&&this.groups.delete(t))}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const i=new Set,s=new Set,r=this.groups.get(e);for(const a of(r==null?void 0:r.values())??[])a.visible&&(i.add(a.grouping.groupIndex),a.grouping.groupIndex===t.groupIndex&&s.add(a.grouping.stackIndex));const o=Array.from(i);return o.sort((a,l)=>a-l),{visibleGroupCount:o.length,visibleSameStackCount:s.size,index:o.indexOf(t.groupIndex)}}},JY=class{constructor(e){this.updateCallback=e,this.events=new Rg}addListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.events.emit("update-complete",{type:"update-complete",apiUpdate:e})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},cCe=class{constructor(e,t){this.eventsHub=new Rg,this.callbackCache=new nY,this.highlightManager=new jY(this.eventsHub),this.formatManager=new qC,this.layoutManager=new QY(this.eventsHub),this.localeManager=new lbe(this.eventsHub),this.seriesStateManager=new lCe,this.stateManager=new Vve,this.seriesLabelLayoutManager=new oCe,this.cleanup=new Vi,this.contextModules=[];const{scene:n,root:i,syncManager:s,container:r,fireEvent:o,updateCallback:a,updateMutex:l,styleContainer:c,chartType:d,domMode:f,withDragInterpretation:g}=t;this.chartService=e,this.syncManager=s,this.domManager=new xY(this.eventsHub,this.chartService,r,c,f),this.widgets=new _be(this.domManager,{withDragInterpretation:g});const y=this.domManager.addChild("canvas","scene-canvas",n==null?void 0:n.canvas.element);this.scene=n??new G1({canvasElement:y}),this.scene.setRoot(i),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new hbe(this.eventsHub,i),this.legendManager=new aCe(this.eventsHub),this.annotationManager=new dbe(this.eventsHub,e.annotationRoot,o),this.chartTypeOriginator=new zve(e),this.interactionManager=new GY,this.contextMenuRegistry=new VY(this.eventsHub),this.updateService=new JY(a),this.proxyInteractionService=new RY(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new fbe(this.domManager,this.updateService),this.historyManager=new Hve(this.eventsHub),this.animationManager=new zY(this.interactionManager,l),this.dataService=new z1(this.eventsHub,e,this.animationManager),this.tooltipManager=new LI(this.eventsHub,this.localeManager,this.domManager,e.tooltip),this.zoomManager=new XY(this.eventsHub,o);for(const v of Ou.byType("context")){if(!v.chartTypes.includes(d))continue;const w=v.moduleFactory(this);this.contextModules.push(w),this[v.contextKey]=w}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy()),this.cleanup.flush()}},e6=class extends It{constructor(){super(...arguments),this.range="tooltip"}};L([F],e6.prototype,"range",2);function uCe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function dCe(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[n,i]of e){const s=t.get(n);if(s==null||!uCe(i,s))return!1}return!0}function hCe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const{type:i,idsMap:s,scopes:r,data:o,...a}=e[n],{type:l,idsMap:c,scopes:d,data:f,...g}=t[n];if(i!==l||r&&d&&!Jd(r,d)||o&&f&&o!==f||!Oo(a,g)||!dCe(s,c))return!1}return!0}function fCe(e,t){const{props:n,...i}=e,{props:s,...r}=t;return Oo(i,r)&&hCe(n,s)}function gCe(e,t,n,i){return t===e.data&&Jd(n,e.ids)&&fCe(i,e.opts)}var UV=class t6{constructor(){this.domain=new Set}static is(t){return t instanceof t6}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},zf=class n6{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof n6}static extendDomain(t,n=[1/0,-1/0]){for(const i of t)typeof i=="number"&&(n[0]>i&&(n[0]=i),n[1]<i&&(n[1]=i));return n}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},Tb=0,Eb=1,lu=2,pCe=class{constructor(e){const t=e.reduce((r,o)=>Math.max(r,o.length),0);let i=1<<32-Math.clz32(t);t===i/2&&(i=i>>>1),this.maxLevelSize=i;const s=new Float64Array((i*2-1)*2).fill(NaN);for(const r of e)for(let o=0;o<r.length;o+=1){const a=Number(r[o]),l=i+o-1,c=(l*lu|0)+Tb,d=(l*lu|0)+Eb,f=s[c],g=s[d];(!Number.isFinite(f)||a<f)&&(s[c]=a),(!Number.isFinite(g)||a>g)&&(s[d]=a)}for(let r=i/2|0;r>=1;r=r/2|0){const o=r-1|0,a=o+r|0;for(let l=0;l<r;l+=1){const c=o+l,d=a+l*2,f=d+1,g=s[(d*lu|0)+Tb],y=s[(f*lu|0)+Tb];s[(c*lu|0)+Tb]=!Number.isFinite(y)||g<y?g:y;const v=s[(d*lu|0)+Eb],w=s[(f*lu|0)+Eb];s[(c*lu|0)+Eb]=!Number.isFinite(w)||v>w?v:w}}this.buffer=s}computeRangeInto(e,t,n,i,s,r,o){const a=s+r-1;if(a<t||s>=n)return o;if(s>=t&&a<n){const l=e[(i*lu|0)+Tb],c=e[(i*lu|0)+Eb];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(c)&&(o[1]=Math.max(o[1],c))}else r>1&&(i=i*2|0,r=r/2|0,this.computeRangeInto(e,t,n,i+1|0,s,r,o),this.computeRangeInto(e,t,n,i+2|0,s+r,r,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:n,buffer:i}=this,s=[1/0,-1/0];return this.computeRangeInto(i,e,t,0,0,n,s),s}get range(){const{buffer:e}=this;return[e[Tb],e[Eb]]}};function mCe(e){if(e.length<=1)return 1;let t=0,n=e[0];for(let i=1;i<e.length;i++){const s=e[i];if(s==null)continue;if(typeof s.valueOf()!="number")return;const o=Math.sign(s-n);if(o!==0){if(t!==0&&t!==o)return;t=o}n=s}return t===0?1:t}var $V=Symbol("key-sort-orders"),YV=Symbol("column-sort-orders"),KV=Symbol("domain-ranges");function yCe(e){return e.map(t=>Hi(t)?JSON.stringify(t):t).join("-")}function La(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function i6(e,t){return(t==null?void 0:t.get(e.id))??0}function vCe(e){return"scopes"in e&&Array.isArray(e.scopes)}function xO(e,t){const n=[];for(let i=0;i<e;i+=1)n[i]=t;return n}function PI(e,t,n){var s;const i=[];for(const r of e){const o=(s=r.get(t))==null?void 0:s[n];if(o==null)return;i.push(o)}return i}function s6(e){const t=[];let n=0,i;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;i=s.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const r=i[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(n===e.length)return t}function bCe(e){return t=>{let n=t;for(const i of e)n=n[i];return n}}var r6=class{constructor(e,t="standalone",n=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=n,this.debug=Ut.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,c,d,f){for(const g of l)f.has(g)||f.set(g,xO(c.length,!1)),f.get(g)[d]=!0};let i=!0;for(const l of e.props){if(l.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&i&&(i=!1)}const s=({matchGroupIds:l=[]})=>{for(const c of l)if(this.values.every(d=>d.groupId!==c))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${c}).`)},r=new Set,o=new Set;for(const l of e.props){const c=l.type==="key"?r:o;switch(vCe(l)&&((a=l.scopes)==null||a.forEach(d=>c.add(d))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":s(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":s(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(r.forEach(c=>l.delete(c)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(e,t){var i;const n=(i=this.scopeCache.get(e.id))==null?void 0:i.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,n){const i=this.resolveProcessedDataIndexById(e,t),s=n.keys[i];if(s==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return s.get(e.id)}hasColumnById(e,t){var n;return((n=this.scopeCache.get(e.id))==null?void 0:n.get(t))!=null}resolveColumnById(e,t,n){var r;const i=this.resolveProcessedDataIndexById(e,t),s=(r=n.columns)==null?void 0:r[i];if(s==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return s}*forEachDatum(e,t,n){const i=t.columnScopes.findIndex(s=>s.has(e.id));for(const s of n.datumIndices[i]??[])yield t.columns[i][s]}*forEachGroupDatum(e,t){const n=t.columnScopes.findIndex(r=>r.has(e.id)),i={groupIndex:0,columnIndex:n},s=[];for(const r of t.groups){i.group=r;for(const o of r.datumIndices[n]??s)i.datumIndex=o,yield i;i.groupIndex++}}*forEachGroupDatumTuple(e,t){const i={columnIndex:t.columnScopes.findIndex(s=>s.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(e,t))i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=s.group,i.nextGroupIndex=s.groupIndex,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=s.datumIndex,i.group!=null&&i.datumIndexes[1]!=null&&(yield i);i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=void 0,i.nextGroupIndex=void 0,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=void 0,i.group!=null&&i.datumIndexes[1]!=null&&(yield i)}getDomain(e,t,n,i){const s=this.getDomainsByType(n??"value",i);return(s==null?void 0:s[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[n,i],s){const r=t.map(c=>this.resolveProcessedDataIndexById(e,c)),o=r.join(":"),a=s[KV];let l=a.get(o);if(l==null){const c=r.map(d=>s.columns[d]);l=new pCe(c),a.set(o,l)}return l.rangeBetween(n,i)}getSortOrder(e,t,n){let i=n.get(t);return i==null&&(i={sortOrder:mCe(e)},n.set(t,i)),i.sortOrder}getKeySortOrder(e,t,n){var r;const i=this.resolveProcessedDataIndexById(e,t),s=(r=n.keys[i])==null?void 0:r.get(e.id);return s?this.getSortOrder(s,i,n[$V]):void 0}getColumnSortOrder(e,t,n){const i=this.resolveProcessedDataIndexById(e,t);return this.getSortOrder(n.columns[i],i,n[YV])}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:n},aggregates:i,groupProcessors:s,reducers:r,processors:o,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let c=this.extractData(e);t?c=this.groupData(c):n&&(c=this.groupData(c,n(c))),s.length>0&&c.type==="grouped"&&this.postProcessGroups(c),i.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):i.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),a.length>0&&this.postProcessProperties(c),r.length>0&&this.reduceData(c),o.length>0&&this.postProcessData(c),this.warnDataMissingProperties(e);const d=performance.now();return c.time=d-l,this.debug.check()&&CCe(c),this.processScopeCache(),c}warnDataMissingProperties(e){var t;if(e.size!==0)for(const n of Qb(this.keys,this.values))for(const[i,s]of n.missing){if(s<(((t=e.get(i))==null?void 0:t.length)??1/0))continue;const r=i==null?"":` for ${i}`;ze.warnOnce(`the key '${n.property}' was not found in any data element${r}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of Qb(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[n,i]of t.idsMap)for(const s of i)if(!this.scopeCache.has(n))this.scopeCache.set(n,new Map([[s,t]]));else{if((e=this.scopeCache.get(n))!=null&&e.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(n).set(s,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[n,i]of this.values.entries())(!e||i.groupId&&e.includes(i.groupId))&&t.push(n);return t}valueIdxLookup(e,t){const n=e==null||e.length===0,i=typeof t=="string"?t:t.id,s=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(i))return!0}return!1},r=this.values.reduce((o,a,l)=>((a.scopes==null||n&&!a.scopes.length||a.scopes.some(d=>e==null?void 0:e.includes(d)))&&(a.property===i||a.id===i||s(a))&&o.push(l),o),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:n,allScopesHaveSameDefs:i}=this.initDataDomainProcessor(),{keys:s,values:r}=this,{invalidData:o,invalidKeys:a,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(s,e,n),{columns:d,columnScopes:f,partialValidDataCount:g,maxDataLength:y}=this.extractValues(o,r,e,a,n),v=w=>{const S=t.get(w),x=S.getDomain();return zf.is(S)&&x[0]>x[1]?[]:x};return{type:"ungrouped",input:{count:y},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...c.values()],columns:d,columnScopes:f,invalidKeys:a,invalidKeyCount:l,invalidData:o,domain:{keys:s.map(v),values:r.map(v)},defs:{allScopesHaveSameDefs:i,keys:s,values:r},partialValidDataCount:g,time:0,[KV]:new Map,[$V]:new Map,[YV]:new Map}}extractKeys(e,t,n){const i=new Map,s=new Map,r=new Map,o=new Map;let a,l;const c=(d,f)=>{const g=l.get(d);a.set(f,a.get(g)),i.has(g)&&(i.set(f,i.get(g)),s.set(f,s.get(g)))};for(const d of e){const{invalidValue:f,scopes:g}=d;a=new Map,l=new Map,o.set(d,a);for(const y of g??[]){const v=t.get(y)??[];if(l.has(v)){c(v,y);continue}const w=[];a.set(y,w),l.set(v,y);let S,x,M=0;for(let A=0;A<v.length;A++){if(v[A]==null||typeof v[A]!="object")continue;const k=n(d,v[A],A,y);if(k.valid){w.push(k.value);continue}w.push(f),S??(S=xO(v.length,!1)),x??(x=xO(v.length,!1)),M+=1,S[A]=!0,x[A]=!0}S&&x&&(i.set(y,S),s.set(y,x),r.set(y,M))}}return{invalidData:s,invalidKeys:i,invalidKeyCount:r,allKeyMappings:o}}extractValues(e,t,n,i,s){let r=0;const o=[],a=[];let l=0;for(const c of t){const{invalidValue:d}=c;if(new Set(c.scopes.map(x=>n.get(x))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);const g=new Set(c.scopes),y=Zx(c.scopes),v=n.get(y),w=new Array,S=i.get(y);for(let x=0;x<v.length;x++){if(v[x]==null||typeof v[x]!="object")continue;const M=v[x],A=S!=null?S[x]:!1,k=s(c,M,x,c.scopes);let I=k.value;(A||!k.valid)&&this.markScopeDatumInvalid(c.scopes,v,x,e),A?I=d:k.valid||(r+=1,I=d),w[x]=I}o.push(w),a.push(g),l=Math.max(l,w.length)}return{columns:o,columnScopes:a,partialValidDataCount:r,maxDataLength:l}}groupData(e,t){var n;const{keys:i,columns:s,columnScopes:r,invalidKeys:o,invalidData:a}=e,l=e.scopes,c=[],d=[],f=new Set,g=l.size!==1||t!=null?new Map:void 0;for(const y of l){const v=s.map((k,I)=>I).filter(k=>!f.has(k)&&r[k].has(y));if(v.length===0)continue;for(const k of v)f.add(k);const w=new Set;for(const k of v)for(const I of r[k])w.add(I);const S=i.map(k=>k.get(y)).filter(k=>k!=null),x=s[Zx(v)],M=a==null?void 0:a.get(y),A=o==null?void 0:o.get(y);for(let k=0;k<x.length;k++){if((A==null?void 0:A[k])===!0)continue;const I=S.map(z=>z[k]);if(I==null||I.length===0)throw new Error("AG Charts - no keys found for scope: "+y);const P=(t==null?void 0:t(I))??I,N=g!=null?yCe(P):void 0;let B=g==null?void 0:g.get(N);if(B==null&&(B={keys:P,datumIndices:[],aggregation:[],validScopes:l},g==null||g.set(N,B),c.push(B.keys),d.push(B)),(M==null?void 0:M[k])===!0){B.validScopes===l&&(B.validScopes=new Set(l.values()));for(const z of w)B.validScopes.delete(z)}for(const z of v)(n=B.datumIndices)[z]??(n[z]=[]),B.datumIndices[z].push(k)}}return{...e,type:"grouped",domain:{...e.domain,groups:c},groups:d}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:n,columns:i,dataSources:s}=e,r=Zx(s.keys()),o=s.get(r);e.aggregation=o==null?void 0:o.map((a,l)=>{var d,f,g;const c=[];for(const[y,v]of this.aggregates.entries()){const w=this.valueGroupIdxLookup(v);let S=((d=v.groupAggregateFunction)==null?void 0:d.call(v))??[1/0,-1/0];const x=w.map(I=>i[I][l]),M=PI(n,r,l),A=M!=null?v.aggregateFunction(x,M):void 0;A&&(S=((f=v.groupAggregateFunction)==null?void 0:f.call(v,A,S))??zf.extendDomain(A,S));const k=((g=v.finalFunction)==null?void 0:g.call(v,S))??S;c[y]=k,zf.extendDomain(k,t[y])}return c})}aggregateGroupedData(e){var i,s,r;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:n}=e;for(const[o,a]of this.aggregates.entries()){const l=this.valueGroupIdxLookup(a);for(const c of e.groups){c.aggregation??(c.aggregation=[]);const d=c.keys;let f=((i=a.groupAggregateFunction)==null?void 0:i.call(a))??[1/0,-1/0];const g=Math.max(...l.map(v=>{var w;return((w=c.datumIndices[v])==null?void 0:w.length)??0}));for(let v=0;v<g;v++){const w=l.map(x=>{var M;return n[x][(M=c.datumIndices[x])==null?void 0:M[v]]}),S=a.aggregateFunction(w,d);S&&(f=((s=a.groupAggregateFunction)==null?void 0:s.call(a,S,f))??zf.extendDomain(S,f))}const y=((r=a.finalFunction)==null?void 0:r.call(a,f))??f;c.aggregation[o]=y,zf.extendDomain(y,t[o])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:n,columns:i,invalidData:s}=e;for(const r of t){const o=this.valueGroupIdxLookup(r),a=r.adjust()();for(const l of e.groups)a(i,o,l);for(const l of o){const d=this.values[l].valueType==="category",f=i[l],g=Zx(n[l]),y=s==null?void 0:s.get(g),v=d?new UV:new zf;for(let w=0;w<f.length;w+=1)(y==null?void 0:y[w])!==!0&&v.extend(f[w]);e.domain.values[l]=v.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:n,scopes:i}of this.propertyProcessors)for(const s of this.valueIdxLookup(i,n))t()(e,s)}reduceData(e){var i;e.reduced??(e.reduced={});const{dataSources:t,keys:n}=e;for(const s of this.reducers){const r=s.reducer();let o=s.initialValue;if(e.type==="grouped")for(const a of e.groups)o=r(o,a.keys);else{const a=Zx(t.keys()),l=n.map(f=>f.get(a)).filter(f=>f!=null),c=l.map(()=>{}),d=t.get(a);for(let f=0;f<d.length;f+=1){for(let g=0;g<c.length;g++)c[g]=(i=l[g])==null?void 0:i[f];o=r(o,c)}}e.reduced[s.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,n=new Set;for(const d of t)if(d.scopes)for(const f of d.scopes)n.add(f);const i=new Map,s=new Map;let r=!0;const o=()=>{var d;for(const f of Qb(e,t))f.valueType==="category"?i.set(f,new UV):(i.set(f,new zf),r&&(r=(((d=f.scopes)==null?void 0:d.length)??0)===n.size))};o();const a=this.buildAccessors(Qb(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:i,processValue:(d,f,g,y)=>{var x,M;let v,w;if(a.has(d.property)){try{w=a.get(d.property)(f)}catch{}v=w!=null}else v=d.property in f,w=v?f[d.property]:d.missingValue;d.forceValue!=null&&(w=v&&M_(w)?-1*d.forceValue:d.forceValue,v=!0),l.missing=!v;const S="missingValue"in d;if(!v&&!S)if(typeof y=="string"){const A=d.missing.get(y)??0;d.missing.set(y,A+1)}else for(const A of y){const k=d.missing.get(A)??0;d.missing.set(A,k+1)}if(i.has(d)||o(),v&&((x=d.validation)==null?void 0:x.call(d,w,f,g))===!1)if(l.valid=!1,"invalidValue"in d)w=d.invalidValue;else return this.mode!=="integrated"&&ze.warnOnce(`invalid value of type [${typeof w}] for [${d.scopes} / ${d.id}] ignored:`,`[${w}]`),l.value=void 0,l;else l.valid=!0;if(d.processor){let A=s.get(d);A==null&&(A=d.processor(),s.set(d,A)),w=A(w,g)}return(M=i.get(d))==null||M.extend(w),l.value=w,l},initDataDomain:o,scopes:n,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;const s=s6(n.property);if(s==null){ze.warnOnce("Invalid property path [%s]",n.property);continue}const r=bCe(s);t.set(n.property,r)}return t}};function CCe(e){const t=(n,i)=>{i.length>0&&(ze.log(`DataModel.processData() - ${n}`),ze.table(i))};ze.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var sB=class uu{constructor(t,n){this.mode=t,this.suppressFieldDotNotation=n,this.debug=Ut.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,n,i){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,r)=>{this.requested.push({id:t,opts:i,data:n,resolve:s,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const i=this.mergeRequested(n);this.debug("DataController.execute() - merged",i),this.debug.check()&&($n().processedData=[]);const s=[];for(const{data:r,ids:o,opts:a,resolves:l,rejects:c}of i){const d=t==null?void 0:t.find(y=>gCe(y,r,o,a));let f,g;if(d==null)try{f=new r6(a,this.mode,this.suppressFieldDotNotation);const y=new Map(n.map(v=>[v.id,v.data]));g=f.processData(y)}catch(y){c.forEach(v=>v(y));continue}else({dataModel:f,processedData:g}=d);s.push({opts:a,data:r,ids:o,dataModel:f,processedData:g}),this.debug.check()&&$n("processedData").push(g),(g==null?void 0:g.partialValidDataCount)===0?l.forEach(y=>y({dataModel:f,processedData:g})):g?this.splitResult(f,g,o,l):c.forEach(y=>y(new Error("AG Charts - no processed data generated")))}return s}validateRequests(t){const n=[];for(const[i,s]of t.entries())i>0&&s.data.length!==t[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(s);return n}mergeRequested(t){const n=[];for(const i of t){const s=n.find(uu.groupMatch(i));s?s.push(i):n.push([i])}return n.map(uu.mergeRequests)}splitResult(t,n,i,s){for(let r=0;r<i.length;r++){const o=s[r];o({dataModel:t,processedData:n})}}static groupMatch({data:t,opts:n}){function i(c){return c.filter(d=>d.type==="key").map(d=>d.property).join(";")}const{groupByData:s,groupByKeys:r=!1,groupByFn:o,props:a}=n,l=i(a);return([c])=>(s===!1||c.data===t)&&(c.opts.groupByKeys??!1)===r&&c.opts.groupByFn===o&&i(c.opts.props)===l}static mergeRequests(t){var o;const n={ids:[],rejects:[],resolves:[],data:t[0].data,opts:{...t[0].opts,props:[]}},i=new Map,s=new Map;let r=0;for(const a of t){const{id:l,data:c,resolve:d,reject:f,opts:{props:g,...y}}=a;n.ids.push(l),n.rejects.push(f),n.resolves.push(d),n.data??(n.data=c),n.opts??(n.opts={...y,props:[]});for(const v of g){const w={...v,scopes:[l],data:c};uu.createIdsMap(l,w);let S;uu.crossScopeMergableTypes.has(w.type)?S=-1:s.has(c)?S=s.get(c):(S=r++,s.set(c,S));const x=`${w.type}-${S}-${w.groupId}`,M=i.get(x),A=M==null?void 0:M.find(k=>uu.deepEqual(k,w));if(M==null){n.opts.props.push(w),i.set(x,[w]);continue}else if(A==null){n.opts.props.push(w),M.push(w);continue}w.scopes!=null&&(A.scopes??(A.scopes=[]),A.scopes.push(...w.scopes)),(A.type==="key"||A.type==="value")&&((o=w.idsMap)!=null&&o.size)&&(A.idsMap??(A.idsMap=new Map),uu.mergeIdsMap(w.idsMap,A.idsMap))}}return n}static mergeIdsMap(t,n){for(const[i,s]of t){const r=n.get(i);if(r==null)n.set(i,new Set(s));else for(const o of s)r.add(o)}}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let i,s;if(Array.isArray(t)){if(s=t.length,s!==n.length)return!1;for(i=s-1;i>=0;i--)if(!uu.deepEqual(t[i],n[i]))return!1;return!0}const r=Object.keys(t);if(s=r.length,s!==Object.keys(n).length)return!1;for(i=s-1;i>=0;i--){const o=r[i];if(!uu.skipKeys.has(o)&&(!Object.hasOwn(n,o)||!uu.deepEqual(t[o],n[o])))return!1}return!0}return!1}};sB.crossScopeMergableTypes=new Set(["key","group-value-processor"]);sB.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var o6=sB,wCe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const n=this.axesMap.get(e);if(n)return n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Wm=new wCe,rD=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function V1(e){var t;return(t=rD.find(n=>n.type==="series"&&n.identifier===e))==null?void 0:t.chartTypes}function SCe(e){var n;return((n=V1(e))==null?void 0:n.find(i=>i==="cartesian"))==="cartesian"}function xCe(e){var n;return((n=V1(e))==null?void 0:n.find(i=>i==="polar"))==="polar"}function MCe(e){var n;return((n=V1(e))==null?void 0:n.find(i=>i==="topology"))==="topology"}function DCe(e){var n;return((n=V1(e))==null?void 0:n.find(i=>i==="standalone"))==="standalone"}function ACe(e){return e.packageType==="enterprise"}function RCe(e){if(!ACe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=rD.find(n=>n.type===e.type&&("optionsKey"in n&&"optionsKey"in e?n.optionsKey===e.optionsKey:!0)&&("contextKey"in n&&"contextKey"in e?n.contextKey===e.contextKey:!0)&&n.identifier===e.identifier&&e.chartTypes.every(i=>n.chartTypes.includes(i)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function TCe(){return rD.filter(({useCount:e})=>e==null||e===0)}var ECe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:n,themeTemplate:i}){this.legendMap.set(e,{optionsKey:t,moduleFactory:n}),this.themeTemplates.set(t,i)}create(e,t){var i;const n=(i=this.legendMap.get(e))==null?void 0:i.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},rB=new ECe,a6=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isTopology(e){return this.get(e)==="topology"}isStandalone(e){return this.get(e)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}},ICe=class extends Map{set(e,t){return super.set(e,Rn(t,this.get(e)))}},$s=new a6,kCe=new a6,DF=new ICe,LCe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:n,defaultAxes:i,themeTemplate:s,solo:r,stackable:o,groupable:a,stackedByDefault:l,hidden:c}){this.setThemeTemplate(e,s),this.seriesMap.set(e,{moduleFactory:n,defaultAxes:i,solo:r,stackable:o,groupable:a,stackedByDefault:l}),$s.set(e,t),c||kCe.set(e,t)}create(e,t){var i;const n=(i=this.seriesMap.get(e))==null?void 0:i.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var n;const t=(n=this.seriesMap.get(e))==null?void 0:n.defaultAxes;return t==null?null:{axes:Bi(t)}}setThemeTemplate(e,t){const n=this.themeTemplates.get(e);this.themeTemplates.set(e,Rn(t,n))}getThemeTemplate(e){return this.themeTemplates.get(e)}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},oc=new LCe,oB=class _d{constructor(t){this.chart=t}subscribe(t=_d.DEFAULT_GROUP){let n=this.get(t);return n||(n={members:new Set},_d.chartsGroups.set(t,n)),n.members.add(this.chart),this}unsubscribe(t=_d.DEFAULT_GROUP){var i,s,r,o,a,l;const n=this.get(t);return n==null||n.members.delete(this.chart),(r=(s=(i=n==null?void 0:n.domains)==null?void 0:i.x)==null?void 0:s.sources)==null||delete r[this.chart.id],(l=(a=(o=n==null?void 0:n.domains)==null?void 0:o.y)==null?void 0:a.sources)==null||delete l[this.chart.id],this}getChart(){return this.chart}getGroupState(t=_d.DEFAULT_GROUP){return this.get(t)}getGroupMembers(t=_d.DEFAULT_GROUP){const n=this.get(t);return n?Array.from(n.members):[]}getGroupSiblings(t=_d.DEFAULT_GROUP){return this.getGroupMembers(t).filter(n=>n!==this.chart)}getGroupSyncMode(t=_d.DEFAULT_GROUP){return this.getGroupMembers(t).some(n=>n.series.length>1)?"multi-series":"single-series"}get(t){return _d.chartsGroups.get(t)}};oB.chartsGroups=new Map;oB.DEFAULT_GROUP=Symbol("sync-group-default");var PCe=oB,aB=class extends It{constructor(){super(...arguments),this.enabled=!1}};L([F],aB.prototype,"enabled",2);L([F],aB.prototype,"tabIndex",2);var l6={};Zu(l6,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>uc,fromToMotion:()=>Os,staticFromToMotion:()=>wh});var uc={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Os(e,t,n,i,s,r,o){const{fromFn:a,toFn:l,applyFn:c=(v,w)=>v.setProperties(w)}=s,{nodes:d,selections:f}=H1(i),g=(v,w)=>{let S,x=0,M=0;for(const A of w){const k=v[x]===A,I={last:M>=w.length-1,lastLive:x>=v.length-1,prev:w[M-1],prevFromProps:S,prevLive:v[x-1],next:w[M+1],nextLive:v[x+(k?1:0)]},P=`${e}_${t}_${A.id}`;n.stopByAnimationId(P);let N="unknown";k?r&&o&&(N=OCe(A,A.datum,r,o)):N="removed",A.transitionOut=N==="removed";const{phase:B,start:z,finish:W,delay:Y,duration:K,...q}=a(A,A.datum,N,I),{phase:te,start:re,finish:X,delay:ne,duration:Z,...Se}=l(A,A.datum,N,I),U=W==null;n.animate({id:P,groupId:e,phase:B??te??"update",duration:K??Z,delay:Y??ne,from:q,to:Se,ease:uM,collapsable:U,onPlay:()=>{const ie={...z,...re,...q};c(A,ie,"start")},onUpdate(ie){c(A,ie,"update")},onStop:()=>{const ie={...z,...re,...q,...Se,...W,...X};c(A,ie,"end")}}),k&&x++,M++,S=q}};let y=0;for(const v of f){const w=v.nodes(),S=w.filter(x=>!v.isGarbage(x));g(S,w),n.animate({id:`${e}_${t}_selection_${y}`,groupId:e,phase:"end",from:0,to:1,ease:uM,onStop(){v.cleanup()}}),y++}g(d,d)}function wh(e,t,n,i,s,r,o){const{nodes:a,selections:l}=H1(i),{start:c,finish:d,phase:f}=o;n.animate({id:`${e}_${t}`,groupId:e,phase:f??"update",from:s,to:r,ease:uM,onPlay:()=>{if(c){for(const g of a)g.setProperties(c);for(const g of l)for(const y of g.nodes())y.setProperties(c)}},onUpdate(g){for(const y of a)y.setProperties(g);for(const y of l)for(const v of y.nodes())v.setProperties(g)},onStop:()=>{for(const g of a)g.setProperties({...r,...d});for(const g of l){for(const y of g.nodes())y.setProperties({...r,...d});g.cleanup()}}})}function OCe(e,t,n,i){const s=n(e,t);return i.added.has(s)?"added":i.removed.has(s)?"removed":e.previousDatum==null&&e.datum!=null?"added":e.previousDatum!=null&&e.datum==null?"removed":"updated"}var c6={};Zu(c6,{resetMotion:()=>Mr});function Mr(e,t){const{nodes:n,selections:i}=H1(e);for(const s of i){for(const r of s.nodes()){const o=t(r,r.datum);r.setProperties(o)}s.cleanup()}for(const s of n){const r=t(s,s.datum);s.setProperties(r)}}var no=class mm{constructor(t,n,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Ut.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(lh,n)?()=>new n:n}static select(t,n,i=!0){return new mm(t,n,i)}static selectAll(t,n){const i=[],s=r=>{if(n(r)&&i.push(r),r instanceof jt)for(const o of r.children())s(o)};return s(t),i}static selectByClass(t,...n){return mm.selectAll(t,i=>n.some(s=>i instanceof s))}static selectByTag(t,n){return mm.selectAll(t,i=>i.tag===n)}createNode(t,n,i){const s=this.nodeFactory(t);return s.datum=t,n==null||n(s),i==null?this._nodes.push(s):this._nodes.splice(i,0,s),this.parentNode.appendChild(s),s}update(t,n,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),i){const s=new Map,r=new Map;for(let o=0;o<t.length;o++){const a=t[o];let l=i(a);if(s.has(l)){const c=(r.get(l)??0)+1;r.set(l,c),l=`${l}:${c}`}s.set(l,o)}for(const[o,a]of this._nodesMap.entries()){const l=s.get(a);l==null?this.garbageBin.add(o):(o.datum=t[l],this.garbageBin.delete(o),s.delete(a))}for(const[o,a]of s.entries()){const l=t[a];this._nodesMap.set(this.createNode(l,n,a),o)}}else{const s=Math.max(t.length,this.data.length);for(let r=0;r<s;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],n):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t];yield{node:n,datum:n.datum,index:t}}}select(t){return mm.selectAll(this.parentNode,t)}selectByClass(t){return mm.selectByClass(this.parentNode,t)}selectByTag(t){return mm.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},Pa=class extends Ms{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Xe(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:n,y1:i,x2:s,y2:r}=this;return TI(e,t,n,i,s,r,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:n}=e;let{x1:i,y1:s,x2:r,y2:o}=this;if(i===r){const{strokeWidth:l}=this,c=Math.round(i*n)/n+Math.trunc(l*n)%2/(n*2);i=c,r=c}else if(s===o){const{strokeWidth:l}=this,c=Math.round(s*n)/n+Math.trunc(l*n)%2/(n*2);s=c,o=c}t.beginPath(),t.moveTo(i,s),t.lineTo(r,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=as("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};Pa.className="Line";L([Be()],Pa.prototype,"x1",2);L([Be()],Pa.prototype,"y1",2);L([Be()],Pa.prototype,"x2",2);L([Be()],Pa.prototype,"y2",2);var MO="color: green",DO="color: grey";function NCe(){return P5(()=>{})}function AF(e,t){const n=ag(t);if(n.length===0)return;const i=O5(e);for(const s of n)s in i&&(t[s]=i[s])}var u6=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},lB=class ea extends u6{constructor(t,n,i){super(),this.defaultState=t,this.states=n,this.enterEach=i,this.debug=Ut.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,MO)}transition(t,n){var d,f,g,y;if(!this.transitionChild(t,n)||this.state===ea.child||this.state===ea.parent)return;const s=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(v=>{if(!v.guard)return!0;const w=v.guard(n);return w||this.debug(`${a} (guarded)`,v.target,DO),w});else if(typeof o=="object"&&!(o instanceof ea)&&o.guard&&!o.guard(n)){this.debug(`${a} (guarded)`,o.target,DO);return}if(!o){this.debug(`${a} ${this.state}`,DO);return}const l=this.getDestinationState(o),c=l===this.state?void 0:r.onExit;this.debug(`${a} ${l}`,MO),this.state=l,typeof o=="function"?o(n):typeof o=="object"&&!(o instanceof ea)&&((d=o.action)==null||d.call(o,n)),c==null||c(),(f=this.enterEach)==null||f.call(this,s,l),l!==s&&l!==ea.child&&l!==ea.parent&&((y=(g=this.states[l]).onEnter)==null||y.call(g,s,n))}transitionAsync(t,n){setTimeout(()=>{this.transition(t,n)},0)}is(t){return this.state===ea.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){var i,s;return this.state!==ea.child||!this.childState||(AF(this,this.childState),this.childState.transition(t,n),!this.childState.is(ea.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,MO),this.state=this.defaultState,(s=(i=this.states[this.state]).onEnter)==null||s.call(i),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof ea?(this.childState=t,this.childState.parent=this,n=ea.child):typeof t=="object"&&(t.target instanceof ea?(this.childState=t.target,this.childState.parent=this,n=ea.child):t.target!=null&&(n=t.target)),n}};lB.child="__child";lB.parent="__parent";var oD=lB,FCe=class extends u6{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const n of this.stateMachines)AF(this,n),n.transition(e,t)}transitionAsync(e,t){for(const n of this.stateMachines)AF(this,n),n.transitionAsync(e,t)}},pC=1e3,tg=pC*60,Um=tg*60,ly=Um*24,d6=ly*7,cB=ly*30,gM=ly*365,Ib=new Date().getTimezoneOffset()*tg,aD={millisecond:{milliseconds:1,hierarchy:"day",encode(e){return e.getTime()},decode(e){return new Date(e)}},second:{milliseconds:pC,hierarchy:"day",encode(e,t){const n=t?0:Ib;return Math.floor((e.getTime()-n)/pC)},decode(e,t){const n=t?0:Ib;return new Date(n+e*pC)}},minute:{milliseconds:tg,hierarchy:"day",encode(e,t){const n=t?0:Ib;return Math.floor((e.getTime()-n)/tg)},decode(e,t){const n=t?0:Ib;return new Date(n+e*tg)}},hour:{milliseconds:Um,hierarchy:"day",encode(e,t){const n=t?0:Ib;return Math.floor((e.getTime()-n)/Um)},decode(e,t){const n=t?0:Ib;return new Date(n+e*Um)}},day:{milliseconds:ly,hierarchy:"month",encode(e,t){const n=t?0:e.getTimezoneOffset()*tg;return Math.floor((e.getTime()-n)/ly)},decode(e,t){let n;return t?(n=new Date(0),n.setUTCDate(n.getUTCDate()+e),n.setUTCHours(0,0,0,0)):(n=new Date(1970,0,1),n.setDate(n.getDate()+e)),n}},month:{milliseconds:cB,hierarchy:"year",encode(e,t){return t?e.getUTCFullYear()*12+e.getUTCMonth():e.getFullYear()*12+e.getMonth()},decode(e,t){if(t){const n=Math.floor(e/12),i=e-n*12;return new Date(Date.UTC(n,i,1))}else{const n=Math.floor(e/12),i=e-n*12;return new Date(n,i,1)}}},year:{milliseconds:gM,hierarchy:void 0,encode(e,t){return t?e.getUTCFullYear():e.getFullYear()},decode(e,t){let n;return t?(n=new Date,n.setUTCFullYear(e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)):n=new Date(e,0,1,0,0,0,0),n}}};function lD(e){return typeof e=="string"?{unit:e,step:1,epoch:void 0,utc:!1}:{unit:e.unit,step:e.step??1,epoch:e.epoch,utc:e.utc??!1}}function cD(e,t,n,i){if(n==null)return 0;const s=aD[e];return Math.floor(s.encode(new Date(n),i))%t}function XC(e,t,n,i,s){const r=aD[t];return Math.floor((r.encode(new Date(e),i)-s)/n)}function uD(e,t,n,i,s){return aD[t].decode(e*n+s,i)}function OI(e,t,n,i,s){const r=new Date(e),o=XC(r,t,n,i,s);return uD(o,t,n,i,s)}function NI(e,t,n,i,s){const r=new Date(Number(e)-1),o=XC(r,t,n,i,s);return uD(o+1,t,n,i,s)}function cl(e,t){const{unit:n,step:i,epoch:s,utc:r}=lD(e),o=cD(n,i,s,r);return OI(t,n,i,r,o)}function h6(e,t){const{unit:n,step:i,epoch:s,utc:r}=lD(e),o=cD(n,i,s,r);return NI(t,n,i,r,o)}function f6(e,t){const{unit:n,step:i,epoch:s,utc:r}=lD(e),o=cD(n,i,s,r);return uD(XC(NI(t,n,i,r,o),n,i,r,o)-1,n,i,r,o)}function g6(e,t){const{unit:n,step:i,epoch:s,utc:r}=lD(e),o=cD(n,i,s,r);return uD(XC(OI(t,n,i,r,o),n,i,r,o)+1,n,i,r,o)}function uB(e,t,n){if(e.valueOf()>t.valueOf()&&([e,t]=[t,e],n!=null&&(n=[1-n[1],1-n[0]])),n!=null){const i=t.valueOf()-e.valueOf(),s=e.valueOf();e=new Date(s+n[0]*i),t=new Date(s+n[1]*i)}return[new Date(e),new Date(t)]}function FI(e,t,n,{extend:i=!1,visibleRange:s=[0,1],limit:r,defaultAlignment:o="start"}={}){const a=lD(e),{unit:l,step:c,utc:d}=a;let f;a.epoch!=null?f=a.epoch:o==="interval"?f=void 0:t.valueOf()>n.valueOf()?f=n:f=t;const g=cD(a.unit,a.step,f,a.utc);let[y,v]=uB(t,n,s);y=i?OI(y,l,c,d,g):NI(y,l,c,d,g),v=i?NI(v,l,c,d,g):OI(v,l,c,d,g);const w=XC(y,l,c,d,g);let S=XC(v,l,c,d,g);return r!=null&&S-w>r&&(S=w+r),{range:[w,S],unit:l,step:c,utc:d,offset:g}}function dB(e,t,n,i){const{range:[s,r]}=FI(e,t,n,i);return Math.abs(r-s)}function wl(e,t,n,i){const{range:[s,r],unit:o,step:a,utc:l,offset:c}=FI(e,t,n,i),d=[];for(let f=s;f<=r;f+=1){const g=uD(f,o,a,l,c);d.push(g)}return d}function j1(e,t,n,{extend:i,visibleRange:s,limit:r,defaultAlignment:o}={}){const{range:[a]}=FI(e,t,n,{extend:i,visibleRange:s,limit:r,defaultAlignment:o}),{range:[l]}=FI(e,t,n,{extend:i,limit:r,defaultAlignment:o});return a-l}function Nu(e){return typeof e=="string"?e:e.unit}function bg(e){return typeof e=="string"?1:e.step??1}function pM(e){return typeof e=="string"?void 0:e.epoch}function mM(e){return aD[Nu(e)].hierarchy}function Io(e){return bg(e)*aD[Nu(e)].milliseconds}var Ey=class{constructor(){this.enabled=!0}};L([F],Ey.prototype,"enabled",2);L([F],Ey.prototype,"stroke",2);L([F],Ey.prototype,"strokeWidth",2);L([F],Ey.prototype,"strokeOpacity",2);var es=class extends It{constructor(){super(...arguments),this.enabled=!0,this.border=new Ey,this._cachedFormatter=void 0}formatValue(e,t,n,i){var a;const{formatter:s,format:r}=this;let o;if(s!=null&&(o??(o=e(s,i))),r!=null){let l=this._cachedFormatter;(l==null||l.type!==t||l.format!==r)&&(l={type:t,format:r,formatter:qC.getFormatter(t,r)},this._cachedFormatter=l),o??(o=(a=l.formatter)==null?void 0:a.call(l,n))}return o!=null?String(o):void 0}};L([F],es.prototype,"enabled",2);L([F],es.prototype,"border",2);L([F],es.prototype,"color",2);L([F],es.prototype,"cornerRadius",2);L([F],es.prototype,"fill",2);L([F],es.prototype,"fillOpacity",2);L([F],es.prototype,"fontStyle",2);L([F],es.prototype,"fontWeight",2);L([F],es.prototype,"fontSize",2);L([F],es.prototype,"fontFamily",2);L([F],es.prototype,"formatter",2);L([F],es.prototype,"format",2);L([F],es.prototype,"padding",2);L([F],es.prototype,"itemStyler",2);function QC(e){const{enabled:t=!1,stroke:n}=(e==null?void 0:e.border)??{},s=(e==null?void 0:e.fill)!=null||t&&n!=null?e==null?void 0:e.padding:null;if(s==null)return{bottom:0,left:0,right:0,top:0};if(typeof s=="number")return{bottom:s,left:s,right:s,top:s};{const{bottom:r=0,left:o=0,right:a=0,top:l=0}=s;return{bottom:r,left:o,right:a,top:l}}}function _Ce(e,t,n=0,i=0){const s=ch(e),r=!s&&i>=0&&i<=Math.PI?-1:1,o=!s&&n>=0&&n<=Math.PI?-1:1;let a=0;return t?a=r*Math.PI/2:o===-1&&(a=Math.PI),{configuredRotation:s,defaultRotation:a,parallelFlipFlag:r,regularFlipFlag:o}}function BCe(e,t){return e??(t?0:10)}function GCe(e,t,n,i){return e&&!t?n*i===-1?"top":"bottom":"middle"}function zCe(e,t,n,i,s){const r=t>0&&t<=Math.PI,o=n>0&&n<=Math.PI,a=r||o?-1:1;if(e)if(t||n){if(i*a===-1)return"end"}else return"center";else if(i*s===-1)return"end";return"start"}function RF(e,t){if(e!=null){if(typeof e=="string")return e;if(Tn(e)&&t!=null)return e[Nu(t)]}}function HCe(e,t,n,i,s){const r=RF(e.format,i)??(typeof e.format=="string"?e.format:void 0);if(r==null)return{width:0,height:0};const o=ay(r),a=i?mM(i):void 0,l=RF(t==null?void 0:t.format,a),c=l?ay(l):o,d=new Date(n[0]),f=new Date(n[n.length-1]),g=a?wl(a,new Date(n[0]),new Date(n[n.length-1]),{extend:!0}):void 0;let y=0,v=0;if(o!=null){const w=QC(e),S=w.left+w.right,x=w.top+w.bottom;let M,A;g!=null&&g.length>1?(M=g[0],A=g[1]):(M=d,A=f);const k=wl(i,M,A,{limit:50});for(const I of k){const P=o(I),{width:N,height:B}=s.measureLines(P);y=Math.max(y,N+S),v=Math.max(v,B+x)}}if(c!=null&&g!=null){const w=QC(t),S=w.left+w.right,x=w.top+w.bottom;for(const M of g){const A=c(M),{width:k,height:I}=s.measureLines(A);y=Math.max(y,k+S),v=Math.max(v,I+x)}}return{width:Math.ceil(y),height:Math.ceil(v)}}function VCe(e,t,n,i,s){const r=QC(s),o=r.left+r.right,a=r.top+r.bottom,l=[];for(const{tickLabel:c,translation:d}of e){if(!c)continue;const{x:f,y:g}=n.transformBBox(new Xe(t,d,0,0)),y=i.measureLines(c),v=y.width+o,w=y.height+a;l.push({point:{x:f,y:g},label:{text:c,width:v,height:w}})}return l}function jCe({width:e,height:t,spacing:n},i,s){const r=[];for(const o of[0,n]){const{x:a,y:l}=s.transformBBox(new Xe(i,o,0,0));r.push({point:{x:a,y:l},label:{text:void 0,width:e,height:t}})}return r}var hB=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var n;const t=Ks(e)?e:e.optionsKey;(n=this.moduleMap.get(t))==null||n.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(Ks(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(Ks(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},Qu=class extends Ms{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new Xe(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var v;const{ctx:t}=e;let{x1:n,y1:i,x2:s,y2:r}=this;n=this.align(n),i=this.align(i),s=this.align(s),r=this.align(r);const{fill:o,horizontal:a}=this,{globalAlpha:l}=t;o!=null&&(this.applyFillAndAlpha(t),t.beginPath(),t.moveTo(n,i),t.lineTo(s,i),t.lineTo(s,r),t.lineTo(n,r),t.closePath(),t.fill(),t.globalAlpha=l);const{stroke:c,strokeWidth:d,startLine:f,endLine:g}=this;if(!!((f||g)&&c&&d)){const{lineDash:w,lineDashOffset:S,lineCap:x,lineJoin:M}=this;this.applyStrokeAndAlpha(t),t.lineWidth=d,w&&t.setLineDash([...w]),S&&(t.lineDashOffset=S),x&&(t.lineCap=x),M&&(t.lineJoin=M),t.beginPath(),f&&(t.moveTo(n,i),a?t.lineTo(n,r):t.lineTo(s,i)),g&&(t.moveTo(s,r),a?t.lineTo(s,i):t.lineTo(n,r)),t.stroke(),t.globalAlpha=l}(v=this.fillShadow)==null||v.markClean(),super.render(e)}};Qu.className="Range";L([Be()],Qu.prototype,"x1",2);L([Be()],Qu.prototype,"y1",2);L([Be()],Qu.prototype,"x2",2);L([Be()],Qu.prototype,"y2",2);L([Be()],Qu.prototype,"startLine",2);L([Be()],Qu.prototype,"endLine",2);L([Be()],Qu.prototype,"horizontal",2);function WCe(e){return e!=null&&Object.hasOwn(e,"toString")&&Ks(e.toString())}function UCe(e){return e!=null&&Object.hasOwn(e,"valueOf")&&Wn(e.valueOf())}function W1(e){return Wn(e)||m_(e)||UCe(e)}function $Ce(e,t){return e!=null&&(!t||W1(e))}function TF(e){return WCe(e)&&Object.hasOwn(e,"id")?e.id:e}function p6(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function m6(e,t){const n=p6(e);if(n==null)return!1;const i=ci.is(t)||gc.is(t),s=r=>$Ce(r,i)&&!isNaN(t.convert(r,{clamp:!0}));if(e.type==="range"){const[r,o]=n;return s(r)&&s(o)}else return s(n)}var YCe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},KCe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},qCe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},ZCe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},xl=class extends It{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};L([F],xl.prototype,"enabled",2);L([F],xl.prototype,"text",2);L([F],xl.prototype,"fontStyle",2);L([F],xl.prototype,"fontWeight",2);L([F],xl.prototype,"fontSize",2);L([F],xl.prototype,"fontFamily",2);L([F],xl.prototype,"padding",2);L([F],xl.prototype,"color",2);L([F],xl.prototype,"position",2);L([F],xl.prototype,"rotation",2);L([F],xl.prototype,"parallel",2);var No=class extends It{constructor(){super(),this.id=Sc(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new xl,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new jt({name:this.id}),this.lineGroup=new jt({name:this.id}),this.labelGroup=new jt({name:this.id}),this.crossLineRange=new Qu,this.crossLineLabel=new UC,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(e){const{enabled:t,type:n,data:i,scale:s}=this;if(!s||!t||!e||!m6(this,s)||i==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const r=n==="range";r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(e){if(this.data=void 0,!e)return;const{type:t,range:n,value:i,scale:s,clippedRange:r,strokeWidth:o=0}=this;if(!s)return;const a=s.bandwidth??0,l=s.step??0,c=s instanceof Ch?(l-a)/2:0;let[d,f]=Ys(r);d-=a,f+=a;let g,y,v,w;if(t==="line"){const S=a/2;if(g=s.convert(i)+S,y=NaN,v=s.convert(i,{clamp:!0})+S,w=NaN,v>=f||v<=d)return}else if(n){const[S,x]=n,[M,A]=ZY(S,x);if(g=s.convert(S,{alignment:M}),y=s.convert(x,{alignment:A}),v=s.convert(S,{clamp:!0,alignment:M}),w=s.convert(x,{clamp:!0,alignment:A}),v>w&&([v,w]=[w,v],[g,y]=[y,g]),v>=f||w<=d)return;Number.isFinite(g)&&(v-=c),Number.isFinite(y)&&(y+=a,w+=a+c)}else return;v=hM(v,r),w=hM(w,r),g-c>=v&&(g-=c),y+c<=w&&(y+=c),this.startLine=o>0&&g>=v&&g<=v+c,this.endLine=o>0&&y>=w-a-c&&y<=w,this.data=[v,w],this.label.enabled===!1||this.label.text}updateNodes(){const{position:e,data:[t,n]=[0,0],gridLength:i}=this,s=Number.isFinite(n)?n-t:0;let r;switch(e){case"top":case"bottom":r=new Xe(t,e==="top"?0:-i,s,i);break;case"left":case"right":r=new Xe(e==="left"?0:-i,t,i,s)}this.updateRangeNode(r);const{label:o}=this;o.enabled!==!1&&o.text&&(this.updateLabel(),this.positionLabel(r))}updateRangeNode(e){const{type:t,position:n,crossLineRange:i,startLine:s,endLine:r,fill:o,fillOpacity:a,stroke:l,strokeWidth:c,strokeOpacity:d,lineDash:f}=this;i.x1=e.x,i.x2=e.x+e.width,i.y1=e.y,i.y2=e.y+e.height,i.horizontal=n==="top"||n==="bottom",i.startLine=s,i.endLine=r,i.fill=t==="range"?o:void 0,i.fillOpacity=a??1,i.stroke=l,i.strokeWidth=c??1,i.strokeOpacity=d??1,i.lineDash=f}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}get anchor(){const e=this.position==="left"||this.position==="right",t=this.type==="range",{position:n=this.defaultLabelPosition}=this.label;return t?(e?qCe:ZCe)[n]:(e?YCe:KCe)[n]}positionLabel(e){const{crossLineLabel:t,label:n,anchor:i}=this;t.rotation=Ar(n.rotation??0),t.textBaseline="middle",t.textAlign="center";const s=t.getBBox();if(!s)return;const{width:r,height:o}=s,a=n.padding+r/2,l=n.padding+o/2,c=e.x+e.width*(i.rangeH+1)/2-a*i.labelH,d=e.y+e.height*(i.rangeV+1)/2-l*i.labelV;t.x=c,t.y=d,t.rotationCenterX=c,t.rotationCenterY=d}computeLabelSize(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new UC;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text,t.rotation=Ar(e.rotation??0),t.textBaseline="middle",t.textAlign="center";const n=t.getBBox();if(!n)return;const{width:i,height:s}=n;return{width:i,height:s}}calculatePadding(e){const{label:t,anchor:n}=this,i=this.computeLabelSize();if(!i)return;const{width:s,height:r}=i,o=t.padding+s,a=t.padding+r,l=this.position==="left"||this.position==="right";l&&(n.rangeH===-1&&n.labelH===1?e.left=Math.max(e.left??0,o):n.rangeH===1&&n.labelH===-1&&(e.right=Math.max(e.right??0,o))),l||(n.rangeV===-1&&n.labelV===1?e.top=Math.max(e.top??0,a):n.rangeV===1&&n.labelV===-1&&(e.bottom=Math.max(e.bottom??0,a)))}};No.className="CrossLine";L([F],No.prototype,"enabled",2);L([F],No.prototype,"type",2);L([F],No.prototype,"range",2);L([F],No.prototype,"value",2);L([F],No.prototype,"defaultColorRange",2);L([F],No.prototype,"fill",2);L([F],No.prototype,"fillOpacity",2);L([F],No.prototype,"stroke",2);L([F],No.prototype,"strokeWidth",2);L([F],No.prototype,"strokeOpacity",2);L([F],No.prototype,"lineDash",2);L([F],No.prototype,"label",2);var U1=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};L([F],U1.prototype,"enabled",2);L([F],U1.prototype,"width",2);L([F],U1.prototype,"style",2);var Iy=class extends It{};L([F],Iy.prototype,"placement",2);L([F],Iy.prototype,"step",2);L([F],Iy.prototype,"values",2);L([F],Iy.prototype,"minSpacing",2);L([F],Iy.prototype,"maxSpacing",2);var Di=class extends It{constructor(){super(...arguments),this.enabled=!0,this.border=new Ey,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(e,t,n,i={dateStyle:"long",truncateDate:void 0}){var y;const{formatter:s,format:r}=this,{type:o,value:a,domain:l,boundSeries:c}=t,d=t.type==="number"?t.fractionDigits:void 0,f=t.type==="date"?t.unit:void 0;let g;if(s!=null){const v=t.type==="date"?t.step:void 0;g=e(s,{value:a,index:n,domain:l,fractionDigits:d,unit:f,step:v,boundSeries:c})}if(r!=null&&g==null){const{specifier:v,dateStyle:w,truncateDate:S}=i,x=`${w}:${S??"none"}`;let M=this._formatters[x];const A=qC.mergeSpecifiers(v,r);(M==null||M.type!==o||M.unit!==f||!Oo(M.mergedFormat,A))&&(M={type:o,mergedFormat:A,unit:f,formatter:qC.getFormatter(o,A,f,w,i)},this._formatters[x]=M),g=(y=M.formatter)==null?void 0:y.call(M,a,d)}return g!=null?String(g):void 0}};L([F],Di.prototype,"enabled",2);L([F],Di.prototype,"border",2);L([F],Di.prototype,"cornerRadius",2);L([F],Di.prototype,"fill",2);L([F],Di.prototype,"fillOpacity",2);L([F],Di.prototype,"fontStyle",2);L([F],Di.prototype,"fontWeight",2);L([F],Di.prototype,"fontSize",2);L([F],Di.prototype,"fontFamily",2);L([F],Di.prototype,"wrapping",2);L([F],Di.prototype,"truncate",2);L([F],Di.prototype,"spacing",2);L([F],Di.prototype,"minSpacing",2);L([F],Di.prototype,"color",2);L([F],Di.prototype,"rotation",2);L([F],Di.prototype,"avoidCollisions",2);L([F],Di.prototype,"mirrored",2);L([F],Di.prototype,"padding",2);L([F],Di.prototype,"parallel",2);L([F],Di.prototype,"itemStyler",2);L([F],Di.prototype,"formatter",2);L([F],Di.prototype,"format",2);var $1=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};L([F],$1.prototype,"enabled",2);L([F],$1.prototype,"width",2);L([F],$1.prototype,"stroke",2);var ky=class extends It{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};L([F],ky.prototype,"enabled",2);L([F],ky.prototype,"width",2);L([F],ky.prototype,"size",2);L([F],ky.prototype,"stroke",2);var xc=class extends It{constructor(){super(...arguments),this.caption=new Gi,this.enabled=!1,this.spacing=Gi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};L([F],xc.prototype,"enabled",2);L([F],xc.prototype,"text",2);L([F],xc.prototype,"spacing",2);L([F],xc.prototype,"fontStyle",2);L([F],xc.prototype,"fontWeight",2);L([F],xc.prototype,"fontSize",2);L([F],xc.prototype,"fontFamily",2);L([F],xc.prototype,"color",2);L([F],xc.prototype,"wrapping",2);L([F],xc.prototype,"formatter",2);var y6=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(y6||{});function v6(e){const[t,n]=Ys(e.range),i=Math.floor(t),s=Math.ceil(n);return{min:i,max:s,visible:i!==s}}var EF=Math.PI*2,XCe=EF/2;function QCe(e,t){return Math.abs(t-e)<XCe?t:e>t?t+EF:t-EF}function b6(e){const{min:t,max:n}=e,i=l=>l<t||l>n;return{tick:{fromFn(l,c,d){let{x1:f,x2:g,y1:y,y2:v}=l,w=l.opacity;return(d==="added"||i(c.offset))&&({x1:f,x2:g,y1:y,y2:v}=c,w=0),{x1:f,x2:g,y1:y,y2:v,opacity:w,phase:uc[d]}},toFn(l,c,d){const{x1:f,x2:g,y1:y,y2:v}=c;let w=1;return d==="removed"&&(w=0),{x1:f,x2:g,y1:y,y2:v,opacity:w}},applyFn(l,c){l.setProperties(c),l.visible=!i(l.y)}},line:{fromFn(l,c){const{x1:d,x2:f,y1:g,y2:y}=l.previousDatum??c;return{x1:d,x2:f,y1:g,y2:y,phase:uc.updated}},toFn(l,c){const{x1:d,x2:f,y1:g,y2:y}=c;return{x1:d,x2:f,y1:g,y2:y}}},label:{fromFn(l,c,d){const f=l.previousDatum??c;let{x:g,y,rotationCenterX:v,rotationCenterY:w,rotation:S}=f,x=l.opacity;return d==="removed"||i(f.y)?S=c.rotation:(d==="added"||i(l.datum.y))&&({x:g,y,rotationCenterX:v,rotationCenterY:w,rotation:S}=c,x=0),{x:g,y,rotationCenterX:v,rotationCenterY:w,rotation:S,opacity:x,phase:uc[d]}},toFn(l,c,d){var x;const{x:f,y:g,rotationCenterX:y,rotationCenterY:v}=c;let w=0,S=1;return d==="added"?w=c.rotation:d==="removed"?(S=0,w=c.rotation):w=QCe(((x=l.previousDatum)==null?void 0:x.rotation)??c.rotation,c.rotation),{x:f,y:g,rotationCenterX:y,rotationCenterY:v,rotation:w,opacity:S,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){const{translationX:d,translationY:f}=l;return{translationX:d,translationY:f,phase:uc.updated}},toFn(l,c){const{translationX:d,translationY:f}=c;return{translationX:d,translationY:f}}}}}function C6(){return(e,t)=>({translationX:t.translationX,translationY:t.translationY})}function _I(){return(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})}function IF(){return(e,t)=>{const{x1:n,x2:i,y1:s,y2:r}=t;return{x1:n,x2:i,y1:s,y2:r}}}function w6(){return(e,t)=>{const{x1:n,x2:i,y1:s,y2:r}=t;return{x:n,y:s,width:i-n,height:r-s}}}var S6=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(S6||{});function qV(e,t){var n,i,s,r;return e.domain===t.domain&&e.rangeExtent===t.rangeExtent&&e.nice===t.nice&&e.gridLength===t.gridLength&&e.visibleRange[0]===t.visibleRange[0]&&e.visibleRange[1]===t.visibleRange[1]&&((n=e.initialPrimaryTickCount)==null?void 0:n.unzoomed)===((i=t.initialPrimaryTickCount)==null?void 0:i.unzoomed)&&((s=e.initialPrimaryTickCount)==null?void 0:s.zoomed)===((r=t.initialPrimaryTickCount)==null?void 0:r.zoomed)}var Sh=class x6{constructor(t,n){this.moduleCtx=t,this.scale=n,this.id=Sc(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Iy,this.dataDomain={domain:[],clipped:!1},this.title=new xc,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new jt({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new _b({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new _b({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new jt({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new to({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new jt({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new jt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new _b({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new _b({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new _b({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=no.select(this.tickLabelGroup,UC,!1),this.line=new $1,this.tick=new ky,this.gridLine=new U1,this.label=this.createLabel(),this.defaultTickMinSpacing=x6.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new Vi,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new rye(()=>{const{direction:i,boundSeries:s}=this;return Ud(s.flatMap(r=>r.getFormatterContext(i)))}),this.moduleMap=new hB,this.range=this.scale.range.slice(),this.crossLines.forEach(i=>this.initCrossLine(i)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",i=>this.onMouseMove(i)))}set crossLines(t){const{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(i=>this.detachCrossLine(i)),this._crossLines=t.map(i=>{const s=new n;return s.set(i),s}),this._crossLines.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(t){}onMouseMove(t){const n=this.tickLabelGroup.pickNode(t.currentX,t.currentY),i=n==null?void 0:n.datum,{textUntruncated:s=void 0}=i??{};s!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:t.currentX,canvasY:t.currentY,showArrow:!1},[{type:"structured",title:s}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(t){const{range:n,scale:i}=this,s=(n[1]-n[0])/(t[1]-t[0]),r=s*t[0],o=n[0]-r;i.range=[o,o+s]}updateScale(){const{range:[t,n]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(i=>{i.clippedRange=[t,n]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,n=0){const[i,s]=Ys(this.range);return t>=i-n&&t<=s+n}getRangeOverflow(t){const{range:n,visibleRange:i}=this,s=(n[1]-n[0])/(i[1]-i[0]),[r,o]=Ys([n[0]-s*i[0],n[0]-s*i[0]+s]);return t<r?t-r:t>o?t-o:0}createDatumFormatter(t,n){}onGridLengthChange(t,n){n^t&&this.onGridVisibilityChange(),this.crossLines.forEach(i=>this.initCrossLine(i))}onGridVisibilityChange(){}createLabel(){return new Di}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(t,n,i=this.label){const s={border:i.border,color:i.color,cornerRadius:i.cornerRadius,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,padding:i.padding,spacing:i.spacing};let r;i.itemStyler&&(r=this.cachedCallWithContext(i.itemStyler,{...t,...s}));const o=Rn(r,n,s);return{border:o.border,color:o.color,cornerRadius:o.cornerRadius,fill:o.fill,fillOpacity:o.fillOpacity,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,padding:o.padding,spacing:o.spacing}}getTickSize(t=this.tick){return t.enabled?t.size:0}processData(){this.invalidateLayoutCache();const{includeInvisibleDomains:t,boundSeries:n,direction:i}=this,r=(t?n:n.filter(o=>o.isEnabled())).map(o=>o.getDomain(i));this.setDomains(...r)}setDomains(...t){let n,i;t.length>0?{domain:n,animatable:i}=this.scale.normalizeDomains(...t):(n=[],i=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=i}calculateDomain(t){const{dataDomain:{domain:n},range:i,nice:s,scale:r,gridLength:o}=this,a=ZC(i),l=[0,1];this.updateScale();const{unzoomedTickLayoutCache:c}=this;let d;if(c==null||!qV(c,{domain:n,rangeExtent:a,nice:s,gridLength:o,visibleRange:l,initialPrimaryTickCount:t})){const f=r.range;this.setScaleRange([0,1]);const g=s?0:2;d=this.calculateTickLayout(n,g,[0,1],t),r.range=f,this.unzoomedTickLayoutCache={domain:n,rangeExtent:a,nice:s,gridLength:o,visibleRange:l,initialPrimaryTickCount:t,tickLayout:d}}else d=c.tickLayout;return this.updateScale(),r.domain=d.niceDomain,{unzoomedTickLayout:d,domain:r.domain}}calculateLayout(t,n){this.chartLayout=n;const{visibleRange:i,nice:s}=this,r=i[0]===0&&i[1]===1,{unzoomedTickLayout:o,domain:a}=this.calculateDomain(t);let l;if(r)l=o;else{const{range:v,gridLength:w}=this,S=ZC(v),x=s?1:2,{tickLayoutCache:M}=this;M==null||!qV(M,{domain:a,rangeExtent:S,nice:s,gridLength:w,visibleRange:i,initialPrimaryTickCount:t})?(l=this.calculateTickLayout(a,x,i,t),this.tickLayoutCache={domain:a,rangeExtent:S,nice:s,gridLength:w,visibleRange:i,initialPrimaryTickCount:t,tickLayout:l}):l=M.tickLayout}const{rawTickCount:c=0,fractionDigits:d,bbox:f}=l,g=o.rawTickCount??0,y=c!==0&&g!==0?{zoomed:c,unzoomed:g}:void 0;return this.tickLayout=l.layout,this.layout.label={fractionDigits:d,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:y,bbox:f}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.update(t)})}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:n,crossLineLabelGroup:i,gridGroup:s,translation:r}=this,o=Math.floor(r.x),a=Math.floor(r.y);s.setProperties({translationX:o,translationY:a}),t.setProperties({translationX:o,translationY:a}),n.setProperties({translationX:o,translationY:a}),i.setProperties({translationX:o,translationY:a})}tickFormatter(t,n,i,s,r,o="long"){const{moduleCtx:a,label:l}=this,{formatManager:c}=a,d=i?this.primaryLabel:void 0,f=this.tickFormatParams(t,n,s,r),g=this.formatterBoundSeries.get();let y,v,w;if(f.type==="number")y=f.fractionDigits;else if(f.type==="date"){const{unit:I,step:P,epoch:N}=f;v={unit:I,step:P,epoch:N},w=f.truncateDate}const S=this.uncachedCallWithContext.bind(this),x={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:t,boundSeries:g},M=d??l,A=i?l.format:void 0,k={specifier:qC.mergeSpecifiers(d==null?void 0:d.format,l.format),truncateDate:w};return(I,P)=>{const N=this.datumFormatParams(I,x,y,v,o);return N.value=I,M.formatValue(S,N,P,{specifier:A,dateStyle:o,truncateDate:w})??c.format(S,N,k)??c.defaultFormat(N,k)}}formatDatum(t,n,i,s,r,o,a,l,c,d){if(n==null)return"";const{moduleCtx:f,direction:g,dataDomain:y}=this;l??(l=y.domain);const{formatManager:v}=f,w=this.formatterBoundSeries.get();let S;switch(i){case"crosshair":case"annotation-label":S=this.layout.label.fractionDigits+1;break;case"series-label":S=2;break;case"tooltip":S=3;break;case"legend-label":S=void 0;break}const x=this.datumFormatParams(n,{source:i,datum:o,seriesId:s,legendItemName:r,key:a,property:g,domain:l,boundSeries:w},S,void 0,"long"),{type:M,value:A}=x,k=this.createCallWithContext(t),I=(c==null?void 0:c.formatValue(k,M,A,d??x))??v.format(k,x)??this.label.formatValue(k,x,NaN)??v.defaultFormat(x);return String(I)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(t=>t.isEnabled())}clipTickLines(t,n,i,s){this.tickLineGroup.setClipRect(new Xe(t,n,i,s))}clipGrid(t,n,i,s){this.gridGroup.setClipRect(new Xe(t,n,i,s))}getTitleFormatterParams(t){var s;const{direction:n}=this,i=this.formatterBoundSeries.get();return{domain:t,direction:n,boundSeries:i,defaultValue:(s=this.title)==null?void 0:s.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:ci.is(t)||gc.is(t),getCanvasBounds:()=>Qi.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,i)=>(i.getKeyProperties(this.direction).forEach(r=>n.add(r)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleInvert:n=>t.invert(n,!0),scaleInvertNearest:n=>t.invert(n,!0),formatScaleValue:(n,i,s)=>this.formatDatum(void 0,n,i,void 0,void 0,void 0,void 0,void 0,s),attachLabel:n=>this.attachLabel(n),inRange:(n,i)=>this.inRange(n,i),getRangeOverflow:n=>this.getRangeOverflow(n),pickBand:n=>this.pickBand(n)}}pickBand(t){if(!Ch.is(this.scale))return;const{scale:n,range:i}=this,s=n.invert(this.isVertical()?t.y:t.x,!0),r=n.bandwidth??0,a=((n.step??0)-r)/2,l=n.convert(s),c=l-a,d=l+r+a;return{id:this.id,value:s,band:[hM(c,i),hM(d,i)],position:l}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(t,...n){const{callbackCache:i,chartService:s}=this.moduleCtx;return i.call([this,s],t,...n)}uncachedCallWithContext(t,...n){const{chartService:i}=this.moduleCtx;return yc([this,i],t,...n)}createCallWithContext(t){const{chartService:n}=this.moduleCtx;return(i,...s)=>yc([t,this,n],i,...s)}};Sh.defaultTickMinSpacing=50;Sh.CrossLineConstructor=No;L([F],Sh.prototype,"nice",2);L([F],Sh.prototype,"reverse",2);L([F],Sh.prototype,"keys",2);L([F],Sh.prototype,"interval",2);L([F],Sh.prototype,"title",2);L([Tg((e,t,n)=>e.onGridLengthChange(t,n))],Sh.prototype,"gridLength",2);var fB=Sh;function ka(e){return e instanceof Date?e.getTime():e}function dD(e){return e<pC?"millisecond":e<tg?"second":e<Um?"minute":e<Um*23?"hour":e<28*ly?"day":e<gM?"month":"year"}function gB(e){if(e.length===0)return"millisecond";if(e.length===1)return Y1(e[0]);let t=1/0;for(let n=1;n<e.length;n++)t=Math.min(t,Math.abs(e[n].valueOf()-e[n-1].valueOf()));return dD(t)}function Y1(e){return cl("second",e)<e?"millisecond":cl("minute",e)<e?"second":cl("hour",e)<e?"minute":cl("day",e)<e?"hour":cl("month",e)<e?"day":cl("year",e)<e?"month":"year"}function pB(e){const[t,n]=e.length===0?[0,0]:Ys([e[0].valueOf(),e[e.length-1].valueOf()]),i=new Date(t).getFullYear(),s=new Date(n).getFullYear();if(i!==s)return;const r=new Date(t).getMonth(),o=new Date(n).getMonth();if(r!==o)return"year";const a=new Date(t).getDate(),l=new Date(n).getDate();return a!==l?"month":"day"}function M6(e,t,n){if(n==null||n[0]===0&&n[1]===1)return{ticks:e,count:e.length,firstTickIndex:0};const i=At(0,Math.floor(n[0]*e.length),e.length),s=At(0,Math.ceil(n[1]*e.length),e.length),r=t?e.length-s:i,o=t?e.length-i:s;return{ticks:e.slice(r,o),count:e.length,firstTickIndex:r}}var yw=class D6 extends Ch{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(t){return t instanceof D6}set domain(t){this._domain!==t&&(this.invalid=!0,this._domain=t,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...t){let n;const i=new Set;let s=!0;for(const r of t)i.has(r)||(i.add(r),n==null?n=ZV(r):(s&&(s=JCe(r,n)),n=ZV([...n,...r])));return n??(n=[]),{domain:n,animatable:s}}toDomain(t){}invert(t,n=!1){this.refresh();const i=n?this.bandwidth/2:0,s=this.invertNearestIndex(Math.max(0,t-i));return n||t===this.ordinalRange(s)?this.domain[s]:void 0}ticks(t,n=this.domain,i){const{bands:s}=this;let{tickCount:r}=t;if(r===0){const w=s.length>1?1:0;return{ticks:[s[w]],count:void 0,firstTickIndex:w}}let o=r!=null&&r!==0?s.length/r|0:1;if(o=SF(o),o<=1)return M6(n,!1,i);r=s.length/o|0;const a=o*r,l=SF((s.length-a)/2|0),c=At(0,Math.floor(((i==null?void 0:i[0])??0)*s.length),s.length),d=At(0,Math.ceil(((i==null?void 0:i[1])??1)*s.length),s.length),f=Math.floor((c-l)/o)*o+l,g=Math.ceil((d-l)/o)*o+l,y=[];for(let w=f;w<g;w+=o)w>=0&&w<s.length&&y.push(s[w]);let v=y.length>0?this.findIndex(y[0]):void 0;return v!=null&&(v=Math.floor((v-l)/o)),{ticks:y,count:void 0,firstTickIndex:v}}findIndex(t){const{index:n,indexInitialized:i}=this;if(!i){const{domain:s}=this;for(let r=0;r<s.length;r++)n.set(ka(s[r]),r);this.indexInitialized=!0}return n.get(ka(t))}};function ZV(e){let t;const n=new Set;for(const i of e){const s=ka(i),r=n.size;n.add(s),n.size!==r?t==null||t.push(i):t??(t=e.slice(0,n.size))}return t??e}function JCe(e,t){let n=-1;for(const i of e){const s=t.indexOf(i);if(s===-1)n=1/0;else{if(s<=n)return!1;n=s}}return!0}function mB(e,t){return e.valueOf()-t.valueOf()}function ewe(e){let t=NaN;const n=[];for(const i of e){const s=i.valueOf();t!==s&&n.push(i),t=s}return n}function kF(e){const t=e.slice().sort(mB);return yB(t)==null?ewe(t):t}function yB(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let n=-1/0*t;for(const i of e){const s=i.valueOf();if(Math.sign(s-n)!==t)return;n=s}return t}var Wi=(e,t)=>({duration:Io(e)*t,timeInterval:e,step:t}),LF=[Wi({unit:"second"},1),Wi({unit:"second"},5),Wi({unit:"second"},15),Wi({unit:"second"},30),Wi({unit:"minute"},1),Wi({unit:"minute"},5),Wi({unit:"minute"},15),Wi({unit:"minute"},30),Wi({unit:"hour"},1),Wi({unit:"hour"},3),Wi({unit:"hour"},6),Wi({unit:"hour"},12),Wi({unit:"day"},1),Wi({unit:"day"},2),Wi({unit:"day",step:7},1),Wi({unit:"day",step:7},2),Wi({unit:"day",step:7},3),Wi({unit:"month"},1),Wi({unit:"month"},2),Wi({unit:"month"},3),Wi({unit:"month"},4),Wi({unit:"month"},6),Wi({unit:"year"},1)],A6=[1,2,5,10];function XV(e,t){return Math.abs(Math.round(e)-e)<t}function R6(e,t,n){return Math.abs(t-e)>=n?Math.abs(t-e)/n+1:1}function hD(e,t,n,i,s,r){if(e===t)return{ticks:[e],count:1,firstTickIndex:0};if(n<2)return{ticks:[e,t],count:2,firstTickIndex:0};const o=yM(e,t,n,i,s);if(!Number.isFinite(o))return{ticks:[],count:0,firstTickIndex:void 0};let a=e,l=t;if(XV(a/o,1e-12)||(a=Math.ceil(a/o)*o),XV(l/o,1e-12)||(l=Math.floor(l/o)*o),r!=null){const f=l-a,g=t-e,y=e+g*r[0],v=e+g*r[1];r=[(y-a)/f,(v-a)/f]}const{ticks:c}=q1(a,l,o,r),d=c.at(0);return{ticks:c,count:R6(a,l,o),firstTickIndex:d==null?void 0:Math.round((d-a)/o)}}var twe=Math.floor(2*d6/cB*10)/10;function QV({timeInterval:e,step:t}){const n=Io(e)*t,i=mM(e),s=i?Io(i):void 0;return n<=(s??1/0)*twe}function T6(e,{weekStart:t}){if(e.unit==="day"&&e.step===7)return t}function K1(e,t,n,i,s,{weekStart:r,primaryOnly:o=!1,targetInterval:a}){if(n<=0)return;const l=a??Math.abs(t-e)/Math.max(n,1),c=LF.findLast(y=>(!o||QV(y))&&l>y.duration),d=LF.find(y=>(!o||QV(y))&&l<=y.duration);if(c==null)return{unit:"millisecond",step:Math.max(yM(e,t,n,i,s),1)};if(d==null)return{unit:"year",step:a==null?yM(e/gM,t/gM,n,i,s):1};const{timeInterval:f,step:g}=l-c.duration<d.duration-l?c:d;return{unit:f.unit,step:bg(f)*g,epoch:T6(f,{weekStart:r})}}function yM(e,t,n,i=0,s=1/0){if(e===t)return At(1,i,s);if(n<1)return NaN;const r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/n));let a=NaN,l=1/0,c=!1;for(const d of A6){const f=Math.ceil(r/(d*o)),g=f>=i&&f<=s;if(c&&!g)continue;const y=Math.abs(f-n);(l>y||c!==g)&&(c||(c=g),l=y,a=d)}return a*o}function JV(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function E6(e,t){const n=A_(t??",f");if(n==null)return;(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;const[r,o]=s.toExponential((n.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+JV(o)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const r=Math.floor(Math.log10(Math.abs(s))),o=n.type?6:12,a=s.toExponential(o-1).split(/[.e]/g)[1],l=JV(a);return Math.max(0,l-r)}))));const i=A5(n);return s=>i(Number(s))}function q1(e,t,n,i){if(!Number.isFinite(n)||n<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(e===t)return{ticks:[e],count:1,firstTickIndex:0};const s=10**D_(n),r=Math.min(e,t),o=Math.max(e,t);let a,l;if(i!=null&&(i[0]!==0||i[1]!==1)){const f=t-e,g=e+f*i[0],y=t-f*(1-i[1]);a=Math.min(g,y),l=Math.max(g,y)}else a=r,l=o;a=Math.floor(a*s)/s,l=Math.ceil(l*s)/s;const c=[];for(let f=0;;f+=1){const g=Math.round((r+n*f)*s)/s;if(g>o)break;g>=a&&g<=l&&c.push(g)}const d=c.at(0);return{ticks:c,count:R6(r,o,n),firstTickIndex:d==null?void 0:Math.round((d-r)/n)}}function JC(e,t){return e>=t?(ze.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function I6(e,t){const n=Math.abs(t-e),i=10**Math.floor(Math.log10(n));let s=1/0,r=[e,t];for(const o of A6){const a=o*i,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,d=1-n/Math.abs(c-l);s>d&&(s=d,r=[l,c])}return r}function k6(e,t,n,i,s,r){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};r=Math.max(r,e/(s+1)),n??(n=r),i??(i=e),n>i&&(n===r?n=i:i=n),n=Math.max(n,1);const o=Math.max(1,Math.floor(e/(t*n))),a=Math.min(o,Math.ceil(e/(t*i))),l=At(a,Math.floor(s/t),o);return{minTickCount:a,maxTickCount:o,tickCount:l}}var Z1=new Date(1970,0,4),eC=class L6 extends ci{constructor(){super([],[0,1]),this.type="time"}static is(t){return t instanceof L6}toDomain(t){return new Date(t)}convert(t,n){return super.convert((t==null?void 0:t.valueOf())??NaN,n)}invert(t){return new Date(super.invert(t))}niceDomain(t,n=this.domain){if(n.length<2)return[];let[i,s]=n;const r=4,o=this.getPixelRange();for(let a=0;a<r;a++){const[l,c]=iwe(i,s,t,o);if(ka(i)===ka(l)&&ka(s)===ka(c))break;i=l,s=c}return[i,s]}ticks(t,n=this.domain,i=[0,1],{extend:s=!1}={}){const{nice:r,interval:o,tickCount:a=ci.defaultTickCount,minTickCount:l,maxTickCount:c}=t;if(n.length<2)return;const d=n.map(ka),f=d[0],g=d[d.length-1];if(o!=null){const S=this.getPixelRange();return{ticks:vB({start:f,stop:g,interval:o,availableRange:S,visibleRange:i,extend:s})??nwe({start:f,stop:g,tickCount:a,minTickCount:l,maxTickCount:c,visibleRange:i,extend:s}),count:void 0}}else{if(r&&a===2)return{ticks:n,count:void 0};if(r&&a===1)return{ticks:n.slice(0,1),count:void 0}}const y=K1(f,g,a,l,c,{weekStart:Z1});if(y==null)return;const v=wl(y,new Date(f),new Date(g),{visibleRange:i,extend:s}),w=j1(y,new Date(f),new Date(g),{visibleRange:i,extend:s});return{ticks:v,count:void 0,firstTickIndex:w,timeInterval:y}}};function nwe({start:e,stop:t,tickCount:n,minTickCount:i,maxTickCount:s,visibleRange:r,extend:o}){const a=K1(e,t,n,i,s,{weekStart:Z1});return a?wl(a,new Date(e),new Date(t),{visibleRange:r,extend:o}):[]}function vB({start:e,stop:t,interval:n,availableRange:i,visibleRange:s,extend:r}){if(!n)return[];if(Tn(n)||typeof n=="string"){const f=wl(n,new Date(e),new Date(t),{visibleRange:s,extend:r});return JC(f.length,i)?void 0:f}const o=Math.abs(n);if(JC(Math.abs(t-e)/o,i))return;const a=LF.findLast(f=>o%f.duration===0);if(a){const{timeInterval:f,step:g,duration:y}=a,v={...f,step:g*bg(f)*Math.round(o/y),epoch:T6(f,{weekStart:Z1})};return wl(v,new Date(e),new Date(t),{visibleRange:s,extend:r})}let l=new Date(Math.min(e,t));const c=new Date(Math.max(e,t)),d=[];for(;l<=c;)d.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+o);return d}function iwe(e,t,n,i){const{interval:s}=n,r=Math.min(ka(e),ka(t)),o=Math.max(ka(e),ka(t));let a;if(Tn(s)||typeof s=="string")a=s;else{let f;typeof s=="number"&&(f=(o-r)/Math.max(s,1),JC(f,i)&&(f=void 0)),f??(f=n.tickCount??ci.defaultTickCount),a=K1(r,o,f,n.minTickCount,n.maxTickCount,{weekStart:Z1})}if(a==null)return[e,t];const l=wl(a,new Date(r),new Date(o),{extend:!0});if(l==null||l.length<2)return[e,t];const c=l[0],d=l[l.length-1];return e<=t?[c,d]:[d,c]}var zb=class P6 extends gc{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=ci.defaultTickCount,this._domain=[],this.isReversed=!1}static is(t){return t instanceof P6}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this._bands=void 0,this.isReversed=ej(t))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...t){const n=t.filter(i=>i.length>0);if(n.length===0)return{domain:[],animatable:!1};if(n.length===1){let i=n[0];const s=yB(i);return s===-1?i=i.slice().reverse():s==null&&(i=kF(i.slice())),{domain:i,animatable:!0}}return{domain:kF(n.flat()),animatable:!0}}ticks(t,n,i=[0,1],{extend:s=!1,dropInitial:r=!1}={}){const{interval:o,maxTickCount:a,tickCount:l=a}=t,{bands:c}=this;if(!c.length)return;if(this.refresh(),o==null){const{ticks:M,tickOffset:A,tickEvery:k}=this.getDefaultTicks(n,l,i,s);let I=M.length>0?this.findIndex(M[0]):void 0;return I=I!=null?Math.floor((I-A)/k):void 0,{ticks:M,count:void 0,firstTickIndex:I}}let d,f;n&&n.length>=2?(d=n[0].valueOf(),f=n[n.length-1].valueOf()):(d=c[0].valueOf(),f=c[c.length-1].valueOf());const[g,y]=this.range,v=Math.abs(y-g),w=vB({start:d,stop:f,interval:o,availableRange:v,visibleRange:i,extend:s})??this.getDefaultTicks(n,l,i,s).ticks,S=[];let x=-1;for(const M of w){const A=this.findIndex(M,1)??-1,k=A===x;x=A,!(r&&A===0)&&A!==-1&&!k&&S.push(c[A])}return{ticks:S,count:void 0,firstTickIndex:void 0}}stepTicks(t,n,i=[0,1],s=!0){const r=n?this.bandDomainIndices(n):void 0,o=this.ticksEvery(r,i,t,0,!1),a=o.at(-1),l=s&&t>1?r==null?void 0:r[1]:void 0,c=l!=null&&a!=null?this.findIndex(a):void 0;return c!=null&&l!=null&&l-c<t&&o.pop(),o}bandCount(t=[0,1]){const{domain:n}=this,i=Math.floor(t[0]*n.length);return Math.ceil(t[1]*n.length)-i}getDefaultTicks(t,n,i,s){const{bands:r}=this,o=Math.ceil(r.length/n),a=Math.floor(o/2),l=t?this.bandDomainIndices(t):void 0;return{ticks:this.ticksEvery(l,i,o,a,s),tickOffset:a,tickEvery:o}}bandDomainIndices(t){const n=ej(t),i=this.findIndex(t[n?t.length-1:0],1)??0,s=this.findIndex(t[n?0:t.length-1],1)??this.bands.length-1;return[i,s]}ticksEvery([t,n]=[0,this.bands.length],i,s,r,o){const{bands:a}=this,l=t,c=n-t+1;let d=l+Math.floor(i[0]*c),f=l+Math.ceil(i[1]*c);o&&(d-=s,f+=s),d=Math.max(d,0),f=Math.min(f,a.length);let g;if(s<=1)g=a.slice(d,f);else{g=[];for(let y=d;y<f;y+=1)(y-l+r)%s===0&&g.push(a[y])}return g}};function ej(e){return e.length>0&&e[0]>e[e.length-1]}var O6=5e7,$f=class N6 extends gc{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(t){return t instanceof N6}static supportsInterval(t,n){return tj(t,n)}set domain(t){t!==this._domain&&(this._domain=t,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(t){this._interval!==t&&(this._interval=t,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...t){return tB(...t)}convert(t,n){t instanceof Date||(t=new Date(t));const{domain:i,interval:s}=this;if(i.length<2)return NaN;if((n==null?void 0:n.clamp)!==!0&&s!=null){const r=t.valueOf(),[o,a]=IE(i,s),l=Math.min(o.valueOf(),a.valueOf()),c=Math.max(o.valueOf(),a.valueOf());if(r<l||r>=c+Io(s))return NaN}return super.convert(t,n)}calculateBands(t,n,i=!1){if(t===this.domain&&n[0]===0&&n[1]===1&&!i&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(t.length<2)return{bands:[],firstBandIndex:void 0};const{interval:s}=this;if(s==null)return{bands:[],firstBandIndex:void 0};const r={visibleRange:n,extend:i};if(!tj(t,s,r))return{bands:[],firstBandIndex:void 0};const[o,a]=IE(t,s);if(dB(s,o,a,r)>O6)return ze.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};const l=wl(s,o,a,r),c=j1(s,o,a,r);return{bands:l,firstBandIndex:c}}ticks({interval:t},n=this.domain,i=[0,1],{extend:s=!1}={}){if(n.length<2)return;const{bands:r,firstBandIndex:o}=this.calculateBands(n,i,s),a=this.interval?Io(this.interval):1/0;if(t==null)return{ticks:r,count:void 0,firstTickIndex:o};const l=Math.min(n[0].valueOf(),n[1].valueOf()),c=Math.max(n[0].valueOf(),n[1].valueOf());let d,f,g;Tn(t)||typeof t=="string"?(d=wl(t,n[0],n[1],{extend:!0,visibleRange:i}),f=0,g=d.length-1):(d=r,f=wm(0,r.length-1,A=>r[A].valueOf()<=l)??0,g=wm(0,r.length-1,A=>r[A].valueOf()<=c)??r.length-1);const y=[];let v;for(let A=f;A<=g;A++){const k=d[A].valueOf(),I=wm(0,r.length-1,N=>r[N].valueOf()<=k),P=I!=null&&I!=v?r[I]:void 0;v=I,P!=null&&k-P.getTime()<=a&&y.push(P)}let w,S;if(this.interval){const A=IE([new Date(l),new Date(c)],this.interval);w=A[0].valueOf(),S=A[1].valueOf()}else w=l,S=c;let x=sM(0,y.length-1,A=>y[A].valueOf()>=w)??0,M=wm(0,y.length-1,A=>y[A].valueOf()<=S)??y.length-1;return s&&(x=Math.max(x-1,0),M=Math.min(M+1,y.length-1)),{ticks:y.slice(x,M+1),count:y.length,firstTickIndex:o}}};function tj(e,t,n){const[i,s]=IE(e,t);return dB(t,i,s,n)<=O6}function IE(e,t){const n=cl(t,e[0]),i=cl(t,e[1]);return[n,i]}function swe(e,t,n,i,s){let[r,o]=Ys(t.map(Number));const a=Math.floor(n.unzoomed);if(a<=1){const[x,M]=rwe(r,o),A=5*Math.pow(2,-Math.ceil(Math.log2(s[1]-s[0]))),{ticks:k}=hD(x,M,A,void 0,void 0,s),I=[e.toDomain(x),e.toDomain(M)];return i&&I.reverse(),{domain:I,ticks:k}}if(r===o){const x=Math.floor(Math.log10(r)),M=Math.pow(10,x),A=Math.min(M,1),k=a-1;r-=A*Math.floor(k/2),o=r+A*k}let l=r,c=o;l=owe(l,c,a);const d=lwe(l,c,a),f=a-1;c=l+f*d;const g=Math.floor(l/d)*d,y=Math.floor(c/d)*d;g<=r&&y>=o&&(l=g,c=y);const v=[e.toDomain(l),e.toDomain(c)];i&&v.reverse();const w=d*((n.unzoomed-1)/(n.zoomed-1)),S=awe(l,w,Math.floor(n.zoomed));return{domain:v,ticks:S}}function rwe(e,t){let n=e,i=t,s=0;do{[n,i]=I6(n,i);const{ticks:r}=hD(n,i,5);if(r.length%2===1)return[n,i];n-=1,i+=1}while(s++<10);return[e,t]}function owe(e,t,n){e=Math.floor(e);const i=Math.abs(t-e)/(n-1),s=Math.floor(Math.log10(i)),r=Math.pow(10,s);return Math.floor(e/r)*r}function awe(e,t,n){const i=D_(t),s=Math.pow(10,i),r=[];for(let o=0;o<n;o++){const a=e+t*o;r.push(Math.round(a*s)/s)}return r}function lwe(e,t,n){const i=n-1,s=(t-e)/i;return cwe(s)}function cwe(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n;return i>0&&i<=1?n:i>1&&i<=2?2*n:i>2&&i<=5?5*n:i>5&&i<=10?10*n:e}function bB(){const e=new Map;return t=>{const n=e.get(t);return n?(e.set(t,n+1),`${t}_${n}`):(e.set(t,1),t)}}var uwe=18,dwe=[1,2,3,4,6,8,9,10,12],hwe=new Date(1970,0,4),F6=class{constructor(e){this.axis=e}estimateTickCount(e,t,n,i,s,r){const{scale:o,label:a}=this.axis,{defaultTickCount:l}=o,c=ZC(t),d=ZC(n);if(yw.is(o)){const f=e.length;let g=Math.ceil(c/(d*a.fontSize));return g=Math.min(g,f),{minTickCount:0,maxTickCount:f,tickCount:g}}return k6(c,d,s,r,l,i)}generateTicks({range:e,domain:t,reverse:n,primaryTickCount:i,defaultTickMinSpacing:s,visibleRange:r,niceMode:o,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:d,removeOverflowLabels:f,removeOverflowThreshold:g=0,sizeLimit:y}){const{label:v,primaryLabel:w,interval:{minSpacing:S,maxSpacing:x}}=this.axis,{parallel:M,fontFamily:A,fontSize:k,fontStyle:I,fontWeight:P}=v,N=i!==void 0,{defaultRotation:B,configuredRotation:z,parallelFlipFlag:W,regularFlipFlag:Y}=_Ce(v.rotation,M,l,a),{maxTickCount:K}=this.estimateTickCount(t,e,r,s,S,x),q=Number.isFinite(K)?K:10,te=GCe(M,z,d,W),re={fontFamily:A,fontSize:k,fontStyle:I,fontWeight:P},X=Eg.getMeasurer({font:re}),ne=v.enabled&&v.avoidCollisions,Z=z+B,Se=new uh,U=Ge=>{const We=Z+Ge;uh.updateTransformMatrix(Se,1,1,We,0,0)},ie=({ticks:Ge},We)=>(U(We),VCe(Ge,c,Se,X,v)),ve=(Ge,We)=>{const{niceDomain:it,ticks:$e,timeInterval:mt}=Ge;if(mt==null)return[];U(We);const Ht=gwe($e),{width:st,height:St}=HCe(v,w,it??t,mt,X);return jCe({width:st,height:St,spacing:Ht},c,Se)},J=(Ge,We)=>{if(!ne)return!1;const it=z!==0||We!==0,$e=BCe(v.minSpacing,it);return nj(ve(Ge,We),$e)||nj(ie(Ge,We),$e)};let he={tickDomain:[],niceDomain:t,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},Ee=0,we=0,Me=!0,Ce=!1;for(;!Ce&&Me&&Ee<=q;){we=0;for(const Ge of this.getTickStrategies({domain:t,range:e,reverse:n,niceMode:o,secondaryAxis:N,sizeLimit:y}))({tickData:he,index:Ee,autoRotation:we,terminate:Ce}=Ge({index:Ee,tickData:he,terminate:Ce,primaryTickCount:i,defaultTickMinSpacing:s,visibleRange:r,labelsOverlap(){return J(he,we)}}));Me=J(he,we)}const je=zCe(M,z,we,d,Y),Ye=z+we;if(f&&he.ticks.length>2){const Ge=ie(he,we),We=he.ticks.at(-1),it=Ge.at(-1);We!=null&&it!=null&&We.translation+it.label.width/2>e[1]+g&&(We.tickLabel=void 0,r[0]===0&&r[1]===1&&(he.ticks[0].tickLabel=void 0))}return{tickData:he,rotation:Ye,textBaseline:te,textAlign:je}}getTickStrategies({domain:e,range:t,reverse:n,niceMode:i,secondaryAxis:s,sizeLimit:r}){const{label:o,interval:a}=this.axis,l=o.enabled&&o.avoidCollisions,c=o.autoRotate===!0&&o.rotation===void 0,d=[];let f;a.values?f=2:s?f=1:f=0;const g=({index:y,tickData:v,primaryTickCount:w,defaultTickMinSpacing:S,visibleRange:x,terminate:M})=>this.createTickData(e,t,n,i,x,w,S,f,y,v,M,r);if(d.push(g),l&&c){const y=({index:v,tickData:w,labelsOverlap:S,terminate:x})=>({index:v,tickData:w,autoRotation:S()?ch(o.autoRotateAngle):0,terminate:x});d.push(y)}return d}createTickData(e,t,n,i,s,r,o,a,l,c,d,f){const{interval:g}=this.axis,{step:y,values:v,minSpacing:w,maxSpacing:S}=g,{maxTickCount:x,minTickCount:M,tickCount:A}=this.estimateTickCount(e,t,s,o,w,S),k=A-M,I=ve=>Math.max(A-ve,M),P=c.rawTicks,N=y==null&&v==null&&I(l)>M,B={domain:e,reverse:n,niceMode:i,visibleRange:s,primaryTickCount:r,tickGenerationType:a,minTickCount:M,maxTickCount:x,tickCount:0};B.tickCount=I(l);let z=this.getTicks(B);if(N&&ij(z.rawTicks,P)){let ve=l,J=k;for(;ve<=J;){l=(ve+J)/2|0,B.tickCount=I(l);const he=this.getTicks(B);ij(he.rawTicks,P)?ve=l+1:(z=he,J=l-1)}}const{tickDomain:W,niceDomain:Y,rawTicks:K,rawTickCount:q,rawFirstTickIndex:te,generatePrimaryTicks:re,primaryTicksIndices:X,alignment:ne,fractionDigits:Z,timeInterval:Se}=z,U=this.formatTicks({range:t,niceDomain:Y,rawTicks:K,rawFirstTickIndex:te,generatePrimaryTicks:re,primaryTicksIndices:X,alignment:ne,fractionDigits:Z,timeInterval:Se,sizeLimit:f}),ie={tickDomain:W,niceDomain:Y,rawTicks:K,rawTickCount:q,timeInterval:Se,fractionDigits:Z,ticks:U};return l+=1,d||(d=y!=null||v!=null),{tickData:ie,index:l,autoRotation:0,terminate:d}}getTimeIntervalTicks(e,t,n,i,s,r){const o=mM(s);if(o==null)return;const{scale:a}=this.axis;if(!eC.is(a)&&!gc.is(a))return;r&&(e=[1-e[1],1-e[0]]);const l=Math.min(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf()),c=Math.max(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf());let[d,f]=uB(new Date(l),new Date(c),e);d=cl(o,d),d.valueOf()>=l&&(d=f6(o,d)),f=h6(o,f),f.valueOf()<=c&&(f=g6(o,f));const g=wl(o,d,f),y=Io(s);let v=new Set;const w=zb.is(a),S=[],x={...i,interval:s};let M,A,k=0;if(zb.is(a)){const P=this.axis.minimumTimeGranularity,N=Nu(s);M=P!=null&&Io(P)>=Io(N)?2:3,A=1;const B=t/n,z=a.bandCount(e)/(B*uwe);k=dwe.findLast(W=>z>=W)??1}else $f.is(a)&&(a.interval==null||Io(a.interval)>=y)?M=1:(M=0,A=2);for(let P=0;P<g.length-1;P+=1){const N=g[P],B=g[P+1],z=P===0,W=P===g.length-2,Y=B.valueOf()-N.valueOf(),K=[Math.max((l-N.valueOf())/Y,0),Math.min((c-N.valueOf())/Y,1)];let q;switch(M){case 0:q=fwe(x.interval,[N,B],K,!0).ticks;break;case 1:case 3:const ne=a.ticks(x,[N,B],K,{extend:!0,dropInitial:!0});q=(ne==null?void 0:ne.ticks)??[];break;case 2:q=a.stepTicks(k,[N,B],void 0,!W);break}if(Jme(q,ne=>ne.valueOf()<N.valueOf()),W||eye(q,ne=>{switch(M){case 0:case 3:return ne.valueOf()+y>B.valueOf();case 1:case 2:return ne.valueOf()>=B.valueOf()}}),q.length===0)continue;const te=q[0],re=mB(te,N);(M===0?re===0:re<=y)&&(!w||!z)&&v.add(S.length),S.push(...q)}return(v.size===0||v.size===1&&v.has(0))&&(v=void 0),{ticks:S,tickCount:void 0,firstTickIndex:void 0,primaryTicksIndices:v,alignment:A}}getTicks({domain:e,reverse:t,niceMode:n,visibleRange:i,tickGenerationType:s,tickCount:r,minTickCount:o,maxTickCount:a,primaryTickCount:l}){const{axis:c}=this,{primaryLabel:d,scale:f,interval:g}=c,y={nice:n===0,interval:g.step,tickCount:r,minTickCount:o,maxTickCount:a},v={...y,nice:n===0||n===1};let w;s===1&&l!=null&&ci.is(f)&&(w=swe(f,e,l,t,i));const S=n===0?(w==null?void 0:w.domain)??f.niceDomain(y,e):e;let x=S,M,A,k,I,P,N;const B=(d==null?void 0:d.enabled)===!0&&v.interval==null,z=f.domain;switch(f.domain=S,s){case 2:if(x=g.values,M=g.values,A=M.length,zb.is(f)?N=1:$f.is(f)&&(N=2),ci.is(f)){const[Y,K]=Ys(S.map(Number));M=M.filter(q=>Number(q)>=Y&&Number(q)<=K).sort((q,te)=>Number(q)-Number(te))}break;case 1:if(w)M=w.ticks,A=w.ticks.length;else{const Y=f.ticks(v,S,i);M=(Y==null?void 0:Y.ticks)??[],A=Y==null?void 0:Y.count}break;default:{if(S.length>0&&v.interval==null&&($f.is(f)||B&&(eC.is(f)||zb.is(f)))){const q=S,te=Math.min(q[0].valueOf(),q[q.length-1].valueOf()),re=Math.max(q[0].valueOf(),q[q.length-1].valueOf());I=K1(te,re,r,o,a,{weekStart:d==null?hwe:void 0,primaryOnly:!0})}let Y;zb.is(f)?Y=c.minimumTimeGranularity:$f.is(f)&&(Y=f.interval),Y!=null&&I!=null&&Io(Y)>=Io(I)&&(I=Y);const K=I?this.getTimeIntervalTicks(i,r,a,v,I,t):void 0;if(K)({ticks:M,tickCount:A,firstTickIndex:k,primaryTicksIndices:P,alignment:N}=K);else{const q=$f.is(f)&&v.interval==null&&I!=null?{...v,interval:I}:v,te=f.ticks(q,S,i);if(M=(te==null?void 0:te.ticks)??[],A=te==null?void 0:te.count,k=te==null?void 0:te.firstTickIndex,eC.is(f)||gc.is(f)){const re=v,X=typeof re.interval=="number"?dD(re.interval):re.interval;I??(I=X??(te==null?void 0:te.timeInterval))}}}}const W=M.reduce((Y,K)=>Math.max(Y,typeof K=="number"?D_(K):0),0);return B||(P=void 0),f.domain=z,{tickDomain:x,niceDomain:S,rawTicks:M,rawTickCount:A,rawFirstTickIndex:k,generatePrimaryTicks:B,primaryTicksIndices:P,alignment:N,fractionDigits:W,timeInterval:I}}formatTicks({niceDomain:e,range:t,rawTicks:n,rawFirstTickIndex:i=0,generatePrimaryTicks:s,primaryTicksIndices:r,alignment:o,fractionDigits:a,timeInterval:l,sizeLimit:c=1/0}){const{axis:d}=this,{label:f,scale:g}=d,y=g.domain;g.domain=e;const v=s?"component":"long",w=f.enabled?d.tickFormatter(e,n,!1,a,l,v):void 0,S=l!=null?mM(l):void 0,x=s?d.tickFormatter(e,n,!0,a,S,v):void 0,M=(g.bandwidth??0)/2,A=[],k=eC.is(g)||gc.is(g),I=bB(),P=d.direction==="y",N=(Ch.is(g)?g.bandwidth:null)??1/0,B={font:f,maxWidth:P?c:N,maxHeight:P?N:c,overflow:f.truncate?"ellipsis":"hide",textWrap:f.wrapping};for(let z=0;z<n.length;z++){const W=n[z],Y=g.convert(W,{alignment:o})+M;if(t.length>0&&!d.inRange(Y,.001))continue;const K=(r==null?void 0:r.has(z))??!1;let q=K?x==null?void 0:x(W,z):w==null?void 0:w(W,z);const te=q??String(W);f.avoidCollisions&&(q=tD.wrapText(te,B)||q);let re;const X=k?W==null?void 0:W.valueOf():void 0;Number.isFinite(X)?re=I(`v:${X}`):re=I(`l:${q}`),A.push({index:z+i,tick:W,tickId:re,tickLabel:q,textUntruncated:q!=null&&te!==q?te:void 0,translation:Math.floor(Y),primary:K})}return g.domain=y,A}};function nj(e,t=0){const n=[];for(const i of e){const{x:s,y:r}=i.point;let{width:o,height:a}=i.label;if(o+=t,a+=t,n.some(l=>w5(l,s,r,o,a)))return!0;n.push({x:s,y:r,width:o,height:a})}return!1}function fwe(e,t,n,i){if(e==null)return{ticks:t,firstTickIndex:void 0};const s=t[0].valueOf(),r=t[1].valueOf();if(typeof e!="number"){const a=t[0],l=typeof e=="string"?{unit:e,epoch:a}:{...e,epoch:a},c=wl(l,t[0],t[1],{visibleRange:n,extend:i}),d=j1(l,t[0],t[1],{visibleRange:n,extend:i});return{ticks:c,firstTickIndex:d}}const o=[];for(let a=s;a<=r;a+=e)o.push(new Date(a));return{ticks:o,firstTickIndex:void 0}}function ij(e,t){var n,i;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(((n=e[s])==null?void 0:n.valueOf())!==((i=t[s])==null?void 0:i.valueOf()))return!1;return!0}function gwe(e){if(e.length<2)return 1/0;let t=0,n=e[0].translation;for(let i=1;i<e.length;i++){const s=e[i].translation,r=Math.abs(s-n);t=Math.max(t,r),n=s}return t}var CB=class extends Di{constructor(){super(...arguments),this.autoRotateAngle=335}};L([F],CB.prototype,"autoRotate",2);L([F],CB.prototype,"autoRotateAngle",2);var X1=class _6 extends fB{constructor(t,n){super(t,n),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new to({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new to({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Pa({zIndex:1})),this.tickLineGroupSelection=no.select(this.tickLineGroup,Pa,!1),this.gridLineGroupSelection=no.select(this.gridLineGroup,Pa,!1),this.gridFillGroupSelection=no.select(this.gridFillGroup,_s,!1),this.tempText=new UC({debugDirty:!1}),this.tempCaption=new Gi,this.tickGenerator=new F6(this),this.animationManager=t.animationManager,this.animationState=new oD("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let i;this.cleanup.register(t.eventsHub.on("layout:complete",s=>{const r=[s.chart.width,s.chart.height];i!=null&&!Jd(r,i)&&this.animationState.transition("resize"),i=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof _6}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new CB}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t,n){return this.updateDirection(),super.calculateLayout(t,n)}layoutCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{var i;(i=n.calculateLayout)==null||i.call(n,t)})}calculateTickLayout(t,n,i,s){var U,ie;const r=this.label.getSideFlag(),o=this.horizontal?-.5*Math.PI:0,a=Cs(o),l=Cs(o-Math.PI/2),c=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(n===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){const{bbox:ve,spacing:J}=this.tickBBox(t,[],[]);return{ticks:[],rawTickCount:0,tickDomain:t,niceDomain:t,fractionDigits:0,timeInterval:void 0,bbox:ve,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:J}}}const{range:d,reverse:f,defaultTickMinSpacing:g}=this,y=this.label.avoidCollisions&&this.horizontal&&(ci.is(this.scale)||gc.is(this.scale)),v=this.tickGenerator.generateTicks({domain:t,range:d,reverse:f,niceMode:n,visibleRange:i,primaryTickCount:s,defaultTickMinSpacing:g,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:r,sizeLimit:(U=this.chartLayout)==null?void 0:U.sizeLimit,removeOverflowLabels:y,removeOverflowThreshold:(ie=this.chartLayout)==null?void 0:ie.padding.right}),{tickData:w}=v,{ticks:S,tickDomain:x,rawTicks:M,rawTickCount:A,fractionDigits:k,timeInterval:I,niceDomain:P}=w,N=S.map(ve=>this.getTickLabelProps(ve,v)),{position:B,gridPadding:z,gridLength:W}=this,Y=B==="bottom"||B==="right"?-1:1,K=Y*z,q=Y*(W+z),te=this.calculateGridLines(S,K,q),re=this.calculateGridFills(S,K,q),X=this.calculateTickLines(S,Y),{bbox:ne,spacing:Z}=this.tickBBox(x,S,N);return{ticks:M,rawTickCount:A,tickDomain:x,niceDomain:P,fractionDigits:k,timeInterval:I,bbox:ne,layout:{ticks:S,gridLines:te,gridFills:re,tickLines:X,labels:N,spacing:Z}}}calculateGridLines(t,n,i){return t.map((s,r)=>this.calculateGridLine(s,r,n,i,t))}calculateGridLine({index:t,tickId:n,translation:i},s,r,o,a){const{gridLine:l,horizontal:c}=this,[d,f,g,y]=c?[i,r,i,o]:[r,i,o,i],{style:v}=l,{stroke:w,strokeWidth:S=0,lineDash:x}=v[t%v.length]??{};return{tickId:n,offset:i,x1:d,y1:f,x2:g,y2:y,stroke:w,strokeWidth:S,lineDash:x}}calculateGridFills(t,n,i){const{horizontal:s,range:r,type:o}=this,a=[];if(t.length==0)return a;let l=0;const c=!s&&o==="unit-time";if(c&&t[0].translation<r[0]||!c&&t[0].translation>r[0]){const f={tickId:`before:${t[0].tickId}`,translation:r[0]};a.push(this.calculateGridFill(f,-1,t[0].index,n,i,t)),l=1}return a.push(...t.map((f,g)=>this.calculateGridFill(f,g,f.index+l,n,i,t))),a}calculateGridFill({tickId:t,translation:n},i,s,r,o,a){const{gridLine:l,horizontal:c,range:d}=this,f=a[i+1],g=n,y=f?f.translation:d[1],[v,w,S,x]=c?[g,Math.max(r,o),y,Math.min(r,o)]:[Math.min(r,o),Math.min(g,y),Math.max(r,o),Math.max(g,y)],{fill:M,fillOpacity:A}=l.style[s%l.style.length]??{};return{tickId:t,x1:v,y1:w,x2:S,y2:x,fill:M,fillOpacity:A}}calculateTickLines(t,n){return t.map(i=>this.calculateTickLine(i,i.index,n,t))}calculateTickLine({primary:t,tickId:n,translation:i},s,r,o){const{horizontal:a,tick:l,primaryTick:c}=this,d=t&&(c!=null&&c.enabled)?c:l,f=-r*this.getTickSize(d),[g,y,v,w]=a?[i,0,i,f]:[0,i,f,i],{stroke:S,width:x}=d;return{tickId:n,offset:i,x1:g,y1:y,x2:v,y2:w,stroke:S,strokeWidth:x,lineDash:void 0}}update(){var o,a;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),l=>l.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(((o=this.primaryTick)==null?void 0:o.enabled)??!1),this.tickLabelGroup.visible=this.label.enabled||(((a=this.primaryTick)==null?void 0:a.enabled)??!1);const{tickLayout:n}=this;if(this.updateTitle(this.scale.domain,(n==null?void 0:n.spacing)??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),n){const{ticks:l}=n;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const c=l.map(f=>f.tickId),d=oye(t,c);this.animationState.transition("update",d)}}const{enabled:i,stroke:s,width:r}=this.line;this.lineNode.setProperties({stroke:s,strokeWidth:i?r:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();const t=this.getAxisTransform();this.tickLineGroup.datum=t,this.tickLabelGroup.datum=t,this.lineNodeGroup.datum=t,this.headingLabelGroup.datum=t}getAxisLineCoordinates(){const{horizontal:t}=this,[n,i]=Ys(this.range);return t?{x1:n,x2:i,y1:0,y2:0}:{x1:0,x2:0,y1:n,y2:i}}getTickLineBBox(t){const{translation:n}=t,{position:i,primaryTick:s}=this;let r=this.getTickSize();switch(s!=null&&s.enabled&&(r=Math.max(r,this.getTickSize(s))),i){case"top":return new Xe(n,-r,n,r);case"bottom":return new Xe(n,0,n,r);case"left":return new Xe(-r,n,r,n);case"right":return new Xe(0,n,r,n)}}lineNodeBBox(){const{position:t,seriesAreaPadding:n}=this,{y1:i,y2:s}=this.getAxisLineCoordinates(),r=s-i;switch(t){case"top":return new Xe(i,-n,r,n);case"bottom":return new Xe(i,0,r,n);case"left":return new Xe(-n,i,n,r);case"right":return new Xe(0,i,n,r)}}titleBBox(t,n){const{tempCaption:i}=this;return i.node.setProperties(this.titleProps(i,t,n)),i.node.getBBox()}tickBBox(t,n,i){const{tick:s,primaryTick:r,label:o,primaryLabel:a,title:l,position:c,horizontal:d,seriesAreaPadding:f}=this,g=[];if(g.push(this.lineNodeBBox()),s.enabled||r!=null&&r.enabled)for(const S of n)g.push(this.getTickLineBBox(S));const{tempText:y}=this;if(o.enabled)for(const S of i){if(!S.visible)continue;y.setProperties(S);const x=y.getBBox(!1);x&&g.push(x)}if(a!=null&&a.enabled&&c==="bottom"&&(g.push(new Xe(0,Xn.getLineHeight(o.fontSize)+2,1,this.getTickSize(s)+o.spacing+f)),a.format!=null)){const{format:x}=a,A=(Tn(x)?Object.values(x):[x]).reduce((k,I)=>Math.max(k,Fme(I)),0);g.push(new Xe(0,this.getTickSize(r??s)+a.spacing+f,1,A*Xn.getLineHeight(a.fontSize)+2))}let v=0;if(l.enabled){const S=Xe.merge(g);v=d?S.height:S.width,g.push(this.titleBBox(t,v))}return{bbox:Xe.merge(g),spacing:v}}titleProps(t,n,i){const{title:s}=this;if(!s.enabled)return t.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};t.enabled=!0,t.color=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.wrapping=s.wrapping;const r=(s.spacing??0)+i,{range:o}=this,a=(o[0]+o[1])/2;let l,c,d,f;switch(this.position){case"top":l=a,c=-r,d=0,f="bottom";break;case"bottom":l=a,c=r,d=0,f="top";break;case"left":l=-r,c=a,d=-.5*Math.PI,f="bottom";break;case"right":l=r,c=a,d=.5*Math.PI,f="bottom";break}const{formatter:g=v=>v.defaultValue}=s,y=this.cachedCallWithContext(g,this.getTitleFormatterParams(n));return t.text=y,{visible:!0,text:y,textBaseline:f,x:l,y:c,rotationCenterX:l,rotationCenterY:c,rotation:d}}getLabelBorderOffset(t){const n=QC(t);function i(s){return s}switch(this.position){case"top":return n.bottom;case"right":return n.left;case"bottom":return n.top;case"left":return n.right;default:this.position}}getTickLabelProps(t,n){const{horizontal:i,primaryLabel:s,primaryTick:r,seriesAreaPadding:o,scale:a}=this,{tickId:l,tickLabel:c="",translation:d,primary:f,textUntruncated:g}=t,y=f&&(s!=null&&s.enabled)?s:this.label,v=f&&(r!=null&&r.enabled)?r:this.tick,{rotation:w,textBaseline:S,textAlign:x}=n,{range:M}=a,A=this.label.getSideFlag(),k=-this.getLabelBorderOffset(y),I=A*(this.getTickSize(v)+y.spacing+o)+k,P=c!=="",N=i?d:I,B=i?-I:d;return{...this.getLabelStyles({value:c},void 0,y),tickId:l,rotation:w,text:c,textAlign:x,textBaseline:S,textUntruncated:g,visible:P,x:N,y:B,rotationCenterX:N,rotationCenterY:B,range:M}}updateSelections(){if(!this.tickLayout)return;const t=this.getAxisLineCoordinates(),{tickLines:n,gridLines:i,gridFills:s,labels:r}=this.tickLayout,o=a=>a.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLine.enabled?i:[],void 0,o),this.gridFillGroupSelection.update(this.gridLine.enabled?s:[],void 0,o),this.tickLineGroupSelection.update(n,void 0,o),this.tickLabelGroupSelection.update(r,void 0,o)}updateGridLines(){this.gridLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((t,n)=>{t.fill=n.fill,t.fillOpacity=n.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateTitle(t,n){const{caption:i}=this.title,s=this.titleProps(i,t,n);i.node.visible=s.visible,i.node.text=s.text,i.node.textBaseline=s.textBaseline,i.node.datum=s}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,n)=>{t.fill=n.color,t.text=n.text,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign??"center",t.pointerEvents=n.textUntruncated==null?1:0,t.setFont(n),t.setBoxing(n)})}animateReadyUpdate(t){const{animationManager:n}=this.moduleCtx,i=v6(this),s=b6(i);Os(this.id,"axis-group",n,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],s.group),Os(this.id,"line",n,[this.lineNode],s.line),Os(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(r,o)=>o.tickId,t),Os(this.id,"tick-labels",n,[this.tickLabelGroupSelection],s.label,(r,o)=>o.tickId,t),Os(this.id,"title",n,[this.title.caption.node],s.label,(r,o)=>o.tickId,t)}resetSelectionNodes(){Mr([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],C6()),Mr([this.gridLineGroupSelection,this.tickLineGroupSelection],IF()),Mr([this.gridFillGroupSelection],w6()),Mr([this.tickLabelGroupSelection],_I()),Mr([this.title.caption.node],_I()),Mr([this.lineNode],IF())}};L([F],X1.prototype,"thickness",2);L([F],X1.prototype,"maxThicknessRatio",2);L([F],X1.prototype,"position",2);var fD=X1,B6=["top","right","bottom","left"];function pwe(e){return typeof e=="string"&&B6.includes(e)}function mwe(e){const t=[],n=[],i=[...B6];for(const s of e)s instanceof fD&&(pwe(s.position)?n.push(s.position):t.push(s));for(const s of t){let r;do r=i.pop();while(r&&n.includes(r));if(r==null)break;s.position=r}}var ywe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function vwe(e,t,n){var c,d;const i=(f,g,y)=>{const v=[f];for(const w of ywe)w in g&&g[w]!=null&&v.push(`${w}=${g[w]}`);return y!=null&&y.seriesGrouping&&v.push(`seriesGrouping.groupId=${y==null?void 0:y.seriesGrouping.groupId}`),v.join(";")},s=new Map;let r=0;for(const f of e){const g=i(f.type,f.properties,n==null?void 0:n[r]);s.has(g)||s.set(g,[]),(c=s.get(g))==null||c.push([f,r++])}const o=new Map;r=0;for(const f of t){const g=i(f.type,f,f);o.has(g)||o.set(g,[]),(d=o.get(g))==null||d.push([f,r++])}if(![...s.keys()].some(f=>o.has(f)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const l=[];for(const[f,g]of o.entries())for(const[y,v]of g){const w=s.get(f);if(w==null||w.length<1){l.push({opts:y,targetIdx:v,idx:v,status:"add"}),s.delete(f);continue}const[S,x]=w.shift(),M=(n==null?void 0:n[x])??{},A=dh(M,y??{}),{groupIndex:k,stackIndex:I}=(A==null?void 0:A.seriesGrouping)??{};k!=null||I!=null?l.push({opts:y,series:S,diff:A,targetIdx:v,idx:x,status:"series-grouping"}):A?l.push({opts:y,series:S,diff:A,targetIdx:v,idx:x,status:"update"}):l.push({opts:y,series:S,targetIdx:v,idx:x,status:"no-op"}),w.length===0&&s.delete(f)}for(const f of s.values())for(const[g,y]of f)l.push({series:g,idx:y,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function Q1(e){var n;const{series:t}=e;return((n=t==null?void 0:t[0])==null?void 0:n.type)??"line"}function G6(e){const t=Q1(e);return $s.isCartesian(t)||SCe(t)}function bwe(e){const t=Q1(e);return $s.isPolar(t)||xCe(t)}function z6(e){const t=Q1(e);return $s.isTopology(t)||MCe(t)}function H6(e){const t=Q1(e);return $s.isStandalone(t)||DCe(t)}var Cwe=class extends hB{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&jm(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},PF="ag-charts-overlay",sj="ag-charts-dark-overlay",xm=class extends It{constructor(t,n){super(),this.className=t,this.defaultMessageId=n,this.enabled=!0}getText(t){return gn(this.text)?this.text.map(n=>n.text).join(""):t.t(this.text??this.defaultMessageId)}getElement(t,n,i,s){var r;if((r=this.content)==null||r.remove(),this.focusBox=s,this.renderer){const o={},a=yc(t,this.renderer,o);if(a instanceof HTMLElement)this.content=a;else{const l=Yt("div");l.innerHTML=a;const{firstElementChild:c}=l;c instanceof HTMLElement&&l.childElementCount===1?this.content=c:this.content=l}}else{const o=Yt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(gn(this.text)){const a=Yt("div");for(const l of this.text){const c=Yt("span",{color:l.color,fontSize:`${l.fontSize}px`,fontFamily:l.fontFamily??"inherit",fontWeight:String(l.fontWeight),fontStyle:l.fontStyle});c.innerText=l.text,a.appendChild(c)}o.appendChild(a)}else o.innerText=this.getText(i);this.content=o,n==null||n.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){o.style.opacity=String(a)},onStop(){o.style.opacity="1"}})}return this.content}removeElement(t=()=>{var i;return(i=this.content)==null?void 0:i.remove()},n){if(this.content){if(n){const{content:i}=this;n.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(s){i.style.opacity=String(s)},onStop(){t==null||t()}})}else t==null||t();this.content=void 0,this.focusBox=void 0}}};L([F],xm.prototype,"enabled",2);L([F],xm.prototype,"text",2);L([F],xm.prototype,"renderer",2);var vw=class extends It{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new xm("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new xm("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new xm("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new xm("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};L([F],vw.prototype,"darkTheme",2);L([F],vw.prototype,"loading",2);L([F],vw.prototype,"noData",2);L([F],vw.prototype,"noVisibleSeries",2);L([F],vw.prototype,"unsupportedBrowser",2);function wwe(e,t){const{animationDuration:n}=dM.add,i=n*t,s=Yt("div",`${PF}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i}ms linear 50ms both`}),r=Yt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Yt("p",{marginTop:"1em"});o.innerText=e;const a=Yt("div",`${PF}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Yt("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,r,o,a),s}var V6=(e=>(e[e.None=0]="None",e[e.Item=1]="Item",e[e.Series=2]="Series",e[e.OtherSeries=3]="OtherSeries",e[e.OtherItem=4]="OtherItem",e))(V6||{}),xh=class extends It{};L([F],xh.prototype,"fill",2);L([F],xh.prototype,"fillOpacity",2);L([F],xh.prototype,"stroke",2);L([F],xh.prototype,"strokeWidth",2);L([F],xh.prototype,"strokeOpacity",2);L([F],xh.prototype,"lineDash",2);L([F],xh.prototype,"lineDashOffset",2);var Mh=class extends It{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(e){switch(e){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(e){switch(e){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(e){return Rn(this.getItemHighlightStyle(e),this.getSeriesHighlightStyle(e))}};L([F],Mh.prototype,"enabled",2);L([F],Mh.prototype,"range",2);L([F],Mh.prototype,"bringToFront",2);L([F],Mh.prototype,"highlightedItem",2);L([F],Mh.prototype,"unhighlightedItem",2);L([F],Mh.prototype,"highlightedSeries",2);L([F],Mh.prototype,"unhighlightedSeries",2);var J1=class extends It{};L([F],J1.prototype,"strokeWidth",2);L([F],J1.prototype,"dimOpacity",2);L([F],J1.prototype,"enabled",2);var j6=class extends It{constructor(){super(...arguments),this.color="black"}};L([F],j6.prototype,"color",2);var Ml=class extends It{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};L([F],Ml.prototype,"type",2);L([F],Ml.prototype,"colorStops",2);L([F],Ml.prototype,"bounds",2);L([F],Ml.prototype,"gradient",2);L([F],Ml.prototype,"rotation",2);L([F],Ml.prototype,"reverse",2);var ki=class extends It{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};L([F],ki.prototype,"type",2);L([F],ki.prototype,"colorStops",2);L([F],ki.prototype,"bounds",2);L([F],ki.prototype,"gradient",2);L([F],ki.prototype,"rotation",2);L([F],ki.prototype,"scale",2);L([F],ki.prototype,"reverse",2);L([F],ki.prototype,"path",2);L([F],ki.prototype,"pattern",2);L([F],ki.prototype,"width",2);L([F],ki.prototype,"height",2);L([F],ki.prototype,"padding",2);L([F],ki.prototype,"fill",2);L([F],ki.prototype,"fillOpacity",2);L([F],ki.prototype,"backgroundFill",2);L([F],ki.prototype,"backgroundFillOpacity",2);L([F],ki.prototype,"stroke",2);L([F],ki.prototype,"strokeOpacity",2);L([F],ki.prototype,"strokeWidth",2);var ua=class extends It{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};L([F],ua.prototype,"type",2);L([F],ua.prototype,"url",2);L([F],ua.prototype,"rotation",2);L([F],ua.prototype,"scale",2);L([F],ua.prototype,"backgroundFill",2);L([F],ua.prototype,"backgroundFillOpacity",2);L([F],ua.prototype,"repeat",2);L([F],ua.prototype,"fit",2);var gD=class extends It{constructor(e=!0){super(),this.deprecated=e,this.item=new xh,this.series=new J1,this.text=new j6}set(e){return this.deprecated&&ze.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(e)}};L([F],gD.prototype,"item",2);L([F],gD.prototype,"series",2);L([F],gD.prototype,"text",2);var Dl=class extends It{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Mh,this.highlightStyle=new gD}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};L([F],Dl.prototype,"id",2);L([F],Dl.prototype,"visible",2);L([F],Dl.prototype,"focusPriority",2);L([F],Dl.prototype,"showInLegend",2);L([F],Dl.prototype,"cursor",2);L([F],Dl.prototype,"nodeClickRange",2);L([F],Dl.prototype,"highlight",2);L([F],Dl.prototype,"highlightStyle",2);var W6=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(W6||{}),U6=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(U6||{});function mC(e,t,n,i){if(mc(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(vg(e)){const s=e.pattern??n.pattern;let r=e.strokeWidth;s==="backward-slanted-lines"||s==="forward-slanted-lines"||s==="horizontal-lines"||s==="vertical-lines"?r??(r=n.strokeWidth):r??(r=0);const o=e.width??e.height??n.width,a=e.height??e.width??n.height;return{type:"pattern",pattern:s,width:o,height:a,path:e.path,padding:e.padding??n.padding,fill:e.fill??n.fill,fillOpacity:e.fillOpacity??n.fillOpacity,backgroundFill:e.backgroundFill??n.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??n.backgroundFillOpacity,stroke:e.stroke??n.stroke,strokeOpacity:e.strokeOpacity??n.strokeOpacity,strokeWidth:r,rotation:e.rotation??n.rotation,scale:e.scale??n.scale}}return oy(e)?{type:"image",url:e.url,width:e.width,height:e.height,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,rotation:e.rotation??i.rotation,repeat:e.repeat??i.repeat,fit:e.fit??i.fit}:e}function Fu(e,t,n,i){return!mc(e==null?void 0:e.fill)&&!vg(e==null?void 0:e.fill)&&!oy(e==null?void 0:e.fill)?e:{...e,fill:mC(e.fill,t,n,i)}}function $6(e,t,n,i){n==null||!mc(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=n[t.bounds],e.fillParams=i}function th(e,t,n,i){const s=(t==null?void 0:t.opacity)??1;e.fill=t==null?void 0:t.fill,$6(e,e.fill,n,i),e.fillOpacity=((t==null?void 0:t.fillOpacity)??1)*s,e.stroke=t==null?void 0:t.stroke,e.strokeOpacity=((t==null?void 0:t.strokeOpacity)??1)*s,e.strokeWidth=(t==null?void 0:t.strokeWidth)??0,e.lineDash=t==null?void 0:t.lineDash,e.lineDashOffset=(t==null?void 0:t.lineDashOffset)??0}var Y6=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(Y6||{}),Swe=.25,xwe=.125,ek=class{constructor(e,t,n,i){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=n.datum,this.seriesId=i.id}preventDefault(){this.defaultPrevented=!0}},BI=class{constructor(e,t){this.series=e,this.seriesGrouping=t,this.type="groupingChanged"}};function rj(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function AO(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var tk=class extends oY{constructor(e){var a;super(),this.cleanup=new Vi,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=ek,this.internalId=Sc(this),this.contentGroup=new to({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new to({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new to({name:`${this.internalId}-annotation`}),this.labelGroup=new to({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new hB,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new Rg,this._pickNodeCache=new z_,this.fireEventWrapper=l=>super.fireEvent(l);const{moduleCtx:t,pickModes:n,propertyKeys:i={},propertyNames:s={},canHaveAxes:r=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.propertyKeys=i,this.propertyNames=s,this.canHaveAxes=r,this.usesPlacedLabels=o,this.pickModes=n,this.cleanup.register((a=this.ctx)==null?void 0:a.eventsHub.on("highlight:change",l=>this.onChangeHighlight(l)))}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return(e=this.properties.tooltip)==null?void 0:e.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:n,type:i,visible:s}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:i,visible:s,seriesGrouping:t}),this.fireEvent(new BI(this,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,n){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),n==null||n.appendChild(this.annotationGroup)}detachSeries(e,t,n){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),n==null||n.removeChild(this.annotationGroup)}setSeriesIndex(e,t=!1){const n=this.bringToFront();return!t&&e===this.declarationOrder&&n===this._broughtToFront?!1:(this.declarationOrder=e,this._broughtToFront=n,this.setZIndex(n?Number.MAX_VALUE:e),this.fireEvent(new BI(this,this.seriesGrouping)),!0)}setZIndex(e){this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(e,t){const n=rj(e),i=n!=null?AO(this.resolveKeyDirection(n)):e,s=t==null?void 0:t[i],r=[];if(!s)return r;const o=(...a)=>{for(const l of a)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):r.push(l)};return o(...s.map(a=>this.properties[a])),r}getKeys(e){return this.getPropertyValues(AO(e),this.propertyKeys)}getKeyProperties(e){return this.propertyKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getPropertyValues(AO(e),this.propertyNames)}getFormatterContext(e){const{id:t}=this,n=this.getPropertyValues(e,this.propertyKeys),i=this.getPropertyValues(e,this.propertyNames),s=[];for(let r=0;r<n.length;r++)s.push({seriesId:t,key:n[r],name:i[r]});return s}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(i=>i.getDomain(e)).flat();return n.length!==0?t.concat(n):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,n){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;const{opacity:t=1}=this.getHighlightStyle();return t}getHighlightState(e,t,n,i){if(t)return 1;if((e==null?void 0:e.series)==null)return 0;if(this.isSeriesHighlighted(e,i)){const s=this.isItemHighlighted(e,n);return s==null||s?2:4}return 3}getHighlightStateString(e,t,n,i){switch(this.getHighlightState(e,t,n,i)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:default:return"none"}}onChangeHighlight(e){const t=e.previousHighlight,n=e.currentHighlight,i=this.getHighlightState(n),s=this.getHighlightState(t);if(this.setSeriesIndex(this.declarationOrder),i===s){this.hasChangesOnHighlight=!1;return}const{highlightedSeries:r,unhighlightedItem:o,unhighlightedSeries:a}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!sO(r)||!sO(o)||!sO(a)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(e,t){return(e==null?void 0:e.series)===this}isItemHighlighted(e,t){if(!((e==null?void 0:e.datumIndex)==null||t==null))return e.datumIndex===t}getHighlightStyle(e,t,n){var r;const i=(r=this.ctx.highlightManager)==null?void 0:r.getActiveHighlight(),s=this.getHighlightState(i,e,t,n);return this.properties.highlight.getStyle(s)}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,n=!1){const{pickModes:i,pickModeAxis:s,visible:r,contentGroup:o}=this;if(!r||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:g}=this.properties;a=typeof g.range=="number"?g.range:1/0,n||(n=g.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:g}=this.properties;a=typeof g=="number"?g:1/0,n||(n=g==="exact")}const l=i.filter(g=>!n||g===0),{x:c,y:d}=e,f=JSON.stringify({x:c,y:d,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const g of l){let y;switch(g){case 0:{const v=this.pickNodesExactShape(e);y=v.length===0?void 0:{datums:v,distance:0};break}case 1:{const v=this.pickNodeClosestDatum(e),w=(v==null?void 0:v.distance)===0?this.pickNodesExactShape(e):void 0;w!=null&&w.length!==0?y={datums:w,distance:0}:v?y={datums:[v.datum],distance:v.distance}:y=void 0;break}case 2:{const v=s!=null?this.pickNodeMainAxisFirst(e,s==="main-category"):void 0;y=v!=null?{datums:[v.datum],distance:v.distance}:void 0;break}}if(y&&y.distance<=a)return this._pickNodeCache.set(f,{pickMode:g,datums:y.datums,distance:y.distance})}return this._pickNodeCache.set(f,void 0)}pickNodesExactShape(e){const t=[];for(const n of this.contentGroup.pickNodes(e.x,e.y)){const i=n.closestDatum();i!=null&&i.missing!==!0&&t.push(i)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){var s;const n=R1(e.x,e.y,t),i=(s=n.nearest)==null?void 0:s.closestDatum();if(i!=null&&i.missing!==!0)return{datum:i,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireEvent(e){yc([this.properties,this.ctx.chartService],this.fireEventWrapper,e)}fireNodeClickEvent(e,t){const n=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}fireNodeDoubleClickEvent(e,t){const n=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:n=!0,itemId:i,legendItemName:s}=t??{};this.toggleSeriesItem(n,e,i,s)}onLegendItemClick(e){const{enabled:t,itemId:n,series:i,legendType:s}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=r!=null&&r===e.legendItemName;(i.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,s,n,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:n,series:i,numVisibleItems:s,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;i.id===this.id||l||a!=null?this.toggleSeriesItem(!0,r,n,o,e):t&&s===1?this.toggleSeriesItem(!0,r,void 0,o):this.toggleSeriesItem(!1,r,void 0,o)}toggleSeriesItem(e,t,n,i,s){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:r,itemId:n,legendItemName:(s==null?void 0:s.legendItemName)??i,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem(e,r,n,i)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getAxisValueText(e,t,n,i,s,r){const{id:o,properties:a}=this;return e.formatDatum(a,n,t,o,r,i,s)}getLabelText(e,t,n,i,s,r,o){if(e==null)return"";const{axes:a,canHaveAxes:l,ctx:c,id:d,properties:f}=this,g="series-label",y="legendItemName"in f?f.legendItemName:void 0,v={seriesId:this.id,...o},w=l?rj(i):void 0,S=w!=null?a[this.resolveKeyDirection(w)]:void 0;if(S!=null)return S.formatDatum(f,e,g,d,y,t,n,s,r,v);const{formatManager:x}=c,M=this.callWithContext.bind(this),A=I=>r.formatValue(M,I.type,I.value,v)??x.format(M,I)??String(e),k=this.getFormatterContext(i);switch(i){case"y":case"color":case"size":return A({type:"number",value:e,datum:t,seriesId:d,legendItemName:y,key:n,source:g,property:i,domain:s,boundSeries:k,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return A({type:"category",value:e,datum:t,seriesId:d,legendItemName:y,key:n,source:g,property:i,domain:s,boundSeries:k})}}getMarkerStyle(e,{datumIndex:t,datum:n,point:i},s,r=!1,o={size:(i==null?void 0:i.size)??e.size??0},a,l=!0){var S;const{itemStyler:c,fillGradientDefaults:d,fillPatternDefaults:f,fillImageDefaults:g}=e,y=l?this.getHighlightStyle(r,t):void 0,v=Rn(y,o,e.getStyle(),a);let w=Fu(v,d,f,g);if(c&&s){const x=(S=this.ctx.highlightManager)==null?void 0:S.getActiveHighlight(),M=this.getHighlightStateString(x,r,t),A=this.cachedCallWithContext(c,{seriesId:this.id,...w,...s,highlighted:r,highlightState:M,datum:n});w=Fu(Rn(A,w),d,f,g)}return w}applyMarkerStyle(e,t,n,i,{applyTranslation:s=!0,selected:r=!0}={}){const{shape:o,size:a=0}=e,l=this.visible&&a>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(th(t,e,i),s?t.setProperties({visible:l,shape:o,size:a,x:n==null?void 0:n.x,y:n==null?void 0:n.y,scalingCenterX:n==null?void 0:n.x,scalingCenterY:n==null?void 0:n.y}):t.setProperties({visible:l,shape:o,size:a}),r||(t.fillOpacity*=Swe,t.strokeOpacity*=xwe),typeof o=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const c=t.getBBox();if(n!=null&&c.isFinite()){const d=c.computeCenter(),[f,g]=["x","y"].map(y=>(e.strokeWidth??0)+Math.abs(d[y]-n[y]));n.focusSize=Math.max(c.width+f,c.height+g)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,s=dh(this.nodeDataDependencies,i)!=null;return s&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),s}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:n}=this,i=n.get(e);if(i!=null)return i;try{const s=t();return n.set(e,s),s}catch(s){ze.error(String(s))}}cachedCallWithContext(e,...t){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],e,...t)}callWithContext(e,...t){return yc([this.properties,this.ctx.chartService],e,...t)}formatTooltipWithContext(e,t,n){return e.formatTooltip([this.properties,this.ctx.chartService],t,n)}minTimeInterval(){}};L([ro({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],tk.prototype,"seriesGrouping",2);var Mwe=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=Yt("div"),this.svg=as("svg"),this.outerPath=as("path"),this.innerPath=as("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Yt("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,n){if(t!=null)if(e instanceof oo){const i=(r,o)=>{let{x:a,y:l}=Qi.toCanvasPoint(e,r,o);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},s=e.svgPathData(i);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let i;if(n){const s=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);i=new Xe(s,r,o-s,a-r)}else i=new Xe(e.x-t.x,e.y-t.y,e.width,e.height);II(this.div,i),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},n=this.element.parentElement;n==null||n.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&$n().getComputedStyle(t).opacity==="1"}},Dwe=class{constructor(e,t,n,i){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(Mu(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(Mu(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),fn(this.label1,"id",DI()),fn(this.label2,"id",DI()),Mu(this.label1,"display","none"),Mu(this.label2,"display","none"),this.label1.textContent=i,this.label2.textContent=i,this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),fn(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(i)}createAnnouncer(e){const t=Yt("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(n=>n(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],VC(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),VC(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},Awe={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function Rwe(e,t){for(const n of t)if("code"in n){if(n.code===e.code)return!0}else if(n.key===e.key&&(n.shift===void 0||n.shift===e.shiftKey)&&(n.ctrlOrMeta===void 0||n.ctrlOrMeta===e.ctrlKey||n.ctrlOrMeta===e.metaKey))return!0;return!1}function Twe(e){for(const[t,{activatesFocusIndicator:n=!0,bindings:i}]of fc(Awe))if(Rwe(e,i))return{name:t,activatesFocusIndicator:n}}function Ewe(e,t,n){const i=eB(e,n.datum,n.movedBounds);if(i!=null)return{x:i.canvasX,y:i.canvasY};const s=n.bounds;if(s!=null){if(s instanceof Xe){const{x:r,y:o}=s.computeCenter();return{x:t.x+r,y:t.y+o}}return Qi.toCanvas(s).computeCenter()}}function Iwe({bounds:e}){return e instanceof Xe?e:e!=null?Qi.toCanvas(e):Xe.NaN}function kwe(e,t,n){const{x:i,y:s}=Ewe(e,t,n)??{};if(i!==void 0&&s!==void 0)return{type:"keyboard",canvasX:i,canvasY:s}}function K6(e,t,n,i){let{top:s,right:r,bottom:o,left:a,width:l,height:c}=i;return a!=null?l!=null?r=n.width-a+l:r!=null&&(l=n.width-a-r):r!=null&&l!=null&&(a=n.width-r-l),s!=null?c!=null?o=n.height-s-c:o!=null&&(c=n.height-o-s):o!=null&&c!=null&&(s=n.height-o-c),l==null?c==null?(c=t,l=e):l=Math.ceil(e*c/t):c??(c=Math.ceil(t*l/e)),a==null&&(r==null?a=Math.floor((n.width-l)/2):a=n.width-r-l),s==null&&(o==null?s=Math.floor((n.height-c)/2):s=n.height-c-o),{x:a,y:s,width:l,height:c}}var oj=.1,aj=200,lj=12,Lwe=.5,Pwe=class{constructor(){this.events=new Rg,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:n}=this,i=Date.now(),s=i-n;this.t0=i;const r=.001,o=Math.ceil(s/(r*1e3))|0;let{x:a,y:l,vx:c,vy:d}=this;for(let f=0;f<o;f+=1){const g=a-e,y=l-t,v=-(aj*g+lj*c)/oj,w=-(aj*y+lj*d)/oj;c+=v*r,d+=w*r,a+=c*r,l+=d*r}Math.hypot(a-e,l-t)<Lwe?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=c,this.vy=d,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},UT=null;function O0(e){return e===""?"":(UT??(UT=Yt("div")),UT.textContent=String(e),UT.innerHTML.replace(/\n/g,"<br>"))}function g0(e,t){const{path:n,size:i}=e,{x:s,y:r}=e;n.clear();let o=!1;for(const[a,l]of t){const c=s+(a-.5)*i,d=r+(l-.5)*i;o?n.lineTo(c,d):n.moveTo(c,d),o=!0}n.closePath()}var Owe={circle({path:e,x:t,y:n,size:i}){const s=i/2;e.arc(t,n,s,0,Math.PI*2),e.closePath()},cross(e){g0(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){g0(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:n,size:i}){const s=i/4;n=n+s/2,e.arc(t-s,n-s,s,Ar(130),Ar(330)),e.arc(t+s,n-s,s,Ar(220),Ar(50)),e.lineTo(t,n+s),e.closePath()},pin({path:e,x:t,y:n,size:i}){e.moveTo(t+(.15625-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.15625-.5)*i,n+(.151491-.5)*i,t+(.307741-.5)*i,n+(0-.5)*i,t+(.5-.5)*i,n+(0-.5)*i),e.cubicCurveTo(t+(.692259-.5)*i,n+(0-.5)*i,t+(.84375-.5)*i,n+(.151491-.5)*i,t+(.84375-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.84375-.5)*i,n+(.493824-.5)*i,t+(.784625-.5)*i,n+(.600181-.5)*i,t+(.716461-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.699009-.5)*i,n+(.719769-.5)*i,t+(.681271-.5)*i,n+(.743104-.5)*i,t+(.663785-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.611893-.5)*i,n+(.834367-.5)*i,t+(.562228-.5)*i,n+(.899699-.5)*i,t+(.528896-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.524075-.5)*i,n+(.992358-.5)*i,t+(.512663-.5)*i,n+(1-.5)*i,t+(.5-.5)*i,n+(1-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.437772-.5)*i,n+(.899699-.5)*i,t+(.388107-.5)*i,n+(.834367-.5)*i,t+(.336215-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.318729-.5)*i,n+(.743104-.5)*i,t+(.300991-.5)*i,n+(.719769-.5)*i,t+(.283539-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.215375-.5)*i,n+(.600181-.5)*i,t+(.15625-.5)*i,n+(.493824-.5)*i,t+(.15625-.5)*i,n+(.34375-.5)*i),e.closePath()},plus(e){g0(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:n,size:i,pixelRatio:s}){const r=i/2;e.moveTo(Us(s,t-r),Us(s,n-r)),e.lineTo(Us(s,t+r),Us(s,n-r)),e.lineTo(Us(s,t+r),Us(s,n+r)),e.lineTo(Us(s,t-r),Us(s,n+r)),e.closePath()},star({path:e,x:t,y:n,size:i}){const r=i/2,o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?r:o,d=l*Math.PI/5-a,f=t+Math.cos(d)*c,g=n+Math.sin(d)*c;e.lineTo(f,g)}e.closePath()},triangle(e){g0(e,[[.5,0],[1,.87],[0,.87]])}},pD=class extends oo{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(e,t){return this.distanceSquared(e,t)<=0}distanceSquared(e,t){const n=Fs.anchor(this.shape);return Math.max(Math.hypot(e-this.x+(n.x-.5)*this.size,t-this.y+(n.y-.5)*this.size)-this.size/2,0)}updatePath(){var l,c;const{path:e,shape:t,x:n,y:i,size:s}=this,r=((c=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:c.pixelRatio)??1,o=Fs.anchor(t),a={path:e,x:n-(o.x-.5)*s,y:i-(o.y-.5)*s,size:s,pixelRatio:r};e.clear(),typeof t=="string"?Owe[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:n}=this,i=Fs.anchor(this.shape);return new Xe(e-n*i.x,t-n*i.y,n,n)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};L([Ba({})],pD.prototype,"shape",2);L([Be()],pD.prototype,"x",2);L([Be()],pD.prototype,"y",2);L([Be({convertor:Math.abs})],pD.prototype,"size",2);var Fs=class extends pw(F_(mw(pD))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function q6(e,t,n=t*(5/3)){var l;const i=new jt,s=Math.min(e.marker.strokeWidth??1,2),r=Math.min(((l=e.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:n),a=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:c,strokeOpacity:d,lineDash:f}=e.line,g=new Pa;g.x1=0,g.y1=a/2,g.x2=o,g.y2=a/2,g.stroke=c,g.strokeOpacity=d,g.strokeWidth=r,g.lineDash=f,i.append(g)}if(e.marker.enabled!==!1){const{shape:c,fill:d,fillOpacity:f,stroke:g,strokeOpacity:y,lineDash:v,lineDashOffset:w}=e.marker,S=new Fs;S.shape=c??"square",S.size=t,S.fill=d,S.fillOpacity=f??1,S.stroke=g,S.strokeOpacity=y??1,S.strokeWidth=s,S.lineDash=v,S.lineDashOffset=w??0;const x=Fs.anchor(c),M=o/2+(x.x-.5)*t,A=a/2+(x.y-.5)*t,k=t/(t+s);S.x=M,S.y=A,S.scalingCenterX=M,S.scalingCenterY=A,S.scalingX=k,S.scalingY=k,i.append(S)}return jt.toSVG(i,o,a)}var rr="ag-charts-tooltip",Z6="ag-charts-tooltip--dark";function X6(e){const t=[],n=new Map;for(const i of e)if(i.type==="structured"){const{heading:s}=i,r=s!=null?n.get(s):void 0,o={type:"structured",heading:s,items:[i]};r==null?(n.set(s,o),t.push(o)):r.items.push(i)}else t.push(i);return t}function Q6(e){const t=X6(e),n=[];return t.forEach(i=>{if(i.type==="raw")return"";i.heading!=null&&n.push(i.heading),i.items.forEach(s=>{var r;s.title!=null&&n.push(s.title),(r=s.data)==null||r.forEach(o=>{n.push(o.label??o.fallbackLabel,o.value)})})}),n.join("; ")}function OF(e,t,n){let i="";e==null?i+=`<span class="${rr}-label">${O0(t)}</span>`:(i+=`<span class="${rr}-label">${O0(e)}</span>`,i+=" ",i+=`<span class="${rr}-value">${O0(t)}</span>`);const s=[`${rr}-row`];return n&&s.push(`${rr}-row--inline`),i=`<div class="${s.join(" ")}">${i}</div>`,i}function Nwe(e){var s,r,o,a;let t="";if((s=e.data)!=null&&s.length&&e.data.every(l=>l.value==null||l.value===""))return t;const n=e.title==null&&((r=e.data)==null?void 0:r.length)===1,i=e.symbol==null?void 0:q6(e.symbol,12);return i!=null&&(e.title!=null||(o=e.data)!=null&&o.length)&&(t+=`<span class="${rr}-symbol">${i}</span>`),e.title!=null&&(t+=`<span class="${rr}-title">${O0(e.title)}</span>`,t+=" "),(a=e.data)==null||a.forEach(l=>{t+=OF(l.label??l.fallbackLabel,l.value,n),t+=" "}),t}function J6(e,t){if(e==null||t.length===1)return;const n=e==null?void 0:e.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${rr}-footer">${n}</div>`}function cj(e,t,n,i){var d,f;const s=t.items.length===1?t.items[0]:void 0;let r,o,a;switch(n){case"compact":r=!0,o=s==null?void 0:s.title;break;case"single":r=s!=null&&(t.heading==null||s.title==null)&&((d=s.data)==null?void 0:d.length)===1&&s.data[0].label==null&&s.data[0].value!=null,a=t.heading??(s==null?void 0:s.title);break;case"shared":r=!1}let l="";if(r&&s!=null?(o!=null&&(l+=OF(void 0,o,!1)),(f=s.data)==null||f.forEach(g=>{l+=OF(g.label??a,g.value,!1),l+=" "})):(t.heading!=null&&(l+=`<span class="${rr}-heading">${O0(t.heading)}</span>`,l+=" "),t.items.forEach(g=>{l+=Nwe(g)})),l.length===0)return;const c=n!=="compact"&&i!=null?J6(e,i):void 0;return c+null&&(l+=c),l=`<div class="${rr}-content">${l.trimEnd()}</div>`,l}function Fwe(e,t){const n=t==null?void 0:J6(e,t);return n==null?"":`<div class="${rr}-content">${n}</div>`}function eK(e,t,n,i){const s=X6(t);if(s.length!==0){if(s.length===1&&s[0].type==="structured")return cj(e,s[0],n,i);{const r=s.map(o=>o.type==="structured"?cj(e,o,n):o.rawHtmlString);return i!=null&&r.push(Fwe(e,i)??""),r.join("")}}}var _we={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},Bwe={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},Gwe={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},uj={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},zwe={pointer:"top",node:"top",chart:"top-left"},Ly=class extends It{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};L([F],Ly.prototype,"xOffset",2);L([F],Ly.prototype,"yOffset",2);L([F],Ly.prototype,"anchorTo",2);L([F],Ly.prototype,"placement",2);var Al=class extends It{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Ly,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new Vi,this.springAnimation=new Pwe,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new wY,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t,n){return"togglePopover"in $n().HTMLElement.prototype&&(this.element=n.addChild("tooltip-container",rr),this.element.setAttribute("popover","manual"),this.element.className=rr,this.element.style.positionAnchor=n.anchorName,this.sizeMonitor.observe(this.element,i=>{this._elementSize=i,this.updateTooltipPosition()})),this.localeManager=t,()=>{n.removeChild("tooltip-container",rr),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(t){var n;return((n=this.element)==null?void 0:n.contains(t))??!1}updateTooltipPosition(){var z,W,Y,K;const{element:t,_elementSize:n,positionParams:i}=this;if(t==null||n==null||i==null)return;const{canvasRect:s,relativeRect:r,meta:o}=i,{x:a,y:l}=this.springAnimation,c=((z=o.position)==null?void 0:z.anchorTo)??"pointer";let d=((W=o.position)==null?void 0:W.placement)??zwe[c];Array.isArray(d)||(d=[d]);const f=((Y=o.position)==null?void 0:Y.xOffset)??0,g=((K=o.position)==null?void 0:K.yOffset)??0,y=r.x,v=r.y,w=r.width-n.width-1+y,S=r.height-n.height+v;let x=0,M,A,k=!1;do{M=d[x],x+=1;const q=this.getTooltipBounds({elementSize:n,placement:M,anchorTo:c,canvasX:a,canvasY:l,yOffset:g,xOffset:f,canvasRect:s});A=K6(n.width,n.height,r,q),k=!1,uj[M]&1&&(k||(k=A.x<y||A.x>w)),uj[M]&2&&(k||(k=A.y<v||A.y>S))}while(x<d.length&&k);const I=At(y,A.x,w),P=At(v,A.y,S);k||(k=I!==A.x||P!==A.y);const N=c!=="chart"&&!k&&!f&&!g,B=o.showArrow??this.showArrow??N;this.arrowPosition=B?Gwe[M]:void 0,this.updateClassModifiers(),t.style.translate=`${I}px ${P}px`}show(t,n,i,s,r,o=!1){var d;const{element:a}=this;if(a!=null&&s!=null&&s.length!==0){const f=eK(this.localeManager,s,this.mode,this.pagination?r:void 0);if(f==null){this.toggle(!1);return}a.innerHTML=f}else if(a==null||a.innerHTML===""){this.toggle(!1);return}const l={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height};switch(this.positionParams={canvasRect:n,relativeRect:l,meta:i},((d=i.position)==null?void 0:d.anchorTo)??"pointer"){case"node":this.springAnimation.update(i.nodeCanvasX??i.canvasX,i.nodeCanvasY??i.canvasY);break;case"pointer":this.springAnimation.update(i.canvasX,i.canvasY);break;case"chart":this.springAnimation.reset()}i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden"),a.tabIndex=-1):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")),a.style.setProperty("--top",`${n.top}px`),a.style.setProperty("--left",`${n.left}px`),this.updateClassModifiers(),this.toggle(!0,o)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:t},n){const{interactive:i,interactiveLeave:s,enabled:r,element:o}=this;if(o==null)return!1;if(s)return!0;const a=i&&r&&this.isVisible()&&t instanceof Node&&this.contains(t);return a&&(this.interactiveLeave={callback:n,listener:l=>{(l.relatedTarget==null||l.relatedTarget instanceof Node&&!this.contains(l.relatedTarget))&&this.popInteractiveLeaveCallback()}},o.addEventListener("focusout",this.interactiveLeave.listener),o.addEventListener("mouseout",this.interactiveLeave.listener)),a}popInteractiveLeaveCallback(){const{interactiveLeave:t,element:n}=this;this.interactiveLeave=void 0,t&&(n&&(n.removeEventListener("focusout",t.listener),n.removeEventListener("mouseout",t.listener)),t.callback())}toggle(t,n=!1){const{delay:i}=this;t&&i>0&&!n?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},i)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(t))}toggleCallback(t){var n;(n=this.element)!=null&&n.isConnected&&this._visible!==t&&(this._visible=t,this.element.togglePopover(t),t?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){var i;if(!((i=this.element)!=null&&i.isConnected))return;const{classList:t}=this.element,n=(s,r)=>t.toggle(`${rr}--${s}`,r);n("no-interaction",!this.enableInteraction),n("arrow-top",this.arrowPosition===1),n("arrow-right",this.arrowPosition===3),n("arrow-bottom",this.arrowPosition===2),n("arrow-left",this.arrowPosition===0),n("compact",this.mode==="compact"),t.toggle(Z6,this.darkTheme);for(const s of this.wrapTypes)t.toggle(`${rr}--wrap-${s}`,s===this.wrapping)}getTooltipBounds(t){const{elementSize:n,anchorTo:i,placement:s,canvasX:r,canvasY:o,yOffset:a,xOffset:l,canvasRect:c}=t,{width:d,height:f}=n,g={width:d,height:f};if(i==="node"||i==="pointer"){const y=_we[s],v=Bwe[s];return g.top=o+a+f*(v-1)/2+8*v,g.left=r+l+d*(y-1)/2+8*y,g}switch(s){case"top":return g.top=a,g.left=c.width/2-d/2+l,g;case"right":return g.top=c.height/2-f/2+a,g.left=c.width-d/2+l,g;case"left":return g.top=c.height/2-f/2+a,g.left=l,g;case"bottom":return g.top=c.height-f+a,g.left=c.width/2-d/2+l,g;case"top-left":return g.top=a,g.left=l,g;case"top-right":return g.top=a,g.left=c.width-d+l,g;case"bottom-right":return g.top=c.height-f+a,g.left=c.width-d+l,g;case"bottom-left":return g.top=c.height-f+a,g.left=l,g}return g}};L([F],Al.prototype,"enabled",2);L([F],Al.prototype,"mode",2);L([F],Al.prototype,"showArrow",2);L([F],Al.prototype,"delay",2);L([F],Al.prototype,"range",2);L([F],Al.prototype,"wrapping",2);L([F],Al.prototype,"position",2);L([F],Al.prototype,"pagination",2);L([F],Al.prototype,"darkTheme",2);L([F],Al.prototype,"bounds",2);function NF(e,t){return e.series===t.series&&Oo(e.datumIndex,t.datumIndex)}var Hwe=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let n=t!=null?e.findIndex(i=>NF(i,t)):-1;return n===-1&&(n=0),this.active=e[n],{current:this.active,index:n,length:e.length}}next(){const{candidates:e,active:t}=this,n=t==null?-1:e.findIndex(s=>NF(s,t));if(n===-1)return;let i=n+1;return i>=e.length&&(i=0),this.active=e[i],{current:this.active,index:i,length:this.candidates.length}}},Vwe=class extends W_{constructor(e){super(),this.chart=e,this.id=Sc(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=mve(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new Hwe;const t=e.ctx.localeManager.t("ariaInitSeriesArea"),n=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new Dwe(n,i,"img",t),this.swapChain.addListener("blur",a=>this.onBlur(a)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new Mwe(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:s,seriesWidget:r,containerWidget:o}=e.ctx.widgets;r.setTabIndex(-1),this.cleanup.register(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),r.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),r.addListener("mousemove",a=>this.onHover(a,r)),r.addListener("wheel",a=>this.onWheel(a)),r.addListener("mouseleave",a=>this.onLeave(a)),r.addListener("keydown",a=>this.onKeyDown(a)),r.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),o.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),o.addListener("click",(a,l)=>this.onClick(a,l)),o.addListener("dblclick",(a,l)=>this.onClick(a,l)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),e.ctx.eventsHub.on("highlight:change",a=>this.changeHighlightDatum(a)),e.ctx.eventsHub.on("layout:complete",a=>this.layoutComplete(a)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),e.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),s&&this.cleanup.register(s.events.on("drag-move",a=>this.onDragMove(a,r)),s.events.on("click",a=>this.onClick(a,r)),s.events.on("dblclick",a=>this.onClick(a,r)))}get bbox(){return(this.seriesRect??Xe.zero).clone()}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;var e;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),(t=this.focusIndicator)==null||t.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){var e;this.isState(34)&&((e=this.focusIndicator)!=null&&e.isFocusVisible())&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,n)=>{let i=t.properties.focusPriority??1/0,s=n.properties.focusPriority??1/0;return i===s&&([i,s]=[t.declarationOrder,n.declarationOrder]),i<s?-1:i>s?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){var l;const{sourceEvent:n}=e;if(n.currentTarget!=t.getElement())return;if(n.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:c,currentY:d}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:e,canvasX:c,canvasY:d},void 0)}return}let i,s;if((l=this.focusIndicator)!=null&&l.isFocusVisible())i=this.chart.ctx.highlightManager.getActiveHighlight(),i&&this.seriesRect&&i.midPoint&&(s=Qi.toCanvasPoint(i.series.contentGroup,i.midPoint.x,i.midPoint.y));else if(this.isState(36)){const c=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");c&&(this.chart.ctx.highlightManager.updateHighlight(this.id),i=c.matches[0].datum)}const r=i==null?void 0:i.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();r&&i?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:e,canvasX:o,canvasY:a},{pickedSeries:r,pickedNode:i},s):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:e,canvasX:o,canvasY:a},void 0,s)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.maybeEnterInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e,t){var n;this.isState(41)&&((n=this.focusIndicator)==null||n.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t))}onHover(e,t){this.isState(41)&&this.onHoverLikeEvent(e,t)}onHoverLikeEvent(e,t){var n;if(!this.isIgnoredTouch(e)&&(e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),t===this.chart.ctx.widgets.seriesWidget&&((e.device==="touch"||jwe(e,"drag-move"))&&(this.tooltip.lastHover=e),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32)))){const{currentX:i,currentY:s}=e,r=(n=this.pickNodes({x:i,y:s},"event"))==null?void 0:n.matches,o=r==null?void 0:r[0];o!=null&&o.series.hasEventListener("seriesNodeClick")||o!=null&&o.series.hasEventListener("seriesNodeDoubleClick")||r!=null&&r.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){var i;if(e.device==="keyboard"||(t===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if((i=this.focusIndicator)==null||i.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(5),e.sourceEvent.preventDefault();return}const n={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(n)}onFocus(){var e;this.isState(34)&&(this.hoverDevice=(e=this.focusIndicator)!=null&&e.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){var t;this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(e)||this.clearAll(),(t=this.focusIndicator)==null||t.overrideFocusVisible(void 0))}onKeyDown(e){var n;if(!this.isState(43))return;const t=Twe(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&((n=this.focusIndicator)==null||n.overrideFocusVisible(this.previousInputDevice==="keyboard")),t==null?void 0:t.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:e});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:e});case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,n){var i;this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",(i=this.focusIndicator)==null||i.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),n.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:n}=this.focus,i=e.sourceEvent;t!=null&&n!=null?t.fireNodeClickEvent(i,n):this.chart.fireEvent({type:"click",event:i}),i.preventDefault()}checkSeriesNodeClick(e){var a,l,c;var t;const n=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(n==null||n.matches.length===0)return;const i=this.chart.tooltip.pagination?(a=this.tooltipCandidates.update(n.matches,this.tooltipCandidates.current))==null?void 0:a.current:void 0,{series:s,datum:r}=i??n.matches[0],o=i==null?n.distance:0;if(e.type==="click"){const f=s.fireNodeClickEvent(e.sourceEvent,r)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(f!=null){e.sourceEvent.preventDefault();const{currentX:g,currentY:y}=e,v=g+(((l=this.hoverRect)==null?void 0:l.x)??0),w=y+(((c=this.hoverRect)==null?void 0:c.y)??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(f.current,v,w,{index:f.index,length:f.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=o===0,s.fireNodeDoubleClickEvent(e.sourceEvent,r),!0):!1}handleFocus(e,t){var i;const n=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);n==null?this.handleSeriesFocus(e,t)===0?this.announceMode="when-changed":this.announceMode="always":((i=this.focusIndicator)==null||i.update(n.rect,this.seriesRect,!1),this.swapChain.update(n.text),this.announceMode="always")}handleSeriesFocus(e,t){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(e,t);const{focus:n}=this,i=n.sortedSeries.filter(l=>l.visible&&l.focusable);if(i.length===0)return 1;const s=n.datumIndex-t,r=n.seriesIndex-e;n.seriesIndex=At(0,n.seriesIndex,i.length-1),n.series=i[n.seriesIndex];const o=this.focus.datumIndex,a=this.focus.seriesIndex;return this.updatePickedFocus(o,t,s,a,e,r)}handleSoloSeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,i=this.focus.seriesIndex,s=this.focus.datumIndex-t,r=this.focus.seriesIndex-e;return this.updatePickedFocus(n,t,s,i,e,r)}updatePickedFocus(e,t,n,i,s,r){var g,y,v;const{focus:o,hoverRect:a,seriesRect:l}=this;if(o.series==null||a==null)return 1;const c=(g=o==null?void 0:o.series)==null?void 0:g.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:i,otherIndexDelta:s,seriesRect:l});if(!c)return 2;const{datum:d}=c;if(o.datum=d,o.datumIndex=c.datumIndex,c.otherIndex!=null&&(o.seriesIndex=c.otherIndex),(y=this.focusIndicator)!=null&&y.isFocusVisible()){this.chart.ctx.animationManager.reset();const w=Iwe(c),{x:S,y:x}=w.computeCenter();if(!a.containsPoint(S,x)&&this.chart.ctx.zoomManager.panToBBox(this.id,a,w))return 3;const{x1:M,x2:A,y1:k,y2:I}=fM.from(w),P=a.containsPoint(M,k),N=a.containsPoint(A,k),B=a.containsPoint(M,I),z=a.containsPoint(A,I);if(!(P||N||B||z)){const W=fM.from(a);c.movedBounds=w.clone(),M<W.x1&&A<W.x1?(c.movedBounds.x=W.x1-2,c.movedBounds.width=4):M>W.x2&&A>W.x2&&(c.movedBounds.x=W.x2-2,c.movedBounds.width=4),k<W.y1&&I<W.y1?(c.movedBounds.y=W.y1-2,c.movedBounds.height=4):k>W.y2&&I>W.y2&&(c.movedBounds.y=W.y2-2,c.movedBounds.height=4)}}(v=this.focusIndicator)==null||v.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);const f=kwe(o.series,a,c);if(f!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const w=this.getTooltipContent(o.series,d.datumIndex,d,"aria-label"),S=LI.makeTooltipMeta(f,o.series,d,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.isTooltipEnabled(o.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,S,w),this.maybeAnnouncePickedFocus(t,n,s,r,c,w)}return 0}maybeAnnouncePickedFocus(e,t,n,i,s,r){const{focus:o}=this;let a;this.announceMode==="when-changed"?e===0&&n===0||t!==s.datumIndex||i!==(s.otherIndex??o.seriesIndex)?a="always":a="never":a=this.announceMode,a==="always"&&this.swapChain.update(this.getDatumAriaText(s.datum,r))}getDatumAriaText(e,t){var i,s;const n=t==null?"":Q6(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(i=e.series).getDatumAriaText)==null?void 0:s.call(i,e,n))??n})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){var e;this.clearHighlight(),this.clearTooltip(),(e=this.focusIndicator)==null||e.clear()}handleHoverHighlight(e){var g,y,v;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:n,currentY:i}=t,s=t.currentX+(((g=this.hoverRect)==null?void 0:g.x)??0),r=t.currentY+(((y=this.hoverRect)==null?void 0:y.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((v=this.hoverRect)!=null&&v.containsPoint(s,r))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:n,y:i},a);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:c}=this.tooltipCandidates,d=c==null?void 0:l.matches.find(w=>NF(w,c)),f=(d==null?void 0:d.datum)??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,f),this.hoverDevice="pointer"}handleHoverTooltip(e,t){var c,d,f;const{current:n}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:i,currentY:s}=e,r=i+(((c=this.hoverRect)==null?void 0:c.x)??0),o=s+(((d=this.hoverRect)==null?void 0:d.y)??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((f=this.hoverRect)!=null&&f.containsPoint(r,o))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",rr))return;const l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){const{current:g,index:y,length:v}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?n:void 0);this.showTooltip(g,r,o,{index:y,length:v})}else this.showTooltip(l.matches[0],r,o)}showTooltip({series:e,datum:t,datumIndex:n},i,s,r){const o=this.getTooltipContent(e,n,t,"tooltip");if(o!=null){const l=LI.makeTooltipMeta({type:"pointermove",canvasX:i,canvasY:s},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,l,o,r)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(e){return this.chart.tooltip.maybeEnterInteractiveTooltip(e,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(e){var i,s,r,o;const t=(i=e.previousHighlight)==null?void 0:i.series,n=(s=e.currentHighlight)==null?void 0:s.series;t!=null&&t.properties.cursor&&((r=e.previousHighlight)!=null&&r.datum)&&this.chart.ctx.domManager.updateCursor(t.id),n!=null&&n.properties.cursor&&n.properties.cursor!=="default"&&((o=e.currentHighlight)!=null&&o.datum)&&this.chart.ctx.domManager.updateCursor(n.id,n.properties.cursor),n==null||t==null?this.update(5):this.update(5,{seriesToUpdate:new Set([t,n].filter(Boolean))})}pickNodes(e,t,n){const i=[...this.series].reverse();let s;for(const r of i){if(!r.visible||!r.contentGroup.visible)continue;const o=r.pickNodes(e,t,n);if(o==null||o.datums.length===0)continue;const{datums:a,distance:l}=o;if(o.datums.length!==0){if(l===0){(s==null?void 0:s.distance)!==0&&(s={matches:[],distance:0});for(const c of a){const{datumIndex:d}=c;s.matches.push({series:r,datum:c,datumIndex:d})}}else if(s==null||s.distance>l){const[c]=a,{datumIndex:d}=c;s={matches:[{series:r,datum:c,datumIndex:d}],distance:l}}}}return s}isTooltipEnabled(e){return e.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(e,t,n,i){let s;if(i==="aria-label"||this.isTooltipEnabled(e)){const{cachedTooltipContent:r}=this;if(r!=null&&r.series===e&&r.datumIndex===t)s=r.content;else{const o=this.chart.getTooltipContent(e,t,n);this.cachedTooltipContent={series:e,datumIndex:t,content:o},s=o}}else this.cachedTooltipContent=void 0;return s}};function jwe(e,t){return e.type!==t}var dj=30,Wwe=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}getGroupIndex(e){const{internalId:t,seriesGrouping:n}=e;return(n==null?void 0:n.groupIndex)??t}getGroupType(e,t){return t?"top":e.type}requestGroup(e){const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),s=this.getGroupType(e,i),r=this.getGroupIndex(e),o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=dj?"aggressive-grouping":"normal");let a=this.groups.get(s);a==null&&(a=new Map,this.groups.set(s,a));const l=this.lookupIdx(r);let c=a.get(l);return c==null&&(c={type:s,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new jt({name:`${e.contentGroup.name??s}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,c)),this.series.set(t,{layerState:c,seriesConfig:e,bringToFront:i}),c.seriesIds.push(t),c.group.appendChild(n),c.group}changeGroup(e){var d;const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),s=this.getGroupType(e,i),r=this.series.get(t),o=r?this.getGroupType(r.seriesConfig,r.bringToFront):void 0,a=this.getGroupIndex(e),l=this.lookupIdx(a),c=(d=this.groups.get(s))==null?void 0:d.get(l);if(!(o===s&&(c==null?void 0:c.seriesIds.includes(t))===!0))return this.series.has(t)&&this._releaseGroup({internalId:t,contentGroup:n,type:o}),this.requestGroup(e)}releaseGroup(e){const{internalId:t,contentGroup:n}=e,i=this.getGroupType(e,e.bringToFront());this._releaseGroup({internalId:t,contentGroup:n,type:i})}_releaseGroup(e){var r,o,a;const{internalId:t,contentGroup:n,type:i}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const s=(r=this.series.get(t))==null?void 0:r.layerState;s&&(s.seriesIds=s.seriesIds.filter(l=>l!==t),s.group.removeChild(n)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(o=this.groups.get(s.type))==null||o.delete(s.id),(a=this.groups.get(i))==null||a.delete(t)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:n,seriesIds:i}=t;let s;if(i.length===0)s=!1;else if(i.length>1)s=!0;else{const r=this.series.get(i[0]);s=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}n.renderToOffscreenCanvas=s,n.zIndex=this.getLowestSeriesZIndex(i)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!Number.isFinite(e))?0:Math.floor(At(0,e/this.expectedSeriesCount,1)*dj)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){let t;for(const n of e){const i=this.series.get(n),s=(i==null?void 0:i.seriesConfig.contentGroup.zIndex)??1;if(t==null||s==null){t=s;continue}t=H5(t,s)<=0?t:s}return t??1}},tK=class extends It{constructor(){super(...arguments),this.dragAction="drag"}};L([F],tK.prototype,"dragAction",2);var Uwe=class{constructor(e,t,n,i,s,r){this.chart=e,this.eventsHub=t,this.dataService=n,this.updateService=i,this.zoomManager=s,this.animationManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new Vi,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",o=>this.onUpdateComplete(o)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(e){!e.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(e)}onZoomChange(){this.dirtyZoom=!0}updateWindow(e){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let n,i=!0;if(t){const s=this.zoomManager.getAxisZoom(t.id);(s.min!==0||s.max!==1)&&(n=this.getAxisWindow(t,s)),i=this.shouldRefresh(e,t,s)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:n==null?void 0:n.min,windowEnd:n==null?void 0:n.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t,n){if(e.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&n.min===i.min&&n.max===i.max?!1:(this.lastAxisZooms.set(t.id,n),!0)}getAxisWindow(e,t){const{domain:n}=e.scale;if(!t||n.length===0||isNaN(Number(n[0])))return;const i=Number(n[1])-Number(n[0]),s=new Date(Number(n[0])+i*t.min),r=new Date(Number(n[0])+i*t.max);return{min:s,max:r}}},$we=/^((?!chrome|android).)*safari/i,Ywe=/Version\/(\d+(\.\d+)?)/,Kwe=/Chrome/,qwe=/Chrome\/(\d+)/,Zwe=/Edg/,Xwe=/OPR/;function Qwe(){const{userAgent:e}=$n("navigator");if($we.test(e)){const t=Ywe.exec(e);if(t==null)return!1;const n=parseFloat(t[1]),i=Math.floor(n)>16;return i||ze.warnOnce(`Unsupported Safari version: ${n}; ${e}`),!i}else if(Kwe.test(e)&&!Zwe.test(e)&&!Xwe.test(e)){const t=qwe.exec(e);if(t==null)return!1;const n=parseInt(t[1],10),i=n>126;return i||ze.warnOnce(`Unsupported Chrome version: ${n}; ${e}`),!i}return!1}var Jwe=new Set(["map-shape-background","map-line-background"]),eSe=class{constructor(e,t,n,i,s,r,o){this.chartLike=e,this.overlays=t,this.eventsHub=n,this.dataService=i,this.localeManager=s,this.animationManager=r,this.domManager=o,this.cleanup=new Vi,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(PF),this.cleanup.register(this.eventsHub.on("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),n=this.chartLike.series.some(c=>c.hasData),i=this.chartLike.series.some(c=>c.visible&&!Jwe.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(sj):this.overlayElem.classList.remove(sj),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const s=t,r=!t&&!n,o=n&&!i,a=this.overlays.unsupportedBrowser.enabled&&Qwe();s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const l=s||r||o||a;fn(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;const n=e.getElement(this.chartLike,this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=" "},this.animationManager)}},tl=Ut.create(!0,"opts"),Ji=class nK extends oY{constructor(t,n){var i;super(),this.id=Sc(this),this.seriesRoot=new to({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new to({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new jt({name:"titles",zIndex:15}),this.debug=Ut.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new sV,this.chartCaptions=new P1,this.padding=new Ty(20),this.keyboard=new aB,this.touch=new tK,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new Vi,this.chartAnimationPhase="initial",this.modulesManager=new Cwe,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=d=>super.fireEvent(d),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new sV,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new gve,this.updateRequestors={},this.performUpdateTrigger=yve(({count:d})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(d)}catch(f){ze.error("update error",f,f.stack)}}).catch(f=>ze.errorOnce(f))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=d=>{this.fireEvent(d)},this.onSeriesNodeDoubleClick=d=>{this.fireEvent(d)},this.onSeriesVisibilityChange=d=>{this.fireEvent(d)},this.seriesGroupingChanged=d=>{if(!(d instanceof BI))return;const{series:f,seriesGrouping:g}=d;if(f.contentGroup.isRoot())return;const y=this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,contentGroup:f.contentGroup,bringToFront:()=>f.bringToFront(),renderToOffscreenCanvas:()=>f.renderToOffscreenCanvas(),seriesGrouping:g});y!=null&&f.attachSeries(y,this.seriesRoot,this.annotationRoot)},this.chartOptions=t;const s=n==null?void 0:n.scene,r=(n==null?void 0:n.container)??t.processedOptions.container??void 0,o=(n==null?void 0:n.styleContainer)??t.specialOverrides.styleContainer;s&&(this._firstAutoSize=!1,this._lastAutoSize=[s.width,s.height,s.pixelRatio]);const a=new jt({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new Al,this.seriesLayerManager=new Wwe(this.seriesRoot),this.mode=t.userOptions.mode??this.mode,this.styleNonce=t.processedOptions.styleNonce;const l=this.ctx=new cCe(this,{chartType:this.getChartType(),scene:s,root:a,container:r,styleContainer:o,domMode:t.optionMetadata.domMode,withDragInterpretation:t.optionMetadata.withDragInterpretation??!0,syncManager:new PCe(this),fireEvent:d=>this.fireEvent(d),updateCallback:(d,f)=>this.update(d,f),updateMutex:this.updateMutex});this.cleanup.register(l.eventsHub.on("dom:resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new vw,(i=this.overlays.loading).renderer??(i.renderer=()=>wwe(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new Uwe(this,l.eventsHub,l.dataService,l.updateService,l.zoomManager,l.animationManager),new eSe(this,this.overlays,l.eventsHub,l.dataService,l.localeManager,l.animationManager,l.domManager)],this.highlight=new e6,this.container=r;const c=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Vwe(this.initSeriesAreaDependencies()),this.cleanup.register(l.layoutManager.registerElement(0,d=>{d.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(d)}),l.eventsHub.on("layout:complete",d=>this.chartCaptions.positionAbsoluteCaptions(d)),l.eventsHub.on("data:load",d=>{this.data=d.data}),this.title.registerInteraction(c,"beforebegin"),this.subtitle.registerInteraction(c,"beforebegin"),this.footnote.registerInteraction(c,"afterend"),Xu.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(7)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.eventsHub.on("zoom:change",()=>{this.series.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.transition("updateData")});const d=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:d})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return nK.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){var n;(n=this.seriesAreaManager.focusIndicator)==null||n.overrideFocusVisible(t)}fireEvent(t){yc(this,this.fireEventWrapper,t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:n,highlight:i,overlays:s,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(f,g,y)=>this.getTooltipContent(f,g,y),chartType:a,ctx:t,tooltip:n,highlight:i,overlays:s,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(t,n,i){const s=t.properties.tooltip.enabled!==!1?t.getTooltipContent(n,i):void 0,r=s==null?[]:[s];if(this.tooltip.mode!=="shared"||this.series.length===1)return r;const o=t.getCategoryValue(n);return o==null?r:this.series.flatMap(a=>{if(a===t)return r;if(!a.isEnabled()||a.properties.tooltip.enabled===!1)return[];const l=a.datumIndexForCategoryValue(o),c=l==null?void 0:a.getTooltipContent(l,void 0);return c==null?[]:[c]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(t){if(this.destroyed)return;const n=t==null?void 0:t.keepTransferableResources;let i;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(s=>s.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(n=>ze.errorOnce(n)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,n){if(this.destroyed)return;const{forceNodeDataRefresh:i=!1,skipAnimations:s,seriesToUpdate:r=this.series,newAnimationBatch:o,apiUpdate:a=!1}=n??{};this.apiUpdate=a,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),i&&this.series.forEach(l=>l.markNodeDataDirty());for(const l of r)this.seriesToUpdate.add(l);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let l=new Error().stack??"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n==null?void 0:n.backOffMs))}async performUpdate(t){const{performUpdateType:n,extraDebugStats:i,_performUpdateSplits:s,ctx:r}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<7&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",P0[n]);let a=performance.now();s.start??(s.start=a);const l=d=>{s[d]??(s[d]=0),s[d]+=performance.now()-a,a=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("⬇️");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("🏭");case 3:if(this.checkUpdateShortcut(3))break;await this.processDomains(),l("⛰️");case 4:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;await this.processLayout(),l("⌖");case 5:{if(this.checkUpdateShortcut(5))break;await this.updateSeries(o),l("🤔"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;r.updateService.dispatchPreSceneRender(),l("↖");case 7:if(this.checkUpdateShortcut(7))break;r.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:s,extraDebugStats:i,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const d of Object.keys(s))delete s[d];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((c-s.start)*100)/100,count:t,performUpdateType:P0[n]})}updateThemeClassName(){const t="ag-charts-theme-",n=[`${t}default`,`${t}default-dark`];let i=n[0],s=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(i=r.replace("ag-",t),s=r.includes("-dark")),n.includes(i)||(i=s?n[1]:n[0]),this.ctx.domManager.setThemeClass(i)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(ze.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){var s,r;const i=(n==null?void 0:n.filter(o=>!t.includes(o)))??[];this.destroySeries(i),(s=this.seriesLayerManager)==null||s.setSeriesCount(t.length);for(const o of t){if(n!=null&&n.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(t)}destroySeries(t){t==null||t.forEach(n=>{n.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),n.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)}assignAxesToSeries(){const t=S_(this.axes,n=>n.direction);for(const n of this.series)for(const i of n.directions){const s=t[i];if(!s){ze.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const r=n.getKeys(i),o=s.find(a=>!a.keys.length||r.some(l=>a.keys.includes(l)));if(!o){ze.warnOnce(`no matching axis for direction [${i}] and keys [${r}]; check series and axes configuration.`);return}n.axes[i]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:i}=t;const{pixelRatio:s}=t;if(n=Math.floor(n),i=Math.floor(i),n===0&&i===0)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===n&&o===i&&a===s||(this._lastAutoSize=[n,i,s],this.resize("SizeMonitor",{}))}resize(t,n){var y,v,w;const{scene:i,animationManager:s}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:l,inOverrideDevicePixelRatio:c}=n;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,r??this.width,o??this.height);const d=r??this.width??((y=this._lastAutoSize)==null?void 0:y[0]),f=o??this.height??((v=this._lastAutoSize)==null?void 0:v[1]),g=c??this.overrideDevicePixelRatio??((w=this._lastAutoSize)==null?void 0:w[2]);if(this.debug(`Chart.resize() from ${t}`,{width:d,height:f,pixelRatio:g,stack:new Error().stack}),!(d==null||f==null||!Wn(d)||!Wn(f))&&i.resize(d,f,g)){s.reset();let S=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(S=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:S}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(n=>n.setChartData(this.data));const t=this.modulesManager.mapModules(n=>{var i;return(i=n.updateData)==null?void 0:i.call(n,this.data)});await Promise.all(t)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new o6(this.mode,this.suppressFieldDotNotation),n=this.series.map(s=>s.processData(t)),i=this.modulesManager.mapModules(s=>{var r;return(r=s.processData)==null?void 0:r.call(s,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...n,...i]),this.updateLegends()}async processDomains(){for(const t of this.axes)t.processData();for(const t of this.series)t.updatedDomains()}updateLegends(t){for(const{legend:n,legendType:i}of this.modulesManager.legends())i==="category"?this.setCategoryLegendData(t):this.setLegendData(i,n)}setCategoryLegendData(t){var n;const{ctx:{legendManager:i,stateManager:s}}=this;t&&this.series.forEach(o=>{const a=t.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",a)});const r=this.series.flatMap(o=>{const a=o.getLegendData("category");return i.updateData(o.id,a),a});if(t){s.setStateAndRestore(i,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:c},label:d}of r.filter(f=>!f.hideInLegend)){if(c.fill==null)continue;const f=a.get(l),g=o[f]??(o[f]={});g[n=d.text]??(g[n]=c.fill),g[d.text]!==c.fill&&ze.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}i.update()}setLegendData(t,n){n.data=this.series.filter(i=>i.properties.showInLegend).flatMap(i=>i.getLegendData(t))}async processLayout(){var r;const t=this.animationRect,{width:n,height:i}=this.ctx.scene,s=this.ctx.layoutManager.createContext(n,i);await this.performLayout(s),t&&!((r=this.animationRect)!=null&&r.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:n}=this;await Promise.all(t.map(i=>i.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(i=>i.visible&&i.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t,n){const i=$n("agChartsDebugTimeout");i==null?(t??(t=1e5),n??(n=!1)):(t=i,n??(n=!0));const s=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==8||this.runningUpdateType!==8)&&await this._performUpdateNotify.await(),performance.now()-s>t){const r=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(r);ze.warnOnce(r)}sY()&&await rV(),this.ctx.scene.waitingForUpdate()&&await rV(50)}}filterMiniChartSeries(t){return t==null?void 0:t.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){var S,x,M,A,k;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0){tl("Chart.applyOptions() - no delta, forcing re-layout",i),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}const s=this.firstApply?{}:this.chartOptions.processedOptions,r=t.processedOptions;tl("Chart.applyOptions() - applying delta",i);const o=this.applyModules(r),a=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];i.listeners&&this.registerListeners(this,i.listeners),L0(this,i,{skip:a});let l=!1,c="no-op";i.series!=null&&(c=this.applySeries(this,i.series,s==null?void 0:s.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,s,c,[])&&(l=!0),i.data&&(this.data=i.data),(S=i.legend)!=null&&S.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(x=i.locale)!=null&&x.localeText&&(this.modulesManager.getModule("locale").localeText=(M=i.locale)==null?void 0:M.localeText),this.chartOptions=t;const d=this.modulesManager.getModule("navigator"),f=this.modulesManager.getModule("zoom");!(d!=null&&d.enabled)&&!(f!=null&&f.enabled)&&this.ctx.zoomManager.updateZoom("chart");const g=d==null?void 0:d.miniChart,y=((k=(A=r.navigator)==null?void 0:A.miniChart)==null?void 0:k.series)??r.series;(g==null?void 0:g.enabled)===!0&&y!=null?this.applyMiniChartOptions(g,y,r,s):(g==null?void 0:g.enabled)===!1&&(g.series=[],g.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(i,c));const w=l||o?0:4;if(this.maybeResetAnimations(c),this.shouldClearLegendData(r,s,c)&&this.ctx.legendManager.clearData(),this.applyInitialState(r),this.ctx.formatManager.setFormatter(r.formatter),tl("Chart.applyOptions() - update type",P0[w],{seriesStatus:c,forceNodeDataRefresh:l}),t.optionsProcessingTime!==void 0){this._performUpdateSplits["⚙️"]=t.optionsProcessingTime;const I=performance.now()-t.optionsProcessingTime;this._performUpdateSplits.start=I}this.update(w,{apiUpdate:!0,forceNodeDataRefresh:l,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var l,c,d;const{annotationManager:n,chartTypeOriginator:i,historyManager:s,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((l=t.annotations)!=null&&l.enabled)&&(a==null?void 0:a.annotations)!=null){const f=a.annotations.map(g=>{const y=n.getAnnotationTypeStyles(g.type);return Rn(g,y)});r.setState(n,f)}(a==null?void 0:a.chartType)!=null&&r.setState(i,a.chartType),((c=t.navigator)!=null&&c.enabled||(d=t.zoom)!=null&&d.enabled)&&(a==null?void 0:a.zoom)!=null&&r.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&s.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,n){const i=!!t.data||n==="data-change"||n==="replaced",s=rB.getKeys(),r=Object.values(s).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null||t.formatter!=null;return i||r||o}shouldClearLegendData(t,n,i){var o,a,l;const s=i==="replaced"||i==="series-grouping-change"||i==="updated"&&(((o=t.series)==null?void 0:o.length)!==((a=n.series)==null?void 0:a.length)||!((l=t.series)!=null&&l.every((c,d)=>{var f;return c.type===((f=n.series)==null?void 0:f[d].type)}))),r=n.legend!=null&&t.legend==null;return s||r}applyMiniChartOptions(t,n,i,s){var d,f,g,y;const r=((f=(d=s==null?void 0:s.navigator)==null?void 0:d.miniChart)==null?void 0:f.series)??(s==null?void 0:s.series),o=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(r));this.applyAxes(t,i,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const v of a)v.properties.id=void 0;const l=t.axes,c=l.find(v=>v.direction==="x");for(const v of l)v.nice=!1,v.gridLine.enabled=!1,v.label.enabled=v===c,v.tick.enabled=!1,v.interactionEnabled=!1;if(c!=null){const v=(g=i.navigator)==null?void 0:g.miniChart,w=v==null?void 0:v.label,S=(y=v==null?void 0:v.label)==null?void 0:y.interval;if(c.line.enabled=!1,c.label.set(Ke(w,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),c.type==="grouped-category"){c.label.enabled=!1,c.label.rotation=0;const{depthOptions:x}=c;if(x.length===0)x.set([{label:{enabled:!0}}]);else for(let M=1;M<x.length;M++)x[M].label.enabled=!1}else(c.type==="time"||c.type==="unit-time"||c.type==="ordinal-time")&&(c.parentLevel.enabled=!1);c.interval.step=S==null?void 0:S.step,c.interval.values=S==null?void 0:S.values,c.interval.minSpacing=S==null?void 0:S.minSpacing,c.interval.maxSpacing=S==null?void 0:S.maxSpacing}}applyModules(t){var s;const{type:n}=this.constructor;let i=!1;for(const r of Ou.byType("root","legend")){const a=t[r.optionsKey]!=null&&r.chartTypes.includes(n);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&((s=this.modulesManager.getModule(r))==null||s.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),i=!0)}return i}initSeriesDeclarationOrder(t){for(let n=0;n<t.length;n++)t[n].setSeriesIndex(n)}applySeries(t,n,i){var d;if(!n)return"no-change";const s=vwe(t.series,n,i);if(s.status==="no-overlap"){tl(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const f=n.map(g=>this.createSeries(g));return this.initSeriesDeclarationOrder(f),t.series=f,"replaced"}tl("Chart.applySeries() - matchResult",s);const r=[];let o=!1,a=!1,l=!1;const c=s.changes.toSorted((f,g)=>f.targetIdx-g.targetIdx);for(const f of c)switch(a||(a=f.status==="series-grouping"),o||(o=((d=f.diff)==null?void 0:d.data)!=null),l||(l=f.status!=="no-op"),f.status){case"add":{const g=this.createSeries(f.opts);r.push(g),tl("Chart.applySeries() - created new series",g);break}case"remove":tl(`Chart.applySeries() - removing series at previous idx ${f.idx}`,f.series);break;case"no-op":r.push(f.series),tl(`Chart.applySeries() - no change to series at previous idx ${f.idx}`,f.series);break;case"series-grouping":case"update":default:{const{series:g,diff:y,idx:v}=f;tl(`Chart.applySeries() - applying series diff previous idx ${v}`,y,g),this.applySeriesValues(g,y),g.markNodeDataDirty(),r.push(g)}}return this.initSeriesDeclarationOrder(r),tl("Chart.applySeries() - final series instances",r),t.series=r,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,n,i,s,r=[]){if(!("axes"in n)||!n.axes)return!1;r=["axes[].type",...r];const o=n.axes;return!(s==="replaced")&&t.axes.length===o.length&&t.axes.every((c,d)=>c.type===o[d].type)&&G6(i)?(t.axes.forEach((c,d)=>{var v;const f=((v=i.axes)==null?void 0:v[d])??{},g=dh(f,o[d]);tl(`Chart.applyAxes() - applying axis diff idx ${d}`,g);const y=`axes[${d}]`;L0(c,g,{path:y,skip:r})}),!0):(tl(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),t.axes=this.createAxis(o,r),!0)}createSeries(t){const n=oc.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){const i=t.createModuleContext(),s=t.getModuleMap();for(const r of Ou.byType("series-option"))r.optionsKey in n&&r.seriesTypes.includes(t.type)&&s.addModule(r,o=>o.moduleFactory(i))}applySeriesValues(t,n){const i=t.getModuleMap(),{type:s,data:r,listeners:o,seriesGrouping:a,showInMiniChart:l,...c}=n;for(const d of rD)if(d.type==="series-option"&&d.optionsKey in c){const f=i.getModule(d.optionsKey);if(f){const g=c[d.optionsKey];delete c[d.optionsKey],f.properties.set(g)}}c.visible!=null&&(t.visible=c.visible),t.properties.set(c),"data"in n&&t.setOptionsData(r),o&&this.registerListeners(t,o),"seriesGrouping"in n&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,n){const i=[],s=this.getModuleContext();for(let r=0;r<t.length;r++){const o=t[r],a=Wm.create(o.type,s);this.applyAxisModules(a,o),L0(a,o,{path:`axes[${r}]`,skip:n}),i.push(a)}return mwe(i),i}applyAxisModules(t,n){const i=t.createModuleContext(),s=t.getModuleMap();for(const r of Ou.byType("axis-option")){const o=n[r.optionsKey]!=null;o!==s.isEnabled(r)&&(o?(s.addModule(r,a=>a.moduleFactory(i)),t[r.optionsKey]=s.getModule(r)):(s.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(const[i,s]of fc(n))t.addEventListener(i,s)}};Ji.chartsInstances=new WeakMap;L([ro({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Ji.chartsInstances.set(e,this))},oldValue(e){Ji.chartsInstances.delete(e)}})],Ji.prototype,"container",2);L([ro({newValue(e){this.resize("width option",{inWidth:e})}})],Ji.prototype,"width",2);L([ro({newValue(e){this.resize("height option",{inHeight:e})}})],Ji.prototype,"height",2);L([ro({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Ji.prototype,"minWidth",2);L([ro({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Ji.prototype,"minHeight",2);L([ro({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],Ji.prototype,"overrideDevicePixelRatio",2);L([F],Ji.prototype,"padding",2);L([F],Ji.prototype,"keyboard",2);L([F],Ji.prototype,"touch",2);L([F],Ji.prototype,"mode",2);L([F],Ji.prototype,"styleNonce",2);L([Zs("chartCaptions.title")],Ji.prototype,"title",2);L([Zs("chartCaptions.subtitle")],Ji.prototype,"subtitle",2);L([Zs("chartCaptions.footnote")],Ji.prototype,"footnote",2);L([F],Ji.prototype,"formatter",2);L([F],Ji.prototype,"suppressFieldDotNotation",2);L([F],Ji.prototype,"loadGoogleFonts",2);L([ro({changeValue(e,t){this.onAxisChange(e,t)}})],Ji.prototype,"axes",2);L([ro({changeValue(e,t){this.onSeriesChange(e,t)}})],Ji.prototype,"series",2);var nk=Ji;function hj(e,t){var o,a,l,c,d,f;let n=[];const i=(a=(o=e==null?void 0:e.series)==null?void 0:o[0])==null?void 0:a.type,s=i==="linear-gauge"||i==="radial-gauge",r=i?$s.get(i):"unknown";for(const g of rD)if(!(r!=="unknown"&&!g.chartTypes.includes(r))){if(g.type==="root"||g.type==="legend"){const y=e[g.optionsKey];if(y==null)continue;g.optionsInnerKey?y[g.optionsInnerKey]&&(n.push(`${g.optionsKey}.${g.optionsInnerKey}`),delete y[g.optionsInnerKey]):(n.push(g.optionsKey),delete e[g.optionsKey])}else if(g.type==="axis"){if(!("axes"in e)||!gn(e.axes)||!((l=e.axes)!=null&&l.some(y=>y.type===g.identifier)))continue;n.push(`axis[type=${g.identifier}]`),e.axes=e.axes.filter(y=>y.type!==g.identifier)}else if(g.type==="axis-option"){if(!("axes"in e)||!gn(e.axes)||!((c=e.axes)!=null&&c.some(y=>y[g.optionsKey])))continue;n.push(`axis.${g.optionsKey}`),e.axes.forEach(y=>{y[g.optionsKey]&&delete y[g.optionsKey]})}else if(g.type==="series"){if(g.community||!gn(e.series)||!((d=e.series)!=null&&d.some(y=>y.type===g.identifier)))continue;n.push(`series[type=${g.identifier}]`),e.series=e.series.filter(y=>y.type!==g.identifier)}else if(g.type==="series-option"){if(!gn(e.series)||!((f=e.series)!=null&&f.some(y=>y[g.optionsKey])))continue;n.push(`series.${g.optionsKey}`),e.series.forEach(y=>{y[g.optionsKey]&&delete y[g.optionsKey]})}}if(n.length&&!t){s&&(n=["AgCharts.createGauge"]);let g="ag-charts-enterprise",y="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(g="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",y="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),ze.warnOnce([`unable to use these enterprise features as '${g}' has not been loaded:`,"",...n,"",`See: ${y}`].join(`
`))}}function tSe(e){const t="mode"in e&&e.mode==="integrated";for(const n of Ou.byType("root","legend")){const i=e[n.optionsKey],s=i!=null&&i.enabled===!1,r=!("removable"in n)||n.removable===!0||n.removable==="standalone-only"&&!t;s&&r&&delete e[n.optionsKey]}}function iK(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var bs={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Gd={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},wB={};Zu(wB,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>vD,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>wD,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>SD,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>bM,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>CM,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>bD,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>CD,DEFAULT_CAPTION_ALIGNMENT:()=>ig,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ng,DEFAULT_FIBONACCI_STROKES:()=>vM,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Ns,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Zi,DEFAULT_GRIDLINE_ENABLED:()=>ac,DEFAULT_POLAR_SERIES_STROKE:()=>ck,DEFAULT_SEPARATION_LINES_COLOUR:()=>mD,DEFAULT_SHADOW_COLOUR:()=>Ig,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>uk,DEFAULT_TEXTBOX_COLOR:()=>DD,DEFAULT_TEXTBOX_FILL:()=>xD,DEFAULT_TEXTBOX_STROKE:()=>MD,DEFAULT_TEXT_ANNOTATION_COLOR:()=>yD,DEFAULT_TOOLBAR_POSITION:()=>AD,IS_DARK_THEME:()=>yC,PALETTE_ALT_DOWN_FILL:()=>DB,PALETTE_ALT_DOWN_STROKE:()=>xB,PALETTE_ALT_NEUTRAL_FILL:()=>AB,PALETTE_ALT_NEUTRAL_STROKE:()=>RB,PALETTE_ALT_UP_FILL:()=>MB,PALETTE_ALT_UP_STROKE:()=>SB,PALETTE_DOWN_FILL:()=>ok,PALETTE_DOWN_STROKE:()=>sk,PALETTE_NEUTRAL_FILL:()=>lk,PALETTE_NEUTRAL_STROKE:()=>ak,PALETTE_UP_FILL:()=>rk,PALETTE_UP_STROKE:()=>ik});var yC=Symbol("is-dark-theme"),mD=Symbol("default-separation-lines-colour"),Ig=Symbol("default-shadow-colour"),ng=Symbol("default-caption-layout-style"),ig=Symbol("default-caption-alignment"),ik=Symbol("palette-up-stroke"),sk=Symbol("palette-down-stroke"),rk=Symbol("palette-up-fill"),ok=Symbol("palette-down-fill"),ak=Symbol("palette-neutral-stroke"),lk=Symbol("palette-neutral-fill"),SB=Symbol("palette-alt-up-stroke"),xB=Symbol("palette-alt-down-stroke"),MB=Symbol("palette-alt-up-fill"),DB=Symbol("palette-alt-down-fill"),AB=Symbol("palette-gray-fill"),RB=Symbol("palette-gray-stroke"),ck=Symbol("default-polar-series-stroke"),uk=Symbol("default-sparkline-crosshair-stroke"),Zi=Symbol("default-financial-charts-annotation-stroke"),vM=Symbol("default-hierarchy-strokes"),yD=Symbol("default-text-annotation-color"),Ns=Symbol("default-financial-charts-annotation-background-fill"),vD=Symbol("default-annotation-handle-fill"),bD=Symbol("default-annotation-statistics-fill"),CD=Symbol("default-annotation-statistics-stroke"),wD=Symbol("default-annotation-statistics-color"),SD=Symbol("default-annotation-statistics-divider-stroke"),bM=Symbol("default-annotation-statistics-fill"),CM=Symbol("default-annotation-statistics-stroke"),xD=Symbol("default-textbox-fill"),MD=Symbol("default-textbox-stroke"),DD=Symbol("default-textbox-color"),AD=Symbol("default-toolbar-position"),ac=Symbol("default-gridline-enabled"),sK=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],nSe={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},TB={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},dk={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},iSe={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},bw={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},sSe={...bw,colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]},rSe=e=>({...bw,colorStops:{$if:[{$or:[{$isGradient:{$palette:`${e}.fill`}},{$isPattern:{$palette:`${e}.fill`}},{$isImage:{$palette:`${e}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]}}),hk={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},RD={...hk,reverse:!0},oSe={...hk,bounds:"series"},aSe={...hk,bounds:"series",reverse:!0},lSe={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},hh={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:dk,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},cSe={...hh,fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}},Py={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function Ga(e){return F5(e,t=>{const n=ai.fromString(t);return[ai.darken(n,.15).toString(),t,ai.lighten(n,.15).toString()]})}var EB={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},rK={...EB,fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}},yl={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function kg(e=!0){return{enabled:!0,highlightedItem:e?rK:EB,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function oK(e=!0){return{enabled:!0,highlightedItem:e?rK:EB,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var aK={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},RO="white",uSe={get cartesian(){return{seriesTypes:$s.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:$s.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:$s.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:$s.standaloneTypes,commonOptions:[]}}},dSe={"radial-gauge":!0,"linear-gauge":!0};function hSe(e){return dSe[e]===!0}var xa=class p0{static getDefaultColors(){return{fills:bs,fillsFallback:Object.values(bs),strokes:Gd,sequentialColors:Ga(bs),divergingColors:[bs.ORANGE,bs.YELLOW,bs.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:ai.interpolate([ai.fromHexString(bs.BLUE),ai.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[bs.GREEN,bs.YELLOW,bs.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:bs.GREEN,stroke:Gd.GREEN},down:{fill:bs.RED,stroke:Gd.RED},neutral:{fill:bs.GRAY,stroke:Gd.GRAY},altUp:{fill:bs.BLUE,stroke:Gd.BLUE},altDown:{fill:bs.ORANGE,stroke:Gd.ORANGE},altNeutral:{fill:bs.GRAY,stroke:Gd.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:RO,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:Vd,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(t,{title:n,time:i}){return Rn(t,n&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Ia.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},i&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Ia.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:ng,textAlign:ig},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Ia.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ng,textAlign:ig},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:Ia.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ng,textAlign:ig},legend:{...aK,enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:Ia.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}},tooltip:{enabled:!0,darkTheme:yC,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:yC},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(t={}){const{overrides:n,palette:i,params:s}=Bi(t),r=this.createChartConfigPerChartType(this.getDefaults()),o={};n&&this.processOverrides(o,n);const{fills:a,strokes:l,sequentialColors:c,...d}=this.getDefaultColors();this.palette=Ud(Rn(i,{fills:Object.values(a),strokes:Object.values(l),sequentialColors:Object.values(c),...d})),this.paletteType=iK(i),this.params=Rn(s,this.getPublicParameters()),this.config=Ud(Bi(r)),this.overrides=Ud(n),this.presets=Ud(o)}processOverrides(t,n){$s.seriesTypes.forEach(i=>{const s=i,r=n[s];hSe(s)&&(t[s]=r,delete n[s])})}createChartConfigPerChartType(t){for(const[n,{seriesTypes:i}]of fc(uSe)){const s=DF.get(n);for(const r of i)t[r]??(t[r]=Bi(s))}return t}getDefaults(){const t=(n,i)=>{const s={},r={axes:{},...rB.getThemeTemplates(),...this.getChartDefaults(),...DF.get(n)};for(const o of i){s[o]=Rn(oc.getThemeTemplate(o),s[o]??Bi(r));const{axes:a}=s[o];for(const l of Wm.keys())a[l]=Rn(a[l],Wm.getThemeTemplate(l),p0.axisDefault[l]);(o==="map-shape-background"||o==="map-line-background")&&delete s[o].series.tooltip}return s};return Rn(t("cartesian",$s.cartesianTypes),t("polar",$s.polarTypes),t("topology",$s.topologyTypes),t("standalone",$s.standaloneTypes))}static applyTemplateTheme(t,n,i){if(gn(t))for(let s=0;s<t.length;s++){const r=t[s];typeof r=="symbol"&&(i!=null&&i.has(r))&&(t[s]=i.get(r))}else for(const s of Object.keys(t)){const r=t[s];typeof r=="symbol"&&(i!=null&&i.has(r))&&(t[s]=i.get(r))}}templateTheme(t,n=!0){const i=n?Bi(t):t,s=this.getTemplateParameters();return lg(i,p0.applyTemplateTheme,void 0,void 0,s),i}getDefaultColors(){return p0.getDefaultColors()}getPublicParameters(){return p0.getDefaultPublicParameters()}getTemplateParameters(){var i,s,r,o,a,l,c,d,f,g,y,v;const t=new Map;t.set(yC,!1),t.set(mD,"#d9d9d9"),t.set(Ig,"#00000080"),t.set(uk,"#aaa"),t.set(ng,"block"),t.set(ig,"center"),t.set(vM,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),t.set(ck,RO),t.set(Zi,bs.BLUE),t.set(Ns,bs.BLUE),t.set(yD,bs.BLUE),t.set(vD,RO),t.set(bD,"#fafafa"),t.set(CD,"#ddd"),t.set(wD,"#000"),t.set(SD,"#181d1f"),t.set(bM,"#e35c5c"),t.set(CM,"#e35c5c"),t.set(xD,"#fafafa"),t.set(MD,"#ddd"),t.set(DD,"#000"),t.set(AD,"top"),t.set(ac,!1);const n=this.getDefaultColors();return t.set(ik,((i=this.palette.up)==null?void 0:i.stroke)??n.up.stroke),t.set(rk,((s=this.palette.up)==null?void 0:s.fill)??n.up.fill),t.set(sk,((r=this.palette.down)==null?void 0:r.stroke)??n.down.stroke),t.set(ok,((o=this.palette.down)==null?void 0:o.fill)??n.down.fill),t.set(ak,((a=this.palette.neutral)==null?void 0:a.stroke)??n.neutral.stroke),t.set(lk,((l=this.palette.neutral)==null?void 0:l.fill)??n.neutral.fill),t.set(SB,((c=this.palette.altUp)==null?void 0:c.stroke)??n.up.stroke),t.set(MB,((d=this.palette.altUp)==null?void 0:d.fill)??n.up.fill),t.set(xB,((f=this.palette.altDown)==null?void 0:f.stroke)??n.down.stroke),t.set(DB,((g=this.palette.altDown)==null?void 0:g.fill)??n.down.fill),t.set(AB,((y=this.palette.altNeutral)==null?void 0:y.fill)??n.altNeutral.fill),t.set(RB,((v=this.palette.altNeutral)==null?void 0:v.stroke)??n.altNeutral.stroke),t}};xa.axisDefault={number:xa.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:xa.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:xa.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:ac},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":xa.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:mD},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:xa.getAxisDefaults({keys:[],gridLine:{enabled:ac},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":xa.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:ac},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":xa.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:ac},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":xa.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ac},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":xa.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ac}},{title:!1,time:!1}),"radius-category":xa.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":xa.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var vc=xa,TO="#192232",pr={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},nm={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Cw=class extends vc{getDefaultColors(){return{fills:pr,fillsFallback:Object.values(pr),strokes:nm,sequentialColors:Ga(pr),divergingColors:[pr.ORANGE,pr.YELLOW,pr.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[pr.GREEN,pr.YELLOW,pr.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:pr.GREEN,stroke:nm.GREEN},down:{fill:pr.RED,stroke:nm.RED},neutral:{fill:pr.GRAY,stroke:nm.GRAY},altUp:{fill:pr.BLUE,stroke:nm.BLUE},altDown:{fill:pr.ORANGE,stroke:nm.ORANGE},altNeutral:{fill:pr.GRAY,stroke:nm.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:.737},backgroundColor:TO,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yC,!0),e.set(ck,TO),e.set(mD,"#7f8389"),e.set(Zi,pr.BLUE),e.set(yD,"#fff"),e.set(Ns,pr.BLUE),e.set(vD,TO),e.set(bD,"#28313e"),e.set(CD,"#4b525d"),e.set(wD,"#fff"),e.set(SD,"#fff"),e.set(xD,"#28313e"),e.set(MD,"#4b525d"),e.set(DD,"#fff"),e}constructor(e){super(e)}},Qo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},im={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},fSe=class extends Cw{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Qo},fillsFallback:Object.values({...Qo}),strokes:{...im},sequentialColors:Ga(Qo),divergingColors:[Qo.GREEN,Qo.BLUE,Qo.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Qo.GREEN,stroke:im.GREEN},down:{fill:Qo.RED,stroke:im.RED},neutral:{fill:Qo.BLUE,stroke:im.BLUE},altUp:{fill:Qo.GREEN,stroke:im.GREEN},altDown:{fill:Qo.RED,stroke:im.RED},altNeutral:{fill:Qo.GRAY,stroke:im.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,Qo.BLUE),e.set(Ns,Qo.BLUE),e.set(ng,"overlay"),e.set(ig,"left"),e.set(AD,"bottom"),e.set(ac,!0),e}},Jo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},sm={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},gSe=class extends vc{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Jo},fillsFallback:Object.values({...Jo}),strokes:{...sm},sequentialColors:Ga(Jo),divergingColors:[Jo.GREEN,Jo.BLUE,Jo.RED],up:{fill:Jo.GREEN,stroke:sm.GREEN},down:{fill:Jo.RED,stroke:sm.RED},neutral:{fill:Jo.BLUE,stroke:sm.BLUE},altUp:{fill:Jo.GREEN,stroke:sm.GREEN},altDown:{fill:Jo.RED,stroke:sm.RED},altNeutral:{fill:Jo.GRAY,stroke:sm.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,Jo.BLUE),e.set(Ns,Jo.BLUE),e.set(ng,"overlay"),e.set(ig,"left"),e.set(AD,"bottom"),e.set(ac,!0),e}},mr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},rm={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},pSe=class extends Cw{getDefaultColors(){return{...super.getDefaultColors(),fills:mr,fillsFallback:Object.values(mr),strokes:rm,sequentialColors:Ga(mr),divergingColors:[mr.ORANGE,mr.YELLOW,mr.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[mr.GREEN,mr.YELLOW,mr.RED],up:{fill:mr.GREEN,stroke:rm.GREEN},down:{fill:mr.RED,stroke:rm.RED},neutral:{fill:mr.GRAY,stroke:rm.GRAY},altUp:{fill:mr.BLUE,stroke:rm.BLUE},altDown:{fill:mr.RED,stroke:rm.RED},altNeutral:{fill:mr.GRAY,stroke:rm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,mr.BLUE),e.set(Ns,mr.BLUE),e}},yr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},om={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},mSe=class extends vc{getDefaultColors(){return{...super.getDefaultColors(),fills:yr,fillsFallback:Object.values(yr),strokes:om,sequentialColors:Ga(yr),divergingColors:[yr.ORANGE,yr.YELLOW,yr.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[yr.GREEN,yr.YELLOW,yr.RED],up:{fill:yr.GREEN,stroke:om.GREEN},down:{fill:yr.RED,stroke:om.RED},neutral:{fill:yr.GRAY,stroke:om.GRAY},altUp:{fill:yr.BLUE,stroke:om.BLUE},altDown:{fill:yr.RED,stroke:om.RED},altNeutral:{fill:yr.GRAY,stroke:om.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,yr.BLUE),e.set(Ns,yr.BLUE),e}},Ui={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},am={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},ySe=class extends Cw{getDefaultColors(){return{fills:Ui,fillsFallback:Object.values(Ui),strokes:am,sequentialColors:Ga(Ui),divergingColors:[Ui.BLUE,Ui.RED],hierarchyColors:[],secondSequentialColors:[Ui.BLUE,Ui.PURPLE,Ui.MAGENTA,Ui.PINK,Ui.RED,Ui.ORANGE,Ui.YELLOW,Ui.GREEN],secondDivergingColors:[Ui.BLUE,Ui.RED],secondHierarchyColors:[],up:{fill:Ui.GREEN,stroke:am.GREEN},down:{fill:Ui.RED,stroke:am.RED},neutral:{fill:Ui.GRAY,stroke:am.GRAY},altUp:{fill:Ui.BLUE,stroke:am.BLUE},altDown:{fill:Ui.RED,stroke:am.RED},altNeutral:{fill:Ui.GRAY,stroke:am.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,Ui.BLUE),e.set(Ns,Ui.BLUE),e}},$i={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},lm={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},vSe=class extends vc{getDefaultColors(){return{...super.getDefaultColors(),fills:$i,fillsFallback:Object.values($i),strokes:lm,sequentialColors:Ga($i),divergingColors:[$i.BLUE,$i.RED],hierarchyColors:[],secondSequentialColors:[$i.BLUE,$i.PURPLE,$i.MAGENTA,$i.PINK,$i.RED,$i.ORANGE,$i.YELLOW,$i.GREEN],secondDivergingColors:[$i.BLUE,$i.RED],secondHierarchyColors:[],up:{fill:$i.GREEN,stroke:lm.GREEN},down:{fill:$i.RED,stroke:lm.RED},neutral:{fill:$i.GRAY,stroke:lm.GRAY},altUp:{fill:$i.BLUE,stroke:lm.BLUE},altDown:{fill:$i.RED,stroke:lm.RED},altNeutral:{fill:$i.GRAY,stroke:lm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,$i.BLUE),e.set(Ns,$i.BLUE),e}},Ls={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Ff={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},bSe=class extends Cw{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Ls,RED:Ls.ORANGE},fillsFallback:Object.values({...Ls,RED:Ls.ORANGE}),strokes:{...Ff,RED:Ff.ORANGE},sequentialColors:Ga({...Ls,RED:Ls.ORANGE}),divergingColors:[Ls.ORANGE,Ls.YELLOW,Ls.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Ls.GREEN,Ls.YELLOW,Ls.ORANGE],up:{fill:Ls.GREEN,stroke:Ff.GREEN},down:{fill:Ls.ORANGE,stroke:Ff.ORANGE},neutral:{fill:Ls.GRAY,stroke:Ff.GRAY},altUp:{fill:Ls.BLUE,stroke:Ff.BLUE},altDown:{fill:Ls.ORANGE,stroke:Ff.ORANGE},altNeutral:{fill:Ls.GRAY,stroke:Ff.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,Ls.BLUE),e.set(Ns,Ls.BLUE),e}},Vs={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Nd={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},CSe=class extends vc{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Vs,RED:Vs.ORANGE},fillsFallback:Object.values({...Vs,RED:Vs.ORANGE}),strokes:{...Nd,RED:Nd.ORANGE},sequentialColors:Ga({...Vs,RED:Vs.ORANGE}),divergingColors:[Vs.ORANGE,Vs.YELLOW,Vs.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[Vs.GREEN,Vs.YELLOW,Vs.ORANGE],secondHierarchyColors:[],up:{fill:Vs.GREEN,stroke:Nd.GREEN},down:{fill:Vs.ORANGE,stroke:Nd.ORANGE},neutral:{fill:Nd.GRAY,stroke:Nd.GRAY},altUp:{fill:Vs.BLUE,stroke:Nd.BLUE},altDown:{fill:Vs.ORANGE,stroke:Nd.ORANGE},altNeutral:{fill:Vs.GRAY,stroke:Nd.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,Vs.BLUE),e.set(Ns,Vs.BLUE),e}},FF=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],wSe={floating:le,placement:_e(...FF),xOffset:Ie,yOffset:Ie},fj=An((e,t)=>{let n;if(typeof e=="string")FF.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Vm(v_.Invalid,`a legend placement string: ["${FF.join('", "')}"]`,e,t.path)));else{const{cleared:i,invalid:s}=Jr(e,wSe);n={valid:s.length===0,cleared:i,invalid:s}}return n},"a legend position object or placement string"),GI=zt(_e("circle","cross","diamond","heart","plus","pin","square","star","triangle"),jn),lK=_e("never","always","hyphenate","on-space"),zI=_e("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),fk=zt(ae,_e("exact","nearest")),IB=zt(Ae,Tr({text:tt(Ae),...Jn},"text segments array")),gj=_e("pointer","start","middle","end"),kE={enabled:le,text:IB,textAlign:_e("left","center","right"),wrapping:_e("never","always","hyphenate","on-space"),spacing:ae,maxWidth:ae,maxHeight:ae,...Jn};kE.padding=Ft(ae);var $T={enabled:le,text:IB,renderer:iy(zt(Ae,p5))},EO=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],cK={type:_e("action","separator"),showOn:_e("always","series-area","series-node","legend-item"),label:tt(Ae),enabled:le,action:jn,items:(e,t)=>uK(e,t)};cK.iconUrl=Ft(Ae);var SSe=Ss(cK),xSe=An((e,t)=>{let n;return typeof e=="string"?EO.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Vm(v_.Invalid,`a context menu item string alias: ["${EO.join('", "')}"]`,e,t.path))):n=SSe(e,t),n},`a context menu item object or string alias: [${EO.join(", ")}]`),uK=Mt(xSe,"a menu items array",!1),Mm={label:Ae,ariaLabel:Ae,tooltip:Ae,icon:_e("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},ql=zt(Ae,iy(Ae)),dK=Ss({x:ql,y:ql,angle:ql,radius:ql,size:ql,color:ql,label:ql,secondaryLabel:ql,sectorLabel:ql,calloutLabel:ql,legendItem:ql}),Mc=An(bye,"a valid number format string"),Lt={width:ae,height:ae,minWidth:ae,minHeight:ae,suppressFieldDotNotation:le,title:kE,subtitle:kE,footnote:kE,padding:{top:ae,right:ae,bottom:ae,left:ae},seriesArea:{border:xE,clip:le,cornerRadius:Ie,padding:SE},legend:{enabled:le,position:fj,orientation:_e("horizontal","vertical"),maxWidth:ae,maxHeight:ae,spacing:ae,border:xE,cornerRadius:Ie,padding:SE,fill:Cl,fillOpacity:ct,preventHidingAll:le,reverseOrder:le,toggleSeries:le,item:{marker:{size:ae,shape:GI,padding:ae,strokeWidth:ae},line:{length:ae,strokeWidth:ae},label:{maxLength:ae,formatter:jn,...Jn},maxWidth:ae,paddingX:ae,paddingY:ae,showSeriesStroke:le},pagination:{marker:{size:ae,shape:GI,padding:ae},activeStyle:{...Je,...He},inactiveStyle:{...Je,...He},highlightStyle:{...Je,...He},label:Jn},listeners:{legendItemClick:jn,legendItemDoubleClick:jn}},gradientLegend:{enabled:le,position:fj,spacing:ae,reverseOrder:le,border:xE,cornerRadius:Ie,padding:SE,fill:Cl,fillOpacity:ct,gradient:{preferredLength:ae,thickness:ae},scale:{label:{...Jn,minSpacing:ae,format:Mc,formatter:jn},padding:ae,interval:{step:Ie,values:qu,minSpacing:yi(ae,Lu("maxSpacing")),maxSpacing:yi(ae,Pu("minSpacing"))}}},listeners:{seriesNodeClick:jn,seriesNodeDoubleClick:jn,seriesVisibilityChange:jn,click:jn,doubleClick:jn,annotations:jn,zoom:jn},loadGoogleFonts:le,highlight:{range:_e("tooltip","node")},overlays:{loading:$T,noData:$T,noVisibleSeries:$T,unsupportedBrowser:$T},tooltip:{enabled:le,showArrow:le,pagination:le,delay:ae,range:fk,wrapping:lK,mode:_e("single","shared","compact"),position:{anchorTo:_e("pointer","node","chart"),placement:zt(zI,Mt(zI)),xOffset:Ie,yOffset:Ie}},animation:{enabled:le,duration:ae},contextMenu:{enabled:le,items:uK},context:()=>!0,dataSource:{getData:jn},keyboard:{enabled:le,tabIndex:Ie},touch:{dragAction:_e("none","drag","hover")},ranges:{enabled:le,buttons:Tr({...Mm,value:zt(Ie,yi(Mt(zt(Ie,yg)),Ry(2,2)),jn)},"range button options array")},locale:{localeText:M1,getLocaleText:iy(Ae)},background:{visible:le,fill:qe,image:{url:tt(Ae),top:Ie,right:Ie,bottom:Ie,left:Ie,width:ae,height:ae,opacity:ct}},styleNonce:Ae,sync:{enabled:le,groupId:Ae,axes:_e("x","y","xy"),nodeInteraction:le,zoom:le},zoom:{enabled:le,enableAxisDragging:le,enableAxisScrolling:le,enableDoubleClickToReset:le,enablePanning:le,enableScrolling:le,enableSelecting:le,enableTwoFingerZoom:le,keepAspectRatio:le,anchorPointX:gj,anchorPointY:gj,axisDraggingMode:_e("pan","zoom"),axes:_e("x","y","xy"),deceleration:zt(_e("off","short","long"),ct),minVisibleItems:ae,panKey:_e("alt","ctrl","meta","shift"),scrollingStep:ct,autoScaling:{enabled:le,padding:ct},buttons:{enabled:le,buttons:Tr({...Mm,value:_e("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:Ae},"zoom button options array"),visible:_e("always","zoomed","hover")}},formatter:zt(iy(Ae),dK)};Lt.dataSource.requestThrottle=Ft(ae);Lt.dataSource.updateThrottle=Ft(ae);Lt.dataSource.updateDuringInteraction=Ft(le);Lt.zoom.enableIndependentAxes=Ft(le);Lt.statusBar=Ft(xt);Lt.foreground=Ft({visible:le,text:Ae,image:{url:Ae,top:Ie,right:Ie,bottom:Ie,left:Ie,width:ae,height:ae,opacity:ct},...Je});Lt.overrideDevicePixelRatio=Ft(Ie);Lt.sync.domainMode=Ft(_e("direction","position","key"));var pn={cursor:Ae,context:()=>!0,showInLegend:le,nodeClickRange:fk,listeners:{seriesNodeClick:jn,seriesNodeDoubleClick:jn},highlightStyle:{item:{...Je,...He},series:{enabled:le,dimOpacity:ct,strokeWidth:ae}},highlight:C5(Ii)},Dc={...pn,id:Ae,visible:le,context:()=>!0,data:qu};Dc.seriesGrouping=Ft(xt);var Dh={enabled:le,shape:GI,size:ae,itemStyler:vi({...Je,...He,...at,shape:GI,size:ae}),...Je,...He,...at},ti={enabled:le,formatter:jn,format:Mc,itemStyler:Ft(vi({enabled:le,...cc,...Jn})),...cc,...Jn},Cg={...ti,lineHeight:ae,minimumFontSize:ae,wrapping:lK,overflowStrategy:_e("ellipsis","hide")},TD={visible:le,cap:{visible:le,length:ae,lengthRatio:ct,...He,...at},...He,...at},gk={...TD,xLowerKey:Ae,xUpperKey:Ae,yLowerKey:Ae,yUpperKey:Ae,xLowerName:Ae,xUpperName:Ae,yLowerName:Ae,yUpperName:Ae,itemStyler:vi({visible:le,...He,...at,cap:{visible:le,length:ae,lengthRatio:ct,...He,...at}})},En={enabled:le,showArrow:le,range:fk,renderer:iy(zt(Ae,Ss({heading:Ae,title:Ae,data:Tr({label:tt(Ae),value:tt(Ae)})},"tooltip renderer result object"))),position:{anchorTo:_e("node","pointer","chart"),placement:zt(zI,Mt(zI)),xOffset:Ie,yOffset:Ie},interaction:{enabled:le}},Ju={enabled:le,xOffset:Ie,yOffset:Ie,blur:ae,color:qe},pk=XM({linear:{},smooth:{tension:ct},step:{position:_e("start","middle","end")}},"interpolation line options"),wM={fills:yi(Ry(2),Mt(Ss({color:qe,stop:Ie},"")),b5),fillMode:_e("continuous","discrete")},mk={value:tt(Ie),text:Ae,shape:zt(_e("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),jn),placement:_e("before","after","middle"),spacing:ae,size:ae,rotation:Ie,...Je,...He,...at},yk={value:tt(Ie),text:Ae,shape:zt(_e("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),jn),placement:_e("inside","outside","middle"),spacing:ae,size:ae,rotation:Ie,label:{...ti,spacing:ae},...Je,...He,...at},HI={direction:_e("horizontal","vertical"),cornerMode:_e("container","item"),cornerRadius:ae,thickness:ae,segmentation:{enabled:le,spacing:ae,interval:{values:Mt(Ie),step:Ie,count:Ie}},bar:{enabled:le,thickness:ae,thicknessRatio:ct,...wM,...Je,...He,...at},label:{...Cg,text:Ae,spacing:ae,avoidCollisions:le,placement:_e("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")},tooltip:En,...Ke(pn,["listeners"])},wg={...HI,...Ke(Dc,["listeners"]),type:tt(bi("linear-gauge")),value:tt(Ie),scale:{min:yi(Ie,Lu("max")),max:yi(Ie,Pu("min")),label:{enabled:le,formatter:jn,rotation:Ie,spacing:ae,minSpacing:ae,placement:_e("before","after"),avoidCollisions:le,format:Mc,...Jn},interval:{values:Mt(Ie),step:Ie},...wM,...Je,...He,...at},targets:Tr(mk,"target options array")};wg.margin=Ft(Ie);wg.defaultColorRange=Ft(Mt(qe));wg.defaultTarget=Ft({...mk,value:Ie,label:{...ti,spacing:Ie}});wg.defaultScale=Ft(wg.scale);wg.scale.defaultFill=Ft(qe);var VI={outerRadius:ae,innerRadius:ae,outerRadiusRatio:ct,innerRadiusRatio:ct,startAngle:Ie,endAngle:Ie,spacing:ae,cornerMode:_e("container","item"),cornerRadius:ae,scale:{min:yi(Ie,Lu("max")),max:yi(Ie,Pu("min")),label:{enabled:le,formatter:jn,rotation:Ie,spacing:ae,minSpacing:ae,avoidCollisions:le,format:Mc,...Jn},interval:{values:Mt(Ie),step:Ie},...wM,...Je,...He,...at},segmentation:{enabled:le,spacing:ae,interval:{values:Mt(Ie),step:Ie,count:Ie}},bar:{enabled:le,...wM,...Je,...He,...at},needle:{enabled:le,spacing:ae,radiusRatio:ct,...Je,...He,...at},label:{text:Ae,spacing:ae,...Cg},secondaryLabel:{text:Ae,...Cg},tooltip:En,...pn},ED={...VI,...Dc,type:tt(bi("radial-gauge")),value:tt(Ie),targets:Tr(yk,"target options array")};ED.defaultColorRange=Ft(Mt(qe));ED.defaultTarget=Ft({...yk,value:Ie,label:{...ti,spacing:Ie}});ED.scale.defaultFill=Ft(qe);var ID=_e("millisecond","second","minute","hour","day","month","year"),hK={unit:tt(ID),step:iM,epoch:yg,utc:le};hK.every=jn;var vk=Ss(hK,"a time interval object"),cy={enabled:le,text:Ae,padding:Ie,...Jn},Du=An({enabled:le,type:tt(_e("line","range")),range:yi(An((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),Mt(xt),Ry(2,2)),value:yi(An((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),xt),label:cy,fill:qe,fillOpacity:ct,...He,...at},"cross-line options"),zd={...Du,label:{...cy,position:_e("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:Ie}},Ah={enabled:le,rotation:Ie,avoidCollisions:le,minSpacing:ae,spacing:ae,formatter:jn,itemStyler:Ft(vi({...Jn,...cc,spacing:Ie})),...Jn,...cc},kD={autoRotate:le,autoRotateAngle:Ie,wrapping:_e("never","always","hyphenate","on-space"),truncate:le,...Ah},kB={format:Mc,...kD},LD={format:zt(Ae,M1),...kD},fK={enabled:le,width:ae,size:ae,stroke:qe},bk={enabled:le,label:LD,tick:fK},LB={values:Mt(xt),minSpacing:ae},Oy={reverse:le,gridLine:{enabled:le,width:ae,style:Tr({fill:qe,fillOpacity:ae,stroke:zt(qe,xI),strokeWidth:ae,lineDash:Mt(ae)},"a grid-line style object array")},interval:LB,label:Ah,line:{enabled:le,width:ae,stroke:qe},tick:fK,context:()=>!0};Oy.layoutConstraints=Ft({stacked:tt(le),align:tt(_e("start","end")),unit:tt(_e("percent","px")),width:tt(ae)});var Rh={...Oy,keys:Mt(Ae),crossLines:Tr(zd,"a cross-line options array"),position:_e("top","right","bottom","left"),thickness:ae,maxThicknessRatio:ct,title:{enabled:le,text:Ae,spacing:ae,formatter:jn,...Jn}};Rh.title._enabledFromTheme=Ft(le);var PD={enabled:le,...Je,...He,...at};function Lg(e,t){const n={enabled:le,xOffset:Ie,yOffset:Ie,formatter:iy(Ae),renderer:iy(zt(Ae,Ss({text:Ae,color:qe,backgroundColor:qe,opacity:ct},"crosshair label renderer result object")))};let i;return e&&(i={...n,format:t?zt(Ae,Ss({millisecond:Ae,second:Ae,hour:Ae,day:Ae,month:Ae,year:Ae})):Ae}),{enabled:le,snap:le,label:i??n,...He,...at}}function ww(e,t){return{min:yi(e,Lu("max")),max:yi(e,Pu("min")),nice:le,interval:{step:t?zt(iM,ID,vk):iM,values:Mt(e),minSpacing:yi(ae,Lu("maxSpacing")),maxSpacing:yi(ae,Pu("minSpacing"))}}}var PB={step:zt(iM,ID,vk),values:Mt(zt(Ie,yg)),minSpacing:yi(ae,Lu("maxSpacing")),maxSpacing:yi(ae,Pu("minSpacing")),placement:_e("on","between")},Sw=class gK extends fD{constructor(t,n=new yw,i=!0){super(t,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=i,this.nice=!1}static is(t){return t instanceof gK}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:n}=this;if(!Wn(t)||!Wn(n)){const i=this.reduceBandScalePadding();t??(t=i.inner),n??(n=i.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=n??0}calculateGridLines(t,n,i){const s=super.calculateGridLines(t,n,i);return this.interval.placement==="between"&&t.length>0&&s.push(super.calculateGridLine({index:t.at(-1).index+1,tickId:`after:${t.at(-1).tickId}`,translation:this.range[1]},t.length,n,i,t)),s}calculateGridLine({index:t,tickId:n,translation:i},s,r,o,a){const{gridLine:l,horizontal:c,interval:d,scale:f}=this;if(d.placement!=="between")return super.calculateGridLine({index:t,tickId:n,translation:i},s,r,o,a);const g=i<f.step?Math.floor(f.step/2):f.step/2,y=i-g,[v,w,S,x]=c?[y,Math.max(r,o),y,Math.min(r,o)]:[Math.min(r,o),y,Math.max(r,o),y],{style:M}=l,{stroke:A,strokeWidth:k=0,lineDash:I}=M[t%M.length]??{};return{tickId:n,offset:y,x1:v,y1:w,x2:S,y2:x,stroke:A,strokeWidth:k,lineDash:I}}calculateGridFills(t,n,i){const{horizontal:s,range:r,scale:o}=this;if(this.interval.placement!=="between")return super.calculateGridFills(t,n,i);const a=[];if(t.length==0)return a;const l=t[0],c=l.translation>r[0]+o.step/2,d=t[t.length-1],f=s&&d.translation<r[1]-o.step/2;if(c){const g={tickId:`before:${l.tickId}`,translation:l.translation-o.step};a.push(this.calculateGridFill(g,-1,l.index-1,n,i,t))}if(a.push(...t.map((g,y)=>this.calculateGridFill(g,y,g.index,n,i,t))),f){const g={tickId:`after:${d.tickId}`,translation:d.translation+o.step};a.push(this.calculateGridFill(g,t.length,d.index+1,n,i,t))}return a}calculateGridFill({tickId:t,translation:n},i,s,r,o,a){const{gridLine:l,horizontal:c,interval:d,scale:f}=this;if(d.placement!=="between")return super.calculateGridFill({tickId:t,translation:n},i,s,r,o,a);const g=n-f.step/2,y=n+f.step/2,[v,w,S,x]=c?[g,Math.max(r,o),y,Math.min(r,o)]:[Math.min(r,o),g,Math.max(r,o),y],{fill:M,fillOpacity:A}=l.style[s%l.style.length]??{};return{tickId:t,x1:v,y1:w,x2:S,y2:x,fill:M,fillOpacity:A}}calculateTickLines(t,n){var s;const i=super.calculateTickLines(t,n);return this.interval.placement==="between"&&t.length>0&&i.push(super.calculateTickLine({primary:!1,tickId:`after:${(s=t.at(-1))==null?void 0:s.tickId}`,translation:this.range[1]},t.length,n,t)),i}calculateTickLine({primary:t,tickId:n,translation:i},s,r,o){const{horizontal:a,interval:l,primaryTick:c,scale:d,tick:f}=this;if(l.placement!=="between")return super.calculateTickLine({primary:t,tickId:n,translation:i},s,r,o);const g=t&&(c!=null&&c.enabled)?c:f,y=-r*this.getTickSize(g),v=i<d.step?Math.floor(d.step/2):d.step/2,w=i-v,[S,x,M,A]=a?[w,0,w,y]:[0,w,y,w],{stroke:k,width:I}=g;return{tickId:n,offset:w,x1:S,y1:x,x2:M,y2:A,stroke:k,strokeWidth:I,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((t,n)=>{var s;const i=(s=n.getBandScalePadding)==null?void 0:s.call(n);return i&&(t.inner>i.inner&&(t.inner=i.inner),t.outer<i.outer&&(t.outer=i.outer)),t},{inner:1/0,outer:-1/0})}tickFormatParams(t,n,i,s){return{type:"category"}}datumFormatParams(t,n,i,s,r){const{datum:o,seriesId:a,legendItemName:l,key:c,source:d,property:f,domain:g,boundSeries:y}=n;return Array.isArray(t)&&t.some(v=>typeof v!="string")?t=t.map(String):!Array.isArray(t)&&typeof t!="string"&&typeof t!="number"&&!(t instanceof Date)&&(t=String(t)),{type:"category",value:t,datum:o,seriesId:a,legendItemName:l,key:c,source:d,property:f,domain:g,boundSeries:y}}};Sw.className="CategoryAxis";Sw.type="category";L([F],Sw.prototype,"groupPaddingInner",2);L([F],Sw.prototype,"paddingInner",2);L([F],Sw.prototype,"paddingOuter",2);var xw=Sw,pj=class pK extends yw{static is(t){return t instanceof pK}normalizeDomains(...t){const{domain:n}=super.normalizeDomains(...t);return{domain:n,animatable:!1}}findIndex(t){return super.findIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const n=JSON.stringify(t),i=this._domain.find(s=>JSON.stringify(s)===n);if(i!=null)return super.findIndex(i)}};function Pg(e){if(e.length===0)return null;let t=1/0,n=-1/0;for(const s of e){const r=s instanceof Date?s.getTime():s;typeof r=="number"&&(r<t&&(t=r),r>n&&(n=r))}const i=[t,n];return i.every(isFinite)?i:null}function OB(e,t,n){let i=!1;const s=Pg(e);if(s==null)return{extent:t!=null&&n!=null&&t<=n?[t,n]:[],clipped:!1};let[r,o]=s;return t!=null&&(i||(i=t>r),r=t),n!=null&&(i||(i=n<o),o=n),r>o?{extent:[],clipped:!1}:{extent:[r,o],clipped:i}}function Ck(e,t=[0,0]){for(const n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function MSe(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>Ck(i)}}function mK(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:n=>Ck(n),groupAggregateFunction:(n,i=[0,0])=>(i[0]+=(n==null?void 0:n[0])??0,i[1]+=(n==null?void 0:n[1])??0,i)}}function DSe(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>zf.extendDomain(i)}}function _F(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,n=[0,0])=>(n[0]+=(t==null?void 0:t[0])??0,n[1]+=(t==null?void 0:t[1])??0,n)}}function yK(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:i=>Ck(i),groupAggregateFunction:(i,s=[0,0,-1])=>(s[0]+=(i==null?void 0:i[0])??0,s[1]+=(i==null?void 0:i[1])??0,s[2]++,s),finalFunction:(i=[0,0,0])=>{const s=i[0]+i[1];return s>=0?[0,s/i[2]]:[s/i[2],0]}}}function BF(e,t,n){const i={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{const o=r[1]-r[0];return t.aggregateFunction(s).map(a=>a/o)}};return t.groupAggregateFunction&&(i.groupAggregateFunction=t.groupAggregateFunction),i}function vK(e){return()=>{let t=0;return n=>Wn(n)?(t+=e?Math.max(0,n):n,t):n}}function bK(){return()=>{let e=0;return t=>{if(!Wn(t))return t;const n=e;return e+=t,n}}}var ASe=1e3;function Mw(e){return e.input.count<=ASe}function CK(e){return e!=null&&W1(e)}function RSe(e){return e!=null}function wK(e){switch(e){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return CK;default:return RSe}}function SK(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function ug(e,t,n={}){return{property:e,type:"key",valueType:SK(t),validation:wK(t),...n}}function mi(e,t,n={}){return{property:e,type:"value",valueType:SK(t),validation:wK(t),...n}}function xK(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var TSe=function(e){return e};function MK(...e){const t=e.filter(n=>n!=null);return t.length===0?()=>TSe:t.length===1?t[0]:()=>{const n=t.map(i=>i());return(i,s)=>n.reduce((r,o)=>o(r,s),i)}}function DK(e,t={}){const{min:n=-1/0,max:i=1/0,processor:s,...r}=t;return{type:"value",property:e,valueType:"range",validation:CK,processor:MK(s,()=>o=>Wn(o)?At(n,o,i):o),...r}}function GF(e,t,n={}){const{onlyPositive:i,processor:s,...r}=n;return{...mi(e,t,r),processor:MK(s,vK(i))}}function ESe(e,t,n={}){return{...mi(e,t,n),processor:bK()}}function dg(e,t,n,i,s){return[mi(e,s,i),IK(i.groupId,t,n,i.separateNegative),...i.rangeId!=null?[DSe(i.rangeId,i.groupId)]:[]]}function AK(e,t,n){return[mi(e,t,n),kK(n.groupId)]}var RK={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{const i=typeof n[0]=="number"?n[0]:Number(n[0]),s=Math.abs(i-e);return e=i,!isNaN(s)&&s>0&&s<t?s:t}}},TK={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{const i=typeof n[0]=="number"?n[0]:Number(n[0]),s=Math.abs(i-e);return e=i,!isNaN(s)&&s>0&&s>t?s:t}}},EK={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,n)=>{for(let i=0;i<t.length;i++){const s=t[i]-n[i];if(s!==0)return s}return 0})};function ISe({normaliseTo:e}){const t=(n,i)=>{if(i===0)return null;const s=(n??0)*e/i;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(n,i,s)=>{const r=kSe(n,i,s);for(const o of i){const a=s.datumIndices[o];if(a!=null)for(const l of a){const c=n[o],d=c[l];if(d==null){c[l]=void 0;continue}c[l]=typeof d=="number"?t(d,r):d.map(f=>t(f,r))}}}}function kSe(e,t,n){const i=[0,0];for(const s of t){const r=e[s],o=n.datumIndices[s];if(o!=null)for(const a of o){const l=r[a];if(l==null)continue;const c=typeof l=="number"?l:Math.max(...l.map(f=>f??0)),d=c<0?0:1;d===0?i[d]=Math.min(i[d],c):i[d]=Math.max(i[d],c)}}return Math.max(Math.abs(i[0]),i[1])}function wk(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:cM({normaliseTo:t},ISe)}}function LSe({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:i}){const s=e[1]-e[0],r=(o,a,l)=>{const c=e[0]+(o-a)/l*s;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];n!=null&&(l=n),i!=null&&(c=i);const d=c-l;o.domain.values[a]=[e[0],e[1]];const f=o.columns[a];for(let g=0;g<f.length;g+=1)f[g]=r(f[g],l,d)}}function LE(e,t,n,i,s){return{type:"property-value-processor",property:e,adjust:cM({normaliseTo:t,rangeMin:i,rangeMax:s,zeroDomain:n},LSe)}}var N0=1,jI=2;function mj(e,t,n,i){var o,a;let s=N0|jI;if(t.valueType==="category")return n.length<e&&(s&=~N0),s;let r=(o=i[0])==null?void 0:o.valueOf();for(let l=1;s!==0&&l<i.length;l++){const c=(a=i[l])==null?void 0:a.valueOf();(!Number.isFinite(c)||r>c)&&(s&=~jI),Number.isFinite(c)&&r===c&&(s&=~N0),r=c}return s}function OD(e){return{type:"processor",property:"animationValidation",calculate(t){if(!Mw(t))return;const{keys:n,values:i}=t.defs,{input:s,domain:{keys:r,values:o},keys:a,columns:l,invalidKeyCount:c}=t;let d=N0|jI;if(s.count!==0){for(let f=0;d!==0&&f<n.length;f++)for(const g of n[f].scopes){const y=a[f].get(g),v=(c==null?void 0:c.get(g))??0,w=y.length-v;d&=mj(w,n[f],r[f],y)}for(let f=0;d!==0&&f<i.length;f++){const g=i[f];e!=null&&e.includes(g.id)&&(d&=mj(0,g,o[f],l[f]))}}return{uniqueKeys:(d&N0)!==0,orderedKeys:(d&jI)!==0}}}}function PSe({mode:e,separateNegative:t}){return()=>()=>(n,i,s)=>{const r=[0,0];for(const o of i){const a=s.datumIndices[o];if(a!=null)for(const l of a){const c=n[o],d=c[l],f=M_(d)&&t?0:1;Wn(d)&&(e==="normal"&&(r[f]+=d),c[l]=r[f],e==="trailing"&&(r[f]+=d))}}}}function OSe({mode:e,sum:t}){return()=>{const n=[];let i=!0;return()=>(s,r,o)=>{let a=0;for(const l of r){const c=s[l],d=o.datumIndices[l];if(d!=null)for(const f of d){const g=c[f],y=i&&t==="current"?0:n[l];n[l]=g;const v=t==="current"?g:y;if(!Wn(g)||!Wn(y)){c[f]=a;continue}e==="normal"&&(a+=v),c[f]=a,e==="trailing"&&(a+=v)}}i=!1}}}function IK(e,t,n,i=!1){let s;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";s=cM({mode:r,sum:n},OSe)}else s=cM({mode:t,separateNegative:i},PSe);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function NSe(){return()=>(e,t,n)=>{const i=new Float64Array(t.length);let s=0;for(const r of t){const o=e[r],a=n.datumIndices[r];if(a!=null)for(const l of a){const c=o[l];i[s]=Number.isFinite(c)?c:NaN,s+=1,o[l]=i.subarray(0,s)}}}}function kK(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:NSe}}function yj(e){return e.id??e.property}function FSe(e,t,n){var a,l;const i=new Map,s=t.defs.values;for(let c=0;c<s.length;c+=1){const d=s[c];if(((a=d.scopes)==null?void 0:a.includes(e))===!1)continue;const f=yj(d);if(i.has(f))return;i.set(f,c)}const r=[],o=n.defs.values;for(let c=0;c<o.length;c+=1){const d=o[c];if(((l=d.scopes)==null?void 0:l.includes(e))===!1)continue;const f=yj(d),g=i.get(f);if(g==null)return;i.delete(f),r.push({previousIndex:g,nextIndex:c})}if(i.size===0)return r}function IO(e,t,n,i,s){for(const{previousIndex:r,nextIndex:o}of n){const a=e[r],l=t[o],c=a[i],d=l[s];if(c!==d)return!1}return!0}function ND(e,t,n=!0){return{type:"processor",property:"diff",calculate(i,s){if(!Mw(i))return;const r=new Map,o=new Map,a=new Map,l=new Map,c=t.keys,d=i.keys,f=t.columns,g=i.columns,y=FSe(e,t,i);if(y==null)return s;const v=Math.max(t.input.count,i.input.count);for(let x=0;x<v;x++){const M=x<t.input.count,A=x<i.input.count,k=M?PI(c,e,x):void 0,I=k!=null?nh(k):"",P=A?PI(d,e,x):void 0,N=P!=null?nh(P):"";if(A&&M&&I===N){IO(f,g,y,x,x)||a.set(N,x);continue}const B=l.get(N);B!=null?((n||!IO(f,g,y,B,x))&&(a.set(N,x),r.set(N,x)),l.delete(N)):A&&o.set(N,x);const z=o.get(I);z!=null?((n||!IO(f,g,y,z,x))&&(a.set(I,x),r.set(I,x)),o.delete(I)):M&&(a.delete(I),l.set(I,x))}const S={changed:o.size>0||a.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(r.keys())};return{...s,[e]:S}}}}function nh(e,...t){let n;return gn(e)?n=e.map(s=>TF(s)).join("___"):n=TF(e),(typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n instanceof Date)&&t.length>0&&(n+=`___${t.join("___")}`),n}var _Se=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},BSe=class LK{constructor(t="",n,i){this.label=t,this.parent=n,this.refId=i,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=n?n.depth+1:0}insertTick(t,n){let i=this;for(let s=0;s<t.length;s++){const r=t[s],o=s!==t.length-1,{children:a}=i,l=a.find(c=>c.label===r);if(l&&o)i=l;else{const c=new LK(r,i,n);c.index=a.length,a.push(c),o&&(i=c)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((n,i)=>i!==this.index))??[]}};function GSe(e){const t=e.reduce((i,s)=>i<s.length?s.length:i,0),n=new BSe;for(let i=0;i<e.length;i++){const s=e[i];for(;s.length<t;)s.push("");n.insertTick(s,i)}return n}function zSe(e,t,n){const i=t.index-e.index,s=n/i;t.change-=s,t.shift+=n,e.change+=s,t.prelim+=n,t.mod+=n}function HSe(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function VSe({children:e}){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const s=e[i];s.prelim+=t,s.mod+=t,n+=s.change,t+=s.shift+n}}function jSe(e,t){const n=e.getLeftSibling();if(n){let i=e,s=e,r=n,o=s.getLeftmostSibling(),a=s.mod,l=i.mod,c=r.mod,d=o.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),o=o.nextLeft(),i=i.nextRight(),i.ancestor=e;const f=r.prelim+c-(s.prelim+a)+1;f>0&&(zSe(HSe(r,e,t),e,f),a+=f,l+=f),c+=r.mod,a+=s.mod,d+=o.mod,l+=i.mod}r.nextRight()&&!i.nextRight()?i.mod+=c-l:(s.nextLeft()&&!o.nextLeft()&&(o.mod+=a-d),t=e)}return t}function PK(e){const{children:t}=e;if(t.length){let[n]=t;for(const r of t)PK(r),n=jSe(r,n);VSe(e);const i=(t[0].prelim+t.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+1,e.mod=e.prelim-i):e.prelim=i}else{const n=e.getLeftSibling();e.prelim=n?n.prelim+1:0}}function OK(e,t,n){e.position=e.prelim+t,n.insertNode(e);for(const i of e.children)OK(i,t+e.mod,n)}function NK(e){const{children:t}=e;let n=0;for(const i of t)NK(i),i.children.length?n+=i.leafCount:n++;e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.position=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.position,e.subtreeRight=e.position)}function WSe(e){const t=new USe,n=GSe(e);return PK(n),OK(n,-n.prelim,t),NK(n),t}var USe=class{constructor(){this.dimensions=new _Se,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.position,e.depth),this.nodes.push(e)}scaling(e,t){let n=1;if(e>0){const{left:i,right:s}=this.dimensions;s!==i&&(n=e/(s-i))}return t&&(n*=-1),n}},ao=class extends It{constructor(){super(...arguments),this.enabled=!0,this.border=new Ey}};L([F],ao.prototype,"enabled",2);L([F],ao.prototype,"avoidCollisions",2);L([F],ao.prototype,"border",2);L([F],ao.prototype,"color",2);L([F],ao.prototype,"cornerRadius",2);L([F],ao.prototype,"spacing",2);L([F],ao.prototype,"rotation",2);L([F],ao.prototype,"wrapping",2);L([F],ao.prototype,"truncate",2);L([F],ao.prototype,"fill",2);L([F],ao.prototype,"fontStyle",2);L([F],ao.prototype,"fontWeight",2);L([F],ao.prototype,"fontSize",2);L([F],ao.prototype,"fontFamily",2);L([F],ao.prototype,"padding",2);var Sk=class extends It{constructor(){super(...arguments),this.enabled=!0}};L([F],Sk.prototype,"enabled",2);L([F],Sk.prototype,"width",2);L([F],Sk.prototype,"stroke",2);var NB=class extends It{constructor(){super(...arguments),this.label=new ao,this.tick=new Sk}};L([F],NB.prototype,"label",2);L([F],NB.prototype,"tick",2);var Ny=class extends xw{constructor(e){super(e,new pj),this.tickScale=new pj,this.depthOptions=new eD(NB),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:n,inset:i,bandwidth:s}=this.scale,r=Math.abs(t[1]-t[0])-n,o=this.tickTreeLayout.scaling(r,t[0]>t[1]),a=i+s/2;let l=0;for(const c of e){const d=c.position*o;l>d&&(l=d),c.screen=d+a}for(const c of e)c.screen-=l}getDepthOptionsMap(e){var r,o,a,l,c,d;const t=[],{depthOptions:n,label:i}=this,s=this.horizontal?0:-90;for(let f=0;f<e;f++)t.push(((r=n[f])==null?void 0:r.label.enabled)??i.enabled?{enabled:!0,spacing:((o=n[f])==null?void 0:o.label.spacing)??i.spacing,wrapping:((a=n[f])==null?void 0:a.label.wrapping)??i.wrapping,truncate:((l=n[f])==null?void 0:l.label.truncate)??i.truncate,rotation:((c=n[f])==null?void 0:c.label.rotation)??(f?s:i.rotation),avoidCollisions:((d=n[f])==null?void 0:d.label.avoidCollisions)??i.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>{e.fill=t.color,e.text=t.text,e.textBaseline=t.textBaseline,e.textAlign=t.textAlign??"center",e.setFont(t),e.setBoxing(t)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var z;this.updateDirection(),this.updateScale();const{step:e}=this.scale,{title:t,label:n,range:i,depthOptions:s,horizontal:r,line:o}=this;if(this.lineNode.datum=r?{x1:i[0],x2:i[1],y1:0,y2:0}:{x1:0,x2:0,y1:i[0],y2:i[1]},this.lineNode.setProperties({stroke:o.stroke,strokeWidth:o.enabled?o.width:0}),this.resizeTickTree(),!((z=this.tickTreeLayout)!=null&&z.depth))return{bbox:Xe.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};const{depth:a,nodes:l}=this.tickTreeLayout,c=r?-n.getSideFlag():n.getSideFlag(),d=[],f=new Map,g=new UC,y=this.getDepthOptionsMap(a),v=c*y[0].spacing,w=this.tickFormatter(this.scale.domain,this.scale.domain,!1),S=(W,Y)=>{var re,X;const K=a-W.depth;if(!((re=y[K])!=null&&re.enabled)||!aye(W.screen,i))return!1;let q=w(W.label,Y-1);const te=this.getLabelStyles({value:q,depth:K},(X=s[K])==null?void 0:X.label);if(n.avoidCollisions){const ne=y[K].rotation;let Z=(W.leafCount||1)*e,Se=this.thickness;if(ne!=null){const U=Zme(ne,Z,Se);Z=U.width,Se=U.height}q=tD.wrapText(q,{font:te,textWrap:y[K].wrapping,overflow:y[K].truncate?"ellipsis":"hide",maxWidth:Z,maxHeight:Se})||q}return g.x=r?W.screen:v,g.y=r?v:W.screen,g.rotation=0,g.lineHeight=Xn.getLineHeight(te.fontSize),g.fill=te.color,g.text=q,g.textAlign="center",g.textBaseline=n.parallel?"top":"bottom",g.setFont(te),g.setBoxing(te),!0},x={};l.forEach((W,Y)=>{var ne;const K=a-W.depth;if(x[K]??(x[K]=0),!S(W,Y)||!g.getBBox())return;f.set(Y,g.getBBox()),g.rotation=ch((ne=y[K])==null?void 0:ne.rotation);const{width:te,height:re}=g.getBBox(),X=r?re:te;x[K]<X&&(x[K]=X)});const M=bB(),A=new Map,k=W=>{if(W===0)return 0;let Y=x[0];for(let K=1;K<=W;K++)Y+=y[K].spacing,K!==W&&(Y+=x[K]);return Y};l.forEach((W,Y)=>{var ie;if(Y===0)return;const K=S(W,Y),q=!W.children.length,te=a-W.depth;if(W.parent){const ve=q?W.position:W.position-(W.leafCount-1)/2;if(!A.has(ve)){const J=(ie=this.depthOptions[te])==null?void 0:ie.tick;let he=x[0];for(let Ee=0;Ee<=te;Ee++)he+=y[Ee].spacing,Ee!==0&&(he+=x[Ee]);A.set(ve,{tickSize:he,tickStroke:J==null?void 0:J.stroke,tickWidth:(J==null?void 0:J.enabled)!==!1?J==null?void 0:J.width:0})}}if(!K)return;const re=ch(y[te].rotation),{width:X,height:ne}=f.get(Y),Z=k(te);if(g.textAlign="center",g.textBaseline="middle",g.rotation=re,r?(g.y+=(Z+mF(X/2,ne/2,re))*c,g.rotationCenterX=W.screen,g.rotationCenterY=g.y):(g.x+=Z*c+mF((y[te].spacing*c+X)/2,n.mirrored?X:0,re)-X/2,g.rotationCenterX=g.x,g.rotationCenterY=W.screen),y[te].avoidCollisions){const{width:ve,height:J}=g.getBBox(),he=r?ve:J,Ee=q?e:W.leafCount*e;if(he>Ee){f.delete(Y);return}}const Se=g.getPlainText(),U=g.getBoxingProperties();d.push({text:Se,visible:!0,tickId:M(Se),range:this.scale.range,border:U.border,color:g.fill,cornerRadius:U.cornerRadius,fill:U.fill,fontFamily:g.fontFamily,fontSize:g.fontSize,fontStyle:g.fontStyle,fontWeight:g.fontWeight,padding:U.padding,rotation:g.rotation,rotationCenterX:g.rotationCenterX,rotationCenterY:g.rotationCenterY,textAlign:g.textAlign,textBaseline:g.textBaseline,x:g.x,y:g.y}),f.set(Y,Qi.toCanvas(g))});const I=[...A.values()];I.push(I[0]);const P=[this.lineNodeBBox(),Xe.merge(f.values()),new Xe(0,0,I[0].tickSize*c,0)];let N=0;if(t.enabled){const W=Xe.merge(P);N=r?W.height:W.width,P.push(this.titleBBox(this.scale.domain,N))}const B=Xe.merge(P);return this.layoutCrossLines(),{bbox:B,spacing:N,separatorLayout:I,tickLabelLayout:d}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,tick:t,gridLine:n,gridLength:i}=this,{separatorLayout:s,spacing:r}=this.computedLayout,{position:o,horizontal:a,gridPadding:l}=this,c=o==="bottom"||o==="right"?-1:1,d=l,f=c*i-l,g=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((y,v)=>({index:v,tickId:nh(y,v),translation:Math.round(e.convert(y))}));this.gridLineGroupSelection.update(n.enabled&&i?this.calculateGridLines(g,d,f):[]),this.gridFillGroupSelection.update(n.enabled&&i?this.calculateGridFills(g,d,f):[]),this.tickLineGroupSelection.update(t.enabled?g.map(({tickId:y,translation:v},w)=>{const{tickSize:S=this.getTickSize(),tickStroke:x=t.stroke,tickWidth:M=t.width}=s[w]??{},A=-c*S,[k,I,P,N]=a?[v,v,0,A]:[0,A,v,v];return{tickId:y,offset:v,x1:k,y1:P,x2:I,y2:N,stroke:x,strokeWidth:M,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,r),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,spacing:n,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t,spacing:n},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(e));this.dataDomain={domain:Pg(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const n=this.dataDomain.domain.map(s=>MI(Hi(s)&&"value"in s?s.value:s));this.tickTreeLayout=WSe(n);const i=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||i.push(this.dataDomain.domain[s.refId]);this.scale.domain=Qme(this.dataDomain.domain,i),this.tickScale.domain=n.concat([[""]])}filterDuplicateArrays(e){const t=new Set;return e.filter(n=>{const i=gn(n)?JSON.stringify(n):n;return t.has(i)?!1:(t.add(i),!0)})}};Ny.className="GroupedCategoryAxis";Ny.type="grouped-category";L([F],Ny.prototype,"depthOptions",2);var $Se={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},YSe=(e,t)=>Math.log(t)/Math.log(e);function kO(e,t,n){const i=Math.min(...t),s=$Se[e]??YSe;return i>=0?s(e,n):-s(e,-n)}var KSe={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},qSe=(e,t)=>e**t;function LO(e,t,n){const i=Math.min(...t),s=KSe[e]??qSe;return i>=0?s(e,n):-s(e,-n)}var FB=class FK extends ci{constructor(t=[1,10],n=[0,1]){super(t,n),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>kO(this.base,this.domain,i),this.pow=i=>LO(this.base,this.domain,i)}static is(t){return t instanceof FK}transform(t){const[n,i]=Ys(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[n,i]=Ys(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.exp(t):-Math.exp(-t)}toDomain(t){return t}niceDomain(t,n=this.domain){if(n.length<2)return[];const{base:i}=this,[s,r]=n,o=s>r?Math.ceil:Math.floor,a=s>r?Math.floor:Math.ceil,l=LO(i,n,o(kO(i,n,s))),c=LO(i,n,a(kO(i,n,r)));return[l,c]}ticks({interval:t,tickCount:n=ci.defaultTickCount},i=this.domain,s){if(!i||i.length<2||n<1)return;const r=this.base,[o,a]=i,l=Math.min(o,a),c=Math.max(o,a);let d=this.log(l),f=this.log(c);if(t){const S=P=>P>=l&&P<=c,x=Math.min(Math.abs(t),Math.abs(f-d)),{ticks:M,count:A,firstTickIndex:k}=q1(d,f,x,s),I=M.map(this.pow).filter(S);if(!JC(I.length,this.getPixelRange()))return{ticks:I,count:A,firstTickIndex:k}}if(!lye(r)||f-d>=n){const S=Math.min(f-d,n),{ticks:x,count:M,firstTickIndex:A}=hD(d,f,S,void 0,void 0,s);return{ticks:x.map(this.pow),count:M,firstTickIndex:A}}const g=[],y=l>0;d=Math.floor(d)-1,f=Math.round(f)+1;const v=ZC(this.range)/n;let w=1/0;for(let S=d;S<=f;S++){const x=this.convert(this.pow(S+1));for(let M=1;M<r;M++){const A=y?M:r-M+1,k=this.pow(S)*A,I=this.convert(k),P=Math.abs(w-I),N=Math.abs(I-x),B=P>=v&&N>=v;k>=l&&k<=c&&(M===1||B||g.length===0)&&(g.push(k),w=I)}}return M6(g,y,s)}},$m=class zF extends ci{constructor(){super([0,1],[0,1]),this.type="number"}static is(t){return t instanceof zF}static getTickStep(t,n,i){const{interval:s,tickCount:r=ci.defaultTickCount,minTickCount:o,maxTickCount:a}=i;return s??yM(t,n,r,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:n=ci.defaultTickCount,minTickCount:i,maxTickCount:s},r=this.domain,o){if(!r||r.length<2||n<1||!r.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};const[a,l]=r;if(t){const c=Math.abs(t);if(!JC((l-a)/c,this.getPixelRange()))return q1(a,l,c,o)}return hD(a,l,n,i,s,o)}niceDomain(t,n=this.domain){if(n.length<2)return[];const{tickCount:i=ci.defaultTickCount}=t;let[s,r]=n;if(i===1)[s,r]=I6(s,r);else if(i>1){const o=s>r?Math.ceil:Math.floor,a=s>r?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){const d=s,f=r,g=zF.getTickStep(s,r,t),[y,v]=n;if(s=o(y/g)*g,r=a(v/g)*g,s===d&&r===f)break}}return[s,r]}},ed=class extends fD{constructor(e,t=new $m){super(e,t)}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:s}=OB(e,t,n);return{domain:i,clipped:s}}createDatumFormatter(e,t){const{format:n}=this.label;return typeof n=="number"?E6(t,n):void 0}tickFormatParams(e,t,n){return{type:"number",fractionDigits:n}}datumFormatParams(e,t,n){const{datum:i,seriesId:s,legendItemName:r,key:o,source:a,property:l,domain:c,boundSeries:d}=t;return{type:"number",value:e,datum:i,seriesId:s,legendItemName:r,key:o,source:a,property:l,domain:c,boundSeries:d,fractionDigits:n}}};ed.className="NumberAxis";ed.type="number";L([F],ed.prototype,"min",2);L([F],ed.prototype,"max",2);var Dw=class extends ed{normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:s}=OB(e,t,n);return i[0]<0&&i[1]>0||e[0]<0&&e[1]>0?(ze.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):i[0]===0||i[1]===0||e[0]===0||e[1]===0?(ze.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:i,clipped:s}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new FB)}};Dw.className="LogAxis";Dw.type="log";var Aw=class extends It{constructor(){super(...arguments),this.enabled=!1,this.label=new Di,this.tick=new ky}};L([F],Aw.prototype,"enabled",2);L([F],Aw.prototype,"label",2);L([F],Aw.prototype,"tick",2);var td=class extends fD{constructor(e){super(e,new eC),this.parentLevel=new Aw,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(e){ze.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(e){return _B(e,this.min,this.max)}processData(){super.processData();const{boundSeries:e,direction:t,min:n,max:i}=this;this.minimumTimeGranularity=_K(e,t,n,i)}tickFormatParams(e,t,n,i){i??(i=gB(t));const s=pB(e),r=Nu(i),o=bg(i),a=pM(i);return{type:"date",unit:r,step:o,epoch:a,truncateDate:s}}datumFormatParams(e,t,n,i,s){if(typeof e=="number"&&(e=new Date(e)),i==null){const{minimumTimeGranularity:S}=this,x=Y1(e);S!=null&&Io(S)<Io(x)?i=S:i=x}const{datum:r,seriesId:o,legendItemName:a,key:l,source:c,property:d,domain:f,boundSeries:g}=t,y=Nu(i),v=bg(i),w=pM(i);return{type:"date",value:e,datum:r,seriesId:o,legendItemName:a,key:l,source:c,property:d,domain:f,boundSeries:g,unit:y,step:v,epoch:w,style:s}}};td.className="TimeAxis";td.type="time";L([F],td.prototype,"parentLevel",2);L([F],td.prototype,"min",2);L([F],td.prototype,"max",2);L([F,cs("_unit")],td.prototype,"unit",2);function _K(e,t,n,i){var r;const s=e.reduce((o,a)=>Math.min(a.minTimeInterval()??1/0,o),1/0);return Number.isFinite(s)?dD(s):(r=BK(e,t,n,i))==null?void 0:r.unit}function BK(e,t,n,i){let s=1/0,r=-1/0,o,a=0;const l=[];for(const g of e){if(!g.visible)continue;const{domain:y}=_B(g.getDomain(t),void 0,void 0);if(y.length===0)continue;const v=y[0].valueOf(),w=y[y.length-1].valueOf();l.push(v,w),s=Math.min(s??1/0,v,w),r=Math.max(r??-1/0,v,w);const S=Math.abs(w-v);if(S===0)continue;const x=g.dataCount();if(a=Math.max(a,x),x<=1)continue;const M=S/(x-1);o=Math.min(o??1/0,M)}if(s=Math.min(s,(n==null?void 0:n.valueOf())??1/0,(i==null?void 0:i.valueOf())??1/0),r=Math.max(r,(n==null?void 0:n.valueOf())??-1/0,(i==null?void 0:i.valueOf())??-1/0),!Number.isFinite(s)||!Number.isFinite(r))return;o??(o=Math.abs(r-s)),o=Math.min(o,ZSe(l));const c=dD(o);let d=o/Io(c);a<=2?d=Math.floor(d):d=Math.round(d),d=Math.max(d,1);const f=d===1?void 0:cl(c,s);return{unit:c,step:d,epoch:f}}function ZSe(e){e.sort((n,i)=>n-i);let t=1/0;for(let n=1;n<e.length;n++){const i=e[n-1],s=e[n];s-i>0&&(t=Math.min(t,Math.abs(s-i)))}return t}function _B(e,t,n){var a;let i=!1;typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n));const s=(a=Pg(e))==null?void 0:a.map(l=>new Date(l));if(s==null)return{domain:t!=null&&n!=null&&t.valueOf()<=n.valueOf()?[t,n]:[],clipped:!1};let[r,o]=s;return t instanceof Date&&(i||(i=t>r),r=t),n instanceof Date&&(i||(i=n<o),o=n),r>o?{domain:[],clipped:!1}:{domain:[r,o],clipped:i}}var GK=class extends xw{calculateGridLine({index:e,tickId:t,translation:n},i,s,r,o){const{gridLine:a,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridLine({index:e,tickId:t,translation:n},i,s,r,o);const f=o[i-1],g=f?n-(n-f.translation)/2:d[0],[y,v,w,S]=l?[g,Math.max(s,r),g,Math.min(s,r)]:[Math.min(s,r),g,Math.max(s,r),g],{style:x}=a,{stroke:M,strokeWidth:A=0,lineDash:k}=x[e%x.length]??{};return{tickId:t,offset:g,x1:y,y1:v,x2:w,y2:S,stroke:M,strokeWidth:A,lineDash:k}}calculateGridFills(e,t,n){return this.interval.placement!=="between"?super.calculateGridFills(e,t,n):e.map((i,s)=>this.calculateGridFill(i,s,i.index,t,n,e))}calculateGridFill({tickId:e,translation:t},n,i,s,r,o){const{gridLine:a,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridFill({tickId:e,translation:t},n,i,s,r,o);const f=o[n-1],g=o[n+1],y=f?t-(t-f.translation)/2:d[0],v=g?t+(g.translation-t)/2:d[1],[w,S,x,M]=l?[y,Math.max(s,r),v,Math.min(s,r)]:[Math.min(s,r),y,Math.max(s,r),v],{fill:A,fillOpacity:k}=a.style[i%a.style.length]??{};return{tickId:e,x1:w,y1:S,x2:x,y2:M,fill:A,fillOpacity:k}}calculateTickLine({primary:e,tickId:t,translation:n},i,s,r){const{horizontal:o,interval:a,primaryTick:l,range:c,tick:d}=this;if(a.placement!=="between")return super.calculateTickLine({primary:e,tickId:t,translation:n},i,s,r);const f=e&&(l!=null&&l.enabled)?l:d,g=-s*this.getTickSize(f),y=r[i-1],v=y?n-(n-y.translation)/2:c[0],[w,S,x,M]=o?[v,0,v,g]:[0,v,g,v],{stroke:A,width:k}=f;return{tickId:t,offset:v,x1:w,y1:S,x2:x,y2:M,stroke:A,strokeWidth:k,lineDash:void 0}}},Og=class extends GK{constructor(e){super(e,new $f,!1),this.parentLevel=new Aw,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!0}processData(){super.processData();let e;const{domain:t}=this.dataDomain;if(t.length===2&&t[0].valueOf()===t[1].valueOf())e=Y1(t[0]);else{const{boundSeries:n,direction:i,min:s,max:r}=this;e=BK(n,i,s,r)}Oo(this.defaultUnit,e)||(this.defaultUnit=e)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(e){return _B(e,this.min,this.max)}createDatumFormatter(e,t){const n=this.scale.interval,{format:i}=this.label;if(i==null)return;const s=RF(n!=null?LY(i,Nu(n)):i,n);if(s!=null)return ay(s)}tickFormatParams(e,t,n,i){i??(i=gB(t));const s=pB(e),r=Nu(i),o=bg(i),a=pM(i);return{type:"date",unit:r,step:o,epoch:a,truncateDate:s}}datumFormatParams(e,t,n,i,s){const r=this.unit??this.defaultUnit??"millisecond";e=cl(r,e),typeof e=="number"&&(e=new Date(e)),i??(i=r);const{datum:o,seriesId:a,legendItemName:l,key:c,source:d,property:f,domain:g,boundSeries:y}=t,v=Nu(i),w=bg(i),S=pM(i);return{type:"date",value:e,datum:o,seriesId:a,legendItemName:l,key:c,source:d,property:f,domain:g,boundSeries:y,unit:v,step:w,epoch:S,style:s}}};Og.className="UnitTimeAxis";Og.type="unit-time";L([F],Og.prototype,"parentLevel",2);L([F],Og.prototype,"min",2);L([F],Og.prototype,"max",2);L([F],Og.prototype,"unit",2);var Hb={...Rh,...ww(Ie),type:tt(bi("number")),label:kB,crosshair:Lg(!0)},Vb={...Rh,...ww(Ie),type:tt(bi("log")),base:yi(iM,An(e=>e!==1,"not equal to 1")),label:kB,crosshair:Lg(!0)},jb={...Rh,...ww(zt(Ie,yg),!0),type:tt(bi("time")),label:LD,parentLevel:bk,crosshair:Lg(!0,!0)},Wb={...Rh,type:tt(bi("category")),label:kD,paddingInner:ct,paddingOuter:ct,groupPaddingInner:ct,crosshair:Lg(),bandHighlight:PD,interval:{...LB,placement:_e("on","between")}},Ub={...Rh,type:tt(bi("grouped-category")),label:kD,crosshair:Lg(),bandHighlight:PD,paddingInner:ct,groupPaddingInner:ct,depthOptions:Tr({label:{enabled:le,avoidCollisions:le,wrapping:_e("never","always","hyphenate","on-space"),truncate:le,rotation:Ie,spacing:Ie,...Jn,...cc},tick:{enabled:le,stroke:qe,width:ae}},"depth options objects array")},$b={...Rh,type:tt(bi("unit-time")),unit:zt(vk,ID),label:LD,parentLevel:bk,paddingInner:ct,paddingOuter:ct,groupPaddingInner:ct,crosshair:Lg(!0,!0),bandHighlight:PD,min:yi(zt(Ie,yg),Lu("max")),max:yi(zt(Ie,yg),Pu("min")),interval:PB},XSe={type:"axis",name:"number",chartType:"cartesian",options:Hb,create:e=>new ed(e)},QSe={type:"axis",name:"log",chartType:"cartesian",options:Vb,create:e=>new Dw(e)},JSe={type:"axis",name:"time",chartType:"cartesian",options:jb,create:e=>new td(e)},exe={type:"axis",name:"category",chartType:"cartesian",options:Wb,create:e=>new xw(e)},txe={type:"axis",name:"grouped-category",chartType:"cartesian",options:Ub,create:e=>new Ny(e)},nxe={type:"axis",name:"unit-time",chartType:"cartesian",options:$b,create:e=>new Og(e)},Yb={...Rh,type:tt(bi("ordinal-time")),paddingInner:ct,paddingOuter:ct,groupPaddingInner:ct,label:LD,parentLevel:bk,interval:PB,crosshair:Lg(!0,!0),bandHighlight:PD},zK={...Oy,...ww(Ie),type:tt(bi("angle-number")),crossLines:Tr(Du),startAngle:Ie,endAngle:Ie,label:{...Ah,orientation:_e("fixed","parallel","perpendicular"),format:Mc}},ixe={innerRadiusRatio:ct},HK={...Oy,...ixe,type:tt(bi("angle-category")),shape:_e("polygon","circle"),crossLines:Tr(Du),startAngle:Ie,endAngle:Ie,paddingInner:ct,groupPaddingInner:ct,label:{...Ah,orientation:_e("fixed","parallel","perpendicular")}},VK={...Oy,...ww(Ie),type:tt(bi("radius-number")),shape:_e("polygon","circle"),positionAngle:Ie,innerRadiusRatio:ct,crossLines:Tr({...Du,label:{...cy,positionAngle:Ie}},"cross-line options"),title:{enabled:le,text:Ae,spacing:ae,formatter:jn,...Jn},label:{...Ah,format:Mc}},jK={...Oy,type:tt(bi("radius-category")),positionAngle:Ie,innerRadiusRatio:ct,paddingInner:ct,paddingOuter:ct,groupPaddingInner:ct,label:Ah,crossLines:Tr({...Du,label:{...cy,positionAngle:Ie}},"cross-line options"),title:{enabled:le,text:Ae,spacing:ae,formatter:jn,...Jn}},WK=ls(Ii,Ii),UK={showInMiniChart:le,connectMissingData:le,interpolation:pk,label:ti,marker:Dh,tooltip:En,shadow:Ju,...pn,...Je,...He,...at,highlight:WK},$K={...UK,...Dc,highlight:WK,type:tt(bi("area")),xKey:tt(Ae),yKey:tt(Ae),xName:Ae,yName:Ae,stacked:le,stackGroup:Ae,normalizedTo:Ie},YK=ls(ju,ju),BB={direction:_e("horizontal","vertical"),showInMiniChart:le,cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),crisp:le,label:{...ti,placement:_e("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:ae},errorBar:TD,shadow:Ju,tooltip:En,...pn,highlight:YK,...Je,...He,...at};BB.sparklineMode=Ft(le);var xk={...BB,...Dc,highlight:YK,type:tt(bi("bar")),xKey:tt(Ae),yKey:tt(Ae),xName:Ae,yName:Ae,direction:_e("horizontal","vertical"),grouped:le,stacked:le,stackGroup:Ae,normalizedTo:Ie,legendItemName:Ae,errorBar:gk};xk.pickOutsideVisibleMinorAxis=Ft(le);xk.focusPriority=Ft(Ie);var KK={title:Ae,domain:Mt(Ie),maxSize:ae,showInMiniChart:le,label:{placement:_e("top","right","bottom","left"),...ti},tooltip:En,maxRenderedItems:Ie,...pn,...Ke(Dh,["enabled"]),highlight:ls(Ii,Ii)},sxe={...KK,...Dc,type:tt(bi("bubble")),xKey:tt(Ae),yKey:tt(Ae),sizeKey:tt(Ae),labelKey:Ae,xName:Ae,yName:Ae,sizeName:Ae,labelName:Ae,highlight:ls(Ii,Ii)},qK={showInMiniChart:le,cornerRadius:ae,label:ti,tooltip:En,shadow:Ju,...pn,...Je,...He,...at,highlight:ls(Ii,Ii)},rxe={...Dc,...qK,type:tt(bi("histogram")),xKey:tt(Ae),yKey:Ae,xName:Ae,yName:Ae,areaPlot:le,aggregation:_e("count","sum","mean"),bins:Mt(Mt(Ie)),binCount:ae},ZK=ls(Ii,sy),GB={title:Ae,showInMiniChart:le,connectMissingData:le,interpolation:pk,label:ti,marker:Dh,tooltip:En,errorBar:TD,...pn,...He,...at,highlight:ZK};GB.sparklineMode=Ft(le);var Mk={...GB,...Dc,highlight:ZK,type:tt(bi("line")),xKey:tt(Ae),yKey:tt(Ae),xName:Ae,yName:Ae,stacked:le,stackGroup:Ae,normalizedTo:Ie,legendItemName:Ae,errorBar:gk};Mk.pickOutsideVisibleMinorAxis=Ft(le);Mk.focusPriority=Ft(Ie);var XK={title:Ae,showInMiniChart:le,label:{placement:_e("top","right","bottom","left"),...ti},tooltip:En,errorBar:TD,maxRenderedItems:Ie,...pn,...Ke(Dh,["enabled"]),highlight:ls(Ii,Ii)},oxe={...XK,...Dc,type:tt(bi("scatter")),xKey:tt(Ae),yKey:tt(Ae),labelKey:Ae,xName:Ae,yName:Ae,labelName:Ae,errorBar:gk,highlight:ls(Ii,Ii)},QK=ls(Ii,Ii),zB={...pn,radiusMin:ae,radiusMax:ae,rotation:Ie,outerRadiusOffset:Ie,outerRadiusRatio:ct,hideZeroValueSectorsInLegend:le,sectorSpacing:ae,cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),title:{enabled:le,text:Ae,showInLegend:le,spacing:ae,...Jn},calloutLabel:{enabled:le,offset:Ie,minAngle:ae,avoidCollisions:le,formatter:jn,format:Ae,itemStyler:vi({enabled:le,...cc,...Jn}),...cc,...Jn},sectorLabel:{enabled:le,positionOffset:Ie,positionRatio:ct,formatter:jn,format:Ae,itemStyler:vi({enabled:le,...cc,...Jn}),...cc,...Jn},calloutLine:{colors:Mt(qe),length:ae,strokeWidth:ae},fills:Mt(Cl),strokes:Mt(qe),tooltip:En,shadow:Ju,highlight:QK,...at,...Ke(Je,["fill"]),...Ke(He,["stroke"])},Fy={...zB,...Dc,type:tt(bi("pie")),angleKey:tt(Ae),radiusKey:Ae,calloutLabelKey:Ae,sectorLabelKey:Ae,legendItemKey:Ae,angleName:Ae,radiusName:Ae,calloutLabelName:Ae,sectorLabelName:Ae,highlight:QK};Fy.defaultColorRange=Ft(Mt(Mt(qe)));Fy.defaultPatternFills=Ft(Mt(qe));Fy.title._enabledFromTheme=Ft(le);Fy.calloutLabel._enabledFromTheme=Ft(le);Fy.sectorLabel._enabledFromTheme=Ft(le);var JK={...zB,innerRadiusOffset:Ie,innerRadiusRatio:ct,innerCircle:{fill:Ae,fillOpacity:ct},innerLabels:{spacing:ae,...Jn,...cc}},axe={...JK,...Fy,type:tt(bi("donut")),innerLabels:Tr({text:tt(Ae),spacing:ae,...Jn,...cc},"inner label options array")},Rw={lineStyle:_e("solid","dashed","dotted"),...at},_y={...Je,...He,...at},FD={visible:le,locked:le,handle:_y,...Jn},Dk={position:_e("top","center","bottom"),alignment:_e("left","center","right"),...Jn},e8={position:_e("top","inside","bottom"),alignment:_e("left","center","right"),...Jn},lxe={enabled:le,cornerRadius:ae,formatter:jn,...Jn,...Je,...He,...at},cxe={visible:le,...Rw,...He},t8={divider:He,...Je,...He,...Jn},vj={handle:_y,statistics:t8,...Rw,...Je,...He},WI={visible:le,locked:le,extendStart:le,extendEnd:le,handle:_y,text:Dk,...Rw,...He},HF={visible:le,locked:le,axisLabel:lxe,handle:_y,text:Dk,...Rw,...He},HB={visible:le,locked:le,extendStart:le,extendEnd:le,handle:_y,text:e8,background:Je,...Rw,...He},n8={...HB},i8={...HB,middle:cxe},VF={label:Jn,showFill:le,isMultiColor:le,strokes:Mt(qe),rangeStroke:qe,bands:_e(4,6,10),...WI},s8={...Je,...He,...FD},r8={...Je,...He,...FD},o8={...Je,...He,...FD,background:{...Je,...He}},jF={visible:le,locked:le,handle:_y,...Je},PE={visible:le,locked:le,extendStart:le,extendEnd:le,handle:_y,text:Dk,background:Je,statistics:t8,...Rw,...He},a8={visible:le,up:vj,down:vj},Tw={enabled:le,axesButtons:{enabled:le,axes:_e("x","y","xy")},toolbar:{enabled:le,padding:ae,buttons:Tr({...Mm,value:_e("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")},"annotation toolbar buttons array")},optionsToolbar:{enabled:le,buttons:Mt(zt(Ss({...Mm,value:tt(_e("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))}),Ss({...Mm,value:tt(_e("lock")),checkedOverrides:Mm})))}};Tw.data=Ft(qu);Tw.xKey=Ft(Ae);Tw.volumeKey=Ft(Ae);Tw.snap=Ft(le);var VB={...Je,...He,...at,cornerRadius:ae,whisker:{...He,...at},cap:{lengthRatio:ct}},WF={...VB,opacity:ct},l8={direction:_e("horizontal","vertical"),showInMiniChart:le,itemStyler:vi({...Je,...He,...at,cornerRadius:ae,whisker:{...He,...at},cap:{lengthRatio:ct}}),tooltip:En,...pn,...VB,highlight:ls(WF,WF)},UF={cornerRadius:ae,wick:{...He,...at},...Je,...He,...at},bj={...UF,opacity:ct},c8={item:{up:UF,down:UF},itemStyler:vi({...Je,...He,...at,cornerRadius:ae,wick:{...He,...at}}),showInMiniChart:le,tooltip:En,...pn,highlight:ls(bj,bj)},u8={fills:Mt(Cl),strokes:Mt(qe),label:{spacing:ae,maxWidth:ae,...ti},link:{tension:ct,itemStyler:vi({...Je,...He,...at,tension:ct}),...Je,...He,...at},node:{width:ae,spacing:ae,itemStyler:vi({...Je,...He,...at}),...Je,...He,...at},tooltip:En,...pn},d8={direction:_e("horizontal","vertical"),fills:Mt(Cl),strokes:Mt(qe),label:{spacing:ae,placement:_e("before","middle","after"),...ti},stageLabel:{placement:_e("before","after"),format:Mc,...Ah},tooltip:En,...Ke(pn,["showInLegend"]),...Ke(Je,["fill"]),...Ke(He,["stroke"]),...at,highlight:C5(sy)},h8={direction:_e("horizontal","vertical"),fills:Mt(Cl),strokes:Mt(qe),itemStyler:vi({...Je,...He,...at}),spacingRatio:ct,crisp:le,dropOff:{enabled:le,...Je,...He,...at},stageLabel:{placement:_e("before","after"),format:Mc,...Ah},label:ti,tooltip:En,shadow:Ju,...Ke(pn,["showInLegend"]),...Ke(Je,["fill"]),...Ke(He,["stroke"]),...at},f8={title:Ae,textAlign:_e("left","center","right"),verticalAlign:_e("top","middle","bottom"),itemPadding:ae,itemStyler:vi({...Je,...He}),showInMiniChart:le,label:Cg,tooltip:En,...pn,...He},g8={showInMiniChart:le,itemStyler:vi({...He,...at}),item:{up:{...He,...at},down:{...He,...at}},tooltip:En,...pn,highlight:ls(sy,sy)},p8={maxStrokeWidth:ae,itemStyler:vi({...He,...at}),sizeDomain:Mt(ae),label:ti,tooltip:En,...pn,...He,...at,highlightStyle:{...pn.highlightStyle,...He},highlight:ls(sy,sy)},m8={...He,...at},y8={colorRange:Mt(qe),maxSize:ae,sizeDomain:Mt(ae),label:{placement:_e("top","bottom","left","right"),...ti},tooltip:En,...pn,...Ke(Dh,["enabled"]),highlightStyle:{...pn.highlightStyle,...Je,...He},highlight:ls(Ii,Ii)},v8={colorRange:Mt(qe),padding:ae,itemStyler:vi({...Je,...He,...at}),label:Cg,tooltip:En,...pn,...Je,...He,...at,highlightStyle:{...pn.highlightStyle,...Je,...He},highlight:ls(Ii,Ii)},b8={...pn,...Je,...He,...at},C8={cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),label:ti,tooltip:En,...pn,...Je,...He,...at,highlight:ls(ju,ju)},w8={direction:_e("horizontal","vertical"),aspectRatio:ae,spacing:ae,reverse:le,itemStyler:vi({...Je,...He,...at}),fills:Mt(Cl),strokes:Mt(qe),label:ti,stageLabel:{spacing:ae,placement:_e("before","after"),...ti},tooltip:En,shadow:Ju,...pn,...Ke(Je,["fill"]),...Ke(He,["stroke"]),...at},S8={connectMissingData:le,marker:Dh,label:ti,tooltip:En,...pn,...Je,...He,...at,highlight:ls(Ii,Ii)},x8={connectMissingData:le,marker:Dh,label:ti,tooltip:En,...pn,...He,...at,highlight:ls(Ii,sy)},M8={cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),label:ti,tooltip:En,...pn,...Je,...He,...at,highlight:ls(ju,ju)},D8={cornerRadius:ae,columnWidthRatio:ct,maxColumnWidthRatio:ct,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),label:ti,tooltip:En,...pn,...Je,...He,...at,highlight:ls(ju,ju)},A8={showInMiniChart:le,connectMissingData:le,interpolation:pk,label:{...ti,placement:_e("inside","outside"),spacing:ae},marker:Dh,tooltip:En,shadow:Ju,...pn,...Je,...He,...at,highlight:ls(Ii,Ii)},R8={direction:_e("horizontal","vertical"),grouped:le,showInMiniChart:le,cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),label:{...ti,placement:_e("inside","outside"),spacing:ae},tooltip:En,shadow:Ju,...pn,...Je,...He,...at,highlight:ls(ju,ju)},T8={fills:Mt(Cl),strokes:Mt(qe),label:{...ti,spacing:ae},link:{itemStyler:vi({...Je,...He,...at}),...Je,...He,...at},node:{width:ae,spacing:ae,alignment:_e("left","center","right","justify"),itemStyler:vi({...Je,...He,...at}),...Je,...He,...at},tooltip:En,...pn},E8={fills:Mt(Cl),strokes:Mt(qe),colorRange:Mt(qe),sectorSpacing:ae,cornerRadius:ae,padding:ae,itemStyler:vi({...Je,...He}),label:{spacing:ae,...Cg},secondaryLabel:Cg,tooltip:En,...Ke(pn,["highlight","showInLegend"]),...Ke(Je,["fill"]),...Ke(He,["stroke"]),highlightStyle:{label:{color:qe},secondaryLabel:{color:qe},...Je,...He}},I8={fills:Mt(Cl),strokes:Mt(qe),colorRange:Mt(qe),itemStyler:vi({...Je,...He}),group:{gap:ae,padding:ae,cornerRadius:ae,textAlign:_e("left","center","right"),interactive:le,label:{...ti,spacing:ae},...Je,...He},tile:{gap:ae,padding:ae,cornerRadius:ae,textAlign:_e("left","center","right"),verticalAlign:_e("top","middle","bottom"),label:{...ti,spacing:ae,lineHeight:ae,minimumFontSize:ae,wrapping:_e("never","always","hyphenate","on-space"),overflowStrategy:_e("ellipsis","hide")},secondaryLabel:{...ti,lineHeight:ae,minimumFontSize:ae,wrapping:_e("never","always","hyphenate","on-space"),overflowStrategy:_e("ellipsis","hide")},...Je,...He},tooltip:En,...Ke(pn,["highlight","showInLegend"]),highlightStyle:{group:{label:{color:qe},...Je,...He},tile:{label:{color:qe},secondaryLabel:{color:qe},...Je,...He}}},PO={name:Ae,cornerRadius:ae,itemStyler:vi({...Je,...He,...at,cornerRadius:ae}),label:{...ti,placement:_e("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:ae},tooltip:En,shadow:Ju,...Je,...He,...at},k8={direction:_e("horizontal","vertical"),showInMiniChart:le,item:{positive:PO,negative:PO,total:PO},line:{enabled:le,...He,...at},tooltip:En,...pn},YT=Ss({__type:tt(bi("date")),value:zt(Ae,Ie)},"a serializable date object"),Cj={width:ae,height:ae,grip:le,fill:qe,stroke:qe,strokeWidth:ae,cornerRadius:ae},Pn={enabled:le,height:ae,spacing:ae,cornerRadius:Ie,mask:{fill:qe,fillOpacity:ct,stroke:qe,strokeWidth:ae},minHandle:Cj,maxHandle:Cj,miniChart:{enabled:le,padding:{top:ae,bottom:ae},label:{enabled:le,avoidCollisions:le,spacing:ae,format:Mc,formatter:jn,interval:{minSpacing:ae,maxSpacing:ae,values:qu,step:Ie},...Jn},series:xt}},Kr={number:{...Ke(Hb,["type","crossLines"]),top:Ke(Hb,["type","crossLines","position"]),right:Ke(Hb,["type","crossLines","position"]),bottom:Ke(Hb,["type","crossLines","position"]),left:Ke(Hb,["type","crossLines","position"]),crossLines:Ke(zd,["type"])},log:{...Ke(Vb,["type","crossLines"]),top:Ke(Vb,["type","crossLines","position"]),right:Ke(Vb,["type","crossLines","position"]),bottom:Ke(Vb,["type","crossLines","position"]),left:Ke(Vb,["type","crossLines","position"]),crossLines:Ke(zd,["type"])},category:{...Ke(Wb,["type","crossLines"]),top:Ke(Wb,["type","crossLines","position"]),right:Ke(Wb,["type","crossLines","position"]),bottom:Ke(Wb,["type","crossLines","position"]),left:Ke(Wb,["type","crossLines","position"]),crossLines:Ke(zd,["type"])},time:{...Ke(jb,["type","crossLines"]),top:Ke(jb,["type","crossLines","position"]),right:Ke(jb,["type","crossLines","position"]),bottom:Ke(jb,["type","crossLines","position"]),left:Ke(jb,["type","crossLines","position"]),crossLines:Ke(zd,["type"])},"unit-time":{...Ke($b,["type","crossLines"]),top:Ke($b,["type","crossLines","position"]),right:Ke($b,["type","crossLines","position"]),bottom:Ke($b,["type","crossLines","position"]),left:Ke($b,["type","crossLines","position"]),crossLines:Ke(zd,["type"])},"grouped-category":{...Ke(Ub,["type"]),top:Ke(Ub,["type","position"]),right:Ke(Ub,["type","position"]),bottom:Ke(Ub,["type","position"]),left:Ke(Ub,["type","position"]),crossLines:Ke(zd,["type"])},"ordinal-time":{...Ke(Yb,["type","crossLines"]),top:Ke(Yb,["type","crossLines","position"]),right:Ke(Yb,["type","crossLines","position"]),bottom:Ke(Yb,["type","crossLines","position"]),left:Ke(Yb,["type","crossLines","position"]),crossLines:Ke(zd,["type"])}},kb={"angle-category":{...Ke(HK,["type","crossLines"]),crossLines:Ke(Du,["type"])},"angle-number":{...Ke(zK,["type","crossLines"]),crossLines:Ke(Du,["type"])},"radius-category":{...Ke(jK,["type","crossLines"]),crossLines:{...Ke(Du,["type"]),label:{...cy,positionAngle:Ie}}},"radius-number":{...Ke(VK,["type","crossLines"]),crossLines:{...Ke(Du,["type"]),label:{...cy,positionAngle:Ie}}}},_n={visible:le},uxe={common:{...Lt,navigator:Pn,axes:{...Kr,...kb},annotations:{...Tw,line:WI,"horizontal-line":HF,"vertical-line":HF,"disjoint-channel":n8,"parallel-channel":i8,"fibonacci-retracement":VF,"fibonacci-retracement-trend-based":VF,callout:s8,comment:r8,note:o8,text:FD,arrow:WI,"arrow-up":jF,"arrow-down":jF,"date-range":PE,"price-range":PE,"date-price-range":PE,"quick-date-price-range":a8},chartToolbar:{enabled:le},initialState:{legend:Tr({visible:le,seriesId:Ae,itemId:Ae,legendItemName:Ae},"legend state array"),zoom:{rangeX:{start:zt(Ie,YT),end:zt(Ie,YT)},rangeY:{start:zt(Ie,YT),end:zt(Ie,YT)},ratioX:{start:ct,end:ct},ratioY:{start:ct,end:ct},autoScaledAxes:Mt(bi("y"))}}},line:{...Lt,axes:Kr,series:GB,navigator:Pn,..._n},scatter:{...Lt,axes:Kr,series:XK,navigator:Pn,..._n},bubble:{...Lt,axes:Kr,series:KK,navigator:Pn,..._n},area:{...Lt,axes:Kr,series:UK,navigator:Pn,..._n},bar:{...Lt,axes:Kr,series:BB,navigator:Pn,..._n},"box-plot":{...Lt,axes:Kr,series:l8,navigator:Pn,..._n},candlestick:{...Lt,axes:Kr,series:c8,navigator:Pn,..._n},"cone-funnel":{...Lt,axes:Kr,series:d8,navigator:Pn,..._n},funnel:{...Lt,axes:Kr,series:h8,navigator:Pn,..._n},ohlc:{...Lt,axes:Kr,series:g8,navigator:Pn,..._n},histogram:{...Lt,axes:Ke(Kr,["category","grouped-category","unit-time","ordinal-time"]),series:qK,navigator:Pn,..._n},heatmap:{...Lt,axes:Kr,series:f8,navigator:Pn,..._n},waterfall:{...Lt,axes:Kr,series:k8,navigator:Pn,..._n},"range-bar":{...Lt,axes:Kr,series:R8,navigator:Pn,..._n},"range-area":{...Lt,axes:Kr,series:A8,navigator:Pn,..._n},donut:{...Lt,series:JK,navigator:Pn,..._n},pie:{...Lt,series:zB,navigator:Pn,..._n},"radar-line":{...Lt,axes:kb,series:x8,navigator:Pn,..._n},"radar-area":{...Lt,axes:kb,series:S8,navigator:Pn,..._n},"radial-bar":{...Lt,axes:kb,series:M8,navigator:Pn,..._n},"radial-column":{...Lt,axes:kb,series:D8,navigator:Pn,..._n},nightingale:{...Lt,axes:kb,series:C8,navigator:Pn,..._n},sunburst:{...Lt,series:E8,navigator:Pn,..._n},treemap:{...Lt,series:I8,navigator:Pn,..._n},"map-shape":{...Lt,series:v8,navigator:Pn,..._n},"map-line":{...Lt,series:p8,navigator:Pn,..._n},"map-marker":{...Lt,series:y8,navigator:Pn,..._n},"map-shape-background":{...Lt,series:b8,navigator:Pn,..._n},"map-line-background":{...Lt,series:m8,navigator:Pn,..._n},sankey:{...Lt,series:T8,navigator:Pn,..._n},chord:{...Lt,series:u8,navigator:Pn,..._n},pyramid:{...Lt,series:w8,navigator:Pn,..._n},"radial-gauge":{...Lt,...VI,targets:Ke(yk,["value"]),tooltip:{...VI.tooltip,...Lt.tooltip}},"linear-gauge":{...Lt,...HI,targets:Ke(mk,["value"]),tooltip:{...HI.tooltip,...Lt.tooltip}}};function KT(e,t){const n={};for(const i of Reflect.ownKeys(e))n[i]=t(e[i],i,e);return n}var dxe=KT(uxe,function e(t,n){if(wE(n))return t;if(bh(t))return zt(t,xI,wE);if(Hi(t))return zt(Ss(wI in t?KT(t,i=>Hi(i)?KT(i,e):i):KT(t,e)),xI,wE);throw new Error(`Invalid theme override value: ${String(t)}`)}),vr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},cm={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},hxe=class extends Cw{getDefaultColors(){return{fills:vr,fillsFallback:Object.values(vr),strokes:cm,sequentialColors:Ga(vr),divergingColors:[vr.ORANGE,vr.YELLOW,vr.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[vr.GREEN,vr.YELLOW,vr.RED],secondHierarchyColors:[],up:{fill:vr.GREEN,stroke:cm.GREEN},down:{fill:vr.RED,stroke:cm.RED},neutral:{fill:vr.GRAY,stroke:cm.GRAY},altUp:{fill:vr.BLUE,stroke:cm.BLUE},altDown:{fill:vr.ORANGE,stroke:cm.ORANGE},altNeutral:{fill:vr.GRAY,stroke:cm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,vr.BLUE),e.set(Ns,vr.BLUE),e}},br={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},um={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},fxe=class extends vc{getDefaultColors(){return{...super.getDefaultColors(),fills:br,fillsFallback:Object.values(br),strokes:um,sequentialColors:Ga(br),divergingColors:[br.ORANGE,br.YELLOW,br.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[br.GREEN,br.YELLOW,br.RED],secondHierarchyColors:[],up:{fill:br.GREEN,stroke:um.GREEN},down:{fill:br.RED,stroke:um.RED},neutral:{fill:br.GRAY,stroke:um.GRAY},altUp:{fill:br.BLUE,stroke:um.BLUE},altDown:{fill:br.ORANGE,stroke:um.ORANGE},altNeutral:{fill:br.GRAY,stroke:um.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Zi,br.BLUE),e.set(Ns,br.BLUE),e}},$F=Sr(()=>new vc),gxe=Ut.create(!0,"perf"),Ql=(e,t,n)=>{gxe("[CACHE] ChartTheme",e,t.name,n)},jB={"ag-default-dark":Sr(()=>new Cw),"ag-sheets-dark":Sr(()=>new bSe,Ql),"ag-polychroma-dark":Sr(()=>new ySe,Ql),"ag-vivid-dark":Sr(()=>new hxe,Ql),"ag-material-dark":Sr(()=>new pSe,Ql),"ag-financial-dark":Sr(()=>new fSe,Ql),"ag-default":$F,"ag-sheets":Sr(()=>new CSe,Ql),"ag-polychroma":Sr(()=>new vSe,Ql),"ag-vivid":Sr(()=>new fxe,Ql),"ag-material":Sr(()=>new mSe,Ql),"ag-financial":Sr(()=>new gSe,Ql)},UI=Sr(pxe,Ql);function pxe(e){if(e instanceof vc)return e;if(!bxe(e))return $F();if(e==null||typeof e=="string"){const s=jB[e??"ag-default"];if(s)return s();throw new Error(`Cannot find theme \`${e}\`.`)}const{cleared:t,invalid:n}=Jr(mxe(e),yxe,"theme");for(const s of n)ze.warnOnce(String(s));const i=t!=null&&t.baseTheme?UI(t.baseTheme):$F();return t?new i.constructor(t):i}function mxe(e){if(!Hi(e)||!Hi(e.baseTheme))return e;let t=e,n,i;const s=[];for(;typeof t=="object";)n??(n=t.palette),i??(i=t.params),t.overrides&&s.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Rn(...s),params:i,palette:n}}var yxe={baseTheme:zt(Ae,M1),overrides:dxe,params:{accentColor:qe,axisColor:qe,backgroundColor:qe,borderColor:qe,borderRadius:Ie,chartBackgroundColor:qe,chartPadding:Ie,focusShadow:Ae,foregroundColor:qe,fontFamily:dF,fontSize:Ie,fontWeight:zt(Ae,Ie),gridLineColor:qe,popupShadow:Ae,subtleTextColor:qe,textColor:qe,chromeBackgroundColor:qe,chromeFontFamily:dF,chromeFontSize:Ie,chromeFontWeight:zt(Ae,Ie),chromeSubtleTextColor:qe,chromeTextColor:qe,buttonBackgroundColor:qe,buttonBorder:le,buttonFontWeight:Ie,buttonTextColor:qe,inputBackgroundColor:qe,inputBorder:le,inputTextColor:qe,menuBackgroundColor:qe,menuBorder:le,menuTextColor:qe,panelBackgroundColor:qe,panelSubtleTextColor:qe,tooltipBackgroundColor:qe,tooltipBorder:le,tooltipTextColor:qe,tooltipSubtleTextColor:qe,crosshairLabelBackgroundColor:qe,crosshairLabelTextColor:qe},palette:{fills:Mt(Cl),strokes:Mt(qe),up:{fill:zt(qe,rO),stroke:qe},down:{fill:zt(qe,rO),stroke:qe},neutral:{fill:zt(qe,rO),stroke:qe}}},vxe=_e("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function bxe(e){const{invalid:t}=Jr({theme:e},{theme:zt(vxe,M1)});for(const n of t)ze.warnOnce(String(n));return t.length===0}var na={isEnterprise:!1},Ws="path",Zl="pathArray",js="default",ec="override",tC="user",e0="operation",t0="operationValue",WB="dependency",OO="autoEnable",wj="autoEnableValue";function UB(e){return bI(e)&&e>=0&&e<=1}function n0(e,t){let n=e;for(const i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return!1;n=n[i]}return!0}function nc(e,t){let n=e;for(const i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return;n=n[i]}return n}function NO(e,t,n){const i=t.length;if(i===0)return;let s=e;const r=i-1,o=t[r];for(let a=0;a<r;a++){const l=t[a],c=t[a+1];let d=s[l];(d==null||!vI(d))&&(d=isNaN(Number(c))?{}:[],s[l]=d),s=d}s[o]=n}var Cxe=/^\d+$/;function L8(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(Cxe.test(n))return t}return-1}function SM(e){const t=L8(e);return Number(e[t])}function By(e,t,n){const i=t.split("/");let s=[...e];t.startsWith("/")&&(s=[],i.shift());let r=!1;for(const o of i){if(o==="..")s.pop(),r||s.pop();else if(o===".")s.pop();else if(o==="$index"){const a=SM(e);if(isNaN(a))return _u;s.push(`${a}`)}else if(o==="$prevIndex"){const a=SM(e);if(isNaN(a)||Number(a)<=0)return _u;s.push(`${Number(a)-1}`)}else if(o.startsWith("$")){const a=n==null?void 0:n[o.slice(1)];if(a==null)return _u;s.push(a)}else o.length!==0&&s.push(o);r=o===".."}return s}var _u=Symbol("unresolvable-path"),Sg=Symbol("resolved-to-branch");function vC(e,t){if(e==null||typeof e!="object"||Array.isArray(e)||(t??(t=Object.keys(e)),t.length===0))return;const n=t[0];if(O8.has(n))return{operation:n,values:Array.isArray(e[n])?e[n]:[e[n]]}}function wxe(e,t,n){const i=vC(e.getVertexValue(n));switch(i==null?void 0:i.operation){case"$path":{const[s]=i.values,r=e.getPathArray(t),o=By(r,s);return o===_u?void 0:e.findVertexAtPath(o)}case"$value":return t}}var Sxe={$hasSeriesType:{dependencies:FO,resolve:xxe},$isChartType:{dependencies:FO,resolve:Dxe},$isSeriesType:{dependencies:FO,resolve:Mxe}};function FO(e,t,n){const i=e.findVertexAtPath(["series","0","type"]);i&&e.addEdge(t,i,WB)}function xxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i),r=e.getResolvedPath(["series"]);if(!Array.isArray(r))return!1;for(const o of r)if(o.type===s)return!0;return!1}function Mxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return e.getResolvedPath(["series","0","type"])===s}function Dxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i),r=e.getResolvedPath(["series","0","type"]);if(typeof r!="string")return!1;switch(s){case"cartesian":return $s.isCartesian(r);case"polar":return $s.isPolar(r);case"standalone":return $s.isStandalone(r)}return!1}var Axe={$foregroundBackgroundMix:Rxe,$foregroundOpacity:Txe,$interpolate:Exe,$isGradient:Ixe,$isImage:kxe,$isPattern:Lxe,$mix:Pxe};function Rxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i),r=e.getParamValue("foregroundColor"),o=e.getParamValue("backgroundColor");if(typeof r=="string"&&typeof o=="string"&&UB(s))return ai.mix(ai.fromString(r),ai.fromString(o),1-s).toString();Ut.inDevelopmentMode(()=>ze.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(s)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function Txe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i),r=e.getParamValue("foregroundColor");if(typeof r=="string"&&UB(s)){const o=ai.fromString(r);return new ai(o.r,o.g,o.b,s).toString()}Ut.inDevelopmentMode(()=>ze.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(s)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function Exe(e,t,n){const[i,s]=n,r=e.resolveVertexValue(t,i),o=e.resolveVertexValue(t,s);if(!(!gn(r)||!bI(o)))return ai.interpolate(r.map(a=>ai.fromString(a)),o).map(a=>a.toString())}function Ixe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return mc(s)}function kxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return oy(s)}function Lxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return vg(s)}function Pxe(e,t,n){const[i,s,r]=n,o=e.resolveVertexValue(t,i),a=e.resolveVertexValue(t,s),l=e.resolveVertexValue(t,r),c=e.getPathArray(t),d=`\`$mix\` json operation failed on [${String(o)}, ${String(a)}, ${String(l)}] at [${c.join(".")}], expecting`,f=`${d} two colors and a number between 0 and 1.`;if(typeof a!="string"||!UB(l)){Ut.inDevelopmentMode(()=>ze.warnOnce(f));return}if(typeof o=="string")try{return ai.mix(ai.fromString(o),ai.fromString(a),l).toString()}catch{Ut.inDevelopmentMode(()=>ze.warnOnce(f));return}if(!mc(o)){Ut.inDevelopmentMode(()=>ze.warnOnce(f));return}let g=o.colorStops;try{g=g==null?void 0:g.map(y=>{let v;return typeof y.color=="string"&&(v=ai.mix(ai.fromString(y.color),ai.fromString(a),l).toString()),{...y,color:v}})}catch{Ut.inDevelopmentMode(()=>ze.warnOnce(`${d} a gradient, a color and a number between 0 and 1.`));return}return{...o,colorStops:g}}var Oxe={$rem:Nxe};function Nxe(e,t,n){const[i]=n,s=e.getVertexValue(i),r=e.getParamValue("fontSize");if(typeof r=="number"&&typeof s=="number")return Math.round(s*r);Ut.inDevelopmentMode(()=>ze.warnOnce(`\`$rem\` json operation failed on [${String(s)}] at [${e.getPathArray(t).join(".")}], expecting a number.`))}var Fxe={$and:_xe,$eq:Bxe,$greaterThan:Gxe,$if:zxe,$lessThan:Hxe,$not:Vxe,$or:jxe,$switch:Wxe};function _xe(e,t,n){for(const i of n)if(!e.resolveVertexValue(t,i))return!1;return!0}function Bxe(e,t,n){let i,s=!0;for(const r of n){const o=e.resolveVertexValue(t,r);if(s)i=o,s=!1;else if(o!==i)return!1}return!0}function Gxe(e,t,n){const[i,s]=n;return e.resolveVertexValue(t,i)>e.resolveVertexValue(t,s)}function zxe(e,t,n){const[i,s,r]=n,a=e.resolveVertexValue(t,i)?s:r,l=e.neighboursWithEdgeValue(a,Ws);if(l)for(const c of l)e.addEdge(t,c,Ws);return e.resolveVertexValue(t,a)}function Hxe(e,t,n){const[i,s]=n;return e.resolveVertexValue(t,i)<e.resolveVertexValue(t,s)}function Vxe(e,t,n){for(const i of n)return!e.resolveVertexValue(t,i)}function jxe(e,t,n){for(const i of n)if(e.resolveVertexValue(t,i))return!0;return!1}function Wxe(e,t,n){const[i,s,...r]=n,o=e.resolveVertexValue(t,i);for(const a of r){const l=e.getVertexValue(a);if(!Array.isArray(l))continue;const[c,d]=l;if(o===c||Array.isArray(c)&&c.includes(o))return d}return e.getVertexValue(s)}var Uxe={$isUserOption:$xe,$isThemeOverride:Yxe,$palette:Kxe,$mapPalette:qxe,$path:{dependencies:xj,resolve:Zxe},$pathString:{dependencies:xj,resolve:Xxe},$ref:Qxe};function $xe(e,t,n){const[i,s,r]=n,o=e.neighboursWithEdgeValue(i,Ws);if(o)for(const a of o){const l=e.findNeighbour(a,js);if(l&&Sj(e,t,l))return e.resolveVertexValue(t,s)}else if(Sj(e,t,i))return e.resolveVertexValue(t,s);return e.resolveVertexValue(t,r)}function Sj(e,t,n){const i=e.resolveVertexValue(t,n);if(!Ks(i))throw new Error(`\`$isUserOption\` json operation failed on [${String(i)}], expecting a string.`);const s=e.getPathArray(t),r=By(s,i);return r===_u?!1:e.hasUserOption(r)}function Yxe(e,t,n){const[i,s,r]=n,o=e.resolveVertexValue(t,i);if(!Ks(o))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(o)}], expecting a string.`);const a=e.getPathArray(t),l=By(a,o);if(l!==_u)return e.hasThemeOverride(l)?e.resolveVertexValue(t,s):e.resolveVertexValue(t,r)}var P8=new Set(["fill","fillFallback","stroke","gradient","range2"]);function Kxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);if(!Ks(s))return;if(P8.has(s)){const o=e.getPathArray(t),a=SM(o);if(isNaN(a))return;switch(s){case"fill":return vu(e.palette.fills,1,a)[0];case"fillFallback":return vu(e.palette.fillsFallback,1,a)[0];case"stroke":return vu(e.palette.strokes,1,a)[0];case"gradient":return vu(e.palette.sequentialColors,1,a)[0];case"range2":return vu(e.palette.fills,2,a)}return}if(s==="gradients")return e.palette.sequentialColors;const r=nc(e.palette,s.split("."));return Array.isArray(r)?[...r]:typeof r=="object"?{...r}:r}function qxe(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);if(!Ks(s))return;if(P8.has(s)){const o=e.getPathArray(t);let a=SM(o),l=0;const c=["series","0","type"];for(let d=0;d<a;d++){c[1]=`${d}`;const f=e.getResolvedPath(c);(f==="map-shape-background"||f==="map-line-background")&&l++}if(a-=l,isNaN(a))return;switch(s){case"fill":return vu(e.palette.fills,1,a)[0];case"fillFallback":return vu(e.palette.fillsFallback,1,a)[0];case"stroke":return vu(e.palette.strokes,1,a)[0];case"gradient":return vu(e.palette.sequentialColors,1,a)[0];case"range2":return vu(e.palette.fills,2,a)}return}if(s==="gradients")return e.palette.sequentialColors;const r=nc(e.palette,s.split("."));return Array.isArray(r)?[...r]:typeof r=="object"?{...r}:r}function xj(e,t,n){const[i]=n,s=e.getVertexValue(i);if(Ks(s)){const r=e.getPathArray(t),o=By(r,s);if(o===_u)return;const a=e.findVertexAtPath(o);a&&e.addEdge(t,a,WB)}}function Zxe(e,t,n){const i=n.length>1,s=n.length>2,[r,o,a]=n,l=e.resolveVertexValue(t,r),c=s?e.resolveVertexValue(t,a):null;if(!Ks(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);const d=e.getPathArray(t),f=By(d,l);if(f===_u)return;const g=c?nc(c,f):e.getResolvedPath(f);if(g!=null)return g;if(i)return e.resolveVertexValue(t,o)}function Xxe(e,t,n){const[i,s]=n,r=e.resolveVertexValue(t,i);if(!Ks(r))throw new Error(`\`$path\` json operation failed on [${String(r)}], expecting a string.`);let o;s&&(o=e.graftAndResolveOrphan(t,s));const a=e.getPathArray(t),l=By(a,r,o);if(l===_u)throw new Error(`Unresolvable path [${r}] at [${a.join(".")}]`);return l}function Qxe(e,t,n){const[i]=n,s=e.getVertexValue(i);return e.getParamValue(s)}var Jxe={$apply:e0e,$applyTheme:t0e,$findFirstSiblingNotOperation:n0e,$map:i0e,$merge:s0e,$omit:r0e,$size:o0e,$shallow:a0e,$value:l0e};function e0e(e,t,n){const[i,s,r,o]=n,a=e.getVertexValue(i);if(!Tn(a))return;const l=s?e.getVertexValue(s):void 0,c=e.neighboursWithEdgeValue(t,Ws),d=r?e.resolveVertexValue(t,r):void 0,f=o?e.resolveVertexValue(t,o):void 0;if((!c||c.length===0)&&l!=null)if(vC(l)){const g=e.resolveVertexValue(t,s);Tn(g)&&e.graftObject(t,g,[d,f])}else e.graftObject(t,l,[d,f]);if(!c)return Sg;for(const g of c){const y=e.neighboursWithEdgeValue(g,Ws);if(!y||y.length===0){const v=e.addVertex({});e.addEdge(g,v,js)}else e.graftObject(g,a,[d,f])}return Sg}function t0e(e,t,n){const[i,s,r]=n;let o=e.getVertexValue(i);if(typeof o=="string"&&(o=[o]),!Array.isArray(o))return;const a=e.neighboursWithEdgeValue(t,Ws),l=r?e.getVertexValue(r):[],c=Array.isArray(l)?new Set(l):new Set;if(!a)return Sg;for(const d of a){const f=e.graftAndResolveOrphan(d,s);for(const g of o){const y=By([],g,f);y!==_u&&e.graftConfig(d,y,c)}}return Sg}function n0e(e,t,n){const[i]=n,s=e.getPathArray(t),r=L8(s);if(r<0)return e.resolveVertexValue(t,i);const o=s.slice(0,r),a=e.findVertexAtPath(o);if(!a)return e.resolveVertexValue(t,i);const l=e.neighboursWithEdgeValue(a,Ws);if(l)for(let c=0;c<l.length;c++){if(`${c}`===s[r])continue;const d=o.concat([`${c}`,...s.slice(r+1)]),f=e.findVertexAtPath(d);if(!f)continue;const g=e.findNeighbourValue(f,tC);if(g!=null)return g;const y=e.findNeighbourValue(f,ec);if(y!=null)return y}return e.resolveVertexValue(t,i)}function i0e(e,t,n){const[i,s]=n,r=e.getVertexValue(i),o=e.resolveVertexValue(t,s);if(!Array.isArray(o))return;if(!vC(r))return o.map(()=>r);let a=0;for(const l of o)e.graftValue(t,`${a}`,r,l),a++;return Sg}function s0e(e,t,n){for(const i of n){const s=e.resolveVertexValue(t,i);Tn(s)&&e.graftObject(t,s)}return Sg}function r0e(e,t,n){const[i,s]=n;let r=e.getVertexValue(i);if(!Array.isArray(r)){const a=wxe(e,t,s);if(!a)return;r=e.resolveVertexValue(a,i)}const o=e.resolveVertexValue(t,s);if(!(!Array.isArray(r)||!Tn(o)))return Ke(o,r)}function o0e(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return vI(s)?Object.keys(s).length:0}function a0e(e,t,n){const i=[];for(const s of n)i.push(e.getVertexValue(s));return i}function l0e(e,t,n){const[i]=n,s=e.getVertexValue(i),r=e.getPathArray(t);if(s==="$index")return SM(r);if(s==="$1")return e.resolveValue$1(r)}var c0e={$isEven:u0e,$mul:d0e,$round:h0e};function u0e(e,t,n){const[i]=n,s=e.resolveVertexValue(t,i);return isNaN(Number(s))?!1:Number(s)%2===0}function d0e(e,t,n){let i;for(const s of n){const r=e.resolveVertexValue(t,s);i==null?i=Number(r):i*=Number(r)}return i}function h0e(e,t,n){for(const i of n)return Math.round(Number(e.resolveVertexValue(t,i)))}var m0={...Sxe,...Axe,...Oxe,...Uxe,...Fxe,...c0e,...Jxe},O8=new Set(Object.keys(m0));function i0(e){return O8.has(e)}var f0e=Sr(g0e);function g0e(e,t){return new N8(e.config,t,e.params,e.palette,e.overrides,e.getTemplateParameters())}var _D=class Jl extends gye{constructor(t={},n={},i=void 0,s=void 0,r={},o=new Map){var M,A,k,I,P,N,B;super(Ws,e0),this.config=t,this.userOptions=n,this.overrides=r,this.internalParams=o,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=t,this.overrides=r,this.internalParams=o,this.palette=s?Bi(s):{},this.palette.type=Hi(n==null?void 0:n.theme)?iK((M=n.theme)==null?void 0:M.palette):"inbuilt";const l=((k=(A=n.series)==null?void 0:A[0])==null?void 0:k.type)??"line",c=oc.cloneDefaultAxes(l);n.axes??(n.axes=(c==null?void 0:c.axes)??[]),this.buildGraphFromObject(this.root,tC,Ke(n,["theme"])),this.buildGraphFromObject(this.root,js,Ke(t[l],Jl.COMPLEX_KEYS));const d=r?Ke(r[l],Jl.COMPLEX_KEYS):{};Object.keys(d).length>0&&this.buildGraphFromObject(this.root,ec,d);const f=r?Ke(r.common,Jl.COMPLEX_KEYS):{};Object.keys(f).length>0&&this.buildGraphFromObject(this.root,ec,$s.isCartesian(l)?f:Ke(f,["zoom","navigator"])),i&&this.buildGraphFromObject(this.params,js,i);const g=this.findNeighbourWithValue(this.root,"axes",Ws),y=this.findNeighbourWithValue(this.root,"series",Ws);g&&this.buildGraphFromObject(g,js,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),y&&this.buildGraphFromObject(y,js,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});const v=Ke(((I=t[l])==null?void 0:I.annotations)??{},Jl.ANNOTATIONS_OPTIONS_KEYS);Object.keys(v).length>0&&this.buildGraphFromObject(this.annotations,js,v);const w=Ke(((P=r==null?void 0:r.common)==null?void 0:P.annotations)??{},Jl.ANNOTATIONS_OPTIONS_KEYS);Object.keys(w).length>0&&this.buildGraphFromObject(this.annotations,ec,w);const S=fF(((N=t[l])==null?void 0:N.annotations)??{},Jl.ANNOTATIONS_OPTIONS_KEYS);Object.keys(S).length>0&&this.buildGraphFromObject(this.root,js,{annotations:S});const x=fF(((B=r==null?void 0:r.common)==null?void 0:B.annotations)??{},Jl.ANNOTATIONS_OPTIONS_KEYS);Object.keys(x).length>0&&this.buildGraphFromObject(this.root,ec,{annotations:x}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(t){const n=t.join(".");if(this.cachedPathVertices.has(n))return this.cachedPathVertices.get(n);const i=this.findVertexAlongEdge(this.root,t,Ws);if(i)return this.cachedPathVertices.set(n,i),i}hasUserOption(t){return n0(this.userOptions,t)}hasThemeOverride(t){if(t[0]==="axes"&&t.length>1){const n=this.getResolvedPath(["axes",t[1],"type"]);if(n0(this.overrides,["common","axes",n,...t.slice(2)]))return!0;const i=this.getResolvedPath(["series","0","type"]);return n0(this.overrides,[i,"axes",n,...t.slice(2)])}if(t[0]==="series"&&t.length>1){const n=this.getResolvedPath(["series",t[1],"type"]);return n0(this.overrides,[n,"series",...t.slice(2)])}return n0(this.overrides,t)}getParamValue(t){if(this.resolvedParams[t]!=null)return this.resolvedParams[t];const n=this.findVertexAlongEdge(this.params,[t],Ws);if(!n)return;const i=this.findNeighbour(n,js);if(!i)return;const s=this.resolveVertexValue(n,i);return this.resolvedParams[t]=s,s}getPathArray(t){return this.findNeighbourValue(t,Zl)??[]}getResolvedPath(t){return nc(this.resolved,t)}resolveVertexValue(t,n){this.resolveVertexDependencies(n);const i=this.findNeighbourValue(n,e0);if(i&&i0(i)){const r=this.neighboursWithEdgeValue(n,t0),o=m0[i],a=typeof o=="function"?o:o.resolve,l=a==null?void 0:a(this,t,r??[]);return l===Sg?void 0:l}let s=this.getVertexValue(n);if(Array.isArray(s)){const r={};this.resolveVertexChildren(n,r),s=nc(r,this.getPathArray(t))}return this.resolveValueOrSymbol(s)}resolveValue$1(t){return nc(this.value$1,t)}graftConfig(t,n,i){const s=nc(this.config,n),r=this.findNeighbour(t,Zl);if(Tn(s)&&this.buildGraphFromObject(t,js,s,r,void 0,i),this.overrides){const o=nc(this.overrides,n);Tn(o)&&this.buildGraphFromObject(t,ec,o,r,void 0,i);const a=nc(this.overrides,["common",...n.slice(1)]);Tn(a)&&this.buildGraphFromObject(t,ec,a,r,void 0,i)}this.buildDependencyGraph()}graftObject(t,n,i){const s=this.findNeighbour(t,Zl);if(this.buildGraphFromObject(t,js,n,s),this.overrides&&i)for(const r of i){if(r==null)continue;const o=nc(this.overrides,r);o&&this.buildGraphFromObject(t,ec,o,s)}this.buildDependencyGraph()}graftValue(t,n,i,s){const r=[...this.getPathArray(t),n];NO(this.value$1,r,s);const o=this.findVertexAtPath(r)??this.addVertex(n);this.buildGraphFromValue(t,o,js,r,i),this.buildDependencyGraph()}graftAndResolveOrphan(t,n){const i={},s=this.addVertex(i),r=this.getPathArray(t);return this.graftAndResolveChildren(n,s,r,[]),this.resolveVertex(s,i),nc(i,r)}buildGraphFromObject(t,n,i,s,r=Jl.SHALLOW_KEYS,o){const a=Object.keys(i),l=vC(i,a);if(l){const v=this.addVertex(i);this.addEdge(t,v,n),this.buildGraphFromOperation(v,n,l,s);return}if(a.length===0){this.addEdge(t,this.addVertex(Array.isArray(i)?[]:{}),n),this.buildGraphAutoEnable(t,n,i,void 0);return}const c=this.getVertexChildrenByKey(t),d=s?this.getVertexValue(s):[];let f;const g=[...d],y=d.length;for(const v of a){if(o!=null&&o.has(v))continue;const w=(c==null?void 0:c.get(v))??this.addVertex(v);g[y]=v,r!=null&&r.has(v)?this.buildShallowGraphFromValue(t,w,n,g,i[v]):this.buildGraphFromValue(t,w,n,g,i[v],r),v==="enabled"&&(f=w)}this.buildGraphAutoEnable(t,n,i,f)}buildGraphAutoEnable(t,n,i,s){if(n===js&&!s||n===tC&&s||n!==js&&n!==tC&&n!==ec)return;let r=this.findNeighbour(t,OO);r||(r=this.addVertex(OO),this.addEdge(t,r,OO)),s&&this.addEdge(s,r,wj);const{enabled:o,_enabledFromTheme:a}=i;this.addEdge(r,this.addVertex({enabled:o,_enabledFromTheme:a,keys:Object.keys(i).length}),n)}getVertexChildrenByKey(t){const n=this.neighboursWithEdgeValue(t,Ws);if(!n)return;const i=new Map;for(const s of n)i.set(this.getVertexValue(s),s);return i}buildGraphFromValue(t,n,i,s,r,o){this.addEdge(t,n,Ws);let a=this.findNeighbour(n,Zl);a||(a=this.addVertex([...s]),this.addEdge(n,a,Zl));const l=vC(r);if(l){const c=this.addVertex(r);this.addEdge(n,c,i),this.addEdge(c,a,Zl),this.buildGraphFromOperation(c,i,l,a)}else if(vI(r))this.buildGraphFromObject(n,i,r,a,o);else{const c=this.addVertex(r);this.addEdge(n,c,i)}}buildShallowGraphFromValue(t,n,i,s,r){this.addEdge(t,n,Ws);let o=this.findNeighbour(n,Zl);o||(o=this.addVertex([...s]),this.addEdge(n,o,Zl));const a=this.addVertex(r);this.addEdge(n,a,i)}buildGraphFromOperation(t,n,i,s){const r=this.addVertex(i.operation);this.addEdge(t,r,e0);for(const o of i.values)this.buildGraphFromOperationValue(t,o,n,s)}buildGraphFromOperationValue(t,n,i,s=this.EMPTY_PATH_ARRAY_VERTEX){const r=this.addVertex(n);this.addEdge(t,s,Zl),this.addEdge(t,r,t0);const o=vC(n);o?this.buildGraphFromOperation(r,i,o,s):vI(n)&&this.buildGraphFromObject(r,i,n,s)}buildDependencyGraph(){for(let t=0;t<this.pendingProcessingEdgesFrom.length;t++){const n=this.pendingProcessingEdgesFrom[t],i=this.pendingProcessingEdgesTo[t],s=this.getVertexValue(i);if(!i0(s))continue;const r=this.neighboursWithEdgeValue(n,t0),o=m0[s],a=typeof o=="function"?void 0:o.dependencies;a==null||a(this,n,r??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(t,n=this.resolved){const i=this.getPathArray(t);this.resolveVertexInEdgePriority(t,n,i),this.resolveVertexAutoEnable(t,n,i),this.resolveVertexChildren(t,n)}resolveVertexInEdgePriority(t,n,i){const s=this.neighboursWithEdgeValue(t,Ws),[r]=Jl.EDGE_PRIORITY;for(const o of Jl.EDGE_PRIORITY){const a=this.findNeighbour(t,o);if(a==null)continue;const l=this.resolveVertexValueInternal(t,a);if(!(l==null&&o!==r)&&!(s&&s.length>0&&Array.isArray(l)&&o!==r)){if(i.length===0){if(l==null)continue;this.resolved=l}else NO(n,i,l);break}}}resolveVertexValueInternal(t,n){this.resolveVertexDependencies(n);const i=this.findNeighbourValue(n,e0);if(i&&i0(i)){const s=this.neighboursWithEdgeValue(n,t0),r=m0[i],o=typeof r=="function"?r:r.resolve,a=o==null?void 0:o(this,t,s??[]);return a===Sg?void 0:a}return this.resolveValueOrSymbol(this.getVertexValue(n))}resolveVertexAutoEnable(t,n,i){var l;const s=(l=this.neighboursWithEdgeValue(t,wj))==null?void 0:l[0];if(!s)return;const r=this.findNeighbourValue(s,js),o=this.findNeighbourValue(s,ec),a=this.findNeighbourValue(s,tC);a&&a.enabled==null&&!(r!=null&&r._enabledFromTheme)&&!(o!=null&&o._enabledFromTheme)&&NO(n,i,!0)}resolveVertexChildren(t,n){const i=this.neighboursWithEdgeValue(t,Ws);if(i)for(const s of i){const r=this.getVertexValue(s);i.length>1&&i0(r)||r!=="_enabledFromTheme"&&this.resolveVertex(s,n)}}resolveVertexDependencies(t){const n=this.neighboursWithEdgeValue(t,WB);if(n)for(const i of n)this.resolveVertex(i)}graftAndResolveChildren(t,n,i,s){const r=this.neighboursWithEdgeValue(t,Ws);if(r)for(const o of r){const a=this.getVertexValue(o),l=[...i,a],c=[...s,a],d=this.addVertex(a),f=this.findNeighbourValue(o,js);this.addEdge(n,d,Ws);const g=this.addVertex(l);if(this.addEdge(d,g,Zl),Tn(f)){this.buildGraphFromObject(d,js,f,g);const y=this.findNeighbour(d,js);this.addEdge(y,this.addVertex(l),Zl);const v=this.findNeighbourValue(y,e0);if(i0(v)){const w=this.neighboursWithEdgeValue(y,t0),S=m0[v],x=typeof S=="function"?void 0:S.dependencies;x==null||x(this,y,w??[])}}this.graftAndResolveChildren(o,d,l,c)}}resolveValueOrSymbol(t){var n;return typeof t=="symbol"&&((n=this.internalParams)!=null&&n.has(t))?this.internalParams.get(t):t}};_D.EDGE_PRIORITY=[tC,ec,js];_D.SHALLOW_KEYS=new Set(["context","data","topology"]);_D.COMPLEX_KEYS=["annotations","axes","series"];_D.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"];var N8=_D,Mj=e=>`'${e}'`,Gy=class nr{constructor(t,n,i,s,r,o,a=!1,l){this.themeParameters={},this.optionMetadata=r??{},this.processedOverrides=i??{};let c=null;t instanceof nr?(c=t,this.specialOverrides=c.specialOverrides,o===void 0&&(o=dh(c.userOptions,n,nr.JSON_DIFF_OPTS)),this.userOptions=Bi(oM(o,c.userOptions),{...nr.OPTIONS_CLONE_OPTS_SLOW,seen:[]})):(this.userOptions=Bi(t??n,{...nr.OPTIONS_CLONE_OPTS_SLOW,seen:[]}),this.specialOverrides=this.specialOverridesDefaults({...s})),a&&this.removeLeftoverSymbols(this.userOptions);let d,f,g,y,v,w;if(!a&&o!==void 0&&nr.isFastPathDelta(o)&&c!=null?({activeTheme:d,processedOptions:f,fastDelta:g}=this.fastSetup(o,c),y=c.themeParameters,v=c.annotationThemes):(nr.perfDebug("ChartOptions.slowSetup()"),{activeTheme:d,processedOptions:f,themeParameters:y,annotationThemes:v,googleFonts:w}=this.slowSetup(i,o,a)),this.activeTheme=d,this.processedOptions=f,this.fastDelta=g??void 0,this.themeParameters=y,this.annotationThemes=v,this.googleFonts=w,l!==void 0&&typeof l=="number"&&!isNaN(l)){const S=performance.now();this.optionsProcessingTime=S-l}Ut.inDevelopmentMode(()=>Ud(this))}static isFastPathDelta(t){for(const n of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(n))return nr.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",n),!1;return nr.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,n){const{activeTheme:i,processedOptions:s}=n,{presetType:r}=this.optionMetadata;if(r!=null&&(t==null?void 0:t.data)!=null){const a=To.getPresetModule(r);if(a!=null&&a.processData){const{series:l,data:c}=a.processData(t.data);t=Rn({series:l,data:c},t)}}this.fastSeriesSetup(t,s);const o=Rn(t,s);return nr.debug("ChartOptions.fastSetup() - processed options",o),{activeTheme:i,processedOptions:o,fastDelta:t}}fastSeriesSetup(t,n){var i;t!=null&&t.series&&((i=t.series)!=null&&i.every((s,r)=>{var o;return rY(s,((o=n.series)==null?void 0:o[r])??{})})?delete t.series:t.series=t.series.map((s,r)=>{var o;return oM(s,((o=n.series)==null?void 0:o[r])??{})}))}slowSetup(t,n,i=!1){let s=Bi(this.userOptions,nr.OPTIONS_CLONE_OPTS_FAST);n&&(s=Rn(n,s),i&&this.removeLeftoverSymbols(s));const{presetType:r}=this.optionMetadata;if(r!=null){const y=To.getPresetModule(r);if(y){const{validate:v=Jr}=y,w=s,S=s.type,x=S!=null?UI(s.theme).presets[S]:void 0,{cleared:M,invalid:A}=v(w,y.options,"");A.forEach(k=>ze.warn(k)),hC(A,"")?s={}:(nr.debug(">>> AgCharts.createOrUpdate() - applying preset",M),s=y.create(M,x,()=>this.activeTheme))}}this.soloSeriesIntegrity(s),na.isEnterprise||hj(s);const o=UI(s.theme);if(r!=null&&o.templateTheme(s,!1),this.validateSeriesOptions(s),this.chartDef=To.detectChartDefinition(s),!this.chartDef.placeholder){const{validate:y=Jr}=this.chartDef,{cleared:v,invalid:w}=y(s,this.chartDef.options,"");w.forEach(S=>ze.warn(S)),s=v}this.validateAxesOptions(s),this.removeDisabledOptions(s);let a=this.processFonts(o.params);a=this.processFonts(s,a),this.processSeriesOptions(s);const l=f0e(o,s),c=l.resolve(),d=l.resolveParams(),f=l.resolveAnnotationThemes();l.clear();const g=Rn(t,c);return tSe(g),na.isEnterprise||hj(g,!0),this.validateSeriesOptions(g),this.validateAxesOptions(g),this.validatePluginOptions(g),this.processMiniChartSeriesOptions(g),g.loadGoogleFonts||a.clear(),nr.debug(()=>["ChartOptions.slowSetup() - processed options",Bi(g)]),{activeTheme:o,processedOptions:g,themeParameters:d,annotationThemes:f,googleFonts:a}}validatePluginOptions(t){var n;for(const i of To.listModulesByType(CE.Plugin)){const s=i.name;if(s in t&&(!i.chartType||i.chartType===((n=this.chartDef)==null?void 0:n.name))){const{cleared:r,invalid:o}=Jr(t[s],i.options,i.name);o.forEach(a=>ze.warn(a)),t[s]=r}}}validateSeriesOptions(t){var o,a;const n=(o=this.chartDef)==null?void 0:o.name,i=[],s=((a=t.series)==null?void 0:a.length)??0;let r;for(let l=0;l<s;l++){const c=`series[${l}]`,d=t.series[l],f=To.getSeriesModule(d.type);if(f==null){r??(r=tM(Array.from(To.listModulesByType(CE.Series)).filter(w=>!n||w.chartType===n).map(w=>w.name),"or",Mj)),ze.warn(d.type==null?`Option \`${c}.type\` is required and has not been provided; expecting ${r}, ignoring.`:`Unknown type \`${d.type}\` at \`${c}.type\`; expecting ${r}, ignoring.`);continue}else if(n&&f.chartType!==n){ze.warn(`Series type \`${f.name}\` at \`${c}.type\` is not supported by chart type \`${n}\`, ignoring.`);continue}const{validate:g=Jr}=f,{cleared:y,invalid:v}=g(d,f.options,c);v.forEach(w=>ze.warn(w)),hC(v,c)||i.push(y)}t.series=i}validateAxesOptions(t){var o;if(!("axes"in t)||!t.axes)return;const n=(o=this.chartDef)==null?void 0:o.name,i=[],s=t.axes.length??0;let r;for(let a=0;a<s;a++){const l=`axes[${a}]`,c=t.axes[a],d=To.getAxisModule(c.type);if(d==null){r??(r=tM(Array.from(To.listModulesByType(CE.Axis)).filter(v=>v.chartType===n).map(v=>v.name),"or",Mj)),ze.warn(`Unknown type \`${c.type}\` at  \`${l}.type\`; expecting one of ${r}, ignoring all axes options.`),delete t.axes;break}else if(d.chartType!==n){ze.warn(`Axis type \`${d.name}\` at  \`${l}.type\` is not supported by chart type \`${n}\`, ignoring.`);break}const{validate:f=Jr}=d,{cleared:g,invalid:y}=f(c,d.options,l);y.forEach(v=>ze.warn(v)),hC(y,l)||i.push(g)}t.axes=i}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??dh(t.processedOptions,this.processedOptions,nr.JSON_DIFF_OPTS)}optionsType(t){var n,i;return((i=(n=t.series)==null?void 0:n[0])==null?void 0:i.type)??"line"}processSeriesOptions(t){var i;const n=(i=t.series)==null?void 0:i.map(s=>{s.type??(s.type="line");const r=To.getSeriesModule(s.type),o=!!(r!=null&&r.options.visible);return Rn(this.getSeriesGroupingOptions(s),s,o&&{visible:!0})});t.series=this.setSeriesGroupingOptions(n??[])}processMiniChartSeriesOptions(t){var i,s;const n=(s=(i=t.navigator)==null?void 0:i.miniChart)==null?void 0:s.series;n!=null&&(t.navigator.miniChart.series=this.setSeriesGroupingOptions(n))}getSeriesGroupingOptions(t){const n=oc.isGroupable(t.type),i=oc.isStackable(t.type),s=oc.isStackedByDefault(t.type);t.grouped&&!n&&ze.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!i&&ze.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(s||t.stackGroup!=null)&&!(n&&r)),r??(r=!0),{stacked:i&&o,grouped:n&&r&&!(i&&o)}}setSeriesGroupingOptions(t){const n=this.getSeriesGrouping(t);nr.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",n);const i={},s=n.reduce((r,o)=>{var a;return o.groupType==="default"||(r[a=o.seriesType]??(r[a]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return n.flatMap(r=>{var o;switch(i[o=r.seriesType]??(i[o]=0),r.groupType){case"stack":{const a=i[r.seriesType]++;return r.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:r.groupId,groupIndex:a,groupCount:s[r.seriesType],stackIndex:c,stackCount:r.series.length}}))}case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:i[r.seriesType]++,groupCount:s[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const n=new Map;return t.reduce((i,s)=>{const r=s.type;if(!s.stacked&&!s.grouped)i.push({groupType:"default",seriesType:r,series:[s],groupId:"__default__"});else{const o=this.getSeriesGroupId(s);if(!n.has(o)){const l={groupType:s.stacked?"stack":"group",seriesType:r,series:[],groupId:o};n.set(o,l),i.push(l)}n.get(o).series.push(s)}return i},[])}soloSeriesIntegrity(t){if(!gn(t.series))return;const n=t.series;if(n&&n.length>1&&n.some(i=>oc.isSolo(i.type))){const i=this.optionsType(t);if(oc.isSolo(i))ze.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=n.slice(0,1);else{const{solo:s,nonSolo:r}=S_(n,a=>oc.isSolo(a.type)?"solo":"nonSolo"),o=Xme(s.map(a=>a.type)).join(", ");ze.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}static processFontOptions(t,n,i,s=new Set){if(typeof t=="object"&&"fontFamily"in t)if(Array.isArray(t.fontFamily)){const r=[];for(const o of t.fontFamily)typeof o=="object"&&"googleFont"in o?(r.push(o.googleFont),s==null||s.add(o.googleFont)):r.push(o);t.fontFamily=r.join(", ")}else typeof t.fontFamily=="object"&&"googleFont"in t.fontFamily&&(t.fontFamily=t.fontFamily.googleFont,s==null||s.add(t.fontFamily));return s}processFonts(t,n=new Set){return lg(t,nr.processFontOptions,new Set(["data","theme"]),void 0,void 0,n)}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})}removeDisabledOptions(t){lg(t,nr.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!Hi(t)))for(const n of Object.keys(t)){const i=t[n];wE(i)&&delete t[n]}}removeLeftoverSymbols(t){lg(t,nr.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=$n():Eme(t.window),t.document==null?t.document=Vu():Tme(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};Gy.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};Gy.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};Gy.JSON_DIFF_OPTS=new Set(["data"]);Gy.perfDebug=Ut.create(!0,"perf");Gy.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);Gy.debug=Ut.create(!0,"opts");var F0=Gy,Dj=Ut.create(!0,"opts"),dm="AG Charts - Chart was destroyed, cannot perform request.",_0=class{constructor(t,n,i){this.factoryApi=n,this.licenseManager=i,this.chart=t}async update(t){if(!this.chart)throw new Error(dm);return Dj.group("AgChartInstance.update()",async()=>{var i;const n=Ut.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(t,this,void 0,n),await((i=this.chart)==null?void 0:i.waitForUpdate())})}async updateDelta(t){if(!this.chart)throw new Error(dm);return Dj.group("AgChartInstance.updateDelta()",async()=>{var i;const n=Ut.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,t,n),await((i=this.chart)==null?void 0:i.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(dm);const t=Bi(this.chart.getOptions(),F0.OPTIONS_CLONE_OPTS_FAST);for(const n of Object.keys(t))n.startsWith("_")&&delete t[n];return t}waitForUpdate(){if(!this.chart)throw new Error(dm);return this.chart.waitForUpdate()}async download(t){var i;if(!this.chart)throw new Error(dm);const n=await this.prepareResizedChart(this,this.chart,t);try{(i=n.chart)==null||i.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{n.destroy()}}async __toSVG(t){var i;if(!this.chart)throw new Error(dm);const n=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return(i=n==null?void 0:n.chart)==null?void 0:i.toSVG()}finally{n==null||n.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(dm);const n=await this.prepareResizedChart(this,this.chart,t);try{return n.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{n.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:n}=this;if(!n)return;const i=this.getEnabledOriginators();if(!i.includes(n.ctx.legendManager)){await this.setStateOriginators(t,i);return}await this.setStateOriginators(t,i.filter(s=>s!==n.ctx.zoomManager)),await this.setStateOriginators(t,[n.ctx.zoomManager])}resetAnimations(){var t;(t=this.chart)==null||t.resetAnimations()}skipAnimations(){var t;(t=this.chart)==null||t.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,n,i={}){var w,S,x,M,A,k,I;const s=i.width??n.width??n.ctx.scene.canvas.width,r=i.height??n.height??n.ctx.scene.canvas.height,o=t.getState(),a=Ou.hasEnterpriseModules(),l={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:r};i.width!=null&&i.height!=null&&(l.overrideDevicePixelRatio=1);const c=n.getOptions();a&&(l.animation={enabled:!1},(w=this.licenseManager)!=null&&w.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const d={...n.chartOptions.specialOverrides},f={...n.chartOptions.optionMetadata},g=await((S=this.chart)==null?void 0:S.ctx.dataService.getData()),y=this.factoryApi.create(c,l,d,f,g);await y.setState(o),(x=y.chart)==null||x.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),(M=y.chart)==null||M.ctx.legendManager.clearData(),(A=y.chart)==null||A.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((P,N)=>{y.chart.series[N].visible=P.visible});const v=[];for(const P of n.modulesManager.legends())v.push(((k=P.legend.pagination)==null?void 0:k.currentPage)??0);for(const P of y.chart.modulesManager.legends()){const N=v.shift()??0;P.legend.pagination&&P.legend.pagination.setPage(N)}return(I=y.chart)==null||I.update(0,{forceNodeDataRefresh:!0}),await y.waitForUpdate(),y}getEnabledOriginators(){var c,d,f;if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:n},ctx:{annotationManager:i,chartTypeOriginator:s,zoomManager:r,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((c=t.annotations)!=null&&c.enabled)&&a.push(i),n.presetType==="price-volume"&&a.push(s),((d=t.navigator)!=null&&d.enabled||(f=t.zoom)!=null&&f.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,n){var i,s;this.factoryApi.caretaker.restore(t,...n),(i=this.chart)==null||i.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await((s=this.chart)==null?void 0:s.waitForUpdate())}};_0.chartInstances=new WeakMap;L([ro({oldValue(e){e.destroyed||(e.publicApi=void 0),_0.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,_0.chartInstances.set(e,this))}})],_0.prototype,"chart",2);var Aj=_0,$B=class extends D1{constructor(e){super(),this.ctx=e,this.localeText=void 0}};L([Tg(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),F],$B.prototype,"localeText",2);L([Tg(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),F],$B.prototype,"getLocaleText",2);var p0e={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new $B(e)},Ew=class extends D1{constructor(e){super(),this.ctx=e,this.rectNode=new _s,this.textNode=new Ea,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new jt({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};L([F,cs("node","visible")],Ew.prototype,"visible",2);L([F,cs("rectNode","fill")],Ew.prototype,"fill",2);L([F],Ew.prototype,"image",2);L([F,cs("textNode")],Ew.prototype,"text",2);var F8={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Ew(e)},zy=class extends It{constructor(e){super(),this.node=e,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};L([ro({changeValue(e){e?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),F],zy.prototype,"enabled",2);L([cs("node","stroke"),F],zy.prototype,"stroke",2);L([cs("node","strokeOpacity"),F],zy.prototype,"strokeOpacity",2);L([ro({changeValue(e){this.enabled?this.node.strokeWidth=e:this.node.strokeWidth=0}}),F],zy.prototype,"strokeWidth",2);function m0e({orientation:e,bboxes:t,maxHeight:n,maxWidth:i,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?i:n,fn:a?g=>g.width:g=>g.height,padding:a?r:s},c={max:a?n:i,fn:a?g=>g.height:g=>g.width,padding:a?s:r};let d=0;const f=[];for(;d<t.length;){const g=t.slice(d),y=y0e(g,d,l,c,o);if(!y)return;d+=y.processedBBoxCount,f.push(y.pageIndices)}return b0e(f,e,t,s,r)}function y0e(e,t,n,i,s){let o=w0e(e,n);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){const l=v0e(e,t,a,n,i,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function v0e(e,t,n,i,s,r){const o=[];let a=0,l=0,c=[];const d=[];for(let f=0;f<e.length;f++){const g=(f+n)%n;g===0&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);const y=i.fn(e[f])+i.padding;d[g]=Math.max(d[g]??0,y),l=Math.max(l,s.fn(e[f])+s.padding);const v=a+l,w=!r||o.length>0;if(v>s.max&&w){c=[];break}if(d.reduce((x,M)=>x+M,0)>i.max&&!r)return d.length<n?d.length:void 0;c.push(f+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}function b0e(e,t,n,i,s){let r=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=C0e(l));let c=0;const d=l.map(y=>{const v=y.map(x=>(c=Math.max(x,c),n[x]));let w=0,S=0;return v.forEach(x=>{w+=x.height+i,S=Math.max(S,x.width+s)}),{indices:y,bboxes:v,columnHeight:Math.ceil(w),columnWidth:Math.ceil(S)}});let f=0,g=0;return d.forEach(y=>{f+=y.columnWidth,g=Math.max(g,y.columnHeight)}),r=Math.max(f,r),o=Math.max(g,o),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:f,pageHeight:g}}),maxPageWidth:r,maxPageHeight:o}}function C0e(e){const t=[];for(const n of e[0])t.push([]);return e.forEach((n,i)=>{n.forEach((s,r)=>{t[r][i]=s})}),t}function w0e(e,t){const n=e.length;let i=0;for(let s=0;s<n;s++)if(i+=t.fn(e[s])+t.padding,i>t.max)return n/s<2?Math.ceil(n/2):s;return n}var Iw=class extends It{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};L([F],Iw.prototype,"color",2);L([F],Iw.prototype,"fontStyle",2);L([F],Iw.prototype,"fontWeight",2);L([F],Iw.prototype,"fontSize",2);L([F],Iw.prototype,"fontFamily",2);var ih=class extends It{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};L([F],ih.prototype,"size",2);L([F],ih.prototype,"fill",2);L([F],ih.prototype,"fillOpacity",2);L([F],ih.prototype,"stroke",2);L([F],ih.prototype,"strokeWidth",2);L([F],ih.prototype,"strokeOpacity",2);var Ak=class extends It{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};L([ro({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Ak.prototype,"shape",2);L([F],Ak.prototype,"size",2);L([F],Ak.prototype,"padding",2);var Hy=class extends It{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Sc(this),this.marker=new Ak(this),this.activeStyle=new ih,this.inactiveStyle=new ih,this.highlightStyle=new ih,this.label=new Iw,this.group=new to({name:"pagination"}),this.labelNode=new Ea,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new Fs,this.previousButton=new Fs,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:n,label:{color:i,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a}}=this;n.text=`${e+1} / ${t}`,n.fill=i,n.fontStyle=s,n.fontWeight=r,n.fontSize=o,n.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:i,activeStyle:s,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,l=(c,d)=>d?r:c===a?o:s;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",i))}updateMarker(e,t){const{shape:n,size:i}=this.marker;e.shape=n,e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,n=t===0,i=e===t-1,s=e===0;this.nextButtonDisabled=i||n,this.previousButtonDisabled=s||n}setPage(e){e=At(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=Qi.toCanvas(this.previousButton),t=Qi.toCanvas(this.nextButton);return{prev:e,next:t}}};Hy.className="Pagination";L([F],Hy.prototype,"marker",2);L([F],Hy.prototype,"activeStyle",2);L([F],Hy.prototype,"inactiveStyle",2);L([F],Hy.prototype,"highlightStyle",2);L([F],Hy.prototype,"label",2);var S0e=class{constructor(e,t){this.dirty=!0,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=Yt("p"),this.itemDescription.style.display="none",this.itemDescription.id=DI(),this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:n,datumReader:i,itemListener:s}=e,r=t.localeManager,o=n.length;n.each((a,l,c)=>{var f;(f=a.proxyButton)==null||f.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,i.getItemLabel(l),c,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const d=a.proxyButton;d.addListener("click",g=>s.onClick(g.sourceEvent,a.datum,d)),d.addListener("dblclick",g=>s.onDoubleClick(g.sourceEvent,a.datum)),d.addListener("mouseenter",g=>s.onHover(g.sourceEvent,a)),d.addListener("mouseleave",()=>s.onLeave()),d.addListener("contextmenu",g=>s.onContextClick(g,a)),d.addListener("blur",()=>s.onLeave()),d.addListener("focus",g=>s.onHover(g.sourceEvent,a)),d.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:n,interactive:i}){const s=Qi.toCanvas(t);this.itemList.setBounds(s);const r=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const l=o.pageIndex===n.currentPage,{x:c,y:d,height:f,width:g}=Qi.toCanvas(o),y=(r-f)/2,v={x:c-s.x,y:d-y-s.y,height:r,width:g},w=i&&l;o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(w),o.proxyButton.setPointerEvents(w?void 0:"none"),o.proxyButton.setBounds(v)}})}updatePaginationProxyButtons(e,t){var i,s;const{pagination:n}=e;if(this.paginationGroup.setHidden(!n.visible),t&&"ctx"in e){const{ctx:r,oldPages:o,newPages:a}=e,l=((o==null?void 0:o.length)??a.length)>1,c=a.length>1;l!==c&&(c?(this.prevButton=r.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",d=>this.onPageButton(e,d,"previous")),this.prevButton.addListener("mouseenter",()=>n.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>n.onMouseHover(void 0)),this.nextButton??(this.nextButton=r.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",d=>this.onPageButton(e,d,"next")),this.nextButton.addListener("mouseenter",()=>n.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>n.onMouseHover(void 0))):((i=this.nextButton)==null||i.destroy(),(s=this.prevButton)==null||s.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(c?void 0:!0)}if(this.prevButton&&this.nextButton){const{prev:r,next:o}=n.computeCSSBounds(),a=Xe.merge([r,o]);r.x-=a.x,r.y-=a.y,o.x-=a.x,o.y-=a.y,this.paginationGroup.setBounds(a),this.prevButton.setBounds(r),this.nextButton.setBounds(o),this.prevButton.setEnabled(n.currentPage!==0),this.nextButton.setEnabled(n.currentPage!==n.totalPages-1),this.nextButton.setCursor(n.getCursor("next")),this.prevButton.setCursor(n.getCursor("previous"))}}onPageButton(e,t,n){e.pagination.onClick(t.sourceEvent,n),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((n,i,s)=>{const[r,o]=[t[i],e[i]];return r.id!==o.id})}onLocaleChanged(e,t,n){const i=t.length;t.each(({proxyButton:s},r,o)=>{const a=s==null?void 0:s.getElement();if(a!=null){const l=n.getItemLabel(r);a.textContent=this.getItemAriaText(e,l,o,i)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,n,i){return n>=0&&t?(n++,e.t("ariaLabelLegendItem",{label:t,index:n,count:i})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function Rj(e,{itemId:t,seriesId:n,label:{text:i}},s){const r={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:n,text:i,event:s,preventDefault:()=>r.defaultPrevented=!0}};return r}var Rl=class extends to{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new jt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Ea),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new Fs({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Pa({zIndex:0}));const{label:e,line:t,symbolsGroup:n}=this;t.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),Xe.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:n,isCustomMarker:i}=this;let s=0,r=0;if(e.visible){const{size:o}=e,a=Fs.anchor(e.shape);s=(a.x-.5)*o+n/2,r=(a.y-.5)*o,i?(e.x=0,e.y=0,e.translationX=s,e.translationY=r):(e.x=s,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=n,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};Rl.className="MarkerLabel";L([cs("label")],Rl.prototype,"text",2);L([cs("label")],Rl.prototype,"fontStyle",2);L([cs("label")],Rl.prototype,"fontWeight",2);L([cs("label")],Rl.prototype,"fontSize",2);L([cs("label")],Rl.prototype,"fontFamily",2);L([cs("label","fill")],Rl.prototype,"color",2);L([Tg(e=>e.layoutLabel())],Rl.prototype,"spacing",2);L([Tg(e=>e.layoutLabel())],Rl.prototype,"length",2);L([Be()],Rl.prototype,"isCustomMarker",2);function OE(e){const{placement:t="bottom",floating:n=!1,xOffset:i=0,yOffset:s=0}=typeof e=="string"?{placement:e,floating:!1}:e;return{placement:t,floating:n,xOffset:i,yOffset:s}}var Ng=class extends It{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};L([F],Ng.prototype,"maxLength",2);L([F],Ng.prototype,"color",2);L([F],Ng.prototype,"fontStyle",2);L([F],Ng.prototype,"fontWeight",2);L([F],Ng.prototype,"fontSize",2);L([F],Ng.prototype,"fontFamily",2);L([F],Ng.prototype,"formatter",2);var kw=class extends It{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};L([F],kw.prototype,"shape",2);L([F],kw.prototype,"size",2);L([F],kw.prototype,"padding",2);L([F],kw.prototype,"strokeWidth",2);L([F],kw.prototype,"enabled",2);var YB=class extends It{};L([F],YB.prototype,"strokeWidth",2);L([F],YB.prototype,"length",2);var Fg=class extends It{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new kw,this.label=new Ng,this.line=new YB}};L([F],Fg.prototype,"maxWidth",2);L([F],Fg.prototype,"paddingX",2);L([F],Fg.prototype,"paddingY",2);L([F],Fg.prototype,"showSeriesStroke",2);L([F],Fg.prototype,"marker",2);L([F],Fg.prototype,"label",2);L([F],Fg.prototype,"line",2);var KB=class extends It{};L([F],KB.prototype,"legendItemClick",2);L([F],KB.prototype,"legendItemDoubleClick",2);var Tj={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},Ej={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},Ij={backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain"},Ds=class extends It{constructor(e){super(),this.ctx=e,this.id=Sc(this),this.group=new to({name:"legend",zIndex:16}),this.itemSelection=no.select(this.group,Rl),this.containerNode=this.group.appendChild(new _s({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Fg,this.listeners=new KB,this.enabled=!0,this.position="bottom",this.border=new zy(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new Vi,this.size=[0,0],this._visible=!0,this.pagination=new Hy(n=>e.updateService.update(n),n=>this.updatePageNumber(n)),this.pagination.attachPagination(this.group);const{items:t}=e.contextMenuRegistry.builtins;t["toggle-series-visibility"].action=n=>this.contextToggleVisibility(n),t["toggle-other-series"].action=n=>this.contextToggleOtherSeries(n),this.cleanup.register(e.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),e.layoutManager.registerElement(1,n=>this.positionLegend(n)),e.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete t["toggle-series-visibility"].action,()=>delete t["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new S0e(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){Oo(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{formatter:t}=this.item.label;if(t){const n=e.datum;return this.cachedCallWithContext(t,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:n,paddingY:i,label:s,maxWidth:r,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:d}}=this.item,f=[...this.data];this.reverseOrder&&f.reverse(),this.itemSelection.update(f);const g=[],y=Eg.getMeasurer({font:s}),w=r??e*.8,{markerWidth:S,anyLineEnabled:x}=this.calculateMarkerWidth();if(this.itemSelection.each((W,Y)=>{W.fontStyle=a,W.fontWeight=l,W.fontSize=c,W.fontFamily=d;const K=this.updateMarkerLabel(W,Y,S,x),q=Y.itemId??Y.id,re=(this.getItemLabel(Y)??"<unknown>").replace(/\r?\n/g," ");W.text=this.truncate(re,o,w,K,y,q),g.push(W.getTextMeasureBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};[e,t]=this.updateContainer(e,t);const M=this.size,A=this.oldSize;M[0]=e,M[1]=t,(M[0]!==A[0]||M[1]!==A[1])&&(A[0]=M[0],A[1]=M[1]);const{pages:k,maxPageHeight:I,maxPageWidth:P}=this.updatePagination(g,e,t),N=this.pages;this.pages=k,this.maxPageSize=[P-n,I-i];const B=this.pagination.currentPage,z=this.pages[B];return this.pages.length<1||!z?(this.visible=!1,{oldPages:N}):(this.visible=!0,this.updatePositions(B),this.update(),{oldPages:N})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:n}=this.item,i=!!n.enabled||!t||(e.marker.enabled??!0),s=!!(e.line&&t),r=this.isCustomMarker(i,e.marker.shape);return{markerEnabled:i,lineEnabled:s,isCustomMarker:r}}calcSymbolsLengths(e,t,n){const{marker:i,line:s}=this.item;let r;const{shape:o}=e.marker;if(this.isCustomMarker(t,o)){const c=new Fs;c.shape=o,c.updatePath();const d=c.getBBox();r=Math.max(d.width,d.height)}const a=t?i.size:0,l=n?s.length??25:0;return{markerLength:a,lineLength:l,customMarkerSize:r}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((n,i)=>{const{symbol:s}=i,{lineEnabled:r,markerEnabled:o}=this.calcSymbolsEnabled(s),{markerLength:a,lineLength:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(s,o,r);e=Math.max(e,l,c,a),t||(t=r)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,n,i){const{marker:s,paddingX:r}=this.item,{symbol:o}=t;let a=r;const{markerEnabled:l,isCustomMarker:c}=this.calcSymbolsEnabled(o),d=s.padding;(l||i)&&(a+=d+n);const{marker:f,line:g}=e;return f.visible=l,f.visible&&(f.shape=s.shape??o.marker.shape??"square",f.size=s.size,th(f,this.getMarkerStyles(o))),g.visible=i,g.visible&&th(g,this.getLineStyles(o)),e.length=n,e.spacing=d,e.isCustomMarker=c,a}updateContainer(e,t){const n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,th(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,e-=n.strokeWidth*2+n.padding.left+n.padding.right,t-=n.strokeWidth*2+n.padding.top+n.padding.bottom,[e,t]}truncate(e,t,n,i,s,r){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=tD.truncateLine(e,s,n-i,o);return a.endsWith(Xn.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),a}updatePagination(e,t,n){const i=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,n),d=r.findIndex(A=>A.endIndex>=s);this.pagination.currentPage=At(0,d,r.length-1);const{paddingX:f,paddingY:g}=this.item,y=8,v=a-f,w=o-g;let S=0,x=-l.y-this.item.marker.size/2;c?x+=w+y:(S+=-l.x+v+y,x+=(w-l.height)/2),this.pagination.translationX=S,this.pagination.translationY=x,this.pagination.update(),this.pagination.updateMarkers();let M=0;return this.itemSelection.each((A,k,I)=>{var P;I>(((P=r[M])==null?void 0:P.endIndex)??1/0)&&M++,A.pageIndex=M}),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(e,t,n){const{paddingX:i,paddingY:s}=this.item,r=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:o}=OE(this.position),a=this.getOrientation(),l=r.includes(o);let c=this.pagination.getBBox(),d=new Xe(0,0,0,0),f=[],g=0,y=0,v=0;const w=x=>x.width===c.width&&x.height===c.height,S=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(v++>10){ze.warn("unable to find stable legend layout.");break}c=d;const x=t-(l?0:c.width),M=n-(l?c.height:0),A=m0e({orientation:a,bboxes:e,maxHeight:M,maxWidth:x,itemPaddingY:s,itemPaddingX:i,forceResult:S});f=(A==null?void 0:A.pages)??[],g=(A==null?void 0:A.maxPageWidth)??0,y=(A==null?void 0:A.maxPageHeight)??0;const k=f.length;if(this.pagination.visible=k>1,this.pagination.totalPages=k,this.pagination.update(),this.pagination.updateMarkers(),d=this.pagination.getBBox(),!this.pagination.visible)break}while(!w(d));return{maxPageWidth:g,maxPageHeight:y,pages:f,paginationBBox:d,paginationVertical:l}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:n,pages:i}=this;if(i.length<1||!i[e])return;const{columns:s,startIndex:r,endIndex:o}=i[e];let a=0,l=0;const c=s.length,d=s[0].indices.length,f=this.getOrientation()==="horizontal",g=s[0].bboxes[0].height+t,y=[];n.each((v,w,S)=>{if(S<r||S>o){v.visible=!1;return}const x=S-r;let M,A;f?(M=x%c,A=Math.floor(x/c)):(M=Math.floor(x/d),A=x%d),v.visible=!0;const k=s[M];k&&(l=Math.floor(g*A),a=Math.floor(y[A]??0),y[A]=(y[A]??0)+k.columnWidth,v.translationX=a,v.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:n,pagination:i,pages:s,toggleSeries:r}=this,{startIndex:o,endIndex:a}=s[e];o===0?this.paginationTrackingIndex=0:e===s.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:n,pagination:i,interactive:r}),this.ctx.updateService.update(7)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{t.setEnabled(n.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(e){const{stroke:t,strokeOpacity:n=1,strokeWidth:i,lineDash:s}=e.line??{},r=Math.min(2,i??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??r,lineDash:s}}getMarkerStyles({marker:e}){const{fill:t,stroke:n,strokeOpacity:i=1,fillOpacity:s=1,strokeWidth:r,lineDash:o,lineDashOffset:a}=e,l=Math.min(2,r??1);return vg(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),oy(t)&&(t.fit="contain",t.width=void 0,t.height=void 0,t.repeat="no-repeat"),Fu({fill:t,stroke:n,strokeOpacity:i,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:a},Tj,Ej,Ij)}getContainerStyles(){const{stroke:e,strokeOpacity:t,strokeWidth:n}=this.border,{cornerRadius:i,fill:s,fillOpacity:r,padding:o}=this,a=typeof o=="number";return Fu({cornerRadius:i,fill:s,fillOpacity:r,padding:{top:a?o:o.top??0,right:a?o:o.right??0,bottom:a?o:o.bottom??0,left:a?o:o.left??0},stroke:e,strokeOpacity:t,strokeWidth:this.border.enabled?n:0},Tj,Ej,Ij)}computePagedBBox(){const e=jt.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){const[i,s]=this.maxPageSize;e.height=Math.max(s,e.height),e.width=Math.max(i,e.width)}const{strokeWidth:t,padding:n}=this.getContainerStyles();return e.grow(n).grow(t),e}findNode(e){const{datum:t,proxyButton:n}=this.itemSelection.select(i=>{var s;return((s=i.datum)==null?void 0:s.itemId)===e.itemId})[0]??{};if(t===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(n)} }`);return{datum:t,proxyButton:n}}contextToggleVisibility(e){const{datum:t,proxyButton:n}=this.findNode(e);this.doClick(e.event,t,n)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var c,d,f;const{sourceEvent:n}=e,i=t.datum;this.preventHidingAll&&((c=this.contextMenuDatum)!=null&&c.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;const s=this.ctx.chartService.series.length>1&&((f=(d=this.ctx.chartService.series[0])==null?void 0:d.getLegendData("category")[0])==null?void 0:f.hideToggleOtherSeries)!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",s);const{offsetX:r,offsetY:o}=n,{x:a,y:l}=Qi.toCanvasPoint(t,r,o);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:e,canvasX:a,canvasY:l},{legendItem:i})}onClick(e,t,n){this.doClick(e,t,n)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,n){const{listeners:{legendItemClick:i},ctx:{chartService:s,highlightManager:r},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:l,seriesId:c,itemId:d,enabled:f,legendItemName:g}=t,y=s.series.find(S=>S.id===c);if(!y)return!1;let v=f;const w=Rj("click",t,e);return i&&yc([y.properties,this.ctx.chartService],i,w.apiEvent),w.defaultPrevented||(a&&(v=!f,o&&!v&&this.getVisibleItemCount()<2&&(v=!0),n.setChecked(v),this.ctx.eventsHub.emit("legend:item-click",{legendType:l,series:y,itemId:d,enabled:v,legendItemName:g})),v?r.updateHighlight(this.id,{series:y,itemId:d,datum:void 0,datumIndex:void 0,legendItemName:g}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:n},ctx:{chartService:i},toggleSeries:s}=this;if(!t)return!1;const{legendType:r,id:o,itemId:a,seriesId:l}=t,c=i.series.find(f=>f.id===o);if(!c)return!1;const d=Rj("dblclick",t,e);if(n&&yc([c.properties,this.ctx.chartService],n,d.apiEvent),d.defaultPrevented)return!0;if(s){const f=i.series.flatMap(w=>w.getLegendData("category"));let g=0;const y=new Set;for(const w of f)w.enabled&&(g+=1,w.legendItemName!=null&&y.add(w.legendItemName));y.size>0&&(g=y.size);const v=f.find(w=>w.itemId===a&&w.seriesId===l);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:r,series:c,itemId:a,numVisibleItems:g,enabled:(v==null?void 0:v.enabled)??!1,legendItemName:v==null?void 0:v.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let n;return e instanceof FocusEvent?n=Qi.toCanvas(t).computeCenter():(e.preventDefault(),n=Qi.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const n=t.datum,i=n?this.ctx.chartService.series.find(s=>s.id===(n==null?void 0:n.id)):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){const s=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,s,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n!=null&&n.enabled&&i?this.updateHighlight({series:i,itemId:n==null?void 0:n.itemId,datum:void 0,datumIndex:void 0,legendItemName:n==null?void 0:n.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{placement:t,floating:n,xOffset:i,yOffset:s}=OE(this.position),r=n?new Xe(0,0,e.width,e.height):e.layoutBox,{x:o,y:a,width:l,height:c}=r,[d,f]=this.calculateLegendDimensions(r),{oldPages:g}=this.calcLayout(d,f),y=this.computePagedBBox();if(this.visible){const v=this.spacing;let w,S;switch(t){case"top":w=(l-y.width)/2,S=0;break;case"bottom":w=(l-y.width)/2,S=c-y.height;break;case"right":w=l-y.width,S=(c-y.height)/2;break;case"left":w=0,S=(c-y.height)/2;break;case"top-right":case"right-top":w=l-y.width,S=0;break;case"top-left":case"left-top":w=0,S=0;break;case"bottom-right":case"right-bottom":w=l-y.width,S=c-y.height;break;case"bottom-left":case"left-bottom":w=0,S=c-y.height;break}if(!n){let x,M;switch(t){case"top":case"top-right":case"top-left":x=y.height+v,M="top";break;case"bottom":case"bottom-right":case"bottom-left":x=y.height+v,M="bottom";break;case"left":case"left-top":case"left-bottom":x=y.width+v,M="left";break;case"right":case"right-top":case"right-bottom":x=y.width+v,M="right";break}r.shrink(x,M)}w+=i,S+=s,this.group.translationX=Math.floor(o+w-y.x),this.group.translationY=Math.floor(a+S-y.y),this.containerNode.x=y.x,this.containerNode.y=y.y,this.containerNode.width=y.width,this.containerNode.height=y.height}return g}positionLegendDOM(e){const{ctx:t,itemSelection:n,pagination:i,pages:s,toggleSeries:r,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:l}}=this,c=this.visible&&this.enabled,d=r||l!=null||a!=null;this.domProxy.update({visible:c,interactive:d,ctx:t,itemSelection:n,group:o,pagination:i,oldPages:e,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:n}=e,{placement:i}=OE(this.position),s=t/n,r=.5,o=.2,a=.25;let l,c;switch(i){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{const d=s<1?Math.min(r,o*(1/s)):o;l=this.maxWidth?Math.min(this.maxWidth,t):t,c=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*d);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{const d=s>1?Math.min(r,a*s):a;l=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*d),c=this.maxHeight?Math.min(this.maxHeight,n):n;break}}return[l,c]}cachedCallWithContext(e,...t){const{callbackCache:n,chartService:i}=this.ctx;return n.call([this,i],e,...t)}};Ds.className="Legend";L([F],Ds.prototype,"toggleSeries",2);L([F],Ds.prototype,"pagination",2);L([F],Ds.prototype,"item",2);L([F],Ds.prototype,"listeners",2);L([Tg((e,t,n)=>{if(e.updateGroupVisibility(),t===n)return;const{ctx:{legendManager:i,stateManager:s}}=e;n===!1&&t===!0&&s.restoreState(i)}),F],Ds.prototype,"enabled",2);L([F],Ds.prototype,"position",2);L([F],Ds.prototype,"maxWidth",2);L([F],Ds.prototype,"maxHeight",2);L([F],Ds.prototype,"reverseOrder",2);L([F],Ds.prototype,"orientation",2);L([F],Ds.prototype,"preventHidingAll",2);L([F],Ds.prototype,"border",2);L([F],Ds.prototype,"cornerRadius",2);L([F],Ds.prototype,"fill",2);L([F],Ds.prototype,"fillOpacity",2);L([F],Ds.prototype,"padding",2);L([F],Ds.prototype,"spacing",2);L([F],Ds.prototype,"xOffset",2);L([F],Ds.prototype,"yOffset",2);var x0e={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Ds(e),packageType:"community",removable:"standalone-only"},BD=class extends It{constructor(e){super(),this.ctx=e,this.rectNode=new _s,this.border=new zy(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new Vi,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}destroy(){this.cleanup.flush()}getPadding(){const{border:e,padding:t}=this,n=e.enabled?e.strokeWidth:0;if(typeof t=="number"){const i=t+n;return{top:i,right:i,bottom:i,left:i}}return{top:(t.top??0)+n,right:(t.right??0)+n,bottom:(t.bottom??0)+n,left:(t.left??0)+n}}createNode(){return new jt({name:"series-area-container",zIndex:4})}onLayoutComplete(e){const{x:t,y:n,width:i,height:s}=e.series.paddedRect;this.rectNode.x=t,this.rectNode.y=n,this.rectNode.width=i,this.rectNode.height=s}};L([F],BD.prototype,"border",2);L([F],BD.prototype,"clip",2);L([cs("rectNode","cornerRadius"),F],BD.prototype,"cornerRadius",2);L([F],BD.prototype,"padding",2);var M0e={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new BD(e)};function $I(e,t,n,i,s){const r=(f,g,y,v)=>{n.animate({id:`${e}_${t}_${g.id}_${f}`,groupId:e,from:y?1:0,to:1,ease:uM,collapsable:y,onUpdate(w,S){S&&f!=="removed"||(g.path.clear(!0),v(w,g),g.checkPathDirty())},onStop(){f==="added"&&(g.path.clear(!0),v(1,g),g.checkPathDirty())},phase:uc[f]})},o=new oo,a=f=>(o.resetPathDirty(),f(0,o),o.resetPathDirty(),f(1,o),o.checkPathDirty(),o.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:d}=s;for(const f of i)n.isSkipped()||(r("removed",f,!a(d),d),r("updated",f,!a(c),c)),r("added",f,!a(l),l)}function Au(e,t,n,i,s,r){if(i.itemStyler){const o={border:i.border,color:i.color,cornerRadius:i.cornerRadius,datum:t==null?void 0:t.datum,enabled:i.enabled,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,itemId:void 0,seriesId:e.id,padding:i.padding,highlighted:s,highlightState:r};return Rn(e.callWithContext(i.itemStyler,{...n,...o}),o)}return i}function _8(e,t,n,i,s,r,o){if(i.enabled&&s){const a=Au(e,s,n,i,r,o);t.visible=!0,t.x=s.x,t.y=s.y,t.text=s.text,t.fill=a.color,t.setAlign(s),t.setFont(a),t.setBoxing(a)}else t.visible=!1}var D0e={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function B8({isUpward:e,isVertical:t,placement:n,spacing:i=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",l="middle";if(n!=="inside-center"){const c=(e?1:-1)*(t?-1:1),{direction:d,textAlignment:f}=D0e[n],g=(d+1)*.5;if(t){const y=e?s.y+s.height:s.y,v=s.height*c;o=y+v*g+i*f*c,l=f===c?"top":"bottom"}else{const y=e?s.x:s.x+s.width,v=s.width*c;r=y+v*g+i*f*c,a=f===c?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:l}}function os({id:e},t,n,...i){for(const s of i)s.cleanup();wh(e,t,n,i,{opacity:0},{opacity:1},{phase:"trailing"})}function NE({id:e},t,n,...i){wh(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function Vy(e){return{opacity:1}}var qB=class extends It{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(e){this.markDirty()}},nd=class extends qB{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};L([F,Be()],nd.prototype,"enabled",2);L([F,Be()],nd.prototype,"color",2);L([F,Be()],nd.prototype,"xOffset",2);L([F,Be()],nd.prototype,"yOffset",2);L([F,Be()],nd.prototype,"blur",2);var or=class extends qB{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new Ml,this.fillPatternDefaults=new ki,this.fillImageDefaults=new ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:n,fillOpacity:i,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:n,fillOpacity:i,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};L([F,Be()],or.prototype,"enabled",2);L([F,Ba({})],or.prototype,"shape",2);L([F,Be()],or.prototype,"size",2);L([F,Ba({})],or.prototype,"fill",2);L([F],or.prototype,"fillGradientDefaults",2);L([F],or.prototype,"fillPatternDefaults",2);L([F],or.prototype,"fillImageDefaults",2);L([F,Be()],or.prototype,"fillOpacity",2);L([F,Be()],or.prototype,"stroke",2);L([F,Be()],or.prototype,"strokeWidth",2);L([F,Be()],or.prototype,"strokeOpacity",2);L([F],or.prototype,"lineDash",2);L([F],or.prototype,"lineDashOffset",2);L([F,Ba({})],or.prototype,"itemStyler",2);var G8=class extends It{constructor(){super(...arguments),this.enabled=!1}};L([F],G8.prototype,"enabled",2);var Th=class extends It{constructor(){super(...arguments),this.interaction=new G8,this.position=new Ly,this.range=void 0,this.class=void 0}formatTooltip(e,t,n){const i=this.renderer==null?void 0:yc(e,this.renderer,n);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?{type:"structured",...t,...i}:{type:"structured",...t}}};L([F],Th.prototype,"enabled",2);L([F],Th.prototype,"showArrow",2);L([F],Th.prototype,"renderer",2);L([F],Th.prototype,"interaction",2);L([F],Th.prototype,"position",2);L([F],Th.prototype,"range",2);L([F],Th.prototype,"class",2);function jy(){return new Th}var z8=class{constructor(e,t,n){this.root=new T0e(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){const n={hitTester:e,value:t,distanceSquared:(i,s)=>e.distanceSquared(i,s)};this.root.addElem(n)}find(e,t){const n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},A0e=class{constructor(e,t,n,i){this.nw=e,this.ne=t,this.sw=n,this.se=i}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},R0e=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??Xe.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:n,height:i}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,o=n/2,a=i/2,l=new Xe(e,t,o,a),c=new Xe(e+o,t,o,a),d=new Xe(e,t+a,o,a),f=new Xe(e+o,t+a,o,a);return new A0e(this.child(s,r,l),this.child(s,r,c),this.child(s,r,d),this.child(s,r,f))}},T0e=class H8 extends R0e{addCondition(t){const{x:n,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(n,i)}findCondition(t,n,i){const{best:s}=i;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<s.distanceSquared}findAction(t,n,i){const s=R1(t,n,this.elems,i.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<i.best.distanceSquared&&(i.best=s)}child(t,n,i){return new H8(t,n,i)}},ZB=class extends tk{constructor({clipFocusBox:e,categoryKey:t,...n}){super(n),this.categoryKey=t,this.clipFocusBox=e??!0}dataCount(){var e,t,n;return((n=(t=(e=this.processedData)==null?void 0:e.dataSources)==null?void 0:t.get(this.id))==null?void 0:n.length)??0}getScaleInformation({xScale:e,yScale:t}){const n=ci.is(e),i=ci.is(t);return{isContinuousX:n,isContinuousY:i,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var n,i;const e=(n=this.axes.x)==null?void 0:n.scale,t=(i=this.axes.y)==null?void 0:i.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:s}=await e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=s,this.events.emit("data-processed",{dataModel:i,processedData:s}),{dataModel:i,processedData:s}}isProcessedDataAnimatable(){var s;const{processedData:e}=this;if(!e)return!1;const t=(s=e.reduced)==null?void 0:s.animationValidation;if(!t)return!0;const{orderedKeys:n,uniqueKeys:i}=t;return n&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;const{clipFocusBox:i}=this,s=t[n],r={...e,datumIndex:n},o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,clipFocusBox:i,datum:s,datumIndex:n}}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((n,i)=>n.datumIndex-i.datumIndex),t}isDatumEnabled(e,t){const{missing:n=!1,enabled:i=!0,focusable:s=!0}=e[t];return!n&&i&&s}computeFocusDatumIndex(e,t){const n=(o,a)=>{for(;o>=0&&!this.isDatumEnabled(t,o);)o+=a;return o===-1?void 0:o},i=(o,a)=>{for(;o<t.length&&!this.isDatumEnabled(t,o);)o+=a;return o===t.length?void 0:o};let s;const r=At(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=n(r,e.datumIndexDelta):e.datumIndexDelta>0?s=i(r,e.datumIndexDelta):s=i(r,1)??n(r,-1),s===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:s}dataModelPropertyIsKey(e){const{processedData:t}=this;return t?t.defs.keys.some(n=>{var i,s;return n.id===e&&((s=(i=n.idsMap)==null?void 0:i.get(this.id))==null?void 0:s.has(e))===!0}):!1}keysOrValues(e){const{dataModel:t,processedData:n}=this;return!t||!n?[]:this.dataModelPropertyIsKey(e)?t.resolveKeysById(this,e,n):t.resolveColumnById(this,e,n)}sortOrder(e){const{dataModel:t,processedData:n}=this;if(!(!t||!n))return this.dataModelPropertyIsKey(e)?t.getKeySortOrder(this,e,n):t.getColumnSortOrder(this,e,n)}getCategoryKey(){return this.categoryKey}getCategoryValue(e){var r,o;const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();return!t||!n||!i||(((o=(r=t.invalidData)==null?void 0:r.get(this.id))==null?void 0:o[e])??!1)?void 0:this.keysOrValues(i)[e]}datumIndexForCategoryValue(e){var o,a;const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();if(!t||!n||!i)return;e=e.valueOf();const s=(o=t.invalidData)==null?void 0:o.get(this.id),r=this.keysOrValues(i);for(let l=0;l<r.length;l+=1){if((s==null?void 0:s[l])===!0)continue;const c=(a=r[l])==null?void 0:a.valueOf();if(Oo(e,c))return l}}},Lw={x:["xKey"],y:["yKey"]},Pw={x:["xName"],y:["yName"]},XB=class extends ek{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},_g=class extends Dl{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};L([F],_g.prototype,"legendItemName",2);L([F],_g.prototype,"pickOutsideVisibleMinorAxis",2);var YI=100,Wy=class extends ZB{constructor({pathsPerSeries:e=["path"],pathsZIndexSubOrderOffset:t=[],datumSelectionGarbageCollection:n=!0,animationAlwaysUpdateSelections:i=!1,animationResetFns:s,propertyKeys:r,propertyNames:o,...a}){if(super({propertyKeys:r,propertyNames:o,canHaveAxes:!0,...a}),this.NodeEvent=XB,this.dataNodeGroup=this.contentGroup.appendChild(new jt({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new to({name:`${this.id}-series-labels`})),this.labelSelection=no.select(this.labelGroup,Ea),this.highlightSelection=no.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=Ut.create(),!r||!o)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,pathsZIndexSubOrderOffset:t,propertyKeys:r,propertyNames:o,animationResetFns:s,animationAlwaysUpdateSelections:i,datumSelectionGarbageCollection:n},this.paths=e.map(l=>new oo({name:`${this.id}-${l}`})),this.datumSelection=no.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.animationState=new oD("empty",{empty:{update:{target:"ready",action:l=>this.animateEmptyUpdateReady(l)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:l=>this.animateReadyHighlight(l),resize:l=>this.animateReadyResize(l),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:l=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(l):this.animateWaitingUpdateReady(l)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:l=>this.resetAllAnimation(l),reset:"empty"},clearing:{update:{target:"empty",action:l=>this.animateClearingUpdateEmpty(l)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),this.attachPaths(this.paths)}detachSeries(e,t,n){super.detachSeries(e,t,n),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(e){for(const t of e)this.contentGroup.appendChild(t)}detachPaths(e){for(const t of e)this.contentGroup.removeChild(t)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>YI}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(e){const{series:t,legendItemName:n}=e??{},{legendItemName:i}=this.properties;return t===this||i!=null&&i===n}strokewidthChange(){var i;const e=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,t=this.properties.highlight.highlightedSeries.strokeWidth??e,n=((i=this.properties.highlight.highlightedItem)==null?void 0:i.strokeWidth)??e;return e>n||t>n}update({seriesRect:e}){const{_contextNodeData:t}=this,n=this.checkResize(e),i=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{const r=this.updateSelections();this.updateNodes(i,n||r)});const s=this.getAnimationData(e,t);s&&(n&&this.animationState.transition("resize",s),this.animationState.transition("update",s))}updateSelections(){var e;const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&t)return!1;const{nodeDataRefresh:n}=this;if(!n&&!this.isPathOrSelectionDirty())return!1;if(n){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const i=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=i));const{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.events.emit("data-update",{dataModel:s,processedData:r}),this.updateSeriesSelections()}return n}updateSeriesSelections(){const{datumSelection:e,labelSelection:t,paths:n}=this,i=this._contextNodeData;if(!i)return;const{nodeData:s,labelData:r,itemId:o}=i;this.updatePaths({itemId:o,contextData:i,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:s,datumSelection:e}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:t})??t})}getShapeFillBBox(){const{axes:e}=this,t=e.x,n=e.y,[i,s]=Ys((t==null?void 0:t.range)??[0,1]),[r,o]=Ys((n==null?void 0:n.range)??[0,1]),a=this.getSeriesDomain("x"),l=[t==null?void 0:t.scale.convert(a.at(0)),t==null?void 0:t.scale.convert(a.at(-1))],c=this.getSeriesDomain("y"),d=[n==null?void 0:n.scale.convert(c.at(0)),n==null?void 0:n.scale.convert(c.at(-1))],[f,g]=Ys(l),[y,v]=Ys(d);return{axis:new Xe(i,r,s-i,o-r),series:new Xe(f,y,g-f,v-y)}}updateNodes(e,t){const{highlightSelection:n,datumSelection:i}=this,s=!this.ctx.animationManager.isSkipped(),r=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=s||r,this.highlightGroup.visible=(s||r)&&e,this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n);const{dataNodeGroup:o,labelSelection:a,paths:l,labelGroup:c}=this,{itemId:d}=this.contextNodeData??{};if(this.updatePathNodes({itemId:d,paths:l,visible:r,animationEnabled:s}),o.visible=s||r,c.visible=r,!o.visible)return;const f=this.strokewidthChange()||this.hasChangesOnHighlight;(t||f)&&(this.updateDatumNodes({datumSelection:i,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:a,isHighlight:!1})}))}getHighlightLabelData(e,t){const n=e.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return n.length===0?void 0:n}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(){var a;const{highlightSelection:e,_contextNodeData:t}=this;if(!t)return!1;const n=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight(),s=this.isSeriesHighlighted(n)&&(n!=null&&n.datum)?n:void 0;if(s==null)return!1;const{nodeData:r}=t,o=this.getHighlightData(r,s);return this.highlightSelection=this.updateHighlightSelectionItem({items:o,highlightSelection:e}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,n=new Xe(0,0,e,t);this.quadtree=new z8(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(t.length!==0)return t;const{x:n,y:i}=e,{dataNodeGroup:s}=this,r=s.pickNodes(n,i).filter(o=>o.datum.missing!==!0);if(r.length!==0)return r.map(a=>a.datum);for(const o of this.moduleMap.modules()){const{datum:a}=o.pickNodeExact(e)??{};if(a!=null&&(a==null?void 0:a.missing)!==!0)return[a]}return[]}pickNodeClosestDatum(e){var d;const{x:t,y:n}=e,{axes:i,_contextNodeData:s}=this;if(!s)return;const r=i.x,o=i.y,a={x:t,y:n};let l=1/0,c;for(const f of s.nodeData){const{point:{x:g=NaN,y=NaN}={}}=f;if(isNaN(g)||isNaN(y)||!((r==null?void 0:r.inRange(g))&&(o==null?void 0:o.inRange(y))))continue;const w=Math.max((a.x-g)**2+(a.y-y)**2,0);w<l&&(l=w,c=f)}for(const f of this.moduleMap.modules()){const g=f.pickNodeNearest(e);if(g!==void 0&&g.distanceSquared<l){l=g.distanceSquared,c=g.datum;break}}if(c){const f=Math.max(Math.sqrt(l)-(((d=c.point)==null?void 0:d.size)??0)/2,0);return{datum:c,distance:f}}}pickNodeMainAxisFirst(e,t){var v;const{x:n,y:i}=e,{axes:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const a=s.x,l=s.y;if(a==null||l==null)return;const c=[a,l].filter(w=>w.isCategoryLike()).map(w=>w.direction);if(t&&c.length===0)return;const[d="x"]=c,f=[n,i];d!=="x"&&f.reverse();const g=[1/0,1/0];let y;for(const w of r.nodeData){const{x:S=NaN,y:x=NaN}=w.point??w.midPoint??{};if(isNaN(S)||isNaN(x)||w.missing===!0)continue;const M=[a==null?void 0:a.inRange(S,1),l==null?void 0:l.inRange(x,1)];if(d!=="x"&&M.reverse(),!M[0]||!o&&!M[1])continue;const A=[S,x];d!=="x"&&A.reverse();let k=!0;for(let I=0;I<A.length;I++){const P=Math.abs(A[I]-f[I]);if(P>g[I]){k=!1;break}else P<g[I]&&(g[I]=P,g.fill(1/0,I+1,g.length))}k&&(y=w)}if(y){let w=Math.max(g[0]**2+g[1]**2-(((v=y.point)==null?void 0:v.size)??0),0);for(const S of this.moduleMap.modules()){const x=S.pickNodeMainAxisFirst(e,d);if(x!==void 0&&x.distanceSquared<w){y=x.datum,w=x.distanceSquared;break}}return{datum:y,distance:Math.sqrt(w)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(e,t,n,i){let s;if(i==null){const{processedData:c,dataModel:d}=this;s=d.getColumnSortOrder(this,e,c)??1}else s=i.sortOrder;const r=this.keysOrValues(e),o=0,[a,l]=WY(s,(n==null?void 0:n.length)??r.length,t,c=>{const d=(n==null?void 0:n[c])??c;return this.xCoordinateRange(r[d],o,d)});return a<l?[a,l]:[l,a]}domainForVisibleRange(e,t,n,i,s){const{processedData:r,dataModel:o}=this,[a,l]=i,c=this.keysOrValues(n),d=this.sortOrder(n);if(d!=null){const v=this.visibleRangeIndices(n,i,s,{sortOrder:d});return o.getDomainBetweenRange(this,t,v,r)}const f=t.map(v=>this.keysOrValues(v));let g=1/0,y=-1/0;return c.forEach((v,w)=>{const[S,x]=this.xCoordinateRange(v,0,w);if(!(x<a||S>l))for(let M=0;M<t.length;M++){const A=f[M][w];g=Math.min(g,A),y=Math.max(y,A)}}),g>y?[NaN,NaN]:[g,y]}domainForClippedRange(e,t,n){const{processedData:i,dataModel:s,axes:r}=this,a=E0e(r[e==="x"?"y":"x"]);if(!a)return t.flatMap(v=>s.getDomain(this,v,"value",i));const l=this.keysOrValues(n),c=s.getColumnSortOrder(this,n,i);if(c!=null){const v=I0e(c,l.length,a,w=>l[w]);return s.getDomainBetweenRange(this,t,v,i)}const d=t.map(v=>this.keysOrValues(v)),f=a[0].valueOf(),g=a[1].valueOf(),y=[];return l.forEach((v,w)=>{const S=v.valueOf();if(S<f||S>g)return;const x=d.map(M=>M[w]);S>=f&&y.push(...x),S<=g&&y.push(...x)}),y}countVisibleItems(e,t,n,i,s){const{dataModel:r,processedData:o}=this;if(!r||!o)return 1/0;const a=this.keysOrValues(e),l=t.map(I=>r.resolveColumnById(this,I,o)),c=this.axes.x,d=this.axes.y,f=this.shouldFlipXY();if(i==null){const I=this.sortOrder(e);if(I==null)i=[0,1];else{const P=c.scale,N=P.range;P.range=[0,1];let[B,z]=this.visibleRangeIndices(e,n,void 0,{sortOrder:I});const W=this.keysOrValues(e),Y=0;this.xCoordinateRange(W[B],Y,B)[0]<n[0]&&(B+=1),z<W.length&&this.xCoordinateRange(W[z],Y,z)[1]>n[1]&&(z-=1);const K=Math.abs(z-B);return P.range=N,K}}const g=(I,P,N)=>I[0]+(N-P[0])/(P[1]-P[0])*(I[1]-I[0]),y=c.range,v=d.range,w=g(y,c.visibleRange,n[0]),S=g(y,c.visibleRange,n[1]),x=g(v,d.visibleRange,f?i[0]:i[1]),M=g(v,d.visibleRange,f?i[1]:i[0]),A=Math.round((n[0]+(n[1]-n[0])/2)*a.length),k=0;return UY(0,a.length-1,A,s,I=>{let[P,N]=this.xCoordinateRange(a[I],k,I),[B,z]=this.yCoordinateRange(l.map(W=>W[I]),k,I);return!Wn(P)||!Wn(N)||!Wn(B)||!Wn(z)?!1:(f&&([P,N,B,z]=[B,z,P,N]),P>=w&&N<=S&&B>=x&&z<=M)})}minTimeInterval(){let e;try{e=this.keysOrValues("xValue")}catch{}if(e==null||e.length>1e3)return;let t=1/0,n=e[0],i;for(let s=1;s<e.length;s++){const r=e[s];if(r!=null&&n!=null){const o=r.valueOf()-n.valueOf(),a=Math.sign(o);if(a===0)continue;if(i!==void 0&&a!==i)return;t=Math.min(t,Math.abs(o)),i=a}n=r}if(Number.isFinite(t))return t}updateHighlightSelectionItem(e){const{items:t,highlightSelection:n}=e,i=t??[];return this.updateDatumSelection({nodeData:i,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,visible:n}=e;for(const i of t)i.visible=n}resetPathAnimation(e){var n;const{path:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&e.paths.forEach(i=>{Mr([i],t)})}resetDatumAnimation(e){var n;const{datum:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Mr([e.datumSelection],t)}resetLabelAnimation(e){var n;const{label:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Mr([e.labelSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var n;const{datum:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Mr([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof FB){const{range:t,domain:n}=e;return{type:"log",convert:i=>e.convert(i),domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof ci){const{range:t,domain:n}=e;return{type:"continuous",domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof Ch)return{type:"category",domain:e instanceof $f?e.bands:e.domain,inset:e.inset,step:e.step}}calculateScaling(){const e={};for(const t of Object.values(j_)){const n=this.axes[t];if(!n)continue;const i=this.getScaling(n.scale);i!=null&&(e[t]=i)}return e}};function E0e(e){let t,n;if((e instanceof ed||e instanceof td)&&({min:t,max:n}=e),!(t==null&&n==null))return t??(t=-1/0),n??(n=1/0),[t,n]}function I0e(e,t,n,i){const s=n[0].valueOf(),r=n[1].valueOf();let o=sM(0,t-1,l=>{var f;const c=e===1?l:t-l,d=(f=i(c))==null?void 0:f.valueOf();return!Number.isFinite(d)||d>=s}),a=wm(0,t-1,l=>{var f;const c=e===1?l:t-l,d=(f=i(c))==null?void 0:f.valueOf();return!Number.isFinite(d)||d<=r});return o==null||a==null?[0,0]:(e===-1&&([o,a]=[t-a,t-o]),o=Math.max(o,0),a=Math.min(a+1,t),[o,a])}var Ow=class extends It{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};L([F],Ow.prototype,"type",2);L([F],Ow.prototype,"tension",2);L([F],Ow.prototype,"position",2);var ts=class extends _g{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new Ml,this.fillPatternDefaults=new ki,this.fillImageDefaults=new ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ow,this.shadow=new nd,this.marker=new or,this.label=new es,this.tooltip=jy(),this.connectMissingData=!1}};L([F],ts.prototype,"xKey",2);L([F],ts.prototype,"xName",2);L([F],ts.prototype,"yKey",2);L([F],ts.prototype,"yName",2);L([F],ts.prototype,"yFilterKey",2);L([F],ts.prototype,"normalizedTo",2);L([F],ts.prototype,"fill",2);L([F],ts.prototype,"fillGradientDefaults",2);L([F],ts.prototype,"fillPatternDefaults",2);L([F],ts.prototype,"fillImageDefaults",2);L([F],ts.prototype,"fillOpacity",2);L([F],ts.prototype,"stroke",2);L([F],ts.prototype,"strokeWidth",2);L([F],ts.prototype,"strokeOpacity",2);L([F],ts.prototype,"lineDash",2);L([F],ts.prototype,"lineDashOffset",2);L([F],ts.prototype,"interpolation",2);L([F],ts.prototype,"shadow",2);L([F],ts.prototype,"marker",2);L([F],ts.prototype,"label",2);L([F],ts.prototype,"tooltip",2);L([F],ts.prototype,"connectMissingData",2);function Sl(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function k0e(e){const t=Sl(e);return t[0].x>t[1].x&&t.reverse(),t}function L0e(e,t){const{x:n,y:i}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i};case"step":return{type:"step",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i,stepX:n};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:n,cp0y:i,cp1x:n,cp1y:i,cp2x:n,cp2y:i,cp3x:n,cp3y:i}}}function xM(e,t,n){const[i,s]=Sl(e),r=s.x!==i.x?(n.x-t.x)/(s.x-i.x):0,o=s.y!==i.y?(n.y-t.y)/(s.y-i.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:n.x-(e.cp2x-i.x)*r,cp1y:n.y-(e.cp2y-i.y)*o,cp2x:n.x-(e.cp1x-i.x)*r,cp2y:n.y-(e.cp1y-i.y)*o,cp3x:n.x,cp3y:n.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,stepX:n.x-(e.stepX-i.x)*r}}}function V8(e,t,n){const{moveTo:i}=e,[s,r]=k0e(e),{x:o,y:a}=s,{x:l,y:c}=r;if(n<o)return xM(e,s,s);if(t>l)return xM(e,r,r);switch(e.type){case"linear":{const d=a===c?void 0:(c-a)/(l-o),f=d==null?a:d*(t-o)+a,g=d==null?a:d*(n-o)+a;return{type:"linear",moveTo:i,x0:t,y0:f,x1:n,y1:g}}case"step":if(n<=e.stepX){const d=e.y0;return{type:"step",moveTo:i,x0:t,y0:d,x1:n,y1:d,stepX:n}}else if(t>=e.stepX){const d=e.y1;return{type:"step",moveTo:i,x0:t,y0:d,x1:n,y1:d,stepX:t}}else{const{y0:d,y1:f,stepX:g}=e;return{type:"step",moveTo:i,x0:t,y0:d,x1:n,y1:f,stepX:g}}case"cubic":{const d=EI(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[f,g]=aM(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,d);const y=EI(g[0].x,g[1].x,g[2].x,g[3].x,n);return[g,f]=aM(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,y),{type:"cubic",moveTo:i,cp0x:g[0].x,cp0y:g[0].y,cp1x:g[1].x,cp1y:g[1].y,cp2x:g[2].x,cp2y:g[2].y,cp3x:g[3].x,cp3y:g[3].y}}}}function P0e(e){const t=[];let n=0,i=NaN,s=NaN;for(const{x:r,y:o}of e){if(n>0){const a=n===1;t.push({type:"linear",moveTo:a,x0:i,y0:s,x1:r,y1:o})}n+=1,i=r,s=o}return t}var O0e={start:0,middle:.5,end:1};function N0e(e,t){const n=[];let i=0,s=NaN,r=NaN;const o=typeof t=="number"?t:O0e[t];for(const{x:a,y:l}of e){if(i>0){const c=i===1,d=s+(a-s)*o;n.push({type:"step",moveTo:c,x0:s,y0:r,x1:a,y1:l,stepX:d})}i+=1,s=a,r=l}return n}var qT=.05;function F0e(e,t){const n=Array.isArray(e)?e:Array.from(e);if(n.length<=1)return[];const i=n.map((r,o)=>{const a=o===0?r:n[o-1],l=o===n.length-1?r:n[o+1],c=o===0||o===n.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!c){const d=Math.abs(a.y-l.y),f=Math.abs(r.y-a.y)/d,g=Math.abs(r.y-l.y)/d;if(f<=qT||1-f<=qT||g<=qT||1-g<=qT)return 0}return(l.y-a.y)/(l.x-a.x)});i[1]===0&&(i[0]*=2),i[i.length-2]===0&&(i[i.length-1]*=2);const s=[];for(let r=1;r<n.length;r+=1){const o=n[r-1],a=i[r-1],l=n[r],c=i[r],d=l.x-o.x,f=l.y-o.y;let g=d*t/3,y=d*a*t/3,v=d*t/3,w=d*c*t/3;c===0&&Math.abs(y)>Math.abs(f)&&(g*=Math.abs(f/y),y=Math.sign(y)*Math.abs(f)),a===0&&Math.abs(w)>Math.abs(f)&&(v*=Math.abs(f/w),w=Math.sign(w)*Math.abs(f)),s.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+g,cp1y:o.y+y,cp2x:l.x-v,cp2y:l.y-w,cp3x:l.x,cp3y:l.y})}return s}function Ps(e,t,n){return(t-e)*n+e}function _0e(e,t){const{x0:n,y0:i,x1:s,y1:r}=e,a=(r-i)/(s-n)*(t-n)+i;return{leftCp1x:n,leftCp1y:i,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:s,rightCp2y:r}}function B0e(e,t){const{cp0x:n,cp0y:i,cp1x:s,cp1y:r,cp2x:o,cp2y:a,cp3x:l,cp3y:c}=e,d=EI(n,s,o,l,t),[f,g]=aM(n,i,s,r,o,a,l,c,d),y=f[3].y;return{leftCp1x:f[1].x,leftCp1y:f[1].y,leftCp2x:f[2].x,leftCp2y:f[2].y,stepX:t,stepY0:y,stepY1:y,rightCp1x:g[1].x,rightCp1y:g[1].y,rightCp2x:g[2].x,rightCp2y:g[2].y}}function G0e(e){const{x0:t,y0:n,x1:i,y1:s,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:n,leftCp2x:(t+r)/2,leftCp2y:n,stepX:r,stepY0:n,stepY1:s,rightCp1x:(r+i)/2,rightCp1y:s,rightCp2x:(r+i)/2,rightCp2y:s}}function kj(e,t){return e.type==="linear"?_0e(e,t):e.type==="cubic"?B0e(e,t):G0e(e)}function j8(e,t,n,i,s,r,o){switch(t){case 0:o?e.moveTo(s,r):e.moveTo(n,i);break;case 1:o?e.lineTo(s,r):e.lineTo(n,i);break}}function W8(e,t,n,i,s,r){r?e.lineTo(t,n):e.lineTo(i,s)}function U8(e,t,n,i,s,r,o,a,l,c){c?e.cubicCurveTo(r,o,i,s,t,n):e.cubicCurveTo(i,s,r,o,a,l)}function $8(e,t,n,i,s,r,o){o?(e.lineTo(r,s),e.lineTo(r,n),e.lineTo(t,n)):(e.lineTo(r,n),e.lineTo(r,s),e.lineTo(i,s))}function y0(e,t,n,i){const[s,r]=Sl(t);switch(j8(e,n,s.x,s.y,r.x,r.y,i),t.type){case"linear":W8(e,t.x0,t.y0,t.x1,t.y1,i);break;case"cubic":U8(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,i);break;case"step":$8(e,t.x0,t.y0,t.x1,t.y1,t.stepX,i);break}}function Y8(e,t,n){const[i,s]=Sl(e),[r,o]=Sl(t),a=Ps(i.x,r.x,n),l=Ps(i.y,r.y,n),c=Ps(s.x,o.x,n),d=Ps(s.y,o.y,n);return[{x:a,y:l},{x:c,y:d}]}function YF(e,t,n,i,s,r){const[{x:o,y:a},{x:l,y:c}]=Y8(t,n,i);if(j8(e,s,o,a,l,c,r),t.type==="cubic"&&n.type==="cubic"){const d=Ps(t.cp1x,n.cp1x,i),f=Ps(t.cp1y,n.cp1y,i),g=Ps(t.cp2x,n.cp2x,i),y=Ps(t.cp2y,n.cp2y,i);U8(e,o,a,d,f,g,y,l,c,r)}else if(t.type==="step"&&n.type==="step"){const d=Ps(t.stepX,n.stepX,i);$8(e,o,a,l,c,d,r)}else if(t.type==="linear"&&n.type==="linear")W8(e,o,a,l,c,r);else{let d;t.type==="step"?d=t.stepX:n.type==="step"?d=n.stepX:d=(o+l)/2;const f=kj(t,d),g=kj(n,d),y=Ps(f.leftCp1x,g.leftCp1x,i),v=Ps(f.leftCp1y,g.leftCp1y,i),w=Ps(f.leftCp2x,g.leftCp2x,i),S=Ps(f.leftCp2y,g.leftCp2y,i),x=Ps(f.stepX,g.stepX,i),M=Ps(f.stepY0,g.stepY0,i),A=Ps(f.stepY1,g.stepY1,i),k=Ps(f.rightCp1x,g.rightCp1x,i),I=Ps(f.rightCp1y,g.rightCp1y,i),P=Ps(f.rightCp2x,g.rightCp2x,i),N=Ps(f.rightCp2y,g.rightCp2y,i);r?(e.cubicCurveTo(P,N,k,I,x,A),e.lineTo(x,M),e.cubicCurveTo(w,S,y,v,o,a)):(e.cubicCurveTo(y,v,w,S,x,M),e.lineTo(x,A),e.cubicCurveTo(k,I,P,N,l,c))}}var z0e=1e3,K8=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(K8||{});function H0e(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function oa(e){return TF(e).valueOf()}function Qr(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const n=oa(e);let i=t.domain.findIndex(s=>oa(s)===n);return i===-1&&(i=t.domain.findIndex(s=>H0e(e,s))),i>=0?t.inset+t.step*i:NaN}function Lj({data:e},t){return e.map((n,i)=>({xValue0Index:t.indexOf(oa(n.xValue0)),xValue1Index:t.indexOf(oa(n.xValue1)),datumIndex:i}))}function Pj(e){return Object.values(e.scales).every(t=>t.type==="category"?t.domain.length<z0e:!0)}function V0e(e,t){const n=t.scales.x,i=e.scales.x;if((n==null?void 0:n.type)!=="category"||(i==null?void 0:i.type)!=="category")return!0;let s=-1/0;for(const r of n.domain){const o=Qr(r,i);if(Number.isFinite(o)){if(o<s)return!1;s=o}}return!0}function j0e(e,t){let n=-1/0;for(const i of e){const s=Qr(i.value,t.scales.x);if(Number.isFinite(s)){if(s<n)return!1;n=s}}return!0}function W0e(e,t){const n=new Map;for(const{xValue0:d,xValue1:f}of e.data){const g=oa(d),y=oa(f);n.set(g,d).set(y,f)}const i=Array.from(n,([d,f])=>({axisValue:d,value:f}));i.sort((d,f)=>Qr(d.value,e.scales.x)-Qr(f.value,e.scales.x));const s=[];for(const{xValue0:d,xValue1:f}of t.data){const g=oa(d),y=oa(f);n.has(g)||(n.set(g,d),s.push({axisValue:g,value:d})),n.has(y)||(n.set(y,f),s.push({axisValue:y,value:f}))}s.sort((d,f)=>Qr(d.value,t.scales.x)-Qr(f.value,t.scales.x));const r=i;let o=0;for(const d of s){for(let f=r.length-1;f>=o;f-=1){const g=Qr(d.value,t.scales.x),y=Qr(r[f].value,t.scales.x);if(g>y){o=f+1;break}}r.splice(o,0,d),o+=1}if(!j0e(r,t))return;const a=r.map(d=>d.axisValue),l=Lj(t,a),c=Lj(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:c}}function Oj(e,t,n){if(n.xValue1Index===n.xValue0Index+1)return e;const i=Sl(e),s=(i[1].x-i[0].x)/(n.xValue1Index-n.xValue0Index),r=i[0].x+(t-n.xValue0Index)*s,o=r+s;return V8(e,r,o)}function q8(e,t){const[n,i]=Sl(e),s=Qr(0,t.scales.y);return xM(e,{x:n.x,y:s},{x:i.x,y:s})}function Z8(e){const[t,n]=Sl(e);return L0e(e,{x:(t.x+n.x)/2,y:(t.y+n.y)/2})}function X8(e,t,n,i,s,r){var f,g;let o,a;if(s.xValue0Index>=r.xValue1Index){const y=(f=i.findLast(w=>w.xValue1Index<=r.xValue1Index))==null?void 0:f.datumIndex,v=y!=null?n.data[y]:void 0;o=v==null?void 0:v.xValue1,a=v==null?void 0:v.yValue1}else if(s.xValue0Index<=r.xValue0Index){const y=(g=i.find(w=>w.xValue0Index>=r.xValue0Index))==null?void 0:g.datumIndex,v=y!=null?n.data[y]:void 0;o=v==null?void 0:v.xValue0,a=v==null?void 0:v.yValue0}if(o==null||a==null)switch(t){case 0:return q8(e,n);case 1:return Z8(e)}const l=Qr(o,n.scales.x),c=Qr(a,n.scales.y),d={x:l,y:c};return xM(e,d,d)}function QB(e,t){var s;if(t==null)return;const n=oa(e.xValue0),i=oa(e.xValue1);return(s=t.find(r=>oa(r.xValue0)===n&&oa(r.xValue1)===i))==null?void 0:s.span}function Nj(e,t,n,i,s,r,o){const a=e.data[i.datumIndex],l=a.span,c=QB(a,s);if(c!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:l}),o.added.push({from:l,to:l});else{const d=X8(l,t,e,n,i,r);o.added.push({from:d,to:l})}}function Fj(e,t,n,i,s,r,o){const a=e.data[i.datumIndex],l=a.span,c=QB(a,s);if(c!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:c}),o.added.push({from:c,to:c});else{const d=X8(l,t,e,n,i,r);o.removed.push({from:l,to:d})}}function _j(e,t,n,i,s){const r=t[s.xValue0Index],o=n.data.find(S=>oa(S.xValue0)===r),a=t[s.xValue1Index],l=n.data.find(S=>oa(S.xValue1)===a);if(o==null||l==null)return;const[{x:c},{x:d}]=Sl(e),f=Qr(o.xValue0,n.scales.x),g=Qr(o.yValue0,n.scales.y),y=Qr(l.xValue1,n.scales.x),v=Qr(l.yValue1,n.scales.y);let w=i.data[s.datumIndex].span;return w=xM(w,{x:f,y:g},{x:y,y:v}),w=V8(w,c,d),w}function U0e(e,t,n,i,s,r,o,a,l){const c=s+1,d=o.find(A=>A.xValue0Index<=s&&A.xValue1Index>=c),f=r.find(A=>A.xValue0Index<=s&&A.xValue1Index>=c),g=t.zeroData,y=e.zeroData;if(d==null&&f!=null){Nj(e,n,r,f,g,a,l);return}else if(d!=null&&f==null){Fj(t,n,o,d,y,a,l);return}else if(d==null||f==null)return;let v;d.xValue0Index===f.xValue0Index&&d.xValue1Index===f.xValue1Index?v=0:d.xValue0Index<=f.xValue0Index&&d.xValue1Index>=f.xValue1Index?v=-1:d.xValue0Index>=f.xValue0Index&&d.xValue1Index<=f.xValue1Index?v=1:v=0;const w=t.data[d.datumIndex],S=Oj(w.span,s,d),x=e.data[f.datumIndex],M=Oj(x.span,s,f);if(v===1){const A=_j(S,i,t,e,f);A!=null?(l.removed.push({from:S,to:A}),l.moved.push({from:A,to:M}),l.added.push({from:M,to:M})):Fj(t,n,o,d,y,a,l)}else if(v===-1){const A=_j(M,i,e,t,d);A!=null?(l.removed.push({from:S,to:S}),l.moved.push({from:S,to:A}),l.added.push({from:A,to:M})):Nj(e,n,r,f,g,a,l)}else l.removed.push({from:S,to:S}),l.moved.push({from:S,to:M}),l.added.push({from:M,to:M})}function $0e(e,t,n,i){var c,d,f,g;const s={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:o,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(((c=o.at(0))==null?void 0:c.xValue0Index)??-1/0,((d=a.at(0))==null?void 0:d.xValue0Index)??-1/0),xValue1Index:Math.min(((f=o.at(-1))==null?void 0:f.xValue1Index)??1/0,((g=a.at(-1))==null?void 0:g.xValue1Index)??1/0)};for(let y=0;y<r.length-1;y+=1)U0e(t,n,i,r,y,a,o,l,s);return s}function Bj(e,t,n){const{span:i}=t;switch(n){case 0:return QB(t,e.zeroData)??q8(i,e);case 1:return Z8(i)}}function Y0e(e,t,n){const i=[],s=[];for(const r of t.data){const o=r.span,a=Bj(t,r,n);s.push({from:o,to:a})}for(const r of e.data){const o=r.span,a=Bj(e,r,n);i.push({from:a,to:o})}return{removed:s,moved:[],added:i}}function B0(e,t,n){if(!Pj(e)||!Pj(t)||!V0e(e,t))return;const i=W0e(e,t);return i==null?Y0e(e,t,n):$0e(i,e,t,n)}function Gj(e){return e.type==="continuous"||e.type==="log"}function zj(e){return e.type==="category"}function Ym(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:Gj(e)&&Gj(t)?e.type===t.type&&Jd(e.domain,t.domain)&&Jd(e.range,t.range):zj(e)&&zj(t)?e.inset===t.inset&&e.step===t.step&&Jd(e.domain,t.domain):!1}function MM(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function KI(e,t){let n;const i=e.map(s=>s.point);switch(t.type){case"linear":n=P0e(i);break;case"smooth":n=F0e(i,t.tension);break;case"step":n=N0e(i,t.position);break}return n.map((s,r)=>({span:s,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function DM(e,t,n=.001){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}function JB({path:e},t){let n;for(const{span:i}of t){const[s,r]=Sl(i),o=n!=null&&DM(n,s)?1:0;y0(e,i,o,!1),n=r}}function FE(e,t,n){let i;for(const s of n){const[r,o]=Y8(s.from,s.to,e),a=i!=null&&DM(i,r)?1:0;YF(t.path,s.from,s.to,e,a,!1),i=o}}function eG(e,t,n){const i=(a,l)=>FE(a,l,t.removed),s=(a,l)=>FE(a,l,t.moved),r=(a,l)=>FE(a,l,t.added),o=tG(e,n);return{status:e,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:i},pathProperties:o}}function tG(e,t){const n=t==="none"?"updated":e,i={fromFn:s=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},{phase:uc[n],...r}},toFn:s=>({phase:uc[n]})};return t==="fade"?{fromFn:s=>({opacity:e==="added"?0:s.opacity,...i.fromFn(s)}),toFn:s=>({opacity:e==="removed"?0:1,...i.toFn(s)})}:i}function Q8(e,t,n){var c,d;const i=((c=e.scales.x)==null?void 0:c.type)==="category",s=((d=t.scales.x)==null?void 0:d.type)==="category";if(i!==s||!MM(e.scales.x)||!MM(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const o=B0({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=eG(r,o,"fade"),l=((n==null?void 0:n.changed)??!0)||!Ym(e.scales.x,t.scales.x)||!Ym(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:a,hasMotion:l}}function J8({path:e},{spans:t,phantomSpans:n}){let i=0,s={x:NaN,y:NaN},r={x:NaN,y:NaN};for(let o=0;o<t.length;o+=1){const{span:a}=t[o],{span:l}=n[o],{0:c,1:d}=Sl(a),{0:f,1:g}=Sl(l);if(DM(s,c)&&DM(r,f))y0(e,a,1,!1);else{for(let y=o-1;y>=i;y-=1)y0(e,n[y].span,1,!0);e.closePath(),y0(e,a,0,!1),i=o}s=d,r=g}for(let o=t.length-1;o>=i;o-=1)y0(e,n[o].span,1,!0);e.closePath()}function _E(e,{path:t},n,i){for(let s=0;s<n.length;s+=1){const r=n[s],o=i[s];YF(t,r.from,r.to,e,0,!1),YF(t,o.from,o.to,e,1,!0),t.closePath()}}function e9(e,t,n,i){const s=(l,c)=>_E(l,c,t.removed,n.removed),r=(l,c)=>_E(l,c,t.moved,n.moved),o=(l,c)=>_E(l,c,t.added,n.added),a=tG(e,i);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s},pathProperties:a}}function t9(e,t){var f,g;const n=((f=e.scales.x)==null?void 0:f.type)==="category",i=((g=t.scales.x)==null?void 0:g.type)==="category";if(n!==i||!MM(e.scales.x)||!MM(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=B0({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const o=B0({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=B0({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const l="none",c=e9(s,r,o,l),d=eG(s,a,l);return{status:s,fill:c,stroke:d}}var Eo=0,Da=1,ul=2,dl=3,Ru=4;function nG(e){let t=Math.ceil(Math.log2(e.length))-1;return t=Math.min(Math.max(t,0),24),2**t|0}function AM(e,t){switch(e){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let n=1/0,i=-1/0;for(const s of t){const r=Number(s);n=Math.min(n,r),i=Math.max(i,r)}return[n,i]}case"color":case"log":case"mercator":return[0,0]}}function iG(e,t){return e/t}function fh(e,t,n){return(e.valueOf()-t)/(n-t)}function sG(e,t){return Math.min(Math.floor(e*t),t-1)*Ru|0}function rG(e,t,n,i,s,r){const o=new Int32Array(r*Ru).fill(-1),a=new Float64Array(r*Ru).fill(NaN),l=Number.isFinite(i)&&Number.isFinite(s),c=e.length;for(let d=0;d<e.length;d+=1){const f=e[d];if(f==null)continue;const g=l?fh(f,i,s):iG(d,c),y=sG(g,r),v=t[d],w=n[d],S=v!=null?v.valueOf():NaN,x=w!=null?w.valueOf():NaN,M=o[y+Eo]===-1;(M||g<a[y+Eo])&&(o[y+Eo]=d,a[y+Eo]=g),(M||g>a[y+Da])&&(o[y+Da]=d,a[y+Da]=g),!Number.isNaN(x)&&(M||x<a[y+ul])&&(o[y+ul]=d,a[y+ul]=x),!Number.isNaN(S)&&(M||S>a[y+dl])&&(o[y+dl]=d,a[y+dl]=S)}return{indexData:o,valueData:a}}function oG(e,t,n,{inPlace:i=!1}={}){const s=n/2|0,r=i?e:new Int32Array(s*Ru),o=i?t:new Float64Array(s*Ru);for(let a=0;a<s;a+=1){const l=a*Ru|0,c=l*2|0,d=c+Ru|0,f=e[d+Eo]===-1,g=f||t[c+Eo]<t[d+Eo]?c:d;r[l+Eo]=e[g+Eo],o[l+Eo]=t[g+Eo];const y=f||t[c+Da]>t[d+Da]?c:d;r[l+Da]=e[y+Da],o[l+Da]=t[y+Da];const v=f||t[c+ul]<t[d+ul]?c:d;r[l+ul]=e[v+ul],o[l+ul]=t[v+ul];const w=f||t[c+dl]>t[d+dl]?c:d;r[l+dl]=e[w+dl],o[l+dl]=t[w+dl]}return{maxRange:s,indexData:r,valueData:o}}var K0e=1e3,q0e=10;function Hj(e,t,n,i,s,r){const o=e[r];if(o==null)return!1;const a=Number.isFinite(t)?fh(o,t,n):iG(r,e.length),l=sG(a,s);return r===i[l+Eo]||r===i[l+Da]||r===i[l+ul]||r===i[l+dl]}function n9(e,t,n,i){if(t.length<K0e)return;const[s,r]=AM(e,i);let o=nG(t);const{indexData:a,valueData:l}=rG(t,n,n,s,r,o);let c=[];for(let f=0;f<t.length;f+=1)Hj(t,s,r,a,o,f)&&c.push(f);const d=[{maxRange:o,indices:c}];for(;c.length>q0e&&o>64;)({maxRange:o}=oG(a,l,o,{inPlace:!0})),c=c.filter(Hj.bind(null,t,s,r,a,o)),d.push({maxRange:o,indices:c});return d.reverse(),d}function RM({id:e},t,n,...i){const s={phase:n?uc[n]:"trailing"};wh(e,"markers",t,i,{opacity:0},{opacity:1},s),i.forEach(r=>r.cleanup())}function i9({id:e},t,...n){wh(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(i=>i.cleanup())}function aG({id:e,nodeDataDependencies:t},n,...i){const s=t.seriesRectWidth;Os(e,"markers",n,i,{fromFn:(a,l)=>{var f;const c=((f=l.midPoint)==null?void 0:f.x)??s;let d=At(0,NY(c/s),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:kI,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Rk(e){return{opacity:1,scalingX:1,scalingY:1}}function TM(e,t){var n,i,s,r;return{x:((n=t.point)==null?void 0:n.x)??NaN,y:((i=t.point)==null?void 0:i.y)??NaN,scalingCenterX:((s=t.point)==null?void 0:s.x)??NaN,scalingCenterY:((r=t.point)==null?void 0:r.y)??NaN}}function Tk(e,{datumIndex:t}){const n=e.getNodeData();if(n===void 0)return;const i=n[t],{point:s}=i??{};if(i==null||s==null)return;const r=e.getFormattedMarkerStyle(i),o=Fs.anchor(r.shape),a=s.focusSize??r.size,l=4+a,c=l/2,d=(o.x-.5)*a,f=(o.y-.5)*a,g=i.point.x-c-d,y=i.point.y-c-f;return Qi.toCanvas(e.contentGroup,new Xe(g,y,l,l))}function lG({id:e,visible:t,nodeDataDependencies:n},i,...s){const{seriesRectWidth:r,seriesRectHeight:o}=n;wh(e,"path_properties",i,s,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function qI({id:e},t,n,i="add",...s){wh(e,t,n,s,{opacity:0},{opacity:1},{phase:i})}function cG(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function ZI({nodeDataDependencies:e},t){const n=i=>isFinite(i)?i:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}var Z0e=.125,X0e=.25,Q0e=sD(n9),Ek=class extends Wy{constructor(e){super({moduleCtx:e,propertyKeys:Lw,propertyNames:Pw,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:cG({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Vy,datum:(t,n)=>({...Rk(),...TM(t,n)})},clipFocusBox:!1}),this.properties=new ts,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new jt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>YI||this.contextNodeData.strokeData.spans.length>YI)}attachSeries(e,t,n){super.attachSeries(e,t,n),e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const n=this.isStacked()===this._isStacked;return this._isStacked=n,super.setSeriesIndex(e,n)}setZIndex(e){super.setZIndex(e),this.isStacked()?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1])}async processData(e){var I,P;if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:s=1}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),f=(I=this.axes.x)==null?void 0:I.scale,g=(P=this.axes.y)==null?void 0:P.scale,{xScaleType:y,yScaleType:v}=this.getScaleInformation({xScale:f,yScale:g}),w=s>1||c!=null,S={value:`area-stack-${i}-yValue`,values:`area-stack-${i}-yValues`,stack:`area-stack-${i}-yValue-stack`,marker:`area-stack-${i}-yValues-marker`},x={invalidValue:null};(E0(c)||l)&&s>1&&(x.invalidValue=0),n||(x.forceValue=0);const M=[ug(r,y,{id:"xValue"}),mi(o,v,{id:"yValueRaw",...x}),...a!=null?[mi(a,v,{id:"yFilterRaw"})]:[],...AK(o,v,{id:"yValueStack",...x,groupId:S.stack}),mi(o,v,{id:"yValue",...x,groupId:S.value})];w&&M.push(...dg(o,"window","current",{id:"yValueEnd",...x,groupId:S.values},v),...dg(o,"normal","current",{id:"yValueCumulative",...x,groupId:S.marker},v)),E0(c)&&M.push(wk(Object.values(S),c)),d&&M.push(OD());const{dataModel:A,processedData:k}=await this.requestDataModel(e,t,{props:M,groupByKeys:w,groupByData:!w});this.dataAggregationFilters=this.aggregateData(A,k),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),s=n.enabled?.5*n.size*t:0;return[i-s,i+s]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),s=n.enabled?.5*n.size*t:0;return[i-s,i+s]}yCumulativeKey(e){return e.type==="grouped"?"yValueCumulative":"yValue"}getSeriesDomain(e){const{processedData:t,dataModel:n,axes:i}=this;if(!t||!n)return[];const s=i.y;if(e==="x"){const o=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:La(Pg(a))}const r=this.domainForClippedRange("y",[this.yCumulativeKey(t)],"xValue");if(s instanceof Dw||s instanceof td)return La(r);{const o=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return La(o)}}getSeriesRange(e,t){const[n,i]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",t);return[Math.min(n,0),Math.max(i,0)]}getVisibleItems(e,t,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}aggregateData(e,t){if(t.type==="grouped"||Mw(t))return;const n=this.axes.x;if(n==null)return;const{scale:i}=n,s=e.resolveColumnById(this,"xValue",t),r=e.resolveColumnById(this,"yValueRaw",t),o=e.getDomain(this,"xValue","value",t);return Q0e(i.type,s,r,o)}createNodeData(){var St;const{axes:e,data:t,processedData:n,dataModel:i,dataAggregationFilters:s}=this,r=e.x,o=e.y;if(!r||!o||!t||!i||!n)return;const{yKey:a,xKey:l,xName:c,yName:d,yFilterKey:f,marker:g,label:y,fill:v,stroke:w,connectMissingData:S,interpolation:x}=this.properties,{scale:M}=r,{scale:A}=o,k=this.getSeriesDomain("y"),{isContinuousY:I}=this.getScaleInformation({xScale:M,yScale:A}),P=(M.bandwidth??0)/2,N=n.type==="grouped",B=i.resolveKeysById(this,"xValue",n),z=i.resolveColumnById(this,"yValueRaw",n),W=N?i.resolveColumnById(this,"yValueCumulative",n):z,Y=f!=null?i.resolveColumnById(this,"yFilterRaw",n):void 0,K=n.type==="grouped"?i.resolveColumnById(this,"yValueStack",n):void 0,q=[],te=[],{visibleSameStackCount:re}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let X=!1;const{dataSources:ne}=n,Z=ne.get(this.id)??[],[Se,U]=M.range,ie=Math.abs(U-Se),ve=s==null?void 0:s.find(Ze=>Ze.maxRange>ie);let J=0,he=0;const Ee=ve==null?void 0:ve.indices;[J,he]=this.visibleRangeIndices("xValue",r.range,Ee),J=Math.max(J-1,0),he=Math.min(he+1,(Ee==null?void 0:Ee.length)??B.length),n.input.count<1e3&&(J=0,he=n.input.count);const we=(Ze,et,lt)=>{let vt;return(E0(this.properties.normalizedTo)?I&&W1(lt):!isNaN(lt))&&(vt=et),{x:M.convert(Ze)+P,y:A.convert(vt),size:g.size}},Me=Ze=>{const et=B[Ze];if(et==null)return;const lt=Z[Ze],vt=z[Ze],Vt=W[Ze],vn=Number.isFinite(vt),ln=we(et,+Vt,vt),us=Y!=null?Y[Ze]===vt:void 0;if(us===!1&&(X=!0),vn&&g&&te.push({series:this,itemId:a,datum:lt,datumIndex:Ze,midPoint:{x:ln.x,y:ln.y},cumulativeValue:Vt,yValue:vt,xValue:et,yKey:a,xKey:l,point:ln,fill:g.fill??v,stroke:g.stroke??w,strokeWidth:g.strokeWidth??this.properties.strokeWidth,selected:us}),y.enabled&&vn){const bn=this.getLabelText(vt,lt,a,"y",k,y,{value:vt,datum:lt,xKey:l,yKey:a,xName:c,yName:d});q.push({series:this,itemId:a,datum:lt,datumIndex:Ze,x:ln.x,y:ln.y,labelText:bn})}};if(n.type==="grouped")for(const{datumIndex:Ze}of i.forEachGroupDatum(this,n))Me(Ze);else for(let Ze=J;Ze<he;Ze+=1){const et=(Ee==null?void 0:Ee[Ze])??Ze;B[et]!=null&&Me(et)}const Ce=Ze=>Ze.flatMap(et=>Array.isArray(et)?KI(et,x):new Array(et.skip).fill(null)),je=(Ze,et)=>({point:{x:M.convert(Ze)+P,y:A.convert(et)},xDatum:Ze,yDatum:et}),Ye=Ze=>{const et=[],lt=(vt,Vt,vn)=>{const ln=B[Vt],us=K!=null?K==null?void 0:K[Vt][Ze]:z[Vt];if(S&&!Number.isFinite(z[Vt]))return;const bn=Number.isFinite(us);let Pt=0,tn=!0,co=0,El=!0;if(K==null)tn=vt==null||Number.isFinite(z[vt]),El=vn==null||Number.isFinite(z[vn]),Pt=vt!=null&&Number.isFinite(z[vt])?us:0,co=vn!=null&&Number.isFinite(z[vn])?us:0;else{const Ir=K[Vt],Gs=vt!=null?K[vt]:void 0,kr=vn!=null?K[vn]:void 0;for(let ar=0;ar<=Ze;ar+=1){const uo=Ir[ar];if(Number.isFinite(uo)){const Lh=Gs==null||Number.isFinite(Gs[ar]),$t=kr==null||Number.isFinite(kr[ar]);Lh?Pt+=uo:tn=!1,$t?co+=uo:El=!1}}}const Xs=et[et.length-1];if(!S&&(!tn||!El||!bn||Pt!==co))if(!bn&&Array.isArray(Xs)&&Xs.length===1)et[et.length-1]={skip:1};else{const Ir=je(ln,Pt),Gs=je(ln,co);Array.isArray(Xs)?Xs.push(Ir):Xs!=null&&(Xs.skip+=1),et.push(bn?[Gs]:{skip:0})}else{const Ir=S?us:Math.max(Pt,co),Gs=je(ln,Ir);Array.isArray(Xs)?Xs.push(Gs):Xs!=null?(Xs.skip+=1,et.push([Gs])):et.push([Gs])}};if(n.type==="grouped")for(const{datumIndexes:[vt,Vt,vn]}of i.forEachGroupDatumTuple(this,n))lt(vt,Vt,vn);else{let vt,Vt;for(let vn=J;vn<he;vn+=1){const ln=(Ee==null?void 0:Ee[vn])??vn;B[ln]!=null&&(Vt!=null&&lt(vt,Vt,ln),vt=Vt,Vt=ln)}Vt!=null&&lt(vt,Vt,void 0)}return Ce(et)},Ge=((St=this.seriesGrouping)==null?void 0:St.stackIndex)??0,We=()=>{const Ze=lt=>{const vt=B[lt],Vt=(K==null?void 0:K[lt][Ge])??z[lt];if(!(S&&!Number.isFinite(Vt)))return je(vt,0)};let et;if(n.type==="grouped")et=Array.from(i.forEachGroupDatum(this,n),({datumIndex:lt})=>Ze(lt));else{et=[];for(let lt=J;lt<he;lt+=1){const vt=(Ee==null?void 0:Ee[lt])??lt;B[vt]!=null&&et.push(Ze(vt))}}return et=et.filter(lt=>lt!=null),KI(et,x)},it=Ye(Ge),$e=it.map(()=>null);for(let Ze=Ge-1;Ze>=-1;Ze-=1){let et;for(let lt=0;lt<$e.length;lt+=1)$e[lt]==null&&(et??(et=Ze!==-1?Ye(Ze):We()),$e[lt]=et[lt])}const mt=it.map((Ze,et)=>Ze??$e[et]),Ht=it.filter(Ze=>Ze!=null);return{itemId:a,fillData:{itemId:a,spans:mt,phantomSpans:$e},strokeData:{itemId:a,spans:Ht},labelData:q,nodeData:te,scales:this.calculateScaling(),visible:this.visible,stackVisible:re>0,crossFiltering:X}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var w;const{visible:t,animationEnabled:n}=e,[i,s]=e.paths,r=((w=this.contextNodeData)==null?void 0:w.crossFiltering)===!0,{strokeWidth:o,stroke:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,fill:f,fillOpacity:g,opacity:y}=Rn(this.getHighlightStyle(),this.properties);s.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:a,strokeWidth:o,strokeOpacity:l*(r?X0e:1),lineDash:c,lineDashOffset:d,opacity:y,visible:t||n});const v=mC(f,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);th(i,{fill:v,stroke:void 0,fillOpacity:g*(r?Z0e:1)},this.getShapeFillBBox()),i.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:y,visible:t||n}),ZI(this,s),ZI(this,i)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const n of e)n.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const n of e)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(e,t){const[n]=e;n.path.clear(),J8(n,t.fillData),n.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:n}=t.strokeData,[,i]=e;i.path.clear(),JB(i,n),i.markDirty("AreaSeries")}updateDatumSelection(e){var s;const{nodeData:t,datumSelection:n}=e,i=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i?t:[])}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:s,marker:r,stroke:o,strokeWidth:a,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),d=this.getSeriesDomain("y"),f=this.getShapeFillBBox();t.each((g,y)=>{const{xValue:v,yValue:w}=y,S=cg(v,w,i,s,c,d),x=this.getMarkerStyle(r,y,S,n,void 0,{stroke:o,strokeWidth:a,strokeOpacity:l});this.applyMarkerStyle(x,g,y.point,f,{selected:y.selected})}),n||this.properties.marker.markClean(),n||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t)}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((s,r)=>{const{x:o,y:a,labelText:l}=r,c=t||this.isSeriesHighlighted(n),d=this.getHighlightStateString(n,c,r.datumIndex),f=Au(this,r,this.properties,this.properties.label,c,d),{enabled:g,fontStyle:y,fontWeight:v,fontSize:w,fontFamily:S,color:x}=f;l&&g&&this.visible?(s.fontStyle=y,s.fontWeight=v,s.fontSize=w,s.fontFamily=S,s.textAlign="center",s.textBaseline="bottom",s.text=l,s.x=o,s.y=a-10,s.fill=x,s.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,s.visible=!0,s.setBoxing(f)):s.visible=!1})}getTooltipContent(e){var I;const{id:t,dataModel:n,processedData:i,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:c,tooltip:d,marker:f,legendItemName:g}=r,y=s.x,v=s.y;if(!n||!i||!y||!v)return;const w=(I=i.dataSources.get(this.id))==null?void 0:I[e],S=n.resolveKeysById(this,"xValue",i)[e],x=n.resolveColumnById(this,"yValueRaw",i)[e],{xDomain:M,yDomain:A}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(S==null)return;const k=this.getMarkerStyle(f,{datum:w,datumIndex:e},cg(S,x,o,l,M,A),!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(y,"tooltip",S,w,o,g),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(v,"tooltip",x,w,l,g)}]},{seriesId:t,datum:w,title:c,xKey:o,xName:a,yKey:l,yName:c,...k,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:n,strokeOpacity:i,strokeWidth:s,lineDash:r,marker:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties,d=!o.enabled||o.fill===void 0,f=d?mC(e,a,l,c):mC(o.fill,o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults);return{marker:{...this.getMarkerStyle(o,{},void 0,!1,{size:o.size,fill:f,fillOpacity:d?n:o.fillOpacity},void 0,!1),enabled:o.enabled||s<=0},line:{stroke:t,strokeOpacity:i,strokeWidth:s,lineDash:r}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:s,yName:r,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:s,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:s}),label:{text:o??r??s},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,contextData:i,paths:s}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(s,i),lG(this,r,...s),Mr([t],TM),aG(this,r,t),os(this,"labels",r,n)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,contextData:s,paths:r,previousContextData:o}=e,[a,l]=r;if(s.visible===!1&&(o==null?void 0:o.visible)===!1||a==null&&l==null)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,s)},d=()=>{t.skipCurrentBatch(),c()};if(s==null||o==null){c(),RM(this,t,"added",n),qI(this,"fill_path_properties",t,"add",a),qI(this,"stroke_path_properties",t,"add",l),os(this,"labels",t,i);return}if(s.crossFiltering!==o.crossFiltering){d();return}const f=t9(s,o);if(f===void 0){d();return}else if(f.status==="no-op")return;RM(this,t,void 0,n),Os(this.id,"fill_path_properties",t,[a],f.fill.pathProperties),$I(this.id,"fill_path_update",t,[a],f.fill.path),Os(this.id,"stroke_path_properties",t,[l],f.stroke.pathProperties),$I(this.id,"stroke_path_update",t,[l],f.stroke.path),os(this,"labels",t,i),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Fs}getFormattedMarkerStyle(e){const{xValue:t,yValue:n,xKey:i,yKey:s}=e,r=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,cg(t,n,i,s,r,o),!0)}computeFocusBounds(e){return Tk(this,e)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};Ek.className="AreaSeries";Ek.type="area";var J0e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new Ek(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:bw,fillPatternDefaults:hh,fillImageDefaults:Py,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ig,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:RD,fillPatternDefaults:hh},label:{...yl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kg()}}},s9={type:"series",name:"area",chartType:"cartesian",options:$K,create:e=>new Ek(e)},uG=class extends _s{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(e,t){return this.feathered?this.getBBox().containsPoint(e,t):super.isPointInPath(e,t)}updatePath(){if(!this.feathered){super.updatePath();return}const{path:e,x:t,y:n,width:i,height:s,direction:r,featherRatio:o}=this;if(e.clear(),r==="x"){const a=Math.abs(o)*i;o>0?(e.moveTo(t,n),e.lineTo(t+i-a,n),e.lineTo(t+i,n+s/2),e.lineTo(t+i-a,n+s),e.lineTo(t,n+s),e.closePath()):(e.moveTo(t+a,n),e.lineTo(t+i,n),e.lineTo(t+i,n+s),e.lineTo(t+a,n+s),e.lineTo(t,n+s/2),e.closePath())}else{const a=Math.abs(o)*s;o>0?(e.moveTo(t,n+a),e.lineTo(t+i/2,n),e.lineTo(t+i,n+a),e.lineTo(t+i,n+s),e.lineTo(t,n+s),e.closePath()):(e.moveTo(t,n),e.lineTo(t+i,n),e.lineTo(t+i,n+s-a),e.lineTo(t+i/2,n+s),e.lineTo(t,n+s-a),e.closePath())}}};L([Be()],uG.prototype,"direction",2);L([Be()],uG.prototype,"featherRatio",2);function dG(e,t){for(const n of t){const i=n.datum;i===void 0?ze.error("undefined datum"):e.addValue(n,i)}}function XI(e,t){const{x:n,y:i}=t,{nearest:s,distanceSquared:r}=e.getQuadTree().find(n,i);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var hG=class extends _g{constructor(){super(...arguments),this.direction="vertical"}};L([F],hG.prototype,"direction",2);var r9=class extends Wy{constructor(){super(...arguments),this.groupScale=new yw,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const n=typeof t=="boolean"?1:.5,i=Wn(this.smallestDataInterval)?this.smallestDataInterval*n:0,s=Pg(e)??[NaN,NaN];return typeof t=="boolean"?s[t?0:1]-=(t?1:-1)*i:(s[0]-=i,s[1]+=i),La(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e,t){return ci.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval,t):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],n=t.scale,i=this.getBandwidth(t,0)??0,s=ci.is(n)?i*-.5:0,r=n.convert(e)+s;return[r,r+i]}yCoordinateRange(e){const n=this.axes[this.getBarDirection()].scale,i=e.map(s=>n.convert(s));if(i.length===1){const s=n.convert(0);return[Math.min(i[0],s),Math.max(i[0],s)]}return[Math.min(...i),Math.max(...i)]}updateGroupScale(e){const t=[],{groupScale:n}=this,i=this.getBandwidth(e),{index:s,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)t.push(String(a));return n.domain=t,n.range=[0,i??0],e instanceof Ny?n.paddingInner=e.groupPaddingInner:e instanceof xw?(n.paddingInner=e.groupPaddingInner,n.round=n.padding!==0):n.padding=0,{barWidth:n.bandwidth>=1?n.bandwidth:n.rawBandwidth,groupIndex:s}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){dG(e,this.datumNodesIter())}pickNodesExactShape(e){const t=XI(this,e);return t!=null&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return XI(this,e)}},eMe=Eo,tMe=Da,nMe=ul,iMe=dl,sMe=Ru,rMe=1e3;function Vj(e,t){return Array.from({length:e},(n,i)=>{const s=i*Ru,r=t[s+Eo],o=t[s+Da];return(r+o)/2|0})}function oMe(e,t,n,i){if(t.length<rMe)return;const[s,r]=AM(e,i);let o=nG(t),{indexData:a,valueData:l}=rG(t,n,n,s,r,o),c=Vj(o,a);const d=[{maxRange:o,indexData:a,indices:c}];for(;o>64;)({indexData:a,valueData:l,maxRange:o}=oG(a,l,o)),c=Vj(o,a),d.push({maxRange:o,indexData:a,indices:c});return d.reverse(),d}var fG=class extends es{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};L([F],fG.prototype,"placement",2);L([F],fG.prototype,"spacing",2);var Li=class extends hG{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new Ml,this.fillPatternDefaults=new ki,this.fillImageDefaults=new ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new nd,this.label=new fG,this.tooltip=jy(),this.sparklineMode=!1}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,cornerRadius:a,opacity:1}}};L([F],Li.prototype,"xKey",2);L([F],Li.prototype,"xName",2);L([F],Li.prototype,"yKey",2);L([F],Li.prototype,"yName",2);L([F],Li.prototype,"yFilterKey",2);L([F],Li.prototype,"stackGroup",2);L([F],Li.prototype,"normalizedTo",2);L([F],Li.prototype,"fill",2);L([F],Li.prototype,"fillGradientDefaults",2);L([F],Li.prototype,"fillPatternDefaults",2);L([F],Li.prototype,"fillImageDefaults",2);L([F],Li.prototype,"fillOpacity",2);L([F],Li.prototype,"stroke",2);L([F],Li.prototype,"strokeWidth",2);L([F],Li.prototype,"strokeOpacity",2);L([F],Li.prototype,"lineDash",2);L([F],Li.prototype,"lineDashOffset",2);L([F],Li.prototype,"cornerRadius",2);L([F],Li.prototype,"crisp",2);L([F],Li.prototype,"itemStyler",2);L([F],Li.prototype,"shadow",2);L([F],Li.prototype,"label",2);L([F],Li.prototype,"tooltip",2);L([F],Li.prototype,"sparklineMode",2);function o9(e,t,n,i){if(t!=null){const[s,r]=t;if(s!==0||r!==1)return!1}if(ci.is(e)){const s=e.calcBandwidth(i)-e.calcBandwidth(n);if(s>0&&s<1)return!1}if(Ch.is(e)){const{bandwidth:s,step:r}=e;if(s>0&&s<1)return!1;const o=r-s;if(o>0&&o<1)return!1}return!0}var _O=e=>M_(e.yValue??0);function QI(e,t,n){const{startingX:i,startingY:s}=lMe(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:i,c=e?s:o.y,d=e?o.width:0,f=e?0:o.height;const{opacity:g=1}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,d=e?a.width:0,f=e?0:a.height,e&&!_O(a)?c+=a.height:!e&&_O(a)&&(l+=a.width));let y;return o.clipBBox==null?y=void 0:_O(o)?y=e?new Xe(l,c-f,d,f):new Xe(l-d,c,d,f):y=new Xe(l,c,d,f),{x:l,y:c,width:d,height:f,clipBBox:y,opacity:g}},mode:n}}function aMe(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity??1}),mode:t}}function JI(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>a==="removed"&&r.datum==null&&e.mode==="fade"?{...EM(r,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(r,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(r.previousDatum)&&(a="added");let l;a==="added"&&r.previousDatum==null&&e.mode==="fade"?l={...EM(r,o),opacity:0}:a==="unknown"||a==="added"?l=e.calculate(o,r.previousDatum):l={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const c=uc[a];return{...l,phase:c}},applyFn:(r,o,a)=>{var l;r.setProperties(o),r.crisp=a==="end"&&(((l=r.datum)==null?void 0:l.crisp)??!1)}}}function lMe(e,t){const n=t[e?"y":"x"];let i=1/0,s=0;return n?(e?s=n.scale.convert(ci.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(ci.is(n.scale)?0:Math.min(...n.range)),{startingX:i,startingY:s}):{startingX:i,startingY:s}}function EM(e,{x:t,y:n,width:i,height:s,clipBBox:r,opacity:o=1}){var a;return{x:t,y:n,width:i,height:s,clipBBox:r,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function gG(e,t){if(t===void 0)return;const{x:n,y:i,width:s,height:r}=t;return Qi.toCanvas(e.contentGroup,new Xe(n,i,s,r))}function a9(e,t,n,i,s,r){var l,c,d;let o=(c=(l=r==null?void 0:r.reduced)==null?void 0:l.diff)==null?void 0:c[e];if(o!=null&&o.changed)return o;const a=cMe(i,s);return o==null&&((d=r==null?void 0:r.reduced)==null?void 0:d.diff)!=null?(o={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},a?o.updated=new Set(Array.from(t,({datum:f})=>n(f))):o.added=new Set(Array.from(t,({datum:f})=>n(f)))):a&&(o={changed:!0,added:new Set,updated:new Set(Array.from(t,({datum:f})=>n(f))),removed:new Set,moved:new Set}),o}function jj(e){return typeof e=="object"&&e!==null&&"groupScale"in e}function cMe(e,t){if(!t)return!1;const n=e.scales,i=t.scales;if(!Ym(n.x,i.x)||!Ym(n.y,i.y))return!0;if(!jj(e)||!jj(t))return!1;const s=e.groupScale,r=t.groupScale;return!Ym(s,r)}var uMe=sD(oMe),GD=class extends r9{constructor(e){super({moduleCtx:e,propertyKeys:Lw,propertyNames:Pw,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:EM,label:Vy}}),this.properties=new Li,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var P,N,B,z,W;if(!this.data)return;const{xKey:t,yKey:n,yFilterKey:i,normalizedTo:s}=this.properties,{seriesGrouping:{groupIndex:r=this.id}={},data:o}=this,l=(((P=this.seriesGrouping)==null?void 0:P.stackCount)??0)>1||s!=null,c=l,d=!this.ctx.animationManager.isSkipped(),f=(N=this.getCategoryAxis())==null?void 0:N.scale,g=(B=this.getValueAxis())==null?void 0:B.scale,{isContinuousX:y,xScaleType:v,yScaleType:w}=this.getScaleInformation({xScale:f,yScale:g}),S=`bar-stack-${r}-yValues`,x=`${S}-trailing`,M=this.visible?{}:{forceValue:0},A=[ug(t,v,{id:"xValue"}),mi(n,w,{id:"yValue-raw",invalidValue:null,...M})];this.crossFilteringEnabled()&&A.push(mi(i,w,{id:"yFilterValue",invalidValue:null,...M})),l&&A.push(...dg(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:S,separateNegative:!0,...M},w),...dg(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0,...M},w)),y&&A.push(RK,TK),Wn(s)&&A.push(wk([S,x],Math.abs(s))),d&&this.processedData&&A.push(ND(this.id,this.processedData)),(d||!c)&&A.push(OD());const{dataModel:k,processedData:I}=await this.requestDataModel(e,o,{props:A,groupByKeys:c,groupByData:!c});this.dataAggregationFilters=this.aggregateData(k,I),this.smallestDataInterval=(z=I.reduced)==null?void 0:z.smallestKeyInterval,this.largestDataInterval=(W=I.reduced)==null?void 0:W.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:n}=this;if(n==null||t==null)return[];if(e===this.getCategoryDirection()){const a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}const i=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let s=this.domainForClippedRange(e,[i],"xValue");const r=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",t):void 0;if(r!=null&&(s=[Math.min(s[0],r[0]),Math.max(s[1],r[1])]),this.getValueAxis()instanceof Dw)return La(s);{const a=Number.isFinite(s[1]-s[0])?[Math.min(0,s[0]),Math.max(0,s[1])]:[];return La(a)}}getSeriesRange(e,t){var r;const n=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[i,s]=this.domainForVisibleRange("y",[n],"xValue",t);return[Math.min(i,0),Math.max(s,0)]}getVisibleItems(e,t,n){var s;const i=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if(t.type!=="ungrouped"||Mw(t))return;const n=this.axes.x;if(n==null)return;const i=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"yValue-raw",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),o=t.domain.keys[r];return uMe(n.scale.type,i,s,o)}createNodeData(){var ie,ve;const{dataModel:e,processedData:t,groupScale:n,dataAggregationFilters:i}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!s||!r)return;const o=(ie=t.dataSources)==null?void 0:ie.get(this.id);if(o==null)return;const a=s.scale,l=r.scale,{xKey:c,yKey:d,xName:f,yName:g,legendItemName:y,label:v}=this.properties,w=this.getSeriesDomain("y"),S=r.isReversed(),{barWidth:x,groupIndex:M}=this.updateGroupScale(s),A=n.convert(String(M)),k=ci.is(a)?x*-.5:0,I=e.resolveKeysById(this,"xValue",t),P=e.resolveColumnById(this,"yValue-raw",t),N=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,B=!this.ctx.animationManager.isSkipped(),z=J=>a.convert(I[J])+A+k,W=this.properties.crisp??o9(s==null?void 0:s.scale,s==null?void 0:s.visibleRange,this.smallestDataInterval,this.largestDataInterval),Y=l.convert(0),K=({datum:J,datumIndex:he,xValue:Ee,yValue:we,cumulativeValue:Me,phantom:Ce,currY:je,prevY:Ye,x:Ge,width:We,isPositive:it,yRange:$e,labelText:mt,opacity:Ht,featherRatio:st,crossScale:St=1})=>{const Ze=it!==S,et=l.convert(je),lt=l.convert(Ye),vt=l.convert($e),Vt=this.getBarDirection()==="x",vn=We*.5*(1-St),ln={x:Vt?Math.min(et,lt):Ge+vn,y:Vt?Ge+vn:Math.min(et,lt),width:Vt?Math.abs(lt-et):We*St,height:Vt?We*St:Math.abs(lt-et)},us=new Xe(ln.x,ln.y,ln.width,ln.height),bn={x:Vt?Math.min(Y,vt):Ge+vn,y:Vt?Ge+vn:Math.min(Y,vt),width:Vt?Math.abs(Y-vt):We*St,height:Vt?We*St:Math.abs(Y-vt)},Pt=this.shouldFlipXY()?ln.height:ln.width,tn=v.spacing+(typeof v.padding=="number"?v.padding:0);return{series:this,itemId:Ce?nh(d,Ce):d,datum:J,datumIndex:he,cumulativeValue:Me,phantom:Ce,xValue:Ee,yValue:we,yKey:d,xKey:c,capDefaults:{lengthRatioMultiplier:Pt,lengthMax:Pt},x:bn.x,y:bn.y,width:bn.width,height:bn.height,midPoint:{x:ln.x+ln.width/2,y:ln.y+ln.height/2},opacity:Ht,featherRatio:st,topLeftCornerRadius:Vt!==Ze,topRightCornerRadius:Ze,bottomRightCornerRadius:Vt===Ze,bottomLeftCornerRadius:!Ze,clipBBox:us,crisp:W,label:mt!=null?{text:mt,...B8({isUpward:Ze,isVertical:!Vt,placement:v.placement,spacing:tn,rect:ln})}:void 0,missing:we==null,focusable:!Ce}},q=[],te=[],re=[],X=(J,he,Ee,we,Me,Ce,je=0,Ye=1)=>{const Ge=I[J];if(Ge==null)return;const We=o[J],it=P[J],$e=N!=null?Number(N[J]):void 0,mt=it>=0&&!Object.is(it,-0);if(!Number.isFinite(Me)||$e!=null&&!Number.isFinite($e))return;const Ht=v.enabled&&it!=null?this.getLabelText($e??it,We,d,"y",w,v,{datum:We,value:$e??it,xKey:c,yKey:d,xName:f,yName:g,legendItemName:y}):void 0,st=$e!=null&&$e>it,St=K({datum:We,datumIndex:J,xValue:Ge,yValue:$e??it,cumulativeValue:$e??Me,phantom:!1,currY:$e!=null?we+$e:Me,prevY:we,x:he,width:Ee,isPositive:mt,yRange:Math.max(we+($e??-1/0),Ce),labelText:Ht,opacity:Ye,featherRatio:je,crossScale:st?.6:void 0});if(te.push(St),re.push(St),$e!=null){const Ze=K({datum:o[J],datumIndex:J,xValue:Ge,yValue:$e,cumulativeValue:$e,phantom:!0,currY:Me,prevY:we,x:he,width:Ee,isPositive:mt,yRange:Ce,labelText:void 0,opacity:Ye,featherRatio:je,crossScale:void 0});q.push(Ze)}},[ne,Z]=a.range,Se=Math.abs(Z-ne),U=i==null?void 0:i.find(J=>J.maxRange>Se);if(t.type==="grouped"){const J=x,he=e.hasColumnById(this,"yValue-start"),Ee=he?e.resolveColumnById(this,"yValue-start",t):void 0,we=he?e.resolveColumnById(this,"yValue-end",t):void 0,Me=he?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:Ce,group:{aggregation:je}}of e.forEachGroupDatum(this,t)){const Ye=z(Ce),Ge=P[Ce],We=Ge>=0&&!Object.is(Ge,-0),it=he?Number(Ee==null?void 0:Ee[Ce]):0,$e=he?Number(we==null?void 0:we[Ce]):Ge;let mt=$e;he&&(mt=je[Me][We?1:0]),X(Ce,Ye,J,it,$e,mt)}}else if(U==null){const J=(ve=t.invalidData)==null?void 0:ve.get(this.id),he=x;let[Ee,we]=this.visibleRangeIndices("xValue",s.range);t.input.count<1e3&&(Ee=0,we=t.input.count);for(let Me=Ee;Me<we;Me+=1){if((J==null?void 0:J[Me])===!0)continue;const Ce=z(Me),je=Number(P[Me]);X(Me,Ce,he,0,je,je)}}else{const{indexData:J,indices:he}=U,[Ee,we]=this.visibleRangeIndices("xValue",s.range,he),Me=S?-1:1;for(let Ce=Ee;Ce<we;Ce+=1){const je=Ce*sMe,Ye=J[je+eMe],Ge=J[je+tMe],We=J[je+nMe],it=J[je+iMe];if(Ye===-1)continue;const $e=z((Ye+Ge)/2|0),mt=Math.abs(z(Ge)-z(Ye))+x,Ht=Math.abs(Ge-Ye),st=Ch.is(a)?a.bandwidth*Math.max(Ht-1,1)/(a.step*Ht):1,St=I[it]!=null?Number(P[it]):NaN,Ze=I[We]!=null?Number(P[We]):NaN;if(St>0){const et=Ze>=0?Me*(1-Ze/St):Me;X(it,$e,mt,0,St,St,et,st)}if(Ze<0){const et=St<=0?-Me*(1-St/Ze):-Me;X(We,$e,mt,0,Ze,Ze,et,st)}}}return{itemId:d,nodeData:q.length>0?[...q,...te]:te,labelData:re,scales:this.calculateScaling(),visible:this.visible||B,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new uG}getHighlightData(e,t){const n=e.find(i=>i.datum===t.datum&&!i.phantom);return n!=null?[n]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemStyle(e,t){const{id:n,properties:i}=this,{xKey:s,yKey:r,itemStyler:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=i,{xValue:d,yValue:f,datum:g,datumIndex:y}=e,v=this.getHighlightStyle(t,y);let w=Fu(Rn(v,i.getStyle()),a,l,c);if(o&&e!=null){const{xDomain:S,yDomain:x}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),M=this.cachedDatumCallback(nh(this.getDatumId(e),t?"highlight":"node"),()=>{var I;const A=(I=this.ctx.highlightManager)==null?void 0:I.getActiveHighlight(),k=this.getHighlightStateString(A,t,y);return this.callWithContext(o,{seriesId:n,...cg(d,f,s,r,S,x),datum:g,xValue:d,yValue:f,highlighted:t,highlightState:k,...w})});M&&(w=Fu(Rn(M,w),a,l,c))}return w}updateDatumNodes(e){const{shadow:t}=this.properties,n=this.getCategoryDirection()==="x",i=this.getShapeFillBBox(),s=this.getBarDirection();e.datumSelection.each((r,o)=>{var c,d;const a=this.getItemStyle(o,e.isHighlight);th(r,a,i);const l=a.cornerRadius??0;r.topLeftCornerRadius=o.topLeftCornerRadius?l:0,r.topRightCornerRadius=o.topRightCornerRadius?l:0,r.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,r.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,r.visible=n?(((c=o.clipBBox)==null?void 0:c.width)??o.width)>0:(((d=o.clipBBox)==null?void 0:d.height)??o.height)>0,r.direction=s,r.featherRatio=o.featherRatio,r.crisp=o.crisp,r.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.pointerEvents=1})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};e.labelSelection.each((i,s)=>{var a;i.fillOpacity=this.getHighlightStyle(t,s==null?void 0:s.datumIndex).opacity??1;const r=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight(),o=this.getHighlightStateString(r,t,s.datumIndex);_8(this,i,n,this.properties.label,s.label,t,o)})}getTooltipContent(e){var A,k,I;const{id:t,dataModel:n,processedData:i,properties:s}=this,{xKey:r,xName:o,yKey:a,yName:l,legendItemName:c,stackGroup:d,tooltip:f}=s,g=this.getCategoryAxis(),y=this.getValueAxis(),v=(k=(A=this.contextNodeData)==null?void 0:A.nodeData)==null?void 0:k[e];if(!n||!i||!g||!y||!v)return;const w=(I=i.dataSources.get(this.id))==null?void 0:I[e],S=n.resolveKeysById(this,"xValue",i)[e],x=n.resolveColumnById(this,"yValue-raw",i)[e];if(S==null)return;const M=this.getItemStyle(v,!1);return this.formatTooltipWithContext(f,{heading:this.getAxisValueText(g,"tooltip",S,w,r,c),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:a,value:this.getAxisValueText(y,"tooltip",x,w,a,c)}]},{seriesId:t,datum:w,title:l,xKey:r,xName:o,yKey:a,yName:l,legendItemName:c,stackGroup:d,...M,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:n,fillOpacity:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:Fu({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:o},a,l,c)}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category")return[];const{id:n,ctx:{legendManager:i},visible:s}=this,{yKey:r,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:n,itemId:r,seriesId:n,enabled:s&&i.getItemEnabled({seriesId:n,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){const i=JI(QI(this.isVertical(),this.axes,"normal"));Os(this.id,"nodes",this.ctx.animationManager,[e],i),os(this,"labels",this.ctx.animationManager,t),os(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:s,previousContextData:r}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const o=a9(this.id,t,this.getDatumId.bind(this),e.contextData,r,this.processedData),a=r==null?"fade":"normal",l=JI(QI(this.isVertical(),this.axes,a));Os(this.id,"nodes",this.ctx.animationManager,[t],l,(c,d)=>this.getDatumId(d),o),(o!=null&&o.changed||!Ym(s.groupScale,r==null?void 0:r.groupScale))&&(os(this,"labels",this.ctx.animationManager,n),os(this,"annotations",this.ctx.animationManager,...i))}getDatumId(e){return nh(e.xValue,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var n;const t=(n=this.contextNodeData)==null?void 0:n.nodeData[e].clipBBox;return gG(this,t)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};GD.className="BarSeries";GD.type="bar";var l9={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new GD(e),stackable:!0,groupable:!0,defaultAxes:sK,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:bw,fillPatternDefaults:hh,fillImageDefaults:Py,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:{...yl,padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Ig,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:kg()}}},c9={type:"series",name:"bar",chartType:"cartesian",options:xk,create:e=>new GD(e)},ZT=3,dMe=5;function Wj(e,t,n,i,s,r,o,a,l,c,d){let f=0,g=1/0;const y=(a+c)/2,v=(l+d)/2;for(const w of o){const S=e[w],x=t[w];if(S==null||x==null)continue;const M=fh(S,n,s),A=fh(x,i,r),k=(M-y)**2+(A-v)**2;k<g&&(g=k,f=w)}return f}function hMe(e,t,n,i,s,r,o,a,l,c,d){let f=0;for(const g of o){const y=e[g],v=t[g];if(y==null||v==null)continue;const w=fh(y,n,s),S=fh(v,i,r);w>=a&&w<=c&&S>=l&&S<=d&&(f+=1)}return f}function KF(e,t,n,i,s,r,o,a,l,c,d){if(o.length<dMe)return;if(a===c&&l===d){const x=Wj(e,t,n,i,s,r,o,a,l,c,d);return{scale:0,x0:a,y0:l,x1:c,y1:d,indices:o,primaryDatumIndex:x,children:null}}const f=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],g=(a+c)/2,y=(l+d)/2;for(const x of o){const M=e[x],A=t[x];if(M==null||A==null)continue;const k=fh(M,n,s),I=fh(A,i,r),P=(k>g?1:0)+(I>y?2:0),N=f[P];N.indices.push(x),N.x0=Math.min(N.x0,k),N.y0=Math.min(N.y0,I),N.x1=Math.max(N.x1,k),N.y1=Math.max(N.y1,I)}let v=[];for(const x of f){const{indices:M,x0:A,x1:k,y0:I,y1:P}=x,N=KF(e,t,n,i,s,r,M,A,I,k,P);N!=null&&v.push(N)}if(v.length===1)return v[0];v.length===0&&(v=null);const w=Math.hypot(c-a,d-l),S=Wj(e,t,n,i,s,r,o,a,l,c,d);return{scale:w,x0:a,y0:l,x1:c,y1:d,indices:o,primaryDatumIndex:S,children:v}}function fMe(e,t,n,i,s,r,o,a){const[l,c]=AM(e,r),[d,f]=AM(t,o),[g,y]=a,v=[];if(s!=null&&y>g){const w=Array.from({length:ZT},()=>[]);for(let S=0;S<s.length;S+=1){const A=(s[S]-g)/(y-g)*ZT|0;A>=0&&A<ZT&&w[A].push(S)}for(let S=0;S<w.length;S+=1){const x=w[S],M=KF(n,i,l,d,c,f,x,0,0,1,1);if(M!=null){const A=S/ZT;v.push({sizeRatio:A,node:M})}}}else{const w=n.map((x,M)=>M),S=KF(n,i,l,d,c,f,w,0,0,1,1);S!=null&&v.push({sizeRatio:0,node:S})}return v.length>0?{xValues:n,yValues:i,xd0:l,xd1:c,yd0:d,yd1:f,filters:v}:void 0}function u9(e,t,n,i,s,r){const{xRange:o,yRange:a,xVisibleRange:[l,c],yVisibleRange:[d,f],minSize:g,maxSize:y}=n,{xValues:v,yValues:w,xd0:S,xd1:x,yd0:M,yd1:A}=t,k=1/Math.min(o/(c-l),a/(f-d));for(const{sizeRatio:I,node:P}of t.filters){const N=.5*(g+I*(y-g)),B=N*k,z=e*B,W=l-N/o,Y=c+N/o,K=d-N/a,q=f+N/a,te=[P];for(;te.length>0;){const re=te.pop();if(!(re.x1<W||re.x0>Y||re.y1<K||re.y0>q))if(re.scale<=z)i!=null&&(i.count+=1),s==null||s.push({datumIndex:re.primaryDatumIndex,count:re.indices.length,dilation:At(1,re.scale/B,e)});else if(re.children==null){const{indices:X}=re;if(i!=null){const Z=re.x0>=l&&re.x1<=c&&re.y0>=d&&re.y1<=f?X.length:hMe(v,w,S,M,x,A,X,l,d,c,f);i.count+=Z}r==null||r.push(...X)}else te.push(...re.children)}}}function qF(e,t,n){const i={count:0};return u9(e,t,n,i,void 0,void 0),i.count}var gMe=100,pMe=12;function mMe(e,t,n){let i=1,s=2;for(;qF(s,e,t)>n&&s<gMe;)i*=2,s*=2;for(let r=0;r<pMe;r+=1){const o=(s+i)/2;qF(o,e,t)>n?i=o:s=o}return i}function yMe(e,t,n){const i=[],s=[];return u9(e,t,n,void 0,i,s),{groupedAggregation:i,singleDatumIndices:s}}var pG=class extends or{constructor(){super(...arguments),this.maxSize=30}};L([F,Be()],pG.prototype,"maxSize",2);L([F,P_()],pG.prototype,"domain",2);var d9=class extends es{constructor(){super(...arguments),this.placement="top"}};L([F],d9.prototype,"placement",2);var Yn=class extends _g{constructor(){super(...arguments),this.label=new d9,this.tooltip=jy(),this.maxRenderedItems=1/0,this.marker=new pG}};L([F],Yn.prototype,"xKey",2);L([F],Yn.prototype,"yKey",2);L([F],Yn.prototype,"sizeKey",2);L([F],Yn.prototype,"labelKey",2);L([F],Yn.prototype,"xFilterKey",2);L([F],Yn.prototype,"yFilterKey",2);L([F],Yn.prototype,"sizeFilterKey",2);L([F],Yn.prototype,"xName",2);L([F],Yn.prototype,"yName",2);L([F],Yn.prototype,"sizeName",2);L([F],Yn.prototype,"labelName",2);L([F],Yn.prototype,"title",2);L([Zs("marker.shape")],Yn.prototype,"shape",2);L([Zs("marker.size")],Yn.prototype,"size",2);L([Zs("marker.maxSize")],Yn.prototype,"maxSize",2);L([Zs("marker.domain")],Yn.prototype,"domain",2);L([Zs("marker.fillGradientDefaults")],Yn.prototype,"fillGradientDefaults",2);L([Zs("marker.fillPatternDefaults")],Yn.prototype,"fillPatternDefaults",2);L([Zs("marker.fillImageDefaults")],Yn.prototype,"fillImageDefaults",2);L([Zs("marker.fill")],Yn.prototype,"fill",2);L([Zs("marker.fillOpacity")],Yn.prototype,"fillOpacity",2);L([Zs("marker.stroke")],Yn.prototype,"stroke",2);L([Zs("marker.strokeWidth")],Yn.prototype,"strokeWidth",2);L([Zs("marker.strokeOpacity")],Yn.prototype,"strokeOpacity",2);L([Zs("marker.lineDash")],Yn.prototype,"lineDash",2);L([Zs("marker.lineDashOffset")],Yn.prototype,"lineDashOffset",2);L([Zs("marker.itemStyler")],Yn.prototype,"itemStyler",2);L([F],Yn.prototype,"label",2);L([F],Yn.prototype,"tooltip",2);L([F],Yn.prototype,"maxRenderedItems",2);var vMe=class extends XB{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},zD=class extends Wy{constructor(e){super({moduleCtx:e,propertyKeys:{...Lw,label:["labelKey"],size:["sizeKey"]},propertyNames:{...Pw,label:["labelName"],size:["sizeName"]},categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:Vy,datum:Rk},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=vMe,this.properties=new Yn,this.dataAggregation=void 0,this.sizeScale=new $m}get pickModeAxis(){return"main-category"}async processData(e){var M,A;if(this.data==null||!this.visible)return;const t=(M=this.axes.x)==null?void 0:M.scale,n=(A=this.axes.y)==null?void 0:A.scale,{xScaleType:i,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:n}),r=this.sizeScale.type,{xKey:o,yKey:a,sizeKey:l,xFilterKey:c,yFilterKey:d,sizeFilterKey:f,labelKey:g,marker:y}=this.properties,{dataModel:v,processedData:w}=await this.requestDataModel(e,this.data,{props:[mi(o,i,{id:"xValue"}),mi(a,s,{id:"yValue"}),...c!=null?[mi(c,i,{id:"xFilterValue"})]:[],...d!=null?[mi(d,s,{id:"yFilterValue"})]:[],...f!=null?[mi(f,r,{id:"sizeFilterValue"})]:[],...l?[mi(l,r,{id:"sizeValue"})]:[],...g?[mi(g,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(v,w);const S=l?v.resolveProcessedDataIndexById(this,"sizeValue"):void 0,x=y.domain?[y.domain[0],y.domain[1]]:void 0;this.sizeScale.domain=x??(S==null?void 0:w.domain.values[S])??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,n){const{properties:i,sizeScale:s}=this,{size:r,sizeKey:o}=i,a=this.axes.x.scale.convert(e),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(l!=null?s.convert(l[n]):r)*t;return[a-d,a+d]}yCoordinateRange(e,t,n){const{properties:i,sizeScale:s}=this,{size:r,sizeKey:o}=i,a=this.axes.y.scale.convert(e[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(l!=null?s.convert(l[n]):r)*t;return[a-d,a+d]}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const i={x:"xValue",y:"yValue"},s=i[e],r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",n);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=i[e==="x"?"y":"x"],c=this.domainForClippedRange(e,[s],l);return La(Pg(c))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t)}getVisibleItems(e,t,n){const{dataAggregation:i,axes:s}=this,r=s.x,o=s.y;if(i==null||r==null||o==null)return this.countVisibleItems("xValue",["yValue"],e,t,n);const a=this.aggregationOptions(r,o,e,t??[0,1]);return qF(0,i,a)}aggregateData(e,t){if(t.type==="grouped"||t.input.count<=this.properties.maxRenderedItems)return;const n=this.axes.x,i=this.axes.y;if(n==null||i==null)return;const s=n.scale,r=i.scale;if(!ci.is(s)||!ci.is(r))return;const{sizeScale:o,properties:a}=this,{sizeKey:l}=a,c=e.resolveColumnById(this,"xValue",t),d=e.resolveColumnById(this,"yValue",t),f=l?e.resolveColumnById(this,"sizeValue",t):void 0,g=e.getDomain(this,"xValue","value",t),y=e.getDomain(this,"yValue","value",t),v=l?o.domain:[0,0];return fMe(s.type,r.type,c,d,f,g,y,v)}aggregationOptions(e,t,n=e.visibleRange,i=t.visibleRange){const{sizeKey:s,marker:r}=this.properties,o=Math.abs(e.range[1]-e.range[0]),a=Math.abs(t.range[1]-t.range[0]),l=r.size,c=s?r.maxSize:l;return{xRange:o,yRange:a,minSize:l,maxSize:c,xVisibleRange:n,yVisibleRange:i}}createNodeData(){const{axes:e,dataModel:t,processedData:n,sizeScale:i,visible:s}=this,{xKey:r,yKey:o,sizeKey:a,xFilterKey:l,yFilterKey:c,sizeFilterKey:d,labelKey:f,xName:g,yName:y,sizeName:v,labelName:w,label:S,marker:x,maxRenderedItems:M}=this.properties,{enabled:A,placement:k}=S,I=Fs.anchor(x.shape),P=e.x,N=e.y;if(!(t&&n&&s&&P&&N))return;const B=t.resolveColumnById(this,"xValue",n),z=t.resolveColumnById(this,"yValue",n),W=a!=null?t.resolveColumnById(this,"sizeValue",n):void 0,Y=f!=null?t.resolveColumnById(this,"labelValue",n):void 0,K=l!=null?t.resolveColumnById(this,"xFilterValue",n):void 0,q=c!=null?t.resolveColumnById(this,"yFilterValue",n):void 0,te=d!=null?t.resolveColumnById(this,"sizeFilterValue",n):void 0;let re;f?re=[]:a?re=t.getDomain(this,"sizeValue","value",n):re=[];const X=P.scale,ne=N.scale,Z=(X.bandwidth??0)/2,Se=(ne.bandwidth??0)/2,U=[];i.range=[x.size,x.maxSize];const ie=Eg.getMeasurer({font:S}),ve=n.dataSources.get(this.id);if(ve==null)return;const J=QC(S),he=(we,Me,Ce)=>{const je=ve[we],Ye=B[we],Ge=z[we],We=W==null?void 0:W[we],it=X.convert(Ye)+Z,$e=ne.convert(Ge)+Se;let mt;K!=null&&q!=null&&(mt=K[we]===Ye&&q[we]===Ge,te!=null&&mt&&(mt=te[we]===We));let Ht;if(A){let St,Ze,et;f&&Y?(St=Y[we],Ze=f,et="label"):a?(St=We,Ze=a,et="size"):(St=Ge,Ze=o,et="y");const lt=this.getLabelText(St,je,Ze,et,re,S,{value:St,datum:je,xKey:r,yKey:o,sizeKey:a,labelKey:f,xName:g,yName:y,sizeName:v,labelName:w}),vt=ie.measureText(String(lt));vt.width+=J.left+J.right,vt.height+=J.bottom+J.top,Ht={text:lt,...vt}}else Ht={text:"",width:0,height:0};const st=We!=null?i.convert(We):x.size;U.push({series:this,itemId:o,yKey:o,xKey:r,datum:je,datumIndex:we,xValue:Ye,yValue:Ge,sizeValue:We,capDefaults:{lengthRatioMultiplier:x.getDiameter(),lengthMax:1/0},point:{x:it,y:$e,size:Math.sqrt(Ce)*st},midPoint:{x:it,y:$e},label:Ht,anchor:I,placement:k,count:Me,dilation:Ce,selected:mt})},{dataAggregation:Ee}=this;if(Ee==null)for(let we=0;we<ve.length;we++)he(we,1,1);else{const we=this.aggregationOptions(P,N),Me=mMe(Ee,we,M),{groupedAggregation:Ce,singleDatumIndices:je}=yMe(Me,Ee,we);for(const{datumIndex:Ye,count:Ge,dilation:We}of Ce)he(Ye,Ge,We);for(const Ye of je)he(Ye,1,1)}return{itemId:o,nodeData:U,labelData:A?U:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,{sizeKey:i}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());const s=this.properties.marker.enabled?t:[];let r;return i&&(r=o=>nh([o.xValue,o.yValue,o.sizeValue,o.label.text])),n.update(s,void 0,r)}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:s,sizeKey:r,labelKey:o,marker:a}=this.properties;this.sizeScale.range=[a.size,a.maxSize];const l=this.getShapeFillBBox(),c=this.dataAggregation!=null,d={xKey:i,yKey:s,sizeKey:r,labelKey:o};t.each((f,g,y)=>{const{count:v,dilation:w}=g,S=this.getMarkerStyle(a,g,d,n);S.fillOpacity=(1-(1-(S.fillOpacity??1))**v)/Math.sqrt(w),this.applyMarkerStyle(S,f,g.point,l,{selected:g.selected}),f.zIndex=c?[-v,y]:0}),n||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((s,r)=>{var c,d;const o=t||this.isSeriesHighlighted(n),a=this.getHighlightStateString(n,o,r.datumIndex),l=Au(this,r,this.properties,this.properties.label,o,a);s.text=r.label.text,s.fill=l.color,s.x=((c=r.point)==null?void 0:c.x)??0,s.y=((d=r.point)==null?void 0:d.y)??0,s.fontStyle=l.fontStyle,s.fontWeight=l.fontWeight,s.fontSize=l.fontSize,s.fontFamily=l.fontFamily,s.textAlign="left",s.textBaseline="top",s.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,s.setBoxing(l)})}getTooltipContent(e){var K,q;const{id:t,dataModel:n,processedData:i,axes:s,properties:r,ctx:o}=this,{formatManager:a}=o,{xKey:l,xName:c,yKey:d,yName:f,sizeKey:g,sizeName:y,labelKey:v,labelName:w,title:S,tooltip:x,marker:M,legendItemName:A}=r,k=s.x,I=s.y;if(!n||!i||!k||!I)return;const P=(K=i.dataSources.get(this.id))==null?void 0:K[e],N=n.resolveColumnById(this,"xValue",i)[e],B=n.resolveColumnById(this,"yValue",i)[e],z=(q=this.contextNodeData)==null?void 0:q.nodeData[e];if(N==null||z==null)return;const W=[];if(this.isLabelEnabled()&&v!=null){const te=n.resolveColumnById(this,"labelValue",i)[e],re=a.format(this.callWithContext.bind(this),{type:"category",value:te,datum:P,seriesId:t,legendItemName:A,key:v,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});W.push({label:w,fallbackLabel:v,value:re??KC(te)})}if(W.push({label:c,fallbackLabel:l,value:this.getAxisValueText(k,"tooltip",N,P,l,A)},{label:f,fallbackLabel:d,value:this.getAxisValueText(I,"tooltip",B,P,d,A)}),g!=null){const te=n.resolveColumnById(this,"sizeValue",i)[e],re=n.getDomain(this,"sizeValue","value",i),X=a.format(this.callWithContext.bind(this),{type:"number",value:te,datum:P,seriesId:t,legendItemName:A,key:g,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:re,fractionDigits:void 0});W.push({label:y,fallbackLabel:g,value:X??KC(te)})}const Y=this.getMarkerStyle(M,{datum:P,datumIndex:e},{xKey:l,yKey:d,sizeKey:g,labelKey:v,highlighted:!0},!1);return this.formatTooltipWithContext(x,{title:S,symbol:this.legendItemSymbol(),data:W},{seriesId:t,datum:P,title:d,xKey:l,xName:c,yKey:d,yName:f,sizeKey:g,sizeName:y,labelKey:v,labelName:w,...Y,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){const{id:e,ctx:{legendManager:t},visible:n}=this,{yKey:i,yName:s,title:r}=this.properties;return[{legendType:"category",id:e,itemId:i,seriesId:e,enabled:n&&t.getItemEnabled({seriesId:e,itemId:i}),label:{text:r??s??i},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){i9(this,this.ctx.animationManager,e),os(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Fs}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,sizeKey:i,labelKey:s,marker:r}=this.properties;return this.getMarkerStyle(r,e,{xKey:t,yKey:n,sizeKey:i,labelKey:s},!1)}computeFocusBounds(e){return Tk(this,e)}hasItemStylers(){const{itemStyler:e,marker:t,label:n}=this.properties;return!!(e??t.itemStyler??n.itemStyler)}};zD.className="BubbleSeries";zD.type="bubble";var bMe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new zD(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:RD,fillPatternDefaults:hh,fillImageDefaults:Py,fillOpacity:.8,maxRenderedItems:1e4,label:{...yl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kg()}}},h9={type:"series",name:"bubble",chartType:"cartesian",options:sxe,create:e=>new zD(e)},ns=class extends _g{constructor(){super(...arguments),this.fillGradientDefaults=new Ml,this.fillPatternDefaults=new ki,this.fillImageDefaults=new ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new nd,this.label=new es,this.tooltip=jy()}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,cornerRadius:a,opacity:1}}};L([F],ns.prototype,"xKey",2);L([F],ns.prototype,"yKey",2);L([F],ns.prototype,"xName",2);L([F],ns.prototype,"yName",2);L([F],ns.prototype,"fill",2);L([F],ns.prototype,"fillGradientDefaults",2);L([F],ns.prototype,"fillPatternDefaults",2);L([F],ns.prototype,"fillImageDefaults",2);L([F],ns.prototype,"fillOpacity",2);L([F],ns.prototype,"stroke",2);L([F],ns.prototype,"strokeWidth",2);L([F],ns.prototype,"strokeOpacity",2);L([F],ns.prototype,"lineDash",2);L([F],ns.prototype,"lineDashOffset",2);L([F],ns.prototype,"cornerRadius",2);L([F],ns.prototype,"areaPlot",2);L([F],ns.prototype,"bins",2);L([F],ns.prototype,"aggregation",2);L([F],ns.prototype,"binCount",2);L([F],ns.prototype,"shadow",2);L([F],ns.prototype,"label",2);L([F],ns.prototype,"tooltip",2);var Uj=10,Ik=class extends Wy{constructor(e){super({moduleCtx:e,propertyKeys:Lw,propertyNames:Pw,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:EM,label:Vy}}),this.properties=new ns,this.calculatedBins=[]}deriveBins(e){const t=hD(e[0],e[1],Uj).ticks,n=yM(e[0],e[1],Uj),[i]=t,s=r=>[r,r+n];return[[i-n,i],...t.map(s)]}calculateNiceBins(e,t){const n=Math.floor(e[0]),i=e[1],s=t||1,{start:r,binSize:o}=this.calculateNiceStart(n,i,s);return this.getBins(r,i,o,s)}getBins(e,t,n,i){const s=[],r=this.calculatePrecision(n);for(let o=0;o<i;o++){const a=Math.round((e+o*n)*r)/r;let l=Math.round((e+(o+1)*n)*r)/r;o===i-1&&(l=Math.max(l,t)),s[o]=[a,l]}return s}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){const i=Math.abs(t-e)/n,s=Math.floor(Math.log10(i)),r=Math.pow(10,s);return{start:Math.floor(e/r)*r,binSize:i}}async processData(e){var f,g;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:n,areaPlot:i,aggregation:s}=this.properties,r=(f=this.axes.x)==null?void 0:f.scale,o=(g=this.axes.y)==null?void 0:g.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:r}),c=[ug(t,a),EK];if(n){let y=_F("groupAgg");s==="count"||(s==="sum"?y=mK("groupAgg"):s==="mean"&&(y=yK("groupAgg"))),i&&(y=BF("groupAgg",y)),c.push(mi(n,l,{invalidValue:void 0}),y)}else{c.push(xK("count"));let y=_F("groupAgg");i&&(y=BF("groupAgg",y)),c.push(y)}const d=y=>{const v=La(y.domain.keys[0]);if(v.length===0)return y.domain.groups=[],()=>[];const w=bI(this.properties.binCount)?this.calculateNiceBins(v,this.properties.binCount):this.properties.bins??this.deriveBins(v),S=w.length;return this.calculatedBins=[...w],x=>{let M=x[0];if(fw(M)&&(M=M.getTime()),!bI(M))return[];for(let A=0;A<S;A++){const k=w[A];if(M>=k[0]&&M<k[1]||A===S-1&&M<=k[1])return k}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(ND(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:d}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];const i=n.getDomain(this,"groupAgg","aggregate",t),s=(o=this.calculatedBins)==null?void 0:o[0][0],r=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return La(e==="x"?[s,r]:i)}getSeriesRange(e,[t,n]){const{dataModel:i,processedData:s}=this;if(!i||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,o=0;let a=-1/0;return s.groups.forEach(({keys:l,aggregation:c})=>{const[[d,f]=[0,0]]=c,[g,y]=l,[v,w]=Ys([r.convert(g),r.convert(y)]);if(w>=t&&v<=n){const S=d+f;a=Math.max(a,S)}}),o>a?[NaN,NaN]:[o,a]}frequency(e){return e.datumIndices.reduce((t,n)=>t+n.length,0)}createNodeData(){const{axes:e,processedData:t,dataModel:n}=this,i=e.x,s=e.y;if(!i||!s||!n)return;const{scale:r}=i,{scale:o}=s,{xKey:a,yKey:l,xName:c,yName:d,label:f}=this.properties,g=[],y={itemId:this.properties.yKey??this.id,nodeData:g,labelData:g,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||t==null||t.type!=="grouped"||(t.groups.forEach((v,w)=>{const{keys:S,aggregation:x}=v,[[M,A]=[0,0]]=x,k=this.frequency(v),I=S,[P,N]=I,B=[...n.forEachDatum(this,t,v)],z=r.convert(P),W=r.convert(N),Y=M+A,K=o.convert(0),q=o.convert(Y),te=Math.abs(W-z),re=Math.abs(q-K),X=Math.min(z,W),ne=Math.min(K,q);let Z;f.enabled&&Y!==0&&(Z={x:X+te/2,y:ne+re/2,text:this.getLabelText(Y,B,l,"y",[],f,{value:Y,datum:B,xKey:a,yKey:l,xName:c,yName:d})});const Se={x:X+te/2,y:ne+re/2},U=s.isReversed();g.push({series:this,datumIndex:w,datum:B,aggregatedValue:Y,frequency:k,domain:I,yKey:l,xKey:a,x:X,y:ne,xValue:z,yValue:q,width:te,height:re,midPoint:Se,topLeftCornerRadius:!U,topRightCornerRadius:!U,bottomRightCornerRadius:U,bottomLeftCornerRadius:U,label:Z,crisp:!0})}),g.sort((v,w)=>v.x-w.x)),y}nodeFactory(){return new _s}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e;return n.update(t,void 0,i=>i.domain.join("_"))}getItemStyle(e,t){const{properties:n}=this,i=this.getHighlightStyle(e,t==null?void 0:t.datumIndex);return Fu(Rn(i,n.getStyle()),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:n}=this.properties,i=this.getShapeFillBBox();e.datumSelection.each((s,r)=>{const o=this.getItemStyle(t,r),{cornerRadius:a=0}=o,{topLeftCornerRadius:l,topRightCornerRadius:c,bottomRightCornerRadius:d,bottomLeftCornerRadius:f}=r;th(s,o,i),s.topLeftCornerRadius=l?a:0,s.topRightCornerRadius=c?a:0,s.bottomRightCornerRadius=d?a:0,s.bottomLeftCornerRadius=f?a:0,s.crisp=r.crisp,s.fillShadow=n,s.visible=r.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,i=>{i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})}updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each((n,i)=>{const s=Au(this,i,this.properties,this.properties.label),{enabled:r,fontStyle:o,fontWeight:a,fontSize:l,fontFamily:c,color:d}=s;r&&t&&(i!=null&&i.label)?(n.text=i.label.text,n.x=i.label.x,n.y=i.label.y,n.fontStyle=o,n.fontWeight=a,n.fontFamily=c,n.fontSize=l,n.fill=d,n.visible=!0,n.fillOpacity=this.getHighlightStyle(!1,i.datumIndex).opacity??1,n.setBoxing(s)):n.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t instanceof jt&&dG(e,t.children())}pickNodeClosestDatum(e){return XI(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:s,properties:r,ctx:{localeManager:o}}=this,{xKey:a,xName:l,yKey:c,yName:d,tooltip:f,legendItemName:g}=r,y=s.x,v=s.y;if(!n||(i==null?void 0:i.type)!=="grouped"||!y||!v)return;const w=i.groups[e],{aggregation:S,keys:x}=w,[[M,A]=[0,0]]=S,k=this.frequency(w),I=x,[P,N]=I,B=M+A,z={data:[...n.forEachDatum(this,i,w)],aggregatedValue:B,frequency:k,domain:I},W=[{label:l,fallbackLabel:a,value:`${this.getAxisValueText(y,"tooltip",P,z,a,g)} - ${this.getAxisValueText(y,"tooltip",N,z,a,g)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(v,"tooltip",k,z,c,g)}];if(c!=null){let Y;switch(r.aggregation){case"sum":Y=o.t("seriesHistogramTooltipSum",{yName:d??c});break;case"mean":Y=o.t("seriesHistogramTooltipMean",{yName:d??c});break;case"count":Y=o.t("seriesHistogramTooltipCount",{yName:d??c});break}W.push({label:Y,value:this.getAxisValueText(v,"tooltip",B,z,c,g)})}return this.formatTooltipWithContext(f,{symbol:this.legendItemSymbol(),data:W},{seriesId:t,datum:z,title:d,xKey:a,xName:l,yKey:c,yName:d,xRange:[P,N],frequency:k,...this.getItemStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:Fu({fill:e??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:s,strokeWidth:i,lineDash:r,lineDashOffset:o},a,l,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{xKey:s,yName:r,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:s}),label:{text:r??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const n=JI(QI(!0,this.axes,"normal"));Os(this.id,"datums",this.ctx.animationManager,[e],n),os(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(e)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return gG(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}hasItemStylers(){return this.properties.label.itemStyler!=null}};Ik.className="HistogramSeries";Ik.type="histogram";var CMe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new Ik(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:bw,fillPatternDefaults:hh,fillImageDefaults:Py,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{...yl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},shadow:{enabled:!1,color:Ig,xOffset:3,yOffset:3,blur:5},highlight:kg()}}},f9={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:rxe,create:e=>new Ik(e)},Bs=class extends _g{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ow,this.marker=new or,this.label=new es,this.tooltip=jy(),this.connectMissingData=!1,this.sparklineMode=!1}};L([F],Bs.prototype,"xKey",2);L([F],Bs.prototype,"yKey",2);L([F],Bs.prototype,"xName",2);L([F],Bs.prototype,"yName",2);L([F],Bs.prototype,"yFilterKey",2);L([F],Bs.prototype,"stackGroup",2);L([F],Bs.prototype,"normalizedTo",2);L([F],Bs.prototype,"title",2);L([F],Bs.prototype,"stroke",2);L([F],Bs.prototype,"strokeWidth",2);L([F],Bs.prototype,"strokeOpacity",2);L([F],Bs.prototype,"lineDash",2);L([F],Bs.prototype,"lineDashOffset",2);L([F],Bs.prototype,"interpolation",2);L([F],Bs.prototype,"marker",2);L([F],Bs.prototype,"label",2);L([F],Bs.prototype,"tooltip",2);L([F],Bs.prototype,"connectMissingData",2);L([F],Bs.prototype,"sparklineMode",2);var wMe=.25,SMe=sD(n9),HD=class extends Wy{constructor(e){super({moduleCtx:e,propertyKeys:Lw,propertyNames:Pw,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:cG({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Vy,datum:(t,n)=>({...Rk(),...TM(t,n)})},clipFocusBox:!1}),this.properties=new Bs,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var I,P;if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:s=0}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),f=(I=this.axes.x)==null?void 0:I.scale,g=(P=this.axes.y)==null?void 0:P.scale,{isContinuousX:y,xScaleType:v,yScaleType:w}=this.getScaleInformation({xScale:f,yScale:g}),S=s>1||c!=null,x={invalidValue:null};l&&S&&(x.invalidValue=0),S&&!n&&(x.forceValue=0);const M=[];if((!y||S)&&M.push(ug(r,v,{id:"xKey"})),M.push(mi(r,v,{id:"xValue"}),mi(o,w,{id:"yValueRaw",...x,invalidValue:void 0})),a!=null&&M.push(mi(a,w,{id:"yFilterRaw"})),S){const N=[`line-stack-${i}-yValues`,`line-stack-${i}-yValues-trailing`,`line-stack-${i}-yValues-marker`];M.push(...dg(o,"window","current",{id:"yValueEnd",...x,groupId:N[0]},w),...dg(o,"window-trailing","current",{id:"yValueStart",...x,groupId:N[1]},w),...dg(o,"normal","current",{id:"yValueCumulative",...x,groupId:N[2]},w)),E0(c)&&M.push(wk([N[0],N[1],N[2]],c))}d&&(M.push(OD(y?["xValue"]:void 0)),this.processedData&&M.push(ND(this.id,this.processedData)));const{dataModel:A,processedData:k}=await this.requestDataModel(e,t,{props:M,groupByKeys:S,groupByData:!S});this.dataAggregationFilters=this.aggregateData(A,k),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),s=n.enabled?.5*n.size*t:0;return[i-s,i+s]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),s=n.enabled?.5*n.size*t:0;return[i-s,i+s]}getSeriesDomain(e){var r;const{dataModel:t,processedData:n}=this;if(!t||!n)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",n);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:La(Pg(a))}const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",s=this.domainForClippedRange("y",[i],"xValue");return La(s)}getSeriesRange(e,t){var i;const n=(i=this.dataModel)!=null&&i.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",t)}getVisibleItems(e,t,n){var s;const i=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if(t.type!=="ungrouped"||Mw(t))return;const n=this.axes.x;if(n==null)return;const{scale:i}=n,s=e.resolveColumnById(this,"xValue",t),r=e.resolveColumnById(this,"yValueRaw",t),o=e.getDomain(this,"xValue","value",t);return SMe(i.type,s,r,o)}createNodeData(){var Me;const{dataModel:e,processedData:t,axes:n,dataAggregationFilters:i}=this,s=n.x,r=n.y;if(!e||!t||!s||!r)return;const{xKey:o,yKey:a,yFilterKey:l,xName:c,yName:d,marker:f,label:g,connectMissingData:y,interpolation:v,legendItemName:w}=this.properties,S=(Me=this.dataModel)==null?void 0:Me.hasColumnById(this,"yValueEnd"),x=s.scale,M=r.scale,A=(x.bandwidth??0)/2,k=(M.bandwidth??0)/2,I=f.enabled?f.size:0,P=t.dataSources.get(this.id)??[],N=e.resolveColumnById(this,"xValue",t),B=e.resolveColumnById(this,"yValueRaw",t),z=S?e.resolveColumnById(this,"yValueEnd",t):void 0,W=S?e.resolveColumnById(this,"yValueCumulative",t):B,Y=l!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,K=this.getSeriesDomain("y"),q={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},te=[],re=[],X=Ce=>{const je=P[Ce],Ye=N[Ce],Ge=B[Ce],We=z==null?void 0:z[Ce],it=Y==null?void 0:Y[Ce],$e=x.convert(Ye)+A,mt=M.convert(W[Ce])+k;if(!Number.isFinite($e))return;if(Ge!=null){const st=g.enabled?this.getLabelText(Ge,je,a,"y",K,g,{value:Ge,datum:je,xKey:o,yKey:a,xName:c,yName:d,legendItemName:w}):void 0;te.push({series:this,datum:je,datumIndex:Ce,yKey:a,xKey:o,point:{x:$e,y:mt,size:I},midPoint:{x:$e,y:mt},cumulativeValue:We,yValue:Ge,xValue:Ye,capDefaults:q,labelText:st,selected:it})}const Ht=re[re.length-1];if(Ge!=null){const st={point:{x:$e,y:mt},xDatum:Ye,yDatum:Ge};Array.isArray(Ht)?Ht.push(st):Ht!=null?(Ht.skip+=1,re.push([st])):re.push([st])}else y||(Array.isArray(Ht)||Ht==null?re.push({skip:0}):Ht.skip+=1)},[ne,Z]=x.range,Se=Math.abs(Z-ne),U=i==null?void 0:i.find(Ce=>Ce.maxRange>Se),ie=U==null?void 0:U.indices;let[ve,J]=this.visibleRangeIndices("xValue",s.range,ie);ve=Math.max(ve-1,0),J=Math.min(J+1,(ie==null?void 0:ie.length)??N.length),t.input.count<1e3&&(ve=0,J=t.input.count);for(let Ce=ve;Ce<J;Ce+=1)X((ie==null?void 0:ie[Ce])??Ce);const he=re.flatMap(Ce=>Array.isArray(Ce)?KI(Ce,v):[]),Ee={itemId:a,spans:he},we=(Y==null?void 0:Y.some((Ce,je)=>Ce===B[je]))??!1;return{itemId:a,nodeData:te,labelData:te,strokeData:Ee,scales:this.calculateScaling(),visible:this.visible,crossFiltering:we}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var f;const{paths:[t],visible:n,animationEnabled:i}=e,s=((f=this.contextNodeData)==null?void 0:f.crossFiltering)===!0,{strokeWidth:r,stroke:o,strokeOpacity:a,lineDash:l,lineDashOffset:c,opacity:d}=Rn(this.getHighlightStyle(),this.properties);t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:d,stroke:o,strokeWidth:r,strokeOpacity:a*(s?wMe:1),lineDash:l,lineDashOffset:c}),i||(t.visible=n),ZI(this,t)}updateDatumSelection(e){var s;let{nodeData:t}=e;const{datumSelection:n}=e;return t=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,r=>nh(r.xValue))}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:s,marker:r,stroke:o,strokeWidth:a,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),d=this.getSeriesDomain("y"),f=this.ctx.animationManager.isSkipped(),g=this.getShapeFillBBox();t.each((y,v)=>{const{xValue:w,yValue:S}=v,x=cg(w,S,i,s,c,d),M=this.getMarkerStyle(r,v,x,n,void 0,{stroke:o,strokeWidth:a,strokeOpacity:l});this.applyMarkerStyle(M,y,v.point,g,{applyTranslation:f,selected:v.selected})}),n||r.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((s,r)=>{const o=t||this.isSeriesHighlighted(n),a=this.getHighlightStateString(n,o,r.datumIndex),l=Au(this,r,this.properties,this.properties.label,o,a),{enabled:c,fontStyle:d,fontWeight:f,fontSize:g,fontFamily:y,color:v}=l;c&&(r!=null&&r.labelText)?(s.fontStyle=d,s.fontWeight=f,s.fontSize=g,s.fontFamily=y,s.textAlign="center",s.textBaseline="bottom",s.text=r.labelText,s.x=r.point.x,s.y=r.point.y-10,s.fill=v,s.visible=!0,s.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,s.setBoxing(l)):s.visible=!1})}getTooltipContent(e){var I;const{id:t,dataModel:n,processedData:i,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:c,tooltip:d,legendItemName:f}=r,g=s.x,y=s.y;if(!n||!i||!g||!y)return;const v=(I=i.dataSources.get(this.id))==null?void 0:I[e],w=n.resolveColumnById(this,"xValue",i)[e],S=n.resolveColumnById(this,"yValueRaw",i)[e];if(w==null)return;const x=this.getSeriesDomain("x"),M=this.getSeriesDomain("y"),A=cg(w,S,o,l,x,M),k=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:v},A,!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(g,"tooltip",w,v,o,f),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(y,"tooltip",S,v,l,f)}]},{seriesId:t,datum:v,title:c,xKey:o,xName:a,yKey:l,yName:c,...k,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:s,marker:r}=this.properties;return{marker:{...this.getMarkerStyle(r,{},void 0,!1,{size:r.size,fill:r.fill??e,stroke:r.stroke??t??e},void 0,!1),enabled:r.enabled},line:{stroke:t??e,strokeOpacity:n,strokeWidth:i,lineDash:s}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:s,yName:r,title:o,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:s,legendItemName:a,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:s}),label:{text:a??o??r??s},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const n=t.strokeData.spans,[i]=e;i.path.clear(),JB(i,n),i.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:s,paths:r}=e,{animationManager:o}=this.ctx;this.updateLinePaths(r,s),lG(this,o,...r),Mr([t],TM),aG(this,o,t),os(this,"labels",o,n),os(this,"annotations",o,...i)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var g,y,v;const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,annotationSelections:s,contextData:r,paths:o,previousContextData:a}=e,[l]=o;if(r.visible===!1&&(a==null?void 0:a.visible)===!1)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,r)},d=()=>{t.skipCurrentBatch(),c()};if(r==null||a==null){c(),RM(this,t,"added",n),qI(this,"path_properties",t,"add",l),os(this,"labels",t,i),os(this,"annotations",t,...s);return}if(r.crossFiltering!==a.crossFiltering){d();return}const f=Q8(r,a,(v=(y=(g=this.processedData)==null?void 0:g.reduced)==null?void 0:y.diff)==null?void 0:v[this.id]);if(f===void 0){d();return}else if(f.status==="no-op")return;Os(this.id,"path_properties",t,[l],f.stroke.pathProperties),f.status==="added"?this.updateLinePaths(o,r):f.status==="removed"?this.updateLinePaths(o,a):$I(this.id,"path_update",t,[l],f.stroke.path),f.hasMotion&&(RM(this,t,void 0,n),os(this,"labels",t,i),os(this,"annotations",t,...s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Fs}getFormattedMarkerStyle(e){const{xKey:t,yKey:n}=this.properties,{xValue:i,yValue:s}=e,r=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,cg(i,s,t,n,r,o),!0)}computeFocusBounds(e){return Tk(this,e)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};HD.className="LineSeries";HD.type="line";var g9={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new HD(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:dk,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:RD,fillPatternDefaults:hh,fillImageDefaults:Py},label:{...yl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kg()}}},p9={type:"series",name:"line",chartType:"cartesian",options:Mk,create:e=>new HD(e)},kk=class extends zD{};kk.className="ScatterSeries";kk.type="scatter";var xMe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new kk(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:RD,fillPatternDefaults:hh,fillImageDefaults:Py,fillOpacity:.8,maxRenderedItems:1e4,label:{...yl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kg()}}},m9={type:"series",name:"scatter",chartType:"cartesian",options:oxe,create:e=>new kk(e)},y9=class ZF{constructor(t,n,i,s){this.startAngle=t,this.endAngle=n,this.innerRadius=i,this.outerRadius=s}clone(){const{startAngle:t,endAngle:n,innerRadius:i,outerRadius:s}=this;return new ZF(t,n,i,s)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[A1](t,n){return new ZF(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function v9({startAngle:e,endAngle:t,innerRadius:n,outerRadius:i}){let s=1/0,r=1/0,o=-1/0,a=-1/0;const l=(c,d)=>{s=Math.min(c,s),r=Math.min(d,r),o=Math.max(c,o),a=Math.max(d,a)};return l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),Sm(0,e,t)&&l(i,0),Sm(Math.PI*.5,e,t)&&l(0,i),Sm(Math.PI,e,t)&&l(-i,0),Sm(Math.PI*1.5,e,t)&&l(0,-i),new Xe(s,r,o-s,a-r)}function XF(e,t,n){const i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:r}=n;if(n.startAngle===n.endAngle||i<Math.min(s,r)||i>Math.max(s,r))return!1;const o=RI(n.startAngle),a=RI(n.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function MMe(e,t,n,i,s,r,o,a,l,c){if(isNaN(e)||isNaN(t))return 0;[s,i]=[i,s];const d=(c-a)/(l-o),f=a-d*o,g=Math.pow(d,2)+1,y=2*(d*(f-t)-e),v=Math.pow(e,2)+Math.pow(f-t,2)-Math.pow(n,2),w=Math.pow(y,2)-4*g*v;if(w<0)return 0;const S=(-y+Math.sqrt(w))/2/g,x=(-y-Math.sqrt(w))/2/g;let M=0;return[S,x].forEach(A=>{if(!(A>=Math.min(o,l)&&A<=Math.max(o,l)))return;const I=d*A+f,P=A-e,N=I-t,B=Math.atan2(N,P);Sm(B,i,s)&&M++}),M}function $j(e,t){const{startAngle:n,endAngle:i,innerRadius:s,outerRadius:r}=t,o={x:r*Math.cos(n),y:r*Math.sin(n)},a={x:r*Math.cos(i),y:r*Math.sin(i)},l=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)},c=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)};return k0(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||k0(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||MMe(0,0,r,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function DMe(e,t){const n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return $j({start:n,end:i},t)||$j({start:s,end:r},t)}function Yj(e,t,n,i){if(n===0&&i===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*i)/(e+1*i))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const l=(r+o)/2;Math.asin(Math.abs(l*n)/(e+l*n))+Math.asin(Math.abs(l*i)/(e+l*i))-t<0?r=l:o=l}return r}var AMe=1e-6;function hg(e,t){return E1(e,t)<AMe?t:Cs(e-t)+t}function XT(e,t,n=0){const s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Cs(t-e);return e=hg(e,n),t=e+s,{startAngle:e,endAngle:t}}function QT(e,t,n,i,s,r){const o=Math.sin(r),a=Math.cos(r),l=e**2+t**2-n**2;let c,d,f,g;if(a>.5){const A=o/a,k=1+A**2,I=-2*(e+t*A),P=I**2-4*k*l;if(P<0)return;const N=(-I+Math.sqrt(P))/(2*k),B=(-I-Math.sqrt(P))/(2*k);c=N,d=N*A,f=B,g=B*A}else{const A=a/o,k=1+A**2,I=-2*(t+e*A),P=I**2-4*k*l;if(P<0)return;const N=(-I+Math.sqrt(P))/(2*k),B=(-I-Math.sqrt(P))/(2*k);c=N*A,d=N,f=B*A,g=B}const y=a,v=o,w=c*y+d*v,S=f*y+g*v,x=w>0?hg(Math.atan2(d-t,c-e),i):NaN,M=S>0?hg(Math.atan2(g-t,f-e),i):NaN;if(x>=i&&x<=s)return x;if(M>=i&&M<=s)return M}function JT(e,t,n,i,s,r){const o=Math.hypot(e,t),a=(o**2-n**2+r**2)/(2*o),l=o-a,c=Math.atan2(t,e),d=Math.acos(-l/n),f=hg(c+d,i),g=hg(c-d,i);if(f>=i&&f<=s)return f;if(g>=i&&g<=s)return g}var BO=class{constructor(e,t,n,i,s){this.cx=e,this.cy=t,this.r=n,this.a0=i,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Er=class extends oo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return v9(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:n}=this;return t=t>0?t+e:0,n=Math.max(n-e,0),{innerRadius:t,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:n}=XT(this.startAngle,this.endAngle),{innerRadius:i,outerRadius:s}=this.normalizedRadii(),r=XT(e.startAngle,e.endAngle,t);return new y9(Math.max(t,r.startAngle),Math.min(n,r.endAngle),Math.max(i,e.innerRadius),Math.min(s,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,i,s,r,o,a){if(e<=0)return;const{startAngle:l,endAngle:c}=XT(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector();if(a&&d<=0)return;const y=a?this.getAngleOffset(d+e):this.getAngleOffset(f-e),v=o?l+y+t:c-y-t,w=a?d+e:f-e,S=w*Math.cos(v),x=w*Math.sin(v);if(g!=null&&(!o&&!(v>=l-1e-6&&v<=g.endAngle-1e-6)||o&&!(v>=g.startAngle+1e-6&&v<=c-1e-6)||a&&w<g.innerRadius-1e-6||!a&&w>g.outerRadius+1e-6))return;const M=new BO(S,x,e,n,i);if(g!=null){a?(M.clipStart(QT(S,x,e,n,i,g.endAngle)),M.clipEnd(QT(S,x,e,n,i,g.startAngle))):(M.clipStart(QT(S,x,e,n,i,g.startAngle)),M.clipEnd(QT(S,x,e,n,i,g.endAngle)));let N,B;if(o?(N=JT(S,x,e,n,i,g.innerRadius),B=JT(S,x,e,n,i,g.outerRadius)):(N=JT(S,x,e,n,i,g.outerRadius),B=JT(S,x,e,n,i,g.innerRadius)),M.clipStart(N),M.clipEnd(B),N!=null){const{x:z,y:W}=M.pointAt(N),Y=hg(Math.atan2(W,z),l);o?r==null||r.clipStart(Y):s.clipEnd(Y)}if(B!=null){const{x:z,y:W}=M.pointAt(B),Y=hg(Math.atan2(W,z),l);o?s.clipStart(Y):r==null||r.clipEnd(Y)}}if(g!=null){const{x:N,y:B}=M.pointAt((M.a0+M.a1)/2);if(!XF(N,B,g))return}const{x:A,y:k}=M.pointAt(o===a?M.a0:M.a1),I=hg(Math.atan2(k,A),l),P=a?r:s;return o?P==null||P.clipStart(I):P==null||P.clipEnd(I),M}updatePath(){const{path:t,centerX:n,centerY:i,concentricEdgeInset:s,radialEdgeInset:r}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:d,endAngle:f}=XT(this.startAngle,this.endAngle),{innerRadius:g,outerRadius:y}=this.normalizedRadii(),v=this.normalizedClipSector(),w=f-d,S=w>=2*Math.PI-1e-6;if(t.clear(),g===0&&y===0||g>y)return;if(((v==null?void 0:v.startAngle)??d)===((v==null?void 0:v.endAngle)??f))return;if(S&&this.clipSector==null&&o===0&&a===0&&l===0&&c===0){t.moveTo(n+y*Math.cos(d),i+y*Math.sin(d)),t.arc(n,i,y,d,f),g>s&&(t.moveTo(n+g*Math.cos(f),i+g*Math.sin(f)),t.arc(n,i,g,f,d,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(g-y)<1e-6){t.arc(n,i,y,d,f,!1),t.arc(n,i,y,f,d,!0),t.closePath();return}const x=this.getAngleOffset(g),M=this.getAngleOffset(y);if(w<2*M)return;const k=((v==null?void 0:v.innerRadius)??g)>s,I=g<s||w<2*x,P=y-g,N=Math.max(o,l,a,c),B=N>0?Math.min(P/N,1):1;o*=B,a*=B,l*=B,c*=B;const z=Yj(y,w-2*M,-o,-a);if(o*=z,a*=z,!I&&k){const Ce=Yj(g,w-2*x,l,c);l*=Ce,c*=Ce}else l=0,c=0;const W=Math.max(o+l,a+c),Y=W>0?Math.min(P/W,1):1;o*=Y,a*=Y,l*=Y,c*=Y;let K=0,q=0;const te=o/(y-o),re=a/(y-a);if(te>=0&&te<1-1e-6)K=Math.asin(te);else{K=w/2;const Ce=y/(1/Math.sin(K)+1);o=Math.min(Ce,o)}if(re>=0&&re<1-1e-6)q=Math.asin(re);else{q=w/2;const Ce=y/(1/Math.sin(q)+1);a=Math.min(Ce,a)}const X=Math.asin(l/(g+l)),ne=Math.asin(c/(g+c)),Z=(v==null?void 0:v.outerRadius)??y,Se=this.getAngleOffset(Z),U=new BO(0,0,Z,d+Se,f-Se),ie=(v==null?void 0:v.innerRadius)??g,ve=this.getAngleOffset(ie),J=k?new BO(0,0,ie,d+ve,f-ve):void 0;v!=null&&(U.clipStart(v.startAngle),U.clipEnd(v.endAngle),J==null||J.clipStart(v.startAngle),J==null||J.clipEnd(v.endAngle));const he=this.arc(o,K,d-Math.PI*.5,d+K,U,J,!0,!1),Ee=this.arc(a,q,f-q,f+Math.PI*.5,U,J,!1,!1),we=this.arc(c,ne,f+Math.PI*.5,f+Math.PI-ne,U,J,!1,!0),Me=this.arc(l,X,d+Math.PI+X,d+Math.PI*1.5,U,J,!0,!0);if(I){const Ce=w<Math.PI*.5?r*(1+Math.cos(w))/Math.sin(w):NaN;let je;Ce>0&&Ce<y?je=Math.max(Math.hypot(r,Ce),g):je=r,je=Math.max(je,g);const Ye=d+w*.5;t.moveTo(n+je*Math.cos(Ye),i+je*Math.sin(Ye))}else if(!((Me==null?void 0:Me.isValid())===!0||(J==null?void 0:J.isValid())===!0)){const Ce=d+w/2,je=g*Math.cos(Ce),Ye=g*Math.sin(Ce);t.moveTo(n+je,i+Ye)}if((he==null?void 0:he.isValid())===!0){const{cx:Ce,cy:je,r:Ye,a0:Ge,a1:We}=he;t.arc(n+Ce,i+je,Ye,Ge,We)}if(U.isValid()){const{r:Ce,a0:je,a1:Ye}=U;t.arc(n,i,Ce,je,Ye)}if((Ee==null?void 0:Ee.isValid())===!0){const{cx:Ce,cy:je,r:Ye,a0:Ge,a1:We}=Ee;t.arc(n+Ce,i+je,Ye,Ge,We)}if(!I){if((we==null?void 0:we.isValid())===!0){const{cx:Ce,cy:je,r:Ye,a0:Ge,a1:We}=we;t.arc(n+Ce,i+je,Ye,Ge,We)}if((J==null?void 0:J.isValid())===!0){const{r:Ce,a0:je,a1:Ye}=J;t.arc(n,i,Ce,Ye,je,!0)}if((Me==null?void 0:Me.isValid())===!0){const{cx:Ce,cy:je,r:Ye,a0:Ge,a1:We}=Me;t.arc(n+Ce,i+je,Ye,Ge,We)}}t.closePath()}isPointInPath(e,t){const{startAngle:n,endAngle:i,innerRadius:s,outerRadius:r}=this.clipSector??this;return XF(e-this.centerX,t-this.centerY,{startAngle:n,endAngle:i,innerRadius:Math.min(s,r),outerRadius:Math.max(s,r)})}};Er.className="Sector";L([Be()],Er.prototype,"centerX",2);L([Be()],Er.prototype,"centerY",2);L([Be()],Er.prototype,"innerRadius",2);L([Be()],Er.prototype,"outerRadius",2);L([Be()],Er.prototype,"startAngle",2);L([Be()],Er.prototype,"endAngle",2);L([Ba({})],Er.prototype,"clipSector",2);L([Be()],Er.prototype,"concentricEdgeInset",2);L([Be()],Er.prototype,"radialEdgeInset",2);L([Be()],Er.prototype,"startOuterCornerRadius",2);L([Be()],Er.prototype,"endOuterCornerRadius",2);L([Be()],Er.prototype,"startInnerCornerRadius",2);L([Be()],Er.prototype,"endInnerCornerRadius",2);var b9=class extends Gi{constructor(){super(...arguments),this.showInLegend=!1}};L([F],b9.prototype,"showInLegend",2);var mG=class extends es{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};L([F],mG.prototype,"text",2);L([F],mG.prototype,"spacing",2);var yG=class extends It{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};L([F],yG.prototype,"fill",2);L([F],yG.prototype,"fillOpacity",2);var Nw=class extends es{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};L([F],Nw.prototype,"offset",2);L([F],Nw.prototype,"minAngle",2);L([F],Nw.prototype,"minSpacing",2);L([F],Nw.prototype,"maxCollisionOffset",2);L([F],Nw.prototype,"avoidCollisions",2);var vG=class extends es{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};L([F],vG.prototype,"positionOffset",2);L([F],vG.prototype,"positionRatio",2);var Lk=class extends It{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};L([F],Lk.prototype,"colors",2);L([F],Lk.prototype,"length",2);L([F],Lk.prototype,"strokeWidth",2);var an=class extends Dl{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(bs),this.strokes=Object.values(Gd),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new eD(mG),this.title=new b9,this.innerCircle=new yG,this.shadow=new nd,this.calloutLabel=new Nw,this.sectorLabel=new vG,this.calloutLine=new Lk,this.tooltip=jy()}};L([F],an.prototype,"angleKey",2);L([F],an.prototype,"angleName",2);L([F],an.prototype,"angleFilterKey",2);L([F],an.prototype,"radiusKey",2);L([F],an.prototype,"radiusName",2);L([F],an.prototype,"radiusMin",2);L([F],an.prototype,"radiusMax",2);L([F],an.prototype,"calloutLabelKey",2);L([F],an.prototype,"calloutLabelName",2);L([F],an.prototype,"sectorLabelKey",2);L([F],an.prototype,"sectorLabelName",2);L([F],an.prototype,"legendItemKey",2);L([F],an.prototype,"defaultColorRange",2);L([F],an.prototype,"defaultPatternFills",2);L([F],an.prototype,"fills",2);L([F],an.prototype,"strokes",2);L([F],an.prototype,"fillOpacity",2);L([F],an.prototype,"strokeOpacity",2);L([F],an.prototype,"lineDash",2);L([F],an.prototype,"lineDashOffset",2);L([F],an.prototype,"cornerRadius",2);L([F],an.prototype,"itemStyler",2);L([F],an.prototype,"rotation",2);L([F],an.prototype,"outerRadiusOffset",2);L([F],an.prototype,"outerRadiusRatio",2);L([F],an.prototype,"innerRadiusOffset",2);L([F],an.prototype,"innerRadiusRatio",2);L([F],an.prototype,"strokeWidth",2);L([F],an.prototype,"sectorSpacing",2);L([F],an.prototype,"hideZeroValueSectorsInLegend",2);L([F],an.prototype,"innerLabels",2);L([F],an.prototype,"title",2);L([F],an.prototype,"innerCircle",2);L([F],an.prototype,"shadow",2);L([F],an.prototype,"calloutLabel",2);L([F],an.prototype,"sectorLabel",2);L([F],an.prototype,"calloutLine",2);L([F],an.prototype,"tooltip",2);function BE(e,t,n,i){const s=[n.convert(0),n.convert(1)],r=[i.convert(0),i.convert(1)],o=Math.PI/-2+Ar(t),a=e?"initial":"update",l=({radius:v})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*v}),c=({radius:v})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*v});return{nodes:{toFn:(v,w,S,{prevLive:x})=>{var B,z;let{startAngle:M,endAngle:A,innerRadius:k,outerRadius:I}=w;const{stroke:P,fill:N}=w.sectorFormat;if(S==="removed"&&x?(M=(B=x.datum)==null?void 0:B.endAngle,A=(z=x.datum)==null?void 0:z.endAngle):S==="removed"&&!x&&(M=o,A=o),S==="removed"){const W=l(w);k=W.innerRadius,I=W.outerRadius}return{startAngle:M,endAngle:A,outerRadius:I,innerRadius:k,stroke:P,fill:N}},fromFn:(v,w,S,{prevFromProps:x})=>{let{startAngle:M,endAngle:A,innerRadius:k,outerRadius:I}=v,{fill:P,stroke:N}=w.sectorFormat;if(S==="updated"&&v.previousDatum==null&&(S="added"),S==="unknown"||S==="added"&&!x?(M=o,A=o,k=w.innerRadius,I=w.outerRadius):S==="added"&&x&&(M=x.endAngle??o,A=x.endAngle??o,k=x.innerRadius??w.innerRadius,I=x.outerRadius??w.outerRadius),S==="added"&&!e){const B=c(w);k=B.innerRadius,I=B.outerRadius}return S==="updated"&&(P=v.fill??P,N=(typeof v.stroke=="string"?v.stroke:void 0)??N),{startAngle:M,endAngle:A,innerRadius:k,outerRadius:I,fill:P,stroke:N,phase:a}}},innerCircle:{fromFn:(v,w)=>{var S;return{size:((S=v.previousDatum)==null?void 0:S.radius)??v.size??0,phase:a}},toFn:(v,w)=>({size:w.radius??0})}}}function C9(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function w9(e,t){const n=t.y-e.centerY,i=t.x-e.centerX,s=Math.atan2(n,i),r=e.getItemNodes();for(const o of r)if(o.datum.missing!==!0&&Sm(s,o.startAngle,o.endAngle)){const a=Math.sqrt(i*i+n*n);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var S9=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(S9||{}),x9={angle:["angleKey"],radius:["radiusKey"]},M9={angle:["angleName"],radius:["radiusName"]},bG=class extends ZB{constructor({categoryKey:e,pickModes:t=[1,0],canHaveAxes:n=!1,animationResetFns:i,...s}){super({...s,categoryKey:e,pickModes:t,canHaveAxes:n}),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new jt),this.nodeData=[],this.itemSelection=no.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=no.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=no.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=i,this.animationState=new oD("empty",{empty:{update:{target:"ready",action:r=>this.animateEmptyUpdateReady(r)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:r=>this.animateReadyHighlight(r),highlightMarkers:r=>this.animateReadyHighlightMarkers(r),resize:r=>this.animateReadyResize(r),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:r=>this.animateWaitingUpdateReady(r)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:r=>this.animateClearingUpdateEmpty(r)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(e){super.setZIndex(e),this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3]}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new Ea;return e.pointerEvents=1,e}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new Xe(-e,-e,e*2,e*2),axis:new Xe(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Mr([this.itemSelection,this.highlightSelection],e),t&&Mr([this.labelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t}=this.animationResetFns??{};t&&Mr([this.highlightSelection],t)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var n;const t=(n=this.getNodeData())==null?void 0:n[e.datumIndex];if(t!==void 0)return this.itemSelection.select(i=>i instanceof oo&&i.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}isSeriesHighlighted(e,t){const{series:n,legendItemName:i,itemId:s}=e??{},r=t==null?void 0:t[s];return n===this||r!=null&&r===i}},RMe=class extends ek{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},VD=class extends bG{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{...x9,sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]},propertyNames:{...M9,sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]},pickModes:[1,0],animationResetFns:{item:C9,label:Vy}}),this.properties=new an,this.phantomNodeData=void 0,this.backgroundGroup=new to({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new $m,this.radiusScale=new $m,this.phantomGroup=this.backgroundGroup.appendChild(new jt({name:"phantom"})),this.phantomSelection=no.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new jt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new no(this.calloutLabelGroup,jt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new jt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Fs({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Fs({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new jt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new jt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=no.select(this.innerLabelsGroup,Ea),this.innerCircleSelection=no.select(this.innerCircleGroup,()=>new Fs({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=RMe,this.angleScale=new $m,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e==null||e.removeChild(this.backgroundGroup)}setZIndex(e){super.setZIndex(e),this.backgroundGroup.zIndex=[0,e]}nodeFactory(){const e=new Er;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="angle"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var S,x,M,A,k;if(this.data==null)return;const{visible:t,id:n,ctx:{legendManager:i}}=this,{angleKey:s,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c}=this.properties,d=()=>(I,P)=>t&&i.getItemEnabled({seriesId:n,itemId:P})?I:0,f=!this.ctx.animationManager.isSkipped(),g=[],y=[];c?g.push(ug(c,"category",{id:"legendItemKey"})):a?g.push(ug(a,"category",{id:"calloutLabelKey"})):l&&g.push(ug(l,"category",{id:"sectorLabelKey"}));const v=this.radiusScale.type,w=this.angleScale.type;o&&y.push(DK(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:d}),mi(o,v,{id:"radiusRaw",processor:d}),LE("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&y.push(mi(a,"category",{id:"calloutLabelValue"})),l&&y.push(mi(l,"category",{id:"sectorLabelValue"})),c&&y.push(mi(c,"category",{id:"legendItemValue"})),r&&y.push(GF(r,w,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:d}),mi(r,w,{id:"angleFilterRaw"}),LE("angleFilterValue",[0,1],0,0)),f&&((M=(x=(S=this.processedData)==null?void 0:S.reduced)==null?void 0:x.animationValidation)!=null&&M.uniqueKeys)&&g.length>0&&y.push(ND(this.id,this.processedData)),y.push(OD()),await this.requestDataModel(e,this.data,{props:[...g,GF(s,w,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:d}),mi(s,w,{id:"angleRaw"}),LE("angleValue",[0,1],0,0),...y]});for(const I of((k=(A=this.processedData)==null?void 0:A.defs)==null?void 0:k.values)??[]){const{id:P,missing:N,property:B}=I,z=i6(this,N);P!=="angleRaw"&&z>0&&ze.warnOnce(`no value was found for the key '${String(B)}' on ${z} data element${z>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const n=e.resolveColumnById(this,"angleValue",t),i=e.resolveColumnById(this,"angleRaw",t),s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,c=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,d=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:n,angleRawValues:i,angleFilterValues:s,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:d}}createNodeData(){var N;const{id:e,processedData:t,dataModel:n,angleScale:i,ctx:{legendManager:s},visible:r}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!n||(t==null?void 0:t.type)!=="ungrouped")return;const l=this.getProcessedDataValues(n,t),{angleValues:c,angleRawValues:d,angleFilterValues:f,angleFilterRawValues:g,radiusValues:y,radiusRawValues:v,legendItemValues:w}=l,S=(g==null?void 0:g.some((B,z)=>B>d[z]))??!1;let x=0,M=0;const A=[],k=g!=null?[]:void 0,I=t.dataSources.get(this.id)??[],P=(N=t.invalidData)==null?void 0:N.get(this.id);return I.forEach((B,z)=>{if((P==null?void 0:P[z])===!0)return;const W=S?f[z]:c[z],Y=g!=null&&!S?Math.sqrt(g[z]/d[z]):1,K=i.convert(x)+Ar(o);x=W,M+=W;const q=i.convert(x)+Ar(o),te=Math.abs(q-K),re=K+te/2,X=d[z],Z=((y==null?void 0:y[z])??1)*Y,Se=v==null?void 0:v[z],U=w==null?void 0:w[z],ie=this.getLabels(z,B,re,te,l),ve=this.getSectorFormat(B,z,!1),J={itemId:z,series:this,datum:B,datumIndex:z,angleValue:X,midAngle:re,midCos:Math.cos(re),midSin:Math.sin(re),startAngle:K,endAngle:q,radius:Z,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Z),0),sectorFormat:ve,radiusValue:Se,legendItemValue:U,enabled:r&&s.getItemEnabled({seriesId:e,itemId:z}),focusable:!0,...ie};A.push(J),k!=null&&k.push({...J,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=M===0,this.zerosumInnerRing.visible=M===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:A,labelData:A,phantomNodeData:k}}getLabelContent(e,t,n){var x,M,A;const{id:i,ctx:s,properties:r}=this,{formatManager:o}=s,{calloutLabel:a,sectorLabel:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:f}=r,g=(x=n.calloutLabelValues)==null?void 0:x[e],y=(M=n.sectorLabelValues)==null?void 0:M[e],v=(A=n.legendItemValues)==null?void 0:A[e],w={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},S={callout:void 0,sector:void 0,legendItem:void 0};return c&&(S.callout=this.getLabelText(g,t,c,"calloutLabel",[],a,{...w,value:g})),d&&(S.sector=this.getLabelText(y,t,d,"sectorLabel",[],l,{...w,value:y})),f!=null&&v!=null&&(S.legendItem=o.format(this.callWithContext.bind(this),{type:"category",value:v,datum:t,seriesId:i,legendItemName:void 0,key:f,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??v),S}getLabels(e,t,n,i,s){const{properties:r}=this,{calloutLabel:o,sectorLabel:a,legendItemKey:l}=r,c=this.getLabelContent(e,t,s),d={};return o.enabled&&c.callout&&i>=Ar(o.minAngle)&&(d.calloutLabel={...this.getTextAlignment(n),text:c.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),a.enabled&&c.sector&&(d.sectorLabel={text:c.sector}),l&&c.legendItem&&(d.legendItem={key:l,text:c.legendItem}),d}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=RI(e),i=-.75*Math.PI,s=n-i,r=Math.floor(s/(Math.PI/2)),o=cye(r,t.length);return t[o]}getNodeFill(e,t,n){return mC(e,{bounds:"series",colorStops:t.map(i=>({color:i})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:n,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:n,strokeOpacity:1,strokeWidth:4,rotation:0},{backgroundFill:n,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(e,t,n){if(!(!mc(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:n}}getSectorFormat(e,t,n,i,s,r){const{angleKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,fills:f,strokes:g,defaultColorRange:y,defaultPatternFills:v,itemStyler:w}=this.properties,S=g[t%g.length],x=f[t%f.length],{fill:M,fillOpacity:A,stroke:k,strokeWidth:I,strokeOpacity:P,lineDash:N,lineDashOffset:B,cornerRadius:z,opacity:W}=Rn(this.getHighlightStyle(n,i==null?void 0:i.datumIndex,s),{fill:x,stroke:S},this.properties),Y=y[t%y.length],K=v[t%v.length],q=M??"black";let te;return w&&(te=this.cachedDatumCallback(this.getDatumId(t)+(n?"-highlight":"-hide"),()=>{var re;return this.callWithContext(w,{datum:e,angleKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,fill:this.getNodeFill(q,Y,K),fillOpacity:A,stroke:k,strokeWidth:I,strokeOpacity:P,lineDash:N,lineDashOffset:B,cornerRadius:z,highlighted:n,highlightState:this.getHighlightStateString(r??((re=this.ctx.highlightManager)==null?void 0:re.getActiveHighlight()),n,t),seriesId:this.id})})),{fill:this.getNodeFill((te==null?void 0:te.fill)??q,Y,K),fillOpacity:(te==null?void 0:te.fillOpacity)??A,stroke:(te==null?void 0:te.stroke)??k,strokeWidth:(te==null?void 0:te.strokeWidth)??I,strokeOpacity:(te==null?void 0:te.strokeOpacity)??P,lineDash:(te==null?void 0:te.lineDash)??N,lineDashOffset:(te==null?void 0:te.lineDashOffset)??B,cornerRadius:(te==null?void 0:te.cornerRadius)??z,opacity:W}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var i;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const n=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=(i=this.phantomNodeData)==null?void 0:i.map(n)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const n=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),i=Math.max(0,-e);return-e-n-i}update({seriesRect:e}){const{title:t}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},i=dh(this.nodeDataDependencies,n)!=null;if(i&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const r=t.node.getBBox(!1);t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var n,i;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(i=this.labelGroup)==null||i.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=n=>{const i=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,i),y:n.midSin*Math.max(0,i)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,calloutLabelSelection:i,labelSelection:s,innerLabelsSelection:r}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),a=(l,c)=>{l.update(c,void 0,d=>this.getDatumId(d.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,this.nodeData),a(t,o),a(n,this.phantomNodeData??[]),i.update(this.calloutNodeData,l=>{const c=new Pa;c.tag=0,c.pointerEvents=1,l.appendChild(c);const d=new Ea;d.tag=1,d.pointerEvents=1,l.appendChild(d)}),s.update(this.nodeData),r.update(this.properties.innerLabels,l=>{l.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const n=this.getInnerRadius();if(n>0){const s=Math.min(n,this.getOuterRadius());t=Math.ceil(s*2+1)}const i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:i,processedData:s}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!i||!s)return;const{legendItemValues:r}=this.getProcessedDataValues(i,s),o=this.isSeriesHighlighted(t,r);this.highlightGroup.visible=n&&o,this.labelGroup.visible=n,this.innerCircleSelection.each((g,{radius:y})=>{var v,w;g.setProperties({fill:this.getNodeFill((v=this.properties.innerCircle)==null?void 0:v.fill,["black"],"black"),opacity:(w=this.properties.innerCircle)==null?void 0:w.fillOpacity,size:y})});const a=this.radiusScale.range[0],l=this.radiusScale.range[1],c=this.getShapeFillBBox(),d=this.ctx.animationManager.isSkipped(),f=(g,y,v,w)=>{const S=this.getSectorFormat(y.datum,y.itemId,w,y,r,t);y.sectorFormat.fill=S.fill,y.sectorFormat.stroke=S.stroke,d&&(g.startAngle=y.startAngle,g.endAngle=y.endAngle,g.innerRadius=y.innerRadius,g.outerRadius=y.outerRadius),(w||d)&&(g.fill=S.fill,g.stroke=S.stroke);const x=this.getFillParams(S.fill,a,l);th(g,S,c,x),g.cornerRadius=S.cornerRadius,g.fillShadow=this.properties.shadow;const M=Math.max((this.properties.sectorSpacing+(S.stroke!=null?S.strokeWidth:0))/2,0);g.inset=M,g.lineJoin=this.properties.sectorSpacing>=0||M>0?"miter":"round"};this.itemSelection.each((g,y,v)=>f(g,y,v,!1)),this.highlightSelection.each((g,y,v)=>{f(g,y,v,!0),g.visible=y.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((g,y,v)=>f(g,y,v,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:n},strokes:i}=this.properties,s=t,r=ive(n)?n??this.properties.strokes:i,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(a=>{const l=a.closestDatum(),{calloutLabel:c,outerRadius:d,datumIndex:f}=l;if(c!=null&&c.text&&!c.hidden&&d!==0){a.visible=!0,a.strokeWidth=s,a.stroke=r[f%r.length],a.strokeOpacity=this.getHighlightStyle(!1,l.datumIndex).opacity??1,a.fill=void 0;const g=l.midCos*d,y=l.midSin*d;let v=l.midCos*(d+e),w=l.midSin*(d+e);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){const x=c.box;let M=v,A=w;v<x.x?M=x.x:v>x.x+x.width&&(M=x.x+x.width),w<x.y?A=x.y:w>x.y+x.height&&(A=x.y+x.height);const k=M-v,I=A-w,P=Math.sqrt(Math.pow(k,2)+Math.pow(I,2)),N=P-o;N>0&&(v=v+k*N/P,w=w+I*N/P)}a.x1=g,a.y1=y,a.x2=v,a.y2=w}else a.visible=!1})}getLabelOverflow(e,t,n){const i=-this.centerX,s=i+n.width,r=-this.centerY,o=r+n.height,a=1;let l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>s&&(l=(s-t.x)/t.width);const c=t.y+a<r||t.y+t.height-a>o,d=l===1?e.length:Math.floor(e.length*l)-1,f=this.bboxIntersectsSurroundingSeries(t);return{textLength:d,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:f}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=t**2;return n.some(s=>s.x**2+s.y**2>i)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:s}=t,r=e.convert(0),o=M=>!M.calloutLabel||M.outerRadius===0,a=this.calloutNodeData,l=a.filter(M=>!o(M));if(l.forEach(M=>{const A=M.calloutLabel;A!=null&&(A.hidden=!1,A.collisionTextAlign=void 0,A.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(M=>M.midCos<0).sort((M,A)=>M.midSin-A.midSin),d=l.filter(M=>M.midCos>=0).sort((M,A)=>M.midSin-A.midSin),f=l.filter(M=>{var A;return M.midSin<0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),g=l.filter(M=>{var A;return M.midSin>=0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),y={angleKey:this.properties.angleKey},v=M=>{const A=M.calloutLabel;if(A==null)return Xe.zero.clone();const k=Au(this,M,y,t),I=QC(k),P=M.outerRadius+n.length+i,N=M.midCos*P,B=M.midSin*P+A.collisionOffsetY,z=A.collisionTextAlign??A.textAlign,W=A.textBaseline;return Ea.computeBBox(A.text,N,B,{font:this.properties.calloutLabel,textAlign:z,textBaseline:W},!1).grow(I)},w=(M,A,k)=>{const I=v(M).grow(s/2),P=v(A).grow(s/2);I.x<P.x+P.width&&I.x+I.width>P.x&&(k==="to-top"?I.y<P.y+P.height:I.y+I.height>P.y)&&(A.calloutLabel.collisionOffsetY=k==="to-top"?I.y-P.y-P.height:I.y+I.height-P.y)},S=M=>{const A=M.slice().sort((I,P)=>Math.abs(I.midSin)-Math.abs(P.midSin))[0],k=M.indexOf(A);for(let I=k-1;I>=0;I--){const P=M[I+1],N=M[I];w(P,N,"to-top")}for(let I=k+1;I<M.length;I++){const P=M[I-1],N=M[I];w(P,N,"to-bottom")}},x=M=>{const A=l.some(z=>z.calloutLabel.collisionOffsetY!==0),k=M.map(z=>v(z)),I=k.map(z=>z.clone().grow(s/2));let P=!1;for(let z=0;z<I.length&&!P;z++){const W=I[z];for(let Y=z+1;Y<M.length;Y++){const K=I[Y];if(W.collidesBBox(K)){P=!0;break}}}const N=a.map(z=>{const{startAngle:W,endAngle:Y,outerRadius:K}=z;return{startAngle:W,endAngle:Y,innerRadius:r,outerRadius:K}}),B=k.some(z=>N.some(W=>DMe(z,W)));!P&&!A&&!B||M.filter(z=>z.calloutLabel.textAlign==="center").forEach(z=>{const W=z.calloutLabel;z.midCos<0?W.collisionTextAlign="right":z.midCos>0?W.collisionTextAlign="left":W.collisionTextAlign="center"})};S(c),S(d),x(f),x(g)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,s=new Ea;this.calloutLabelSelection.selectByTag(1).forEach(r=>{var I;const o=r.closestDatum(),a=o.calloutLabel,l=t.convert(o.radius),c=Math.max(0,l);if(!(a!=null&&a.text)||c===0||a.hidden){r.visible=!1;return}const d=(I=this.ctx.highlightManager)==null?void 0:I.getActiveHighlight(),f=!1,g=this.getHighlightStateString(d,f,o.datumIndex),y=Au(this,o,this.properties,n,f,g),v=c+i.length+n.offset,w=o.midCos*v,S=o.midSin*v+a.collisionOffsetY,x={textAlign:a.collisionTextAlign??a.textAlign,textBaseline:a.textBaseline};s.text=a.text,s.x=w,s.y=S,s.setFont(y),s.setAlign(x),s.setBoxing(y);const M=s.getBBox(!1);let A=a.text,k=!0;if(n.avoidCollisions){const{textLength:P,hasVerticalOverflow:N}=this.getLabelOverflow(a.text,M,e);A=a.text.length===P?a.text:`${a.text.substring(0,P)}…`,k=!N}r.text=A,r.x=w,r.y=S,r.setFont(y),r.setAlign(x),r.setBoxing(y),r.fill=y.color,r.fillOpacity=this.getHighlightStyle(!1,o.datumIndex).opacity??1,r.visible=k})}computeLabelsBBox(e,t){const{calloutLabel:n,calloutLine:i}=this.properties,s=i.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ea;let d;const{title:f}=this.properties;if(f!=null&&f.text&&f.enabled){const y=this.getTitleTranslationY();isFinite(y)&&(c.text=f.text,c.x=0,c.y=y,c.setFont(f),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.getBBox(!1),l.push(d))}const g={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(y=>{const v=y.calloutLabel;if(!v||y.outerRadius===0)return null;const w=Au(this,y,g,n),S=y.outerRadius+s+r,x=y.midCos*S,M=y.midSin*S+v.collisionOffsetY;c.text=v.text,c.x=x,c.y=M,c.setFont(w),c.setAlign({textAlign:v.collisionTextAlign??v.textAlign,textBaseline:v.textBaseline}),c.setBoxing(w);const A=c.getBBox(!1);if(v.box=A,Math.abs(v.collisionOffsetY)>o){v.hidden=!0;return}if(d){const k=-this.centerY,I=new Xe(d.x-a,k,d.width+2*a,d.y+d.height+a-k);if(A.collidesBBox(I)){v.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:k,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:P}=this.getLabelOverflow(v.text,A,t),N=v.text.length>2&&k<2;if(I||N||P){v.hidden=!0;return}}v.hidden=!1,l.push(A)}),l.length===0?null:Xe.merge(l)}updateSectorLabelNodes(){var a;const{properties:e}=this,{positionOffset:t,positionRatio:n}=this.properties.sectorLabel,i=this.radiusScale.convert(0),s=i<=0&&((a=this.ctx.legendManager.getData(this.id))==null?void 0:a.filter(l=>l.enabled).length)===1,r={textAlign:"center",textBaseline:"middle"},o=(l,c)=>{var v;const{outerRadius:d,startAngle:f,endAngle:g}=c;let y=!1;if(c.sectorLabel&&d!==0){const w=(v=this.ctx.highlightManager)==null?void 0:v.getActiveHighlight(),S=!1,x=this.getHighlightStateString(w,S,c.datumIndex),M=Au(this,c,e,e.sectorLabel,S,x),A=i*(1-n)+d*n+t;l.fill=M.color,l.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.text=c.sectorLabel.text,s?(l.x=0,l.y=0):(l.x=c.midCos*A,l.y=c.midSin*A),l.setFont(M),l.setAlign(r),l.setBoxing(M);const k=l.getBBox(!1),I=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]],P={startAngle:f,endAngle:g,innerRadius:i,outerRadius:d};I.every(([N,B])=>XF(N,B,P))&&(y=!0)}l.visible=y};this.labelSelection.each(o)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((d,f)=>{const{fontStyle:g,fontWeight:y,fontSize:v,fontFamily:w,color:S}=f;d.fontStyle=g,d.fontWeight=y,d.fontSize=v,d.fontFamily=w,d.text=f.text,d.x=0,d.y=0,d.fill=S,d.textAlign="center",d.textBaseline="alphabetic",e.push(d.getBBox()),t.push(f.spacing)});const n=d=>d===0?0:t[d],i=d=>d===t.length-1?0:t[d],s=e.reduce((d,f)=>d<f.width?f.width:d,0),r=e.reduce((d,f,g)=>d+f.height+n(g)+i(g),0),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(s/2,2)+Math.pow(r/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let d=0,f=-r/2;d<e.length;d++){const y=e[d].height+f+n(d);c.push(y),f=y+i(d)}this.innerLabelsSelection.each((d,f,g)=>{d.visible=l,Array.isArray(d.text)?d.y=c[g]-e[g].height:d.y=c[g]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return w9(this,e)}getTooltipContent(e){var z;const{id:t,dataModel:n,processedData:i,properties:s,ctx:{formatManager:r}}=this,{legendItemKey:o,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:f,angleName:g,radiusKey:y,radiusName:v,tooltip:w}=s,S=this.properties.title.node.getPlainText();if(!n||!i)return;const x=(z=i.dataSources.get(this.id))==null?void 0:z[e],M=this.getProcessedDataValues(n,i),{angleRawValues:A}=M,k=A[e],I=this.getLabelContent(e,x,M),P=I.legendItem??I.callout??I.sector??g,N=n.getDomain(this,"angleRaw","value",i),B=r.format(this.callWithContext.bind(this),{type:"number",value:k,datum:x,seriesId:t,legendItemName:void 0,key:f,source:"tooltip",property:"angle",domain:N,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??KC(k,3);return this.formatTooltipWithContext(w,{title:S,symbol:this.legendItemSymbol(e),data:[{label:P,fallbackLabel:f,value:B}]},{seriesId:t,datum:x,title:g,legendItemKey:o,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:d,angleKey:f,angleName:g,radiusKey:y,radiusName:v,...this.getSectorFormat(x,e,!1)})}legendItemSymbol(e){var d,f;const t=(f=(d=this.processedData)==null?void 0:d.dataSources.get(this.id))==null?void 0:f[e],n=this.getSectorFormat(t,e,!1),{fillOpacity:i,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=n;const{stroke:c}=n;return mc(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:c,fillOpacity:i,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var M,A;const{visible:t,processedData:n,dataModel:i,id:s,ctx:{legendManager:r}}=this;if(!i||!n||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,showInLegend:d}=this.properties;if(!c&&(!a||a===o)&&(!l||l===o))return[];const f=this.getProcessedDataValues(i,n),{angleRawValues:g}=f,y=((M=this.properties.title)==null?void 0:M.showInLegend)&&this.properties.title.text,v=[],w=this.properties.hideZeroValueSectorsInLegend,S=n.dataSources.get(this.id),x=(A=n.invalidData)==null?void 0:A.get(this.id);for(let k=0;k<n.input.count;k++){const I=S==null?void 0:S[k],P=g[k];if((x==null?void 0:x[k])===!0||w&&P===0)continue;const N=[];y&&N.push(y);const B=this.getLabelContent(k,I,f);c&&B.legendItem!==void 0?N.push(B.legendItem):a&&a!==o&&B.callout!==void 0?N.push(B.callout):l&&l!==o&&B.sector!==void 0&&N.push(B.sector),N.length!==0&&v.push({legendType:"category",id:s,datum:I,itemId:k,seriesId:s,hideToggleOtherSeries:!0,enabled:t&&r.getItemEnabled({seriesId:s,itemId:k}),label:{text:N.join(" - ")},symbol:this.legendItemSymbol(k),legendItemName:c!=null?I[c]:void 0,hideInLegend:!d})}return v}setLegendState(e){const{id:t,ctx:{legendManager:n,updateService:i}}=this;e.forEach((s,r)=>n.toggleItem(s,t,r)),n.update(),i.update(5)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=BE(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Os(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(i,s)=>this.getDatumId(s.datumIndex)),Os(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),os(this,"callout",t,this.calloutLabelSelection),os(this,"sector",t,this.labelSelection),os(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var y,v,w,S;const{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:i,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(v=(y=i==null?void 0:i.reduced)==null?void 0:y.diff)==null?void 0:v[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,c=((i==null?void 0:i.defs.keys.length)??0)>0,d=((S=(w=i==null?void 0:i.reduced)==null?void 0:w.animationValidation)==null?void 0:S.uniqueKeys)??!0;(!l||!c||!d)&&this.ctx.animationManager.skipCurrentBatch();const f=!this.nodeData.some(x=>x.enabled),g=BE(!1,this.properties.rotation,s,r);Os(this.id,"nodes",o,[e,t,n],g.nodes,(x,M)=>this.getDatumId(M.datumIndex),a),Os(this.id,"innerCircle",o,[this.innerCircleSelection],g.innerCircle),os(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),os(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==f&&(this.noVisibleData=f,os(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:i,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=BE(!1,this.properties.rotation,i,s);Os(this.id,"nodes",r,[e,t,n],o.nodes,(a,l)=>this.getDatumId(l.datumIndex)),Os(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),NE(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),NE(this,"sector",this.ctx.animationManager,this.labelSelection),NE(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e){return`${e}`}hasItemStylers(){const{itemStyler:e,calloutLabel:t,sectorLabel:n}=this.properties;return(e??t.itemStyler??n.itemStyler)!=null}};VD.className="DonutSeries";VD.type="donut";var TMe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Ia.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...yl,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...yl,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:TB,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:Ig,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:{...yl,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},highlight:oK()},legend:{enabled:!0}},EMe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new VD(e),themeTemplate:TMe},IMe={type:"series",name:"donut",chartType:"polar",options:axe,create:e=>new VD(e)},Pk=class extends VD{};Pk.className="PieSeries";Pk.type="pie";var kMe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Ia.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...yl,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...yl,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:TB,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ig,xOffset:3,yOffset:3,blur:5},highlight:kg()},legend:{enabled:!0}},LMe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Pk(e),themeTemplate:kMe},PMe={type:"series",name:"pie",chartType:"polar",options:Fy,create:e=>new Pk(e)};function OMe(){Ou.register(F8,M0e,x0e,p0e,J0e,l9,bMe,g9,xMe,EMe,LMe,CMe);for(const e of[ed,xw,td,Ny,Dw,Og])Wm.register(e.type,{moduleFactory:t=>new e(t)})}function NMe(){for(const e of Ou.modules){if(e.packageType==="enterprise"&&!RCe(e)&&ze.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)DF.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);oc.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)oc.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const n=Wm.getThemeTemplate(t),i=Rn(e.themeTemplate,n);Wm.setThemeTemplate(t,i)}e.type==="axis"&&Wm.register(e.identifier,e),e.type==="legend"&&rB.register(e.identifier,e)}if(Ou.hasEnterpriseModules()){const e=TCe();e.length>0&&ze.errorOnce("Enterprise modules expected but not registered: ",e)}}var sa=Symbol("IGNORED_PROP");function vl(e,t){const n={};for(const i of Object.keys(t)){const s=t[i];s!==sa&&Object.hasOwn(e,i)&&(n[i]=s)}return n}function D9(e){const{enabled:t,mode:n,showArrow:i,range:s,position:r,pagination:o,delay:a,wrapping:l,interaction:c,renderer:d,...f}=e,g=vl(e,{enabled:t,showArrow:i,range:s,position:r,interaction:c,renderer:d,...f});return{chartTooltipOptions:vl(e,{enabled:sa,showArrow:sa,range:sa,position:sa,mode:n,pagination:o,delay:a,wrapping:l,...f}),seriesTooltipOptions:g}}function FMe(e){const{animation:t,background:n,container:i,contextMenu:s,context:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:f,overrideDevicePixelRatio:g,padding:y,subtitle:v,theme:w,title:S,width:x,type:M,cursor:A,nodeClickRange:k,tooltip:I={},value:P,scale:N={},startAngle:B,endAngle:z,highlightStyle:W,highlight:Y,segmentation:K,bar:q,needle:te,targets:re,outerRadius:X,innerRadius:ne,outerRadiusRatio:Z,innerRadiusRatio:Se,cornerRadius:U,cornerMode:ie,label:ve,secondaryLabel:J,spacing:he,...Ee}=e,{chartTooltipOptions:we,seriesTooltipOptions:Me}=D9(I),Ce=vl(e,{animation:t,background:n,container:i,contextMenu:s,context:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:f,overrideDevicePixelRatio:g,padding:y,subtitle:v,theme:w,title:S,tooltip:we,width:x}),je=vl(e,{needle:te!=null?{enabled:!0,...te}:sa,startAngle:B,endAngle:z,scale:N,type:M,cursor:A,context:r,nodeClickRange:k,tooltip:Me,value:P,highlightStyle:W,highlight:Y,segmentation:K,bar:q,targets:re,outerRadius:X,innerRadius:ne,outerRadiusRatio:Z,innerRadiusRatio:Se,cornerRadius:U,cornerMode:ie,label:ve,secondaryLabel:J,spacing:he,...Ee});return{...Ce,series:[je]}}function _Me(e){const{animation:t,background:n,container:i,contextMenu:s,context:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:f,overrideDevicePixelRatio:g,padding:y,subtitle:v,theme:w,title:S,width:x,type:M,cursor:A,nodeClickRange:k,tooltip:I={},value:P,scale:N={},direction:B="vertical",thickness:z,highlightStyle:W,highlight:Y,segmentation:K,bar:q,targets:te,cornerRadius:re,cornerMode:X,label:ne,...Z}=e,{chartTooltipOptions:Se,seriesTooltipOptions:U}=D9(I),ie=vl(e,{animation:t,background:n,container:i,contextMenu:s,context:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:f,overrideDevicePixelRatio:g,padding:y,subtitle:v,theme:w,title:S,tooltip:Se,width:x}),ve=vl(e,{scale:N,type:M,cursor:A,context:r,nodeClickRange:k,tooltip:U,value:P,direction:B,thickness:z,highlightStyle:W,highlight:Y,segmentation:K,bar:q,targets:te,cornerRadius:re,cornerMode:X,label:ne,...Z});return{...ie,series:[ve]}}function Kj(e,t){if(t==null)return e;const{targets:n,...i}=t;return e=Rn(e,i),e.targets!=null&&n!=null&&(e.targets=N5(e.targets,n)),e}function BMe(e,t){switch(e.type){case"radial-gauge":return FMe(Kj(e,t));case"linear-gauge":return _Me(Kj(e,t));default:return{}}}var nl={stroke:Zi},Cr={fill:vD},qj={color:"white",fill:Zi},Bd={color:Zi},ym={color:yD,fontSize:{$rem:Ia.LARGE},fontFamily:{$ref:"fontFamily"}},QF={...ym,fontSize:{$ref:"fontSize"},color:wD,fill:bD,stroke:CD,strokeWidth:1,divider:{stroke:SD,strokeWidth:1,strokeOpacity:.5}},GO={...nl,background:{fill:Ns,fillOpacity:.2},handle:{...Cr},text:{...Bd},statistics:{...QF}},GMe={line:{...nl,handle:{...Cr},text:{...Bd}},"horizontal-line":{...nl,handle:{...Cr},axisLabel:{...qj},text:{...Bd}},"vertical-line":{...nl,handle:{...Cr},axisLabel:{...qj},text:{...Bd}},"disjoint-channel":{...nl,background:{fill:Ns,fillOpacity:.2},handle:{...Cr},text:{...Bd}},"parallel-channel":{...nl,background:{fill:Ns,fillOpacity:.2},handle:{...Cr},text:{...Bd}},"fibonacci-retracement":{...nl,strokes:vM,rangeStroke:Zi,handle:{...Cr},text:{...Bd,position:"center"},label:{...ym,color:void 0,fontSize:{$rem:Ia.SMALLER}}},"fibonacci-retracement-trend-based":{...nl,strokes:vM,rangeStroke:Zi,handle:{...Cr},text:{...Bd,position:"center"},label:{...ym,color:void 0,fontSize:{$rem:Ia.SMALLER}}},callout:{...nl,...ym,color:{$ref:"textColor"},handle:{...Cr},fill:Ns,fillOpacity:.2},comment:{...ym,color:"white",fontWeight:700,handle:{...Cr},fill:Zi},note:{...ym,color:DD,fill:Zi,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...Cr},background:{fill:xD,stroke:MD,strokeWidth:1}},text:{...ym,handle:{...Cr}},arrow:{...nl,handle:{...Cr},text:{...Bd}},"arrow-up":{fill:{$palette:"up.fill"},handle:{...Cr,stroke:Zi}},"arrow-down":{fill:{$palette:"down.fill"},handle:{...Cr,stroke:Zi}},"date-range":{...GO},"price-range":{...GO},"date-price-range":{...GO},"quick-date-price-range":{up:{...nl,fill:Ns,fillOpacity:.2,handle:{...Cr},statistics:{...QF,color:"#fff",fill:Ns,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...nl,stroke:CM,fill:bM,fillOpacity:.2,handle:{...Cr,stroke:CM},statistics:{...QF,color:"#fff",fill:bM,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},zMe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],HMe=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function VMe(e,t,n){const{dateKey:i="date",highKey:s="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:d=!1,volume:f=!0,rangeButtons:g=!0,statusBar:y=!0,toolbar:v=!0,zoom:w=!0,sync:S=!1,theme:x,data:M,formatter:A,...k}=e,I=WMe(c,i,s,o,r,a),P=jMe(n,r,a,f,l),B={navigator:{enabled:d,...f?{miniChart:{enabled:d,series:[{type:"line",xKey:i,yKey:l,stroke:dk,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},z={annotations:{enabled:v,optionsToolbar:{enabled:v},snap:!0,toolbar:{enabled:v,buttons:HMe,padding:0},data:M,xKey:i,volumeKey:f?l:void 0}},W=y?{statusBar:{enabled:!0,data:M,highKey:s,openKey:r,lowKey:o,closeKey:a,volumeKey:f?l:void 0}}:null,Y={zoom:{enabled:w,autoScaling:{enabled:!0},enableIndependentAxes:!0}},K={ranges:{enabled:g}},q=S?{sync:{enabled:S,nodeInteraction:!0,zoom:!0}}:null,te=f?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof x=="string"?x:"ag-financial",...Rn(typeof x=="object"?x:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:v},annotations:{...GMe},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...Qj(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}})}},candlestick:{series:{...Qj(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...P,...I],axes:[{type:"number",position:"right",keys:[r,a,s,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...te,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:M,formatter:A,...z,...B,...W,...Y,...K,...q,...k}}function jMe(e,t,n,i,s){return i?[{type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},itemStyler({datum:r}){const{up:o,down:a}=e().palette;return{fill:r[t]<r[n]?o==null?void 0:o.fill:a==null?void 0:a.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var Zj="range-area";function WMe(e,t,n,i,s,r){const o={xKey:t,openKey:s,closeKey:r,highKey:n,lowKey:i},a={xKey:t,yKey:r},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return UMe(l,o);case"line":case"step-line":return $Me(l,a);case"hlc":return YMe(l,a,o);case"high-low":return KMe(l,o);case"candlestick":case"hollow-candlestick":return Xj(l,o);default:return ze.warnOnce(`unknown chart type: ${e}; expected one of: ${zMe.join(", ")}`),Xj(l,o)}}function UMe(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function $Me(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function YMe(e,t,{xKey:n,highKey:i,closeKey:s,lowKey:r}){return[{type:Zj,focusPriority:0,...e,xKey:n,yHighKey:i,yLowKey:s,fill:rk,stroke:ik},{type:Zj,focusPriority:0,...e,xKey:n,yHighKey:s,yLowKey:r,fill:ok,stroke:sk},{type:"line",...e,...t}]}function KMe(e,{xKey:t,highKey:n,lowKey:i}){return[{type:"range-bar",...e,xKey:t,yHighKey:n,yLowKey:i,fill:lk,stroke:ak,tooltip:{range:"nearest"},focusPriority:0}]}function Xj(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function Qj(e,t){return t[e]??t.default}var A9={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:uk,lineDash:[0],label:{enabled:!1}}},zO={...A9,nice:!1},eE={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},HO={style:[{stroke:{$ref:"gridLineColor"}}],width:2},qMe={number:{gridLine:HO},time:{gridLine:HO},category:{gridLine:HO}},ZMe={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...zO,interval:{values:[0]}},log:{...zO},time:{...zO},category:{...A9}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...eE,position:{...eE.position,anchorTo:"pointer"},range:"nearest"},axes:qMe},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:eE},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:eE}}},R9=Sr(XMe);function XMe(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:R9(e.baseTheme,t)}:t}function T9(e){if(Array.isArray(e)&&e.length!==0){const t=e.find(n=>n!=null);if(typeof t=="number")return{data:e.map((i,s)=>({x:s,y:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(i=>({x:i==null?void 0:i[0],y:i==null?void 0:i[1],datum:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if((e==null?void 0:e.length)===0)return{data:e,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:e}}function QMe(e){switch(e==null?void 0:e.type){case"number":{const{type:t,min:n,max:i,reverse:s}=e;return vl(e,{type:t,reverse:s,min:n,max:i})}case"time":{const{type:t,min:n,max:i,reverse:s}=e;return vl(e,{type:t,reverse:s,min:n,max:i})}case"category":default:{const{paddingInner:t,paddingOuter:n,reverse:i}=e??{};return vl({...e,type:"category"},{type:"category",reverse:i,paddingInner:t,paddingOuter:n})}}}function JMe(e,t,n){const i={};return(e==null?void 0:e.stroke)!=null&&(i.style=[{stroke:e==null?void 0:e.stroke}],i.enabled??(i.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(i.width=e==null?void 0:e.strokeWidth,i.enabled??(i.enabled=!0)),n.type==="bar"&&n.direction!=="horizontal"&&(i.enabled??(i.enabled=!0)),(e==null?void 0:e.visible)!=null&&(i.enabled=e.visible),i.enabled??(i.enabled=t),i}var eDe=Sr((e,t,n)=>i=>{var c;const s=i.datum[i.xKey],r=i.datum[i.yKey],o=n!=null?i.datum[n]:i.datum,a=(c=t==null?void 0:t.renderer)==null?void 0:c.call(t,{context:e,datum:o,xValue:s,yValue:r});if(typeof a=="string")return a;const l=(a==null?void 0:a.content)??r.toFixed(2);return a!=null&&a.title?{heading:void 0,title:void 0,data:[{label:a.title,value:l}]}:{heading:void 0,title:l,data:[]}});function tDe(e){const{background:t,container:n,height:i,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:d,theme:f,data:g,crosshair:y,axis:v,min:w,max:S,tooltip:x,context:M,styleNonce:A,...k}=e,I=vl(e,{background:t,container:n,height:i,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:d,styleNonce:A,tooltip:sa,context:sa,data:sa,crosshair:sa,axis:sa,min:sa,max:sa,theme:sa}),{data:P,series:[N]=[],datumKey:B}=T9(g),z=k;N!=null&&Object.assign(z,N),z.tooltip={...x,renderer:eDe(M,x,B)},I.theme=R9(f,ZMe),I.data=P,I.series=[z];const W=z.type!=="bar"||z.direction!=="horizontal",[Y,K]=W?["bottom","left"]:["left","bottom"],q={...QMe(v),position:Y,...vl(e,{crosshair:y})},te={type:"number",gridLine:JMe(v,!1,e),position:K,...vl(e,{min:w,max:S})};return I.axes=W?[te,q]:[q,te],I}var nDe={chartType:_e("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:Ae,openKey:Ae,highKey:Ae,lowKey:Ae,closeKey:Ae,volumeKey:Ae,navigator:le,volume:le,rangeButtons:le,statusBar:le,toolbar:le,zoom:le,sync:le,theme:xt,container:xt,width:xt,height:xt,minWidth:xt,minHeight:xt,listeners:xt,initialState:xt,title:xt,data:qu,formatter:xt},JF={theme:xt,container:xt,animation:xt,background:xt,contextMenu:xt,context:()=>!0,listeners:xt,locale:xt,width:xt,height:xt,minWidth:xt,minHeight:xt,title:xt,subtitle:xt,footnote:xt,padding:xt,tooltip:{...En,...Lt.tooltip}};JF.overrideDevicePixelRatio=Ft(ae);var VO=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],jO={visible:le,reverse:le,stroke:qe,strokeWidth:ae},WO={context:()=>!0,tooltip:xt,theme:xt,background:xt,container:xt,width:xt,height:xt,minWidth:xt,minHeight:xt,padding:xt,listeners:xt,locale:xt,data:xt,styleNonce:Ae,axis:XM({number:{...jO,min:yi(Ie,Lu("max")),max:yi(Ie,Pu("min"))},category:{...jO,paddingInner:ct,paddingOuter:ct},time:{...jO,min:yi(zt(Ie,yg),Lu("max")),max:yi(zt(Ie,yg),Pu("min"))}},"axis options","category"),min:yi(Ie,Lu("max")),max:yi(Ie,Pu("min")),crosshair:{enabled:le,snap:le,...He,...at},xKey:Ae,yKey:Ae},iDe={type:"preset",name:"price-volume",enterprise:!0,options:nDe,create:VMe},sDe={type:"preset",name:"gauge-preset",enterprise:!0,options:XM({"linear-gauge":{...Ke(wg,["type"]),...JF},"radial-gauge":{...Ke(ED,["type"]),...JF}},"gauge options"),create:BMe},rDe={type:"preset",name:"sparkline",options:XM({area:{...WO,...Ke($K,VO)},bar:{...WO,...Ke(xk,VO)},line:{...WO,...Ke(Mk,VO)}},"sparkline options"),create:tDe,processData:T9},oDe=["top","right","bottom","left"],Ok=class E9 extends nk{constructor(t,n){super(t,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,n){super.onAxisChange(t,n),this.syncAxisChanges(t,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:n,annotationRoot:i}=this;n.setClipRect(t),i.setClipRect(t)}async processData(){await super.processData(),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}async processDomains(){await super.processDomains();for(const t of this.axes){const n=await this.getSyncedDomain(t);n!=null&&t.setDomains(n)}}performLayout(t){const{seriesRoot:n,annotationRoot:i}=this,{clipSeries:s,seriesRect:r,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:a,y:l}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const y of[n,i])y.translationX=Math.floor(a),y.translationY=Math.floor(l);else{const{translationX:y,translationY:v}=n;wh(this.id,"seriesRect",this.ctx.animationManager,[n,i],{translationX:y,translationY:v},{translationX:Math.floor(a),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const c=this.modulesManager.getModule("seriesArea"),d=r.clone().grow(c.getPadding()),f=c.clip||s?d:void 0,{lastUpdateClipRect:g}=this;this.lastUpdateClipRect=f,this.ctx.animationManager.isActive()&&g!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:g,to:d,onUpdate:y=>this.setRootClipRects(y),onComplete:()=>this.setRootClipRects(f)}):this.setRootClipRects(f),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(y=>y.getLayoutState()),series:{visible:o,rect:r,paddedRect:d},clipSeries:s})}updateAxes(t){const{clipSeries:n,seriesRect:i,overflows:s}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!s),this.clipAxis(r,i,t);return{clipSeries:n,seriesRect:i,visible:!s}}resolveAxesLayout(t){let n,i,s=0;const r=10;do if(i=n??this.getDefaultState(),n=this.updateAxesPass(new Map(i.axisAreaWidths),t.clone()),s++>r){ze.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,i));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(t,n){const i=new Map,s={};let r=!1,o=!1;for(const x of oDe){const M=this.modulesManager.getModule("seriesArea").getPadding()[x],A=this.axes.findLast(k=>k.position===x);A?A.seriesAreaPadding=M:n.shrink(M,x)}const a=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),c=this.buildCrossLinePadding(t),d=c.left+c.right,f=c.top+c.bottom;n.width<=a+d||n.height<=l+f?r=!0:n.shrink(c);const{scene:g}=this.ctx,y=n.clone().shrink(Object.fromEntries(t));for(const x of this.axes){const{position:M="left",direction:A}=x,k=A==="y";let I;this.sizeAxis(x,y,M),x.thickness==null?I=UO(k,g)*(x.maxThicknessRatio??1):I=x.thickness;const{primaryTickCount:P,bbox:N}=x.calculateLayout(x.nice?s[A]:void 0,{sizeLimit:I,padding:this.padding});s[A]??(s[A]=P),o||(o=x.dataDomain.clipped||x.visibleRange[0]>0||x.visibleRange[1]<1),x.thickness==null&&(I=Math.min(UO(k,N)??0,I)),i.set(x.id,Math.ceil(I))}const v=S_(this.axes,x=>x.position??"left"),w=new Map,S=new Map;for(const[x,M]of fc(v)){let A=UO(x!=="left"&&x!=="right",g)%g.pixelRatio,k=0;for(const I of M??[]){S.set(I.id,A);const P=i.get(I.id)??0;k=Math.max(k,A+P),I.layoutConstraints.stacked&&(A+=P+E9.AxesPadding)}w.set(x,Math.ceil(k))}for(const[x,M]of fc(v))this.positionAxes({axes:M??[],position:x,axisWidths:i,axisOffsets:S,axisAreaWidths:w,axisBound:n,seriesRect:y});return{clipSeries:o,seriesRect:y,axisAreaWidths:w,overflows:r}}buildCrossLinePadding(t){const n={top:0,right:0,bottom:0,left:0};this.axes.forEach(i=>{var o;const{position:s,label:r}=i;(o=i.crossLines)==null||o.forEach(a=>{var c;var l;a instanceof No&&(a.position=s??"top",(l=a.label).parallel??(l.parallel=r.parallel)),(c=a.calculatePadding)==null||c.call(a,n)})});for(const[i,s=0]of fc(n))n[i]=Math.max(s-(t.get(i)??0),0);return n}clampToOutsideSeriesRect(t,n,i,s){const r=i==="x"?t.x:t.y,o=i==="x"?t.width:t.height;return s===1?Math.min(n,r+o):Math.max(n,r)}async getSyncedDomain(t){const n=this.modulesManager.getModule("sync");if(n!=null&&n.enabled)return await n.getSyncedDomain(t)}syncAxisChanges(t,n){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const s=new Set(n??[]);for(const r of t)s.delete(r);for(const r of s)i.removeAxis(r)}sizeAxis(t,n,i){const s=t instanceof ed,r=i==="left"||i==="right",{width:o,height:a}=n,l=r?a:o;let c=0,d=l,{min:f,max:g}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:y,unit:v,align:w}=t.layoutConstraints;v==="px"?d=c+y:d=d*y/100,w==="end"&&(c=l-(d-c),d=l),r&&(s?[c,d]=[d,c]:[f,g]=[1-g,1-f]),t.range=[c,d],t.visibleRange=[f,g],t.gridLength=r?o:a}positionAxes(t){const{axes:n,axisBound:i,axisWidths:s,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:l}=t,c=o.get(l)??0;let d="x",f="y",g=1;(l==="top"||l==="bottom")&&(d="y",f="x");let y=i[d];(l==="right"||l==="bottom")&&(g=-1,y+=d==="x"?i.width:i.height);for(const v of n){const w=o.get(f==="x"?"left":"top")??0,S=s.get(v.id)??0,x=r.get(v.id)??0;v.gridPadding=c-x-S,v.translation[f]=i[f]+w,v.translation[d]=this.clampToOutsideSeriesRect(a,y+g*(x+S),d,g)}}shouldFlipXY(){return this.series.every(t=>t instanceof Wy&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:n="left"}of this.axes){const i=this.lastAreaWidths.get(n);i!=null&&t.set(n,i)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,n){if(n.overflows!==t.overflows||n.clipSeries!==t.clipSeries)return!1;for(const i of t.axisAreaWidths.keys())if(!n.axisAreaWidths.has(i))return!1;for(const[i,s]of n.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(i);if((s!=null||r!=null)&&s!==r)return!1}return!0}clipAxis(t,n,i){var l,c;const s=Math.ceil(((l=t.gridLine)==null?void 0:l.width)??0),r=Math.ceil(((c=t.line)==null?void 0:c.width)??0);let{width:o,height:a}=n;switch(o+=t.direction==="x"?s:r,a+=t.direction==="y"?s:r,t.clipGrid(n.x,n.y,o,a),t.position){case"left":case"right":t.clipTickLines(i.x,n.y-s,i.width+s,n.height+s*2);break;case"top":case"bottom":t.clipTickLines(n.x-s,i.y,n.width+s*2,i.height+s);break}}};Ok.className="CartesianChart";Ok.type="cartesian";Ok.AxesPadding=15;var aDe=Ok;function UO(e,t){return e?t==null?void 0:t.width:t==null?void 0:t.height}var Nk={mode:Ft(_e("integrated","standalone")),container:p5,context:()=>!0,theme:xt,series:qu,annotations:xt,navigator:xt,initialState:{chartType:Ae,annotations:xt,legend:Tr({visible:le,seriesId:Ae,itemId:Ae,legendItemName:Ae},"legend state array"),zoom:xt}},I9={...Lt,...Nk,axes:Ry(2),data:qu},k9={...Lt,...Nk,axes:Ry(2),data:qu},lDe={...Lt,...Nk,data:qu,topology:fye},cDe={...Lt,...Nk,data:qu},uDe=new Set(["number","log","time"]),dDe=e=>Hi(e)&&!uDe.has(e.type),hDe={type:"chart",name:"cartesian",options:I9,detect:G6,create(e,t){return new aDe(e,t)},validate(e,t,n){var r,o,a;const i=[];((o=(r=e==null?void 0:e.series)==null?void 0:r[0])==null?void 0:o.type)==="histogram"&&(a=e==null?void 0:e.axes)!=null&&a.some(dDe)&&(i.push(new Vm("invalid","only continuous axis types when histogram series is used",e.axes,n,"axes")),e=Ke(e,["axes"]));const s=Jr(e,t,n);return s.invalid.push(...i),s}},L9=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},fDe={type:"chart",name:"standalone",placeholder:!0,options:{},detect:H6,create:L9},gDe={type:"chart",name:"topology",placeholder:!0,options:{},detect:z6,create:L9},ew=class extends fB{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){const e=this.label.getSideFlag(),t=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:n,parallelFlipRotation:i,regularFlipRotation:s}=this.calculateRotations();this.crossLines.forEach(r=>{var o;r.sideFlag=-e,r.direction=n===-Math.PI/2?"angle":"radius",r.parallelFlipRotation=i,r.regularFlipRotation=s,(o=r.calculateLayout)==null||o.call(r,t,this.reverse)})}updatePosition(){super.updatePosition();const e=Math.floor(this.translation.x),t=Math.floor(this.translation.y);this.tickLineGroup.translationX=e,this.tickLineGroup.translationY=t,this.tickLabelGroup.translationX=e,this.tickLabelGroup.translationY=t,this.crossLineRangeGroup.translationX=e,this.crossLineRangeGroup.translationY=t,this.crossLineLineGroup.translationX=e,this.crossLineLineGroup.translationY=t,this.crossLineLabelGroup.translationX=e,this.crossLineLabelGroup.translationY=t,this.tickLabelGroupSelection.each(_I())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};L([F],ew.prototype,"shape",2);L([F],ew.prototype,"innerRadiusRatio",2);var CG=class extends nk{constructor(e,t){super(e,t),this.padding=new Ty(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,n=t.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,await this.computeCircle(n),this.axes.forEach(i=>i.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:t}})}updateAxes(e,t,n,i){var l,c;const s=this.axes.find(d=>d.direction==="angle"),r=this.axes.find(d=>d.direction==="radius");if(!(s instanceof ew)||!(r instanceof ew))return;const o=s.scale,a=r.innerRadiusRatio;s.innerRadiusRatio=a,s.computeRange(),s.gridLength=i,r.gridAngles=(c=(l=o.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.ticks)==null?void 0:c.map(d=>o.convert(d)),r.gridRange=s.range,r.range=[i,i*a],[s,r].forEach(d=>{d.translation.x=e.x+t,d.translation.y=e.y+n,d.calculateLayout()})}async computeCircle(e){const t=this.series.filter(pDe),n=this.axes.filter(mDe),i=(c,d,f)=>{this.updateAxes(e,c,d,f),t.forEach(y=>{y.centerX=c,y.centerY=d,y.radius=f});const g=t.filter(y=>y.type==="donut"||y.type==="pie");if(g.length>1){const y=g.map(v=>{const w=v.getInnerRadius();return{series:v,innerRadius:w}}).sort((v,w)=>v.innerRadius-w.innerRadius);y.at(-1).series.surroundingRadius=void 0;for(let v=0;v<y.length-1;v++)y[v].series.surroundingRadius=y[v+1].innerRadius}},s=e.width/2,r=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;i(s,r,a);const l=async({hideWhenNecessary:c=!1}={})=>{const d=[];for(const y of Qb(n,t)){const v=await y.computeLabelsBBox({hideWhenNecessary:c},e);v&&d.push(v)}if(d.length===0){i(s,r,o);return}const f=Xe.merge(d),g=this.refineCircle(f,a,e);i(g.centerX,g.centerY,g.radius),a=g.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const c of Qb(n,t))await c.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:s,centerY:r}}refineCircle(e,t,n){const s=-t,r=-t,o=t,a=t;let l=Math.max(0,s-e.x),c=Math.max(0,r-e.y),d=Math.max(0,e.x+e.width-o),f=Math.max(0,e.y+e.height-a);l=d=Math.max(l,d),c=f=Math.max(c,f);const g=n.width-l-d,y=n.height-c-f;let v=Math.min(g,y)/2;const w=.5*n.width/2,S=.5*n.height/2,x=Math.min(w,S);if(v<x){v=x;const k=l+d,I=c+f;if(2*v+I>n.height){const P=n.height-2*v;Math.min(c,f)*2>P?(c=P/2,f=P/2):c>f?c=P-f:f=P-c}if(2*v+k>n.width){const P=n.width-2*v;Math.min(l,d)*2>P?(l=P/2,d=P/2):l>d?l=P-d:d=P-l}}const M=l+2*v+d,A=c+2*v+f;return{centerX:(n.width-M)/2+l+v,centerY:(n.height-A)/2+c+v,radius:v}}};CG.className="PolarChart";CG.type="polar";function pDe(e){return e instanceof bG}function mDe(e){return e instanceof ew}var yDe={type:"chart",name:"polar",options:k9,detect:bwe,create(e,t){return new CG(e,t)},validate(e,t,n){var o,a;const i=[],s=(a=(o=e==null?void 0:e.series)==null?void 0:o[0])==null?void 0:a.type;(s==="pie"||s==="donut")&&e!=null&&e.axes&&(i.push(new b_([],e.axes,n,"axes")),e=Ke(e,["axes"]));const r=Jr(e,t,n);return r.invalid.push(...i),r}},vDe=[hDe,XSe,QSe,JSe,exe,txe,nxe,s9,c9,h9,f9,p9,m9],bDe=[yDe,IMe,PMe],CDe=[...vDe,...bDe,fDe,gDe,iDe,sDe,rDe],wDe=1e3,wG=class Hf{constructor(t,n,i,s,r,o=wDe){this.name=t,this.buildItem=n,this.releaseItem=i,this.destroyItem=s,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,n,i,s,r){return this.pools.has(t)||this.pools.set(t,new Hf(t,n,i,s,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let n=this.freePool.pop();return n==null?(n=this.buildItem(t),Hf.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n])):Hf.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n]),this.busyPool.add(n),{item:n,release:()=>this.release(n)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return Hf.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Hf.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Hf.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const n=Date.now(),i=n+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<i&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=n+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const n of t)this.destroyItem(n);Hf.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};wG.pools=new Map;wG.debug=Ut.create(!0,"pool");var SDe=wG;To.registerMany(CDe,lM);var Wd=Ut.create(!0,"opts"),sg=class{static licenseCheck(t){var n,i;this.licenseChecked||(this.licenseManager=(n=na.licenseManager)==null?void 0:n.call(na,t),(i=this.licenseManager)==null||i.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var n;return(n=na.licenseManager)==null?void 0:n.call(na,{}).getLicenseDetails(t)}static getInstance(t){return Jj.getInstance(t)}static create(t,n){const i=Ut.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return Wd.group("AgCharts.create()",()=>{var r,o;t=Ut.inDevelopmentMode(()=>Ud(Bi(t)))??t,this.licenseCheck(t);const s=Jj.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:n,apiStartTime:i});return(r=this.licenseManager)!=null&&r.isDisplayWatermark()&&this.licenseManager&&((o=na.injectWatermark)==null||o.call(na,s.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),s})}static createFinancialChart(t){return Wd.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return Wd.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge-preset"}))}static __createSparkline(t){return Wd.group("AgCharts.__createSparkline()",()=>{const{pool:n,...i}=t;return this.create(i,{presetType:"sparkline",pool:n??!0,domMode:"minimal",withDragInterpretation:!1})})}};sg.licenseChecked=!1;var bu=class Vf{static getInstance(t){const n=nk.getInstance(t);return n?Aj.chartInstances.get(n):void 0}static initialiseModules(){Vf.initialised||(OMe(),NMe(),Vf.initialised=!0)}static createOrUpdate(t){var z,W,Y,K,q;let{proxy:n}=t;const{userOptions:i,licenseManager:s,processedOverrides:r=((z=n==null?void 0:n.chart)==null?void 0:z.chartOptions.processedOverrides)??{},specialOverrides:o=((W=n==null?void 0:n.chart)==null?void 0:W.chartOptions.specialOverrides)??{},optionsMetadata:a=((Y=n==null?void 0:n.chart)==null?void 0:Y.chartOptions.optionMetadata)??{},deltaOptions:l,data:c,stripSymbols:d=!1,apiStartTime:f}=t,g=na.styles!=null?[["ag-charts-enterprise",na.styles]]:[];Vf.initialiseModules(),Wd(()=>[">>> AgCharts.createOrUpdate() user options",Bi(i)]);const{presetType:y}=a;let v=i;sg.optionsMutationFn&&v&&(v=sg.optionsMutationFn(Bi(v,F0.OPTIONS_CLONE_OPTS_FAST),y),Wd(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",Bi(v)]));const w=this.getPool(a);let S=!1,x,M=n==null?void 0:n.chart;M==null&&(w!=null&&w.hasFree())&&(x=w.obtainFree(),M=x.item);const{document:A,window:k,styleContainer:I,...P}=v??{},N=M==null?void 0:M.getChartOptions(),B=new F0(N,P,r,{...o,document:A,window:k,styleContainer:I},a,l,d,f);return(M==null||To.detectChartDefinition(B.processedOptions)!==To.detectChartDefinition(M.chartOptions.processedOptions))&&(x==null||x.release(),x=(K=this.getPool(B.optionMetadata))==null?void 0:K.obtain(B),x?M=x.item:(S=!0,M=Vf.createChartInstance(B,M))),g.forEach(([te,re])=>{M.ctx.domManager.addStyles(te,re)}),M.ctx.fontManager.updateFonts(B.googleFonts),c!=null&&M.ctx.dataService.restoreData(c),n==null?(n=new Aj(M,Vf.callbackApi,s),n.releaseChart=x==null?void 0:x.release):(x||S)&&((q=n.releaseChart)==null||q.call(n),n.chart=M,n.releaseChart=x==null?void 0:x.release),Wd.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[M.id]=M),M.queuedUserOptions.push(B.userOptions),M.queuedChartOptions.push(B),M.requestFactoryUpdate(te=>{Wd.group(">>>> Chart.applyOptions()",()=>{te.applyOptions(B);const re=te.queuedUserOptions.indexOf(B.userOptions)+1;te.queuedUserOptions.splice(0,re),te.queuedChartOptions.splice(0,re)})}),n}static markRemovedProperties(t,n,i=!1){if(typeof t!="object")return i;for(const s of Object.keys(t))typeof t[s]>"u"&&(Object.assign(t,{[s]:Symbol("UNSET")}),i||(i=!0));return i}static updateUserDelta(t,n,i){n=Bi(n,F0.OPTIONS_CLONE_OPTS_FAST);const s=lg(n,Vf.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);Wd(()=>[">>> AgCharts.updateUserDelta() user delta",Bi(n)]),Vf.createOrUpdate({proxy:t,deltaOptions:n,stripSymbols:s,apiStartTime:i})}static createChartInstance(t,n){const i=n==null?void 0:n.destroy({keepTransferableResources:!0});return To.detectChartDefinition(t.processedOptions).create(t,i)}static getPool(t){if(t.pool===!0)return SDe.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};bu.caretaker=new mY(lM);bu.initialised=!1;bu.callbackApi={caretaker:bu.caretaker,create(e,t,n,i,s){return bu.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:n,optionsMetadata:i,data:s})},update(e,t,n,i){return bu.createOrUpdate({userOptions:e,proxy:t,specialOverrides:n,apiStartTime:i})},updateUserDelta(e,t,n){return bu.updateUserDelta(e,t,n)}};bu.detachAndClear=e=>e.detachAndClear();bu.destroy=e=>e.destroy();var Jj=bu,xDe={};Zu(xDe,{Arc:()=>id,BBox:()=>Xe,Caption:()=>Gi,CategoryScale:()=>yw,Group:()=>jt,Line:()=>Pa,LinearScale:()=>$m,Marker:()=>Fs,Path:()=>oo,RadialColumnShape:()=>Tl,Rect:()=>_s,Scene:()=>G1,Sector:()=>Er,Shape:()=>Ms,TranslatableGroup:()=>to,getRadialColumnWidth:()=>P9,toRadians:()=>Ar});var id=class extends oo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return ll(Cs(this.startAngle),Cs(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Xe(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const n=this.getBBox();return this.type!==0&&n.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};id.className="Arc";L([Be()],id.prototype,"centerX",2);L([Be()],id.prototype,"centerY",2);L([Be()],id.prototype,"radius",2);L([Be()],id.prototype,"startAngle",2);L([Be()],id.prototype,"endAngle",2);L([Be()],id.prototype,"counterClockwise",2);L([Be()],id.prototype,"type",2);function $O(e,t,n){const i=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+n;return{x:Math.cos(r)*i,y:Math.sin(r)*i}}var Tl=class extends oo{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:n}=this,i=this.getRotation(),s=-n/2,r=n/2,o=-t,a=-e;let l=1/0,c=1/0,d=-1/0,f=-1/0;for(let g=0;g<4;g+=1){const{x:y,y:v}=$O(g%2===0?s:r,g<2?o:a,i);l=Math.min(y,l),c=Math.min(v,c),d=Math.max(y,d),f=Math.max(v,f)}return new Xe(l,c,d-l,f-c)}getRotation(){const{startAngle:e,endAngle:t}=this,n=E1(e,t);return Cs(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:n,path:i}=this,s=-e/2,r=e/2,o=-n,a=-t,l=this.getRotation(),c=[[s,a],[s,o],[r,o],[r,a]].map(([d,f])=>$O(d,f,l));i.clear(!0),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:n,innerRadius:i,axisInnerRadius:s,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=ll(i,s),l=Math.asin(e/2/i),c=this.getRotation(),d=(B,z)=>$O(B,z,c),f=(B,z)=>Math.sqrt(B**2+z**2),g=(B,z)=>z>B?0:Math.sqrt(B**2-z**2),y=(B,z,W)=>W?B<z:B>z,v=a&&!isNaN(l)&&l<Math.PI/6;let w=-e/2,S=e/2;const x=-n,M=-i*(v?Math.cos(l):1),A=y(r,f(i,e/2),!o);if(A){const B=g(r,i);w=-B,S=B}t.clear(!0);const k=d(w,M);t.moveTo(k.x,k.y);const I=ll(i,n),P=y(r,f(n,e/2),!o);if(I&&v)t.arc(0,0,i,Cs(-l-Math.PI/2)+c,Cs(l-Math.PI/2)+c,!1);else if(P){const B=-g(r,e/2),z=g(r,n);if(!A){const W=d(w,B);t.lineTo(W.x,W.y)}if(t.arc(0,0,r,Math.atan2(B,w)+c,Math.atan2(x,-z)+c,!1),!ll(z,0)){const W=d(z,x);t.lineTo(W.x,W.y)}t.arc(0,0,r,Math.atan2(x,z)+c,Math.atan2(B,S)+c,!1)}else{const B=d(w,x),z=d(S,x);t.lineTo(B.x,B.y),t.lineTo(z.x,z.y)}const N=d(S,M);if(t.lineTo(N.x,N.y),v)t.arc(0,0,i,Cs(l-Math.PI/2)+c,Cs(-l-Math.PI/2)+c,!0);else{const B=d(w,M);t.lineTo(B.x,B.y)}t.closePath()}};Tl.className="RadialColumnShape";L([Be()],Tl.prototype,"isBeveled",2);L([Be()],Tl.prototype,"columnWidth",2);L([Be()],Tl.prototype,"startAngle",2);L([Be()],Tl.prototype,"endAngle",2);L([Be()],Tl.prototype,"outerRadius",2);L([Be()],Tl.prototype,"innerRadius",2);L([Be()],Tl.prototype,"axisInnerRadius",2);L([Be()],Tl.prototype,"axisOuterRadius",2);L([Be()],Tl.prototype,"isRadiusAxisReversed",2);function P9(e,t,n,i,s){const r=E1(e,t),o=r*(1-i)/2;if(e+=o,t-=o,r<.001)return 2*n*s;if(r>=2*Math.PI){const y=e+r/2;e=y-Math.PI,t=y+Math.PI}const a=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),d=n*Math.sin(t),f=Math.floor(Math.sqrt((a-c)**2+(l-d)**2)),g=2*n*s;return Math.max(1,Math.min(g,f))}var MDe={};Zu(MDe,{ChartTheme:()=>vc,DEFAULT_ANNOTATION_HANDLE_FILL:()=>vD,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>wD,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>SD,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>bM,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>CM,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>bD,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>CD,DEFAULT_CAPTION_ALIGNMENT:()=>ig,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ng,DEFAULT_FIBONACCI_STROKES:()=>vM,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Ns,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Zi,DEFAULT_GRIDLINE_ENABLED:()=>ac,DEFAULT_POLAR_SERIES_STROKE:()=>ck,DEFAULT_SEPARATION_LINES_COLOUR:()=>mD,DEFAULT_SHADOW_COLOUR:()=>Ig,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>uk,DEFAULT_TEXTBOX_COLOR:()=>DD,DEFAULT_TEXTBOX_FILL:()=>xD,DEFAULT_TEXTBOX_STROKE:()=>MD,DEFAULT_TEXT_ANNOTATION_COLOR:()=>yD,DEFAULT_TOOLBAR_POSITION:()=>AD,IS_DARK_THEME:()=>yC,PALETTE_ALT_DOWN_FILL:()=>DB,PALETTE_ALT_DOWN_STROKE:()=>xB,PALETTE_ALT_NEUTRAL_FILL:()=>AB,PALETTE_ALT_NEUTRAL_STROKE:()=>RB,PALETTE_ALT_UP_FILL:()=>MB,PALETTE_ALT_UP_STROKE:()=>SB,PALETTE_DOWN_FILL:()=>ok,PALETTE_DOWN_STROKE:()=>sk,PALETTE_NEUTRAL_FILL:()=>lk,PALETTE_NEUTRAL_STROKE:()=>ak,PALETTE_UP_FILL:()=>rk,PALETTE_UP_STROKE:()=>ik,getChartTheme:()=>UI,resolveOperation:()=>ADe,themeNames:()=>DDe,themeSymbols:()=>wB,themes:()=>jB});var DDe=Object.keys(jB);function ADe(e){const t=vc.getDefaultPublicParameters(),n=vc.getDefaultColors();return new N8({line:{operation:e}},{series:[{type:"line"}]},t,n).resolve().operation}var RDe={};Zu(RDe,{Color:()=>ai,interpolateColor:()=>PY});var TDe={};Zu(TDe,{AGGREGATION_INDEX_X_MAX:()=>Da,AGGREGATION_INDEX_X_MIN:()=>Eo,AGGREGATION_INDEX_Y_MAX:()=>dl,AGGREGATION_INDEX_Y_MIN:()=>ul,AGGREGATION_SPAN:()=>Ru,AbstractBarSeries:()=>r9,AbstractBarSeriesProperties:()=>hG,ActionOnSet:()=>ro,AnchoredPopover:()=>H9,Animation:()=>_Y,AnimationManager:()=>zY,Arc:()=>id,Axis:()=>fB,AxisGroupZIndexMap:()=>S6,AxisInterval:()=>Iy,AxisLabel:()=>Di,AxisTick:()=>ky,AxisTickGenerator:()=>F6,BASE_FONT_SIZE:()=>Vd,BBox:()=>Xe,Background:()=>Ew,BackgroundModule:()=>F8,BandScale:()=>Ch,BarSeries:()=>GD,BarSeriesModule:()=>l9,BaseModuleInstance:()=>D1,BaseProperties:()=>It,BaseToolbar:()=>RG,Border:()=>zy,ButtonWidget:()=>iD,CachedTextMeasurer:()=>lY,CachedTextMeasurerPool:()=>Eg,CallbackCache:()=>nY,Caption:()=>Gi,CartesianAxis:()=>fD,CartesianSeries:()=>Wy,CartesianSeriesNodeEvent:()=>XB,CartesianSeriesProperties:()=>_g,CategoryAxis:()=>xw,CategoryScale:()=>yw,ChangeDetectableProperties:()=>qB,Chart:()=>nk,ChartAxisDirection:()=>j_,ChartOptions:()=>F0,ChartUpdateType:()=>P0,CollapseMode:()=>K8,Color:()=>ai,ColorScale:()=>gw,ConicGradient:()=>$5,ContextMenuBuiltins:()=>HY,ContextMenuRegistry:()=>VY,ContinuousScale:()=>ci,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Lw,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Pw,DEFAULT_POLAR_DIRECTION_KEYS:()=>x9,DEFAULT_POLAR_DIRECTION_NAMES:()=>M9,DEFAULT_TOOLTIP_CLASS:()=>rr,DEFAULT_TOOLTIP_DARK_CLASS:()=>Z6,DIRECTION_SWAP_AXES:()=>sK,DOMManager:()=>xY,DataController:()=>o6,DataModel:()=>r6,DataModelSeries:()=>ZB,DataService:()=>z1,Debug:()=>Ut,Deprecated:()=>EDe,DeprecatedAndRenamedTo:()=>IDe,DiscreteTimeAxis:()=>GK,DiscreteTimeScale:()=>gc,DragInterpreter:()=>$Y,DraggablePopover:()=>V9,DropShadow:()=>nd,ExtendedPath2D:()=>WC,FILL_GRADIENT_CONIC_DEFAULTS:()=>lSe,FILL_GRADIENT_LINEAR_DEFAULTS:()=>bw,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>sSe,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>rSe,FILL_GRADIENT_RADIAL_DEFAULTS:()=>hk,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>RD,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>aSe,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>oSe,FILL_IMAGE_DEFAULTS:()=>Py,FILL_PATTERN_DEFAULTS:()=>hh,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>cSe,FONT_SIZE:()=>V_,FONT_SIZE_RATIO:()=>Ia,FillGradientDefaults:()=>Ml,FillImageDefaults:()=>ua,FillPatternDefaults:()=>ki,FloatingToolbar:()=>dAe,FormatManager:()=>qC,Gradient:()=>k1,Group:()=>jt,GroupedCategoryAxis:()=>Ny,HdpiCanvas:()=>Q_,HierarchyNode:()=>KDe,HierarchySeries:()=>qDe,HierarchySeriesProperties:()=>Ac,HighlightManager:()=>jY,HighlightProperties:()=>Mh,HighlightState:()=>V6,HighlightStyle:()=>gD,Image:()=>Fw,InteractionManager:()=>GY,InteractionState:()=>BY,InterpolationProperties:()=>Ow,Invalidating:()=>JM,LABEL_BOXING_DEFAULTS:()=>yl,LARGEST_KEY_INTERVAL:()=>TK,LEGEND_CONTAINER_THEME:()=>aK,Label:()=>es,LayoutElement:()=>iB,LayoutManager:()=>QY,LegendMarkerLabel:()=>Rl,Line:()=>Pa,LineSeries:()=>HD,LineSeriesModule:()=>g9,LinearGradient:()=>Y5,LinearScale:()=>$m,LogScale:()=>FB,LonLatBBox:()=>ZDe,Marker:()=>Fs,Menu:()=>lAe,MenuItemWidget:()=>DG,MenuWidget:()=>G9,MercatorScale:()=>XDe,ModuleRegistry:()=>To,Motion:()=>CF,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>uc,NativeWidget:()=>YC,NewAreaSeriesModule:()=>s9,NewBarSeriesModule:()=>c9,NewBubbleSeriesModule:()=>h9,NewHistogramSeriesModule:()=>f9,NewLineSeriesModule:()=>p9,NewScatterSeriesModule:()=>m9,NiceMode:()=>y6,Node:()=>lh,NumberAxis:()=>ed,ObserveChanges:()=>Tg,OrdinalTimeScale:()=>zb,PHASE_METADATA:()=>dM,PHASE_ORDER:()=>Gb,PREV_NEXT_KEYS:()=>gC,Padding:()=>Ty,ParallelStateMachine:()=>FCe,Path:()=>oo,PointerEvents:()=>V5,PolarAxis:()=>ew,PolarSeries:()=>bG,PolarZIndexMap:()=>S9,Popover:()=>AG,PropertiesArray:()=>eD,Property:()=>F,ProxyInteractionService:()=>RY,ProxyOnWrite:()=>pve,ProxyProperty:()=>Zs,ProxyPropertyOnWrite:()=>cs,QUICK_TRANSITION:()=>kI,QuadtreeNearest:()=>z8,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>YI,RadialColumnShape:()=>Tl,Range:()=>Qu,Rect:()=>_s,RepeatType:()=>FY,Rotatable:()=>pw,RotatableGroup:()=>lve,RotatableText:()=>uY,SAFE_FILLS_OPERATION:()=>TB,SAFE_FILL_OPERATION:()=>nSe,SAFE_RANGE2_OPERATION:()=>iSe,SAFE_STROKE_FILL_OPERATION:()=>dk,SKIP_JS_BUILTINS:()=>k_,SMALLEST_KEY_INTERVAL:()=>RK,SORT_DOMAIN_GROUPS:()=>EK,Scalable:()=>F_,ScalableGroup:()=>ave,ScaleAlignment:()=>U5,Scene:()=>G1,SceneArrayChangeDetection:()=>P_,SceneChangeDetection:()=>Be,SceneObjectChangeDetection:()=>Ba,SceneRefChangeDetection:()=>G5,Sector:()=>Er,SectorBox:()=>y9,Selection:()=>no,Series:()=>tk,SeriesContentZIndexMap:()=>U6,SeriesGroupingChangedEvent:()=>BI,SeriesItemHighlightStyle:()=>xh,SeriesMarker:()=>or,SeriesNodeEvent:()=>ek,SeriesNodePickMode:()=>Y6,SeriesProperties:()=>Dl,SeriesTooltip:()=>Th,SeriesZIndexMap:()=>W6,Shape:()=>Ms,SimpleTextMeasurer:()=>H_,SliderWidget:()=>X_,StateMachine:()=>oD,StateMachineProperty:()=>NCe,StopProperties:()=>O_,SvgPath:()=>B9,TRIPLE_EQ:()=>B5,Text:()=>Ea,TextUtils:()=>Xn,TextWrapper:()=>tD,ThemeConstants:()=>dY,ThemeSymbols:()=>wB,TimeAxisParentLevel:()=>Aw,TimeScale:()=>eC,Toolbar:()=>cAe,ToolbarButtonProperties:()=>jD,ToolbarButtonWidget:()=>j9,ToolbarWidget:()=>B1,Tooltip:()=>Al,TooltipManager:()=>LI,TooltipPosition:()=>Ly,Transformable:()=>Qi,TransformableGroup:()=>_b,TransformableText:()=>UC,Translatable:()=>mw,TranslatableGroup:()=>to,TranslatableSvgPath:()=>rAe,UnitTimeScale:()=>$f,UpdateService:()=>JY,Vec2:()=>Kb,Vec4:()=>fM,WIDGET_HTML_EVENTS:()=>G_,Widget:()=>Xu,WidgetEventUtil:()=>eh,ZIndexMap:()=>TY,ZoomManager:()=>XY,accumulateGroup:()=>IK,accumulateStack:()=>kK,accumulatedValue:()=>vK,accumulativeValueProperty:()=>GF,addEscapeEventListener:()=>O1,addHitTestersToQuadtree:()=>dG,addMouseCloseListener:()=>U_,addOverrideFocusVisibleEventListener:()=>Y_,addTouchCloseListener:()=>$_,adjustLabelPlacement:()=>B8,aggregationDomain:()=>AM,aggregationIndexForXRatio:()=>sG,aggregationRangeFittingPoints:()=>nG,aggregationXRatioForDatumIndex:()=>iG,aggregationXRatioForXValue:()=>fh,angleBetween:()=>E1,angleCategoryAxisOptionsDefs:()=>HK,angleNumberAxisOptionsDefs:()=>zK,angularPadding:()=>mF,animationValidation:()=>OD,annotationCalloutStylesDefs:()=>s8,annotationChannelStyleDefs:()=>HB,annotationChannelTextDefs:()=>e8,annotationCommentStylesDefs:()=>r8,annotationCrossLineStyleDefs:()=>HF,annotationDisjointChannelStyleDefs:()=>n8,annotationFibonacciStylesDefs:()=>VF,annotationLineStyleDefs:()=>WI,annotationLineTextDefs:()=>Dk,annotationMeasurerStylesDefs:()=>PE,annotationNoteStylesDefs:()=>o8,annotationOptionsDef:()=>Tw,annotationParallelChannelStyleDefs:()=>i8,annotationQuickMeasurerStylesDefs:()=>a8,annotationShapeStylesDefs:()=>jF,annotationTextStylesDef:()=>FD,applyShapeFillBBox:()=>$6,applyShapeStyle:()=>th,areScalingEqual:()=>Ym,area:()=>BF,autoSizedLabelOptionsDefs:()=>Cg,bezier2DDistance:()=>Q5,bezier2DExtrema:()=>X5,boxPlotHighlightStyleOptionsDef:()=>WF,boxPlotSeriesThemeableOptionsDef:()=>l8,boxPlotStyleOptionsDef:()=>VB,buildDateFormatter:()=>ay,buildResetPathFn:()=>cG,calculateDataDiff:()=>a9,calculateLabelTranslation:()=>eAe,calculatePlacement:()=>K6,callWithContext:()=>yc,candlestickSeriesThemeableOptionsDef:()=>c8,cartesianAxisBandHighlightOptions:()=>PD,cartesianAxisCrosshairOptions:()=>Lg,cartesianAxisLabelOptionsDefs:()=>kD,cartesianAxisOptionsDefs:()=>Rh,cartesianChartOptionsDefs:()=>I9,cartesianCrossLineOptionsDefs:()=>zd,cartesianNumericAxisLabel:()=>kB,cartesianTimeAxisLabel:()=>LD,cartesianTimeAxisParentLevel:()=>bk,checkCrisp:()=>o9,chordSeriesThemeableOptionsDef:()=>u8,clampArray:()=>hM,clippedRoundRect:()=>RE,collapsedStartingBarPosition:()=>QI,commonAxisIntervalOptionsDefs:()=>LB,commonAxisLabelOptionsDefs:()=>Ah,commonAxisOptionsDefs:()=>Oy,commonChartOptionsDefs:()=>Lt,commonCrossLineLabelOptionsDefs:()=>cy,commonCrossLineOptionsDefs:()=>Du,commonSeriesOptionsDefs:()=>Dc,commonSeriesThemeableOptionsDefs:()=>pn,compactAggregationIndices:()=>oG,compareDates:()=>mB,computeBarFocusBounds:()=>gG,computeMarkerFocusBounds:()=>Tk,coneFunnelSeriesThemeableOptionsDef:()=>d8,continuousAxisOptions:()=>ww,countExpandingSearch:()=>UY,createAggregationIndices:()=>rG,createButton:()=>tAe,createCheckbox:()=>nAe,createDatumId:()=>nh,createDeprecationWarning:()=>SG,createIcon:()=>_9,createIdsGenerator:()=>bB,createSelect:()=>iAe,createTextArea:()=>sAe,dateToNumber:()=>ka,dateTruncationForDomain:()=>pB,datesSortOrder:()=>yB,datumKeys:()=>PI,datumStylerProperties:()=>cg,deconstructSelectionsOrNodes:()=>H1,deepClone:()=>Bi,deepFreeze:()=>Ud,diff:()=>ND,discreteTimeAxisIntervalOptionsDefs:()=>PB,drawCorner:()=>h0,drawMarkerUnitPolygon:()=>g0,durationDay:()=>ly,durationHour:()=>Um,durationMinute:()=>tg,durationMonth:()=>cB,durationSecond:()=>pC,durationWeek:()=>d6,durationYear:()=>gM,easing:()=>CF,enterpriseModule:()=>na,errorBarOptionsDefs:()=>gk,errorBarThemeableOptionsDefs:()=>TD,estimateTickCount:()=>k6,evaluateBezier:()=>jC,expandLegendPosition:()=>OE,extent:()=>Pg,extractDecoratedProperties:()=>O5,fillsOptionsDef:()=>wM,findMinMax:()=>Ys,findQuadtreeMatch:()=>XI,findRangeExtent:()=>ZC,fixNumericExtent:()=>La,focusCursorAtEnd:()=>uve,formatNumber:()=>AY,formatObjectValidator:()=>dK,formatPercent:()=>DY,formatValue:()=>KC,fromToMotion:()=>Os,funnelSeriesThemeableOptionsDef:()=>h8,getAngleRatioRadians:()=>j5,getColorStops:()=>Z5,getCrossLineValue:()=>p6,getDateTicksForInterval:()=>vB,getDatumRefPoint:()=>eB,getElementBBox:()=>iY,getIconClassNames:()=>L1,getLabelStyles:()=>Au,getLastFocus:()=>_1,getMissCount:()=>i6,getPath:()=>I_,getPathComponents:()=>s6,getRadialColumnWidth:()=>P9,getSequentialColors:()=>Ga,getShapeFill:()=>mC,getShapeStyle:()=>Fu,groupAccumulativeValueProperty:()=>dg,groupAverage:()=>yK,groupCount:()=>_F,groupStackValueProperty:()=>AK,groupSum:()=>mK,hasNoModifiers:()=>nD,heatmapSeriesThemeableOptionsDef:()=>f8,initMenuKeyNav:()=>bY,initRovingTabIndex:()=>vY,interpolatePoints:()=>KI,interpolationOptionsDefs:()=>pk,intervalCeil:()=>h6,intervalEpoch:()=>pM,intervalExtent:()=>uB,intervalFloor:()=>cl,intervalHierarchy:()=>mM,intervalMilliseconds:()=>Io,intervalNext:()=>g6,intervalPrevious:()=>f6,intervalRange:()=>wl,intervalRangeCount:()=>dB,intervalRangeStartIndex:()=>j1,intervalStep:()=>bg,intervalUnit:()=>Nu,isAgStandaloneChartOptions:()=>H6,isAgTopologyChartOptions:()=>z6,isBetweenAngles:()=>Sm,isButtonClickEvent:()=>F1,isChartAxisDirection:()=>Bve,isContinuous:()=>W1,isDecoratedObject:()=>T1,isDenseInterval:()=>JC,isGradientFill:()=>mc,isGradientOrPatternFill:()=>sve,isImageFill:()=>oy,isInputPending:()=>sY,isObjectWithProperty:()=>_5,isObjectWithStringProperty:()=>Pye,isPatternFill:()=>vg,isProperties:()=>jm,isScaleValid:()=>MM,jsonApply:()=>L0,jsonDiff:()=>dh,jsonPropertyCompare:()=>rY,jsonWalk:()=>lg,keyProperty:()=>ug,legendSymbolSvg:()=>q6,lineDistanceSquared:()=>TI,linearGaugeSeriesOptionsDef:()=>wg,linearGaugeSeriesThemeableOptionsDef:()=>HI,linearGaugeTargetOptionsDef:()=>mk,listDecoratedProperties:()=>ag,lowestGranularityForInterval:()=>dD,lowestGranularityUnitForTicks:()=>gB,lowestGranularityUnitForValue:()=>Y1,makeAccessibleClickListener:()=>$ve,makeSeriesTooltip:()=>jy,mapLineBackgroundSeriesThemeableOptionsDef:()=>m8,mapLineSeriesThemeableOptionsDef:()=>p8,mapMarkerSeriesThemeableOptionsDef:()=>y8,mapShapeBackgroundSeriesThemeableOptionsDef:()=>b8,mapShapeSeriesThemeableOptionsDef:()=>v8,mapValues:()=>F5,markerFadeInAnimation:()=>RM,markerOptionsDefs:()=>Dh,markerScaleInAnimation:()=>i9,markerSwipeScaleInAnimation:()=>aG,memo:()=>cM,merge:()=>oM,mergeArrayDefaults:()=>N5,mergeDefaults:()=>Rn,midpointStartingBarPosition:()=>aMe,minimumTimeAxisDatumGranularity:()=>_K,moduleRegistry:()=>Ou,motion:()=>fAe,multiSeriesHighlightStyle:()=>kg,nearestSquared:()=>R1,nearestSquaredInContainer:()=>Eye,nextPowerOf2:()=>Bbe,nightingaleSeriesThemeableOptionsDef:()=>C8,normaliseGroupTo:()=>wk,normalisePropertyTo:()=>LE,normalisedExtentWithMetadata:()=>OB,normalizeAngle180:()=>RI,normalizeAngle360:()=>Cs,normalizeAngle360FromDegrees:()=>ch,normalizeAngle360Inclusive:()=>zye,normalizeContinuousDomains:()=>tB,numberFormatValidator:()=>Mc,objectsEqual:()=>Oo,objectsEqualWith:()=>E_,ohlcSeriesThemeableOptionsDef:()=>g8,ordinalTimeAxisOptionsDefs:()=>Yb,pairUpSpans:()=>B0,partialAssign:()=>gF,pathFadeInAnimation:()=>qI,pathMotion:()=>$I,pathSwipeInAnimation:()=>lG,pick:()=>fF,pickByMatchingAngle:()=>w9,plotAreaPathFill:()=>J8,plotInterpolatedAreaSeriesFillSpans:()=>_E,plotInterpolatedLinePathStroke:()=>FE,plotLinePathStroke:()=>JB,pointsEq:()=>DM,polarChartOptionsDefs:()=>k9,prepareAreaFillAnimationFns:()=>e9,prepareAreaPathAnimation:()=>t9,prepareAxisAnimationContext:()=>v6,prepareAxisAnimationFunctions:()=>b6,prepareBarAnimationFunctions:()=>JI,prepareLinePathAnimation:()=>Q8,prepareLinePathPropertyAnimation:()=>tG,prepareLinePathStrokeAnimationFns:()=>eG,preparePieSeriesAnimationFunctions:()=>BE,previousPowerOf2:()=>SF,processedDataIsAnimatable:()=>Mw,pyramidSeriesThemeableOptionsDef:()=>w8,radarAreaSeriesThemeableOptionsDef:()=>S8,radarLineSeriesThemeableOptionsDef:()=>x8,radialBarSeriesThemeableOptionsDef:()=>M8,radialColumnSeriesThemeableOptionsDef:()=>D8,radialGaugeSeriesOptionsDef:()=>ED,radialGaugeSeriesThemeableOptionsDef:()=>VI,radialGaugeTargetOptionsDef:()=>yk,radiusCategoryAxisOptionsDefs:()=>jK,radiusNumberAxisOptionsDefs:()=>VK,range:()=>q1,rangeAreaSeriesThemeableOptionsDef:()=>A8,rangeBarSeriesThemeableOptionsDef:()=>R8,rangeValidator:()=>fk,rangedValueProperty:()=>DK,resetAxisFillSelectionFn:()=>w6,resetAxisGroupFn:()=>C6,resetAxisLabelSelectionFn:()=>_I,resetAxisLineSelectionFn:()=>IF,resetBarSelectionsFn:()=>EM,resetLabelFn:()=>Vy,resetMarkerFn:()=>Rk,resetMarkerPositionFn:()=>TM,resetMotion:()=>Mr,resetPieSelectionsFn:()=>C9,rowCountProperty:()=>xK,sankeySeriesThemeableOptionsDef:()=>T8,scale:()=>Qr,sectorBox:()=>v9,seriesLabelFadeInAnimation:()=>os,seriesLabelFadeOutAnimation:()=>NE,seriesLabelOptionsDefs:()=>ti,setElementBBox:()=>II,setPath:()=>L_,shadowOptionsDefs:()=>Ju,shallowClone:()=>B_,simpleMemorize:()=>Sr,simpleMemorize2:()=>sD,singleSeriesHighlightStyle:()=>oK,solveBezier:()=>EI,sortAndUniqueDates:()=>kF,splitBezier2D:()=>aM,standaloneChartOptionsDefs:()=>cDe,staticFromToMotion:()=>wh,stopPageScrolling:()=>CY,sum:()=>MSe,sumValues:()=>Ck,sunburstSeriesThemeableOptionsDef:()=>E8,textOrSegments:()=>IB,tickFormat:()=>E6,timeInterval:()=>vk,timeIntervalUnit:()=>ID,toDegrees:()=>Hye,toRadians:()=>Ar,toolbarButtonOptionsDefs:()=>Mm,tooltipContentAriaLabel:()=>Q6,tooltipHtml:()=>eK,tooltipOptionsDefs:()=>En,topologyChartOptionsDefs:()=>lDe,trailingAccumulatedValue:()=>bK,trailingAccumulatedValueProperty:()=>ESe,treemapSeriesThemeableOptionsDef:()=>I8,updateClipPath:()=>ZI,updateLabelNode:()=>_8,validateCrossLineValue:()=>m6,valueProperty:()=>mi,visibleRangeIndices:()=>WY,waterfallSeriesThemeableOptionsDef:()=>k8,without:()=>Ke});function SG(){return(e,t)=>{const n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");ze.warnOnce(n)}}function EDe(e,t){const n=SG(),i=t==null?void 0:t.default;return ry((s,r,o)=>(o!==i&&n(r.toString(),e),o))}function IDe(e,t){const n=SG();return ry((i,s,r)=>(r!==i[e]&&(n(s.toString(),`Use [${e}] instead.`),L_(i,e,t?t(r):r)),hF),(i,s)=>(n(s.toString(),`Use [${e}] instead.`),I_(i,e)))}var Kb={add:kDe,angle:_De,apply:$De,equal:WDe,distance:ODe,distanceSquared:NDe,from:UDe,gradient:GDe,intercept:zDe,intersectAtX:VDe,intersectAtY:HDe,length:MG,lengthSquared:PDe,multiply:LDe,normalized:FDe,origin:O9,required:YDe,rotate:BDe,round:jDe,sub:xG};function kDe(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function xG(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function LDe(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function MG(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function PDe(e){return e.x*e.x+e.y*e.y}function ODe(e,t){const n=xG(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function NDe(e,t){const n=xG(e,t);return n.x*n.x+n.y*n.y}function FDe(e){const t=MG(e);return{x:e.x/t,y:e.y/t}}function _De(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function BDe(e,t,n=O9()){const i=MG(e);return{x:n.x+i*Math.cos(t),y:n.y+i*Math.sin(t)}}function GDe(e,t,n){const i=t.x-e.x;return(n==null?t.y-e.y:n-t.y-(n-e.y))/i}function zDe(e,t,n){return(n==null?e.y:n-e.y)-t*e.x}function HDe(e,t,n=0,i){return{x:e===1/0?1/0:(n-t)/e,y:i==null?n:i-n}}function VDe(e,t,n=0,i){const s=e===1/0?1/0:e*n+t;return{x:n,y:i==null?s:i-s}}function jDe(e,t=2){return{x:oV(e.x,t),y:oV(e.y,t)}}function WDe(e,t){return e.x===t.x&&e.y===t.y}function UDe(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function $De(e,t){return e.x=t.x,e.y=t.y,e}function YDe(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function O9(){return{x:0,y:0}}var N9=class GE{constructor(t,n,i,s,r,o,a,l,c){this.series=t,this.datumIndex=n,this.datum=i,this.sizeValue=s,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=l,this.children=c,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,n=GE.Walk.PreOrder){n===GE.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,n)}),n===GE.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};N9.Walk={PreOrder:0,PostOrder:1};var KDe=N9,qDe=class extends tk{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new gw,this.animationState=new oD("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:n,colorKey:i,colorRange:s}=this.properties;let r=0,o=1/0,a=-1/0;const l=(g,y,v)=>{const w=v.depth!=null?v.depth+1:0,S=t!=null?g[t]:void 0,x=S==null||S.length===0;let M=n!=null?g[n]:void 0;Number.isFinite(M)?M=Math.max(M,0):M=x?1:0;const A=M;r=Math.max(r,w);const k=i!=null?g[i]:void 0;return typeof k=="number"&&(o=Math.min(o,k),a=Math.max(a,k)),c(new e(this,y,g,M,k,A,w,v,[]),S)},c=(g,y)=>{const{datumIndex:v}=g;return y==null||y.forEach((w,S)=>{const x=l(w,v.concat(S),g);g.children.push(x),g.sumSize+=x.sumSize}),g},d=c(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),f=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=d,this.maxDepth=r,this.colorDomain=f}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorRange:n}=this.properties,{id:i,ctx:{legendManager:s},visible:r}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:r&&s.getItemEnabled({seriesId:i}),seriesId:i,series:this.getFormatterContext("color"),colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:n}of this.datumSelection)if(Jd(n.datumIndex,e))return t-1;return 0}pickFocus(e){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const t=At(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:n,otherIndexDelta:i}=e;let s=this.removeMeIndexPathForIndex(t);const r=s.reduce((c,d)=>c.children[d],this.rootNode);if(i>0&&r.hasChildren)s=[...s,0];else if(i<0&&s.length>1)s=s.slice(0,-1);else if(i===0&&n!==0){const c=r.parent.children.length-1;s=s.slice(),s[s.length-1]=At(0,s[s.length-1]+n,c)}const o=s.reduce((c,d)=>c.children[d],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){ze.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},Ac=class extends Dl{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(bs),this.fillGradientDefaults=new Ml,this.fillPatternDefaults=new ki,this.fillImageDefaults=new ua,this.strokes=Object.values(Gd)}};L([F],Ac.prototype,"childrenKey",2);L([F],Ac.prototype,"sizeKey",2);L([F],Ac.prototype,"colorKey",2);L([F],Ac.prototype,"colorName",2);L([F],Ac.prototype,"fills",2);L([F],Ac.prototype,"fillGradientDefaults",2);L([F],Ac.prototype,"fillPatternDefaults",2);L([F],Ac.prototype,"fillImageDefaults",2);L([F],Ac.prototype,"strokes",2);L([F],Ac.prototype,"colorRange",2);var ZDe=class F9{constructor(t,n,i,s){this.lon0=t,this.lat0=n,this.lon1=i,this.lat1=s}extend(t,n,i,s){return this.lon0=Math.min(this.lon0,t),this.lat0=Math.min(this.lat0,n),this.lon1=Math.max(this.lon1,i),this.lat1=Math.max(this.lat1,s),this}merge(t){return this.extend(t.lon0,t.lat0,t.lon1,t.lat1)}static extend(t,n,i,s,r){return t?t.extend(n,i,s,r):new F9(n,i,s,r)}},Fk=Math.PI/180,YO=e=>e*Fk,KO=e=>-Math.log(Math.tan(Math.PI*.25+e*Fk*.5)),qO=e=>e/Fk,ZO=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(Fk*.5),XDe=class e2 extends I1{constructor(t,n){super(),this.domain=t,this.range=n,this.type="mercator",this.defaultTickCount=0,this.bounds=e2.bounds(t)}static bounds(t){const[[n,i],[s,r]]=t,o=YO(n),a=KO(i),l=YO(s),c=KO(r);return new Xe(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new e2([[qO(0),ZO(0)],[qO(1),ZO(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let n=-1/0,i=1/0,s=-1/0,r=1/0;for(const o of t)for(const[a,l]of o)n=Math.min(a,n),i=Math.max(a,i),s=Math.min(l,s),r=Math.max(l,r);return{domain:[[n,s],[i,r]],animatable:!0}}convert([t,n]){const[[i,s],[r,o]]=this.range,a=(r-i)/this.bounds.width,l=(o-s)/this.bounds.height;return[(YO(t)-this.bounds.x)*a+i,(KO(n)-this.bounds.y)*l+s]}invert([t,n]){const[[i,s],[r,o]]=this.range,a=(r-i)/this.bounds.width,l=(o-s)/this.bounds.height;return[qO((t-i)/a+this.bounds.x),ZO((n-s)/l+this.bounds.y)]}},QDe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},JDe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function eAe({yDirection:e,padding:t=0,position:n="top",bbox:i}){const s=e?QDe:JDe,{xTranslationDirection:r,yTranslationDirection:o}=s[n],a=r*(t+i.width/2),l=o*(t+i.height/2);return{xTranslation:a,yTranslation:l}}function tAe(e,t){const n=Yt("button",_k("ag-charts-input ag-charts-button",t));return e.label!==void 0?n.append(e.label):(n.append(_9(e.icon)),n.ariaLabel=e.altText),n.addEventListener("click",e.onPress),VC(n,t),n}function nAe(e,t){const n=Yt("input",_k("ag-charts-input ag-charts-checkbox",t));return n.type="checkbox",n.checked=e.checked,n.addEventListener("change",i=>e.onChange(n.checked,i)),n.addEventListener("keydown",i=>{F1(i)&&(i.preventDefault(),n.click())}),VC(n,t),n}function iAe(e,t){const n=Yt("select",_k("ag-charts-input ag-charts-select",t));return n.append(...e.options.map(i=>{const s=Yt("option");return s.value=i.value,s.textContent=i.label,s})),fn(n,"data-preventdefault",!1),n.value=e.value,n.addEventListener("change",i=>e.onChange(n.value,i)),VC(n,t),n}function sAe(e,t){const n=Yt("textarea",_k("ag-charts-input ag-charts-textarea",t));return n.value=e.value,n.addEventListener("input",i=>e.onChange(n.value,i)),VC(n,t),fn(n,"data-preventdefault",!1),n}function _9(e){const t=Yt("span",`ag-charts-icon ag-charts-icon-${e}`);return fn(t,"aria-hidden",!0),t}function _k(e,t){return t==null?e:`${e} ${t.class}`}var B9=class extends oo{constructor(e=""){super(),this._d="",this.d=e}get d(){return this._d}set d(e){e!==this._d&&(this._d=e,this.path.clear(),this.path.appendSvg(e),this.checkPathDirty())}},rAe=class extends mw(B9){isPointInPath(e,t){return super.isPointInPath(e-this.translationX,t-this.translationY)}},Fw=class extends lh{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,n=this.sourceImage;n&&(t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};L([Be()],Fw.prototype,"x",2);L([Be()],Fw.prototype,"y",2);L([Be()],Fw.prototype,"width",2);L([Be()],Fw.prototype,"height",2);L([Be()],Fw.prototype,"opacity",2);var oAe={};Zu(oAe,{ButtonWidget:()=>iD,MenuItemWidget:()=>DG,MenuWidget:()=>G9,NativeWidget:()=>YC,SliderWidget:()=>X_,ToolbarWidget:()=>B1,WIDGET_HTML_EVENTS:()=>G_,Widget:()=>Xu,WidgetEventUtil:()=>eh});var DG=class extends MY{constructor(){super(Yt("div"),"menuitem")}},aAe=["Escape","ArrowLeft"],G9=class z9 extends q_{constructor(t="vertical"){super(t,"menu"),this.closeSubMenu=n=>this.openSubMenu(n,void 0)}destructor(){this.selfClose("2")}addSeparator(){const t=Vu().createElement("div");return fn(t,"role","separator"),this.elem.appendChild(t),t}onChildAdded(t){super.onChildAdded(t),t.hasPopup()||t.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(t){super.onChildRemoved(t),t.hasPopup()||t.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){const t=new DG,n=DI(),i=new z9(this.orientation),s=o=>{t.isDisabled()||this.openSubMenu(o,i)},r=o=>{nD(o.sourceEvent)&&o.sourceEvent.code==="ArrowRight"&&s(o)};return t.setAriaHasPopup("menu"),t.setAriaExpanded(!1),t.setAriaControls(n),t.addListener("click",s),t.addListener("mouseenter",s),t.addListener("keydown",r),i.addListener("close-widget",()=>t.setAriaExpanded(!1)),i.addListener("open-widget",()=>t.setAriaExpanded(!0)),i.id=n,this.addChild(t),{subMenuButton:t,subMenu:i}}openSubMenu(t,n){var s;const{openScope:i}=this;i&&((s=i.openSubMenu)==null||s.selfClose("4"),n==null||n.open(t),i.openSubMenu=n)}open(t,n){var r,o;if(this.openScope!=null)return;this.openScope={lastFocus:_1(t.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new Vi};const i=this.openScope,s=this.children.map(a=>a.getElement());fn(i.lastFocus,"aria-expanded",!0),i.removers.register(U_(this.elem,i.abort),$_(this.elem,i.abort),...this.children.map(a=>O1(a.getElement(),i.close,aAe)),(n==null?void 0:n.overrideFocusVisible)&&Y_(this.elem,s,n.overrideFocusVisible)),(r=this.internalListener)==null||r.dispatch("open-widget",this,{type:"open-widget"}),(o=this.children[0])==null||o.focus({preventScroll:!0})}selfClose(t){var r;if(this.openScope===void 0)return;const{lastFocus:n,removers:i,openSubMenu:s}=this.openScope;this.openScope=void 0,s==null||s.selfClose("3"),fn(n,"aria-expanded",!1),t==="0"&&(n==null||n.focus({preventScroll:!0})),i.flush(),(r=this.internalListener)==null||r.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},eW="canvas-overlay",AG=class extends D1{constructor(t,n,i){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${n}`,i!=null&&i.detached?this.element=Yt("div"):this.element=t.domManager.addChild(eW,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>t.domManager.removeChild(eW,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){const{lastFocus:n=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),n==null||n.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,n){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=Yt("div","ag-charts-popover");if(n.ariaLabel!=null&&i.setAttribute("aria-label",n.ariaLabel),n.class!=null&&i.classList.add(n.class),i.replaceChildren(...t),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),n.onHide&&this.hideFns.push(n.onHide),n.initialFocus&&n.sourceEvent){const s=_1(n.sourceEvent);s!==void 0&&(this.lastFocus=s,this.initialFocus=n.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){var i;const n=this.getPopoverElement();n&&(n.style.setProperty("right","unset"),n.style.setProperty("bottom","unset"),t.x!=null&&n.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&n.style.setProperty("top",`${Math.floor(t.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},H9=class extends AG{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const n=t.anchor??this.anchor,i=t.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(e,t);return n&&this.setAnchor(n,i),$n().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:n}=this,i=this.getPopoverElement();if(!e||!i)return;const s=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:o}=i;let a=At(0,e.x,s.width-r),l=At(0,e.y,s.height-o);a!==e.x&&(n==null?void 0:n.x)!=null&&(a=At(0,n.x-r,s.width-r)),l!==e.y&&(n==null?void 0:n.y)!=null&&(l=At(0,n.y-o,s.height-o)),this.updatePosition({x:a,y:l})}},lAe=class extends H9{show(e){const t=e.items.map(i=>this.createRow(e,i)),n=this.showWithChildren(t,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=bY({orientation:"vertical",menu:n,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var i;(i=this.menuCloser)==null||i.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:n="menuitem"}=e,i=t.value===e.value,s=Yt("div","ag-charts-menu__row");if(s.setAttribute("role",n),n==="menuitemradio"&&s.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(s.dataset.popoverId=t.value),s.classList.toggle("ag-charts-menu__row--active",i),t.icon!=null){const l=Yt("span",`ag-charts-menu__icon ${L1(t.icon)}`);s.appendChild(l)}const r=t.strokeWidth!=null;if(r&&(s.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),s.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const l=Yt("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),s.appendChild(l)}"altText"in t&&(s.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var l;(l=e.onPress)==null||l.call(e,t)},a=l=>{F1(l)&&(o(),l.preventDefault(),l.stopPropagation())};return s.addEventListener("keydown",a),s.addEventListener("click",a),s.addEventListener("mousemove",()=>{s.focus({preventScroll:!0})}),s}},V9=class extends AG{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Kb.from(e.clientX,e.clientY),position:Kb.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,n=this.getPopoverElement();if(!t||!n)return;const i=Kb.sub(Kb.from(e.clientX,e.clientY),t.client),s=Kb.add(t.position,i),r=this.ctx.domManager.getBoundingClientRect(),o={};s.x>=0&&s.x+n.offsetWidth<=r.width&&(o.x=s.x),s.y>=0&&s.y+n.offsetHeight<=r.height&&(o.y=s.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},jD=class extends It{};L([F],jD.prototype,"icon",2);L([F],jD.prototype,"label",2);L([F],jD.prototype,"ariaLabel",2);L([F],jD.prototype,"tooltip",2);var j9=class extends iD{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${L1(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const i=t.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${i}</span>`}this.elem.innerHTML=n}setChecked(e){fn(this.elem,"aria-checked",e)}},tW="ag-charts-toolbar__button--active",RG=class extends B1{constructor({eventsHub:e,localeManager:t},n,i){super(i),this.ariaLabelId=n,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new EY,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=e,this.localeManager=t,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",i==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",i==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(e){this.ariaLabelId=e,this.updateAriaLabel()}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[n,i]of e.entries())(this.buttonWidgets.at(n)??this.createButton(n,i)).update(i);for(let n=e.length;n<t.length;n++){const i=this.buttonWidgets.at(n);i==null||i.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var n;(n=this.buttonWidgets.at(e))==null||n.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(tW,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,n]of this.buttonWidgets.entries())n.toggleClass(tW,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var n;e!==-1&&((n=this.buttonWidgets.at(e))==null||n.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var n;e!==-1&&((n=this.buttonWidgets.at(e))==null||n.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var n;(n=this.buttonWidgets.at(e))==null||n.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),n=e.getBounds();return new Xe(n.x+t.x,n.y+t.y,n.width,n.height)}refreshButtonClasses(){var r;const{buttonWidgets:e,hasPrefix:t}=this;let n,i,s;for(const[o,a]of e.entries())n=!t&&o===0||s!=a.section,i=o===e.length-1||a.section!=((r=e.at(o+1))==null?void 0:r.section),a.toggleClass("ag-charts-toolbar__button--first",n),a.toggleClass("ag-charts-toolbar__button--last",i),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&n),s=a.section}createButton(e,t){const n=this.createButtonWidget();return n.addClass("ag-charts-toolbar__button"),n.addListener("click",i=>{const s={index:e,...t instanceof It?t.toJson():t},r=this.getButtonWidgetBounds(n);this.events.dispatch("button-pressed",{event:i,button:s,buttonBounds:r})}),n.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(n.section=t.section),this.buttonWidgets.push(n),this.addChild(n),n}},cAe=class extends RG{createButtonWidget(){return new j9(this.localeManager)}},uAe=class extends V9{constructor(e,t,n){super(e,t),this.onPopoverMoved=n,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Xe((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,n){const i=this.getPopoverElement();if(!i)return;const s=e.position??"above",{offsetWidth:r,offsetHeight:o}=i;let a=e.y-o-n,l=e.x-r/2;s==="below"?a=e.y+n:s==="right"?(a=e.y-o/2,l=e.x+t):s==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),n=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(At(0,e.x,n.width-t.width)),e.y=Math.floor(At(0,e.y,n.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},dAe=class extends RG{constructor(e,t,n){super(e,t,"horizontal"),this.hasPrefix=!0,this.popover=new uAe(e,n,this.onPopoverMoved.bind(this)),this.dragHandle=new hAe(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var n;const e=this.popover.getBounds();if((n=this.popoverBounds)!=null&&n.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),i=this.dragHandle.getBounds();return new Xe(n.x+t.x-i.width,n.y+t.y,n.width,n.height)}},hAe=class extends YC{constructor(e){super(Yt("div","ag-charts-floating-toolbar__drag-handle"));const t=new YC(Yt("span",`${L1("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},fAe={...l6,...c6};sg.create.bind(sg),sg.__createSparkline.bind(sg);function nW(e,t){return{...e,container:t.current}}function gAe(e,t){const n=T.forwardRef(function(s,r){const{options:o,style:a,className:l}=s,c=T.useRef(null),d=T.useRef();T.useLayoutEffect(()=>{const g=e(nW(o,c));return d.current=g,()=>{g.destroy()}},[]);const f=d.current===void 0;return T.useEffect(()=>{var g;f||(g=d.current)==null||g.update(nW(o,c)).catch(y=>console.error(y))},[o]),T.useImperativeHandle(r,()=>d.current,[]),T.useMemo(()=>T.createElement("div",{ref:c,style:a,className:l}),[a,l])});return n.displayName=t,n}var pAe=gAe(e=>sg.create(e),"AgCharts");/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mAe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yAe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),iW=e=>{const t=yAe(e);return t.charAt(0).toUpperCase()+t.slice(1)},W9=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),vAe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CAe=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...bAe,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:W9("lucide",s),...!r&&!vAe(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=(e,t)=>{const n=T.forwardRef(({className:i,...s},r)=>T.createElement(CAe,{ref:r,iconNode:t,className:W9(`lucide-${mAe(iW(e))}`,`lucide-${e}`,i),...s}));return n.displayName=iW(e),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],SAe=za("calendar",wAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xAe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]],MAe=za("chart-column-big",xAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DAe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U9=za("check",DAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AAe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TG=za("chevron-down",AAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RAe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TAe=za("chevron-left",RAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EAe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IAe=za("chevron-right",EAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kAe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LAe=za("chevron-up",kAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$9=za("info",PAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OAe=[["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M3 18h1",key:"1eiwyy"}],["path",{d:"M3 6h1",key:"rgxa97"}],["path",{d:"M8 12h1",key:"1con00"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M8 6h1",key:"tn6mkg"}]],NAe=za("logs",OAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FAe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y9=za("pen",FAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BAe=za("search",_Ae);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GAe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],K9=za("trash-2",GAe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zAe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HAe=za("x",zAe);function sW(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q9(...e){return t=>{let n=!1;const i=e.map(s=>{const r=sW(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():sW(e[s],null)}}}}function ui(...e){return T.useCallback(q9(...e),e)}function uy(e){const t=jAe(e),n=T.forwardRef((i,s)=>{const{children:r,...o}=i,a=T.Children.toArray(r),l=a.find(WAe);if(l){const c=l.props.children,d=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return _.jsx(t,{...o,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return _.jsx(t,{...o,ref:s,children:r})});return n.displayName=`${e}.Slot`,n}var VAe=uy("Slot");function jAe(e){const t=T.forwardRef((n,i)=>{const{children:s,...r}=n;if(T.isValidElement(s)){const o=$Ae(s),a=UAe(r,s.props);return s.type!==T.Fragment&&(a.ref=i?q9(i,o):o),T.cloneElement(s,a)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z9=Symbol("radix.slottable");function X9(e){const t=({children:n})=>_.jsx(_.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Z9,t}function WAe(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z9}function UAe(e,t){const n={...t};for(const i in t){const s=e[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?n[i]=(...a)=>{const l=r(...a);return s(...a),l}:s&&(n[i]=s):i==="style"?n[i]={...s,...r}:i==="className"&&(n[i]=[s,r].filter(Boolean).join(" "))}return{...e,...n}}function $Ae(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const rW=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,oW=q$,YAe=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return oW(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:r}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=r==null?void 0:r[c];if(d===null)return null;const g=rW(d)||rW(f);return s[c][g]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,g]=d;return g===void 0||(c[f]=g),c},{}),l=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((c,d)=>{let{class:f,className:g,...y}=d;return Object.entries(y).every(v=>{let[w,S]=v;return Array.isArray(S)?S.includes({...r,...a}[w]):{...r,...a}[w]===S})?[...c,f,g]:c},[]);return oW(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},IM=YAe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",outline:"border border-outline-border bg-outline-background shadow-xs",ghost:"hover:bg-accent"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Oa({className:e,variant:t,size:n,asChild:i=!1,...s}){const r=i?VAe:"button";return _.jsx(r,{"data-slot":"button",className:bt(IM({variant:t,size:n,className:e})),...s})}const XO={},v0={};function G0(e,t){try{const i=(XO[e]||(XO[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return i in v0?v0[i]:aW(i,i.split(":"))}catch{if(e in v0)return v0[e];const n=e==null?void 0:e.match(KAe);return n?aW(e,n.slice(1)):NaN}}const KAe=/([+-]\d\d):?(\d\d)?/;function aW(e,t){const n=+t[0],i=+(t[1]||0);return v0[e]=n>0?n*60+i:n*60-i}class Tu extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(G0(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Q9(this),t2(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Tu(...n,t):new Tu(Date.now(),t)}withTimeZone(t){return new Tu(+this,t)}getTimezoneOffset(){return-G0(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),t2(this),+this}[Symbol.for("constructDateFrom")](t){return new Tu(+new Date(t),this.timeZone)}}const lW=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!lW.test(e))return;const t=e.replace(lW,"$1UTC");Tu.prototype[t]&&(e.startsWith("get")?Tu.prototype[e]=function(){return this.internal[t]()}:(Tu.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),qAe(this),+this},Tu.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),t2(this),+this}))});function t2(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function qAe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Q9(e)}function Q9(e){const t=G0(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),r=i-s,o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();r&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+r);const a=i-t;a&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a);const l=G0(e.timeZone,e),d=-new Date(+e).getTimezoneOffset()-l,f=l!==t,g=d-a;if(f&&g){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+g);const y=G0(e.timeZone,e),v=l-y;v&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+v),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+v))}}class Zr extends Tu{static tz(t,...n){return n.length?new Zr(...n,t):new Zr(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${ZAe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new Zr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Zr(+new Date(t),this.timeZone)}}function ZAe(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}var wt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(wt||(wt={}));var Yi;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Yi||(Yi={}));var dc;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(dc||(dc={}));var Ma;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ma||(Ma={}));const J9=6048e5,XAe=864e5,cW=Symbol.for("constructDateFrom");function qs(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cW in e?e[cW](t):e instanceof Date?new e.constructor(t):new Date(t)}function di(e,t){return qs(t||e,e)}function EG(e,t,n){const i=di(e,n==null?void 0:n.in);return isNaN(t)?qs(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function eq(e,t,n){const i=di(e,n==null?void 0:n.in);if(isNaN(t))return qs(e,NaN);if(!t)return i;const s=i.getDate(),r=qs(e,i.getTime());r.setMonth(i.getMonth()+t+1,0);const o=r.getDate();return s>=o?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let QAe={};function _w(){return QAe}function dy(e,t){var a,l,c,d;const n=_w(),i=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=di(e,t==null?void 0:t.in),r=s.getDay(),o=(r<i?7:0)+r-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function kM(e,t){return dy(e,{...t,weekStartsOn:1})}function tq(e,t){const n=di(e,t==null?void 0:t.in),i=n.getFullYear(),s=qs(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=kM(s),o=qs(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=kM(o);return n.getTime()>=r.getTime()?i+1:n.getTime()>=a.getTime()?i:i-1}function uW(e){const t=di(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Bw(e,...t){const n=qs.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function hy(e,t){const n=di(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function nq(e,t,n){const[i,s]=Bw(n==null?void 0:n.in,e,t),r=hy(i),o=hy(s),a=+r-uW(r),l=+o-uW(o);return Math.round((a-l)/XAe)}function JAe(e,t){const n=tq(e,t),i=qs(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),kM(i)}function eRe(e,t,n){return EG(e,t*7,n)}function tRe(e,t,n){return eq(e,t*12,n)}function nRe(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=qs.bind(null,s));const r=di(s,i);(!n||n<r||isNaN(+r))&&(n=r)}),qs(i,n||NaN)}function iRe(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=qs.bind(null,s));const r=di(s,i);(!n||n>r||isNaN(+r))&&(n=r)}),qs(i,n||NaN)}function iq(e,t,n){const[i,s]=Bw(n==null?void 0:n.in,e,t);return+hy(i)==+hy(s)}function sq(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sRe(e){return!(!sq(e)&&typeof e!="number"||isNaN(+di(e)))}function rRe(e,t,n){const[i,s]=Bw(n==null?void 0:n.in,e,t),r=i.getFullYear()-s.getFullYear(),o=i.getMonth()-s.getMonth();return r*12+o}function dW(e,t){const n=di(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function n2(e,t){const n=di(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function oRe(e,t){const[n,i]=Bw(e,t.start,t.end);return{start:n,end:i}}function aRe(e,t){const{start:n,end:i}=oRe(t==null?void 0:t.in,e);let s=+n>+i;const r=s?+n:+i,o=s?i:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=r;)l.push(qs(n,o)),o.setMonth(o.getMonth()+a);return s?l.reverse():l}function $d(e,t){const n=di(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function rq(e,t){const n=di(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function e1(e,t){const n=di(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function IG(e,t){var a,l,c,d;const n=_w(),i=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=di(e,t==null?void 0:t.in),r=s.getDay(),o=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function lRe(e,t){return IG(e,{...t,weekStartsOn:1})}const cRe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uRe=(e,t,n)=>{let i;const s=cRe[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function bC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dRe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hRe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fRe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gRe={date:bC({formats:dRe,defaultWidth:"full"}),time:bC({formats:hRe,defaultWidth:"full"}),dateTime:bC({formats:fRe,defaultWidth:"full"})},pRe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mRe=(e,t,n,i)=>pRe[e];function Cu(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}const yRe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vRe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bRe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CRe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xRe=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},MRe={ordinalNumber:xRe,era:Cu({values:yRe,defaultWidth:"wide"}),quarter:Cu({values:vRe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cu({values:bRe,defaultWidth:"wide"}),day:Cu({values:CRe,defaultWidth:"wide"}),dayPeriod:Cu({values:wRe,defaultWidth:"wide",formattingValues:SRe,defaultFormattingWidth:"wide"})};function wu(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const o=r[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?ARe(a,f=>f.test(o)):DRe(a,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function DRe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ARe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oq(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],r=t.match(e.parsePattern);if(!r)return null;let o=e.valueCallback?e.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const RRe=/^(\d+)(th|st|nd|rd)?/i,TRe=/\d+/i,ERe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IRe={any:[/^b/i,/^(a|c)/i]},kRe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LRe={any:[/1/i,/2/i,/3/i,/4/i]},PRe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ORe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NRe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FRe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_Re={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BRe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GRe={ordinalNumber:oq({matchPattern:RRe,parsePattern:TRe,valueCallback:e=>parseInt(e,10)}),era:wu({matchPatterns:ERe,defaultMatchWidth:"wide",parsePatterns:IRe,defaultParseWidth:"any"}),quarter:wu({matchPatterns:kRe,defaultMatchWidth:"wide",parsePatterns:LRe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wu({matchPatterns:PRe,defaultMatchWidth:"wide",parsePatterns:ORe,defaultParseWidth:"any"}),day:wu({matchPatterns:NRe,defaultMatchWidth:"wide",parsePatterns:FRe,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:_Re,defaultMatchWidth:"any",parsePatterns:BRe,defaultParseWidth:"any"})},kG={code:"en-US",formatDistance:uRe,formatLong:gRe,formatRelative:mRe,localize:MRe,match:GRe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zRe(e,t){const n=di(e,t==null?void 0:t.in);return nq(n,e1(n))+1}function aq(e,t){const n=di(e,t==null?void 0:t.in),i=+kM(n)-+JAe(n);return Math.round(i/J9)+1}function lq(e,t){var d,f,g,y;const n=di(e,t==null?void 0:t.in),i=n.getFullYear(),s=_w(),r=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=qs((t==null?void 0:t.in)||e,0);o.setFullYear(i+1,0,r),o.setHours(0,0,0,0);const a=dy(o,t),l=qs((t==null?void 0:t.in)||e,0);l.setFullYear(i,0,r),l.setHours(0,0,0,0);const c=dy(l,t);return+n>=+a?i+1:+n>=+c?i:i-1}function HRe(e,t){var a,l,c,d;const n=_w(),i=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=lq(e,t),r=qs((t==null?void 0:t.in)||e,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),dy(r,t)}function cq(e,t){const n=di(e,t==null?void 0:t.in),i=+dy(n,t)-+HRe(n,t);return Math.round(i/J9)+1}function oi(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const _f={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return oi(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):oi(n+1,2)},d(e,t){return oi(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return oi(e.getHours()%12||12,t.length)},H(e,t){return oi(e.getHours(),t.length)},m(e,t){return oi(e.getMinutes(),t.length)},s(e,t){return oi(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return oi(s,t.length)}},Lb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hW={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return _f.y(e,t)},Y:function(e,t,n,i){const s=lq(e,i),r=s>0?s:1-s;if(t==="YY"){const o=r%100;return oi(o,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):oi(r,t.length)},R:function(e,t){const n=tq(e);return oi(n,t.length)},u:function(e,t){const n=e.getFullYear();return oi(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return oi(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return oi(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return _f.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return oi(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=cq(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):oi(s,t.length)},I:function(e,t,n){const i=aq(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):oi(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_f.d(e,t)},D:function(e,t,n){const i=zRe(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):oi(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return oi(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return oi(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return oi(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Lb.noon:i===0?s=Lb.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Lb.evening:i>=12?s=Lb.afternoon:i>=4?s=Lb.morning:s=Lb.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return _f.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_f.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):oi(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):oi(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_f.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_f.s(e,t)},S:function(e,t){return _f.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return gW(i);case"XXXX":case"XX":return vm(i);case"XXXXX":case"XXX":default:return vm(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return gW(i);case"xxxx":case"xx":return vm(i);case"xxxxx":case"xxx":default:return vm(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fW(i,":");case"OOOO":default:return"GMT"+vm(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fW(i,":");case"zzzz":default:return"GMT"+vm(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return oi(i,t.length)},T:function(e,t,n){return oi(+e,t.length)}};function fW(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+oi(r,2)}function gW(e,t){return e%60===0?(e>0?"-":"+")+oi(Math.abs(e)/60,2):vm(e,t)}function vm(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=oi(Math.trunc(i/60),2),r=oi(i%60,2);return n+s+t+r}const pW=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},VRe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return pW(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",pW(i,t)).replace("{{time}}",uq(s,t))},jRe={p:uq,P:VRe},WRe=/^D+$/,URe=/^Y+$/,$Re=["D","DD","YY","YYYY"];function YRe(e){return WRe.test(e)}function KRe(e){return URe.test(e)}function qRe(e,t,n){const i=ZRe(e,t,n);if(console.warn(i),$Re.includes(e))throw new RangeError(i)}function ZRe(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XRe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QRe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JRe=/^'([^]*?)'?$/,eTe=/''/g,tTe=/[a-zA-Z]/;function io(e,t,n){var d,f,g,y,v,w,S,x;const i=_w(),s=(n==null?void 0:n.locale)??i.locale??kG,r=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(g=i.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??i.weekStartsOn??((x=(S=i.locale)==null?void 0:S.options)==null?void 0:x.weekStartsOn)??0,a=di(e,n==null?void 0:n.in);if(!sRe(a))throw new RangeError("Invalid time value");let l=t.match(QRe).map(M=>{const A=M[0];if(A==="p"||A==="P"){const k=jRe[A];return k(M,s.formatLong)}return M}).join("").match(XRe).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const A=M[0];if(A==="'")return{isToken:!1,value:nTe(M)};if(hW[A])return{isToken:!0,value:M};if(A.match(tTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:M}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:s};return l.map(M=>{if(!M.isToken)return M.value;const A=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&KRe(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&YRe(A))&&qRe(A,t,String(e));const k=hW[A[0]];return k(a,A,s.localize,c)}).join("")}function nTe(e){const t=e.match(JRe);return t?t[1].replace(eTe,"'"):e}function iTe(e,t){const n=di(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),r=qs(n,0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function sTe(){return Object.assign({},_w())}function rTe(e,t){return di(e,t==null?void 0:t.in).getMonth()}function oTe(e,t){return di(e,t==null?void 0:t.in).getFullYear()}function aTe(e,t){return+di(e)>+di(t)}function lTe(e,t){return+di(e)<+di(t)}function cTe(e,t,n){const[i,s]=Bw(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function uTe(e,t,n){const[i,s]=Bw(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function hm(e,t,n){return EG(e,-t,n)}function dTe(e,t,n){const i=di(e,n==null?void 0:n.in),s=i.getFullYear(),r=i.getDate(),o=qs(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const a=iTe(o);return i.setMonth(t,Math.min(r,a)),i}function hTe(e,t,n){const i=di(e,n==null?void 0:n.in);return isNaN(+i)?qs(e,NaN):(i.setFullYear(t),i)}const mW=5,fTe=4;function gTe(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),r=t.addDays(s,mW*7-1);return t.getMonth(e)===t.getMonth(r)?mW:fTe}function dq(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-1*6):t.addDays(n,-1*(i-1))}function pTe(e,t){const n=dq(e,t),i=gTe(e,t);return t.addDays(n,i*7-1)}class Eh{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?Zr.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,r)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(i,s,r):this.options.timeZone?new Zr(i,s,r,this.options.timeZone):new Date(i,s,r)},this.addDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addDays?this.overrides.addDays(i,s):EG(i,s)},this.addMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addMonths?this.overrides.addMonths(i,s):eq(i,s)},this.addWeeks=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addWeeks?this.overrides.addWeeks(i,s):eRe(i,s)},this.addYears=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addYears?this.overrides.addYears(i,s):tRe(i,s)},this.differenceInCalendarDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):nq(i,s)},this.differenceInCalendarMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):rRe(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):aRe(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):pTe(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):lRe(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):n2(i)},this.endOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(i,s):IG(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):rq(i)},this.format=(i,s,r)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(i,s,this.options):io(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):aq(i)},this.getMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(i,this.options):rTe(i,this.options)},this.getYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(i,this.options):oTe(i,this.options)},this.getWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(i,this.options):cq(i,this.options)},this.isAfter=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isAfter?this.overrides.isAfter(i,s):aTe(i,s)},this.isBefore=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isBefore?this.overrides.isBefore(i,s):lTe(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):sq(i)},this.isSameDay=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameDay?this.overrides.isSameDay(i,s):iq(i,s)},this.isSameMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameMonth?this.overrides.isSameMonth(i,s):cTe(i,s)},this.isSameYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameYear?this.overrides.isSameYear(i,s):uTe(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):nRe(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):iRe(i)},this.setMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setMonth?this.overrides.setMonth(i,s):dTe(i,s)},this.setYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setYear?this.overrides.setYear(i,s):hTe(i,s)},this.startOfBroadcastWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):dq(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):hy(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):kM(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):$d(i)},this.startOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(i,this.options):dy(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):e1(i)},this.options={locale:kG,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const sd=new Eh;class hq{constructor(t,n,i=sd){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class mTe{constructor(t,n){this.date=t,this.weeks=n}}class yTe{constructor(t,n){this.days=n,this.weekNumber=t}}function Yd(e,t,n=!1,i=sd){let{from:s,to:r}=e;const{differenceInCalendarDays:o,isSameDay:a}=i;return s&&r?(o(r,s)<0&&([s,r]=[r,s]),o(t,s)>=(n?1:0)&&o(r,t)>=(n?1:0)):!n&&r?a(r,t):!n&&s?a(s,t):!1}function fq(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function LG(e){return!!(e&&typeof e=="object"&&"from"in e)}function gq(e){return!!(e&&typeof e=="object"&&"after"in e)}function pq(e){return!!(e&&typeof e=="object"&&"before"in e)}function mq(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function yq(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Kd(e,t,n=sd){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:r,isAfter:o}=n;return i.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(e,a);if(yq(a,n))return a.includes(e);if(LG(a))return Yd(a,e,!1,n);if(mq(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(fq(a)){const l=r(a.before,e),c=r(a.after,e),d=l>0,f=c<0;return o(a.before,a.after)?f&&d:d||f}return gq(a)?r(e,a.after)>0:pq(a)?r(a.before,e)>0:typeof a=="function"?a(e):!1})}function vTe(e,t,n){const{disabled:i,hidden:s,modifiers:r,showOutsideDays:o,broadcastCalendar:a,today:l}=t,{isSameDay:c,isSameMonth:d,startOfMonth:f,isBefore:g,endOfMonth:y,isAfter:v}=n,w=t.startMonth&&f(t.startMonth),S=t.endMonth&&y(t.endMonth),x={[Yi.focused]:[],[Yi.outside]:[],[Yi.disabled]:[],[Yi.hidden]:[],[Yi.today]:[]},M={};for(const A of e){const{date:k,displayMonth:I}=A,P=!!(I&&!d(k,I)),N=!!(w&&g(k,w)),B=!!(S&&v(k,S)),z=!!(i&&Kd(k,i,n)),W=!!(s&&Kd(k,s,n))||N||B||!a&&!o&&P||a&&o===!1&&P,Y=c(k,l??n.today());P&&x.outside.push(A),z&&x.disabled.push(A),W&&x.hidden.push(A),Y&&x.today.push(A),r&&Object.keys(r).forEach(K=>{const q=r==null?void 0:r[K];q&&Kd(k,q,n)&&(M[K]?M[K].push(A):M[K]=[A])})}return A=>{const k={[Yi.focused]:!1,[Yi.disabled]:!1,[Yi.hidden]:!1,[Yi.outside]:!1,[Yi.today]:!1},I={};for(const P in x){const N=x[P];k[P]=N.some(B=>B===A)}for(const P in M)I[P]=M[P].some(N=>N===A);return{...k,...I}}}function bTe(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[r])=>(n[r]?s.push(n[r]):t[Yi[r]]?s.push(t[Yi[r]]):t[dc[r]]&&s.push(t[dc[r]]),s),[t[wt.Day]])}function CTe(e){return ue.createElement("button",{...e})}function wTe(e){return ue.createElement("span",{...e})}function STe(e){const{size:t=24,orientation:n="left",className:i}=e;return ue.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&ue.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ue.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ue.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ue.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function xTe(e){const{day:t,modifiers:n,...i}=e;return ue.createElement("td",{...i})}function MTe(e){const{day:t,modifiers:n,...i}=e,s=ue.useRef(null);return ue.useEffect(()=>{var r;n.focused&&((r=s.current)==null||r.focus())},[n.focused]),ue.createElement("button",{ref:s,...i})}function DTe(e){const{options:t,className:n,components:i,classNames:s,...r}=e,o=[s[wt.Dropdown],n].join(" "),a=t==null?void 0:t.find(({value:l})=>l===r.value);return ue.createElement("span",{"data-disabled":r.disabled,className:s[wt.DropdownRoot]},ue.createElement(i.Select,{className:o,...r},t==null?void 0:t.map(({value:l,label:c,disabled:d})=>ue.createElement(i.Option,{key:l,value:l,disabled:d},c))),ue.createElement("span",{className:s[wt.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,ue.createElement(i.Chevron,{orientation:"down",size:18,className:s[wt.Chevron]})))}function ATe(e){return ue.createElement("div",{...e})}function RTe(e){return ue.createElement("div",{...e})}function TTe(e){const{calendarMonth:t,displayIndex:n,...i}=e;return ue.createElement("div",{...i},e.children)}function ETe(e){const{calendarMonth:t,displayIndex:n,...i}=e;return ue.createElement("div",{...i})}function ITe(e){return ue.createElement("table",{...e})}function kTe(e){return ue.createElement("div",{...e})}const vq=T.createContext(void 0);function WD(){const e=T.useContext(vq);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function LTe(e){const{components:t}=WD();return ue.createElement(t.Dropdown,{...e})}function PTe(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...r}=e,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=WD(),d=T.useCallback(g=>{s&&(n==null||n(g))},[s,n]),f=T.useCallback(g=>{i&&(t==null||t(g))},[i,t]);return ue.createElement("nav",{...r},ue.createElement(o.PreviousMonthButton,{type:"button",className:a[wt.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":l(i),onClick:f},ue.createElement(o.Chevron,{disabled:i?void 0:!0,className:a[wt.Chevron],orientation:"left"})),ue.createElement(o.NextMonthButton,{type:"button",className:a[wt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":c(s),onClick:d},ue.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[wt.Chevron]})))}function OTe(e){const{components:t}=WD();return ue.createElement(t.Button,{...e})}function NTe(e){return ue.createElement("option",{...e})}function FTe(e){const{components:t}=WD();return ue.createElement(t.Button,{...e})}function _Te(e){const{rootRef:t,...n}=e;return ue.createElement("div",{...n,ref:t})}function BTe(e){return ue.createElement("select",{...e})}function GTe(e){const{week:t,...n}=e;return ue.createElement("tr",{...n})}function zTe(e){return ue.createElement("th",{...e})}function HTe(e){return ue.createElement("thead",{"aria-hidden":!0},ue.createElement("tr",{...e}))}function VTe(e){const{week:t,...n}=e;return ue.createElement("th",{...n})}function jTe(e){return ue.createElement("th",{...e})}function WTe(e){return ue.createElement("tbody",{...e})}function UTe(e){const{components:t}=WD();return ue.createElement(t.Dropdown,{...e})}const $Te=Object.freeze(Object.defineProperty({__proto__:null,Button:CTe,CaptionLabel:wTe,Chevron:STe,Day:xTe,DayButton:MTe,Dropdown:DTe,DropdownNav:ATe,Footer:RTe,Month:TTe,MonthCaption:ETe,MonthGrid:ITe,Months:kTe,MonthsDropdown:LTe,Nav:PTe,NextMonthButton:OTe,Option:NTe,PreviousMonthButton:FTe,Root:_Te,Select:BTe,Week:GTe,WeekNumber:VTe,WeekNumberHeader:jTe,Weekday:zTe,Weekdays:HTe,Weeks:WTe,YearsDropdown:UTe},Symbol.toStringTag,{value:"Module"}));function YTe(e){return{...$Te,...e}}function KTe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function PG(){const e={};for(const t in wt)e[wt[t]]=`rdp-${wt[t]}`;for(const t in Yi)e[Yi[t]]=`rdp-${Yi[t]}`;for(const t in dc)e[dc[t]]=`rdp-${dc[t]}`;for(const t in Ma)e[Ma[t]]=`rdp-${Ma[t]}`;return e}function bq(e,t,n){return(n??new Eh(t)).format(e,"LLLL y")}const qTe=bq;function ZTe(e,t,n){return(n??new Eh(t)).format(e,"d")}function XTe(e,t=sd){return t.format(e,"LLLL")}function QTe(e,t=sd){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function JTe(){return""}function eEe(e,t,n){return(n??new Eh(t)).format(e,"cccccc")}function Cq(e,t=sd){return t.format(e,"yyyy")}const tEe=Cq,nEe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:bq,formatDay:ZTe,formatMonthCaption:qTe,formatMonthDropdown:XTe,formatWeekNumber:QTe,formatWeekNumberHeader:JTe,formatWeekdayName:eEe,formatYearCaption:tEe,formatYearDropdown:Cq},Symbol.toStringTag,{value:"Module"}));function iEe(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...nEe,...e}}function sEe(e,t,n,i,s){const{startOfMonth:r,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=s;return l({start:o(e),end:a(e)}).map(g=>{const y=i.formatMonthDropdown(g,s),v=c(g),w=t&&g<r(t)||n&&g>r(n)||!1;return{value:v,label:y,disabled:w}})}function rEe(e,t={},n={}){let i={...t==null?void 0:t[wt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function oEe(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),r=[];for(let o=0;o<7;o++){const a=e.addDays(s,o);r.push(a)}return r}function aEe(e,t,n,i){if(!e||!t)return;const{startOfYear:s,endOfYear:r,addYears:o,getYear:a,isBefore:l,isSameYear:c}=i,d=s(e),f=r(t),g=[];let y=d;for(;l(y,f)||c(y,f);)g.push(y),y=o(y,1);return g.map(v=>{const w=n.formatYearDropdown(v,i);return{value:a(v),label:w,disabled:!1}})}function wq(e,t,n){return(n??new Eh(t)).format(e,"LLLL y")}const lEe=wq;function cEe(e,t,n,i){let s=(i??new Eh(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function Sq(e,t,n,i){let s=(i??new Eh(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const uEe=Sq;function dEe(){return""}function hEe(e){return"Choose the Month"}function fEe(e){return"Go to the Next Month"}function gEe(e){return"Go to the Previous Month"}function pEe(e,t,n){return(n??new Eh(t)).format(e,"cccc")}function mEe(e,t){return`Week ${e}`}function yEe(e){return"Week Number"}function vEe(e){return"Choose the Year"}const bEe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:lEe,labelDay:uEe,labelDayButton:Sq,labelGrid:wq,labelGridcell:cEe,labelMonthDropdown:hEe,labelNav:dEe,labelNext:fEe,labelPrevious:gEe,labelWeekNumber:mEe,labelWeekNumberHeader:yEe,labelWeekday:pEe,labelYearDropdown:vEe},Symbol.toStringTag,{value:"Module"})),UD=e=>e instanceof HTMLElement?e:null,QO=e=>[...e.querySelectorAll("[data-animated-month]")??[]],CEe=e=>UD(e.querySelector("[data-animated-month]")),JO=e=>UD(e.querySelector("[data-animated-caption]")),eN=e=>UD(e.querySelector("[data-animated-weeks]")),wEe=e=>UD(e.querySelector("[data-animated-nav]")),SEe=e=>UD(e.querySelector("[data-animated-weekdays]"));function xEe(e,t,{classNames:n,months:i,focused:s,dateLib:r}){const o=T.useRef(null),a=T.useRef(i),l=T.useRef(!1);T.useLayoutEffect(()=>{const c=a.current;if(a.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||c.length===0||i.length!==c.length)return;const d=r.isSameMonth(i[0].date,c[0].date),f=r.isAfter(i[0].date,c[0].date),g=f?n[Ma.caption_after_enter]:n[Ma.caption_before_enter],y=f?n[Ma.weeks_after_enter]:n[Ma.weeks_before_enter],v=o.current,w=e.current.cloneNode(!0);if(w instanceof HTMLElement?(QO(w).forEach(A=>{if(!(A instanceof HTMLElement))return;const k=CEe(A);k&&A.contains(k)&&A.removeChild(k);const I=JO(A);I&&I.classList.remove(g);const P=eN(A);P&&P.classList.remove(y)}),o.current=w):o.current=null,l.current||d||s)return;const S=v instanceof HTMLElement?QO(v):[],x=QO(e.current);if(x&&x.every(M=>M instanceof HTMLElement)&&S&&S.every(M=>M instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const M=wEe(e.current);M&&(M.style.zIndex="1"),x.forEach((A,k)=>{const I=S[k];if(!I)return;A.style.position="relative",A.style.overflow="hidden";const P=JO(A);P&&P.classList.add(g);const N=eN(A);N&&N.classList.add(y);const B=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),M&&(M.style.zIndex=""),P&&P.classList.remove(g),N&&N.classList.remove(y),A.style.position="",A.style.overflow="",A.contains(I)&&A.removeChild(I)};I.style.pointerEvents="none",I.style.position="absolute",I.style.overflow="hidden",I.setAttribute("aria-hidden","true");const z=SEe(I);z&&(z.style.opacity="0");const W=JO(I);W&&(W.classList.add(f?n[Ma.caption_before_exit]:n[Ma.caption_after_exit]),W.addEventListener("animationend",B));const Y=eN(I);Y&&Y.classList.add(f?n[Ma.weeks_before_exit]:n[Ma.weeks_after_exit]),A.insertBefore(I,A.firstChild)})}})}function MEe(e,t,n,i){const s=e[0],r=e[e.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:g,endOfISOWeek:y,endOfMonth:v,endOfWeek:w,isAfter:S,startOfBroadcastWeek:x,startOfISOWeek:M,startOfWeek:A}=i,k=l?x(s,i):o?M(s):A(s),I=l?g(r):o?y(v(r)):w(v(r)),P=d(I,k),N=f(r,s)+1,B=[];for(let Y=0;Y<=P;Y++){const K=c(k,Y);if(t&&S(K,t))break;B.push(K)}const W=(l?35:42)*N;if(a&&B.length<W){const Y=W-B.length;for(let K=0;K<Y;K++){const q=c(B[B.length-1],1);B.push(q)}}return B}function DEe(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((r,o)=>[...r,...o.days],t);return[...n,...s]},t)}function AEe(e,t,n,i){const{numberOfMonths:s=1}=n,r=[];for(let o=0;o<s;o++){const a=i.addMonths(e,o);if(t&&a>t)break;r.push(a)}return r}function yW(e,t){const{month:n,defaultMonth:i,today:s=t.today(),numberOfMonths:r=1,endMonth:o,startMonth:a}=e;let l=n||i||s;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:f}=t;if(o&&c(o,l)<0){const g=-1*(r-1);l=d(o,g)}return a&&c(l,a)<0&&(l=a),f(l)}function REe(e,t,n,i){const{addDays:s,endOfBroadcastWeek:r,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:g,startOfWeek:y}=i,v=e.reduce((w,S)=>{const x=n.broadcastCalendar?f(S,i):n.ISOWeek?g(S):y(S),M=n.broadcastCalendar?r(S):n.ISOWeek?o(a(S)):l(a(S)),A=t.filter(N=>N>=x&&N<=M),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&A.length<k){const N=t.filter(B=>{const z=k-A.length;return B>M&&B<=s(M,z)});A.push(...N)}const I=A.reduce((N,B)=>{const z=n.ISOWeek?c(B):d(B),W=N.find(K=>K.weekNumber===z),Y=new hq(B,S,i);return W?W.days.push(Y):N.push(new yTe(z,[Y])),N},[]),P=new mTe(S,I);return w.push(P),w},[]);return n.reverseMonths?v.reverse():v}function TEe(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:r,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:d,today:f}=t,{fromYear:g,toYear:y,fromMonth:v,toMonth:w}=e;!n&&v&&(n=v),!n&&g&&(n=t.newDate(g,0,1)),!i&&w&&(i=w),!i&&y&&(i=d(y,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=o(n):g?n=d(g,0,1):!n&&S&&(n=s(l(e.today??f(),-100))),i?i=a(i):y?i=d(y,11,31):!i&&S&&(i=c(e.today??f())),[n&&r(n),i&&r(i)]}function EEe(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=i,c=s?r:1,d=o(e);if(!t)return a(d,c);if(!(l(t,e)<r))return a(d,c)}function IEe(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=i,c=s?r??1:1,d=o(e);if(!t)return a(d,-c);if(!(l(d,t)<=0))return a(d,-c)}function kEe(e){const t=[];return e.reduce((n,i)=>[...n,...i.weeks],t)}function Bk(e,t){const[n,i]=T.useState(e);return[t===void 0?n:t,i]}function LEe(e,t){const[n,i]=TEe(e,t),{startOfMonth:s,endOfMonth:r}=t,o=yW(e,t),[a,l]=Bk(o,e.month?o:void 0);T.useEffect(()=>{const P=yW(e,t);l(P)},[e.timeZone]);const c=AEe(a,i,e,t),d=MEe(c,e.endMonth?r(e.endMonth):void 0,e,t),f=REe(c,d,e,t),g=kEe(f),y=DEe(f),v=IEe(a,n,e,t),w=EEe(a,i,e,t),{disableNavigation:S,onMonthChange:x}=e,M=P=>g.some(N=>N.days.some(B=>B.isEqualTo(P))),A=P=>{if(S)return;let N=s(P);n&&N<s(n)&&(N=s(n)),i&&N>s(i)&&(N=s(i)),l(N),x==null||x(N)};return{months:f,weeks:g,days:y,navStart:n,navEnd:i,previousMonth:v,nextMonth:w,goToMonth:A,goToDay:P=>{M(P)||A(P.date)}}}var fu;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(fu||(fu={}));function vW(e){return!e[Yi.disabled]&&!e[Yi.hidden]&&!e[Yi.outside]}function PEe(e,t,n,i){let s,r=-1;for(const o of e){const a=t(o);vW(a)&&(a[Yi.focused]&&r<fu.FocusedModifier?(s=o,r=fu.FocusedModifier):i!=null&&i.isEqualTo(o)&&r<fu.LastFocused?(s=o,r=fu.LastFocused):n(o.date)&&r<fu.Selected?(s=o,r=fu.Selected):a[Yi.today]&&r<fu.Today&&(s=o,r=fu.Today))}return s||(s=e.find(o=>vW(t(o)))),s}function OEe(e,t,n,i,s,r,o){const{ISOWeek:a,broadcastCalendar:l}=r,{addDays:c,addMonths:d,addWeeks:f,addYears:g,endOfBroadcastWeek:y,endOfISOWeek:v,endOfWeek:w,max:S,min:x,startOfBroadcastWeek:M,startOfISOWeek:A,startOfWeek:k}=o;let P={day:c,week:f,month:d,year:g,startOfWeek:N=>l?M(N,o):a?A(N):k(N),endOfWeek:N=>l?y(N):a?v(N):w(N)}[e](n,t==="after"?1:-1);return t==="before"&&i?P=S([i,P]):t==="after"&&s&&(P=x([s,P])),P}function xq(e,t,n,i,s,r,o,a=0){if(a>365)return;const l=OEe(e,t,n.date,i,s,r,o),c=!!(r.disabled&&Kd(l,r.disabled,o)),d=!!(r.hidden&&Kd(l,r.hidden,o)),f=l,g=new hq(l,f,o);return!c&&!d?g:xq(e,t,g,i,s,r,o,a+1)}function NEe(e,t,n,i,s){const{autoFocus:r}=e,[o,a]=T.useState(),l=PEe(t.days,n,i||(()=>!1),o),[c,d]=T.useState(r?l:void 0);return{isFocusTarget:w=>!!(l!=null&&l.isEqualTo(w)),setFocused:d,focused:c,blur:()=>{a(c),d(void 0)},moveFocus:(w,S)=>{if(!c)return;const x=xq(w,S,c,t.navStart,t.navEnd,e,s);x&&(t.goToDay(x),d(x))}}}function FEe(e,t){const{selected:n,required:i,onSelect:s}=e,[r,o]=Bk(n,s?n:void 0),a=s?n:r,{isSameDay:l}=t,c=y=>(a==null?void 0:a.some(v=>l(v,y)))??!1,{min:d,max:f}=e;return{selected:a,select:(y,v,w)=>{let S=[...a??[]];if(c(y)){if((a==null?void 0:a.length)===d||i&&(a==null?void 0:a.length)===1)return;S=a==null?void 0:a.filter(x=>!l(x,y))}else(a==null?void 0:a.length)===f?S=[y]:S=[...S,y];return s||o(S),s==null||s(S,y,v,w),S},isSelected:c}}function _Ee(e,t,n=0,i=0,s=!1,r=sd){const{from:o,to:a}=t||{},{isSameDay:l,isAfter:c,isBefore:d}=r;let f;if(!o&&!a)f={from:e,to:n>0?void 0:e};else if(o&&!a)l(o,e)?s?f={from:o,to:void 0}:f=void 0:d(e,o)?f={from:e,to:o}:f={from:o,to:e};else if(o&&a)if(l(o,e)&&l(a,e))s?f={from:o,to:a}:f=void 0;else if(l(o,e))f={from:o,to:n>0?void 0:e};else if(l(a,e))f={from:e,to:n>0?void 0:e};else if(d(e,o))f={from:e,to:a};else if(c(e,o))f={from:o,to:e};else if(c(e,a))f={from:o,to:e};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const g=r.differenceInCalendarDays(f.to,f.from);i>0&&g>i?f={from:e,to:void 0}:n>1&&g<n&&(f={from:e,to:void 0})}return f}function BEe(e,t,n=sd){const i=Array.isArray(t)?t:[t];let s=e.from;const r=n.differenceInCalendarDays(e.to,e.from),o=Math.min(r,6);for(let a=0;a<=o;a++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function bW(e,t,n=sd){return Yd(e,t.from,!1,n)||Yd(e,t.to,!1,n)||Yd(t,e.from,!1,n)||Yd(t,e.to,!1,n)}function GEe(e,t,n=sd){const i=Array.isArray(t)?t:[t];if(i.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Yd(e,a,!1,n):yq(a,n)?a.some(l=>Yd(e,l,!1,n)):LG(a)?a.from&&a.to?bW(e,{from:a.from,to:a.to},n):!1:mq(a)?BEe(e,a.dayOfWeek,n):fq(a)?n.isAfter(a.before,a.after)?bW(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):Kd(e.from,a,n)||Kd(e.to,a,n):gq(a)||pq(a)?Kd(e.from,a,n)||Kd(e.to,a,n):!1))return!0;const o=i.filter(a=>typeof a=="function");if(o.length){let a=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(o.some(d=>d(a)))return!0;a=n.addDays(a,1)}}return!1}function zEe(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:r,onSelect:o}=e,[a,l]=Bk(s,o?s:void 0),c=o?s:a;return{selected:c,select:(g,y,v)=>{const{min:w,max:S}=e,x=g?_Ee(g,c,w,S,r,t):void 0;return i&&n&&(x!=null&&x.from)&&x.to&&GEe({from:x.from,to:x.to},n,t)&&(x.from=g,x.to=void 0),o||l(x),o==null||o(x,g,y,v),x},isSelected:g=>c&&Yd(c,g,!1,t)}}function HEe(e,t){const{selected:n,required:i,onSelect:s}=e,[r,o]=Bk(n,s?n:void 0),a=s?n:r,{isSameDay:l}=t;return{selected:a,select:(f,g,y)=>{let v=f;return!i&&a&&a&&l(f,a)&&(v=void 0),s||o(v),s==null||s(v,f,g,y),v},isSelected:f=>a?l(a,f):!1}}function VEe(e,t){const n=HEe(e,t),i=FEe(e,t),s=zEe(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function jEe(e){var Lh;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Zr(t.today,t.timeZone)),t.month&&(t.month=new Zr(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Zr(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Zr(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Zr(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Zr(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(Lh=t.selected)==null?void 0:Lh.map($t=>new Zr($t,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Zr(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Zr(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:r,locale:o,classNames:a}=T.useMemo(()=>{const $t={...kG,...t.locale};return{dateLib:new Eh({locale:$t,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:YTe(t.components),formatters:iEe(t.formatters),labels:{...bEe,...t.labels},locale:$t,classNames:{...PG(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:d,numberOfMonths:f=1,onDayBlur:g,onDayClick:y,onDayFocus:v,onDayKeyDown:w,onDayMouseEnter:S,onDayMouseLeave:x,onNextClick:M,onPrevClick:A,showWeekNumber:k,styles:I}=t,{formatCaption:P,formatDay:N,formatMonthDropdown:B,formatWeekNumber:z,formatWeekNumberHeader:W,formatWeekdayName:Y,formatYearDropdown:K}=i,q=LEe(t,r),{days:te,months:re,navStart:X,navEnd:ne,previousMonth:Z,nextMonth:Se,goToMonth:U}=q,ie=vTe(te,t,r),{isSelected:ve,select:J,selected:he}=VEe(t,r)??{},{blur:Ee,focused:we,isFocusTarget:Me,moveFocus:Ce,setFocused:je}=NEe(t,q,ie,ve??(()=>!1),r),{labelDayButton:Ye,labelGridcell:Ge,labelGrid:We,labelMonthDropdown:it,labelNav:$e,labelPrevious:mt,labelNext:Ht,labelWeekday:st,labelWeekNumber:St,labelWeekNumberHeader:Ze,labelYearDropdown:et}=s,lt=T.useMemo(()=>oEe(r,t.ISOWeek),[r,t.ISOWeek]),vt=c!==void 0||y!==void 0,Vt=T.useCallback(()=>{Z&&(U(Z),A==null||A(Z))},[Z,U,A]),vn=T.useCallback(()=>{Se&&(U(Se),M==null||M(Se))},[U,Se,M]),ln=T.useCallback(($t,ni)=>In=>{In.preventDefault(),In.stopPropagation(),je($t),J==null||J($t.date,ni,In),y==null||y($t.date,ni,In)},[J,y,je]),us=T.useCallback(($t,ni)=>In=>{je($t),v==null||v($t.date,ni,In)},[v,je]),bn=T.useCallback(($t,ni)=>In=>{Ee(),g==null||g($t.date,ni,In)},[Ee,g]),Pt=T.useCallback(($t,ni)=>In=>{const lr={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[In.shiftKey?"year":"month","before"],PageDown:[In.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(lr[In.key]){In.preventDefault(),In.stopPropagation();const[ho,od]=lr[In.key];Ce(ho,od)}w==null||w($t.date,ni,In)},[Ce,w,t.dir]),tn=T.useCallback(($t,ni)=>In=>{S==null||S($t.date,ni,In)},[S]),co=T.useCallback(($t,ni)=>In=>{x==null||x($t.date,ni,In)},[x]),El=T.useCallback($t=>ni=>{const In=Number(ni.target.value),lr=r.setMonth(r.startOfMonth($t),In);U(lr)},[r,U]),Xs=T.useCallback($t=>ni=>{const In=Number(ni.target.value),lr=r.setYear(r.startOfMonth($t),In);U(lr)},[r,U]),{className:Ir,style:Gs}=T.useMemo(()=>({className:[a[wt.Root],t.className].filter(Boolean).join(" "),style:{...I==null?void 0:I[wt.Root],...t.style}}),[a,t.className,t.style,I]),kr=KTe(t),ar=T.useRef(null);xEe(ar,!!t.animate,{classNames:a,months:re,focused:we,dateLib:r});const uo={dayPickerProps:t,selected:he,select:J,isSelected:ve,months:re,nextMonth:Se,previousMonth:Z,goToMonth:U,getModifiers:ie,components:n,classNames:a,styles:I,labels:s,formatters:i};return ue.createElement(vq.Provider,{value:uo},ue.createElement(n.Root,{rootRef:t.animate?ar:void 0,className:Ir,style:Gs,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...kr},ue.createElement(n.Months,{className:a[wt.Months],style:I==null?void 0:I[wt.Months]},!t.hideNavigation&&!d&&ue.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[wt.Nav],style:I==null?void 0:I[wt.Nav],"aria-label":$e(),onPreviousClick:Vt,onNextClick:vn,previousMonth:Z,nextMonth:Se}),re.map(($t,ni)=>{const In=sEe($t.date,X,ne,i,r),lr=aEe(X,ne,i,r);return ue.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[wt.Month],style:I==null?void 0:I[wt.Month],key:ni,displayIndex:ni,calendarMonth:$t},d==="around"&&!t.hideNavigation&&ni===0&&ue.createElement(n.PreviousMonthButton,{type:"button",className:a[wt.PreviousMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":mt(Z),onClick:Vt,"data-animated-button":t.animate?"true":void 0},ue.createElement(n.Chevron,{disabled:Z?void 0:!0,className:a[wt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),ue.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[wt.MonthCaption],style:I==null?void 0:I[wt.MonthCaption],calendarMonth:$t,displayIndex:ni},l!=null&&l.startsWith("dropdown")?ue.createElement(n.DropdownNav,{className:a[wt.Dropdowns],style:I==null?void 0:I[wt.Dropdowns]},l==="dropdown"||l==="dropdown-months"?ue.createElement(n.MonthsDropdown,{className:a[wt.MonthsDropdown],"aria-label":it(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:El($t.date),options:In,style:I==null?void 0:I[wt.Dropdown],value:r.getMonth($t.date)}):ue.createElement("span",null,B($t.date,r)),l==="dropdown"||l==="dropdown-years"?ue.createElement(n.YearsDropdown,{className:a[wt.YearsDropdown],"aria-label":et(r.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Xs($t.date),options:lr,style:I==null?void 0:I[wt.Dropdown],value:r.getYear($t.date)}):ue.createElement("span",null,K($t.date,r)),ue.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},P($t.date,r.options,r))):ue.createElement(n.CaptionLabel,{className:a[wt.CaptionLabel],role:"status","aria-live":"polite"},P($t.date,r.options,r))),d==="around"&&!t.hideNavigation&&ni===f-1&&ue.createElement(n.NextMonthButton,{type:"button",className:a[wt.NextMonthButton],tabIndex:Se?void 0:-1,"aria-disabled":Se?void 0:!0,"aria-label":Ht(Se),onClick:vn,"data-animated-button":t.animate?"true":void 0},ue.createElement(n.Chevron,{disabled:Se?void 0:!0,className:a[wt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ni===f-1&&d==="after"&&!t.hideNavigation&&ue.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[wt.Nav],style:I==null?void 0:I[wt.Nav],"aria-label":$e(),onPreviousClick:Vt,onNextClick:vn,previousMonth:Z,nextMonth:Se}),ue.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":We($t.date,r.options,r)||void 0,className:a[wt.MonthGrid],style:I==null?void 0:I[wt.MonthGrid]},!t.hideWeekdays&&ue.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[wt.Weekdays],style:I==null?void 0:I[wt.Weekdays]},k&&ue.createElement(n.WeekNumberHeader,{"aria-label":Ze(r.options),className:a[wt.WeekNumberHeader],style:I==null?void 0:I[wt.WeekNumberHeader],scope:"col"},W()),lt.map((ho,od)=>ue.createElement(n.Weekday,{"aria-label":st(ho,r.options,r),className:a[wt.Weekday],key:od,style:I==null?void 0:I[wt.Weekday],scope:"col"},Y(ho,r.options,r)))),ue.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[wt.Weeks],style:I==null?void 0:I[wt.Weeks]},$t.weeks.map((ho,od)=>ue.createElement(n.Week,{className:a[wt.Week],key:ho.weekNumber,style:I==null?void 0:I[wt.Week],week:ho},k&&ue.createElement(n.WeekNumber,{week:ho,style:I==null?void 0:I[wt.WeekNumber],"aria-label":St(ho.weekNumber,{locale:o}),className:a[wt.WeekNumber],scope:"row",role:"rowheader"},z(ho.weekNumber,r)),ho.days.map(ds=>{const{date:Lr}=ds,mn=ie(ds);if(mn[Yi.focused]=!mn.hidden&&!!(we!=null&&we.isEqualTo(ds)),mn[dc.selected]=(ve==null?void 0:ve(Lr))||mn.selected,LG(he)){const{from:Pi,to:As}=he;mn[dc.range_start]=!!(Pi&&As&&r.isSameDay(Lr,Pi)),mn[dc.range_end]=!!(Pi&&As&&r.isSameDay(Lr,As)),mn[dc.range_middle]=Yd(he,Lr,!0,r)}const Uy=rEe(mn,I,t.modifiersStyles),Yw=bTe(mn,a,t.modifiersClassNames),Ha=!vt&&!mn.hidden?Ge(Lr,mn,r.options,r):void 0;return ue.createElement(n.Day,{key:`${r.format(Lr,"yyyy-MM-dd")}_${r.format(ds.displayMonth,"yyyy-MM")}`,day:ds,modifiers:mn,className:Yw.join(" "),style:Uy,role:"gridcell","aria-selected":mn.selected||void 0,"aria-label":Ha,"data-day":r.format(Lr,"yyyy-MM-dd"),"data-month":ds.outside?r.format(Lr,"yyyy-MM"):void 0,"data-selected":mn.selected||void 0,"data-disabled":mn.disabled||void 0,"data-hidden":mn.hidden||void 0,"data-outside":ds.outside||void 0,"data-focused":mn.focused||void 0,"data-today":mn.today||void 0},!mn.hidden&&vt?ue.createElement(n.DayButton,{className:a[wt.DayButton],style:I==null?void 0:I[wt.DayButton],type:"button",day:ds,modifiers:mn,disabled:mn.disabled||void 0,tabIndex:Me(ds)?0:-1,"aria-label":Ye(Lr,mn,r.options,r),onClick:ln(ds,mn),onBlur:bn(ds,mn),onFocus:us(ds,mn),onKeyDown:Pt(ds,mn),onMouseEnter:tn(ds,mn),onMouseLeave:co(ds,mn)},N(Lr,r.options,r)):!mn.hidden&&N(ds.date,r.options,r))}))))))})),t.footer&&ue.createElement(n.Footer,{className:a[wt.Footer],style:I==null?void 0:I[wt.Footer],role:"status","aria-live":"polite"},t.footer)))}function WEe({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:i="label",buttonVariant:s="ghost",formatters:r,components:o,...a}){const l=PG();return _.jsx(jEe,{showOutsideDays:n,className:bt("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:i,formatters:{formatMonthDropdown:c=>c.toLocaleString("ko-KR",{month:"long"}),formatCaption:c=>c.toLocaleString("ko-KR",{year:"numeric",month:"long"}),formatWeekdayName:c=>c.toLocaleString("ko-KR",{weekday:"short"}),...r},classNames:{root:bt("w-fit",l.root),months:bt("flex gap-4 flex-col md:flex-row relative",l.months),month:bt("flex flex-col w-full gap-4",l.month),nav:bt("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:bt(IM({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:bt(IM({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:bt("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:bt("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:bt("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:bt("absolute inset-0 opacity-0",l.dropdown),caption_label:bt("select-none font-medium",i==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:bt("flex",l.weekdays),weekday:bt("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:bt("flex w-full mt-2",l.week),week_number_header:bt("select-none w-(--cell-size)",l.week_number_header),week_number:bt("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:bt("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:bt("rounded-l-md bg-accent",l.range_start),range_middle:bt("rounded-none",l.range_middle),range_end:bt("rounded-r-md bg-accent",l.range_end),today:bt("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:bt("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:bt("text-muted-foreground opacity-50",l.disabled),hidden:bt("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:d,...f})=>_.jsx("div",{"data-slot":"calendar",ref:d,className:bt(c),...f}),Chevron:({className:c,orientation:d,...f})=>d==="left"?_.jsx(TAe,{className:bt("size-4",c),...f}):d==="right"?_.jsx(IAe,{className:bt("size-4",c),...f}):_.jsx(TG,{className:bt("size-4",c),...f}),DayButton:UEe,WeekNumber:({children:c,...d})=>_.jsx("td",{...d,children:_.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:c})}),...o},...a})}function UEe({className:e,day:t,modifiers:n,...i}){const s=PG(),r=T.useRef(null);return T.useEffect(()=>{var o;n.focused&&((o=r.current)==null||o.focus())},[n.focused]),_.jsx(Oa,{ref:r,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:bt("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-foreground data-[range-middle=true]:text-contrast data-[range-start=true]:bg-primary data-[range-start=true]:text-white data-[range-start=true]:hover:bg-[rgb(255,180,140)] data-[range-start=true]:hover:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-white data-[range-end=true]:hover:bg-[rgb(255,180,140)] data-[range-end=true]:hover:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-none data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-none data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,e),...i})}function on(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $Ee(e,t){const n=T.createContext(t),i=r=>{const{children:o,...a}=r,l=T.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:l,children:o})};i.displayName=e+"Provider";function s(r){const o=T.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}return[i,s]}function Bg(e,t=[]){let n=[];function i(r,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:g,children:y,...v}=f,w=((x=g==null?void 0:g[e])==null?void 0:x[l])||a,S=T.useMemo(()=>v,Object.values(v));return _.jsx(w.Provider,{value:S,children:y})};c.displayName=r+"Provider";function d(f,g){var w;const y=((w=g==null?void 0:g[e])==null?void 0:w[l])||a,v=T.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[c,d]}const s=()=>{const r=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[e])||r;return T.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[i,YEe(s,...t)]}function YEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const f=l(r)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var KEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=KEe.reduce((e,t)=>{const n=uy(`Primitive.${t}`),i=T.forwardRef((s,r)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function qEe(e,t){e&&Cy.flushSync(()=>e.dispatchEvent(t))}function fy(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function ZEe(e,t=globalThis==null?void 0:globalThis.document){const n=fy(e);T.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var XEe="DismissableLayer",i2="dismissableLayer.update",QEe="dismissableLayer.pointerDownOutside",JEe="dismissableLayer.focusOutside",CW,Mq=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$D=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:o,onDismiss:a,...l}=e,c=T.useContext(Mq),[d,f]=T.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),v=ui(t,N=>f(N)),w=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(S),M=d?w.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,k=M>=x,I=nIe(N=>{const B=N.target,z=[...c.branches].some(W=>W.contains(B));!k||z||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},g),P=iIe(N=>{const B=N.target;[...c.branches].some(W=>W.contains(B))||(r==null||r(N),o==null||o(N),N.defaultPrevented||a==null||a())},g);return ZEe(N=>{M===c.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},g),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CW=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),wW(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=CW)}},[d,g,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),wW())},[d,c]),T.useEffect(()=>{const N=()=>y({});return document.addEventListener(i2,N),()=>document.removeEventListener(i2,N)},[]),_.jsx(Bn.div,{...l,ref:v,style:{pointerEvents:A?k?"auto":"none":void 0,...e.style},onFocusCapture:on(e.onFocusCapture,P.onFocusCapture),onBlurCapture:on(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:on(e.onPointerDownCapture,I.onPointerDownCapture)})});$D.displayName=XEe;var eIe="DismissableLayerBranch",tIe=T.forwardRef((e,t)=>{const n=T.useContext(Mq),i=T.useRef(null),s=ui(t,i);return T.useEffect(()=>{const r=i.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),_.jsx(Bn.div,{...e,ref:s})});tIe.displayName=eIe;function nIe(e,t=globalThis==null?void 0:globalThis.document){const n=fy(e),i=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const r=a=>{if(a.target&&!i.current){let l=function(){Dq(QEe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function iIe(e,t=globalThis==null?void 0:globalThis.document){const n=fy(e),i=T.useRef(!1);return T.useEffect(()=>{const s=r=>{r.target&&!i.current&&Dq(JEe,n,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function wW(){const e=new CustomEvent(i2);document.dispatchEvent(e)}function Dq(e,t,n,{discrete:i}){const s=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?qEe(s,r):s.dispatchEvent(r)}var tN=0;function OG(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SW()),document.body.insertAdjacentElement("beforeend",e[1]??SW()),tN++,()=>{tN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tN--}},[])}function SW(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nN="focusScope.autoFocusOnMount",iN="focusScope.autoFocusOnUnmount",xW={bubbles:!1,cancelable:!0},sIe="FocusScope",Gk=T.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:r,...o}=e,[a,l]=T.useState(null),c=fy(s),d=fy(r),f=T.useRef(null),g=ui(t,w=>l(w)),y=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let w=function(A){if(y.paused||!a)return;const k=A.target;a.contains(k)?f.current=k:jf(f.current,{select:!0})},S=function(A){if(y.paused||!a)return;const k=A.relatedTarget;k!==null&&(a.contains(k)||jf(f.current,{select:!0}))},x=function(A){if(document.activeElement===document.body)for(const I of A)I.removedNodes.length>0&&jf(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const M=new MutationObserver(x);return a&&M.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),M.disconnect()}}},[i,a,y.paused]),T.useEffect(()=>{if(a){DW.add(y);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(nN,xW);a.addEventListener(nN,c),a.dispatchEvent(x),x.defaultPrevented||(rIe(uIe(Aq(a)),{select:!0}),document.activeElement===w&&jf(a))}return()=>{a.removeEventListener(nN,c),setTimeout(()=>{const x=new CustomEvent(iN,xW);a.addEventListener(iN,d),a.dispatchEvent(x),x.defaultPrevented||jf(w??document.body,{select:!0}),a.removeEventListener(iN,d),DW.remove(y)},0)}}},[a,c,d,y]);const v=T.useCallback(w=>{if(!n&&!i||y.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(S&&x){const M=w.currentTarget,[A,k]=oIe(M);A&&k?!w.shiftKey&&x===k?(w.preventDefault(),n&&jf(A,{select:!0})):w.shiftKey&&x===A&&(w.preventDefault(),n&&jf(k,{select:!0})):x===M&&w.preventDefault()}},[n,i,y.paused]);return _.jsx(Bn.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});Gk.displayName=sIe;function rIe(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(jf(i,{select:t}),document.activeElement!==n)return}function oIe(e){const t=Aq(e),n=MW(t,e),i=MW(t.reverse(),e);return[n,i]}function Aq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function MW(e,t){for(const n of e)if(!aIe(n,{upTo:t}))return n}function aIe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lIe(e){return e instanceof HTMLInputElement&&"select"in e}function jf(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lIe(e)&&t&&e.select()}}var DW=cIe();function cIe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=AW(e,t),e.unshift(t)},remove(t){var n;e=AW(e,t),(n=e[0])==null||n.resume()}}}function AW(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function uIe(e){return e.filter(t=>t.tagName!=="A")}var so=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},dIe=H4[" useId ".trim().toString()]||(()=>{}),hIe=0;function fg(e){const[t,n]=T.useState(dIe());return so(()=>{n(i=>i??String(hIe++))},[e]),e||(t?`radix-${t}`:"")}const fIe=["top","right","bottom","left"],xg=Math.min,Aa=Math.max,t1=Math.round,tE=Math.floor,Bu=e=>({x:e,y:e}),gIe={left:"right",right:"left",bottom:"top",top:"bottom"},pIe={start:"end",end:"start"};function s2(e,t,n){return Aa(e,xg(t,n))}function gh(e,t){return typeof e=="function"?e(t):e}function ph(e){return e.split("-")[0]}function Gw(e){return e.split("-")[1]}function NG(e){return e==="x"?"y":"x"}function FG(e){return e==="y"?"height":"width"}function Eu(e){return["top","bottom"].includes(ph(e))?"y":"x"}function _G(e){return NG(Eu(e))}function mIe(e,t,n){n===void 0&&(n=!1);const i=Gw(e),s=_G(e),r=FG(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=n1(o)),[o,n1(o)]}function yIe(e){const t=n1(e);return[r2(e),t,r2(t)]}function r2(e){return e.replace(/start|end/g,t=>pIe[t])}function vIe(e,t,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?r:o;default:return[]}}function bIe(e,t,n,i){const s=Gw(e);let r=vIe(ph(e),n==="start",i);return s&&(r=r.map(o=>o+"-"+s),t&&(r=r.concat(r.map(r2)))),r}function n1(e){return e.replace(/left|right|bottom|top/g,t=>gIe[t])}function CIe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rq(e){return typeof e!="number"?CIe(e):{top:e,right:e,bottom:e,left:e}}function i1(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function RW(e,t,n){let{reference:i,floating:s}=e;const r=Eu(t),o=_G(t),a=FG(o),l=ph(t),c=r==="y",d=i.x+i.width/2-s.width/2,f=i.y+i.height/2-s.height/2,g=i[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:i.y-s.height};break;case"bottom":y={x:d,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:f};break;case"left":y={x:i.x-s.width,y:f};break;default:y={x:i.x,y:i.y}}switch(Gw(t)){case"start":y[o]-=g*(n&&c?-1:1);break;case"end":y[o]+=g*(n&&c?-1:1);break}return y}const wIe=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=RW(c,i,l),g=i,y={},v=0;for(let w=0;w<a.length;w++){const{name:S,fn:x}=a[w],{x:M,y:A,data:k,reset:I}=await x({x:d,y:f,initialPlacement:i,placement:g,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:e,floating:t}});d=M??d,f=A??f,y={...y,[S]:{...y[S],...k}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(c=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:d,y:f}=RW(c,g,l)),w=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:y}};async function LM(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=gh(t,e),v=Rq(y),S=a[g?f==="floating"?"reference":"floating":f],x=i1(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(S)))==null||n?S:S.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),M=f==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),k=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},I=i1(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:A,strategy:l}):M);return{top:(x.top-I.top+v.top)/k.y,bottom:(I.bottom-x.bottom+v.bottom)/k.y,left:(x.left-I.left+v.left)/k.x,right:(I.right-x.right+v.right)/k.x}}const SIe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:r,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=gh(e,t)||{};if(c==null)return{};const f=Rq(d),g={x:n,y:i},y=_G(s),v=FG(y),w=await o.getDimensions(c),S=y==="y",x=S?"top":"left",M=S?"bottom":"right",A=S?"clientHeight":"clientWidth",k=r.reference[v]+r.reference[y]-g[y]-r.floating[v],I=g[y]-r.reference[y],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=P?P[A]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=a.floating[A]||r.floating[v]);const B=k/2-I/2,z=N/2-w[v]/2-1,W=xg(f[x],z),Y=xg(f[M],z),K=W,q=N-w[v]-Y,te=N/2-w[v]/2+B,re=s2(K,te,q),X=!l.arrow&&Gw(s)!=null&&te!==re&&r.reference[v]/2-(te<K?W:Y)-w[v]/2<0,ne=X?te<K?te-K:te-q:0;return{[y]:g[y]+ne,data:{[y]:re,centerOffset:te-re-ne,...X&&{alignmentOffset:ne}},reset:X}}}),xIe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...S}=gh(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const x=ph(s),M=Eu(a),A=ph(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=g||(A||!w?[n1(a)]:yIe(a)),P=v!=="none";!g&&P&&I.push(...bIe(a,w,v,k));const N=[a,...I],B=await LM(t,S),z=[];let W=((i=r.flip)==null?void 0:i.overflows)||[];if(d&&z.push(B[x]),f){const te=mIe(s,o,k);z.push(B[te[0]],B[te[1]])}if(W=[...W,{placement:s,overflows:z}],!z.every(te=>te<=0)){var Y,K;const te=(((Y=r.flip)==null?void 0:Y.index)||0)+1,re=N[te];if(re&&(!(f==="alignment"?M!==Eu(re):!1)||W.every(Z=>Z.overflows[0]>0&&Eu(Z.placement)===M)))return{data:{index:te,overflows:W},reset:{placement:re}};let X=(K=W.filter(ne=>ne.overflows[0]<=0).sort((ne,Z)=>ne.overflows[1]-Z.overflows[1])[0])==null?void 0:K.placement;if(!X)switch(y){case"bestFit":{var q;const ne=(q=W.filter(Z=>{if(P){const Se=Eu(Z.placement);return Se===M||Se==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(Se=>Se>0).reduce((Se,U)=>Se+U,0)]).sort((Z,Se)=>Z[1]-Se[1])[0])==null?void 0:q[0];ne&&(X=ne);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function TW(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function EW(e){return fIe.some(t=>e[t]>=0)}const MIe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=gh(e,t);switch(i){case"referenceHidden":{const r=await LM(t,{...s,elementContext:"reference"}),o=TW(r,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:EW(o)}}}case"escaped":{const r=await LM(t,{...s,altBoundary:!0}),o=TW(r,n.floating);return{data:{escapedOffsets:o,escaped:EW(o)}}}default:return{}}}}};async function DIe(e,t){const{placement:n,platform:i,elements:s}=e,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=ph(n),a=Gw(n),l=Eu(n)==="y",c=["left","top"].includes(o)?-1:1,d=r&&l?-1:1,f=gh(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(y=a==="end"?v*-1:v),l?{x:y*d,y:g*c}:{x:g*c,y:y*d}}const AIe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:r,placement:o,middlewareData:a}=t,l=await DIe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:o}}}}},RIe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x,y:M}=S;return{x,y:M}}},...l}=gh(e,t),c={x:n,y:i},d=await LM(t,l),f=Eu(ph(s)),g=NG(f);let y=c[g],v=c[f];if(r){const S=g==="y"?"top":"left",x=g==="y"?"bottom":"right",M=y+d[S],A=y-d[x];y=s2(M,y,A)}if(o){const S=f==="y"?"top":"left",x=f==="y"?"bottom":"right",M=v+d[S],A=v-d[x];v=s2(M,v,A)}const w=a.fn({...t,[g]:y,[f]:v});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[g]:r,[f]:o}}}}}},TIe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:r,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=gh(e,t),d={x:n,y:i},f=Eu(s),g=NG(f);let y=d[g],v=d[f];const w=gh(a,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const A=g==="y"?"height":"width",k=r.reference[g]-r.floating[A]+S.mainAxis,I=r.reference[g]+r.reference[A]-S.mainAxis;y<k?y=k:y>I&&(y=I)}if(c){var x,M;const A=g==="y"?"width":"height",k=["top","left"].includes(ph(s)),I=r.reference[f]-r.floating[A]+(k&&((x=o.offset)==null?void 0:x[f])||0)+(k?0:S.crossAxis),P=r.reference[f]+r.reference[A]+(k?0:((M=o.offset)==null?void 0:M[f])||0)-(k?S.crossAxis:0);v<I?v=I:v>P&&(v=P)}return{[g]:y,[f]:v}}}},EIe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:r,platform:o,elements:a}=t,{apply:l=()=>{},...c}=gh(e,t),d=await LM(t,c),f=ph(s),g=Gw(s),y=Eu(s)==="y",{width:v,height:w}=r.floating;let S,x;f==="top"||f==="bottom"?(S=f,x=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,S=g==="end"?"top":"bottom");const M=w-d.top-d.bottom,A=v-d.left-d.right,k=xg(w-d[S],M),I=xg(v-d[x],A),P=!t.middlewareData.shift;let N=k,B=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(N=M),P&&!g){const W=Aa(d.left,0),Y=Aa(d.right,0),K=Aa(d.top,0),q=Aa(d.bottom,0);y?B=v-2*(W!==0||Y!==0?W+Y:Aa(d.left,d.right)):N=w-2*(K!==0||q!==0?K+q:Aa(d.top,d.bottom))}await l({...t,availableWidth:B,availableHeight:N});const z=await o.getDimensions(a.floating);return v!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function zk(){return typeof window<"u"}function zw(e){return Tq(e)?(e.nodeName||"").toLowerCase():"#document"}function Na(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rd(e){var t;return(t=(Tq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tq(e){return zk()?e instanceof Node||e instanceof Na(e).Node:!1}function bc(e){return zk()?e instanceof Element||e instanceof Na(e).Element:!1}function Wu(e){return zk()?e instanceof HTMLElement||e instanceof Na(e).HTMLElement:!1}function IW(e){return!zk()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Na(e).ShadowRoot}function YD(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Cc(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function IIe(e){return["table","td","th"].includes(zw(e))}function Hk(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function BG(e){const t=GG(),n=bc(e)?Cc(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function kIe(e){let t=Mg(e);for(;Wu(t)&&!tw(t);){if(BG(t))return t;if(Hk(t))return null;t=Mg(t)}return null}function GG(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tw(e){return["html","body","#document"].includes(zw(e))}function Cc(e){return Na(e).getComputedStyle(e)}function Vk(e){return bc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mg(e){if(zw(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IW(e)&&e.host||rd(e);return IW(t)?t.host:t}function Eq(e){const t=Mg(e);return tw(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wu(t)&&YD(t)?t:Eq(t)}function PM(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Eq(e),r=s===((i=e.ownerDocument)==null?void 0:i.body),o=Na(s);if(r){const a=o2(o);return t.concat(o,o.visualViewport||[],YD(s)?s:[],a&&n?PM(a):[])}return t.concat(s,PM(s,[],n))}function o2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Iq(e){const t=Cc(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Wu(e),r=s?e.offsetWidth:n,o=s?e.offsetHeight:i,a=t1(n)!==r||t1(i)!==o;return a&&(n=r,i=o),{width:n,height:i,$:a}}function zG(e){return bc(e)?e:e.contextElement}function CC(e){const t=zG(e);if(!Wu(t))return Bu(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:r}=Iq(t);let o=(r?t1(n.width):n.width)/i,a=(r?t1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const LIe=Bu(0);function kq(e){const t=Na(e);return!GG()||!t.visualViewport?LIe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PIe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Na(e)?!1:t}function gy(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=zG(e);let o=Bu(1);t&&(i?bc(i)&&(o=CC(i)):o=CC(e));const a=PIe(r,n,i)?kq(r):Bu(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(r){const g=Na(r),y=i&&bc(i)?Na(i):i;let v=g,w=o2(v);for(;w&&i&&y!==v;){const S=CC(w),x=w.getBoundingClientRect(),M=Cc(w),A=x.left+(w.clientLeft+parseFloat(M.paddingLeft))*S.x,k=x.top+(w.clientTop+parseFloat(M.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,f*=S.y,l+=A,c+=k,v=Na(w),w=o2(v)}}return i1({width:d,height:f,x:l,y:c})}function HG(e,t){const n=Vk(e).scrollLeft;return t?t.left+n:gy(rd(e)).left+n}function Lq(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:HG(e,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function OIe(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const r=s==="fixed",o=rd(i),a=t?Hk(t.floating):!1;if(i===o||a&&r)return n;let l={scrollLeft:0,scrollTop:0},c=Bu(1);const d=Bu(0),f=Wu(i);if((f||!f&&!r)&&((zw(i)!=="body"||YD(o))&&(l=Vk(i)),Wu(i))){const y=gy(i);c=CC(i),d.x=y.x+i.clientLeft,d.y=y.y+i.clientTop}const g=o&&!f&&!r?Lq(o,l,!0):Bu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:n.y*c.y-l.scrollTop*c.y+d.y+g.y}}function NIe(e){return Array.from(e.getClientRects())}function FIe(e){const t=rd(e),n=Vk(e),i=e.ownerDocument.body,s=Aa(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=Aa(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+HG(e);const a=-n.scrollTop;return Cc(i).direction==="rtl"&&(o+=Aa(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:a}}function _Ie(e,t){const n=Na(e),i=rd(e),s=n.visualViewport;let r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;const c=GG();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a,y:l}}function BIe(e,t){const n=gy(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,r=Wu(e)?CC(e):Bu(1),o=e.clientWidth*r.x,a=e.clientHeight*r.y,l=s*r.x,c=i*r.y;return{width:o,height:a,x:l,y:c}}function kW(e,t,n){let i;if(t==="viewport")i=_Ie(e,n);else if(t==="document")i=FIe(rd(e));else if(bc(t))i=BIe(t,n);else{const s=kq(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return i1(i)}function Pq(e,t){const n=Mg(e);return n===t||!bc(n)||tw(n)?!1:Cc(n).position==="fixed"||Pq(n,t)}function GIe(e,t){const n=t.get(e);if(n)return n;let i=PM(e,[],!1).filter(a=>bc(a)&&zw(a)!=="body"),s=null;const r=Cc(e).position==="fixed";let o=r?Mg(e):e;for(;bc(o)&&!tw(o);){const a=Cc(o),l=BG(o);!l&&a.position==="fixed"&&(s=null),(r?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||YD(o)&&!l&&Pq(e,o))?i=i.filter(d=>d!==o):s=a,o=Mg(o)}return t.set(e,i),i}function zIe(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const o=[...n==="clippingAncestors"?Hk(t)?[]:GIe(t,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,d)=>{const f=kW(t,d,s);return c.top=Aa(f.top,c.top),c.right=xg(f.right,c.right),c.bottom=xg(f.bottom,c.bottom),c.left=Aa(f.left,c.left),c},kW(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HIe(e){const{width:t,height:n}=Iq(e);return{width:t,height:n}}function VIe(e,t,n){const i=Wu(t),s=rd(t),r=n==="fixed",o=gy(e,!0,r,t);let a={scrollLeft:0,scrollTop:0};const l=Bu(0);function c(){l.x=HG(s)}if(i||!i&&!r)if((zw(t)!=="body"||YD(s))&&(a=Vk(t)),i){const y=gy(t,!0,r,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else s&&c();r&&!i&&s&&c();const d=s&&!i&&!r?Lq(s,a):Bu(0),f=o.left+a.scrollLeft-l.x-d.x,g=o.top+a.scrollTop-l.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function sN(e){return Cc(e).position==="static"}function LW(e,t){if(!Wu(e)||Cc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rd(e)===n&&(n=n.ownerDocument.body),n}function Oq(e,t){const n=Na(e);if(Hk(e))return n;if(!Wu(e)){let s=Mg(e);for(;s&&!tw(s);){if(bc(s)&&!sN(s))return s;s=Mg(s)}return n}let i=LW(e,t);for(;i&&IIe(i)&&sN(i);)i=LW(i,t);return i&&tw(i)&&sN(i)&&!BG(i)?n:i||kIe(e)||n}const jIe=async function(e){const t=this.getOffsetParent||Oq,n=this.getDimensions,i=await n(e.floating);return{reference:VIe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function WIe(e){return Cc(e).direction==="rtl"}const UIe={convertOffsetParentRelativeRectToViewportRelativeRect:OIe,getDocumentElement:rd,getClippingRect:zIe,getOffsetParent:Oq,getElementRects:jIe,getClientRects:NIe,getDimensions:HIe,getScale:CC,isElement:bc,isRTL:WIe};function Nq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $Ie(e,t){let n=null,i;const s=rd(e);function r(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();const c=e.getBoundingClientRect(),{left:d,top:f,width:g,height:y}=c;if(a||t(),!g||!y)return;const v=tE(f),w=tE(s.clientWidth-(d+g)),S=tE(s.clientHeight-(f+y)),x=tE(d),A={rootMargin:-v+"px "+-w+"px "+-S+"px "+-x+"px",threshold:Aa(0,xg(1,l))||1};let k=!0;function I(P){const N=P[0].intersectionRatio;if(N!==l){if(!k)return o();N?o(!1,N):i=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Nq(c,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(I,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,A)}n.observe(e)}return o(!0),r}function YIe(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=zG(e),d=s||r?[...c?PM(c):[],...PM(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),r&&x.addEventListener("resize",n)});const f=c&&a?$Ie(c,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(x=>{let[M]=x;M&&M.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let v,w=l?gy(e):null;l&&S();function S(){const x=gy(e);w&&!Nq(w,x)&&n(),w=x,v=requestAnimationFrame(S)}return n(),()=>{var x;d.forEach(M=>{s&&M.removeEventListener("scroll",n),r&&M.removeEventListener("resize",n)}),f==null||f(),(x=y)==null||x.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const KIe=AIe,qIe=RIe,ZIe=xIe,XIe=EIe,QIe=MIe,PW=SIe,JIe=TIe,e1e=(e,t,n)=>{const i=new Map,s={platform:UIe,...n},r={...s.platform,_c:i};return wIe(e,t,{...s,platform:r})};var t1e=typeof document<"u",n1e=function(){},zE=t1e?T.useLayoutEffect:n1e;function s1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!s1(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const r=s[i];if(!(r==="_owner"&&e.$$typeof)&&!s1(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function Fq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OW(e,t){const n=Fq(e);return Math.round(t*n)/n}function rN(e){const t=T.useRef(e);return zE(()=>{t.current=e}),t}function i1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=T.useState(i);s1(g,i)||y(i);const[v,w]=T.useState(null),[S,x]=T.useState(null),M=T.useCallback(Z=>{Z!==P.current&&(P.current=Z,w(Z))},[]),A=T.useCallback(Z=>{Z!==N.current&&(N.current=Z,x(Z))},[]),k=r||v,I=o||S,P=T.useRef(null),N=T.useRef(null),B=T.useRef(d),z=l!=null,W=rN(l),Y=rN(s),K=rN(c),q=T.useCallback(()=>{if(!P.current||!N.current)return;const Z={placement:t,strategy:n,middleware:g};Y.current&&(Z.platform=Y.current),e1e(P.current,N.current,Z).then(Se=>{const U={...Se,isPositioned:K.current!==!1};te.current&&!s1(B.current,U)&&(B.current=U,Cy.flushSync(()=>{f(U)}))})},[g,t,n,Y,K]);zE(()=>{c===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(Z=>({...Z,isPositioned:!1})))},[c]);const te=T.useRef(!1);zE(()=>(te.current=!0,()=>{te.current=!1}),[]),zE(()=>{if(k&&(P.current=k),I&&(N.current=I),k&&I){if(W.current)return W.current(k,I,q);q()}},[k,I,q,W,z]);const re=T.useMemo(()=>({reference:P,floating:N,setReference:M,setFloating:A}),[M,A]),X=T.useMemo(()=>({reference:k,floating:I}),[k,I]),ne=T.useMemo(()=>{const Z={position:n,left:0,top:0};if(!X.floating)return Z;const Se=OW(X.floating,d.x),U=OW(X.floating,d.y);return a?{...Z,transform:"translate("+Se+"px, "+U+"px)",...Fq(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Se,top:U}},[n,a,X.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:q,refs:re,elements:X,floatingStyles:ne}),[d,q,re,X,ne])}const s1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?PW({element:i.current,padding:s}).fn(n):{}:i?PW({element:i,padding:s}).fn(n):{}}}},r1e=(e,t)=>({...KIe(e),options:[e,t]}),o1e=(e,t)=>({...qIe(e),options:[e,t]}),a1e=(e,t)=>({...JIe(e),options:[e,t]}),l1e=(e,t)=>({...ZIe(e),options:[e,t]}),c1e=(e,t)=>({...XIe(e),options:[e,t]}),u1e=(e,t)=>({...QIe(e),options:[e,t]}),d1e=(e,t)=>({...s1e(e),options:[e,t]});var h1e="Arrow",_q=T.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...r}=e;return _.jsx(Bn.svg,{...r,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});_q.displayName=h1e;var f1e=_q;function Bq(e){const[t,n]=T.useState(void 0);return so(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let o,a;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var VG="Popper",[Gq,Hw]=Bg(VG),[g1e,zq]=Gq(VG),Hq=e=>{const{__scopePopper:t,children:n}=e,[i,s]=T.useState(null);return _.jsx(g1e,{scope:t,anchor:i,onAnchorChange:s,children:n})};Hq.displayName=VG;var Vq="PopperAnchor",jq=T.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,r=zq(Vq,n),o=T.useRef(null),a=ui(t,o);return T.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:_.jsx(Bn.div,{...s,ref:a})});jq.displayName=Vq;var jG="PopperContent",[p1e,m1e]=Gq(jG),Wq=T.forwardRef((e,t)=>{var Me,Ce,je,Ye,Ge,We;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=e,S=zq(jG,n),[x,M]=T.useState(null),A=ui(t,it=>M(it)),[k,I]=T.useState(null),P=Bq(k),N=(P==null?void 0:P.width)??0,B=(P==null?void 0:P.height)??0,z=i+(r!=="center"?"-"+r:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(c)?c:[c],K=Y.length>0,q={padding:W,boundary:Y.filter(v1e),altBoundary:K},{refs:te,floatingStyles:re,placement:X,isPositioned:ne,middlewareData:Z}=i1e({strategy:"fixed",placement:z,whileElementsMounted:(...it)=>YIe(...it,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[r1e({mainAxis:s+B,alignmentAxis:o}),l&&o1e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?a1e():void 0,...q}),l&&l1e({...q}),c1e({...q,apply:({elements:it,rects:$e,availableWidth:mt,availableHeight:Ht})=>{const{width:st,height:St}=$e.reference,Ze=it.floating.style;Ze.setProperty("--radix-popper-available-width",`${mt}px`),Ze.setProperty("--radix-popper-available-height",`${Ht}px`),Ze.setProperty("--radix-popper-anchor-width",`${st}px`),Ze.setProperty("--radix-popper-anchor-height",`${St}px`)}}),k&&d1e({element:k,padding:a}),b1e({arrowWidth:N,arrowHeight:B}),g&&u1e({strategy:"referenceHidden",...q})]}),[Se,U]=Yq(X),ie=fy(v);so(()=>{ne&&(ie==null||ie())},[ne,ie]);const ve=(Me=Z.arrow)==null?void 0:Me.x,J=(Ce=Z.arrow)==null?void 0:Ce.y,he=((je=Z.arrow)==null?void 0:je.centerOffset)!==0,[Ee,we]=T.useState();return so(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),_.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ne?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Ye=Z.transformOrigin)==null?void 0:Ye.x,(Ge=Z.transformOrigin)==null?void 0:Ge.y].join(" "),...((We=Z.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:_.jsx(p1e,{scope:n,placedSide:Se,onArrowChange:I,arrowX:ve,arrowY:J,shouldHideArrow:he,children:_.jsx(Bn.div,{"data-side":Se,"data-align":U,...w,ref:A,style:{...w.style,animation:ne?void 0:"none"}})})})});Wq.displayName=jG;var Uq="PopperArrow",y1e={top:"bottom",right:"left",bottom:"top",left:"right"},$q=T.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,r=m1e(Uq,i),o=y1e[r.placedSide];return _.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:_.jsx(f1e,{...s,ref:n,style:{...s.style,display:"block"}})})});$q.displayName=Uq;function v1e(e){return e!==null}var b1e=e=>({name:"transformOrigin",options:e,fn(t){var S,x,M;const{placement:n,rects:i,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Yq(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,y=(((M=s.arrow)==null?void 0:M.y)??0)+l/2;let v="",w="";return c==="bottom"?(v=o?f:`${g}px`,w=`${-l}px`):c==="top"?(v=o?f:`${g}px`,w=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,w=o?f:`${y}px`):c==="left"&&(v=`${i.floating.width+l}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function Yq(e){const[t,n="center"]=e.split("-");return[t,n]}var WG=Hq,jk=jq,UG=Wq,$G=$q,C1e="Portal",KD=T.forwardRef((e,t)=>{var a;const{container:n,...i}=e,[s,r]=T.useState(!1);so(()=>r(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oU.createPortal(_.jsx(Bn.div,{...i,ref:t}),o):null});KD.displayName=C1e;function w1e(e,t){return T.useReducer((n,i)=>t[n][i]??n,e)}var Ih=e=>{const{present:t,children:n}=e,i=S1e(t),s=typeof n=="function"?n({present:i.isPresent}):T.Children.only(n),r=ui(i.ref,x1e(s));return typeof n=="function"||i.isPresent?T.cloneElement(s,{ref:r}):null};Ih.displayName="Presence";function S1e(e){const[t,n]=T.useState(),i=T.useRef(null),s=T.useRef(e),r=T.useRef("none"),o=e?"mounted":"unmounted",[a,l]=w1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=nE(i.current);r.current=a==="mounted"?c:"none"},[a]),so(()=>{const c=i.current,d=s.current;if(d!==e){const g=r.current,y=nE(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),so(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=y=>{const w=nE(i.current).includes(y.animationName);if(y.target===t&&w&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=y=>{y.target===t&&(r.current=nE(i.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function nE(e){return(e==null?void 0:e.animationName)||"none"}function x1e(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var M1e=H4[" useInsertionEffect ".trim().toString()]||so;function nw({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,r,o]=D1e({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=T.useRef(e!==void 0);T.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${i} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,i])}const c=T.useCallback(d=>{var f;if(a){const g=A1e(d)?d(e):d;g!==e&&((f=o.current)==null||f.call(o,g))}else r(d)},[a,e,r,o]);return[l,c]}function D1e({defaultProp:e,onChange:t}){const[n,i]=T.useState(e),s=T.useRef(n),r=T.useRef(t);return M1e(()=>{r.current=t},[t]),T.useEffect(()=>{var o;s.current!==n&&((o=r.current)==null||o.call(r,n),s.current=n)},[n,s]),[n,i,r]}function A1e(e){return typeof e=="function"}var R1e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pb=new WeakMap,iE=new WeakMap,sE={},oN=0,Kq=function(e){return e&&(e.host||Kq(e.parentNode))},T1e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=Kq(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},E1e=function(e,t,n,i){var s=T1e(t,Array.isArray(e)?e:[e]);sE[n]||(sE[n]=new WeakMap);var r=sE[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))d(g);else try{var y=g.getAttribute(i),v=y!==null&&y!=="false",w=(Pb.get(g)||0)+1,S=(r.get(g)||0)+1;Pb.set(g,w),r.set(g,S),o.push(g),w===1&&v&&iE.set(g,!0),S===1&&g.setAttribute(n,"true"),v||g.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return d(t),a.clear(),oN++,function(){o.forEach(function(f){var g=Pb.get(f)-1,y=r.get(f)-1;Pb.set(f,g),r.set(f,y),g||(iE.has(f)||f.removeAttribute(i),iE.delete(f)),y||f.removeAttribute(n)}),oN--,oN||(Pb=new WeakMap,Pb=new WeakMap,iE=new WeakMap,sE={})}},YG=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=R1e(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),E1e(i,s,n,"aria-hidden")):function(){return null}},Su=function(){return Su=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)};function qq(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function I1e(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var HE="right-scroll-bar-position",VE="width-before-scroll-bar",k1e="with-scroll-bars-hidden",L1e="--removed-body-scroll-bar-size";function aN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P1e(e,t){var n=T.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var O1e=typeof window<"u"?T.useLayoutEffect:T.useEffect,NW=new WeakMap;function N1e(e,t){var n=P1e(null,function(i){return e.forEach(function(s){return aN(s,i)})});return O1e(function(){var i=NW.get(n);if(i){var s=new Set(i),r=new Set(e),o=n.current;s.forEach(function(a){r.has(a)||aN(a,null)}),r.forEach(function(a){s.has(a)||aN(a,o)})}NW.set(n,e)},[e]),n}function F1e(e){return e}function _1e(e,t){t===void 0&&(t=F1e);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(r){var o=t(r,i);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(r){for(i=!0;n.length;){var o=n;n=[],o.forEach(r)}n={push:function(a){return r(a)},filter:function(){return n}}},assignMedium:function(r){i=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(r),o=n}var l=function(){var d=o;o=[],d.forEach(r)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function B1e(e){e===void 0&&(e={});var t=_1e(null);return t.options=Su({async:!0,ssr:!1},e),t}var Zq=function(e){var t=e.sideCar,n=qq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Su({},n))};Zq.isSideCarExport=!0;function G1e(e,t){return e.useMedium(t),Zq}var Xq=B1e(),lN=function(){},Wk=T.forwardRef(function(e,t){var n=T.useRef(null),i=T.useState({onScrollCapture:lN,onWheelCapture:lN,onTouchMoveCapture:lN}),s=i[0],r=i[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,v=e.noIsolation,w=e.inert,S=e.allowPinchZoom,x=e.as,M=x===void 0?"div":x,A=e.gapMode,k=qq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,P=N1e([n,t]),N=Su(Su({},k),s);return T.createElement(T.Fragment,null,d&&T.createElement(I,{sideCar:Xq,removeScrollBar:c,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:r,allowPinchZoom:!!S,lockRef:n,gapMode:A}),o?T.cloneElement(T.Children.only(a),Su(Su({},N),{ref:P})):T.createElement(M,Su({},N,{className:l,ref:P}),a))});Wk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wk.classNames={fullWidth:VE,zeroRight:HE};var z1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H1e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=z1e();return t&&e.setAttribute("nonce",t),e}function V1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function j1e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var W1e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=H1e())&&(V1e(t,n),j1e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U1e=function(){var e=W1e();return function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qq=function(){var e=U1e(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},$1e={left:0,top:0,right:0,gap:0},cN=function(e){return parseInt(e||"",10)||0},Y1e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[cN(n),cN(i),cN(s)]},K1e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $1e;var t=Y1e(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},q1e=Qq(),wC="data-scroll-locked",Z1e=function(e,t,n,i){var s=e.left,r=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(k1e,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(wC,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(HE,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(VE,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(HE," .").concat(HE,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(VE," .").concat(VE,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(wC,`] {
    `).concat(L1e,": ").concat(a,`px;
  }
`)},FW=function(){var e=parseInt(document.body.getAttribute(wC)||"0",10);return isFinite(e)?e:0},X1e=function(){T.useEffect(function(){return document.body.setAttribute(wC,(FW()+1).toString()),function(){var e=FW()-1;e<=0?document.body.removeAttribute(wC):document.body.setAttribute(wC,e.toString())}},[])},Q1e=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;X1e();var r=T.useMemo(function(){return K1e(s)},[s]);return T.createElement(q1e,{styles:Z1e(r,!t,s,n?"":"!important")})},a2=!1;if(typeof window<"u")try{var rE=Object.defineProperty({},"passive",{get:function(){return a2=!0,!0}});window.addEventListener("test",rE,rE),window.removeEventListener("test",rE,rE)}catch{a2=!1}var Ob=a2?{passive:!1}:!1,J1e=function(e){return e.tagName==="TEXTAREA"},Jq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!J1e(e)&&n[t]==="visible")},eke=function(e){return Jq(e,"overflowY")},tke=function(e){return Jq(e,"overflowX")},_W=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=e7(e,i);if(s){var r=t7(e,i),o=r[1],a=r[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},nke=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},ike=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},e7=function(e,t){return e==="v"?eke(t):tke(t)},t7=function(e,t){return e==="v"?nke(t):ike(t)},ske=function(e,t){return e==="h"&&t==="rtl"?-1:1},rke=function(e,t,n,i,s){var r=ske(e,window.getComputedStyle(t).direction),o=r*i,a=n.target,l=t.contains(a),c=!1,d=o>0,f=0,g=0;do{if(!a)break;var y=t7(e,a),v=y[0],w=y[1],S=y[2],x=w-S-r*v;(v||x)&&e7(e,a)&&(f+=x,g+=v);var M=a.parentNode;a=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(c=!0),c},oE=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BW=function(e){return[e.deltaX,e.deltaY]},GW=function(e){return e&&"current"in e?e.current:e},oke=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ake=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lke=0,Nb=[];function cke(e){var t=T.useRef([]),n=T.useRef([0,0]),i=T.useRef(),s=T.useState(lke++)[0],r=T.useState(Qq)[0],o=T.useRef(e);T.useEffect(function(){o.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=I1e([e.lockRef.current],(e.shards||[]).map(GW),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=T.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=oE(w),M=n.current,A="deltaX"in w?w.deltaX:M[0]-x[0],k="deltaY"in w?w.deltaY:M[1]-x[1],I,P=w.target,N=Math.abs(A)>Math.abs(k)?"h":"v";if("touches"in w&&N==="h"&&P.type==="range")return!1;var B=_W(N,P);if(!B)return!0;if(B?I=N:(I=N==="v"?"h":"v",B=_W(N,P)),!B)return!1;if(!i.current&&"changedTouches"in w&&(A||k)&&(i.current=I),!I)return!0;var z=i.current||I;return rke(z,S,w,z==="h"?A:k)},[]),l=T.useCallback(function(w){var S=w;if(!(!Nb.length||Nb[Nb.length-1]!==r)){var x="deltaY"in S?BW(S):oE(S),M=t.current.filter(function(I){return I.name===S.type&&(I.target===S.target||S.target===I.shadowParent)&&oke(I.delta,x)})[0];if(M&&M.should){S.cancelable&&S.preventDefault();return}if(!M){var A=(o.current.shards||[]).map(GW).filter(Boolean).filter(function(I){return I.contains(S.target)}),k=A.length>0?a(S,A[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),c=T.useCallback(function(w,S,x,M){var A={name:w,delta:S,target:x,should:M,shadowParent:uke(x)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(k){return k!==A})},1)},[]),d=T.useCallback(function(w){n.current=oE(w),i.current=void 0},[]),f=T.useCallback(function(w){c(w.type,BW(w),w.target,a(w,e.lockRef.current))},[]),g=T.useCallback(function(w){c(w.type,oE(w),w.target,a(w,e.lockRef.current))},[]);T.useEffect(function(){return Nb.push(r),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Ob),document.addEventListener("touchmove",l,Ob),document.addEventListener("touchstart",d,Ob),function(){Nb=Nb.filter(function(w){return w!==r}),document.removeEventListener("wheel",l,Ob),document.removeEventListener("touchmove",l,Ob),document.removeEventListener("touchstart",d,Ob)}},[]);var y=e.removeScrollBar,v=e.inert;return T.createElement(T.Fragment,null,v?T.createElement(r,{styles:ake(s)}):null,y?T.createElement(Q1e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uke(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dke=G1e(Xq,cke);var Uk=T.forwardRef(function(e,t){return T.createElement(Wk,Su({},e,{ref:t,sideCar:dke}))});Uk.classNames=Wk.classNames;var $k="Popover",[n7,A_e]=Bg($k,[Hw]),qD=Hw(),[hke,Gg]=n7($k),i7=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:s,onOpenChange:r,modal:o=!1}=e,a=qD(t),l=T.useRef(null),[c,d]=T.useState(!1),[f,g]=nw({prop:i,defaultProp:s??!1,onChange:r,caller:$k});return _.jsx(WG,{...a,children:_.jsx(hke,{scope:t,contentId:fg(),triggerRef:l,open:f,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:c,onCustomAnchorAdd:T.useCallback(()=>d(!0),[]),onCustomAnchorRemove:T.useCallback(()=>d(!1),[]),modal:o,children:n})})};i7.displayName=$k;var s7="PopoverAnchor",fke=T.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=Gg(s7,n),r=qD(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return T.useEffect(()=>(o(),()=>a()),[o,a]),_.jsx(jk,{...r,...i,ref:t})});fke.displayName=s7;var r7="PopoverTrigger",o7=T.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=Gg(r7,n),r=qD(n),o=ui(t,s.triggerRef),a=_.jsx(Bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d7(s.open),...i,ref:o,onClick:on(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:_.jsx(jk,{asChild:!0,...r,children:a})});o7.displayName=r7;var KG="PopoverPortal",[gke,pke]=n7(KG,{forceMount:void 0}),a7=e=>{const{__scopePopover:t,forceMount:n,children:i,container:s}=e,r=Gg(KG,t);return _.jsx(gke,{scope:t,forceMount:n,children:_.jsx(Ih,{present:n||r.open,children:_.jsx(KD,{asChild:!0,container:s,children:i})})})};a7.displayName=KG;var iw="PopoverContent",l7=T.forwardRef((e,t)=>{const n=pke(iw,e.__scopePopover),{forceMount:i=n.forceMount,...s}=e,r=Gg(iw,e.__scopePopover);return _.jsx(Ih,{present:i||r.open,children:r.modal?_.jsx(yke,{...s,ref:t}):_.jsx(vke,{...s,ref:t})})});l7.displayName=iw;var mke=uy("PopoverContent.RemoveScroll"),yke=T.forwardRef((e,t)=>{const n=Gg(iw,e.__scopePopover),i=T.useRef(null),s=ui(t,i),r=T.useRef(!1);return T.useEffect(()=>{const o=i.current;if(o)return YG(o)},[]),_.jsx(Uk,{as:mke,allowPinchZoom:!0,children:_.jsx(c7,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:on(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),r.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:on(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;r.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:on(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),vke=T.forwardRef((e,t)=>{const n=Gg(iw,e.__scopePopover),i=T.useRef(!1),s=T.useRef(!1);return _.jsx(c7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,r),r.defaultPrevented||(i.current||(a=n.triggerRef.current)==null||a.focus(),r.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:r=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=r.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&s.current&&r.preventDefault()}})}),c7=T.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:r,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,g=Gg(iw,n),y=qD(n);return OG(),_.jsx(Gk,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:r,children:_.jsx($D,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:_.jsx(UG,{"data-state":d7(g.open),role:"dialog",id:g.contentId,...y,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),u7="PopoverClose",bke=T.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=Gg(u7,n);return _.jsx(Bn.button,{type:"button",...i,ref:t,onClick:on(e.onClick,()=>s.onOpenChange(!1))})});bke.displayName=u7;var Cke="PopoverArrow",wke=T.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=qD(n);return _.jsx($G,{...s,...i,ref:t})});wke.displayName=Cke;function d7(e){return e?"open":"closed"}var Ske=i7,xke=o7,Mke=a7,Dke=l7;function Ake({...e}){return _.jsx(Ske,{"data-slot":"popover",...e})}function Rke({...e}){return _.jsx(xke,{"data-slot":"popover-trigger",...e})}function Tke({className:e,align:t="center",sideOffset:n=4,...i}){return _.jsx(Mke,{children:_.jsx(Dke,{"data-slot":"popover-content",align:t,sideOffset:n,className:bt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}function zW(e,t,n){const i=sTe(),s=kke(e,n.timeZone,n.locale??i.locale);return"formatToParts"in s?Eke(s,t):Ike(s,t)}function Eke(e,t){const n=e.formatToParts(t);for(let i=n.length-1;i>=0;--i)if(n[i].type==="timeZoneName")return n[i].value}function Ike(e,t){const n=e.format(t).replace(/\u200E/g,""),i=/ [\w-+ ]+$/.exec(n);return i?i[0].substr(1):""}function kke(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Lke(e,t){const n=_ke(t);return"formatToParts"in n?Oke(n,e):Nke(n,e)}const Pke={year:0,month:1,day:2,hour:3,minute:4,second:5};function Oke(e,t){try{const n=e.formatToParts(t),i=[];for(let s=0;s<n.length;s++){const r=Pke[n[s].type];r!==void 0&&(i[r]=parseInt(n[s].value,10))}return i}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Nke(e,t){const n=e.format(t),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(i[3],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10)]}const uN={},HW=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Fke=HW==="06/25/2014, 00:00:00"||HW==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function _ke(e){return uN[e]||(uN[e]=Fke?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),uN[e]}function h7(e,t,n,i,s,r,o){const a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,s,r,o),a}const VW=36e5,Bke=6e4,dN={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function qG(e,t,n){if(!e)return 0;let i=dN.timezoneZ.exec(e);if(i)return 0;let s,r;if(i=dN.timezoneHH.exec(e),i)return s=parseInt(i[1],10),jW(s)?-(s*VW):NaN;if(i=dN.timezoneHHMM.exec(e),i){s=parseInt(i[2],10);const o=parseInt(i[3],10);return jW(s,o)?(r=Math.abs(s)*VW+o*Bke,i[1]==="+"?-r:r):NaN}if(Hke(e)){t=new Date(t||Date.now());const o=n?t:Gke(t),a=l2(o,e);return-(n?a:zke(t,a,e))}return NaN}function Gke(e){return h7(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function l2(e,t){const n=Lke(e,t),i=h7(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=e.getTime();const r=s%1e3;return s-=r>=0?r:1e3+r,i-s}function zke(e,t,n){let s=e.getTime()-t;const r=l2(new Date(s),n);if(t===r)return t;s-=r-t;const o=l2(new Date(s),n);return r===o?r:Math.max(r,o)}function jW(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const WW={};function Hke(e){if(WW[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),WW[e]=!0,!0}catch{return!1}}const Vke=60*1e3,jke={X:function(e,t,n){const i=hN(n.timeZone,e);if(i===0)return"Z";switch(t){case"X":return UW(i);case"XXXX":case"XX":return qb(i);case"XXXXX":case"XXX":default:return qb(i,":")}},x:function(e,t,n){const i=hN(n.timeZone,e);switch(t){case"x":return UW(i);case"xxxx":case"xx":return qb(i);case"xxxxx":case"xxx":default:return qb(i,":")}},O:function(e,t,n){const i=hN(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Wke(i,":");case"OOOO":default:return"GMT"+qb(i,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return zW("short",e,n);case"zzzz":default:return zW("long",e,n)}}};function hN(e,t){const n=e?qG(e,t,!0)/Vke:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function r1(e,t){const n=e<0?"-":"";let i=Math.abs(e).toString();for(;i.length<t;)i="0"+i;return n+i}function qb(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=r1(Math.floor(i/60),2),r=r1(Math.floor(i%60),2);return n+s+t+r}function UW(e,t){return e%60===0?(e>0?"-":"+")+r1(Math.abs(e)/60,2):qb(e,t)}function Wke(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.floor(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+r1(r,2)}function $W(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const Uke=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,fN=36e5,YW=6e4,$ke=2,ko={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Uke};function nC(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?$ke:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const i=Yke(e),{year:s,restDateString:r}=Kke(i.date,n),o=qke(r,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,c;if(i.time&&(l=Zke(i.time),l===null||isNaN(l)))return new Date(NaN);if(i.timeZone||t.timeZone){if(c=qG(i.timeZone||t.timeZone,new Date(a+l)),isNaN(c))return new Date(NaN)}else c=$W(new Date(a+l)),c=$W(new Date(a+l+c));return new Date(a+l+c)}else return new Date(NaN)}function Yke(e){const t={};let n=ko.dateTimePattern.exec(e),i;if(n?(t.date=n[1],i=n[3]):(n=ko.datePattern.exec(e),n?(t.date=n[1],i=n[2]):(t.date=null,i=e)),i){const s=ko.timeZone.exec(i);s?(t.time=i.replace(s[1],""),t.timeZone=s[1].trim()):t.time=i}return t}function Kke(e,t){if(e){const n=ko.YYY[t],i=ko.YYYYY[t];let s=ko.YYYY.exec(e)||i.exec(e);if(s){const r=s[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(s=ko.YY.exec(e)||n.exec(e),s){const r=s[1];return{year:parseInt(r,10)*100,restDateString:e.slice(r.length)}}}return{year:null}}function qke(e,t){if(t===null)return null;let n,i,s;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let r=ko.MM.exec(e);if(r)return n=new Date(0),i=parseInt(r[1],10)-1,qW(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(r=ko.DDD.exec(e),r){n=new Date(0);const o=parseInt(r[1],10);return Jke(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(r=ko.MMDD.exec(e),r){n=new Date(0),i=parseInt(r[1],10)-1;const o=parseInt(r[2],10);return qW(t,i,o)?(n.setUTCFullYear(t,i,o),n):new Date(NaN)}if(r=ko.Www.exec(e),r)return s=parseInt(r[1],10)-1,ZW(s)?KW(t,s):new Date(NaN);if(r=ko.WwwD.exec(e),r){s=parseInt(r[1],10)-1;const o=parseInt(r[2],10)-1;return ZW(s,o)?KW(t,s,o):new Date(NaN)}return null}function Zke(e){let t,n,i=ko.HH.exec(e);if(i)return t=parseFloat(i[1].replace(",",".")),gN(t)?t%24*fN:NaN;if(i=ko.HHMM.exec(e),i)return t=parseInt(i[1],10),n=parseFloat(i[2].replace(",",".")),gN(t,n)?t%24*fN+n*YW:NaN;if(i=ko.HHMMSS.exec(e),i){t=parseInt(i[1],10),n=parseInt(i[2],10);const s=parseFloat(i[3].replace(",","."));return gN(t,n,s)?t%24*fN+n*YW+s*1e3:NaN}return null}function KW(e,t,n){t=t||0,n=n||0;const i=new Date(0);i.setUTCFullYear(e,0,4);const s=i.getUTCDay()||7,r=t*7+n+1-s;return i.setUTCDate(i.getUTCDate()+r),i}const Xke=[31,28,31,30,31,30,31,31,30,31,30,31],Qke=[31,29,31,30,31,30,31,31,30,31,30,31];function f7(e){return e%400===0||e%4===0&&e%100!==0}function qW(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const i=f7(e);if(i&&n>Qke[t]||!i&&n>Xke[t])return!1}return!0}function Jke(e,t){if(t<1)return!1;const n=f7(e);return!(n&&t>366||!n&&t>365)}function ZW(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function gN(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const eLe=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function tLe(e,t,n={}){t=String(t);const i=t.match(eLe);if(i){const s=nC(n.originalDate||e,n);t=i.reduce(function(r,o){if(o[0]==="'")return r;const a=r.indexOf(o),l=r[a-1]==="'",c=r.replace(o,"'"+jke[o[0]](s,o,n)+"'");return l?c.substring(0,a-1)+c.substring(a+1):c},t)}return io(e,t,n)}function nLe(e,t,n){e=nC(e,n);const i=qG(t,e,!0),s=new Date(e.getTime()-i),r=new Date(0);return r.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),r.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),r}function iLe(e,t,n,i){return i={...i,timeZone:t,originalDate:e},tLe(nLe(e,t,{timeZone:i.timeZone}),n,i)}const Xl={THIS_WEEK:"이번 주",LAST_WEEK:"지난 주",LAST_7_DAYS:"최근 7일간",THIS_MONTH:"이번 달",LAST_MONTH:"지난 달",LAST_2_MONTHS:"2개월 전",THIS_YEAR:"올해",LAST_YEAR:"작년"},sLe=({onDateSelect:e,computedMaxDate:t,isDashboard:n=!1})=>{const i=new Date,[s,r]=T.useState(!1),[o,a]=T.useState(iq(t,i)?Xl.THIS_MONTH:null),[l,c]=T.useState(new Date),d=Intl.DateTimeFormat().resolvedOptions().timeZone,f=()=>r(!1),g=()=>r(W=>!W),y=(W,Y)=>{const K=hy(nC(W,{timeZone:d})),q=dW(nC(Y,{timeZone:d}));e({from:K,to:q}),c($d(K))},v=W=>{if(W){let Y=hy(nC(W.from,{timeZone:d})),K=W.to?dW(nC(W.to,{timeZone:d})):Y;e({from:Y,to:K})}a(null)},w=dy(i,{weekStartsOn:1}),S=$d(i),x=hm(i,i.getDate()),M=$d(x),A=n2(x),k=hm(i,365),I=(W,Y,K,q=!1)=>({label:W,start:Y,end:K,...q&&{disabled:q}}),P=[I(Xl.LAST_2_MONTHS,$d(hm(M,1)),n2(hm(M,1))),I(Xl.LAST_MONTH,M,A),I(Xl.THIS_MONTH,S,t,t<S)],N=[I(Xl.THIS_WEEK,w,t,t<w),I(Xl.LAST_WEEK,hm(w,7),hm(IG(i,{weekStartsOn:1}),7)),I(Xl.LAST_7_DAYS,hm(t,6),t),I(Xl.THIS_MONTH,S,t,t<S),I(Xl.LAST_MONTH,M,A),I(Xl.THIS_YEAR,e1(i),t),I(Xl.LAST_YEAR,e1(k),rq(k))];return{isOpen:s,selectedOption:o,calendarMonth:l,dateRanges:n?P:N,setIsOpen:r,setSelectedOption:a,setCalendarMonth:c,handleClose:f,handleTogglePopover:g,selectDateRange:y,handleDateSelect:v,formatWithTz:(W,Y)=>iLe(W,d,Y)}},Yk=T.forwardRef(({className:e,date:t,onDateSelect:n,contentAlign:i="start",maxDateType:s,isDashboard:r,...o},a)=>{const l=T.useMemo(()=>s==="yesterday"?new Date(Date.now()-864e5):s==="today"?new Date:new Date,[s]),{isOpen:c,selectedOption:d,calendarMonth:f,dateRanges:g,setIsOpen:y,setSelectedOption:v,setCalendarMonth:w,handleClose:S,handleTogglePopover:x,selectDateRange:M,handleDateSelect:A,formatWithTz:k}=sLe({onDateSelect:n,computedMaxDate:l,isDashboard:r});return _.jsx(_.Fragment,{children:_.jsxs(Ake,{open:c,onOpenChange:y,children:[_.jsx(Rke,{asChild:!0,children:_.jsxs(Oa,{id:"date",ref:a,variant:"outline",className:"hover:border-primary group text-contrast/70 flex w-[230px] justify-between",onClick:x,suppressHydrationWarning:!0,...o,children:[_.jsx(SAe,{className:"group-hover:text-primary h-4 w-4 transition-colors duration-200"}),_.jsx("span",{className:"group-hover:text-primary flex-1 transition-colors duration-200",children:t!=null&&t.from&&(t!=null&&t.to)?_.jsxs(_.Fragment,{children:[_.jsx("span",{children:k(t.from,"yyyy-MM-dd")})," ~ ",_.jsx("span",{children:k(t.to,"yyyy-MM-dd")})]}):_.jsx("span",{className:"text-contrast/30",children:"기간을 선택해주세요"})})]})}),c&&_.jsx(Tke,{className:"bg-background w-auto",align:i,avoidCollisions:!1,onInteractOutside:S,onEscapeKeyDown:S,style:{maxHeight:"var(--radix-popover-content-available-height)",overflowY:"auto"},children:_.jsxs("div",{className:"flex",children:[_.jsx("div",{className:"border-foreground/10 flex flex-col gap-1 border-r pr-4 text-left",children:g.map(({label:I,start:P,end:N,disabled:B})=>_.jsx(Oa,{variant:"ghost",size:"sm",disabled:B,className:bt("bg-foreground text-contrast justify-start",d===I&&"bg-gray-200 text-gray-900"),onClick:()=>{M(P,N),v(I)},children:I},I))}),_.jsx(WEe,{mode:"range",selected:t,onSelect:A,numberOfMonths:2,showOutsideDays:!1,className:bt("text-contrast",e),month:f,onMonthChange:w,disabled:l?{after:l}:void 0})]})})]})})});function XW(e,[t,n]){return Math.min(n,Math.max(t,e))}function rLe(e){const t=e+"CollectionProvider",[n,i]=Bg(t),[s,r]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:S,children:x}=w,M=ue.useRef(null),A=ue.useRef(new Map).current;return _.jsx(s,{scope:S,itemMap:A,collectionRef:M,children:x})};o.displayName=t;const a=e+"CollectionSlot",l=uy(a),c=ue.forwardRef((w,S)=>{const{scope:x,children:M}=w,A=r(a,x),k=ui(S,A.collectionRef);return _.jsx(l,{ref:k,children:M})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",g=uy(d),y=ue.forwardRef((w,S)=>{const{scope:x,children:M,...A}=w,k=ue.useRef(null),I=ui(S,k),P=r(d,x);return ue.useEffect(()=>(P.itemMap.set(k,{ref:k,...A}),()=>void P.itemMap.delete(k))),_.jsx(g,{[f]:"",ref:I,children:M})});y.displayName=d;function v(w){const S=r(e+"CollectionConsumer",w);return ue.useCallback(()=>{const M=S.collectionRef.current;if(!M)return[];const A=Array.from(M.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((P,N)=>A.indexOf(P.ref.current)-A.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:y},v,i]}var oLe=T.createContext(void 0);function aLe(e){const t=T.useContext(oLe);return e||t||"ltr"}function g7(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var p7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lLe="VisuallyHidden",m7=T.forwardRef((e,t)=>_.jsx(Bn.span,{...e,ref:t,style:{...p7,...e.style}}));m7.displayName=lLe;var cLe=m7,uLe=[" ","Enter","ArrowUp","ArrowDown"],dLe=[" ","Enter"],py="Select",[Kk,qk,hLe]=rLe(py),[Vw,R_e]=Bg(py,[hLe,Hw]),Zk=Hw(),[fLe,zg]=Vw(py),[gLe,pLe]=Vw(py),y7=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:r,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:g,required:y,form:v}=e,w=Zk(t),[S,x]=T.useState(null),[M,A]=T.useState(null),[k,I]=T.useState(!1),P=aLe(c),[N,B]=nw({prop:i,defaultProp:s??!1,onChange:r,caller:py}),[z,W]=nw({prop:o,defaultProp:a,onChange:l,caller:py}),Y=T.useRef(null),K=S?v||!!S.closest("form"):!0,[q,te]=T.useState(new Set),re=Array.from(q).map(X=>X.props.value).join(";");return _.jsx(WG,{...w,children:_.jsxs(fLe,{required:y,scope:t,trigger:S,onTriggerChange:x,valueNode:M,onValueNodeChange:A,valueNodeHasChildren:k,onValueNodeHasChildrenChange:I,contentId:fg(),value:z,onValueChange:W,open:N,onOpenChange:B,dir:P,triggerPointerDownPosRef:Y,disabled:g,children:[_.jsx(Kk.Provider,{scope:t,children:_.jsx(gLe,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(X=>{te(ne=>new Set(ne).add(X))},[]),onNativeOptionRemove:T.useCallback(X=>{te(ne=>{const Z=new Set(ne);return Z.delete(X),Z})},[]),children:n})}),K?_.jsxs(G7,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:z,onChange:X=>W(X.target.value),disabled:g,form:v,children:[z===void 0?_.jsx("option",{value:""}):null,Array.from(q)]},re):null]})})};y7.displayName=py;var v7="SelectTrigger",b7=T.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,r=Zk(n),o=zg(v7,n),a=o.disabled||i,l=ui(t,o.onTriggerChange),c=qk(n),d=T.useRef("touch"),[f,g,y]=H7(w=>{const S=c().filter(A=>!A.disabled),x=S.find(A=>A.value===o.value),M=V7(S,w,x);M!==void 0&&o.onValueChange(M.value)}),v=w=>{a||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return _.jsx(jk,{asChild:!0,...r,children:_.jsx(Bn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":z7(o.value)?"":void 0,...s,ref:l,onClick:on(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&v(w)}),onPointerDown:on(s.onPointerDown,w=>{d.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:on(s.onKeyDown,w=>{const S=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(S&&w.key===" ")&&uLe.includes(w.key)&&(v(),w.preventDefault())})})})});b7.displayName=v7;var C7="SelectValue",w7=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:r,placeholder:o="",...a}=e,l=zg(C7,n),{onValueNodeHasChildrenChange:c}=l,d=r!==void 0,f=ui(t,l.onValueNodeChange);return so(()=>{c(d)},[c,d]),_.jsx(Bn.span,{...a,ref:f,style:{pointerEvents:"none"},children:z7(l.value)?_.jsx(_.Fragment,{children:o}):r})});w7.displayName=C7;var mLe="SelectIcon",S7=T.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return _.jsx(Bn.span,{"aria-hidden":!0,...s,ref:t,children:i||"▼"})});S7.displayName=mLe;var yLe="SelectPortal",x7=e=>_.jsx(KD,{asChild:!0,...e});x7.displayName=yLe;var my="SelectContent",M7=T.forwardRef((e,t)=>{const n=zg(my,e.__scopeSelect),[i,s]=T.useState();if(so(()=>{s(new DocumentFragment)},[]),!n.open){const r=i;return r?Cy.createPortal(_.jsx(D7,{scope:e.__scopeSelect,children:_.jsx(Kk.Slot,{scope:e.__scopeSelect,children:_.jsx("div",{children:e.children})})}),r):null}return _.jsx(A7,{...e,ref:t})});M7.displayName=my;var tc=10,[D7,Hg]=Vw(my),vLe="SelectContentImpl",bLe=uy("SelectContent.RemoveScroll"),A7=T.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:r,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S,...x}=e,M=zg(my,n),[A,k]=T.useState(null),[I,P]=T.useState(null),N=ui(t,Me=>k(Me)),[B,z]=T.useState(null),[W,Y]=T.useState(null),K=qk(n),[q,te]=T.useState(!1),re=T.useRef(!1);T.useEffect(()=>{if(A)return YG(A)},[A]),OG();const X=T.useCallback(Me=>{const[Ce,...je]=K().map(We=>We.ref.current),[Ye]=je.slice(-1),Ge=document.activeElement;for(const We of Me)if(We===Ge||(We==null||We.scrollIntoView({block:"nearest"}),We===Ce&&I&&(I.scrollTop=0),We===Ye&&I&&(I.scrollTop=I.scrollHeight),We==null||We.focus(),document.activeElement!==Ge))return},[K,I]),ne=T.useCallback(()=>X([B,A]),[X,B,A]);T.useEffect(()=>{q&&ne()},[q,ne]);const{onOpenChange:Z,triggerPointerDownPosRef:Se}=M;T.useEffect(()=>{if(A){let Me={x:0,y:0};const Ce=Ye=>{var Ge,We;Me={x:Math.abs(Math.round(Ye.pageX)-(((Ge=Se.current)==null?void 0:Ge.x)??0)),y:Math.abs(Math.round(Ye.pageY)-(((We=Se.current)==null?void 0:We.y)??0))}},je=Ye=>{Me.x<=10&&Me.y<=10?Ye.preventDefault():A.contains(Ye.target)||Z(!1),document.removeEventListener("pointermove",Ce),Se.current=null};return Se.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",je,{capture:!0})}}},[A,Z,Se]),T.useEffect(()=>{const Me=()=>Z(!1);return window.addEventListener("blur",Me),window.addEventListener("resize",Me),()=>{window.removeEventListener("blur",Me),window.removeEventListener("resize",Me)}},[Z]);const[U,ie]=H7(Me=>{const Ce=K().filter(Ge=>!Ge.disabled),je=Ce.find(Ge=>Ge.ref.current===document.activeElement),Ye=V7(Ce,Me,je);Ye&&setTimeout(()=>Ye.ref.current.focus())}),ve=T.useCallback((Me,Ce,je)=>{const Ye=!re.current&&!je;(M.value!==void 0&&M.value===Ce||Ye)&&(z(Me),Ye&&(re.current=!0))},[M.value]),J=T.useCallback(()=>A==null?void 0:A.focus(),[A]),he=T.useCallback((Me,Ce,je)=>{const Ye=!re.current&&!je;(M.value!==void 0&&M.value===Ce||Ye)&&Y(Me)},[M.value]),Ee=i==="popper"?c2:R7,we=Ee===c2?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S}:{};return _.jsx(D7,{scope:n,content:A,viewport:I,onViewportChange:P,itemRefCallback:ve,selectedItem:B,onItemLeave:J,itemTextRefCallback:he,focusSelectedItem:ne,selectedItemText:W,position:i,isPositioned:q,searchRef:U,children:_.jsx(Uk,{as:bLe,allowPinchZoom:!0,children:_.jsx(Gk,{asChild:!0,trapped:M.open,onMountAutoFocus:Me=>{Me.preventDefault()},onUnmountAutoFocus:on(s,Me=>{var Ce;(Ce=M.trigger)==null||Ce.focus({preventScroll:!0}),Me.preventDefault()}),children:_.jsx($D,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:Me=>Me.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:_.jsx(Ee,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:Me=>Me.preventDefault(),...x,...we,onPlaced:()=>te(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:on(x.onKeyDown,Me=>{const Ce=Me.ctrlKey||Me.altKey||Me.metaKey;if(Me.key==="Tab"&&Me.preventDefault(),!Ce&&Me.key.length===1&&ie(Me.key),["ArrowUp","ArrowDown","Home","End"].includes(Me.key)){let Ye=K().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(Me.key)&&(Ye=Ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Me.key)){const Ge=Me.target,We=Ye.indexOf(Ge);Ye=Ye.slice(We+1)}setTimeout(()=>X(Ye)),Me.preventDefault()}})})})})})})});A7.displayName=vLe;var CLe="SelectItemAlignedPosition",R7=T.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,r=zg(my,n),o=Hg(my,n),[a,l]=T.useState(null),[c,d]=T.useState(null),f=ui(t,N=>d(N)),g=qk(n),y=T.useRef(!1),v=T.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:x,focusSelectedItem:M}=o,A=T.useCallback(()=>{if(r.trigger&&r.valueNode&&a&&c&&w&&S&&x){const N=r.trigger.getBoundingClientRect(),B=c.getBoundingClientRect(),z=r.valueNode.getBoundingClientRect(),W=x.getBoundingClientRect();if(r.dir!=="rtl"){const Ge=W.left-B.left,We=z.left-Ge,it=N.left-We,$e=N.width+it,mt=Math.max($e,B.width),Ht=window.innerWidth-tc,st=XW(We,[tc,Math.max(tc,Ht-mt)]);a.style.minWidth=$e+"px",a.style.left=st+"px"}else{const Ge=B.right-W.right,We=window.innerWidth-z.right-Ge,it=window.innerWidth-N.right-We,$e=N.width+it,mt=Math.max($e,B.width),Ht=window.innerWidth-tc,st=XW(We,[tc,Math.max(tc,Ht-mt)]);a.style.minWidth=$e+"px",a.style.right=st+"px"}const Y=g(),K=window.innerHeight-tc*2,q=w.scrollHeight,te=window.getComputedStyle(c),re=parseInt(te.borderTopWidth,10),X=parseInt(te.paddingTop,10),ne=parseInt(te.borderBottomWidth,10),Z=parseInt(te.paddingBottom,10),Se=re+X+q+Z+ne,U=Math.min(S.offsetHeight*5,Se),ie=window.getComputedStyle(w),ve=parseInt(ie.paddingTop,10),J=parseInt(ie.paddingBottom,10),he=N.top+N.height/2-tc,Ee=K-he,we=S.offsetHeight/2,Me=S.offsetTop+we,Ce=re+X+Me,je=Se-Ce;if(Ce<=he){const Ge=Y.length>0&&S===Y[Y.length-1].ref.current;a.style.bottom="0px";const We=c.clientHeight-w.offsetTop-w.offsetHeight,it=Math.max(Ee,we+(Ge?J:0)+We+ne),$e=Ce+it;a.style.height=$e+"px"}else{const Ge=Y.length>0&&S===Y[0].ref.current;a.style.top="0px";const it=Math.max(he,re+w.offsetTop+(Ge?ve:0)+we)+je;a.style.height=it+"px",w.scrollTop=Ce-he+w.offsetTop}a.style.margin=`${tc}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=K+"px",i==null||i(),requestAnimationFrame(()=>y.current=!0)}},[g,r.trigger,r.valueNode,a,c,w,S,x,r.dir,i]);so(()=>A(),[A]);const[k,I]=T.useState();so(()=>{c&&I(window.getComputedStyle(c).zIndex)},[c]);const P=T.useCallback(N=>{N&&v.current===!0&&(A(),M==null||M(),v.current=!1)},[A,M]);return _.jsx(SLe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:_.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:_.jsx(Bn.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});R7.displayName=CLe;var wLe="SelectPopperPosition",c2=T.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=tc,...r}=e,o=Zk(n);return _.jsx(UG,{...o,...r,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c2.displayName=wLe;var[SLe,ZG]=Vw(my,{}),u2="SelectViewport",T7=T.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,r=Hg(u2,n),o=ZG(u2,n),a=ui(t,r.onViewportChange),l=T.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),_.jsx(Kk.Slot,{scope:n,children:_.jsx(Bn.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:on(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const y=Math.abs(l.current-d.scrollTop);if(y>0){const v=window.innerHeight-tc*2,w=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),x=Math.max(w,S);if(x<v){const M=x+y,A=Math.min(v,M),k=M-A;f.style.height=A+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});T7.displayName=u2;var E7="SelectGroup",[xLe,MLe]=Vw(E7),DLe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=fg();return _.jsx(xLe,{scope:n,id:s,children:_.jsx(Bn.div,{role:"group","aria-labelledby":s,...i,ref:t})})});DLe.displayName=E7;var I7="SelectLabel",ALe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=MLe(I7,n);return _.jsx(Bn.div,{id:s.id,...i,ref:t})});ALe.displayName=I7;var o1="SelectItem",[RLe,k7]=Vw(o1),L7=T.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:r,...o}=e,a=zg(o1,n),l=Hg(o1,n),c=a.value===i,[d,f]=T.useState(r??""),[g,y]=T.useState(!1),v=ui(t,M=>{var A;return(A=l.itemRefCallback)==null?void 0:A.call(l,M,i,s)}),w=fg(),S=T.useRef("touch"),x=()=>{s||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(RLe,{scope:n,value:i,disabled:s,textId:w,isSelected:c,onItemTextChange:T.useCallback(M=>{f(A=>A||((M==null?void 0:M.textContent)??"").trim())},[]),children:_.jsx(Kk.ItemSlot,{scope:n,value:i,disabled:s,textValue:d,children:_.jsx(Bn.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:on(o.onFocus,()=>y(!0)),onBlur:on(o.onBlur,()=>y(!1)),onClick:on(o.onClick,()=>{S.current!=="mouse"&&x()}),onPointerUp:on(o.onPointerUp,()=>{S.current==="mouse"&&x()}),onPointerDown:on(o.onPointerDown,M=>{S.current=M.pointerType}),onPointerMove:on(o.onPointerMove,M=>{var A;S.current=M.pointerType,s?(A=l.onItemLeave)==null||A.call(l):S.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:on(o.onPointerLeave,M=>{var A;M.currentTarget===document.activeElement&&((A=l.onItemLeave)==null||A.call(l))}),onKeyDown:on(o.onKeyDown,M=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&M.key===" "||(dLe.includes(M.key)&&x(),M.key===" "&&M.preventDefault())})})})})});L7.displayName=o1;var b0="SelectItemText",P7=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...r}=e,o=zg(b0,n),a=Hg(b0,n),l=k7(b0,n),c=pLe(b0,n),[d,f]=T.useState(null),g=ui(t,x=>f(x),l.onItemTextChange,x=>{var M;return(M=a.itemTextRefCallback)==null?void 0:M.call(a,x,l.value,l.disabled)}),y=d==null?void 0:d.textContent,v=T.useMemo(()=>_.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=c;return so(()=>(w(v),()=>S(v)),[w,S,v]),_.jsxs(_.Fragment,{children:[_.jsx(Bn.span,{id:l.textId,...r,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cy.createPortal(r.children,o.valueNode):null]})});P7.displayName=b0;var O7="SelectItemIndicator",N7=T.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return k7(O7,n).isSelected?_.jsx(Bn.span,{"aria-hidden":!0,...i,ref:t}):null});N7.displayName=O7;var d2="SelectScrollUpButton",F7=T.forwardRef((e,t)=>{const n=Hg(d2,e.__scopeSelect),i=ZG(d2,e.__scopeSelect),[s,r]=T.useState(!1),o=ui(t,i.onScrollButtonChange);return so(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;r(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(B7,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});F7.displayName=d2;var h2="SelectScrollDownButton",_7=T.forwardRef((e,t)=>{const n=Hg(h2,e.__scopeSelect),i=ZG(h2,e.__scopeSelect),[s,r]=T.useState(!1),o=ui(t,i.onScrollButtonChange);return so(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;r(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?_.jsx(B7,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});_7.displayName=h2;var B7=T.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,r=Hg("SelectScrollButton",n),o=T.useRef(null),a=qk(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),so(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),_.jsx(Bn.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:on(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:on(s.onPointerMove,()=>{var c;(c=r.onItemLeave)==null||c.call(r),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:on(s.onPointerLeave,()=>{l()})})}),TLe="SelectSeparator",ELe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return _.jsx(Bn.div,{"aria-hidden":!0,...i,ref:t})});ELe.displayName=TLe;var f2="SelectArrow",ILe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Zk(n),r=zg(f2,n),o=Hg(f2,n);return r.open&&o.position==="popper"?_.jsx($G,{...s,...i,ref:t}):null});ILe.displayName=f2;var kLe="SelectBubbleInput",G7=T.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=T.useRef(null),r=ui(i,s),o=g7(t);return T.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),_.jsx(Bn.select,{...n,style:{...p7,...n.style},ref:r,defaultValue:t})});G7.displayName=kLe;function z7(e){return e===""||e===void 0}function H7(e){const t=fy(e),n=T.useRef(""),i=T.useRef(0),s=T.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),r=T.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,r]}function V7(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let o=LLe(e,Math.max(r,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function LLe(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var PLe=y7,OLe=b7,NLe=w7,FLe=S7,_Le=x7,BLe=M7,GLe=T7,zLe=L7,HLe=P7,VLe=N7,jLe=F7,WLe=_7;function QW({...e}){return _.jsx(PLe,{"data-slot":"select",...e})}function JW({...e}){return _.jsx(NLe,{"data-slot":"select-value",...e})}function e4({className:e,size:t="default",children:n,...i}){return _.jsxs(OLe,{"data-slot":"select-trigger","data-size":t,className:bt("border-border data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,_.jsx(FLe,{asChild:!0,children:_.jsx(TG,{className:"size-4 opacity-50"})})]})}function t4({className:e,children:t,position:n="popper",...i}){return _.jsx(_Le,{children:_.jsxs(BLe,{"data-slot":"select-content",className:bt("bg-background text-contrast data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 border-border relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:translate-x-0 data-[side=right]:translate-x-0 data-[side=top]:-translate-y-1",e),position:n,collisionPadding:0,...i,children:[_.jsx(ULe,{}),_.jsx(GLe,{className:bt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),_.jsx($Le,{})]})})}function aE({className:e,children:t,...n}){return _.jsxs(zLe,{"data-slot":"select-item",className:bt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(VLe,{children:_.jsx(U9,{className:"size-4"})})}),_.jsx(HLe,{children:t})]})}function ULe({className:e,...t}){return _.jsx(jLe,{"data-slot":"select-scroll-up-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:_.jsx(LAe,{className:"size-4"})})}function $Le({className:e,...t}){return _.jsx(WLe,{"data-slot":"select-scroll-down-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:_.jsx(TG,{className:"size-4"})})}function a1({size:e="md",className:t=""}){const n={sm:"w-0.5 h-3",md:"w-1 h-4",lg:"w-1 h-6"},i={sm:"gap-1",md:"gap-1",lg:"gap-2"};return _.jsx("div",{className:`flex h-[32px] items-center justify-center ${t}`,children:_.jsxs("div",{className:`flex items-end ${i[e]}`,children:[_.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"0ms",animationDuration:"1s"}}),_.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"200ms",animationDuration:"1s"}}),_.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"400ms",animationDuration:"1s"}}),_.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"600ms",animationDuration:"1s"}})]})})}var[Xk,T_e]=Bg("Tooltip",[Hw]),Qk=Hw(),j7="TooltipProvider",YLe=700,g2="tooltip.open",[KLe,XG]=Xk(j7),W7=e=>{const{__scopeTooltip:t,delayDuration:n=YLe,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=e,o=T.useRef(!0),a=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),_.jsx(KLe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:r})};W7.displayName=j7;var OM="Tooltip",[qLe,ZD]=Xk(OM),U7=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:r,disableHoverableContent:o,delayDuration:a}=e,l=XG(OM,e.__scopeTooltip),c=Qk(t),[d,f]=T.useState(null),g=fg(),y=T.useRef(0),v=o??l.disableHoverableContent,w=a??l.delayDuration,S=T.useRef(!1),[x,M]=nw({prop:i,defaultProp:s??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(g2))):l.onClose(),r==null||r(N)},caller:OM}),A=T.useMemo(()=>x?S.current?"delayed-open":"instant-open":"closed",[x]),k=T.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,M(!0)},[M]),I=T.useCallback(()=>{window.clearTimeout(y.current),y.current=0,M(!1)},[M]),P=T.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,M(!0),y.current=0},w)},[w,M]);return T.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),_.jsx(WG,{...c,children:_.jsx(qLe,{scope:t,contentId:g,open:x,stateAttribute:A,trigger:d,onTriggerChange:f,onTriggerEnter:T.useCallback(()=>{l.isOpenDelayedRef.current?P():k()},[l.isOpenDelayedRef,P,k]),onTriggerLeave:T.useCallback(()=>{v?I():(window.clearTimeout(y.current),y.current=0)},[I,v]),onOpen:k,onClose:I,disableHoverableContent:v,children:n})})};U7.displayName=OM;var p2="TooltipTrigger",$7=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=ZD(p2,n),r=XG(p2,n),o=Qk(n),a=T.useRef(null),l=ui(t,a,s.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),_.jsx(jk,{asChild:!0,...o,children:_.jsx(Bn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:l,onPointerMove:on(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:on(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:on(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:on(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:on(e.onBlur,s.onClose),onClick:on(e.onClick,s.onClose)})})});$7.displayName=p2;var QG="TooltipPortal",[ZLe,XLe]=Xk(QG,{forceMount:void 0}),Y7=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,r=ZD(QG,t);return _.jsx(ZLe,{scope:t,forceMount:n,children:_.jsx(Ih,{present:n||r.open,children:_.jsx(KD,{asChild:!0,container:s,children:i})})})};Y7.displayName=QG;var sw="TooltipContent",K7=T.forwardRef((e,t)=>{const n=XLe(sw,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...r}=e,o=ZD(sw,e.__scopeTooltip);return _.jsx(Ih,{present:i||o.open,children:o.disableHoverableContent?_.jsx(q7,{side:s,...r,ref:t}):_.jsx(QLe,{side:s,...r,ref:t})})}),QLe=T.forwardRef((e,t)=>{const n=ZD(sw,e.__scopeTooltip),i=XG(sw,e.__scopeTooltip),s=T.useRef(null),r=ui(t,s),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=i,g=T.useCallback(()=>{a(null),f(!1)},[f]),y=T.useCallback((v,w)=>{const S=v.currentTarget,x={x:v.clientX,y:v.clientY},M=nPe(x,S.getBoundingClientRect()),A=iPe(x,M),k=sPe(w.getBoundingClientRect()),I=oPe([...A,...k]);a(I),f(!0)},[f]);return T.useEffect(()=>()=>g(),[g]),T.useEffect(()=>{if(l&&d){const v=S=>y(S,d),w=S=>y(S,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",w)}}},[l,d,y,g]),T.useEffect(()=>{if(o){const v=w=>{const S=w.target,x={x:w.clientX,y:w.clientY},M=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),A=!rPe(x,o);M?g():A&&(g(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,g]),_.jsx(q7,{...e,ref:r})}),[JLe,ePe]=Xk(OM,{isInside:!1}),tPe=X9("TooltipContent"),q7=T.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=e,l=ZD(sw,n),c=Qk(n),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(g2,d),()=>document.removeEventListener(g2,d)),[d]),T.useEffect(()=>{if(l.trigger){const f=g=>{const y=g.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),_.jsx($D,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:_.jsxs(UG,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(tPe,{children:i}),_.jsx(JLe,{scope:n,isInside:!0,children:_.jsx(cLe,{id:l.contentId,role:"tooltip",children:s||i})})]})})});K7.displayName=sw;var Z7="TooltipArrow",X7=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Qk(n);return ePe(Z7,n).isInside?null:_.jsx($G,{...s,...i,ref:t})});X7.displayName=Z7;function nPe(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),r=Math.abs(t.left-e.x);switch(Math.min(n,i,s,r)){case r:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function iPe(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function sPe(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function rPe(e,t){const{x:n,y:i}=e;let s=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){const a=t[r],l=t[o],c=a.x,d=a.y,f=l.x,g=l.y;d>i!=g>i&&n<(f-c)*(i-d)/(g-d)+c&&(s=!s)}return s}function oPe(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),aPe(t)}function aPe(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const r=t[t.length-1],o=t[t.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const r=n[n.length-1],o=n[n.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var lPe=W7,cPe=U7,uPe=$7,dPe=Y7,hPe=K7,fPe=X7;function gPe({delayDuration:e=0,...t}){return _.jsx(lPe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Q7({...e}){return _.jsx(gPe,{children:_.jsx(cPe,{"data-slot":"tooltip",...e})})}function J7({...e}){return _.jsx(uPe,{"data-slot":"tooltip-trigger",...e})}function eZ({className:e,sideOffset:t=0,children:n,...i}){return _.jsx(dPe,{children:_.jsxs(hPe,{"data-slot":"tooltip-content",sideOffset:t,className:bt("bg-background border-border animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md border px-3 py-1.5 text-xs text-balance",e),...i,children:[n,_.jsx(fPe,{className:"bg-background fill-background border-border z-50 size-2.5 translate-y-[calc(-50%)] rotate-45 rounded-[2px] border border-t-0 border-l-0"})]})})}const pPe=[{title:()=>"실시간 매출액",unit:"원",tooltip:()=>"금일 00시부터 현재까지의 실시간 매출액입니다.",id:"realtime_revenue",isHighlight:!0},{title:e=>e?"출고 매출액":"매출액",unit:"원",tooltip:e=>e?"금일 출고기준 매출액입니다.":"기간내 총 매출액입니다.",id:"total_revenue",isHighlight:!1},{title:e=>e?"주문 유저수":"평균 주문 유저수",unit:"명",tooltip:e=>e?"금일 출고기준 주문 유저수입니다.":"기간내 평균 주문 유저수입니다.",id:"average_user_count",isHighlight:!1},{title:()=>"평균 주문금액",unit:"원",tooltip:()=>"유저당 평균 주문금액입니다.",id:"average_order_amount",isHighlight:!1},{title:e=>e?"총 재고자산":"평균 재고자산",unit:"원",tooltip:e=>e?"재고관리상품으로 보유중인 실시간 재고자산입니다.":"기간내 평균 재고자산입니다.",id:"inventory_asset",isHighlight:!0}];function mPe({isLoading:e,isFetching:t,data:n,periodType:i}){const s=i==="realtime";return e?_.jsx("div",{className:"flex h-[110px] items-center justify-center",children:_.jsx(a1,{size:"lg"})}):_.jsx("div",{className:"flex gap-4",children:pPe.map((r,o)=>{const{id:a,title:l,tooltip:c,unit:d,isHighlight:f}=r,g=s&&f,y=e||s&&t,v=n==null?void 0:n[a];return!e&&v===void 0?null:_.jsxs("div",{className:"bg-background border-border/80 flex flex-1 flex-col gap-2 rounded-lg border p-6 shadow-sm",children:[_.jsx("div",{className:"flex flex-col",children:_.jsxs("div",{className:"flex items-center justify-between text-sm font-medium",children:[_.jsx("div",{className:`${g?"text-blue-800 dark:text-blue-600":"text-contrast/50"} flex items-center gap-2`,children:_.jsx("span",{children:l(s)})}),_.jsxs(Q7,{children:[_.jsx(J7,{asChild:!0,children:_.jsx($9,{className:"h-4 w-4 cursor-pointer text-gray-400"})}),_.jsxs(eZ,{side:"top",children:[_.jsx("p",{children:c(s)}),s&&["total_revenue","average_user_count","average_order_amount"].includes(a)&&_.jsx("span",{className:"text-contrast/30 text-xs whitespace-pre-line",children:n==null?void 0:n.delivery_info})]})]})]})}),_.jsx("div",{className:`flex items-baseline gap-1 ${g?"text-blue-900 dark:text-blue-600":"text-contrast"}`,children:y?_.jsx(a1,{size:"md"}):_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"text-2xl font-medium",children:v?v.toLocaleString():"-"}),_.jsx("span",{className:"text-sm font-normal",children:v?d:""})]})})]},o)})})}const JG=e=>e?`${(e||0).toLocaleString()} 원`:"-",yPe=e=>e?`${e} %`:"-",lE=({label:e,value:t,className:n=""})=>_.jsxs("div",{className:"border-border/50 flex items-center justify-between border-b py-2",children:[_.jsx("span",{children:e}),_.jsx("span",{className:n,children:JG(t)})]}),vPe=({label:e,value:t,isExpanded:n,onToggle:i,className:s=""})=>_.jsx("div",{className:"border-border/50 border-b py-2 font-semibold",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{children:e}),_.jsx(Oa,{variant:"ghost",className:"hover:bg-foreground flex h-5 w-4 items-center justify-center rounded px-3 text-xs text-gray-500 hover:text-blue-600",onClick:i,children:n?"▲":"▼"})]}),_.jsx("span",{className:`text-blue-600 ${s}`,children:JG(t)})]})}),s0=({label:e,value:t})=>_.jsxs("div",{className:"flex items-center justify-between py-1",children:[_.jsx("span",{children:e}),_.jsx("span",{className:"font-medium",children:JG(t)})]}),bPe=({data:e})=>_.jsxs("div",{className:"border-border/50 bg-background text-contrast space-y-2 rounded-lg border px-3 py-2 text-xs",children:[_.jsx(s0,{label:"매출 주문",value:e==null?void 0:e.sales_revenue}),_.jsx(s0,{label:"앱 매출",value:e==null?void 0:e.app_revenue}),_.jsx(s0,{label:"타사 매출",value:e==null?void 0:e.external_revenue}),_.jsx("hr",{className:"border-border/30 my-2"}),_.jsx(s0,{label:"총 과세",value:e==null?void 0:e.total_tax_amount}),_.jsx(s0,{label:"총 비과세",value:e==null?void 0:e.total_tax_free_amount})]});function CPe({isLoading:e,isFetching:t,data:n,dateRange:i,periodType:s}){const{revenue:r,partial_cancel_revenue:o,vat:a,total_revenue:l,purchase_amount:c,gross_profit_margin:d}=n,f=s==="realtime",g=e||f&&t||!n,[y,v]=T.useState(!1),w=()=>v(M=>!M),S=f?"출고 매출액":`${io(i.from,"yyyy-MM-dd")} - ${io(i.to,"yyyy-MM-dd")} 총 매출액`,x=f?"금일 출고기준 매출액 상세내역입니다":"기간내 총 매출액 상세내역입니다";return _.jsxs("div",{className:"border-border/50 col-span-1 flex h-full flex-col gap-3 rounded-lg border p-6 shadow-sm",children:[_.jsxs("div",{className:"border-border/50 flex items-center justify-between border-b pb-2",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("h3",{className:"text-contrast text-lg font-semibold",children:S})}),_.jsxs(Q7,{children:[_.jsx(J7,{asChild:!0,children:_.jsx($9,{className:"h-4 w-4 cursor-pointer text-gray-400"})}),_.jsxs(eZ,{side:"top",children:[_.jsx("p",{children:x}),f&&_.jsx("span",{className:"text-contrast/30 text-xs whitespace-pre-line",children:n==null?void 0:n.delivery_info})]})]})]}),g?_.jsx("div",{className:"flex flex-1 items-center justify-center",children:_.jsx(a1,{size:"lg"})}):_.jsxs("div",{className:"text-contrast space-y-3 text-sm",children:[_.jsx(lE,{label:"매출액",value:r}),_.jsx(lE,{label:"부분환불금액",value:o,className:"text-red-600"}),_.jsx(lE,{label:"부가세",value:a}),_.jsx(vPe,{label:"합계금액",value:l,isExpanded:y,onToggle:w}),y&&_.jsx(bPe,{data:n}),c!==void 0&&_.jsx(lE,{label:"매입액",value:c}),d!==void 0&&_.jsxs("div",{className:"flex items-center justify-between py-2",children:[_.jsx("span",{children:"GPM (매출 총 이익률)"}),_.jsx("span",{children:yPe(d)})]})]})]})}function tZ(e,t){return function(){return e.apply(t,arguments)}}const{toString:wPe}=Object.prototype,{getPrototypeOf:ez}=Object,{iterator:Jk,toStringTag:nZ}=Symbol,eL=(e=>t=>{const n=wPe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rc=e=>(e=e.toLowerCase(),t=>eL(t)===e),tL=e=>t=>typeof t===e,{isArray:jw}=Array,NM=tL("undefined");function SPe(e){return e!==null&&!NM(e)&&e.constructor!==null&&!NM(e.constructor)&&aa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iZ=Rc("ArrayBuffer");function xPe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&iZ(e.buffer),t}const MPe=tL("string"),aa=tL("function"),sZ=tL("number"),nL=e=>e!==null&&typeof e=="object",DPe=e=>e===!0||e===!1,jE=e=>{if(eL(e)!=="object")return!1;const t=ez(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nZ in e)&&!(Jk in e)},APe=Rc("Date"),RPe=Rc("File"),TPe=Rc("Blob"),EPe=Rc("FileList"),IPe=e=>nL(e)&&aa(e.pipe),kPe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||aa(e.append)&&((t=eL(e))==="formdata"||t==="object"&&aa(e.toString)&&e.toString()==="[object FormData]"))},LPe=Rc("URLSearchParams"),[PPe,OPe,NPe,FPe]=["ReadableStream","Request","Response","Headers"].map(Rc),_Pe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function XD(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),jw(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(i=0;i<o;i++)a=r[i],t.call(null,e[a],a,e)}}function rZ(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const Dm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oZ=e=>!NM(e)&&e!==Dm;function m2(){const{caseless:e}=oZ(this)&&this||{},t={},n=(i,s)=>{const r=e&&rZ(t,s)||s;jE(t[r])&&jE(i)?t[r]=m2(t[r],i):jE(i)?t[r]=m2({},i):jw(i)?t[r]=i.slice():t[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&XD(arguments[i],n);return t}const BPe=(e,t,n,{allOwnKeys:i}={})=>(XD(t,(s,r)=>{n&&aa(s)?e[r]=tZ(s,n):e[r]=s},{allOwnKeys:i}),e),GPe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zPe=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},HPe=(e,t,n,i)=>{let s,r,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ez(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},VPe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},jPe=e=>{if(!e)return null;if(jw(e))return e;let t=e.length;if(!sZ(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},WPe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ez(Uint8Array)),UPe=(e,t)=>{const i=(e&&e[Jk]).call(e);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},$Pe=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},YPe=Rc("HTMLFormElement"),KPe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),n4=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),qPe=Rc("RegExp"),aZ=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};XD(n,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(i[r]=o||s)}),Object.defineProperties(e,i)},ZPe=e=>{aZ(e,(t,n)=>{if(aa(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(aa(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XPe=(e,t)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return jw(e)?i(e):i(String(e).split(t)),n},QPe=()=>{},JPe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function eOe(e){return!!(e&&aa(e.append)&&e[nZ]==="FormData"&&e[Jk])}const tOe=e=>{const t=new Array(10),n=(i,s)=>{if(nL(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const r=jw(i)?[]:{};return XD(i,(o,a)=>{const l=n(o,s+1);!NM(l)&&(r[a]=l)}),t[s]=void 0,r}}return i};return n(e,0)},nOe=Rc("AsyncFunction"),iOe=e=>e&&(nL(e)||aa(e))&&aa(e.then)&&aa(e.catch),lZ=((e,t)=>e?setImmediate:t?((n,i)=>(Dm.addEventListener("message",({source:s,data:r})=>{s===Dm&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Dm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",aa(Dm.postMessage)),sOe=typeof queueMicrotask<"u"?queueMicrotask.bind(Dm):typeof process<"u"&&process.nextTick||lZ,rOe=e=>e!=null&&aa(e[Jk]),Re={isArray:jw,isArrayBuffer:iZ,isBuffer:SPe,isFormData:kPe,isArrayBufferView:xPe,isString:MPe,isNumber:sZ,isBoolean:DPe,isObject:nL,isPlainObject:jE,isReadableStream:PPe,isRequest:OPe,isResponse:NPe,isHeaders:FPe,isUndefined:NM,isDate:APe,isFile:RPe,isBlob:TPe,isRegExp:qPe,isFunction:aa,isStream:IPe,isURLSearchParams:LPe,isTypedArray:WPe,isFileList:EPe,forEach:XD,merge:m2,extend:BPe,trim:_Pe,stripBOM:GPe,inherits:zPe,toFlatObject:HPe,kindOf:eL,kindOfTest:Rc,endsWith:VPe,toArray:jPe,forEachEntry:UPe,matchAll:$Pe,isHTMLForm:YPe,hasOwnProperty:n4,hasOwnProp:n4,reduceDescriptors:aZ,freezeMethods:ZPe,toObjectSet:XPe,toCamelCase:KPe,noop:QPe,toFiniteNumber:JPe,findKey:rZ,global:Dm,isContextDefined:oZ,isSpecCompliantForm:eOe,toJSONObject:tOe,isAsyncFn:nOe,isThenable:iOe,setImmediate:lZ,asap:sOe,isIterable:rOe};function qt(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Re.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const cZ=qt.prototype,uZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uZ[e]={value:e}});Object.defineProperties(qt,uZ);Object.defineProperty(cZ,"isAxiosError",{value:!0});qt.from=(e,t,n,i,s,r)=>{const o=Object.create(cZ);return Re.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),qt.call(o,e.message,t,n,i,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const oOe=null;function y2(e){return Re.isPlainObject(e)||Re.isArray(e)}function dZ(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function i4(e,t,n){return e?e.concat(t).map(function(s,r){return s=dZ(s),!n&&r?"["+s+"]":s}).join(n?".":""):t}function aOe(e){return Re.isArray(e)&&!e.some(y2)}const lOe=Re.toFlatObject(Re,{},null,function(t){return/^is[A-Z]/.test(t)});function iL(e,t,n){if(!Re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!Re.isUndefined(S[w])});const i=n.metaTokens,s=n.visitor||d,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(t);if(!Re.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Re.isDate(v))return v.toISOString();if(Re.isBoolean(v))return v.toString();if(!l&&Re.isBlob(v))throw new qt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(v)||Re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,w,S){let x=v;if(v&&!S&&typeof v=="object"){if(Re.endsWith(w,"{}"))w=i?w:w.slice(0,-2),v=JSON.stringify(v);else if(Re.isArray(v)&&aOe(v)||(Re.isFileList(v)||Re.endsWith(w,"[]"))&&(x=Re.toArray(v)))return w=dZ(w),x.forEach(function(A,k){!(Re.isUndefined(A)||A===null)&&t.append(o===!0?i4([w],k,r):o===null?w:w+"[]",c(A))}),!1}return y2(v)?!0:(t.append(i4(S,w,r),c(v)),!1)}const f=[],g=Object.assign(lOe,{defaultVisitor:d,convertValue:c,isVisitable:y2});function y(v,w){if(!Re.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),Re.forEach(v,function(x,M){(!(Re.isUndefined(x)||x===null)&&s.call(t,x,Re.isString(M)?M.trim():M,w,g))===!0&&y(x,w?w.concat(M):[M])}),f.pop()}}if(!Re.isObject(e))throw new TypeError("data must be an object");return y(e),t}function s4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function tz(e,t){this._pairs=[],e&&iL(e,this,t)}const hZ=tz.prototype;hZ.append=function(t,n){this._pairs.push([t,n])};hZ.toString=function(t){const n=t?function(i){return t.call(this,i,s4)}:s4;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cOe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fZ(e,t,n){if(!t)return e;const i=n&&n.encode||cOe;Re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(t,n):r=Re.isURLSearchParams(t)?t.toString():new tz(t,n).toString(i),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class r4{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Re.forEach(this.handlers,function(i){i!==null&&t(i)})}}const gZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uOe=typeof URLSearchParams<"u"?URLSearchParams:tz,dOe=typeof FormData<"u"?FormData:null,hOe=typeof Blob<"u"?Blob:null,fOe={isBrowser:!0,classes:{URLSearchParams:uOe,FormData:dOe,Blob:hOe},protocols:["http","https","file","blob","url","data"]},nz=typeof window<"u"&&typeof document<"u",v2=typeof navigator=="object"&&navigator||void 0,gOe=nz&&(!v2||["ReactNative","NativeScript","NS"].indexOf(v2.product)<0),pOe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mOe=nz&&window.location.href||"http://localhost",yOe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nz,hasStandardBrowserEnv:gOe,hasStandardBrowserWebWorkerEnv:pOe,navigator:v2,origin:mOe},Symbol.toStringTag,{value:"Module"})),eo={...yOe,...fOe};function vOe(e,t){return iL(e,new eo.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return eo.isNode&&Re.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function bOe(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function COe(e){const t={},n=Object.keys(e);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],t[r]=e[r];return t}function pZ(e){function t(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&Re.isArray(s)?s.length:o,l?(Re.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!Re.isObject(s[o]))&&(s[o]=[]),t(n,i,s[o],r)&&Re.isArray(s[o])&&(s[o]=COe(s[o])),!a)}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const n={};return Re.forEachEntry(e,(i,s)=>{t(bOe(i),s,n,0)}),n}return null}function wOe(e,t,n){if(Re.isString(e))try{return(t||JSON.parse)(e),Re.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const QD={transitional:gZ,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=Re.isObject(t);if(r&&Re.isHTMLForm(t)&&(t=new FormData(t)),Re.isFormData(t))return s?JSON.stringify(pZ(t)):t;if(Re.isArrayBuffer(t)||Re.isBuffer(t)||Re.isStream(t)||Re.isFile(t)||Re.isBlob(t)||Re.isReadableStream(t))return t;if(Re.isArrayBufferView(t))return t.buffer;if(Re.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return vOe(t,this.formSerializer).toString();if((a=Re.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return iL(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),wOe(t)):t}],transformResponse:[function(t){const n=this.transitional||QD.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Re.isResponse(t)||Re.isReadableStream(t))return t;if(t&&Re.isString(t)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?qt.from(a,qt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eo.classes.FormData,Blob:eo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],e=>{QD.headers[e]={}});const SOe=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xOe=e=>{const t={};let n,i,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||t[n]&&SOe[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},o4=Symbol("internals");function r0(e){return e&&String(e).trim().toLowerCase()}function WE(e){return e===!1||e==null?e:Re.isArray(e)?e.map(WE):String(e)}function MOe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const DOe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pN(e,t,n,i,s){if(Re.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!Re.isString(t)){if(Re.isString(i))return t.indexOf(i)!==-1;if(Re.isRegExp(i))return i.test(t)}}function AOe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function ROe(e,t){const n=Re.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,r,o){return this[i].call(this,t,s,r,o)},configurable:!0})})}let la=class{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function r(a,l,c){const d=r0(l);if(!d)throw new Error("header name must be a non-empty string");const f=Re.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=WE(a))}const o=(a,l)=>Re.forEach(a,(c,d)=>r(c,d,l));if(Re.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Re.isString(t)&&(t=t.trim())&&!DOe(t))o(xOe(t),n);else if(Re.isObject(t)&&Re.isIterable(t)){let a={},l,c;for(const d of t){if(!Re.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?Re.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&r(n,t,i);return this}get(t,n){if(t=r0(t),t){const i=Re.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return MOe(s);if(Re.isFunction(n))return n.call(this,s,i);if(Re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=r0(t),t){const i=Re.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||pN(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function r(o){if(o=r0(o),o){const a=Re.findKey(i,o);a&&(!n||pN(i,i[a],a,n))&&(delete i[a],s=!0)}}return Re.isArray(t)?t.forEach(r):r(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!t||pN(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const n=this,i={};return Re.forEach(this,(s,r)=>{const o=Re.findKey(i,r);if(o){n[o]=WE(s),delete n[r];return}const a=t?AOe(r):String(r).trim();a!==r&&delete n[r],n[a]=WE(s),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Re.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&Re.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[o4]=this[o4]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=r0(o);i[a]||(ROe(s,o),i[a]=!0)}return Re.isArray(t)?t.forEach(r):r(t),this}};la.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(la.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});Re.freezeMethods(la);function mN(e,t){const n=this||QD,i=t||n,s=la.from(i.headers);let r=i.data;return Re.forEach(e,function(a){r=a.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function mZ(e){return!!(e&&e.__CANCEL__)}function Ww(e,t,n){qt.call(this,e??"canceled",qt.ERR_CANCELED,t,n),this.name="CanceledError"}Re.inherits(Ww,qt,{__CANCEL__:!0});function yZ(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new qt("Request failed with status code "+n.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function TOe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function EOe(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=i[r];o||(o=c),n[s]=l,i[s]=c;let f=r,g=0;for(;f!==s;)g+=n[f++],f=f%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),c-o<t)return;const y=d&&c-d;return y?Math.round(g*1e3/y):void 0}}function IOe(e,t){let n=0,i=1e3/t,s,r;const o=(c,d=Date.now())=>{n=d,s=null,r&&(clearTimeout(r),r=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=i?o(c,d):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-f)))},()=>s&&o(s)]}const l1=(e,t,n=3)=>{let i=0;const s=EOe(50,250);return IOe(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),d=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},a4=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},l4=e=>(...t)=>Re.asap(()=>e(...t)),kOe=eo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,eo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(eo.origin),eo.navigator&&/(msie|trident)/i.test(eo.navigator.userAgent)):()=>!0,LOe=eo.hasStandardBrowserEnv?{write(e,t,n,i,s,r){const o=[e+"="+encodeURIComponent(t)];Re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Re.isString(i)&&o.push("path="+i),Re.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function POe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function OOe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vZ(e,t,n){let i=!POe(t);return e&&(i||n==!1)?OOe(e,t):t}const c4=e=>e instanceof la?{...e}:e;function yy(e,t){t=t||{};const n={};function i(c,d,f,g){return Re.isPlainObject(c)&&Re.isPlainObject(d)?Re.merge.call({caseless:g},c,d):Re.isPlainObject(d)?Re.merge({},d):Re.isArray(d)?d.slice():d}function s(c,d,f,g){if(Re.isUndefined(d)){if(!Re.isUndefined(c))return i(void 0,c,f,g)}else return i(c,d,f,g)}function r(c,d){if(!Re.isUndefined(d))return i(void 0,d)}function o(c,d){if(Re.isUndefined(d)){if(!Re.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,f){if(f in t)return i(c,d);if(f in e)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(c4(c),c4(d),f,!0)};return Re.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,g=f(e[d],t[d],d);Re.isUndefined(g)&&f!==a||(n[d]=g)}),n}const bZ=e=>{const t=yy({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=t;t.headers=o=la.from(o),t.url=fZ(vZ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Re.isFormData(n)){if(eo.hasStandardBrowserEnv||eo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(eo.hasStandardBrowserEnv&&(i&&Re.isFunction(i)&&(i=i(t)),i||i!==!1&&kOe(t.url))){const c=s&&r&&LOe.read(r);c&&o.set(s,c)}return t},NOe=typeof XMLHttpRequest<"u",FOe=NOe&&function(e){return new Promise(function(n,i){const s=bZ(e);let r=s.data;const o=la.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,g,y,v;function w(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function x(){if(!S)return;const A=la.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:e,request:S};yZ(function(N){n(N),w()},function(N){i(N),w()},I),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(i(new qt("Request aborted",qt.ECONNABORTED,e,S)),S=null)},S.onerror=function(){i(new qt("Network Error",qt.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||gZ;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),i(new qt(k,I.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,e,S)),S=null},r===void 0&&o.setContentType(null),"setRequestHeader"in S&&Re.forEach(o.toJSON(),function(k,I){S.setRequestHeader(I,k)}),Re.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),c&&([g,v]=l1(c,!0),S.addEventListener("progress",g)),l&&S.upload&&([f,y]=l1(l),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=A=>{S&&(i(!A||A.type?new Ww(null,e,S):A),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const M=TOe(s.url);if(M&&eo.protocols.indexOf(M)===-1){i(new qt("Unsupported protocol "+M+":",qt.ERR_BAD_REQUEST,e));return}S.send(r||null)})},_Oe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,s;const r=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;i.abort(d instanceof qt?d:new Ww(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,r(new qt(`timeout ${t} of ms exceeded`,qt.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),e=null)};e.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>Re.asap(a),l}},BOe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,s;for(;i<n;)s=i+t,yield e.slice(i,s),i=s},GOe=async function*(e,t){for await(const n of zOe(e))yield*BOe(n,t)},zOe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},u4=(e,t,n,i)=>{const s=GOe(e,t);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let g=r+=f;n(g)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},sL=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CZ=sL&&typeof ReadableStream=="function",HOe=sL&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wZ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},VOe=CZ&&wZ(()=>{let e=!1;const t=new Request(eo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d4=64*1024,b2=CZ&&wZ(()=>Re.isReadableStream(new Response("").body)),c1={stream:b2&&(e=>e.body)};sL&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!c1[t]&&(c1[t]=Re.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new qt(`Response type '${t}' is not supported`,qt.ERR_NOT_SUPPORT,i)})})})(new Response);const jOe=async e=>{if(e==null)return 0;if(Re.isBlob(e))return e.size;if(Re.isSpecCompliantForm(e))return(await new Request(eo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(e)||Re.isArrayBuffer(e))return e.byteLength;if(Re.isURLSearchParams(e)&&(e=e+""),Re.isString(e))return(await HOe(e)).byteLength},WOe=async(e,t)=>{const n=Re.toFiniteNumber(e.getContentLength());return n??jOe(t)},UOe=sL&&(async e=>{let{url:t,method:n,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:g}=bZ(e);c=c?(c+"").toLowerCase():"text";let y=_Oe([s,r&&r.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(l&&VOe&&n!=="get"&&n!=="head"&&(S=await WOe(d,i))!==0){let I=new Request(t,{method:"POST",body:i,duplex:"half"}),P;if(Re.isFormData(i)&&(P=I.headers.get("content-type"))&&d.setContentType(P),I.body){const[N,B]=a4(S,l1(l4(l)));i=u4(I.body,d4,N,B)}}Re.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(t,{...g,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:x?f:void 0});let M=await fetch(v,g);const A=b2&&(c==="stream"||c==="response");if(b2&&(a||A&&w)){const I={};["status","statusText","headers"].forEach(z=>{I[z]=M[z]});const P=Re.toFiniteNumber(M.headers.get("content-length")),[N,B]=a&&a4(P,l1(l4(a),!0))||[];M=new Response(u4(M.body,d4,N,()=>{B&&B(),w&&w()}),I)}c=c||"text";let k=await c1[Re.findKey(c1,c)||"text"](M,e);return!A&&w&&w(),await new Promise((I,P)=>{yZ(I,P,{data:k,headers:la.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:v})})}catch(x){throw w&&w(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,e,v),{cause:x.cause||x}):qt.from(x,x&&x.code,e,v)}}),C2={http:oOe,xhr:FOe,fetch:UOe};Re.forEach(C2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h4=e=>`- ${e}`,$Oe=e=>Re.isFunction(e)||e===null||e===!1,SZ={getAdapter:e=>{e=Re.isArray(e)?e:[e];const{length:t}=e;let n,i;const s={};for(let r=0;r<t;r++){n=e[r];let o;if(i=n,!$Oe(n)&&(i=C2[(o=String(n)).toLowerCase()],i===void 0))throw new qt(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(h4).join(`
`):" "+h4(r[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:C2};function yN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ww(null,e)}function f4(e){return yN(e),e.headers=la.from(e.headers),e.data=mN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SZ.getAdapter(e.adapter||QD.adapter)(e).then(function(i){return yN(e),i.data=mN.call(e,e.transformResponse,i),i.headers=la.from(i.headers),i},function(i){return mZ(i)||(yN(e),i&&i.response&&(i.response.data=mN.call(e,e.transformResponse,i.response),i.response.headers=la.from(i.response.headers))),Promise.reject(i)})}const xZ="1.10.0",rL={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rL[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const g4={};rL.transitional=function(t,n,i){function s(r,o){return"[Axios v"+xZ+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(t===!1)throw new qt(s(o," has been removed"+(n?" in "+n:"")),qt.ERR_DEPRECATED);return n&&!g4[o]&&(g4[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,a):!0}};rL.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function YOe(e,t,n){if(typeof e!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const r=i[s],o=t[r];if(o){const a=e[r],l=a===void 0||o(a,r,e);if(l!==!0)throw new qt("option "+r+" must be "+l,qt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qt("Unknown option "+r,qt.ERR_BAD_OPTION)}}const UE={assertOptions:YOe,validators:rL},cu=UE.validators;let Km=class{constructor(t){this.defaults=t||{},this.interceptors={request:new r4,response:new r4}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=yy(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&UE.assertOptions(i,{silentJSONParsing:cu.transitional(cu.boolean),forcedJSONParsing:cu.transitional(cu.boolean),clarifyTimeoutError:cu.transitional(cu.boolean)},!1),s!=null&&(Re.isFunction(s)?n.paramsSerializer={serialize:s}:UE.assertOptions(s,{encode:cu.function,serialize:cu.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),UE.assertOptions(n,{baseUrl:cu.spelling("baseURL"),withXsrfToken:cu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&Re.merge(r.common,r[n.method]);r&&Re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),n.headers=la.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,f=0,g;if(!l){const v=[f4.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),g=v.length,d=Promise.resolve(n);f<g;)d=d.then(v[f++],v[f++]);return d}g=a.length;let y=n;for(f=0;f<g;){const v=a[f++],w=a[f++];try{y=v(y)}catch(S){w.call(this,S);break}}try{d=f4.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,g=c.length;f<g;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=yy(this.defaults,t);const n=vZ(t.baseURL,t.url,t.allowAbsoluteUrls);return fZ(n,t.params,t.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(t){Km.prototype[t]=function(n,i){return this.request(yy(i||{},{method:t,url:n,data:(i||{}).data}))}});Re.forEach(["post","put","patch"],function(t){function n(i){return function(r,o,a){return this.request(yy(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Km.prototype[t]=n(),Km.prototype[t+"Form"]=n(!0)});let KOe=class MZ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},t(function(r,o,a){i.reason||(i.reason=new Ww(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new MZ(function(s){t=s}),cancel:t}}};function qOe(e){return function(n){return e.apply(null,n)}}function ZOe(e){return Re.isObject(e)&&e.isAxiosError===!0}const w2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(w2).forEach(([e,t])=>{w2[t]=e});function DZ(e){const t=new Km(e),n=tZ(Km.prototype.request,t);return Re.extend(n,Km.prototype,t,{allOwnKeys:!0}),Re.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return DZ(yy(e,s))},n}const xs=DZ(QD);xs.Axios=Km;xs.CanceledError=Ww;xs.CancelToken=KOe;xs.isCancel=mZ;xs.VERSION=xZ;xs.toFormData=iL;xs.AxiosError=qt;xs.Cancel=xs.CanceledError;xs.all=function(t){return Promise.all(t)};xs.spread=qOe;xs.isAxiosError=ZOe;xs.mergeConfig=yy;xs.AxiosHeaders=la;xs.formToJSON=e=>pZ(Re.isHTMLForm(e)?new FormData(e):e);xs.getAdapter=SZ.getAdapter;xs.HttpStatusCode=w2;xs.default=xs;const{Axios:k_e,AxiosError:L_e,CanceledError:P_e,isCancel:O_e,CancelToken:N_e,VERSION:F_e,all:__e,Cancel:B_e,isAxiosError:G_e,spread:z_e,toFormData:H_e,AxiosHeaders:V_e,HttpStatusCode:j_e,formToJSON:W_e,getAdapter:U_e,mergeConfig:$_e}=xs,XOe="https://test.cookdashboard.com",QOe={base:XOe},iz=xs.create({baseURL:QOe.base});iz.interceptors.request.use(e=>{const t={...e},n=hme();return n&&(t.headers.Authorization=`Bearer ${n}`),t},e=>Promise.reject(e));iz.interceptors.response.use(void 0,e=>{const{response:t}=e;return t.status===302?Promise.resolve({data:{...t.data,status:t.status}}):t.status===500?Promise.reject({status:500,code:99999,message:"Network Error"}):Promise.reject({...t.data,status:t.status})});const Lo=async({method:e,endpoint:t,params:n,body:i})=>{try{const{data:s}=await iz({method:e,url:`${t}${ume(n)}`,data:i});return s}catch(s){throw new f_(s)}},JOe={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},eNe=(e,t,n)=>{let i;const s=JOe[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+" 후":i+" 전":i},tNe={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},nNe={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iNe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},sNe={date:bC({formats:tNe,defaultWidth:"full"}),time:bC({formats:nNe,defaultWidth:"full"}),dateTime:bC({formats:iNe,defaultWidth:"full"})},rNe={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},oNe=(e,t,n,i)=>rNe[e],aNe={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},lNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},cNe={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},uNe={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},dNe={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},hNe={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},fNe=(e,t)=>{const n=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},gNe={ordinalNumber:fNe,era:Cu({values:aNe,defaultWidth:"wide"}),quarter:Cu({values:lNe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cu({values:cNe,defaultWidth:"wide"}),day:Cu({values:uNe,defaultWidth:"wide"}),dayPeriod:Cu({values:dNe,defaultWidth:"wide",formattingValues:hNe,defaultFormattingWidth:"wide"})},pNe=/^(\d+)(일|번째)?/i,mNe=/\d+/i,yNe={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},vNe={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},bNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},CNe={any:[/1/i,/2/i,/3/i,/4/i]},wNe={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},SNe={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},xNe={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},MNe={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},DNe={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},ANe={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},RNe={ordinalNumber:oq({matchPattern:pNe,parsePattern:mNe,valueCallback:e=>parseInt(e,10)}),era:wu({matchPatterns:yNe,defaultMatchWidth:"wide",parsePatterns:vNe,defaultParseWidth:"any"}),quarter:wu({matchPatterns:bNe,defaultMatchWidth:"wide",parsePatterns:CNe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wu({matchPatterns:wNe,defaultMatchWidth:"wide",parsePatterns:SNe,defaultParseWidth:"any"}),day:wu({matchPatterns:xNe,defaultMatchWidth:"wide",parsePatterns:MNe,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:DNe,defaultMatchWidth:"any",parsePatterns:ANe,defaultParseWidth:"any"})},TNe={code:"ko",formatDistance:eNe,formatLong:sNe,formatRelative:oNe,localize:gNe,match:RNe,options:{weekStartsOn:0,firstWeekContainsDate:1}},ENe={theme:"light",setTheme:()=>null},AZ=T.createContext(ENe);function INe({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...i}){const[s,r]=T.useState(()=>localStorage.getItem(n)||t);T.useEffect(()=>{console.log(s);const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(s)},[s]);const o={theme:s,setTheme:a=>{localStorage.setItem(n,a),r(a)}};return _.jsx(AZ.Provider,{...i,value:o,children:e})}const RZ=()=>{const e=T.useContext(AZ);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},kNe=({isSelectable:e})=>{const{theme:t}=RZ(),[n,i]=T.useState(void 0),[s,r]=T.useState("realtime"),[o,a]=T.useState({from:new Date,to:new Date}),{data:l}=HC({queryKey:["partners"],queryFn:()=>Lo({method:"get",endpoint:"/dashboard/companies/"}),enabled:e}),{isLoading:c,isFetching:d,data:f={},dataUpdatedAt:g}=HC({queryKey:["dashboard",s,n,o.from,o.to,e],queryFn:()=>{const I=e?"/dashboard/main_by_company/":"/dashboard/main/",P={start_date:o.from?io(o.from,"yyyy-MM-dd"):"",end_date:o.to?io(o.to,"yyyy-MM-dd"):"",type:s};return e&&(P.partner_company_id=n),Lo({method:"get",endpoint:I,params:P})},enabled:!!o.from&&!!o.to,staleTime:s==="realtime"?0:5*60*1e3,gcTime:20*60*1e3,refetchOnWindowFocus:s==="realtime",refetchInterval:s==="realtime"?600*1e3:!1,refetchIntervalInBackground:s==="realtime",retry:2}),y=I=>{const P=I==="default"?void 0:Number(I);i(P)},v=I=>{r(I),a({from:$d(new Date(Date.now()-24*60*60*1e3)),to:new Date(Date.now()-24*60*60*1e3)})},w=T.useMemo(()=>g?new Date(g):void 0,[g]),S=T.useMemo(()=>f!=null&&f.chart_data?f.chart_data.map(I=>({date:io(new Date(I.date),"MM/dd[EEE]",{locale:TNe}),sales:I.sales_amount,purchase:I.purchase_amount,costToSalesRatio:I.cost_to_sales_ratio})):[],[f]),x=T.useMemo(()=>{const I=t==="dark";return{background:I?"#111827":"#ffffff",text:I?"#ffffff":"#000000",markerStroke:I?"#1a1b23":"#ffffff",sales:I?"#F687B3":"#F6A5A5",purchase:I?"#4FD1C7":"#6EC6A9",costToSalesRatio:I?"#F6E05E":"#FFD54F"}},[t]),M=T.useMemo(()=>[{type:"category",position:"bottom",label:{color:x.text}},{type:"number",position:"left",label:{formatter:I=>`${I.value.toLocaleString()} 원`,color:x.text}}],[x.text]),A=T.useMemo(()=>[{type:"bar",xKey:"date",yKey:"sales",yName:"매출액",fill:x.sales,fillOpacity:.9},{type:"bar",xKey:"date",yKey:"purchase",yName:"매입액",fill:x.purchase,fillOpacity:.9},{type:"line",xKey:"date",yKey:"costToSalesRatio",yName:"매출원가",stroke:x.costToSalesRatio,strokeWidth:3,marker:{enabled:!0,size:8,fill:x.costToSalesRatio,stroke:x.costToSalesRatio,strokeWidth:2}}].filter(P=>P.yKey==="purchase"?S.some(N=>N.purchase!==void 0&&N.purchase!==null):P.yKey==="costToSalesRatio"?S.some(N=>N.costToSalesRatio!==void 0&&N.costToSalesRatio!==null):!0),[x,f]),k=T.useMemo(()=>({data:S,background:{fill:x.background},axes:M,series:A,legend:{enabled:!0,position:"bottom",item:{label:{color:x.text}}}}),[S,x,M,A]);return{isLoading:c,isFetching:d,selectedPartnerId:n,partners:l,lastUpdateDate:w,periodType:s,dateRange:o,chartOptions:k,dashboardData:f,setDateRange:a,handlePartnerChange:y,handlePeriodChange:v}};function TZ({isSelectable:e=!1}){var y;const{isLoading:t,isFetching:n,chartOptions:i,dashboardData:s,partners:r,selectedPartnerId:o,periodType:a,dateRange:l,lastUpdateDate:c,setDateRange:d,handlePartnerChange:f,handlePeriodChange:g}=kNe({isSelectable:e});return _.jsxs("div",{className:"flex w-full flex-col gap-4",children:[_.jsxs("div",{className:`flex items-center ${e?"justify-between":"justify-end"}`,children:[e&&_.jsxs(QW,{value:o?o.toString():"default",onValueChange:f,children:[_.jsx(e4,{className:"w-[200px]",children:_.jsx(JW,{placeholder:"파트너사 선택"})}),_.jsxs(t4,{children:[_.jsx(aE,{value:"default",children:"식자재쿡"}),r==null?void 0:r.map(v=>_.jsx(aE,{value:v.partner_company_id.toString(),children:v.b_nm},v.partner_company_id))]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(QW,{value:a,onValueChange:g,children:[_.jsx(e4,{className:"w-[140px]",children:_.jsx(JW,{})}),_.jsxs(t4,{children:[_.jsx(aE,{value:"realtime",children:"실시간"}),_.jsx(aE,{value:"period",children:"기간 선택"})]})]}),a==="period"&&_.jsx(Yk,{date:l,onDateSelect:({from:v,to:w})=>d({from:v,to:w}),contentAlign:"end",maxDateType:"yesterday",isDashboard:!0})]})]}),_.jsx(mPe,{isLoading:t,isFetching:n,data:s,periodType:a}),_.jsxs("div",{className:"grid h-[600px] grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-background border-border/50 col-span-2 flex h-full flex-col gap-3 rounded-lg border p-6 shadow-sm",children:[_.jsx("h3",{className:"border-border/50 text-contrast border-b pb-2 text-lg font-semibold",children:"매출 통계"}),_.jsx("div",{className:"flex-1",children:t||n?_.jsx("div",{className:"flex h-full items-center justify-center",children:_.jsx(a1,{size:"lg"})}):((y=s==null?void 0:s.chart_data)==null?void 0:y.length)>0?_.jsx(pAe,{className:"h-full",options:i}):_.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx(MAe,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),_.jsx("p",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"선택한 기간에 해당하는 데이터가 없습니다."})]})})})]}),_.jsx(CPe,{isLoading:t,isFetching:n,data:s,periodType:a,dateRange:l})]}),_.jsx("div",{className:"flex justify-end gap-2 text-sm text-gray-400",children:c!=null&&c.toLocaleTimeString()?`마지막 업데이트 : ${c==null?void 0:c.toLocaleTimeString()}`:"-"})]})}const LNe=()=>_.jsx(TZ,{}),PNe=()=>_.jsx(TZ,{isSelectable:!0});var lo=ue.createContext({}),JD=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let o,a,l=!1;return r.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),p4(i,o)}),()=>{var c;l=!0,o&&((c=a==null?void 0:a.parentElement)==null||c.removeChild(a),t.destroyBean(o),i&&p4(i,void 0))}},p4=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},al=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),gl=class EZ{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const s=new EZ;return s.classesMap={...this.classesMap},s.classesMap[t]=n,s}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Uw=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},G4,S2=(G4=ue.version)==null?void 0:G4.split(".")[0],ONe=S2==="16"||S2==="17";function NNe(){return S2==="19"}var $E=!1;function FNe(e){return $E||setTimeout(()=>$E=!1,0),$E=!0,e()}var FM=(e,t)=>{!ONe&&e&&!$E?oU.flushSync(t):t()};function u1(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],s=[],r=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];r.set(l.instanceId,l),o.has(l.instanceId)&&i.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;r.has(c)||s.push(l)}return i.length===e.length&&s.length===0?e:i.length===0&&s.length===t.length?t:i.length===0?s:s.length===0?i:[...i,...s]}var IZ=T.forwardRef((e,t)=>{var ne;const{registry:n,context:i}=T.useContext(lo),s=T.useRef(null),r=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(),[d,f]=T.useState(),[g,y]=T.useState(),[v,w]=T.useState(),[S,x]=T.useState(()=>new gl),[M,A]=T.useState(()=>new gl("ag-hidden")),[k,I]=T.useState(()=>new gl("ag-hidden")),[P,N]=T.useState(()=>new gl("ag-invisible"));T.useImperativeHandle(t,()=>({refresh(){return!1}})),T.useLayoutEffect(()=>JD(d,i,r.current),[d]);const B=T.useCallback(Z=>{if(s.current=Z,!Z){c.current=i.destroyBean(c.current);return}const Se={setInnerRenderer:(ie,ve)=>{f(ie),w(ve)},setChildCount:ie=>y(ie),toggleCss:(ie,ve)=>x(J=>J.setClass(ie,ve)),setContractedDisplayed:ie=>I(ve=>ve.setClass("ag-hidden",!ie)),setExpandedDisplayed:ie=>A(ve=>ve.setClass("ag-hidden",!ie)),setCheckboxVisible:ie=>N(ve=>ve.setClass("ag-invisible",!ie)),setCheckboxSpacing:ie=>N(ve=>ve.setClass("ag-group-checkbox-spacing",ie))},U=n.createDynamicBean("groupCellRendererCtrl",!0);U&&(c.current=i.createBean(U),c.current.init(Se,Z,o.current,a.current,l.current,IZ,e))},[]),z=T.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),W=T.useMemo(()=>`ag-group-expanded ${M.toString()}`,[M]),Y=T.useMemo(()=>`ag-group-contracted ${k.toString()}`,[k]),K=T.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),q=d&&d.componentFromFramework,te=q?d.componentClass:void 0,re=d==null&&v!=null,X=ow(v);return ue.createElement("span",{className:z,ref:B,...e.colDef?{}:{role:(ne=c.current)==null?void 0:ne.getCellAriaRole()}},ue.createElement("span",{className:W,ref:a}),ue.createElement("span",{className:Y,ref:l}),ue.createElement("span",{className:K,ref:o}),ue.createElement("span",{className:"ag-group-value",ref:r},re&&ue.createElement(ue.Fragment,null,X),q&&ue.createElement(te,{...d.params})),ue.createElement("span",{className:"ag-group-child-count"},g))}),m4=IZ,oL=T.createContext({setMethods:()=>{}}),_Ne=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:s}=e,[{key:r,...o},a]=T.useState(t);return T.useEffect(()=>{n(l=>a(l))},[]),ue.createElement(oL.Provider,{value:{setMethods:s}},ue.createElement(i,{key:r,...o}))},BNe=T.memo(_Ne),GNe=0;function y4(){return`agPortalKey_${++GNe}`}var kZ=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=y4(),this.portalKey=y4(),this.instanceCreated=this.isStatelessComponent()?Ri.resolve(!1):new Ri(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ri(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Cy.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return T.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function sz(e,t,n){e.forEach(i=>{const s=t[i];s&&(n[i]=s)})}var Tc=class extends kZ{constructor(){super(...arguments),this.awaitUpdateCallback=new Ri(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=BNe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Ri(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,sz(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ri(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},zNe=class extends Tc{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},HNe=class extends Tc{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},VNe=class extends Tc{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},jNe=class extends Tc{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ri(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var i,s;return(s=(i=this.providedMethods)==null?void 0:i.afterGuiAttached)==null?void 0:s.call(i,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function LZ(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Ri.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var WNe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){sz(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),LZ(this.floatingFilterParams,e)}},UNe=class extends Tc{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),LZ(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},$Ne=class extends Tc{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},YNe=class extends Tc{refresh(e){this.sourceParams=e,this.refreshProps()}},KNe=class extends Tc{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},qNe=class extends Tc{refresh(e){this.sourceParams=e,this.refreshProps()}},ZNe=class extends Tc{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},XNe=class extends Tc{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function rz(){Ue(231)}var QNe=1e3,JNe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||QNe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){FM(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},eFe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=T.useContext(lo),i=t?e.column.getColId():void 0,[s,r]=T.useState(),[o,a]=T.useState(),l=T.useRef(),c=T.useRef(null),d=T.useRef(null),f=T.useRef(null),g=T.useRef(),y=T.useRef();t&&!y.current&&(y.current=new UM(()=>c.current));const v=T.useCallback(M=>{var I;if(c.current=M,l.current=M?n.createBean(new lw):n.destroyBean(l.current),!M||!e.isAlive())return;const A={setWidth:P=>{c.current&&(c.current.style.width=P)},toggleCss:(P,N)=>y.current.toggleCss(P,N),setUserStyles:P=>a(P),setAriaSort:P=>{c.current&&(P?aee(c.current,P):lee(c.current))},setUserCompDetails:P=>r(P),getUserCompInstance:()=>g.current||void 0};e.setComp(A,M,d.current,f.current,l.current);const k=e.getSelectAllGui();k&&((I=d.current)==null||I.insertAdjacentElement("afterend",k),l.current.addDestroyFunc(()=>k.remove()))},[]);T.useLayoutEffect(()=>JD(s,n,f.current,g),[s]),T.useEffect(()=>{e.setDragSource(c.current)},[s]);const w=T.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&Uw(s.componentClass)),[s]),S=s&&s.componentFromFramework,x=s&&s.componentClass;return ue.createElement("div",{ref:v,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},ue.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),ue.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&w&&ue.createElement(x,{...s.params}),S&&!w&&ue.createElement(x,{...s.params,ref:g})))},tFe=T.memo(eFe),nFe=({ctrl:e})=>{const{context:t,gos:n}=T.useContext(lo),[i,s]=T.useState(),[r,o]=T.useState(()=>new gl("ag-header-cell","ag-floating-filter")),[a,l]=T.useState(()=>new gl),[c,d]=T.useState(()=>new gl("ag-floating-filter-button","ag-hidden")),[f,g]=T.useState("false"),[y,v]=T.useState(),[,w]=T.useState(1),S=T.useRef(),x=T.useRef(null),M=T.useRef(null),A=T.useRef(null),k=T.useRef(null),I=T.useRef(),P=T.useRef(),N=Z=>{Z!=null&&I.current&&I.current(Z)},B=T.useCallback(Z=>{if(x.current=Z,S.current=Z?t.createBean(new lw):t.destroyBean(S.current),!Z)return;P.current=new Ri(U=>{I.current=U});const Se={toggleCss:(U,ie)=>o(ve=>ve.setClass(U,ie)),setUserStyles:U=>s(U),addOrRemoveBodyCssClass:(U,ie)=>l(ve=>ve.setClass(U,ie)),setButtonWrapperDisplayed:U=>{d(ie=>ie.setClass("ag-hidden",!U)),g(U?"false":"true")},setWidth:U=>{x.current&&(x.current.style.width=U)},setCompDetails:U=>v(U),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:U=>{var ie;return(ie=k.current)==null?void 0:ie.appendChild(U)}};e.setComp(Se,Z,k.current,M.current,S.current)},[]);T.useLayoutEffect(()=>JD(y,t,M.current,N),[y]);const z=T.useMemo(()=>r.toString(),[r]),W=T.useMemo(()=>a.toString(),[a]),Y=T.useMemo(()=>c.toString(),[c]),K=T.useMemo(()=>!!(y&&y.componentFromFramework&&Uw(y.componentClass)),[y]),q=T.useMemo(()=>n.get("reactiveCustomComponents"),[]),te=T.useMemo(()=>{if(y)if(q){const Z=new WNe(y.params,()=>w(Se=>Se+1));return N(Z),Z}else y.componentFromFramework&&rz()},[y]),re=te==null?void 0:te.getProps(),X=y&&y.componentFromFramework,ne=y&&y.componentClass;return ue.createElement("div",{ref:B,style:i,className:z,role:"gridcell"},ue.createElement("div",{ref:M,className:W,role:"presentation"},X&&!q&&ue.createElement(ne,{...y.params,ref:K?()=>{}:N}),X&&q&&ue.createElement(oL.Provider,{value:{setMethods:Z=>te.setMethods(Z)}},ue.createElement(ne,{...re}))),ue.createElement("div",{ref:A,"aria-hidden":f,className:Y,role:"presentation"},ue.createElement("button",{ref:k,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},iFe=T.memo(nFe),sFe=({ctrl:e})=>{const{context:t}=T.useContext(lo),[n,i]=T.useState(),[s,r]=T.useState(()=>new gl),[o,a]=T.useState(()=>new gl),[l,c]=T.useState("false"),[d,f]=T.useState(),[g,y]=T.useState(),v=T.useMemo(()=>e.column.getUniqueId(),[]),w=T.useRef(),S=T.useRef(null),x=T.useRef(null),M=T.useRef(null),A=T.useRef(),k=T.useCallback(W=>{if(S.current=W,w.current=W?t.createBean(new lw):t.destroyBean(w.current),!W)return;const Y={setWidth:K=>{S.current&&(S.current.style.width=K)},toggleCss:(K,q)=>r(te=>te.setClass(K,q)),setUserStyles:K=>i(K),setHeaderWrapperHidden:K=>{const q=M.current;q&&(K?q.style.setProperty("display","none"):q.style.removeProperty("display"))},setHeaderWrapperMaxHeight:K=>{const q=M.current;q&&(K!=null?q.style.setProperty("max-height",`${K}px`):q.style.removeProperty("max-height"),q.classList.toggle("ag-header-cell-comp-wrapper-limited-height",K!=null))},setUserCompDetails:K=>y(K),setResizableDisplayed:K=>{a(q=>q.setClass("ag-hidden",!K)),c(K?"false":"true")},setAriaExpanded:K=>f(K),getUserCompInstance:()=>A.current||void 0};e.setComp(Y,W,x.current,M.current,w.current)},[]);T.useLayoutEffect(()=>JD(g,t,M.current),[g]),T.useEffect(()=>{S.current&&e.setDragSource(S.current)},[g]);const I=T.useMemo(()=>!!((g==null?void 0:g.componentFromFramework)&&Uw(g.componentClass)),[g]),P=T.useMemo(()=>"ag-header-group-cell "+s.toString(),[s]),N=T.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),B=g&&g.componentFromFramework,z=g&&g.componentClass;return ue.createElement("div",{ref:k,style:n,className:P,"col-id":v,role:"columnheader","aria-expanded":d},ue.createElement("div",{ref:M,className:"ag-header-cell-comp-wrapper",role:"presentation"},B&&I&&ue.createElement(z,{...g.params}),B&&!I&&ue.createElement(z,{...g.params,ref:A})),ue.createElement("div",{ref:x,"aria-hidden":l,className:N}))},rFe=T.memo(sFe),oFe=({ctrl:e})=>{const{context:t}=T.useContext(lo),{topOffset:n,rowHeight:i}=T.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),r=e.headerRowClass,[o,a]=T.useState(()=>i+"px"),[l,c]=T.useState(()=>n+"px"),d=T.useRef(null),f=T.useRef(null),[g,y]=T.useState(()=>e.getUpdatedHeaderCtrls()),v=T.useRef(),w=T.useRef(null),S=T.useCallback(A=>{if(w.current=A,v.current=A?t.createBean(new lw):t.destroyBean(v.current),!A)return;const k={setHeight:I=>a(I),setTop:I=>c(I),setHeaderCtrls:(I,P,N)=>{f.current=d.current,d.current=I;const B=u1(f.current,I,P);B!==f.current&&FM(N,()=>y(B))},setWidth:I=>{w.current&&(w.current.style.width=I)}};e.setComp(k,v.current,!1)},[]),x=T.useMemo(()=>({height:o,top:l}),[o,l]),M=T.useCallback(A=>{switch(e.type){case"group":return ue.createElement(rFe,{ctrl:A,key:A.instanceId});case"filter":return ue.createElement(iFe,{ctrl:A,key:A.instanceId});default:return ue.createElement(tFe,{ctrl:A,key:A.instanceId})}},[]);return ue.createElement("div",{ref:S,className:r,role:"row",style:x,"aria-rowindex":s},g.map(M))},aFe=T.memo(oFe),lFe=({pinned:e})=>{const[t,n]=T.useState(!0),[i,s]=T.useState([]),{context:r}=T.useContext(lo),o=T.useRef(null),a=T.useRef(null),l=T.useRef(),c=e==="left",d=e==="right",f=!c&&!d,g=T.useCallback(w=>{if(o.current=w,l.current=w?r.createBean(new Kie(e)):r.destroyBean(l.current),!w)return;const S={setDisplayed:n,setCtrls:x=>s(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};l.current.setComp(S,o.current)},[]),y=t?"":"ag-hidden",v=()=>i.map(w=>ue.createElement(aFe,{ctrl:w,key:w.instanceId}));return ue.createElement(ue.Fragment,null,c&&ue.createElement("div",{ref:g,className:"ag-pinned-left-header "+y,"aria-hidden":!t,role:"rowgroup"},v()),d&&ue.createElement("div",{ref:g,className:"ag-pinned-right-header "+y,"aria-hidden":!t,role:"rowgroup"},v()),f&&ue.createElement("div",{ref:g,className:"ag-header-viewport "+y,role:"presentation",tabIndex:-1},ue.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},v())))},vN=T.memo(lFe),cFe=()=>{const[e,t]=T.useState(()=>new gl),[n,i]=T.useState(),{context:s}=T.useContext(lo),r=T.useRef(null),o=T.useRef(),a=T.useCallback(d=>{if(r.current=d,o.current=d?s.createBean(new Wie):s.destroyBean(o.current),!d)return;const f={toggleCss:(g,y)=>t(v=>v.setClass(g,y)),setHeightAndMinHeight:g=>i(g)};o.current.setComp(f,d,d)},[]),l=T.useMemo(()=>"ag-header "+e.toString(),[e]),c=T.useMemo(()=>({height:n,minHeight:n}),[n]);return ue.createElement("div",{ref:a,className:l,style:c,role:"presentation"},ue.createElement(vN,{pinned:"left"}),ue.createElement(vN,{pinned:null}),ue.createElement(vN,{pinned:"right"}))},uFe=T.memo(cFe),dFe=(e,t)=>{T.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const s=document.createComment(e);return i.insertBefore(s,n),()=>{i.removeChild(s)}}}},[e])},bm=dFe,hFe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ri(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){sz(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},fFe=e=>{const t=T.useRef(e),n=T.useRef(),i=T.useRef(!1),s=T.useRef(!1),[,r]=T.useState(0);i.current&&(s.current=!0),T.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),r(o=>o+1),()=>{var o;s.current&&((o=n.current)==null||o.call(n))}),[])},gFe=e=>{const[t,n]=T.useState(),i=T.useContext(lo),{context:s,popupSvc:r,localeSvc:o,gos:a,editSvc:l}=i,{editDetails:c,cellCtrl:d,eParentCell:f}=e;return fFe(()=>{var N,B;const{compDetails:g}=c,y=a.get("stopEditingWhenCellsLoseFocus"),v=s.createBean(l.createPopupEditorWrapper(g.params)),w=v.getGui();if(e.jsChildComp){const z=e.jsChildComp.getGui();z&&w.appendChild(z)}const{column:S,rowNode:x}=d,M={column:S,rowNode:x,type:"popupCellEditor",eventSource:f,ePopup:w,position:c.popupPosition,keepWithinBounds:!0},A=r==null?void 0:r.positionPopupByComponent.bind(r,M),k=aU(o),I=r==null?void 0:r.addPopup({modal:y,eChild:w,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:f,positionCallback:A,ariaLabel:k("ariaLabelCellEditor","Cell Editor")}),P=I?I.hideFunc:void 0;return n(v),(B=(N=e.jsChildComp)==null?void 0:N.afterGuiAttached)==null||B.call(N),()=>{P==null||P(),s.destroyBean(v)}}),T.useLayoutEffect(()=>()=>{d.isCellFocused()&&(t!=null&&t.getGui().contains(zi(i)))&&f.focus({preventScroll:!0})},[t]),ue.createElement(ue.Fragment,null,t&&e.wrappedContent&&Cy.createPortal(e.wrappedContent,t.getGui()))},v4=T.memo(gFe),pFe=(e,t,n,i,s,r)=>{const{context:o}=T.useContext(lo),a=T.useCallback(()=>{const l=s.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),s.current=void 0},[]);T.useEffect(()=>{const l=e!=null,c=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,d=t&&n==null;if(!(l&&c&&!d)){a();return}const g=e.compDetails;if(s.current){const v=s.current,S=v.refresh!=null&&e.force==!1?v.refresh(g.params):!1;if(S===!0||S===void 0)return;a()}g.newAgStackInstance().then(v=>{if(!v)return;const w=v.getGui();if(!w)return;(t?n:r.current).appendChild(w),s.current=v})},[e,t,i]),T.useEffect(()=>a,[])},mFe=pFe,yFe=(e,t,n)=>{const{compProxy:i}=e;n(i);const s=i.getProps(),r=Uw(t);return ue.createElement(oL.Provider,{value:{setMethods:o=>i.setMethods(o)}},r?ue.createElement(t,{...s}):ue.createElement(t,{...s,ref:o=>i.setRef(o)}))},b4=(e,t,n)=>{const i=e.compProxy;return ue.createElement(ue.Fragment,null,i?yFe(e,t,n):ue.createElement(t,{...e.compDetails.params,ref:n}))},vFe=(e,t,n,i,s)=>{const r=e.compDetails,o=r.componentClass,a=r.componentFromFramework&&!e.popup,l=r.componentFromFramework&&e.popup,c=!r.componentFromFramework&&e.popup;return ue.createElement(ue.Fragment,null,a&&b4(e,o,t),l&&ue.createElement(v4,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:b4(e,o,t)}),c&&s&&ue.createElement(v4,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:s}))},bFe=(e,t,n,i,s,r,o)=>{const{compDetails:a,value:l}=e,c=!a,d=a&&a.componentFromFramework,f=a&&a.componentClass,g=l!=null&&l.toString?l.toString():l,y=()=>ue.createElement(ue.Fragment,null,c&&ue.createElement(ue.Fragment,null,g),d&&!r&&ue.createElement(f,{...a.params,key:t,ref:i}),d&&r&&ue.createElement(f,{...a.params,key:t}));return ue.createElement(ue.Fragment,null,s?ue.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:o},y()):y())},CFe=({cellCtrl:e,printLayout:t,editingRow:n})=>{const i=T.useContext(lo),{context:s}=i,{column:{colIdSanitised:r},instanceId:o}=e,a=T.useRef(),[l,c]=T.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=T.useState(),[g,y]=T.useState(1),[v,w]=T.useState(),[S,x]=T.useState(!1),[M,A]=T.useState(!1),[k,I]=T.useState(!1),[P,N]=T.useState(),B=T.useMemo(()=>e.isForceWrapper(),[e]),z=T.useMemo(()=>e.getCellAriaRole(),[e]),W=T.useRef(null),Y=T.useRef(null),K=T.useRef(null),q=T.useRef(),te=T.useRef(),re=T.useRef(),X=T.useRef([]),ne=T.useRef(),[Z,Se]=T.useState(0),U=T.useCallback(it=>{ne.current=it,Se($e=>$e+1)},[]),ie=l!=null&&(S||k||M),ve=B||ie,J=T.useCallback(it=>{if(te.current=it,it){const $e=it.isCancelBeforeStart&&it.isCancelBeforeStart();setTimeout(()=>{$e?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),he=T.useRef();he.current||(he.current=new UM(()=>W.current)),mFe(l,ve,ne.current,Z,q,W);const Ee=T.useRef();T.useLayoutEffect(()=>{var St;const it=Ee.current,$e=l;if(Ee.current=l,it==null||it.compDetails==null||$e==null||$e.compDetails==null)return;const mt=it.compDetails,Ht=$e.compDetails;if(mt.componentClass!=Ht.componentClass||((St=K.current)==null?void 0:St.refresh)==null)return;K.current.refresh(Ht.params)!=!0&&y(Ze=>Ze+1)},[l]),T.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const $e=d.compDetails,mt=d.popup===!0,Ht=$e.newAgStackInstance();return Ht.then(st=>{if(!st)return;const St=st.getGui();if(J(st),!mt){const Ze=(B?re:W).current;Ze==null||Ze.appendChild(St),st.afterGuiAttached&&st.afterGuiAttached()}N(st)}),()=>{Ht.then(st=>{var Ze;const St=st.getGui();s.destroyBean(st),J(void 0),N(void 0),(Ze=St==null?void 0:St.parentElement)==null||Ze.removeChild(St)})}},[d]);const we=T.useCallback(it=>{if(re.current=it,!it){X.current.forEach(mt=>mt()),X.current=[];return}const $e=mt=>{if(mt){const Ht=mt.getGui();it.insertAdjacentElement("afterbegin",Ht),X.current.push(()=>{s.destroyBean(mt),rh(Ht)})}return mt};if(S){const mt=e.createSelectionCheckbox();$e(mt)}k&&$e(e.createDndSource()),M&&$e(e.createRowDragComp())},[e,s,k,M,S]),Me=T.useCallback(()=>{const it=!e.isCellSpanning()||Y.current,$e=W.current;if(a.current=$e?s.createBean(new lw):s.destroyBean(a.current),!$e||!it||!e)return;const mt={toggleCss:(st,St)=>he.current.toggleCss(st,St),setUserStyles:st=>w(st),getFocusableElement:()=>W.current,setIncludeSelection:st=>x(st),setIncludeRowDrag:st=>A(st),setIncludeDndSource:st=>I(st),getCellEditor:()=>te.current||null,getCellRenderer:()=>K.current??q.current,getParentOfValue:()=>ne.current??re.current??W.current,setRenderDetails:(st,St,Ze)=>{c(et=>(et==null?void 0:et.compDetails)!==st||(et==null?void 0:et.value)!==St||(et==null?void 0:et.force)!==Ze?{value:St,compDetails:st,force:Ze}:et)},setEditDetails:(st,St,Ze,et)=>{if(st){let lt;et?lt=new hFe(st.params,()=>y(vt=>vt+1)):st.componentFromFramework&&rz(),f({compDetails:st,popup:St,popupPosition:Ze,compProxy:lt}),St||c(void 0)}else e.hasBrowserFocus()&&mt.getFocusableElement().focus({preventScroll:!0}),f(vt=>{vt!=null&&vt.compProxy&&(te.current=void 0)})}},Ht=re.current||void 0;e.setComp(mt,$e,Y.current??void 0,Ht,t,n,a.current)},[]),Ce=T.useCallback(it=>{W.current=it,Me()},[]),je=T.useCallback(it=>{Y.current=it,Me()},[]),Ye=T.useMemo(()=>{var $e;return!!((($e=l==null?void 0:l.compDetails)==null?void 0:$e.componentFromFramework)&&Uw(l.compDetails.componentClass))},[l]);T.useLayoutEffect(()=>{W.current&&(he.current.toggleCss("ag-cell-value",!ve),he.current.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),he.current.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),he.current.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup),e.setInlineEditingCss())});const Ge=()=>ue.createElement(ue.Fragment,null,l!=null&&bFe(l,g,o,K,ve,Ye,U),d!=null&&vFe(d,J,W.current,e,P)),We=()=>ue.createElement("div",{ref:Ce,style:v,role:z,"col-id":r},ve?ue.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:we},Ge()):Ge());return e.isCellSpanning()?ue.createElement("div",{ref:je,className:"ag-spanned-cell-wrapper",role:"presentation"},We()):We()},wFe=T.memo(CFe),SFe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i}=T.useContext(lo),s=T.useRef(),r=T.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[l,c]=T.useState(()=>a?e.rowNode.getRowIndexString():null),[d,f]=T.useState(()=>e.rowId),[g,y]=T.useState(()=>e.businessKey),[v,w]=T.useState(()=>e.rowStyles),S=T.useRef(null),x=T.useRef(null),[M,A]=T.useState(()=>null),[k,I]=T.useState(),[P,N]=T.useState(()=>a?e.getInitialRowTop(t):void 0),[B,z]=T.useState(()=>a?e.getInitialTransform(t):void 0),W=T.useRef(null),Y=T.useRef(),K=T.useRef(!1),[q,te]=T.useState(0);T.useEffect(()=>{var Ee;if(K.current||!k||q>10)return;const he=(Ee=W.current)==null?void 0:Ee.firstChild;he?(e.setupDetailRowAutoHeight(he),K.current=!0):te(we=>we+1)},[k,q]);const re=T.useRef();re.current||(re.current=new UM(()=>W.current));const X=T.useCallback(he=>{if(W.current=he,s.current=he?n.createBean(new lw):n.destroyBean(s.current),!he){e.unsetComp(t);return}if(!e.isAlive())return;const Ee={setTop:N,setTransform:z,toggleCss:(we,Me)=>re.current.toggleCss(we,Me),setDomOrder:we=>r.current=we,setRowIndex:c,setRowId:f,setRowBusinessKey:y,setUserStyles:w,setCellCtrls:(we,Me)=>{x.current=S.current,S.current=we;const Ce=u1(x.current,we,r.current);Ce!==x.current&&FM(Me,()=>A(Ce))},showFullWidth:we=>I(we),getFullWidthCellRenderer:()=>Y.current,refreshFullWidth:we=>ie.current?(I(Me=>({...Me,params:we()})),!0):!Y.current||!Y.current.refresh?!1:Y.current.refresh(we())};e.setComp(Ee,he,t,s.current)},[]);T.useLayoutEffect(()=>JD(k,n,W.current,Y),[k]);const ne=T.useMemo(()=>{const he={top:P,transform:B};return Object.assign(he,v),he},[P,B,v]),Z=o&&(k==null?void 0:k.componentFromFramework),Se=!o&&M!=null,U=T.useMemo(()=>!!((k==null?void 0:k.componentFromFramework)&&Uw(k.componentClass)),[k]),ie=T.useRef(!1);T.useEffect(()=>{ie.current=U&&!!k&&!!i.get("reactiveCustomComponents")},[U,k]);const ve=()=>M==null?void 0:M.map(he=>ue.createElement(wFe,{cellCtrl:he,editingRow:e.editing,printLayout:e.printLayout,key:he.instanceId})),J=()=>{const he=k.componentClass;return ue.createElement(ue.Fragment,null,U?ue.createElement(he,{...k.params}):ue.createElement(he,{...k.params,ref:Y}))};return ue.createElement("div",{ref:X,role:"row",style:ne,"row-index":l,"row-id":d,"row-business-key":g},Se&&ve(),Z&&J())},C4=T.memo(SFe),xFe=({name:e})=>{const{context:t,gos:n}=T.useContext(lo),i=T.useMemo(()=>YM(e),[e]),s=T.useRef(null),r=T.useRef(null),o=T.useRef(null),a=T.useRef([]),l=T.useRef([]),[c,d]=T.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,g=T.useRef([]),y=T.useRef([]),[v,w]=T.useState(()=>[]),S=T.useRef(!1),x=T.useRef(),M=T.useMemo(()=>al("ag-viewport",x3(e)),[e]),A=T.useMemo(()=>al(yE(e)),[e]),k=T.useMemo(()=>al("ag-spanning-container",wie(e)),[e]),I=i.type==="center"||f,P=I?s:r;bm(" AG Row Container "+e+" ",P);const N=T.useCallback(()=>{const re=!I||s.current!=null,X=r.current!=null,ne=!f||o.current!=null;return re&&X&&ne},[]),B=T.useCallback(()=>s.current==null&&r.current==null&&o.current==null,[]),z=T.useCallback(()=>{if(B()&&(x.current=t.destroyBean(x.current)),N()){const re=Z=>{const Se=u1(l.current,a.current,S.current);Se!==l.current&&(l.current=Se,FM(Z,()=>d(Se)))},X=Z=>{const Se=u1(y.current,g.current,S.current);Se!==y.current&&(y.current=Se,FM(Z,()=>w(Se)))},ne={setHorizontalScroll:Z=>{s.current&&(s.current.scrollLeft=Z)},setViewportHeight:Z=>{s.current&&(s.current.style.height=Z)},setRowCtrls:({rowCtrls:Z,useFlushSync:Se})=>{const U=!!Se&&a.current.length>0&&Z.length>0;a.current=Z,re(U)},setSpannedRowCtrls:(Z,Se)=>{const U=!!Se&&g.current.length>0&&Z.length>0;g.current=Z,X(U)},setDomOrder:Z=>{S.current!=Z&&(S.current=Z,re(!1))},setContainerWidth:Z=>{r.current&&(r.current.style.width=Z)},setOffsetTop:Z=>{r.current&&(r.current.style.transform=`translateY(${Z})`)}};x.current=t.createBean(new kie(e)),x.current.setComp(ne,r.current,o.current??void 0,s.current)}},[N,B]),W=T.useCallback(re=>{r.current=re,z()},[z]),Y=T.useCallback(re=>{o.current=re,z()},[z]),K=T.useCallback(re=>{s.current=re,z()},[z]),q=()=>ue.createElement("div",{className:A,ref:W,role:"rowgroup"},c.map(re=>ue.createElement(C4,{rowCtrl:re,containerType:i.type,key:re.instanceId})));if(!I)return q();const te=()=>f&&ue.createElement("div",{className:k,ref:Y,role:"rowgroup"},v.map(re=>ue.createElement(C4,{rowCtrl:re,containerType:i.type,key:re.instanceId})));return ue.createElement("div",{className:M,ref:K,role:"presentation"},q(),te())},MFe=T.memo(xFe),DFe=()=>{const e=T.useContext(lo),{context:t,overlays:n}=e,[i,s]=T.useState(""),[r,o]=T.useState(0),[a,l]=T.useState(0),[c,d]=T.useState("0px"),[f,g]=T.useState("0px"),[y,v]=T.useState("100%"),[w,S]=T.useState("0px"),[x,M]=T.useState("0px"),[A,k]=T.useState("100%"),[I,P]=T.useState(!0),[N,B]=T.useState(!0),[z,W]=T.useState(null),[Y,K]=T.useState(""),[q,te]=T.useState(null),[re,X]=T.useState("ag-layout-normal"),ne=T.useRef();ne.current||(ne.current=new UM(()=>Z.current));const Z=T.useRef(null),Se=T.useRef(null),U=T.useRef(null),ie=T.useRef(null),ve=T.useRef(null),J=T.useRef(null),he=T.useRef(null),Ee=T.useRef([]),we=T.useRef([]);bm(" AG Grid Body ",Z),bm(" AG Pinned Top ",Se),bm(" AG Sticky Top ",U),bm(" AG Middle ",J),bm(" AG Pinned Bottom ",he);const Me=T.useCallback(lt=>{if(Z.current=lt,!lt){Ee.current=t.destroyBeans(Ee.current),we.current.forEach(Pt=>Pt()),we.current=[];return}if(!t)return;const vt=(Pt,tn)=>{Pt.appendChild(tn),we.current.push(()=>Pt.removeChild(tn))},Vt=Pt=>{const tn=t.createBean(new Pt);return Ee.current.push(tn),tn},vn=(Pt,tn,co)=>{vt(Pt,document.createComment(co)),vt(Pt,Vt(tn).getGui())};vn(lt,_ie," AG Fake Horizontal Scroll ");const ln=n==null?void 0:n.getOverlayWrapperCompClass();ln&&vn(lt,ln," AG Overlay Wrapper "),ve.current&&vn(ve.current,Gie," AG Fake Vertical Scroll ");const us={setRowAnimationCssOnBodyViewport:s,setColumnCount:Pt=>{Z.current&&ree(Z.current,Pt)},setRowCount:Pt=>{Z.current&&iee(Z.current,Pt)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:g,setStickyTopWidth:v,setTopInvisible:P,setBottomInvisible:B,setColumnMovingCss:(Pt,tn)=>ne.current.toggleCss(Pt,tn),updateLayoutClasses:X,setAlwaysVerticalScrollClass:W,setPinnedTopBottomOverflowY:K,setCellSelectableCss:(Pt,tn)=>te(tn?Pt:null),setBodyViewportWidth:Pt=>{J.current&&(J.current.style.width=Pt)},registerBodyViewportResizeListener:Pt=>{if(J.current){const tn=yh(e,J.current,Pt);we.current.push(()=>tn())}},setStickyBottomHeight:S,setStickyBottomBottom:M,setStickyBottomWidth:k,setGridRootRole:Pt=>lt.setAttribute("role",Pt)},bn=t.createBean(new Nie);Ee.current.push(bn),bn.setComp(us,lt,J.current,Se.current,he.current,U.current,ie.current)},[]),Ce=T.useMemo(()=>al("ag-root","ag-unselectable",re),[re]),je=T.useMemo(()=>al("ag-body-viewport",i,re,z,q),[i,re,z,q]),Ye=T.useMemo(()=>al("ag-body",re),[re]),Ge=T.useMemo(()=>al("ag-floating-top",I?"ag-invisible":null,q),[q,I]),We=T.useMemo(()=>al("ag-sticky-top",q),[q]),it=T.useMemo(()=>al("ag-sticky-bottom",w==="0px"?"ag-invisible":null,q),[q,w]),$e=T.useMemo(()=>al("ag-floating-bottom",N?"ag-invisible":null,q),[q,N]),mt=T.useMemo(()=>({height:r,minHeight:r,overflowY:Y}),[r,Y]),Ht=T.useMemo(()=>({height:c,top:f,width:y}),[c,f,y]),st=T.useMemo(()=>({height:w,bottom:x,width:A}),[w,x,A]),St=T.useMemo(()=>({height:a,minHeight:a,overflowY:Y}),[a,Y]),Ze=lt=>ue.createElement(MFe,{name:lt,key:`${lt}-container`}),et=({section:lt,children:vt,className:Vt,style:vn})=>ue.createElement("div",{ref:lt,className:Vt,role:"presentation",style:vn},vt.map(Ze));return ue.createElement("div",{ref:Me,className:Ce},ue.createElement(uFe,null),et({section:Se,className:Ge,style:mt,children:["topLeft","topCenter","topRight","topFullWidth"]}),ue.createElement("div",{className:Ye,ref:ve,role:"presentation"},et({section:J,className:je,children:["left","center","right","fullWidth"]})),et({section:U,className:We,style:Ht,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),et({section:ie,className:it,style:st,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),et({section:he,className:$e,style:St,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},AFe=T.memo(DFe),RFe=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:s,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=T.useContext(lo),c=T.useRef(null),d=T.useRef(null),f=T.useRef(),g=x=>{const M=x==null?void 0:parseInt(x,10).toString();[c,d].forEach(A=>{var k,I;M===void 0?(k=A.current)==null||k.removeAttribute("tabindex"):(I=A.current)==null||I.setAttribute("tabindex",M)})};T.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){var M;(M=f.current)==null||M.forceFocusOutOfContainer(x)}}));const y=T.useCallback(()=>{const x=c.current,M=d.current;if(!x&&!M){f.current=l.destroyBean(f.current);return}if(x&&M){const A={setTabIndex:g};f.current=l.createBean(new O3({comp:A,eTopGuard:x,eBottomGuard:M,eFocusableElement:i,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:k=>r.focusInnerElement(k),isEmpty:a}))}},[]),v=T.useCallback(x=>{c.current=x,y()},[y]),w=T.useCallback(x=>{d.current=x,y()},[y]),S=x=>{const M=x==="top"?cC.TAB_GUARD_TOP:cC.TAB_GUARD_BOTTOM;return ue.createElement("div",{className:`${cC.TAB_GUARD} ${M}`,role:"presentation",ref:x==="top"?v:w})};return ue.createElement(ue.Fragment,null,S("top"),n,S("bottom"))},TFe=T.forwardRef(RFe),EFe=T.memo(TFe),IFe=({context:e})=>{const[t,n]=T.useState(""),[i,s]=T.useState(""),[r,o]=T.useState(null),[a,l]=T.useState(null),[c,d]=T.useState(!1),[f,g]=T.useState(),y=T.useRef(),v=T.useRef(null),w=T.useRef(),[S,x]=T.useState(null),M=T.useRef(()=>{}),A=T.useRef(),k=T.useRef([]),I=T.useCallback(()=>{},[]),P=T.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);bm(" AG Grid ",v);const N=T.useCallback(q=>{if(v.current=q,y.current=q?e.createBean(new Yse):e.destroyBean(y.current),!q||e.isDestroyed())return;const te=y.current;M.current=te.focusInnerElement.bind(te);const re={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:X=>{var ne,Z;if(!X&&((ne=A.current)!=null&&ne.isDisplayed())){A.current.forceFocusOutOfContainer(X);return}(Z=w.current)==null||Z.forceFocusOutOfContainer(X)},updateLayoutClasses:s,getFocusableContainers:()=>{var Z;const X=[],ne=(Z=v.current)==null?void 0:Z.querySelector(".ag-root");return ne&&X.push({getGui:()=>ne}),k.current.forEach(Se=>{Se.isDisplayed()&&X.push(Se)}),X},setCursor:o,setUserSelect:l};te.setComp(re,q,q),d(!0)},[]);T.useEffect(()=>{const q=y.current,te=v.current;if(!f||!P||!q||!S||!te)return;const re=[],{watermarkSelector:X,paginationSelector:ne,sideBarSelector:Z,statusBarSelector:Se,gridHeaderDropZonesSelector:U}=q.getOptionalSelectors(),ie=[];if(U){const J=e.createBean(new U.component),he=J.getGui();te.insertAdjacentElement("afterbegin",he),ie.push(he),re.push(J)}if(Z){const J=e.createBean(new Z.component),he=J.getGui(),Ee=S.querySelector(".ag-tab-guard-bottom");Ee&&(Ee.insertAdjacentElement("beforebegin",he),ie.push(he)),re.push(J),k.current.push(J)}const ve=J=>{const he=e.createBean(new J),Ee=he.getGui();return te.insertAdjacentElement("beforeend",Ee),ie.push(Ee),re.push(he),he};if(Se&&ve(Se.component),ne){const J=ve(ne.component);A.current=J,k.current.push(J)}return X&&ve(X.component),()=>{e.destroyBeans(re),ie.forEach(J=>{var he;(he=J.parentElement)==null||he.removeChild(J)})}},[f,S,P]);const B=T.useMemo(()=>al("ag-root-wrapper",t,i),[t,i]),z=T.useMemo(()=>al("ag-root-wrapper-body","ag-focus-managed",i),[i]),W=T.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:r??""}),[a,r]),Y=T.useCallback(q=>{w.current=q,g(q!==null)},[]),K=T.useCallback(()=>{var q;return!((q=y.current)!=null&&q.isFocusable())},[]);return ue.createElement("div",{ref:N,className:B,style:W,role:"presentation"},ue.createElement("div",{className:z,ref:x,role:"presentation"},c&&S&&P&&ue.createElement(lo.Provider,{value:P},ue.createElement(EFe,{ref:Y,eFocusableElement:S,onTabKeyDown:I,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:K},ue.createElement(AFe,null)))))},kFe=T.memo(IFe),LFe=class extends Te{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},PZ={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},PFe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...PZ},OZ=new Set(Object.keys(PFe)),OFe=new Set(Object.keys(PZ)),NZ=e=>{var S;const t=T.useRef(),n=T.useRef(null),i=T.useRef(null),s=T.useRef([]),r=T.useRef([]),o=T.useRef(e),a=T.useRef(),l=T.useRef(),c=T.useRef(!1),[d,f]=T.useState(void 0),[,g]=T.useState(0),y=T.useCallback(x=>{if(n.current=x,!x){s.current.forEach(Y=>Y()),s.current.length=0;return}const M=e.modules||[];i.current||(i.current=new JNe(()=>g(Y=>Y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var Y;(Y=i.current)==null||Y.destroy(),i.current=null}));const A=Gee(e.gridOptions,e,Object.keys(e).filter(Y=>!OZ.has(Y))),k=()=>{if(c.current){const Y=()=>{var q;return(q=a.current)!=null&&q.shouldQueueUpdates()?void 0:r.current.shift()};let K=Y();for(;K;)K(),K=Y()}},I=new BFe(k);a.current=I;const P=new LFe,N={providedBeanInstances:{frameworkCompWrapper:new FFe(i.current,A.reactiveCustomComponents??Gce("reactiveCustomComponents")??!0),renderStatus:P},modules:M,frameworkOverrides:I,setThemeOnGridDiv:!0},B=Y=>{f(Y),Y.createBean(P),s.current.push(()=>{Y.destroy()}),Y.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{s.current.push(K)}},()=>{var q;if(Y.isDestroyed())return;const K=t.current;K&&((q=e.passGridApi)==null||q.call(e,K))})},z=Y=>{Y.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{s.current.push(K)}},()=>{r.current.forEach(K=>K()),r.current.length=0,c.current=!0})},W=new Hce;A.gridId??(A.gridId=l.current),t.current=W.create(x,A,B,z,N),s.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),v=T.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=T.useCallback(x=>{var M;c.current&&!((M=a.current)!=null&&M.shouldQueueUpdates())?x():r.current.push(x)},[]);return T.useEffect(()=>{const x=NFe(o.current,e);o.current=e,w(()=>{t.current&&zee(x,t.current)})},[e]),ue.createElement("div",{style:v,className:e.className,ref:y},d&&!d.isDestroyed()?ue.createElement(kFe,{context:d}):null,((S=i.current)==null?void 0:S.getPortals())??null)};function NFe(e,t){const n={};return Object.keys(t).forEach(i=>{if(OZ.has(i)){OFe.has(i)&&Ue(274,{prop:i});return}const s=t[i];e[i]!==s&&(n[i]=s)}),n}var FFe=class extends Uce{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(r=>{switch(r){case"filter":return jNe;case"floatingFilterComponent":return UNe;case"dateComponent":return HNe;case"dragAndDropImageComponent":return VNe;case"loadingOverlayComponent":return YNe;case"noRowsOverlayComponent":return qNe;case"statusPanel":return ZNe;case"toolPanel":return XNe;case"menuItem":return KNe;case"cellRenderer":return zNe;case"innerHeaderComponent":return $Ne}})(t.name);if(s)return new s(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":rz();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new kZ(e,this.parent,t,n)}},_Fe=T.forwardRef((e,t)=>{const n=T.useContext(lo),{registry:i,context:s,gos:r,rowModel:o}=n,[a,l]=T.useState(()=>new gl),[c,d]=T.useState(()=>new gl),[f,g]=T.useState(),[y,v]=T.useState(),w=T.useRef(),S=T.useRef(null),x=T.useRef(),M=T.useMemo(()=>une(e.api.getGridId(),(f==null?void 0:f.rowModelType)??"clientSide"),[e]),A=T.useMemo(()=>a.toString()+" ag-details-row",[a]),k=T.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&T.useImperativeHandle(t,()=>({refresh(){var N;return((N=w.current)==null?void 0:N.refresh())??!1}})),e.template&&Ue(230);const I=T.useCallback(N=>{var W;if(S.current=N,!N){w.current=s.destroyBean(w.current),(W=x.current)==null||W.call(x);return}const B={toggleCss:(Y,K)=>l(q=>q.setClass(Y,K)),toggleDetailGridCss:(Y,K)=>d(q=>q.setClass(Y,K)),setDetailGrid:Y=>g(Y),setRowData:Y=>v(Y),getGui:()=>S.current},z=i.createDynamicBean("detailCellRendererCtrl",!0);if(z&&(s.createBean(z),z.init(B,e),w.current=z,r.get("detailRowAutoHeight"))){const Y=()=>{if(S.current==null)return;const K=S.current.clientHeight;K!=null&&K>0&&setTimeout(()=>{e.node.setRowHeight(K),(ir(r)||xy(r))&&o.onRowHeightChanged()},0)};x.current=yh(n,N,Y),Y()}},[]),P=T.useCallback(N=>{var B;(B=w.current)==null||B.registerDetailWithMaster(N)},[]);return ue.createElement("div",{className:A,ref:I},f&&ue.createElement(NZ,{className:k,...f,modules:M,rowData:y,passGridApi:P}))}),BFe=class extends N3{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:m4,agGroupRowRenderer:m4,agDetailCellRenderer:_Fe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?FNe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return NNe()}},eA=class extends T.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ue.createElement(NZ,{...this.props,passGridApi:this.setGridApi})}};function GFe(e){const{setMethods:t}=T.useContext(oL);t(e)}function zFe(e){return GFe(e)}function oz(e){return t=>{const n=t.value,i=e[n];return typeof i=="object"&&i.className&&i.text?_.jsx("span",{className:`badge ${i.className}`,children:i.text}):_.jsx("span",{className:`badge ${i||""}`,children:n})}}function az(){return e=>{const t=e.value;return t?_.jsx("span",{className:"border-border/50 bg-background text-contrast rounded-sm border p-[6px] text-xs",children:t}):_.jsx(_.Fragment,{})}}function Nn(e,t,n={}){return{field:e,headerName:t,type:"numericColumn",valueFormatter:i=>i.value==null?"":i.value.toLocaleString(),...n}}function z0(e){return e.value<0?{color:"red"}:null}const HFe={buy:{className:"badge-blue",text:"직매입"},partner:{className:"badge-orange",text:"위탁매입"}},FZ={전기이월:"badge-blue",반품:"badge-red",매입:"badge-dark",결제:"badge-green"},VFe=[{key:"buy",label:"직매입"},{key:"partner",label:"위탁매입"}],_Z=[{key:"전기이월",label:"전기이월"},{key:"반품",label:"반품"},{key:"매입",label:"매입"},{key:"결제",label:"결제"}],lz=[{key:"월 결제",label:"월 결제"},{key:"15일 결제",label:"15일 결제"},{key:"주 결제",label:"주 결제"},{key:"선금 지급",label:"선금 지급"},{key:"말일 결제",label:"말일 결제"},{key:"매입시 지급",label:"매입시 지급"}];var aL="Checkbox",[jFe,Y_e]=Bg(aL),[WFe,cz]=jFe(aL);function UFe(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:s,disabled:r,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=e,[g,y]=nw({prop:n,defaultProp:s??!1,onChange:l,caller:aL}),[v,w]=T.useState(null),[S,x]=T.useState(null),M=T.useRef(!1),A=v?!!o||!!v.closest("form"):!0,k={checked:g,disabled:r,setChecked:y,control:v,setControl:w,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:M,required:c,defaultChecked:gg(s)?!1:s,isFormControl:A,bubbleInput:S,setBubbleInput:x};return _.jsx(WFe,{scope:t,...k,children:$Fe(f)?f(k):i})}var BZ="CheckboxTrigger",GZ=T.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},s)=>{const{control:r,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:v}=cz(BZ,e),w=ui(s,d),S=T.useRef(l);return T.useEffect(()=>{const x=r==null?void 0:r.form;if(x){const M=()=>f(S.current);return x.addEventListener("reset",M),()=>x.removeEventListener("reset",M)}},[r,f]),_.jsx(Bn.button,{type:"button",role:"checkbox","aria-checked":gg(l)?"mixed":l,"aria-required":c,"data-state":UZ(l),"data-disabled":a?"":void 0,disabled:a,value:o,...i,ref:w,onKeyDown:on(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:on(n,x=>{f(M=>gg(M)?!0:!M),v&&y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})})});GZ.displayName=BZ;var zZ=T.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:s,defaultChecked:r,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...f}=e;return _.jsx(UFe,{__scopeCheckbox:n,checked:s,defaultChecked:r,disabled:a,required:o,onCheckedChange:c,name:i,form:d,value:l,internal_do_not_use_render:({isFormControl:g})=>_.jsxs(_.Fragment,{children:[_.jsx(GZ,{...f,ref:t,__scopeCheckbox:n}),g&&_.jsx(WZ,{__scopeCheckbox:n})]})})});zZ.displayName=aL;var HZ="CheckboxIndicator",VZ=T.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...s}=e,r=cz(HZ,n);return _.jsx(Ih,{present:i||gg(r.checked)||r.checked===!0,children:_.jsx(Bn.span,{"data-state":UZ(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});VZ.displayName=HZ;var jZ="CheckboxBubbleInput",WZ=T.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:r,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:f,bubbleInput:g,setBubbleInput:y}=cz(jZ,e),v=ui(n,y),w=g7(r),S=Bq(i);T.useEffect(()=>{const M=g;if(!M)return;const A=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(A,"checked").set,P=!s.current;if(w!==r&&I){const N=new Event("click",{bubbles:P});M.indeterminate=gg(r),I.call(M,gg(r)?!1:r),M.dispatchEvent(N)}},[g,w,r,s]);const x=T.useRef(gg(r)?!1:r);return _.jsx(Bn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:c,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WZ.displayName=jZ;function $Fe(e){return typeof e=="function"}function gg(e){return e==="indeterminate"}function UZ(e){return gg(e)?"indeterminate":e?"checked":"unchecked"}function YFe({className:e,...t}){return _.jsx(zZ,{"data-slot":"checkbox",className:bt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:_.jsx(VZ,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-white transition-none",children:_.jsx(U9,{className:"size-3.5"})})})}const KFe=(e,t,n)=>T.useMemo(()=>{if(n)return n;const i=[],s=new Set;return e.forEachNode(r=>{const o=t(r),a=String(o);o!=null&&o!==""&&!s.has(a)&&(s.add(a),i.push({key:a,label:a}))}),i.sort((r,o)=>r.label.localeCompare(o.label))},[e,t,n]),qFe=e=>{const[t,n]=T.useState([]),[i,s]=T.useState(""),r=T.useCallback(()=>{e==="radio"?s(""):n([])},[e]);return{selectedData:t,selectedRadioValue:i,setSelectedData:n,setSelectedRadioValue:s,resetState:r}},Dg=({api:e,type:t,structure:n,onModelChange:i,getValue:s})=>{const r=KFe(e,s,n),{selectedData:o,selectedRadioValue:a,setSelectedData:l,resetState:c}=qFe(t),d=T.useCallback(w=>{const S=String(s(w.node));return t==="radio"?!a||S===a:o.length===0||o.length===r.length||o.includes(S)},[t,a,o,r.length,s]);zFe({doesFilterPass:d});const f=T.useCallback(w=>{const S=w.length>0?{filterType:"set",values:w}:null;i(S)},[i]),g=T.useCallback((w,S)=>{const x=S?[...o,w]:o.filter(M=>M!==w);l(x),f(x)},[o,l,f]),y=T.useCallback(()=>{c(),f([])},[c,f]),v=T.useMemo(()=>r.map(w=>_.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-1 hover:bg-gray-50",children:[_.jsx(YFe,{checked:o.includes(w.key),onCheckedChange:S=>g(w.key,S),className:"h-4 w-4"}),_.jsx("span",{className:"text-xs text-gray-900",children:w.label})]},w.key)),[t,r,o,g]);return _.jsxs("div",{className:"min-w-[200px] overflow-y-auto bg-white p-2",children:[_.jsx("div",{className:"max-h-[200px] space-y-2 overflow-auto",children:v}),_.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:_.jsx("div",{className:"flex justify-end",children:_.jsx(Oa,{onClick:y,className:"h-[30px] rounded bg-gray-500 text-xs text-white hover:bg-gray-600",children:"초기화"})})})]})};Dg.displayName="SelectFilter";const ZFe=oz(HFe),XFe=az(),QFe=[{headerName:"ID",field:"company_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",pinned:"left",sortable:!0,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0},cellStyle:{cursor:"pointer"}},{field:"type",headerName:"매입 유형",filter:Dg,filterParams:{type:"checkbox",structure:VFe},cellRenderer:ZFe,cellStyle:{textAlign:"center"}},{field:"payment_period",headerName:"결제주기",filter:Dg,filterParams:{type:"checkbox",structure:lz},cellRenderer:XFe,cellStyle:{textAlign:"center"}},{headerName:"사업자번호",field:"b_no"},Nn("previous_balance","전기이월액",{sortable:!0}),Nn("sales_amount","매출액",{sortable:!0,headerClass:"ag-header-2 centered"}),{headerName:"매입정보",headerClass:"ag-header-3 centered",children:[Nn("tax_purchase","매입 과세액",{columnGroupShow:"open"}),Nn("tax_free_purchase","매입 면세액",{columnGroupShow:"open"}),Nn("purchase_amount","매입액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}})]},{headerName:"정산정보",headerClass:"ag-header-4 centered",children:[Nn("commission_rate","정산 수수료(%)",{columnGroupShow:"open",cellStyle:{textAlign:"right"}}),Nn("app_fee","앱 수수료",{columnGroupShow:"open"}),Nn("other_fee","기타 수수료",{columnGroupShow:"open"}),Nn("expected_settlement","정산 예정액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}})]},{headerName:"결제정보",headerClass:"ag-header-5 centered",children:[Nn("discount_amount","결제 차감액[할인]"),Nn("payment_amount","결제 완료액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Nn("invoice_total","계산서발행 총액",{sortable:!0})]},Nn("balance","잔액",{minWidth:180,pinned:"right",sortable:!0,headerStyle:{backgroundColor:"rgb(255 252 151)",color:"red"},cellStyle:{backgroundColor:"rgb(253 255 217)",color:"red",fontWeight:"bold"}}),{headerName:"최종 매입일",field:"last_purchase_date",sortable:!0,cellStyle:{textAlign:"right"}},{headerName:"최종 지급일",field:"last_payment_date",sortable:!0,cellStyle:{textAlign:"right"}},Nn("total_product_inventory_value","상품재고액(전일자 기준)",{sortable:!0}),{headerName:"전자 세금계산서",field:"tax_invoice_email"},{headerName:"비고",field:"memo"}],JFe={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:QFe,rowModelType:"infinite",cacheBlockSize:100,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}},e2e=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Failed to load column state from localStorage:",t),null}},t2e=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save column state to localStorage:",n)}},n2e=e=>e.getColumnState(),i2e=(e,t)=>{e.applyColumnState({state:t,applyOrder:!0})},s2e=(e,t)=>()=>{const n=n2e(t);t2e(e,n)},uz=(e,t)=>{const n=e2e(e);n&&i2e(t,n);const i=s2e(e,t);t.addEventListener("columnMoved",i),t.addEventListener("columnPinned",i),t.addEventListener("columnVisible",i),t.addEventListener("sortChanged",i)},r2e=e=>{try{localStorage.removeItem(e)}catch(t){console.error("Failed to reset column state:",t)}},$w={INTEGRATED_SETTLEMENT:"grid-column-state-integrated-settlement",DIRECT_SETTLEMENT:"grid-column-state-direct-settlement",CONSIGNMENT_SETTLEMENT:"grid-column-state-consignment-settlement"},o2e=()=>{const e=A2(),t=$w.INTEGRATED_SETTLEMENT,n=T.useRef(null),i=new Date,[s,r]=T.useState({from:$d(i),to:i}),[o,a]=T.useState(null),l=T.useCallback(()=>({getRows:async f=>{if(!s.from||!s.to){f.failCallback();return}try{const g=Math.floor(f.startRow/100)+1,v=await Lo({method:"get",endpoint:"/integrate/integrate_companies/",params:{start_date:io(s.from,"yyyy-MM-dd"),end_date:io(s.to,"yyyy-MM-dd"),filter:JSON.stringify(f.filterModel),sort:JSON.stringify(f.sortModel),page:g,size:100}}),w=(v==null?void 0:v.items)||[],S=(v==null?void 0:v.total)||0;f.successCallback(w,S)}catch(g){console.error("Failed to fetch data:",g),a(g.error),f.failCallback()}}}),[s.from,s.to]),c=f=>{var g;if(((g=f.colDef)==null?void 0:g.field)==="b_nm"){const y=f.data,v={id:y.company_id,name:y.b_nm,dateRange:s};y.type==="buy"?e("/direct",{state:v}):y.type==="partner"&&e("/consignment",{state:v})}},d=T.useCallback(f=>{if(uz(t,f.api),s.from&&s.to){const g=l();f.api.setGridOption("datasource",g)}},[s.from,s.to,l,t]);return T.useEffect(()=>{var f;if(a(null),(f=n.current)!=null&&f.api&&s.from&&s.to){const g=l();n.current.api.setGridOption("datasource",g)}},[s.from,s.to,l]),{gridRef:n,dateRange:s,handleCellClick:c,setDateRange:r,onGridReady:d,error:o}},dz=({storageKey:e,gridApi:t,onReset:n})=>{const i=()=>{r2e(e),t?(t.resetColumnState(),t.autoSizeAllColumns()):window.location.reload(),n==null||n()};return _.jsx(Oa,{onClick:i,variant:"outline",className:"px-3 py-1 text-xs",children:"컬럼 설정 초기화"})};function hz({className:e=""}){const t=A2(),n=Yu(),i=[{label:"통합매입사 대시보드",path:"/integrated"},{label:"위탁매입사 대시보드",path:"/consignment"},{label:"직매입사 대시보드",path:"/direct"}];return _.jsx("div",{className:`flex items-center gap-6 border-b border-gray-300 bg-transparent ${e}`,children:i.map(s=>{const r=n.pathname.startsWith(s.path);return _.jsx("span",{className:`relative py-2 text-sm font-medium cursor-pointer transition-colors duration-200
              ${r?"text-primary border-b-2 border-primary":"text-gray-400 border-b-2 border-transparent hover:text-primary"}
            `,onClick:()=>t(s.path),children:s.label},s.path)})})}function w4(){var o;const{gridRef:e,dateRange:t,handleCellClick:n,setDateRange:i,onGridReady:s,error:r}=o2e();return _.jsxs("div",{className:"flex w-full flex-col gap-6",children:[_.jsx(hz,{}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),_.jsx(Yk,{date:t,onDateSelect:({from:a,to:l})=>i({from:a,to:l}),contentAlign:"start",maxDateType:"today"})]}),_.jsx(dz,{storageKey:$w.INTEGRATED_SETTLEMENT,gridApi:(o=e.current)==null?void 0:o.api})]}),_.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),_.jsxs("div",{className:"relative h-[600px] w-full",children:[_.jsx(eA,{ref:e,gridOptions:JFe,onGridReady:s,onCellClicked:n}),r&&_.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:_.jsx("div",{className:"bg-foreground border-foreground rounded-lg border p-6 text-center shadow-lg",children:_.jsx("p",{className:"text-contrast text-sm font-medium",children:r})})})]})]})}const S4=e=>{let t;const n=new Set,i=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const g=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(y=>y(t,g))}},s=()=>t,a={setState:i,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(i,s,a);return a},a2e=e=>e?S4(e):S4,l2e=e=>e;function c2e(e,t=l2e){const n=ue.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return ue.useDebugValue(n),n}const x4=e=>{const t=a2e(e),n=i=>c2e(t,i);return Object.assign(n,t),n},fz=e=>e?x4(e):x4,lL=fz(e=>({message:null,isOpen:!1,setAlertMessage:t=>e({isOpen:!0,message:t}),closeAlert:()=>e({isOpen:!1,message:null})})),$Z=fz(e=>({isLoading:!1,message:"처리 중...",setLoading:(t,n="처리 중...")=>e({isLoading:t,message:n})}));function SC({requestFn:e,onSuccess:t,onError:n,onFetching:i,onSettled:s,showSpinner:r=!1,spinnerMessage:o="처리 중..."}){const{setAlertMessage:a}=lL(),{setLoading:l}=$Z(),[c,d]=T.useState();return{response:c,request:async g=>{r&&l(!0,o),i==null||i();try{const y=await e(g);d(y),(t||y)&&(t==null||t(y))}catch(y){if(n)n==null||n(y);else return y instanceof f_&&typeof y.error=="string"?a(y.error):a(String(y))}finally{r&&l(!1),s==null||s()}}}}const YZ=fz(e=>({title:"알림",message:"",isOpen:!1,onConfirm:null,onCancel:null,showConfirm:({title:t="알림",message:n,onConfirm:i,onCancel:s})=>e({isOpen:!0,title:t,message:n,onConfirm:i,onCancel:s}),closeConfirm:()=>e({isOpen:!1,title:"알림",message:"",onConfirm:null,onCancel:null})})),KZ=()=>{const{showConfirm:e}=YZ();return n=>new Promise(i=>{e({title:n.title,message:n.message,onConfirm:()=>i(!0),onCancel:()=>i(!1)})})},M4=50,D4={PAYMENT_CREATED:"결제 정보가 입력되었습니다.",DELETE_CONFIRM:"결제데이터를 삭제하시겠습니까?"},u2e=()=>{var A,k,I;const e=Yu(),t=KZ(),{setAlertMessage:n}=lL(),i=$w.DIRECT_SETTLEMENT,s=T.useRef(null),r=new Date,[o,a]=T.useState(((A=e.state)==null?void 0:A.dateRange)||{from:$d(r),to:r}),[l,c]=T.useState({id:((k=e.state)==null?void 0:k.id)||"",name:((I=e.state)==null?void 0:I.name)||""}),d=T.useRef(o);T.useEffect(()=>{d.current=o},[o]);const f=HC({queryKey:["buy_companies",l.id],queryFn:()=>Lo({method:"get",endpoint:`/purchase/buy_companies/${l.id}/`}),enabled:!!l.id}),g=T.useCallback(()=>({getRows:async P=>{const{from:N,to:B}=d.current;if(!l.id||!N||!B){P.failCallback();return}try{const z=Math.floor(P.startRow/M4)+1,W=io(N,"yyyy-MM-dd"),Y=io(B,"yyyy-MM-dd"),K=await Lo({method:"get",endpoint:`/purchase/buy_companies/${l.id}/details/`,params:{start_date:W,end_date:Y,filter:JSON.stringify(P.filterModel),page:z,size:M4}}),q=(K==null?void 0:K.items)||[],te=(K==null?void 0:K.total)||0;P.successCallback(q,te)}catch(z){console.error("Failed to fetch data:",z),P.failCallback()}}}),[l.id]),y=T.useCallback(()=>{var P;if((P=s.current)!=null&&P.api&&l.id&&o.from&&o.to){const N=g();s.current.api.setGridOption("datasource",N)}},[g,l.id,o.from,o.to]),{request:v}=SC({requestFn:async P=>await Lo({method:"post",endpoint:`/purchase/buy_companies/${l.id}/payment/`,body:{payment_date:io(P.processDate,"yyyy-MM-dd"),payment_amount:Number(P.amount),payment_note:P.notes}}),onSuccess:()=>{y(),n(D4.PAYMENT_CREATED)}}),{request:w}=SC({requestFn:async P=>await Lo({method:"patch",endpoint:`/purchase/buy_companies/${l.id}/payment/`,body:{detail_id:String(P.id),payment_amount:Number(P.amount),payment_note:P.notes}}),onSuccess:()=>{y()},showSpinner:!0,spinnerMessage:"결제 정보 수정 중"}),{request:S}=SC({requestFn:async P=>await Lo({method:"delete",endpoint:`/purchase/buy_companies/${l.id}/payment/`,params:{detail_id:P.detail_id}}),onSuccess:()=>{y()},showSpinner:!0,spinnerMessage:"결제 정보 삭제 중"}),x=async P=>{await t({message:D4.DELETE_CONFIRM})&&await S(P)},M=T.useCallback(P=>{if(uz(i,P.api),l.id&&o.from&&o.to){const N=g();P.api.setGridOption("datasource",N)}},[l.id,o.from,o.to,i]);return T.useEffect(()=>{y()},[y]),{gridRef:s,dateRange:o,selectedBuyer:l,buyerInfo:f.data,isBuyerInfoLoading:f.isLoading,setDateRange:a,setSelectedBuyer:c,handlePaymentSubmit:v,handleEdit:w,handleDelete:x,onGridReady:M}};function x2({className:e,type:t,...n}){return _.jsx("input",{type:t,"data-slot":"input",className:bt("bg-input-background border border-input-border text-contrast placeholder:text-placeholder","file:text-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-input-disabled md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[1px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var cL="Dialog",[qZ,ZZ]=Bg(cL),[d2e,Ec]=qZ(cL),XZ=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:r,modal:o=!0}=e,a=T.useRef(null),l=T.useRef(null),[c,d]=nw({prop:i,defaultProp:s??!1,onChange:r,caller:cL});return _.jsx(d2e,{scope:t,triggerRef:a,contentRef:l,contentId:fg(),titleId:fg(),descriptionId:fg(),open:c,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};XZ.displayName=cL;var QZ="DialogTrigger",JZ=T.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ec(QZ,n),r=ui(t,s.triggerRef);return _.jsx(Bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mz(s.open),...i,ref:r,onClick:on(e.onClick,s.onOpenToggle)})});JZ.displayName=QZ;var gz="DialogPortal",[h2e,eX]=qZ(gz,{forceMount:void 0}),tX=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,r=Ec(gz,t);return _.jsx(h2e,{scope:t,forceMount:n,children:T.Children.map(i,o=>_.jsx(Ih,{present:n||r.open,children:_.jsx(KD,{asChild:!0,container:s,children:o})}))})};tX.displayName=gz;var d1="DialogOverlay",nX=T.forwardRef((e,t)=>{const n=eX(d1,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,r=Ec(d1,e.__scopeDialog);return r.modal?_.jsx(Ih,{present:i||r.open,children:_.jsx(g2e,{...s,ref:t})}):null});nX.displayName=d1;var f2e=uy("DialogOverlay.RemoveScroll"),g2e=T.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ec(d1,n);return _.jsx(Uk,{as:f2e,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(Bn.div,{"data-state":mz(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),vy="DialogContent",iX=T.forwardRef((e,t)=>{const n=eX(vy,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,r=Ec(vy,e.__scopeDialog);return _.jsx(Ih,{present:i||r.open,children:r.modal?_.jsx(p2e,{...s,ref:t}):_.jsx(m2e,{...s,ref:t})})});iX.displayName=vy;var p2e=T.forwardRef((e,t)=>{const n=Ec(vy,e.__scopeDialog),i=T.useRef(null),s=ui(t,n.contentRef,i);return T.useEffect(()=>{const r=i.current;if(r)return YG(r)},[]),_.jsx(sX,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:on(e.onCloseAutoFocus,r=>{var o;r.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:on(e.onPointerDownOutside,r=>{const o=r.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&r.preventDefault()}),onFocusOutside:on(e.onFocusOutside,r=>r.preventDefault())})}),m2e=T.forwardRef((e,t)=>{const n=Ec(vy,e.__scopeDialog),i=T.useRef(!1),s=T.useRef(!1);return _.jsx(sX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,r),r.defaultPrevented||(i.current||(a=n.triggerRef.current)==null||a.focus(),r.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:r=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=r.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&s.current&&r.preventDefault()}})}),sX=T.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:r,...o}=e,a=Ec(vy,n),l=T.useRef(null),c=ui(t,l);return OG(),_.jsxs(_.Fragment,{children:[_.jsx(Gk,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:r,children:_.jsx($D,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mz(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(v2e,{titleId:a.titleId}),_.jsx(C2e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pz="DialogTitle",rX=T.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ec(pz,n);return _.jsx(Bn.h2,{id:s.titleId,...i,ref:t})});rX.displayName=pz;var oX="DialogDescription",aX=T.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ec(oX,n);return _.jsx(Bn.p,{id:s.descriptionId,...i,ref:t})});aX.displayName=oX;var lX="DialogClose",cX=T.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Ec(lX,n);return _.jsx(Bn.button,{type:"button",...i,ref:t,onClick:on(e.onClick,()=>s.onOpenChange(!1))})});cX.displayName=lX;function mz(e){return e?"open":"closed"}var uX="DialogTitleWarning",[y2e,dX]=$Ee(uX,{contentName:vy,titleName:pz,docsSlug:"dialog"}),v2e=({titleId:e})=>{const t=dX(uX),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},b2e="DialogDescriptionWarning",C2e=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dX(b2e).contentName}}.`;return T.useEffect(()=>{var r;const s=(r=e.current)==null?void 0:r.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},hX=XZ,fX=JZ,gX=tX,pX=nX,mX=iX,yX=rX,w2e=aX,yz=cX;function vz({...e}){return _.jsx(hX,{"data-slot":"dialog",...e})}function S2e({...e}){return _.jsx(fX,{"data-slot":"dialog-trigger",...e})}function x2e({...e}){return _.jsx(gX,{"data-slot":"dialog-portal",...e})}function M2e({className:e,...t}){return _.jsx(pX,{"data-slot":"dialog-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 ",e),...t})}function bz({className:e,children:t,showCloseButton:n=!0,...i}){return _.jsxs(x2e,{"data-slot":"dialog-portal",children:[_.jsx(M2e,{}),_.jsxs(mX,{"data-slot":"dialog-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[30%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border p-6 duration-200","[box-shadow:0_1px_10px_rgba(0,0,0,0.30),0_10px_15px_rgba(0,0,0,0.22)]",e),...i,children:[t,n&&_.jsxs(yz,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[_.jsx(HAe,{}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Cz({className:e,...t}){return _.jsx("div",{"data-slot":"dialog-header",className:bt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function D2e({className:e,...t}){return _.jsx("div",{"data-slot":"dialog-footer",className:bt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function wz({className:e,...t}){return _.jsx(yX,{"data-slot":"dialog-title",className:bt("text-lg leading-none font-semibold",e),...t})}function vX({placeholder:e="",label:t,value:n="",onSelect:i,valueKey:s="id",displayKey:r="name",className:o="",disabled:a=!1,endpoint:l,columnDefs:c}){var w;const[d,f]=T.useState(!1),g=HC({queryKey:["dataSelector",l],queryFn:()=>Lo({method:"get",endpoint:l}),enabled:d}),y={defaultColDef:{headerClass:"centered"},columnDefs:c},v=S=>{const{data:x}=S,M=x[s],A=x[r];i(M,A),f(!1)};return _.jsxs("div",{className:`flex gap-2 ${o}`,children:[_.jsx(x2,{type:"text",placeholder:e,value:n,className:"flex-1",readOnly:!0,disabled:a}),_.jsxs(vz,{open:d,onOpenChange:f,children:[_.jsx(S2e,{asChild:!0,children:_.jsxs(Oa,{className:"whitespace-nowrap bg-primary text-white border-primary hover:bg-primary-hover hover:border-primary-hover",disabled:a,children:[_.jsx(BAe,{className:"inline-block"}),"선택"]})}),_.jsxs(bz,{className:"w-[650px] border-border bg-background text-contrast max-h-[80vh]",children:[_.jsx(Cz,{children:_.jsxs(wz,{children:[t," 선택"]})}),_.jsxs("div",{className:"h-96 w-full",children:[_.jsx(eA,{gridOptions:y,rowData:g.data,onRowClicked:v,rowSelection:"single",components:{customFilter:Dg},suppressDragLeaveHidesColumns:!0}),((w=g.data)==null?void 0:w.length)===0&&_.jsx("div",{className:"text-center py-8 text-gray-500",children:"데이터가 없습니다."})]})]})]})]})}function bX({data:e,info:t,groupSize:n=3}){return _.jsx("div",{className:"flex flex-col border-t border-border text-sm text-gray-900",children:tV(e,n).map((i,s)=>_.jsx("div",{className:"flex items-center border-b border-border bg-background text-contrast p-3",children:i.map((r,o)=>{const l=s===tV(e,n).length-1&&i.length===2;let c="w-1/3";return i.length===1?c="w-full":l&&(c=o===0?"w-1/3":"w-2/3"),_.jsxs("div",{className:`flex ${c}`,children:[_.jsx("div",{className:"flex items-center font-semibold w-[135px]",children:r.label}),_.jsx("div",{className:"flex items-center flex-1",children:(t==null?void 0:t[r.value])||"-"})]},o)})},s))})}function A2e({className:e,...t}){return _.jsx("textarea",{"data-slot":"textarea",className:bt("bg-input-background border border-input-border text-contrast placeholder:text-placeholder","flex min-h-[60px] w-full min-w-0 rounded-md px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none resize-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[1px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}function uL({onSubmit:e,title:t="결제 입력",buttonText:n="결제 입력",buttonClassName:i="text-xs text-white bg-primary border-primary hover:bg-primary-hover hover:border-primary-hover",children:s,initialData:r}){var S;const[o,a]=T.useState(!1),l=new Date,c=()=>({id:(r==null?void 0:r.id)||null,processDate:(r==null?void 0:r.processDate)||l,amount:(r==null?void 0:r.amount)||null,notes:(r==null?void 0:r.notes)||""}),[d,f]=T.useState(c()),g=x=>{const{value:M}=x.target,A=M.replace(/[^0-9]/g,"");if(A===""){f({...d,amount:null});return}const k=parseInt(A);f({...d,amount:k})},y=()=>{if(!d.amount){alert("결제금액은 필수 입력 항목입니다.");return}e(d),a(!1),f(c())},v=()=>{a(!1),f(c())},w=()=>{f(c()),a(!0)};return _.jsxs(_.Fragment,{children:[_.jsx(Oa,{className:i,onClick:w,children:s||n}),_.jsx(vz,{open:o,onOpenChange:a,children:_.jsxs(bz,{className:"sm:max-w-[425px] text-contrast",children:[_.jsx(Cz,{children:_.jsx(wz,{children:t})}),_.jsxs("div",{className:"grid gap-4 py-4",children:[_.jsxs("div",{className:"grid gap-2",children:[_.jsx("label",{htmlFor:"processDate",className:"text-sm font-medium",children:"처리일자"}),_.jsx(x2,{id:"processDate",type:"text",value:io(d.processDate,"yyyy-MM-dd"),readOnly:!0,disabled:!0,tabIndex:-1,className:"text-gray-500 cursor-not-allowed"})]}),_.jsxs("div",{className:"grid gap-2",children:[_.jsxs("label",{htmlFor:"amount",className:"text-sm font-medium",children:["결제금액 ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx(x2,{id:"amount",type:"text",placeholder:"결제금액을 입력해주세요",value:((S=d.amount)==null?void 0:S.toLocaleString("ko-KR"))||"",onChange:g})]}),_.jsxs("div",{className:"grid gap-2",children:[_.jsx("label",{htmlFor:"notes",className:"text-sm font-medium",children:"비고"}),_.jsx(A2e,{id:"notes",placeholder:"비고사항을 입력해주세요",value:d.notes,onChange:x=>f({...d,notes:x.target.value}),className:"min-h-[80px]"})]})]}),_.jsxs(D2e,{children:[_.jsx(Oa,{variant:"outline",onClick:v,children:"취소"}),_.jsx(Oa,{className:"bg-primary text-white border-primary hover:bg-primary-hover hover:border-primary-hover",onClick:y,children:"저장"})]})]})})]})}function CX({endpoint:e,companyId:t,detailId:n}){const[i,s]=T.useState(!1),{data:r,isLoading:o,isError:a}=HC({queryKey:["log",e,t,n],queryFn:()=>Lo({method:"get",endpoint:e,params:{company_id:t,detail_id:n}}),enabled:i}),l=()=>{s(!0)},c=()=>{if(!r)return null;const d=Array.isArray(r)?r:r.items||[];if(!d.length)return _.jsx("div",{className:"h-full content-center text-contrast text-center py-8",children:"No logs."});const g={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:[{headerName:"변경일자",field:"status_changed_at",flex:.3},{headerName:"내용",field:"description",flex:1}]};return _.jsx("div",{className:"text-xs h-full w-full",children:_.jsx(eA,{rowData:d,gridOptions:g,suppressDragLeaveHidesColumns:!0})})};return _.jsxs(_.Fragment,{children:[_.jsx(Oa,{className:"w-[32px] h-[30px] bg-gray-200 hover:bg-gray-300",onClick:l,children:_.jsx(NAe,{size:16})}),_.jsx(vz,{open:i,onOpenChange:s,children:_.jsxs(bz,{className:"sm:max-w-[1000px] text-contrast",children:[_.jsx(Cz,{children:_.jsxs(wz,{children:["[",n,"] Logs"]})}),_.jsxs("div",{className:"py-4 min-h-[400px]",children:[o&&_.jsx("div",{className:"text-center",children:"Loading"}),a&&_.jsx("div",{className:"text-center",children:"Failed to load data."}),!o&&!a&&c()]})]})})]})}const R2e=az(),T2e=[{headerName:"ID",field:"buy_company_id",flex:.3,cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",headerClass:"",flex:1,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0}},{field:"payment_period",flex:.5,headerName:"결제주기",sortable:!1,filter:Dg,filterParams:{type:"checkbox",structure:lz},floatingFilter:!1,cellRenderer:R2e,cellStyle:{textAlign:"center"}}],E2e=oz(FZ),I2e=(e,t,n)=>i=>{var o,a,l,c,d;if(!(((o=i.data)==null?void 0:o.type)==="결제"))return null;const r=()=>t(i.data);return ue.createElement("div",{className:"flex gap-2 items-center justify-center h-full"},[ue.createElement(uL,{key:"edit",title:"결제 수정",buttonClassName:"w-[32px] h-[30px] bg-blue-500 text-white hover:bg-blue-300",onSubmit:e,initialData:{id:i.data.detail_id,processDate:(a=i.data)!=null&&a.process_date?new Date(i.data.process_date):new Date,amount:((l=i.data)==null?void 0:l.payment_amount)||null,notes:(c=i.data)!=null&&c.memo&&((d=i.data.memo.split("|").pop())==null?void 0:d.trim())||""}},ue.createElement(Y9,{size:16})),ue.createElement(Oa,{key:"delete",className:"w-[32px] h-[30px] bg-red-500 text-white hover:bg-red-300",onClick:r},ue.createElement(K9,{size:16})),ue.createElement(CX,{key:"log",endpoint:"/log/buy_company_logs/",companyId:n,detailId:i.data.detail_id})])},wX=(e,t,n)=>[{headerName:"ID",field:"detail_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"전표상태",field:"type",pinned:"left",filter:Dg,filterParams:{type:"checkbox",structure:_Z},cellStyle:{textAlign:"center"},cellRenderer:E2e},{headerName:"처리일자",field:"process_date",pinned:"left"},{headerName:"매입정보",headerClass:"ag-header-2 centered",children:[Nn("purchase_tax_amount","매입 과세액",{columnGroupShow:"open",cellStyle:z0}),Nn("purchase_tax_free_amount","매입 면세액",{columnGroupShow:"open",cellStyle:z0}),Nn("purchase_amount","매입액",{cellStyle:i=>{const s={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...s,color:"red"}:s}})]},{headerName:"결제정보",headerClass:"ag-header-3 centered",children:[Nn("discount_amount","결제 차감액[할인]"),Nn("payment_amount","결제 완료액",{cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Nn("invoice_total","계산서발행 총액")]},Nn("balance","잔액",{headerClass:"ag-header-accent ag-right-aligned-header",cellStyle:i=>{const s={backgroundColor:"rgb(253 255 217)"};return i.value<0?{...s,color:"red"}:s}}),{headerName:"비고",field:"memo",flex:1,minWidth:500},{headerName:"관리",field:"event",minWidth:100,cellRenderer:I2e(e,t,n),sortable:!1,filter:!1,pinned:"right",cellStyle:{textAlign:"center",padding:"4px"}}],k2e=wX(()=>console.log("update"),()=>console.log("delete"),""),L2e={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:k2e,rowModelType:"infinite",cacheBlockSize:50,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}},P2e=[{label:"사업자번호",value:"b_no"},{label:"담당자 연락처",value:"phone"},{label:"주소",value:"address"},{label:"은행명",value:"bank_name"},{label:"계좌번호",value:"bank_num"},{label:"예금주",value:"bank_holder"},{label:"결제주기",value:"payment_period"},{label:"관리자 메모",value:"memo"}];function O2e(){var g;const{gridRef:e,dateRange:t,selectedBuyer:n,buyerInfo:i,setDateRange:s,setSelectedBuyer:r,handlePaymentSubmit:o,handleEdit:a,handleDelete:l,onGridReady:c}=u2e(),d=T.useMemo(()=>wX(a,l,n.id),[a,l,n.id]),f=T.useMemo(()=>({...L2e,columnDefs:d}),[d]);return _.jsxs("div",{className:"w-full flex flex-col gap-6",children:[_.jsx(hz,{}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm font-semibold",children:"매입사 :"}),_.jsx(vX,{className:"w-[300px]",placeholder:"매입사를 선택해주세요",label:"직매입사",endpoint:"/purchase/buy_companies/",valueKey:"buy_company_id",displayKey:"b_nm",columnDefs:T2e,value:n.name,onSelect:(y,v)=>r({id:y,name:v})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),_.jsx(Yk,{date:t,onDateSelect:({from:y,to:v})=>s({from:y,to:v}),contentAlign:"end",maxDateType:"today"})]})]}),_.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(dz,{storageKey:$w.DIRECT_SETTLEMENT,gridApi:(g=e.current)==null?void 0:g.api}),_.jsx(uL,{onSubmit:o})]})]}),_.jsx(bX,{data:P2e,info:i}),_.jsx("div",{className:"w-full h-[500px]",children:n!=null&&n.id?_.jsx(eA,{ref:e,gridOptions:f,onGridReady:c}):_.jsx("div",{className:"flex items-center justify-center h-full bg-foreground border border-border rounded-lg",children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-contrast text-lg font-medium",children:"매입사를 선택해주세요"}),_.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"조회할 매입사를 선택해주시기 바랍니다."})]})})})]})}const A4=50,R4={PAYMENT_CREATED:"결제 정보가 입력되었습니다.",DELETE_CONFIRM:"결제데이터를 삭제하시겠습니까?"},N2e=()=>{var A,k,I;const e=Yu(),t=KZ(),{setAlertMessage:n}=lL(),i=$w.CONSIGNMENT_SETTLEMENT,s=T.useRef(null),r=new Date,[o,a]=T.useState(((A=e.state)==null?void 0:A.dateRange)||{from:$d(r),to:r}),[l,c]=T.useState({id:((k=e.state)==null?void 0:k.id)||"",name:((I=e.state)==null?void 0:I.name)||""}),d=T.useRef(o);T.useEffect(()=>{d.current=o},[o]);const f=HC({queryKey:["partner_companies",l.id],queryFn:()=>Lo({method:"get",endpoint:`/partner/partner_companies/${l.id}/`}),enabled:!!l.id}),g=T.useCallback(()=>({getRows:async P=>{const{from:N,to:B}=d.current;if(!l.id||!N||!B){P.failCallback();return}try{const z=Math.floor(P.startRow/A4)+1,W=io(N,"yyyy-MM-dd"),Y=io(B,"yyyy-MM-dd"),K=await Lo({method:"get",endpoint:`/partner/partner_companies/${l.id}/details/`,params:{start_date:W,end_date:Y,filter:JSON.stringify(P.filterModel),page:z,size:A4}}),q=(K==null?void 0:K.items)||[],te=(K==null?void 0:K.total)||0;P.successCallback(q,te)}catch(z){console.error("Failed to fetch data:",z),P.failCallback()}}}),[l.id]),y=T.useCallback(()=>{var P;if((P=s.current)!=null&&P.api&&l.id&&o.from&&o.to){const N=g();s.current.api.setGridOption("datasource",N)}},[g,l.id,o.from,o.to]),{request:v}=SC({requestFn:async P=>await Lo({method:"post",endpoint:`/partner/partner_companies/${l.id}/payment/`,body:{payment_date:io(P.processDate,"yyyy-MM-dd"),payment_amount:Number(P.amount),payment_note:P.notes}}),onSuccess:()=>{y(),n(R4.PAYMENT_CREATED)}}),{request:w}=SC({requestFn:async P=>await Lo({method:"patch",endpoint:`/partner/partner_companies/${l.id}/payment/`,body:{detail_id:String(P.id),payment_amount:Number(P.amount),payment_note:P.notes}}),onSuccess:()=>{y()},showSpinner:!0,spinnerMessage:"결제 정보 수정 중"}),{request:S}=SC({requestFn:async P=>await Lo({method:"delete",endpoint:`/partner/partner_companies/${l.id}/payment/`,params:{detail_id:P.detail_id}}),onSuccess:()=>{y()},showSpinner:!0,spinnerMessage:"결제 정보 삭제 중"}),x=async P=>{await t({message:R4.DELETE_CONFIRM})&&await S(P)},M=T.useCallback(P=>{if(uz(i,P.api),l.id&&o.from&&o.to){const N=g();P.api.setGridOption("datasource",N)}},[l.id,o.from,o.to,i,g]);return T.useEffect(()=>{y()},[y]),{gridRef:s,dateRange:o,selectedPartner:l,partnerInfo:f.data,isPartnerInfoLoading:f.isLoading,setDateRange:a,setSelectedPartner:c,handlePaymentSubmit:v,handleEdit:w,handleDelete:x,onGridReady:M}},F2e=[{label:"사업자번호",value:"b_no"},{label:"담당자 연락처",value:"phone"},{label:"주소",value:"address"},{label:"은행명",value:"bank_name"},{label:"계좌번호",value:"bank_num"},{label:"예금주",value:"bank_holder"},{label:"전자세금계산서",value:"tax_invoice_email"},{label:"관리자 메모",value:"memo"}],_2e=az(),B2e=[{headerName:"ID",field:"partner_company_id",flex:.3,cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",headerClass:"",flex:1,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0}},{field:"payment_period",flex:.5,headerName:"결제주기",sortable:!1,filter:Dg,filterParams:{type:"checkbox",structure:lz},floatingFilter:!1,cellRenderer:_2e,cellStyle:{textAlign:"center"}}],G2e=oz(FZ),z2e=(e,t,n)=>i=>{var o,a,l,c,d;if(!(((o=i.data)==null?void 0:o.type)==="결제"))return null;const r=()=>t(i.data);return ue.createElement("div",{className:"flex gap-2 items-center justify-center h-full"},[ue.createElement(uL,{key:"edit",title:"결제 수정",buttonClassName:"w-[32px] h-[30px] bg-blue-500 text-white hover:bg-blue-300",onSubmit:e,initialData:{id:i.data.detail_id,processDate:(a=i.data)!=null&&a.process_date?new Date(i.data.process_date):new Date,amount:((l=i.data)==null?void 0:l.payment_amount)||null,notes:(c=i.data)!=null&&c.note&&((d=i.data.note.split("|").pop())==null?void 0:d.trim())||""}},ue.createElement(Y9,{size:16})),ue.createElement(Oa,{key:"delete",className:"w-[32px] h-[30px] bg-red-500 text-white hover:bg-red-300",onClick:r},ue.createElement(K9,{size:16})),ue.createElement(CX,{key:"log",endpoint:"/log/partner_company_logs/",companyId:n,detailId:i.data.detail_id})])},SX=(e,t,n)=>[{headerName:"ID",field:"detail_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"전표상태",field:"type",pinned:"left",filter:Dg,filterParams:{type:"checkbox",structure:_Z},cellStyle:{textAlign:"center"},cellRenderer:G2e},{headerName:"처리일자",pinned:"left",field:"process_date"},{headerName:"매출정보",wrapHeaderText:!0,autoHeaderHeight:!0,headerClass:"ag-header-2 centered",children:[Nn("sales_amount","매출액",{cellStyle:z0})]},{headerName:"매입정보",headerClass:"ag-header-3 centered",children:[Nn("tax_purchase","매입 과세액",{columnGroupShow:"open",cellStyle:z0}),Nn("tax_free_purchase","매입 면세액",{columnGroupShow:"open",cellStyle:z0}),Nn("purchase_amount","매입액",{cellStyle:i=>{const s={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...s,color:"red"}:s}})]},{headerName:"정산정보",headerClass:"ag-header-4 centered",children:[Nn("commission_rate","정산 수수료(%)",{columnGroupShow:"open",cellStyle:{textAlign:"right"}}),Nn("app_fee","앱 수수료",{columnGroupShow:"open"}),Nn("other_fee","기타 수수료",{columnGroupShow:"open"}),Nn("expected_settlement","정산 예정액",{cellStyle:i=>{const s={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...s,color:"red"}:s}})]},{headerName:"결제정보",headerClass:"ag-header-5 centered",children:[Nn("discount_amount","결제 차감액[할인]"),Nn("payment_amount","결제 완료액",{cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Nn("invoice_total","계산서발행 총액")]},Nn("balance","잔액",{headerClass:"ag-header-accent ag-right-aligned-header",cellStyle:i=>{const s={backgroundColor:"rgb(253 255 217)"};return i.value<0?{...s,color:"red"}:s}}),{headerName:"비고",field:"note",flex:1,minWidth:400},{headerName:"관리",field:"event",minWidth:100,cellRenderer:z2e(e,t,n),sortable:!1,filter:!1,pinned:"right",cellStyle:{textAlign:"center",padding:"4px"}}],H2e=SX(()=>console.log("기본 수정"),()=>console.log("기본 삭제"),""),V2e={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:H2e,rowModelType:"infinite",cacheBlockSize:50,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}};function j2e(){var g;const{gridRef:e,dateRange:t,selectedPartner:n,partnerInfo:i,setDateRange:s,setSelectedPartner:r,handleEdit:o,handleDelete:a,onGridReady:l,handlePaymentSubmit:c}=N2e(),d=T.useMemo(()=>SX(o,a,n.id),[o,a,n.id]),f=T.useMemo(()=>({...V2e,columnDefs:d}),[d]);return _.jsxs("div",{className:"w-full flex flex-col gap-6",children:[_.jsx(hz,{}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm font-semibold",children:"매입사 :"}),_.jsx(vX,{className:"w-[300px]",placeholder:"매입사를 선택해주세요",label:"위탁매입사",endpoint:"/partner/partner_companies/",valueKey:"partner_company_id",displayKey:"b_nm",columnDefs:B2e,value:n==null?void 0:n.name,onSelect:(y,v)=>r({id:y,name:v})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),_.jsx(Yk,{date:t,onDateSelect:({from:y,to:v})=>s({from:y,to:v}),contentAlign:"end",maxDateType:"today"})]})]}),_.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(dz,{storageKey:$w.CONSIGNMENT_SETTLEMENT,gridApi:(g=e.current)==null?void 0:g.api}),_.jsx(uL,{onSubmit:c})]})]}),_.jsx(bX,{data:F2e,info:i}),_.jsx("div",{className:"w-full h-[500px]",children:n!=null&&n.id?_.jsx(eA,{ref:e,gridOptions:f,onGridReady:l}):_.jsx("div",{className:"flex items-center justify-center h-full bg-foreground border border-border rounded-lg",children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-contrast text-lg font-medium",children:"매입사를 선택해주세요"}),_.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"조회할 매입사를 선택해주시기 바랍니다."})]})})})]})}function W2e(){return _.jsx(pJ,{children:_.jsxs(Bf,{element:_.jsx(fme,{}),children:[_.jsx(Bf,{path:"/",element:_.jsx(w4,{})}),_.jsx(Bf,{path:"/integrated",element:_.jsx(w4,{})}),_.jsx(Bf,{path:"/direct",element:_.jsx(O2e,{})}),_.jsx(Bf,{path:"/consignment",element:_.jsx(j2e,{})}),_.jsx(Bf,{path:"/dashboard/main",element:_.jsx(LNe,{})}),_.jsx(Bf,{path:"/dashboard/sales",element:_.jsx(PNe,{})})]})})}var xX="AlertDialog",[U2e,K_e]=Bg(xX,[ZZ]),kh=ZZ(),MX=e=>{const{__scopeAlertDialog:t,...n}=e,i=kh(t);return _.jsx(hX,{...i,...n,modal:!0})};MX.displayName=xX;var $2e="AlertDialogTrigger",Y2e=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,s=kh(n);return _.jsx(fX,{...s,...i,ref:t})});Y2e.displayName=$2e;var K2e="AlertDialogPortal",DX=e=>{const{__scopeAlertDialog:t,...n}=e,i=kh(t);return _.jsx(gX,{...i,...n})};DX.displayName=K2e;var q2e="AlertDialogOverlay",AX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,s=kh(n);return _.jsx(pX,{...s,...i,ref:t})});AX.displayName=q2e;var xC="AlertDialogContent",[Z2e,X2e]=U2e(xC),Q2e=X9("AlertDialogContent"),RX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:i,...s}=e,r=kh(n),o=T.useRef(null),a=ui(t,o),l=T.useRef(null);return _.jsx(y2e,{contentName:xC,titleName:TX,docsSlug:"alert-dialog",children:_.jsx(Z2e,{scope:n,cancelRef:l,children:_.jsxs(mX,{role:"alertdialog",...r,...s,ref:a,onOpenAutoFocus:on(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[_.jsx(Q2e,{children:i}),_.jsx(e_e,{contentRef:o})]})})})});RX.displayName=xC;var TX="AlertDialogTitle",EX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,s=kh(n);return _.jsx(yX,{...s,...i,ref:t})});EX.displayName=TX;var IX="AlertDialogDescription",kX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,s=kh(n);return _.jsx(w2e,{...s,...i,ref:t})});kX.displayName=IX;var J2e="AlertDialogAction",LX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,s=kh(n);return _.jsx(yz,{...s,...i,ref:t})});LX.displayName=J2e;var PX="AlertDialogCancel",OX=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,{cancelRef:s}=X2e(PX,n),r=kh(n),o=ui(t,s);return _.jsx(yz,{...r,...i,ref:o})});OX.displayName=PX;var e_e=({contentRef:e})=>{const t=`\`${xC}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xC}\` by passing a \`${IX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xC}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var i;document.getElementById((i=e.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},t_e=MX,n_e=DX,i_e=AX,s_e=RX,r_e=LX,o_e=OX,a_e=EX,l_e=kX;function NX({...e}){return _.jsx(t_e,{"data-slot":"alert-dialog",...e})}function c_e({...e}){return _.jsx(n_e,{"data-slot":"alert-dialog-portal",...e})}function u_e({className:e,...t}){return _.jsx(i_e,{"data-slot":"alert-dialog-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50",e),...t})}function FX({className:e,...t}){return _.jsxs(c_e,{children:[_.jsx(u_e,{}),_.jsx(s_e,{"data-slot":"alert-dialog-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[30%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border p-6 shadow-lg duration-200 sm:max-w-lg","[box-shadow:0_1px_10px_rgba(0,0,0,0.30),0_10px_15px_rgba(0,0,0,0.22)]",e),...t})]})}function _X({className:e,...t}){return _.jsx("div",{"data-slot":"alert-dialog-header",className:bt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function BX({className:e,...t}){return _.jsx("div",{"data-slot":"alert-dialog-footer",className:bt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function GX({className:e,...t}){return _.jsx(a_e,{"data-slot":"alert-dialog-title",className:bt("text-lg font-semibold",e),...t})}function zX({className:e,...t}){return _.jsx(l_e,{"data-slot":"alert-dialog-description",className:bt("text-muted-foreground text-sm",e),...t})}function d_e({className:e,...t}){return _.jsx(r_e,{className:bt(IM(),e),...t})}function HX({className:e,...t}){return _.jsx(o_e,{className:bt(IM({variant:"outline"}),e),...t})}function h_e(){const{message:e,isOpen:t,closeAlert:n}=lL();return t?_.jsx(NX,{open:t,onOpenChange:n,children:_.jsxs(FX,{children:[_.jsxs(_X,{children:[_.jsx(GX,{children:"알림"}),_.jsx(zX,{children:e})]}),_.jsx(BX,{children:_.jsx(HX,{children:"닫기"})})]})}):null}function f_e(){const{title:e,message:t,isOpen:n,onConfirm:i,onCancel:s,closeConfirm:r}=YZ();if(!n)return null;const o=()=>{i&&i(),r()},a=()=>{s&&s(),r()};return _.jsx(NX,{open:n,onOpenChange:r,children:_.jsxs(FX,{children:[_.jsxs(_X,{children:[_.jsx(GX,{children:e}),_.jsx(zX,{children:t})]}),_.jsxs(BX,{children:[_.jsx(HX,{onClick:a,children:"취소"}),_.jsx(d_e,{className:"text-white",onClick:o,children:"확인"})]})]})})}function g_e(){const{isLoading:e,message:t}=$Z();return e?_.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center z-50 transition-all duration-300 pt-[30vh]",children:_.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-8 flex flex-col items-center gap-4 shadow-2xl border border-white/20 min-w-[280px] animate-in fade-in-0 zoom-in-95 duration-300 h-fit",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-gray-200"}),_.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 rounded-full border-4 border-transparent border-t-blue-500 border-r-blue-400 animate-spin"}),_.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-blue-500/20 animate-pulse"}),_.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-blue-500 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-ping"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"text-gray-800 font-semibold text-lg block",children:t}),_.jsx("span",{className:"text-gray-500 text-sm mt-1 block",children:"잠시만 기다려주세요..."})]}),_.jsxs("div",{className:"flex gap-1",children:[_.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),_.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),_.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}):null}fne.registerModules([Yge]);function p_e(){const{setTheme:e}=RZ();return T.useEffect(()=>{const t=o5();t&&a5(t)},[]),T.useEffect(()=>{const t=n=>{const{type:i,theme:s}=n.data;i==="THEME_CHANGE"&&e(s)};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}},[e]),_.jsxs(GJ,{children:[_.jsx(g_e,{}),_.jsx(h_e,{}),_.jsx(f_e,{}),_.jsx(W2e,{})]})}function m_e(){const e=new upe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0}},queryCache:new W$({onError:t=>{t instanceof f_&&console.log(t)}})});return _.jsx(ppe,{client:e,children:_.jsx(INe,{defaultTheme:"light",storageKey:"vite-ui-theme",children:_.jsx(p_e,{})})})}wQ.createRoot(document.getElementById("root")).render(_.jsx(T.StrictMode,{children:_.jsx(m_e,{})}));
