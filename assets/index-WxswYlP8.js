var $re=Object.defineProperty;var bU=e=>{throw TypeError(e)};var Yre=(e,t,n)=>t in e?$re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wU=(e,t,n)=>Yre(e,typeof t!="symbol"?t+"":t,n),HP=(e,t,n)=>t.has(e)||bU("Cannot "+n);var ye=(e,t,n)=>(HP(e,t,"read from private field"),n?n.call(e):t.get(e)),Jt=(e,t,n)=>t.has(e)?bU("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xt=(e,t,n,i)=>(HP(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Fn=(e,t,n)=>(HP(e,t,"access private method"),n);var sD=(e,t,n,i)=>({set _(r){xt(e,t,r,n)},get _(){return ye(e,t,i)}});function Kre(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var oD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qre(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var VP={exports:{}},oM={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SU;function Zre(){if(SU)return oM;SU=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:s}}return oM.Fragment=t,oM.jsx=n,oM.jsxs=n,oM}var xU;function Xre(){return xU||(xU=1,VP.exports=Zre()),VP.exports}var B=Xre(),UP={exports:{}},hn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MU;function Qre(){if(MU)return hn;MU=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(q){return q===null||typeof q!="object"?null:(q=d&&q[d]||q["@@iterator"],typeof q=="function"?q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(q,re,K){this.props=q,this.context=re,this.refs=v,this.updater=K||p}y.prototype.isReactComponent={},y.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=y.prototype;function S(q,re,K){this.props=q,this.context=re,this.refs=v,this.updater=K||p}var x=S.prototype=new C;x.constructor=S,m(x,y.prototype),x.isPureReactComponent=!0;var R=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function L(q,re,K,V,G,se){return K=se.ref,{$$typeof:e,type:q,key:re,ref:K!==void 0?K:null,props:se}}function O(q,re){return L(q.type,re,void 0,void 0,void 0,q.props)}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function H(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return re[K]})}var W=/\/+/g;function $(q,re){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):re.toString(36)}function Z(){}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Z,Z):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function oe(q,re,K,V,G){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var Y=!1;if(q===null)Y=!0;else switch(se){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(q.$$typeof){case e:case t:Y=!0;break;case u:return Y=q._init,oe(Y(q._payload),re,K,V,G)}}if(Y)return G=G(q),Y=V===""?"."+$(q,0):V,R(G)?(K="",Y!=null&&(K=Y.replace(W,"$&/")+"/"),oe(G,re,K,"",function(he){return he})):G!=null&&(F(G)&&(G=O(G,K+(G.key==null||q&&q.key===G.key?"":(""+G.key).replace(W,"$&/")+"/")+Y)),re.push(G)),1;Y=0;var ue=V===""?".":V+":";if(R(q))for(var J=0;J<q.length;J++)V=q[J],se=ue+$(V,J),Y+=oe(V,re,K,se,G);else if(J=h(q),typeof J=="function")for(q=J.call(q),J=0;!(V=q.next()).done;)V=V.value,se=ue+$(V,J++),Y+=oe(V,re,K,se,G);else if(se==="object"){if(typeof q.then=="function")return oe(ie(q),re,K,V,G);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Y}function te(q,re,K){if(q==null)return q;var V=[],G=0;return oe(q,V,"","",function(se){return re.call(K,se,G++)}),V}function ae(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var ne=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Se(){}return hn.Children={map:te,forEach:function(q,re,K){te(q,function(){re.apply(this,arguments)},K)},count:function(q){var re=0;return te(q,function(){re++}),re},toArray:function(q){return te(q,function(re){return re})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},hn.Component=y,hn.Fragment=n,hn.Profiler=r,hn.PureComponent=S,hn.StrictMode=i,hn.Suspense=l,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,hn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return A.H.useMemoCache(q)}},hn.cache=function(q){return function(){return q.apply(null,arguments)}},hn.cloneElement=function(q,re,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var V=m({},q.props),G=q.key,se=void 0;if(re!=null)for(Y in re.ref!==void 0&&(se=void 0),re.key!==void 0&&(G=""+re.key),re)!T.call(re,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&re.ref===void 0||(V[Y]=re[Y]);var Y=arguments.length-2;if(Y===1)V.children=K;else if(1<Y){for(var ue=Array(Y),J=0;J<Y;J++)ue[J]=arguments[J+2];V.children=ue}return L(q.type,G,void 0,void 0,se,V)},hn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},hn.createElement=function(q,re,K){var V,G={},se=null;if(re!=null)for(V in re.key!==void 0&&(se=""+re.key),re)T.call(re,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(G[V]=re[V]);var Y=arguments.length-2;if(Y===1)G.children=K;else if(1<Y){for(var ue=Array(Y),J=0;J<Y;J++)ue[J]=arguments[J+2];G.children=ue}if(q&&q.defaultProps)for(V in Y=q.defaultProps,Y)G[V]===void 0&&(G[V]=Y[V]);return L(q,se,void 0,void 0,null,G)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(q){return{$$typeof:a,render:q}},hn.isValidElement=F,hn.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:ae}},hn.memo=function(q,re){return{$$typeof:c,type:q,compare:re===void 0?null:re}},hn.startTransition=function(q){var re=A.T,K={};A.T=K;try{var V=q(),G=A.S;G!==null&&G(K,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Se,ne)}catch(se){ne(se)}finally{A.T=re}},hn.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},hn.use=function(q){return A.H.use(q)},hn.useActionState=function(q,re,K){return A.H.useActionState(q,re,K)},hn.useCallback=function(q,re){return A.H.useCallback(q,re)},hn.useContext=function(q){return A.H.useContext(q)},hn.useDebugValue=function(){},hn.useDeferredValue=function(q,re){return A.H.useDeferredValue(q,re)},hn.useEffect=function(q,re,K){var V=A.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(q,re)},hn.useId=function(){return A.H.useId()},hn.useImperativeHandle=function(q,re,K){return A.H.useImperativeHandle(q,re,K)},hn.useInsertionEffect=function(q,re){return A.H.useInsertionEffect(q,re)},hn.useLayoutEffect=function(q,re){return A.H.useLayoutEffect(q,re)},hn.useMemo=function(q,re){return A.H.useMemo(q,re)},hn.useOptimistic=function(q,re){return A.H.useOptimistic(q,re)},hn.useReducer=function(q,re,K){return A.H.useReducer(q,re,K)},hn.useRef=function(q){return A.H.useRef(q)},hn.useState=function(q){return A.H.useState(q)},hn.useSyncExternalStore=function(q,re,K){return A.H.useSyncExternalStore(q,re,K)},hn.useTransition=function(){return A.H.useTransition()},hn.version="19.1.0",hn}var EU;function qG(){return EU||(EU=1,UP.exports=Qre()),UP.exports}var I=qG();const Ce=bL(I),G8=Kre({__proto__:null,default:Ce},[I]);var WP={exports:{}},aM={},jP={exports:{}},$P={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RU;function Jre(){return RU||(RU=1,function(e){function t(te,ae){var ne=te.length;te.push(ae);e:for(;0<ne;){var Se=ne-1>>>1,q=te[Se];if(0<r(q,ae))te[Se]=ae,te[ne]=q,ne=Se;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ae=te[0],ne=te.pop();if(ne!==ae){te[0]=ne;e:for(var Se=0,q=te.length,re=q>>>1;Se<re;){var K=2*(Se+1)-1,V=te[K],G=K+1,se=te[G];if(0>r(V,ne))G<q&&0>r(se,V)?(te[Se]=se,te[G]=ne,Se=G):(te[Se]=V,te[K]=ne,Se=K);else if(G<q&&0>r(se,ne))te[Se]=se,te[G]=ne,Se=G;else break e}}return ae}function r(te,ae){var ne=te.sortIndex-ae.sortIndex;return ne!==0?ne:te.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,v=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(te){for(var ae=n(c);ae!==null;){if(ae.callback===null)i(c);else if(ae.startTime<=te)i(c),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=n(c)}}function A(te){if(v=!1,R(te),!m)if(n(l)!==null)m=!0,T||(T=!0,$());else{var ae=n(c);ae!==null&&oe(A,ae.startTime-te)}}var T=!1,L=-1,O=5,F=-1;function H(){return y?!0:!(e.unstable_now()-F<O)}function W(){if(y=!1,T){var te=e.unstable_now();F=te;var ae=!0;try{e:{m=!1,v&&(v=!1,S(L),L=-1),p=!0;var ne=h;try{t:{for(R(te),d=n(l);d!==null&&!(d.expirationTime>te&&H());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,h=d.priorityLevel;var q=Se(d.expirationTime<=te);if(te=e.unstable_now(),typeof q=="function"){d.callback=q,R(te),ae=!0;break t}d===n(l)&&i(l),R(te)}else i(l);d=n(l)}if(d!==null)ae=!0;else{var re=n(c);re!==null&&oe(A,re.startTime-te),ae=!1}}break e}finally{d=null,h=ne,p=!1}ae=void 0}}finally{ae?$():T=!1}}}var $;if(typeof x=="function")$=function(){x(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=W,$=function(){ie.postMessage(null)}}else $=function(){C(W,0)};function oe(te,ae){L=C(function(){te(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(te){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ne=h;h=ae;try{return te()}finally{h=ne}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=h;h=te;try{return ae()}finally{h=ne}},e.unstable_scheduleCallback=function(te,ae,ne){var Se=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Se+ne:Se):ne=Se,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,te={id:u++,callback:ae,priorityLevel:te,startTime:ne,expirationTime:q,sortIndex:-1},ne>Se?(te.sortIndex=ne,t(c,te),n(l)===null&&te===n(c)&&(v?(S(L),L=-1):v=!0,oe(A,ne-Se))):(te.sortIndex=q,t(l,te),m||p||(m=!0,T||(T=!0,$()))),te},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(te){var ae=h;return function(){var ne=h;h=ae;try{return te.apply(this,arguments)}finally{h=ne}}}}($P)),$P}var AU;function z8(){return AU||(AU=1,jP.exports=Jre()),jP.exports}var YP={exports:{}},wo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU;function ese(){if(TU)return wo;TU=1;var e=qG();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return wo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wo.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,u)},wo.flushSync=function(l){var c=o.T,u=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=c,i.p=u,i.d.f()}},wo.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},wo.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},wo.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:h,fetchPriority:p}):u==="script"&&i.d.X(l,{crossOrigin:d,integrity:h,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},wo.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},wo.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin);i.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},wo.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},wo.requestFormReset=function(l){i.d.r(l)},wo.unstable_batchedUpdates=function(l,c){return l(c)},wo.useFormState=function(l,c,u){return o.H.useFormState(l,c,u)},wo.useFormStatus=function(){return o.H.useHostTransitionStatus()},wo.version="19.1.0",wo}var DU;function H8(){if(DU)return YP.exports;DU=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),YP.exports=ese(),YP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IU;function tse(){if(IU)return aM;IU=1;var e=z8(),t=qG(),n=H8();function i(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function s(f){var g=f,b=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(b=g.return),f=g.return;while(f)}return g.tag===3?b:null}function o(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function a(f){if(s(f)!==f)throw Error(i(188))}function l(f){var g=f.alternate;if(!g){if(g=s(f),g===null)throw Error(i(188));return g!==f?null:f}for(var b=f,E=g;;){var D=b.return;if(D===null)break;var k=D.alternate;if(k===null){if(E=D.return,E!==null){b=E;continue}break}if(D.child===k.child){for(k=D.child;k;){if(k===b)return a(D),f;if(k===E)return a(D),g;k=k.sibling}throw Error(i(188))}if(b.return!==E.return)b=D,E=k;else{for(var U=!1,Q=D.child;Q;){if(Q===b){U=!0,b=D,E=k;break}if(Q===E){U=!0,E=D,b=k;break}Q=Q.sibling}if(!U){for(Q=k.child;Q;){if(Q===b){U=!0,b=k,E=D;break}if(Q===E){U=!0,E=k,b=D;break}Q=Q.sibling}if(!U)throw Error(i(189))}}if(b.alternate!==E)throw Error(i(190))}if(b.tag!==3)throw Error(i(188));return b.stateNode.current===b?f:g}function c(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f;for(f=f.child;f!==null;){if(g=c(f),g!==null)return g;f=f.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function $(f){return f===null||typeof f!="object"?null:(f=W&&f[W]||f["@@iterator"],typeof f=="function"?f:null)}var Z=Symbol.for("react.client.reference");function ie(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Z?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case F:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case p:return"Portal";case x:return(f.displayName||"Context")+".Provider";case S:return(f._context.displayName||"Context")+".Consumer";case R:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case L:return g=f.displayName||null,g!==null?g:ie(f.type)||"Memo";case O:g=f._payload,f=f._init;try{return ie(f(g))}catch{}}return null}var oe=Array.isArray,te=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Se=[],q=-1;function re(f){return{current:f}}function K(f){0>q||(f.current=Se[q],Se[q]=null,q--)}function V(f,g){q++,Se[q]=f.current,f.current=g}var G=re(null),se=re(null),Y=re(null),ue=re(null);function J(f,g){switch(V(Y,g),V(se,f),V(G,null),g.nodeType){case 9:case 11:f=(f=g.documentElement)&&(f=f.namespaceURI)?Gi(f):0;break;default:if(f=g.tagName,g=g.namespaceURI)g=Gi(g),f=Vi(g,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}K(G),V(G,f)}function he(){K(G),K(se),K(Y)}function Te(f){f.memoizedState!==null&&V(ue,f);var g=G.current,b=Vi(g,f.type);g!==b&&(V(se,f),V(G,b))}function ve(f){se.current===f&&(K(G),K(se)),ue.current===f&&(K(ue),Lp._currentValue=ne)}var Re=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,He=e.unstable_cancelCallback,st=e.unstable_shouldYield,Dt=e.unstable_requestPaint,ot=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,nt=e.unstable_LowPriority,Fe=e.unstable_IdlePriority,de=e.log,we=e.unstable_setDisableYieldValue,Ge=null,Le=null;function Qe(f){if(typeof de=="function"&&we(f),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ge,f)}catch{}}var mt=Math.clz32?Math.clz32:Lt,ln=Math.log,Mn=Math.LN2;function Lt(f){return f>>>=0,f===0?32:31-(ln(f)/Mn|0)|0}var jt=256,Vn=4194304;function ls(f){var g=f&42;if(g!==0)return g;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function jr(f,g,b){var E=f.pendingLanes;if(E===0)return 0;var D=0,k=f.suspendedLanes,U=f.pingedLanes;f=f.warmLanes;var Q=E&134217727;return Q!==0?(E=Q&~k,E!==0?D=ls(E):(U&=Q,U!==0?D=ls(U):b||(b=Q&~f,b!==0&&(D=ls(b))))):(Q=E&~k,Q!==0?D=ls(Q):U!==0?D=ls(U):b||(b=E&~f,b!==0&&(D=ls(b)))),D===0?0:g!==0&&g!==D&&(g&k)===0&&(k=D&-D,b=g&-g,k>=b||k===32&&(b&4194048)!==0)?g:D}function Ss(f,g){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&g)===0}function fc(f,g){switch(f){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var f=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),f}function Un(){var f=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),f}function In(f){for(var g=[],b=0;31>b;b++)g.push(f);return g}function $r(f,g){f.pendingLanes|=g,g!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Fs(f,g,b,E,D,k){var U=f.pendingLanes;f.pendingLanes=b,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=b,f.entangledLanes&=b,f.errorRecoveryDisabledLanes&=b,f.shellSuspendCounter=0;var Q=f.entanglements,ce=f.expirationTimes,Ae=f.hiddenUpdates;for(b=U&~b;0<b;){var We=31-mt(b),Ye=1<<We;Q[We]=0,ce[We]=-1;var Ie=Ae[We];if(Ie!==null)for(Ae[We]=null,We=0;We<Ie.length;We++){var De=Ie[We];De!==null&&(De.lane&=-536870913)}b&=~Ye}E!==0&&bt(f,E,0),k!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=k&~(U&~g))}function bt(f,g,b){f.pendingLanes|=g,f.suspendedLanes&=~g;var E=31-mt(g);f.entangledLanes|=g,f.entanglements[E]=f.entanglements[E]|1073741824|b&4194090}function fn(f,g){var b=f.entangledLanes|=g;for(f=f.entanglements;b;){var E=31-mt(b),D=1<<E;D&g|f[E]&g&&(f[E]|=g),b&=~D}}function Mi(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function sn(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Wa(){var f=ae.p;return f!==0?f:(f=window.event,f===void 0?32:JT(f.type))}function th(f,g){var b=ae.p;try{return ae.p=f,g()}finally{ae.p=b}}var ha=Math.random().toString(36).slice(2),Zi="__reactFiber$"+ha,Yr="__reactProps$"+ha,bu="__reactContainer$"+ha,fS="__reactEvents$"+ha,OO="__reactListeners$"+ha,PO="__reactHandles$"+ha,B1="__reactResources$"+ha,em="__reactMarker$"+ha;function pS(f){delete f[Zi],delete f[Yr],delete f[fS],delete f[OO],delete f[PO]}function _f(f){var g=f[Zi];if(g)return g;for(var b=f.parentNode;b;){if(g=b[bu]||b[Zi]){if(b=g.alternate,g.child!==null||b!==null&&b.child!==null)for(f=HT(f);f!==null;){if(b=f[Zi])return b;f=HT(f)}return g}f=b,b=f.parentNode}return null}function Bf(f){if(f=f[Zi]||f[bu]){var g=f.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return f}return null}function Gf(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f.stateNode;throw Error(i(33))}function zf(f){var g=f[B1];return g||(g=f[B1]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Kr(f){f[em]=!0}var G1=new Set,z1={};function nh(f,g){Hf(f,g),Hf(f+"Capture",g)}function Hf(f,g){for(z1[f]=g,f=0;f<g.length;f++)G1.add(g[f])}var u0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H1={},tm={};function FO(f){return Re.call(tm,f)?!0:Re.call(H1,f)?!1:u0.test(f)?tm[f]=!0:(H1[f]=!0,!1)}function d0(f,g,b){if(FO(g))if(b===null)f.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":f.removeAttribute(g);return;case"boolean":var E=g.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){f.removeAttribute(g);return}}f.setAttribute(g,""+b)}}function h0(f,g,b){if(b===null)f.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(g);return}f.setAttribute(g,""+b)}}function xl(f,g,b,E){if(E===null)f.removeAttribute(b);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(b);return}f.setAttributeNS(g,b,""+E)}}var f0,gS;function Vf(f){if(f0===void 0)try{throw Error()}catch(b){var g=b.stack.trim().match(/\n( *(at )?)/);f0=g&&g[1]||"",gS=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+f0+f+gS}var mS=!1;function vS(f,g){if(!f||mS)return"";mS=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(g){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Ie=De}Reflect.construct(f,[],Ye)}else{try{Ye.call()}catch(De){Ie=De}f.call(Ye.prototype)}}else{try{throw Error()}catch(De){Ie=De}(Ye=f())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Ie&&typeof De.stack=="string")return[De.stack,Ie.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=E.DetermineComponentFrameRoot(),U=k[0],Q=k[1];if(U&&Q){var ce=U.split(`
`),Ae=Q.split(`
`);for(D=E=0;E<ce.length&&!ce[E].includes("DetermineComponentFrameRoot");)E++;for(;D<Ae.length&&!Ae[D].includes("DetermineComponentFrameRoot");)D++;if(E===ce.length||D===Ae.length)for(E=ce.length-1,D=Ae.length-1;1<=E&&0<=D&&ce[E]!==Ae[D];)D--;for(;1<=E&&0<=D;E--,D--)if(ce[E]!==Ae[D]){if(E!==1||D!==1)do if(E--,D--,0>D||ce[E]!==Ae[D]){var We=`
`+ce[E].replace(" at new "," at ");return f.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",f.displayName)),We}while(1<=E&&0<=D);break}}}finally{mS=!1,Error.prepareStackTrace=b}return(b=f?f.displayName||f.name:"")?Vf(b):""}function _O(f){switch(f.tag){case 26:case 27:case 5:return Vf(f.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 15:return vS(f.type,!1);case 11:return vS(f.type.render,!1);case 1:return vS(f.type,!0);case 31:return Vf("Activity");default:return""}}function yS(f){try{var g="";do g+=_O(f),f=f.return;while(f);return g}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Go(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function CS(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function bS(f){var g=CS(f)?"checked":"value",b=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),E=""+f[g];if(!f.hasOwnProperty(g)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var D=b.get,k=b.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return D.call(this)},set:function(U){E=""+U,k.call(this,U)}}),Object.defineProperty(f,g,{enumerable:b.enumerable}),{getValue:function(){return E},setValue:function(U){E=""+U},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function p0(f){f._valueTracker||(f._valueTracker=bS(f))}function wS(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var b=g.getValue(),E="";return f&&(E=CS(f)?f.checked?"true":"false":f.value),f=E,f!==b?(g.setValue(f),!0):!1}function ih(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var V1=/[\n"\\]/g;function fa(f){return f.replace(V1,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function g0(f,g,b,E,D,k,U,Q){f.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?f.type=U:f.removeAttribute("type"),g!=null?U==="number"?(g===0&&f.value===""||f.value!=g)&&(f.value=""+Go(g)):f.value!==""+Go(g)&&(f.value=""+Go(g)):U!=="submit"&&U!=="reset"||f.removeAttribute("value"),g!=null?nm(f,U,Go(g)):b!=null?nm(f,U,Go(b)):E!=null&&f.removeAttribute("value"),D==null&&k!=null&&(f.defaultChecked=!!k),D!=null&&(f.checked=D&&typeof D!="function"&&typeof D!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?f.name=""+Go(Q):f.removeAttribute("name")}function SS(f,g,b,E,D,k,U,Q){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(f.type=k),g!=null||b!=null){if(!(k!=="submit"&&k!=="reset"||g!=null))return;b=b!=null?""+Go(b):"",g=g!=null?""+Go(g):b,Q||g===f.value||(f.value=g),f.defaultValue=g}E=E??D,E=typeof E!="function"&&typeof E!="symbol"&&!!E,f.checked=Q?f.checked:!!E,f.defaultChecked=!!E,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(f.name=U)}function nm(f,g,b){g==="number"&&ih(f.ownerDocument)===f||f.defaultValue===""+b||(f.defaultValue=""+b)}function Uf(f,g,b,E){if(f=f.options,g){g={};for(var D=0;D<b.length;D++)g["$"+b[D]]=!0;for(b=0;b<f.length;b++)D=g.hasOwnProperty("$"+f[b].value),f[b].selected!==D&&(f[b].selected=D),D&&E&&(f[b].defaultSelected=!0)}else{for(b=""+Go(b),g=null,D=0;D<f.length;D++){if(f[D].value===b){f[D].selected=!0,E&&(f[D].defaultSelected=!0);return}g!==null||f[D].disabled||(g=f[D])}g!==null&&(g.selected=!0)}}function xS(f,g,b){if(g!=null&&(g=""+Go(g),g!==f.value&&(f.value=g),b==null)){f.defaultValue!==g&&(f.defaultValue=g);return}f.defaultValue=b!=null?""+Go(b):""}function m0(f,g,b,E){if(g==null){if(E!=null){if(b!=null)throw Error(i(92));if(oe(E)){if(1<E.length)throw Error(i(93));E=E[0]}b=E}b==null&&(b=""),g=b}b=Go(g),f.defaultValue=b,E=f.textContent,E===b&&E!==""&&E!==null&&(f.value=E)}function wu(f,g){if(g){var b=f.firstChild;if(b&&b===f.lastChild&&b.nodeType===3){b.nodeValue=g;return}}f.textContent=g}var Wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function MS(f,g,b){var E=g.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?E?f.setProperty(g,""):g==="float"?f.cssFloat="":f[g]="":E?f.setProperty(g,b):typeof b!="number"||b===0||Wf.has(g)?g==="float"?f.cssFloat=b:f[g]=(""+b).trim():f[g]=b+"px"}function ES(f,g,b){if(g!=null&&typeof g!="object")throw Error(i(62));if(f=f.style,b!=null){for(var E in b)!b.hasOwnProperty(E)||g!=null&&g.hasOwnProperty(E)||(E.indexOf("--")===0?f.setProperty(E,""):E==="float"?f.cssFloat="":f[E]="");for(var D in g)E=g[D],g.hasOwnProperty(D)&&b[D]!==E&&MS(f,D,E)}else for(var k in g)g.hasOwnProperty(k)&&MS(f,k,g[k])}function RS(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function im(f){return W1.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var v0=null;function AS(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var jf=null,$f=null;function TS(f){var g=Bf(f);if(g&&(f=g.stateNode)){var b=f[Yr]||null;e:switch(f=g.stateNode,g.type){case"input":if(g0(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),g=b.name,b.type==="radio"&&g!=null){for(b=f;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+fa(""+g)+'"][type="radio"]'),g=0;g<b.length;g++){var E=b[g];if(E!==f&&E.form===f.form){var D=E[Yr]||null;if(!D)throw Error(i(90));g0(E,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(g=0;g<b.length;g++)E=b[g],E.form===f.form&&wS(E)}break e;case"textarea":xS(f,b.value,b.defaultValue);break e;case"select":g=b.value,g!=null&&Uf(f,!!b.multiple,g,!1)}}}var DS=!1;function j1(f,g,b){if(DS)return f(g,b);DS=!0;try{var E=f(g);return E}finally{if(DS=!1,(jf!==null||$f!==null)&&(vC(),jf&&(g=jf,f=$f,$f=jf=null,TS(g),f)))for(g=0;g<f.length;g++)TS(f[g])}}function rm(f,g){var b=f.stateNode;if(b===null)return null;var E=b[Yr]||null;if(E===null)return null;b=E[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(b&&typeof b!="function")throw Error(i(231,g,typeof b));return b}var pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=!1;if(pc)try{var om={};Object.defineProperty(om,"passive",{get:function(){sm=!0}}),window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{sm=!1}var Su=null,IS=null,y0=null;function $1(){if(y0)return y0;var f,g=IS,b=g.length,E,D="value"in Su?Su.value:Su.textContent,k=D.length;for(f=0;f<b&&g[f]===D[f];f++);var U=b-f;for(E=1;E<=U&&g[b-E]===D[k-E];E++);return y0=D.slice(f,1<E?1-E:void 0)}function ai(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Qn(){return!0}function Y1(){return!1}function ao(f){function g(b,E,D,k,U){this._reactName=b,this._targetInst=D,this.type=E,this.nativeEvent=k,this.target=U,this.currentTarget=null;for(var Q in f)f.hasOwnProperty(Q)&&(b=f[Q],this[Q]=b?b(k):k[Q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Qn:Y1,this.isPropagationStopped=Y1,this}return u(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),g}var rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=ao(rh),am=u({},rh,{view:0,detail:0}),BO=ao(am),b0,NS,or,Yf=u({},am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==or&&(or&&f.type==="mousemove"?(b0=f.screenX-or.screenX,NS=f.screenY-or.screenY):NS=b0=0,or=f),b0)},movementY:function(f){return"movementY"in f?f.movementY:NS}}),xu=ao(Yf),K1=u({},Yf,{dataTransfer:0}),LS=ao(K1),pa=u({},am,{relatedTarget:0}),w0=ao(pa),q1=u({},rh,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1=ao(q1),X1=u({},rh,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Q1=ao(X1),J1=u({},rh,{data:0}),lo=ao(J1),GO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eA(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=zO[f])?!!g[f]:!1}function Ml(){return eA}var S0=u({},am,{key:function(f){if(f.key){var g=GO[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=ai(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?ga[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(f){return f.type==="keypress"?ai(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?ai(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),kS=ao(S0),Pi=u({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=ao(Pi),OS=u({},am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),HO=ao(OS),PS=u({},rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),VO=ao(PS),UO=u({},Yf,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=ao(UO),tA=u({},rh,{newState:0,oldState:0}),x0=ao(tA),Kf=[9,13,27,32],FS=pc&&"CompositionEvent"in window,qf=null;pc&&"documentMode"in document&&(qf=document.documentMode);var nA=pc&&"TextEvent"in window&&!qf,M0=pc&&(!FS||qf&&8<qf&&11>=qf),E0=" ",_S=!1;function iA(f,g){switch(f){case"keyup":return Kf.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R0(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Mu=!1;function jO(f,g){switch(f){case"compositionend":return R0(g);case"keypress":return g.which!==32?null:(_S=!0,E0);case"textInput":return f=g.data,f===E0&&_S?null:f;default:return null}}function rA(f,g){if(Mu)return f==="compositionend"||!FS&&iA(f,g)?(f=$1(),y0=IS=Su=null,Mu=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return M0&&g.locale!=="ko"?null:g.data;default:return null}}var zo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!zo[f.type]:g==="textarea"}function Zf(f,g,b,E){jf?$f?$f.push(E):$f=[E]:jf=E,g=MC(g,"onChange"),0<g.length&&(b=new C0("onChange","change",null,b,E),f.push({event:b,listeners:g}))}var Xf=null,Qf=null;function $O(f){kT(f,0)}function T0(f){var g=Gf(f);if(wS(g))return f}function sA(f,g){if(f==="change")return g}var oA=!1;if(pc){var BS;if(pc){var Eu="oninput"in document;if(!Eu){var aA=document.createElement("div");aA.setAttribute("oninput","return;"),Eu=typeof aA.oninput=="function"}BS=Eu}else BS=!1;oA=BS&&(!document.documentMode||9<document.documentMode)}function lA(){Xf&&(Xf.detachEvent("onpropertychange",D0),Qf=Xf=null)}function D0(f){if(f.propertyName==="value"&&T0(Qf)){var g=[];Zf(g,Qf,f,AS(f)),j1($O,g)}}function cA(f,g,b){f==="focusin"?(lA(),Xf=g,Qf=b,Xf.attachEvent("onpropertychange",D0)):f==="focusout"&&lA()}function Ru(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return T0(Qf)}function I0(f,g){if(f==="click")return T0(g)}function YO(f,g){if(f==="input"||f==="change")return T0(g)}function KO(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var Ho=typeof Object.is=="function"?Object.is:KO;function El(f,g){if(Ho(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var b=Object.keys(f),E=Object.keys(g);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var D=b[E];if(!Re.call(g,D)||!Ho(f[D],g[D]))return!1}return!0}function ma(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function GS(f,g){var b=ma(f);f=0;for(var E;b;){if(b.nodeType===3){if(E=f+b.textContent.length,f<=g&&E>=g)return{node:b,offset:g-f};f=E}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=ma(b)}}function uA(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?uA(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function dA(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var g=ih(f.document);g instanceof f.HTMLIFrameElement;){try{var b=typeof g.contentWindow.location.href=="string"}catch{b=!1}if(b)f=g.contentWindow;else break;g=ih(f.document)}return g}function zS(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}var qO=pc&&"documentMode"in document&&11>=document.documentMode,Jf=null,Au=null,be=null,Ve=!1;function Ne(f,g,b){var E=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Ve||Jf==null||Jf!==ih(E)||(E=Jf,"selectionStart"in E&&zS(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),be&&El(be,E)||(be=E,E=MC(Au,"onSelect"),0<E.length&&(g=new C0("onSelect","select",null,g,b),f.push({event:g,listeners:E}),g.target=Jf)))}function vt(f,g){var b={};return b[f.toLowerCase()]=g.toLowerCase(),b["Webkit"+f]="webkit"+g,b["Moz"+f]="moz"+g,b}var $t={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},Ln={},wr={};pc&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete $t.animationend.animation,delete $t.animationiteration.animation,delete $t.animationstart.animation),"TransitionEvent"in window||delete $t.transitionend.transition);function kn(f){if(Ln[f])return Ln[f];if(!$t[f])return f;var g=$t[f],b;for(b in g)if(g.hasOwnProperty(b)&&b in wr)return Ln[f]=g[b];return f}var N0=kn("animationend"),hA=kn("animationiteration"),Vo=kn("animationstart"),L0=kn("transitionrun"),ZO=kn("transitionstart"),ep=kn("transitioncancel"),lm=kn("transitionend"),cm=new Map,Wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wn.push("scrollEnd");function ja(f,g){cm.set(f,g),nh(g,[f])}var HS=new WeakMap;function _s(f,g){if(typeof f=="object"&&f!==null){var b=HS.get(f);return b!==void 0?b:(g={value:f,source:g,stack:yS(g)},HS.set(f,g),g)}return{value:f,source:g,stack:yS(g)}}var va=[],tp=0,VS=0;function sh(){for(var f=tp,g=VS=tp=0;g<f;){var b=va[g];va[g++]=null;var E=va[g];va[g++]=null;var D=va[g];va[g++]=null;var k=va[g];if(va[g++]=null,E!==null&&D!==null){var U=E.pending;U===null?D.next=D:(D.next=U.next,U.next=D),E.pending=D}k!==0&&um(b,D,k)}}function $a(f,g,b,E){va[tp++]=f,va[tp++]=g,va[tp++]=b,va[tp++]=E,VS|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function np(f,g,b,E){return $a(f,g,b,E),dm(f)}function oh(f,g){return $a(f,null,null,g),dm(f)}function um(f,g,b){f.lanes|=b;var E=f.alternate;E!==null&&(E.lanes|=b);for(var D=!1,k=f.return;k!==null;)k.childLanes|=b,E=k.alternate,E!==null&&(E.childLanes|=b),k.tag===22&&(f=k.stateNode,f===null||f._visibility&1||(D=!0)),f=k,k=k.return;return f.tag===3?(k=f.stateNode,D&&g!==null&&(D=31-mt(b),f=k.hiddenUpdates,E=f[D],E===null?f[D]=[g]:E.push(g),g.lane=b|536870912),k):null}function dm(f){if(50<Mp)throw Mp=0,Fx=null,Error(i(185));for(var g=f.return;g!==null;)f=g,g=f.return;return f.tag===3?f.stateNode:null}var ah={};function k0(f,g,b,E){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(f,g,b,E){return new k0(f,g,b,E)}function lh(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Bs(f,g){var b=f.alternate;return b===null?(b=co(f.tag,g,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=g,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&65011712,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,g=f.dependencies,b.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b.refCleanup=f.refCleanup,b}function hm(f,g){f.flags&=65011714;var b=f.alternate;return b===null?(f.childLanes=0,f.lanes=g,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,g=b.dependencies,f.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),f}function O0(f,g,b,E,D,k){var U=0;if(E=f,typeof f=="function")lh(f)&&(U=1);else if(typeof f=="string")U=AP(f,b,G.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case F:return f=co(31,b,g,D),f.elementType=F,f.lanes=k,f;case m:return ch(b.children,D,k,g);case v:U=8,D|=24;break;case y:return f=co(12,b,g,D|2),f.elementType=y,f.lanes=k,f;case A:return f=co(13,b,g,D),f.elementType=A,f.lanes=k,f;case T:return f=co(19,b,g,D),f.elementType=T,f.lanes=k,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case C:case x:U=10;break e;case S:U=9;break e;case R:U=11;break e;case L:U=14;break e;case O:U=16,E=null;break e}U=29,b=Error(i(130,f===null?"null":typeof f,"")),E=null}return g=co(U,b,g,D),g.elementType=f,g.type=E,g.lanes=k,g}function ch(f,g,b,E){return f=co(7,f,E,g),f.lanes=b,f}function US(f,g,b){return f=co(6,f,null,g),f.lanes=b,f}function ip(f,g,b){return g=co(4,f.children!==null?f.children:[],f.key,g),g.lanes=b,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}var mc=[],Tu=0,P0=null,fm=0,ya=[],Ca=0,Ri=null,Fi=1,vc="";function uh(f,g){mc[Tu++]=fm,mc[Tu++]=P0,P0=f,fm=g}function WS(f,g,b){ya[Ca++]=Fi,ya[Ca++]=vc,ya[Ca++]=Ri,Ri=f;var E=Fi;f=vc;var D=32-mt(E)-1;E&=~(1<<D),b+=1;var k=32-mt(g)+D;if(30<k){var U=D-D%5;k=(E&(1<<U)-1).toString(32),E>>=U,D-=U,Fi=1<<32-mt(g)+D|b<<D|E,vc=k+f}else Fi=1<<k|b<<D|E,vc=f}function jS(f){f.return!==null&&(uh(f,1),WS(f,1,0))}function pm(f){for(;f===P0;)P0=mc[--Tu],mc[Tu]=null,fm=mc[--Tu],mc[Tu]=null;for(;f===Ri;)Ri=ya[--Ca],ya[Ca]=null,vc=ya[--Ca],ya[Ca]=null,Fi=ya[--Ca],ya[Ca]=null}var Ir=null,_i=null,Sn=!1,Ya=null,uo=!1,rp=Error(i(519));function ba(f){var g=Error(i(418,""));throw Du(_s(g,f)),rp}function fA(f){var g=f.stateNode,b=f.type,E=f.memoizedProps;switch(g[Zi]=f,g[Yr]=E,b){case"dialog":yn("cancel",g),yn("close",g);break;case"iframe":case"object":case"embed":yn("load",g);break;case"video":case"audio":for(b=0;b<nv.length;b++)yn(nv[b],g);break;case"source":yn("error",g);break;case"img":case"image":case"link":yn("error",g),yn("load",g);break;case"details":yn("toggle",g);break;case"input":yn("invalid",g),SS(g,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),p0(g);break;case"select":yn("invalid",g);break;case"textarea":yn("invalid",g),m0(g,E.value,E.defaultValue,E.children),p0(g)}b=E.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||g.textContent===""+b||E.suppressHydrationWarning===!0||FT(g.textContent,b)?(E.popover!=null&&(yn("beforetoggle",g),yn("toggle",g)),E.onScroll!=null&&yn("scroll",g),E.onScrollEnd!=null&&yn("scrollend",g),E.onClick!=null&&(g.onclick=EC),g=!0):g=!1,g||ba(f)}function pA(f){for(Ir=f.return;Ir;)switch(Ir.tag){case 5:case 13:uo=!1;return;case 27:case 3:uo=!0;return;default:Ir=Ir.return}}function gm(f){if(f!==Ir)return!1;if(!Sn)return pA(f),Sn=!0,!1;var g=f.tag,b;if((b=g!==3&&g!==27)&&((b=g===5)&&(b=f.type,b=!(b!=="form"&&b!=="button")||AC(f.type,f.memoizedProps)),b=!b),b&&_i&&ba(f),pA(f),g===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8)if(b=f.data,b==="/$"){if(g===0){_i=Ja(f.nextSibling);break e}g--}else b!=="$"&&b!=="$!"&&b!=="$?"||g++;f=f.nextSibling}_i=null}}else g===27?(g=_i,Ra(f.type)?(f=Zx,Zx=null,_i=f):_i=g):_i=Ir?Ja(f.stateNode.nextSibling):null;return!0}function mm(){_i=Ir=null,Sn=!1}function gA(){var f=Ya;return f!==null&&(Co===null?Co=f:Co.push.apply(Co,f),Ya=null),f}function Du(f){Ya===null?Ya=[f]:Ya.push(f)}var dh=re(null),Iu=null,X=null;function Uo(f,g,b){V(dh,g._currentValue),g._currentValue=b}function wa(f){f._currentValue=dh.current,K(dh)}function ho(f,g,b){for(;f!==null;){var E=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,E!==null&&(E.childLanes|=g)):E!==null&&(E.childLanes&g)!==g&&(E.childLanes|=g),f===b)break;f=f.return}}function pn(f,g,b,E){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var k=D.dependencies;if(k!==null){var U=D.child;k=k.firstContext;e:for(;k!==null;){var Q=k;k=D;for(var ce=0;ce<g.length;ce++)if(Q.context===g[ce]){k.lanes|=b,Q=k.alternate,Q!==null&&(Q.lanes|=b),ho(k.return,b,f),E||(U=null);break e}k=Q.next}}else if(D.tag===18){if(U=D.return,U===null)throw Error(i(341));U.lanes|=b,k=U.alternate,k!==null&&(k.lanes|=b),ho(U,b,f),U=null}else U=D.child;if(U!==null)U.return=D;else for(U=D;U!==null;){if(U===f){U=null;break}if(D=U.sibling,D!==null){D.return=U.return,U=D;break}U=U.return}D=U}}function vm(f,g,b,E){f=null;for(var D=g,k=!1;D!==null;){if(!k){if((D.flags&524288)!==0)k=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var U=D.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var Q=D.type;Ho(D.pendingProps.value,U.value)||(f!==null?f.push(Q):f=[Q])}}else if(D===ue.current){if(U=D.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(Lp):f=[Lp])}D=D.return}f!==null&&pn(g,f,b,E),g.flags|=262144}function F0(f){for(f=f.firstContext;f!==null;){if(!Ho(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function hh(f){Iu=f,X=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Xi(f){return mA(Iu,f)}function _0(f,g){return Iu===null&&hh(f),mA(f,g)}function mA(f,g){var b=g._currentValue;if(g={context:g,memoizedValue:b,next:null},X===null){if(f===null)throw Error(i(308));X=g,f.dependencies={lanes:0,firstContext:g},f.flags|=524288}else X=X.next=g;return b}var XO=typeof AbortController<"u"?AbortController:function(){var f=[],g=this.signal={aborted:!1,addEventListener:function(b,E){f.push(E)}};this.abort=function(){g.aborted=!0,f.forEach(function(b){return b()})}},QO=e.unstable_scheduleCallback,JO=e.unstable_NormalPriority,gi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $S(){return{controller:new XO,data:new Map,refCount:0}}function ym(f){f.refCount--,f.refCount===0&&QO(JO,function(){f.controller.abort()})}var Cm=null,YS=0,sp=0,fo=null;function eP(f,g){if(Cm===null){var b=Cm=[];YS=0,sp=xC(),fo={status:"pending",value:void 0,then:function(E){b.push(E)}}}return YS++,g.then(vA,vA),g}function vA(){if(--YS===0&&Cm!==null){fo!==null&&(fo.status="fulfilled");var f=Cm;Cm=null,sp=0,fo=null;for(var g=0;g<f.length;g++)(0,f[g])()}}function tP(f,g){var b=[],E={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return f.then(function(){E.status="fulfilled",E.value=g;for(var D=0;D<b.length;D++)(0,b[D])(g)},function(D){for(E.status="rejected",E.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),E}var yA=te.S;te.S=function(f,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&eP(f,g),yA!==null&&yA(f,g)};var fh=re(null);function yc(){var f=fh.current;return f!==null?f:Ei.pooledCache}function B0(f,g){g===null?V(fh,fh.current):V(fh,g.pool)}function CA(){var f=yc();return f===null?null:{parent:gi._currentValue,pool:f}}var Gs=Error(i(460)),bA=Error(i(474)),G0=Error(i(542)),KS={then:function(){}};function wA(f){return f=f.status,f==="fulfilled"||f==="rejected"}function z0(){}function qS(f,g,b){switch(b=f[b],b===void 0?f.push(g):b!==g&&(g.then(z0,z0),g=b),g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,xA(f),f;default:if(typeof g.status=="string")g.then(z0,z0);else{if(f=Ei,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=g,f.status="pending",f.then(function(E){if(g.status==="pending"){var D=g;D.status="fulfilled",D.value=E}},function(E){if(g.status==="pending"){var D=g;D.status="rejected",D.reason=E}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,xA(f),f}throw op=g,Gs}}var op=null;function SA(){if(op===null)throw Error(i(459));var f=op;return op=null,f}function xA(f){if(f===Gs||f===G0)throw Error(i(483))}var Rl=!1;function ph(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Nu(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Cc(f,g,b){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(ei&2)!==0){var D=E.pending;return D===null?g.next=g:(g.next=D.next,D.next=g),E.pending=g,g=dm(f),um(f,null,b),g}return $a(f,E,g,b),dm(f)}function bm(f,g,b){if(g=g.updateQueue,g!==null&&(g=g.shared,(b&4194048)!==0)){var E=g.lanes;E&=f.pendingLanes,b|=E,g.lanes=b,fn(f,b)}}function Ka(f,g){var b=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var D=null,k=null;if(b=b.firstBaseUpdate,b!==null){do{var U={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};k===null?D=k=U:k=k.next=U,b=b.next}while(b!==null);k===null?D=k=g:k=k.next=g}else D=k=g;b={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:k,shared:E.shared,callbacks:E.callbacks},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=g:f.next=g,b.lastBaseUpdate=g}var wm=!1;function qa(){if(wm){var f=fo;if(f!==null)throw f}}function xs(f,g,b,E){wm=!1;var D=f.updateQueue;Rl=!1;var k=D.firstBaseUpdate,U=D.lastBaseUpdate,Q=D.shared.pending;if(Q!==null){D.shared.pending=null;var ce=Q,Ae=ce.next;ce.next=null,U===null?k=Ae:U.next=Ae,U=ce;var We=f.alternate;We!==null&&(We=We.updateQueue,Q=We.lastBaseUpdate,Q!==U&&(Q===null?We.firstBaseUpdate=Ae:Q.next=Ae,We.lastBaseUpdate=ce))}if(k!==null){var Ye=D.baseState;U=0,We=Ae=ce=null,Q=k;do{var Ie=Q.lane&-536870913,De=Ie!==Q.lane;if(De?(Nn&Ie)===Ie:(E&Ie)===Ie){Ie!==0&&Ie===sp&&(wm=!0),We!==null&&(We=We.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Ht=f,Bt=Q;Ie=g;var ci=b;switch(Bt.tag){case 1:if(Ht=Bt.payload,typeof Ht=="function"){Ye=Ht.call(ci,Ye,Ie);break e}Ye=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Bt.payload,Ie=typeof Ht=="function"?Ht.call(ci,Ye,Ie):Ht,Ie==null)break e;Ye=u({},Ye,Ie);break e;case 2:Rl=!0}}Ie=Q.callback,Ie!==null&&(f.flags|=64,De&&(f.flags|=8192),De=D.callbacks,De===null?D.callbacks=[Ie]:De.push(Ie))}else De={lane:Ie,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},We===null?(Ae=We=De,ce=Ye):We=We.next=De,U|=Ie;if(Q=Q.next,Q===null){if(Q=D.shared.pending,Q===null)break;De=Q,Q=De.next,De.next=null,D.lastBaseUpdate=De,D.shared.pending=null}}while(!0);We===null&&(ce=Ye),D.baseState=ce,D.firstBaseUpdate=Ae,D.lastBaseUpdate=We,k===null&&(D.shared.lanes=0),zu|=U,f.lanes=U,f.memoizedState=Ye}}function MA(f,g){if(typeof f!="function")throw Error(i(191,f));f.call(g)}function ZS(f,g){var b=f.callbacks;if(b!==null)for(f.callbacks=null,f=0;f<b.length;f++)MA(b[f],g)}var gh=re(null),Lu=re(0);function bc(f,g){f=Dc,V(Lu,f),V(gh,g),Dc=f|g.baseLanes}function H0(){V(Lu,Dc),V(gh,gh.current)}function XS(){Dc=Lu.current,K(gh),K(Lu)}var Za=0,dn=null,Jn=null,xn=null,lp=!1,mh=!1,Ms=!1,cp=0,ku=0,Sa=null,EA=0;function En(){throw Error(i(321))}function Sm(f,g){if(g===null)return!1;for(var b=0;b<g.length&&b<f.length;b++)if(!Ho(f[b],g[b]))return!1;return!0}function QS(f,g,b,E,D,k){return Za=k,dn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,te.H=f===null||f.memoizedState===null?BA:mx,Ms=!1,k=b(E,D),Ms=!1,mh&&(k=AA(g,b,E,D)),RA(f),k}function RA(f){te.H=km;var g=Jn!==null&&Jn.next!==null;if(Za=0,xn=Jn=dn=null,lp=!1,ku=0,Sa=null,g)throw Error(i(300));f===null||qr||(f=f.dependencies,f!==null&&F0(f)&&(qr=!0))}function AA(f,g,b,E){dn=f;var D=0;do{if(mh&&(Sa=null),ku=0,mh=!1,25<=D)throw Error(i(301));if(D+=1,xn=Jn=null,f.updateQueue!=null){var k=f.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}te.H=GA,k=g(b,E)}while(mh);return k}function JS(){var f=te.H,g=f.useState()[0];return g=typeof g.then=="function"?xm(g):g,f=f.useState()[0],(Jn!==null?Jn.memoizedState:null)!==f&&(dn.flags|=1024),g}function ex(){var f=cp!==0;return cp=0,f}function vh(f,g,b){g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~b}function V0(f){if(lp){for(f=f.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}lp=!1}Za=0,xn=Jn=dn=null,mh=!1,ku=cp=0,Sa=null}function po(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?dn.memoizedState=xn=f:xn=xn.next=f,xn}function Sr(){if(Jn===null){var f=dn.alternate;f=f!==null?f.memoizedState:null}else f=Jn.next;var g=xn===null?dn.memoizedState:xn.next;if(g!==null)xn=g,Jn=f;else{if(f===null)throw dn.alternate===null?Error(i(467)):Error(i(310));Jn=f,f={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},xn===null?dn.memoizedState=xn=f:xn=xn.next=f}return xn}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xm(f){var g=ku;return ku+=1,Sa===null&&(Sa=[]),f=qS(Sa,f,g),g=dn,(xn===null?g.memoizedState:xn.next)===null&&(g=g.alternate,te.H=g===null||g.memoizedState===null?BA:mx),f}function U0(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return xm(f);if(f.$$typeof===x)return Xi(f)}throw Error(i(438,String(f)))}function Mm(f){var g=null,b=dn.updateQueue;if(b!==null&&(g=b.memoCache),g==null){var E=dn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(g={data:E.data.map(function(D){return D.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),b===null&&(b=yh(),dn.updateQueue=b),b.memoCache=g,b=g.data[g.index],b===void 0)for(b=g.data[g.index]=Array(f),E=0;E<f;E++)b[E]=H;return g.index++,b}function Al(f,g){return typeof g=="function"?g(f):g}function W0(f){var g=Sr();return tx(g,Jn,f)}function tx(f,g,b){var E=f.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=b;var D=f.baseQueue,k=E.pending;if(k!==null){if(D!==null){var U=D.next;D.next=k.next,k.next=U}g.baseQueue=D=k,E.pending=null}if(k=f.baseState,D===null)f.memoizedState=k;else{g=D.next;var Q=U=null,ce=null,Ae=g,We=!1;do{var Ye=Ae.lane&-536870913;if(Ye!==Ae.lane?(Nn&Ye)===Ye:(Za&Ye)===Ye){var Ie=Ae.revertLane;if(Ie===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ye===sp&&(We=!0);else if((Za&Ie)===Ie){Ae=Ae.next,Ie===sp&&(We=!0);continue}else Ye={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ce===null?(Q=ce=Ye,U=k):ce=ce.next=Ye,dn.lanes|=Ie,zu|=Ie;Ye=Ae.action,Ms&&b(k,Ye),k=Ae.hasEagerState?Ae.eagerState:b(k,Ye)}else Ie={lane:Ye,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ce===null?(Q=ce=Ie,U=k):ce=ce.next=Ie,dn.lanes|=Ye,zu|=Ye;Ae=Ae.next}while(Ae!==null&&Ae!==g);if(ce===null?U=k:ce.next=Q,!Ho(k,f.memoizedState)&&(qr=!0,We&&(b=fo,b!==null)))throw b;f.memoizedState=k,f.baseState=U,f.baseQueue=ce,E.lastRenderedState=k}return D===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function nx(f){var g=Sr(),b=g.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=f;var E=b.dispatch,D=b.pending,k=g.memoizedState;if(D!==null){b.pending=null;var U=D=D.next;do k=f(k,U.action),U=U.next;while(U!==D);Ho(k,g.memoizedState)||(qr=!0),g.memoizedState=k,g.baseQueue===null&&(g.baseState=k),b.lastRenderedState=k}return[k,E]}function ix(f,g,b){var E=dn,D=Sr(),k=Sn;if(k){if(b===void 0)throw Error(i(407));b=b()}else b=g();var U=!Ho((Jn||D).memoizedState,b);U&&(D.memoizedState=b,qr=!0),D=D.queue;var Q=$0.bind(null,E,D,f);if(Am(2048,8,Q,[f]),D.getSnapshot!==g||U||xn!==null&&xn.memoizedState.tag&1){if(E.flags|=2048,up(9,X0(),TA.bind(null,E,D,b,g),null),Ei===null)throw Error(i(349));k||(Za&124)!==0||j0(E,g,b)}return b}function j0(f,g,b){f.flags|=16384,f={getSnapshot:g,value:b},g=dn.updateQueue,g===null?(g=yh(),dn.updateQueue=g,g.stores=[f]):(b=g.stores,b===null?g.stores=[f]:b.push(f))}function TA(f,g,b,E){g.value=b,g.getSnapshot=E,rx(g)&&sx(f)}function $0(f,g,b){return b(function(){rx(g)&&sx(f)})}function rx(f){var g=f.getSnapshot;f=f.value;try{var b=g();return!Ho(f,b)}catch{return!0}}function sx(f){var g=oh(f,2);g!==null&&Ko(g,f,2)}function Y0(f){var g=po();if(typeof f=="function"){var b=f;if(f=b(),Ms){Qe(!0);try{b()}finally{Qe(!1)}}}return g.memoizedState=g.baseState=f,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:f},g}function Em(f,g,b,E){return f.baseState=b,tx(f,Jn,typeof E=="function"?E:Al)}function nP(f,g,b,E,D){if(tC(f))throw Error(i(485));if(f=g.action,f!==null){var k={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){k.listeners.push(U)}};te.T!==null?b(!0):k.isTransition=!1,E(k),b=g.pending,b===null?(k.next=g.pending=k,ox(g,k)):(k.next=b.next,g.pending=b.next=k)}}function ox(f,g){var b=g.action,E=g.payload,D=f.state;if(g.isTransition){var k=te.T,U={};te.T=U;try{var Q=b(D,E),ce=te.S;ce!==null&&ce(U,Q),ax(f,g,Q)}catch(Ae){K0(f,g,Ae)}finally{te.T=k}}else try{k=b(D,E),ax(f,g,k)}catch(Ae){K0(f,g,Ae)}}function ax(f,g,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(E){DA(f,g,E)},function(E){return K0(f,g,E)}):DA(f,g,b)}function DA(f,g,b){g.status="fulfilled",g.value=b,IA(g),f.state=b,g=f.pending,g!==null&&(b=g.next,b===g?f.pending=null:(b=b.next,g.next=b,ox(f,b)))}function K0(f,g,b){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do g.status="rejected",g.reason=b,IA(g),g=g.next;while(g!==E)}f.action=null}function IA(f){f=f.listeners;for(var g=0;g<f.length;g++)(0,f[g])()}function q0(f,g){return g}function lx(f,g){if(Sn){var b=Ei.formState;if(b!==null){e:{var E=dn;if(Sn){if(_i){t:{for(var D=_i,k=uo;D.nodeType!==8;){if(!k){D=null;break t}if(D=Ja(D.nextSibling),D===null){D=null;break t}}k=D.data,D=k==="F!"||k==="F"?D:null}if(D){_i=Ja(D.nextSibling),E=D.data==="F!";break e}}ba(E)}E=!1}E&&(g=b[0])}}return b=po(),b.memoizedState=b.baseState=g,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:g},b.queue=E,b=fx.bind(null,dn,E),E.dispatch=b,E=Y0(!1),k=px.bind(null,dn,!1,E.queue),E=po(),D={state:g,dispatch:null,action:f,pending:null},E.queue=D,b=nP.bind(null,dn,D,k,b),D.dispatch=b,E.memoizedState=f,[g,b,!1]}function Z0(f){var g=Sr();return NA(g,Jn,f)}function NA(f,g,b){if(g=tx(f,g,q0)[0],f=W0(Al)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var E=xm(g)}catch(U){throw U===Gs?G0:U}else E=g;g=Sr();var D=g.queue,k=D.dispatch;return b!==g.memoizedState&&(dn.flags|=2048,up(9,X0(),cx.bind(null,D,b),null)),[E,k,f]}function cx(f,g){f.action=g}function cn(f){var g=Sr(),b=Jn;if(b!==null)return NA(g,b,f);Sr(),g=g.memoizedState,b=Sr();var E=b.queue.dispatch;return b.memoizedState=f,[g,E,!1]}function up(f,g,b,E){return f={tag:f,create:b,deps:E,inst:g,next:null},g=dn.updateQueue,g===null&&(g=yh(),dn.updateQueue=g),b=g.lastEffect,b===null?g.lastEffect=f.next=f:(E=b.next,b.next=f,f.next=E,g.lastEffect=f),f}function X0(){return{destroy:void 0,resource:void 0}}function dp(){return Sr().memoizedState}function Rm(f,g,b,E){var D=po();E=E===void 0?null:E,dn.flags|=f,D.memoizedState=up(1|g,X0(),b,E)}function Am(f,g,b,E){var D=Sr();E=E===void 0?null:E;var k=D.memoizedState.inst;Jn!==null&&E!==null&&Sm(E,Jn.memoizedState.deps)?D.memoizedState=up(g,k,b,E):(dn.flags|=f,D.memoizedState=up(1|g,k,b,E))}function LA(f,g){Rm(8390656,8,f,g)}function Wo(f,g){Am(2048,8,f,g)}function kA(f,g){return Am(4,2,f,g)}function Tm(f,g){return Am(4,4,f,g)}function Q0(f,g){if(typeof g=="function"){f=f();var b=g(f);return function(){typeof b=="function"?b():g(null)}}if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function ux(f,g,b){b=b!=null?b.concat([f]):null,Am(4,4,Q0.bind(null,g,f),b)}function J0(){}function go(f,g){var b=Sr();g=g===void 0?null:g;var E=b.memoizedState;return g!==null&&Sm(g,E[1])?E[0]:(b.memoizedState=[f,g],f)}function wc(f,g){var b=Sr();g=g===void 0?null:g;var E=b.memoizedState;if(g!==null&&Sm(g,E[1]))return E[0];if(E=f(),Ms){Qe(!0);try{f()}finally{Qe(!1)}}return b.memoizedState=[E,g],E}function Dm(f,g,b){return b===void 0||(Za&1073741824)!==0?f.memoizedState=g:(f.memoizedState=b,f=hT(),dn.lanes|=f,zu|=f,b)}function dx(f,g,b,E){return Ho(b,g)?b:gh.current!==null?(f=Dm(f,b,E),Ho(f,g)||(qr=!0),f):(Za&42)===0?(qr=!0,f.memoizedState=b):(f=hT(),dn.lanes|=f,zu|=f,g)}function Im(f,g,b,E,D){var k=ae.p;ae.p=k!==0&&8>k?k:8;var U=te.T,Q={};te.T=Q,px(f,!1,g,b);try{var ce=D(),Ae=te.S;if(Ae!==null&&Ae(Q,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var We=tP(ce,E);Ch(f,g,We,Rs(f))}else Ch(f,g,E,Rs(f))}catch(Ye){Ch(f,g,{then:function(){},status:"rejected",reason:Ye},Rs())}finally{ae.p=k,te.T=U}}function OA(){}function Nm(f,g,b,E){if(f.tag!==5)throw Error(i(476));var D=hx(f).queue;Im(f,D,g,ne,b===null?OA:function(){return eC(f),b(E)})}function hx(f){var g=f.memoizedState;if(g!==null)return g;g={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:ne},next:null};var b={};return g.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:b},next:null},f.memoizedState=g,f=f.alternate,f!==null&&(f.memoizedState=g),g}function eC(f){var g=hx(f).next.queue;Ch(f,g,{},Rs())}function Lm(){return Xi(Lp)}function Sc(){return Sr().memoizedState}function PA(){return Sr().memoizedState}function Ou(f){for(var g=f.return;g!==null;){switch(g.tag){case 24:case 3:var b=Rs();f=Nu(b);var E=Cc(g,f,b);E!==null&&(Ko(E,g,b),bm(E,g,b)),g={cache:$S()},f.payload=g;return}g=g.return}}function FA(f,g,b){var E=Rs();b={lane:E,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},tC(f)?_A(g,b):(b=np(f,g,b,E),b!==null&&(Ko(b,f,E),gx(b,g,E)))}function fx(f,g,b){var E=Rs();Ch(f,g,b,E)}function Ch(f,g,b,E){var D={lane:E,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(tC(f))_A(g,D);else{var k=f.alternate;if(f.lanes===0&&(k===null||k.lanes===0)&&(k=g.lastRenderedReducer,k!==null))try{var U=g.lastRenderedState,Q=k(U,b);if(D.hasEagerState=!0,D.eagerState=Q,Ho(Q,U))return $a(f,g,D,0),Ei===null&&sh(),!1}catch{}finally{}if(b=np(f,g,D,E),b!==null)return Ko(b,f,E),gx(b,g,E),!0}return!1}function px(f,g,b,E){if(E={lane:2,revertLane:xC(),action:E,hasEagerState:!1,eagerState:null,next:null},tC(f)){if(g)throw Error(i(479))}else g=np(f,b,E,2),g!==null&&Ko(g,f,2)}function tC(f){var g=f.alternate;return f===dn||g!==null&&g===dn}function _A(f,g){mh=lp=!0;var b=f.pending;b===null?g.next=g:(g.next=b.next,b.next=g),f.pending=g}function gx(f,g,b){if((b&4194048)!==0){var E=g.lanes;E&=f.pendingLanes,b|=E,g.lanes=b,fn(f,b)}}var km={readContext:Xi,use:U0,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},BA={readContext:Xi,use:U0,useCallback:function(f,g){return po().memoizedState=[f,g===void 0?null:g],f},useContext:Xi,useEffect:LA,useImperativeHandle:function(f,g,b){b=b!=null?b.concat([f]):null,Rm(4194308,4,Q0.bind(null,g,f),b)},useLayoutEffect:function(f,g){return Rm(4194308,4,f,g)},useInsertionEffect:function(f,g){Rm(4,2,f,g)},useMemo:function(f,g){var b=po();g=g===void 0?null:g;var E=f();if(Ms){Qe(!0);try{f()}finally{Qe(!1)}}return b.memoizedState=[E,g],E},useReducer:function(f,g,b){var E=po();if(b!==void 0){var D=b(g);if(Ms){Qe(!0);try{b(g)}finally{Qe(!1)}}}else D=g;return E.memoizedState=E.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},E.queue=f,f=f.dispatch=FA.bind(null,dn,f),[E.memoizedState,f]},useRef:function(f){var g=po();return f={current:f},g.memoizedState=f},useState:function(f){f=Y0(f);var g=f.queue,b=fx.bind(null,dn,g);return g.dispatch=b,[f.memoizedState,b]},useDebugValue:J0,useDeferredValue:function(f,g){var b=po();return Dm(b,f,g)},useTransition:function(){var f=Y0(!1);return f=Im.bind(null,dn,f.queue,!0,!1),po().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,g,b){var E=dn,D=po();if(Sn){if(b===void 0)throw Error(i(407));b=b()}else{if(b=g(),Ei===null)throw Error(i(349));(Nn&124)!==0||j0(E,g,b)}D.memoizedState=b;var k={value:b,getSnapshot:g};return D.queue=k,LA($0.bind(null,E,k,f),[f]),E.flags|=2048,up(9,X0(),TA.bind(null,E,k,b,g),null),b},useId:function(){var f=po(),g=Ei.identifierPrefix;if(Sn){var b=vc,E=Fi;b=(E&~(1<<32-mt(E)-1)).toString(32)+b,g="«"+g+"R"+b,b=cp++,0<b&&(g+="H"+b.toString(32)),g+="»"}else b=EA++,g="«"+g+"r"+b.toString(32)+"»";return f.memoizedState=g},useHostTransitionStatus:Lm,useFormState:lx,useActionState:lx,useOptimistic:function(f){var g=po();g.memoizedState=g.baseState=f;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=b,g=px.bind(null,dn,!0,b),b.dispatch=g,[f,g]},useMemoCache:Mm,useCacheRefresh:function(){return po().memoizedState=Ou.bind(null,dn)}},mx={readContext:Xi,use:U0,useCallback:go,useContext:Xi,useEffect:Wo,useImperativeHandle:ux,useInsertionEffect:kA,useLayoutEffect:Tm,useMemo:wc,useReducer:W0,useRef:dp,useState:function(){return W0(Al)},useDebugValue:J0,useDeferredValue:function(f,g){var b=Sr();return dx(b,Jn.memoizedState,f,g)},useTransition:function(){var f=W0(Al)[0],g=Sr().memoizedState;return[typeof f=="boolean"?f:xm(f),g]},useSyncExternalStore:ix,useId:Sc,useHostTransitionStatus:Lm,useFormState:Z0,useActionState:Z0,useOptimistic:function(f,g){var b=Sr();return Em(b,Jn,f,g)},useMemoCache:Mm,useCacheRefresh:PA},GA={readContext:Xi,use:U0,useCallback:go,useContext:Xi,useEffect:Wo,useImperativeHandle:ux,useInsertionEffect:kA,useLayoutEffect:Tm,useMemo:wc,useReducer:nx,useRef:dp,useState:function(){return nx(Al)},useDebugValue:J0,useDeferredValue:function(f,g){var b=Sr();return Jn===null?Dm(b,f,g):dx(b,Jn.memoizedState,f,g)},useTransition:function(){var f=nx(Al)[0],g=Sr().memoizedState;return[typeof f=="boolean"?f:xm(f),g]},useSyncExternalStore:ix,useId:Sc,useHostTransitionStatus:Lm,useFormState:cn,useActionState:cn,useOptimistic:function(f,g){var b=Sr();return Jn!==null?Em(b,Jn,f,g):(b.baseState=f,[f,b.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:PA},Nr=null,mo=0;function nC(f){var g=mo;return mo+=1,Nr===null&&(Nr=[]),qS(Nr,f,g)}function Om(f,g){g=g.props.ref,f.ref=g!==void 0?g:null}function bh(f,g){throw g.$$typeof===d?Error(i(525)):(f=Object.prototype.toString.call(g),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f)))}function wh(f){var g=f._init;return g(f._payload)}function vx(f){function g(xe,pe){if(f){var Ee=xe.deletions;Ee===null?(xe.deletions=[pe],xe.flags|=16):Ee.push(pe)}}function b(xe,pe){if(!f)return null;for(;pe!==null;)g(xe,pe),pe=pe.sibling;return null}function E(xe){for(var pe=new Map;xe!==null;)xe.key!==null?pe.set(xe.key,xe):pe.set(xe.index,xe),xe=xe.sibling;return pe}function D(xe,pe){return xe=Bs(xe,pe),xe.index=0,xe.sibling=null,xe}function k(xe,pe,Ee){return xe.index=Ee,f?(Ee=xe.alternate,Ee!==null?(Ee=Ee.index,Ee<pe?(xe.flags|=67108866,pe):Ee):(xe.flags|=67108866,pe)):(xe.flags|=1048576,pe)}function U(xe){return f&&xe.alternate===null&&(xe.flags|=67108866),xe}function Q(xe,pe,Ee,je){return pe===null||pe.tag!==6?(pe=US(Ee,xe.mode,je),pe.return=xe,pe):(pe=D(pe,Ee),pe.return=xe,pe)}function ce(xe,pe,Ee,je){var St=Ee.type;return St===m?We(xe,pe,Ee.props.children,je,Ee.key):pe!==null&&(pe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===O&&wh(St)===pe.type)?(pe=D(pe,Ee.props),Om(pe,Ee),pe.return=xe,pe):(pe=O0(Ee.type,Ee.key,Ee.props,null,xe.mode,je),Om(pe,Ee),pe.return=xe,pe)}function Ae(xe,pe,Ee,je){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ee.containerInfo||pe.stateNode.implementation!==Ee.implementation?(pe=ip(Ee,xe.mode,je),pe.return=xe,pe):(pe=D(pe,Ee.children||[]),pe.return=xe,pe)}function We(xe,pe,Ee,je,St){return pe===null||pe.tag!==7?(pe=ch(Ee,xe.mode,je,St),pe.return=xe,pe):(pe=D(pe,Ee),pe.return=xe,pe)}function Ye(xe,pe,Ee){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=US(""+pe,xe.mode,Ee),pe.return=xe,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case h:return Ee=O0(pe.type,pe.key,pe.props,null,xe.mode,Ee),Om(Ee,pe),Ee.return=xe,Ee;case p:return pe=ip(pe,xe.mode,Ee),pe.return=xe,pe;case O:var je=pe._init;return pe=je(pe._payload),Ye(xe,pe,Ee)}if(oe(pe)||$(pe))return pe=ch(pe,xe.mode,Ee,null),pe.return=xe,pe;if(typeof pe.then=="function")return Ye(xe,nC(pe),Ee);if(pe.$$typeof===x)return Ye(xe,_0(xe,pe),Ee);bh(xe,pe)}return null}function Ie(xe,pe,Ee,je){var St=pe!==null?pe.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return St!==null?null:Q(xe,pe,""+Ee,je);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case h:return Ee.key===St?ce(xe,pe,Ee,je):null;case p:return Ee.key===St?Ae(xe,pe,Ee,je):null;case O:return St=Ee._init,Ee=St(Ee._payload),Ie(xe,pe,Ee,je)}if(oe(Ee)||$(Ee))return St!==null?null:We(xe,pe,Ee,je,null);if(typeof Ee.then=="function")return Ie(xe,pe,nC(Ee),je);if(Ee.$$typeof===x)return Ie(xe,pe,_0(xe,Ee),je);bh(xe,Ee)}return null}function De(xe,pe,Ee,je,St){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return xe=xe.get(Ee)||null,Q(pe,xe,""+je,St);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case h:return xe=xe.get(je.key===null?Ee:je.key)||null,ce(pe,xe,je,St);case p:return xe=xe.get(je.key===null?Ee:je.key)||null,Ae(pe,xe,je,St);case O:var gn=je._init;return je=gn(je._payload),De(xe,pe,Ee,je,St)}if(oe(je)||$(je))return xe=xe.get(Ee)||null,We(pe,xe,je,St,null);if(typeof je.then=="function")return De(xe,pe,Ee,nC(je),St);if(je.$$typeof===x)return De(xe,pe,Ee,_0(pe,je),St);bh(pe,je)}return null}function Ht(xe,pe,Ee,je){for(var St=null,gn=null,It=pe,Vt=pe=0,Qr=null;It!==null&&Vt<Ee.length;Vt++){It.index>Vt?(Qr=It,It=null):Qr=It.sibling;var On=Ie(xe,It,Ee[Vt],je);if(On===null){It===null&&(It=Qr);break}f&&It&&On.alternate===null&&g(xe,It),pe=k(On,pe,Vt),gn===null?St=On:gn.sibling=On,gn=On,It=Qr}if(Vt===Ee.length)return b(xe,It),Sn&&uh(xe,Vt),St;if(It===null){for(;Vt<Ee.length;Vt++)It=Ye(xe,Ee[Vt],je),It!==null&&(pe=k(It,pe,Vt),gn===null?St=It:gn.sibling=It,gn=It);return Sn&&uh(xe,Vt),St}for(It=E(It);Vt<Ee.length;Vt++)Qr=De(It,xe,Vt,Ee[Vt],je),Qr!==null&&(f&&Qr.alternate!==null&&It.delete(Qr.key===null?Vt:Qr.key),pe=k(Qr,pe,Vt),gn===null?St=Qr:gn.sibling=Qr,gn=Qr);return f&&It.forEach(function(Zu){return g(xe,Zu)}),Sn&&uh(xe,Vt),St}function Bt(xe,pe,Ee,je){if(Ee==null)throw Error(i(151));for(var St=null,gn=null,It=pe,Vt=pe=0,Qr=null,On=Ee.next();It!==null&&!On.done;Vt++,On=Ee.next()){It.index>Vt?(Qr=It,It=null):Qr=It.sibling;var Zu=Ie(xe,It,On.value,je);if(Zu===null){It===null&&(It=Qr);break}f&&It&&Zu.alternate===null&&g(xe,It),pe=k(Zu,pe,Vt),gn===null?St=Zu:gn.sibling=Zu,gn=Zu,It=Qr}if(On.done)return b(xe,It),Sn&&uh(xe,Vt),St;if(It===null){for(;!On.done;Vt++,On=Ee.next())On=Ye(xe,On.value,je),On!==null&&(pe=k(On,pe,Vt),gn===null?St=On:gn.sibling=On,gn=On);return Sn&&uh(xe,Vt),St}for(It=E(It);!On.done;Vt++,On=Ee.next())On=De(It,xe,Vt,On.value,je),On!==null&&(f&&On.alternate!==null&&It.delete(On.key===null?Vt:On.key),pe=k(On,pe,Vt),gn===null?St=On:gn.sibling=On,gn=On);return f&&It.forEach(function(BP){return g(xe,BP)}),Sn&&uh(xe,Vt),St}function ci(xe,pe,Ee,je){if(typeof Ee=="object"&&Ee!==null&&Ee.type===m&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case h:e:{for(var St=Ee.key;pe!==null;){if(pe.key===St){if(St=Ee.type,St===m){if(pe.tag===7){b(xe,pe.sibling),je=D(pe,Ee.props.children),je.return=xe,xe=je;break e}}else if(pe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===O&&wh(St)===pe.type){b(xe,pe.sibling),je=D(pe,Ee.props),Om(je,Ee),je.return=xe,xe=je;break e}b(xe,pe);break}else g(xe,pe);pe=pe.sibling}Ee.type===m?(je=ch(Ee.props.children,xe.mode,je,Ee.key),je.return=xe,xe=je):(je=O0(Ee.type,Ee.key,Ee.props,null,xe.mode,je),Om(je,Ee),je.return=xe,xe=je)}return U(xe);case p:e:{for(St=Ee.key;pe!==null;){if(pe.key===St)if(pe.tag===4&&pe.stateNode.containerInfo===Ee.containerInfo&&pe.stateNode.implementation===Ee.implementation){b(xe,pe.sibling),je=D(pe,Ee.children||[]),je.return=xe,xe=je;break e}else{b(xe,pe);break}else g(xe,pe);pe=pe.sibling}je=ip(Ee,xe.mode,je),je.return=xe,xe=je}return U(xe);case O:return St=Ee._init,Ee=St(Ee._payload),ci(xe,pe,Ee,je)}if(oe(Ee))return Ht(xe,pe,Ee,je);if($(Ee)){if(St=$(Ee),typeof St!="function")throw Error(i(150));return Ee=St.call(Ee),Bt(xe,pe,Ee,je)}if(typeof Ee.then=="function")return ci(xe,pe,nC(Ee),je);if(Ee.$$typeof===x)return ci(xe,pe,_0(xe,Ee),je);bh(xe,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,pe!==null&&pe.tag===6?(b(xe,pe.sibling),je=D(pe,Ee),je.return=xe,xe=je):(b(xe,pe),je=US(Ee,xe.mode,je),je.return=xe,xe=je),U(xe)):b(xe,pe)}return function(xe,pe,Ee,je){try{mo=0;var St=ci(xe,pe,Ee,je);return Nr=null,St}catch(It){if(It===Gs||It===G0)throw It;var gn=co(29,It,null,xe.mode);return gn.lanes=je,gn.return=xe,gn}finally{}}}var Sh=vx(!0),zA=vx(!1),jo=re(null),zs=null;function xa(f){var g=f.alternate;V(Qi,Qi.current&1),V(jo,f),zs===null&&(g===null||gh.current!==null||g.memoizedState!==null)&&(zs=f)}function HA(f){if(f.tag===22){if(V(Qi,Qi.current),V(jo,f),zs===null){var g=f.alternate;g!==null&&g.memoizedState!==null&&(zs=f)}}else xc()}function xc(){V(Qi,Qi.current),V(jo,jo.current)}function Tl(f){K(jo),zs===f&&(zs=null),K(Qi)}var Qi=re(0);function Pm(f){for(var g=f;g!==null;){if(g.tag===13){var b=g.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||Vs(b)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function hp(f,g,b,E){g=f.memoizedState,b=b(E,g),b=b==null?g:u({},g,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Fm={enqueueSetState:function(f,g,b){f=f._reactInternals;var E=Rs(),D=Nu(E);D.payload=g,b!=null&&(D.callback=b),g=Cc(f,D,E),g!==null&&(Ko(g,f,E),bm(g,f,E))},enqueueReplaceState:function(f,g,b){f=f._reactInternals;var E=Rs(),D=Nu(E);D.tag=1,D.payload=g,b!=null&&(D.callback=b),g=Cc(f,D,E),g!==null&&(Ko(g,f,E),bm(g,f,E))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var b=Rs(),E=Nu(b);E.tag=2,g!=null&&(E.callback=g),g=Cc(f,E,b),g!==null&&(Ko(g,f,b),bm(g,f,b))}};function _m(f,g,b,E,D,k,U){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,k,U):g.prototype&&g.prototype.isPureReactComponent?!El(b,E)||!El(D,k):!0}function VA(f,g,b,E){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(b,E),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(b,E),g.state!==f&&Fm.enqueueReplaceState(g,g.state,null)}function Pu(f,g){var b=g;if("ref"in g){b={};for(var E in g)E!=="ref"&&(b[E]=g[E])}if(f=f.defaultProps){b===g&&(b=u({},b));for(var D in f)b[D]===void 0&&(b[D]=f[D])}return b}var xh=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function yx(f){xh(f)}function iC(f){console.error(f)}function UA(f){xh(f)}function Bm(f,g){try{var b=f.onUncaughtError;b(g.value,{componentStack:g.stack})}catch(E){setTimeout(function(){throw E})}}function Dl(f,g,b){try{var E=f.onCaughtError;E(b.value,{componentStack:b.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function rC(f,g,b){return b=Nu(b),b.tag=3,b.payload={element:null},b.callback=function(){Bm(f,g)},b}function Cx(f){return f=Nu(f),f.tag=3,f}function WA(f,g,b,E){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var k=E.value;f.payload=function(){return D(k)},f.callback=function(){Dl(g,b,E)}}var U=b.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(f.callback=function(){Dl(g,b,E),typeof D!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var Q=E.stack;this.componentDidCatch(E.value,{componentStack:Q!==null?Q:""})})}function jA(f,g,b,E,D){if(b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(g=b.alternate,g!==null&&vm(g,b,D,!0),b=jo.current,b!==null){switch(b.tag){case 13:return zs===null?Bx():b.alternate===null&&Ji===0&&(Ji=3),b.flags&=-257,b.flags|=65536,b.lanes=D,E===KS?b.flags|=16384:(g=b.updateQueue,g===null?b.updateQueue=new Set([E]):g.add(E),Hx(f,E,D)),!1;case 22:return b.flags|=65536,E===KS?b.flags|=16384:(g=b.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([E])},b.updateQueue=g):(b=g.retryQueue,b===null?g.retryQueue=new Set([E]):b.add(E)),Hx(f,E,D)),!1}throw Error(i(435,b.tag))}return Hx(f,E,D),Bx(),!1}if(Sn)return g=jo.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=D,E!==rp&&(f=Error(i(422),{cause:E}),Du(_s(f,b)))):(E!==rp&&(g=Error(i(423),{cause:E}),Du(_s(g,b))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,E=_s(E,b),D=rC(f.stateNode,E,D),Ka(f,D),Ji!==4&&(Ji=2)),!1;var k=Error(i(520),{cause:E});if(k=_s(k,b),Km===null?Km=[k]:Km.push(k),Ji!==4&&(Ji=2),g===null)return!0;E=_s(E,b),b=g;do{switch(b.tag){case 3:return b.flags|=65536,f=D&-D,b.lanes|=f,f=rC(b.stateNode,E,f),Ka(b,f),!1;case 1:if(g=b.type,k=b.stateNode,(b.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Hu===null||!Hu.has(k))))return b.flags|=65536,D&=-D,b.lanes|=D,D=Cx(D),WA(D,f,b,E),Ka(b,D),!1}b=b.return}while(b!==null);return!1}var $A=Error(i(461)),qr=!1;function Ai(f,g,b,E){g.child=f===null?zA(g,null,b,E):Sh(g,f.child,b,E)}function sC(f,g,b,E,D){b=b.render;var k=g.ref;if("ref"in E){var U={};for(var Q in E)Q!=="ref"&&(U[Q]=E[Q])}else U=E;return hh(g),E=QS(f,g,b,U,k,D),Q=ex(),f!==null&&!qr?(vh(f,g,D),Mc(f,g,D)):(Sn&&Q&&jS(g),g.flags|=1,Ai(f,g,E,D),g.child)}function oC(f,g,b,E,D){if(f===null){var k=b.type;return typeof k=="function"&&!lh(k)&&k.defaultProps===void 0&&b.compare===null?(g.tag=15,g.type=k,aC(f,g,k,E,D)):(f=O0(b.type,null,E,g,g.mode,D),f.ref=g.ref,f.return=g,g.child=f)}if(k=f.child,!Xa(f,D)){var U=k.memoizedProps;if(b=b.compare,b=b!==null?b:El,b(U,E)&&f.ref===g.ref)return Mc(f,g,D)}return g.flags|=1,f=Bs(k,E),f.ref=g.ref,f.return=g,g.child=f}function aC(f,g,b,E,D){if(f!==null){var k=f.memoizedProps;if(El(k,E)&&f.ref===g.ref)if(qr=!1,g.pendingProps=E=k,Xa(f,D))(f.flags&131072)!==0&&(qr=!0);else return g.lanes=f.lanes,Mc(f,g,D)}return fp(f,g,b,E,D)}function Gm(f,g,b){var E=g.pendingProps,D=E.children,k=f!==null?f.memoizedState:null;if(E.mode==="hidden"){if((g.flags&128)!==0){if(E=k!==null?k.baseLanes|b:b,f!==null){for(D=g.child=f.child,k=0;D!==null;)k=k|D.lanes|D.childLanes,D=D.sibling;g.childLanes=k&~E}else g.childLanes=0,g.child=null;return Mh(f,g,E,b)}if((b&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},f!==null&&B0(g,k!==null?k.cachePool:null),k!==null?bc(g,k):H0(),HA(g);else return g.lanes=g.childLanes=536870912,Mh(f,g,k!==null?k.baseLanes|b:b,b)}else k!==null?(B0(g,k.cachePool),bc(g,k),xc(),g.memoizedState=null):(f!==null&&B0(g,null),H0(),xc());return Ai(f,g,D,b),g.child}function Mh(f,g,b,E){var D=yc();return D=D===null?null:{parent:gi._currentValue,pool:D},g.memoizedState={baseLanes:b,cachePool:D},f!==null&&B0(g,null),H0(),HA(g),f!==null&&vm(f,g,E,!0),null}function kt(f,g){var b=g.ref;if(b===null)f!==null&&f.ref!==null&&(g.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(i(284));(f===null||f.ref!==b)&&(g.flags|=4194816)}}function fp(f,g,b,E,D){return hh(g),b=QS(f,g,b,E,void 0,D),E=ex(),f!==null&&!qr?(vh(f,g,D),Mc(f,g,D)):(Sn&&E&&jS(g),g.flags|=1,Ai(f,g,b,D),g.child)}function lC(f,g,b,E,D,k){return hh(g),g.updateQueue=null,b=AA(g,E,b,D),RA(f),E=ex(),f!==null&&!qr?(vh(f,g,k),Mc(f,g,k)):(Sn&&E&&jS(g),g.flags|=1,Ai(f,g,b,k),g.child)}function Fu(f,g,b,E,D){if(hh(g),g.stateNode===null){var k=ah,U=b.contextType;typeof U=="object"&&U!==null&&(k=Xi(U)),k=new b(E,k),g.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Fm,g.stateNode=k,k._reactInternals=g,k=g.stateNode,k.props=E,k.state=g.memoizedState,k.refs={},ph(g),U=b.contextType,k.context=typeof U=="object"&&U!==null?Xi(U):ah,k.state=g.memoizedState,U=b.getDerivedStateFromProps,typeof U=="function"&&(hp(g,b,U,E),k.state=g.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(U=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),U!==k.state&&Fm.enqueueReplaceState(k,k.state,null),xs(g,E,k,D),qa(),k.state=g.memoizedState),typeof k.componentDidMount=="function"&&(g.flags|=4194308),E=!0}else if(f===null){k=g.stateNode;var Q=g.memoizedProps,ce=Pu(b,Q);k.props=ce;var Ae=k.context,We=b.contextType;U=ah,typeof We=="object"&&We!==null&&(U=Xi(We));var Ye=b.getDerivedStateFromProps;We=typeof Ye=="function"||typeof k.getSnapshotBeforeUpdate=="function",Q=g.pendingProps!==Q,We||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q||Ae!==U)&&VA(g,k,E,U),Rl=!1;var Ie=g.memoizedState;k.state=Ie,xs(g,E,k,D),qa(),Ae=g.memoizedState,Q||Ie!==Ae||Rl?(typeof Ye=="function"&&(hp(g,b,Ye,E),Ae=g.memoizedState),(ce=Rl||_m(g,b,ce,E,Ie,Ae,U))?(We||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(g.flags|=4194308)):(typeof k.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=E,g.memoizedState=Ae),k.props=E,k.state=Ae,k.context=U,E=ce):(typeof k.componentDidMount=="function"&&(g.flags|=4194308),E=!1)}else{k=g.stateNode,ap(f,g),U=g.memoizedProps,We=Pu(b,U),k.props=We,Ye=g.pendingProps,Ie=k.context,Ae=b.contextType,ce=ah,typeof Ae=="object"&&Ae!==null&&(ce=Xi(Ae)),Q=b.getDerivedStateFromProps,(Ae=typeof Q=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(U!==Ye||Ie!==ce)&&VA(g,k,E,ce),Rl=!1,Ie=g.memoizedState,k.state=Ie,xs(g,E,k,D),qa();var De=g.memoizedState;U!==Ye||Ie!==De||Rl||f!==null&&f.dependencies!==null&&F0(f.dependencies)?(typeof Q=="function"&&(hp(g,b,Q,E),De=g.memoizedState),(We=Rl||_m(g,b,We,E,Ie,De,ce)||f!==null&&f.dependencies!==null&&F0(f.dependencies))?(Ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(E,De,ce),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(E,De,ce)),typeof k.componentDidUpdate=="function"&&(g.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof k.componentDidUpdate!="function"||U===f.memoizedProps&&Ie===f.memoizedState||(g.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===f.memoizedProps&&Ie===f.memoizedState||(g.flags|=1024),g.memoizedProps=E,g.memoizedState=De),k.props=E,k.state=De,k.context=ce,E=We):(typeof k.componentDidUpdate!="function"||U===f.memoizedProps&&Ie===f.memoizedState||(g.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===f.memoizedProps&&Ie===f.memoizedState||(g.flags|=1024),E=!1)}return k=E,kt(f,g),E=(g.flags&128)!==0,k||E?(k=g.stateNode,b=E&&typeof b.getDerivedStateFromError!="function"?null:k.render(),g.flags|=1,f!==null&&E?(g.child=Sh(g,f.child,null,D),g.child=Sh(g,null,b,D)):Ai(f,g,b,D),g.memoizedState=k.state,f=g.child):f=Mc(f,g,D),f}function YA(f,g,b,E){return mm(),g.flags|=256,Ai(f,g,b,E),g.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cC(f){return{baseLanes:f,cachePool:CA()}}function Zr(f,g,b){return f=f!==null?f.childLanes&~b:0,g&&(f|=Ea),f}function KA(f,g,b){var E=g.pendingProps,D=!1,k=(g.flags&128)!==0,U;if((U=k)||(U=f!==null&&f.memoizedState===null?!1:(Qi.current&2)!==0),U&&(D=!0,g.flags&=-129),U=(g.flags&32)!==0,g.flags&=-33,f===null){if(Sn){if(D?xa(g):xc(),Sn){var Q=_i,ce;if(ce=Q){e:{for(ce=Q,Q=uo;ce.nodeType!==8;){if(!Q){Q=null;break e}if(ce=Ja(ce.nextSibling),ce===null){Q=null;break e}}Q=ce}Q!==null?(g.memoizedState={dehydrated:Q,treeContext:Ri!==null?{id:Fi,overflow:vc}:null,retryLane:536870912,hydrationErrors:null},ce=co(18,null,null,0),ce.stateNode=Q,ce.return=g,g.child=ce,Ir=g,_i=null,ce=!0):ce=!1}ce||ba(g)}if(Q=g.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Vs(Q)?g.lanes=32:g.lanes=536870912,null;Tl(g)}return Q=E.children,E=E.fallback,D?(xc(),D=g.mode,Q=Hm({mode:"hidden",children:Q},D),E=ch(E,D,b,null),Q.return=g,E.return=g,Q.sibling=E,g.child=Q,D=g.child,D.memoizedState=cC(b),D.childLanes=Zr(f,U,b),g.memoizedState=zm,E):(xa(g),bx(g,Q))}if(ce=f.memoizedState,ce!==null&&(Q=ce.dehydrated,Q!==null)){if(k)g.flags&256?(xa(g),g.flags&=-257,g=wx(f,g,b)):g.memoizedState!==null?(xc(),g.child=f.child,g.flags|=128,g=null):(xc(),D=E.fallback,Q=g.mode,E=Hm({mode:"visible",children:E.children},Q),D=ch(D,Q,b,null),D.flags|=2,E.return=g,D.return=g,E.sibling=D,g.child=E,Sh(g,f.child,null,b),E=g.child,E.memoizedState=cC(b),E.childLanes=Zr(f,U,b),g.memoizedState=zm,g=D);else if(xa(g),Vs(Q)){if(U=Q.nextSibling&&Q.nextSibling.dataset,U)var Ae=U.dgst;U=Ae,E=Error(i(419)),E.stack="",E.digest=U,Du({value:E,source:null,stack:null}),g=wx(f,g,b)}else if(qr||vm(f,g,b,!1),U=(b&f.childLanes)!==0,qr||U){if(U=Ei,U!==null&&(E=b&-b,E=(E&42)!==0?1:Mi(E),E=(E&(U.suspendedLanes|b))!==0?0:E,E!==0&&E!==ce.retryLane))throw ce.retryLane=E,oh(f,E),Ko(U,f,E),$A;Q.data==="$?"||Bx(),g=wx(f,g,b)}else Q.data==="$?"?(g.flags|=192,g.child=f.child,g=null):(f=ce.treeContext,_i=Ja(Q.nextSibling),Ir=g,Sn=!0,Ya=null,uo=!1,f!==null&&(ya[Ca++]=Fi,ya[Ca++]=vc,ya[Ca++]=Ri,Fi=f.id,vc=f.overflow,Ri=g),g=bx(g,E.children),g.flags|=4096);return g}return D?(xc(),D=E.fallback,Q=g.mode,ce=f.child,Ae=ce.sibling,E=Bs(ce,{mode:"hidden",children:E.children}),E.subtreeFlags=ce.subtreeFlags&65011712,Ae!==null?D=Bs(Ae,D):(D=ch(D,Q,b,null),D.flags|=2),D.return=g,E.return=g,E.sibling=D,g.child=E,E=D,D=g.child,Q=f.child.memoizedState,Q===null?Q=cC(b):(ce=Q.cachePool,ce!==null?(Ae=gi._currentValue,ce=ce.parent!==Ae?{parent:Ae,pool:Ae}:ce):ce=CA(),Q={baseLanes:Q.baseLanes|b,cachePool:ce}),D.memoizedState=Q,D.childLanes=Zr(f,U,b),g.memoizedState=zm,E):(xa(g),b=f.child,f=b.sibling,b=Bs(b,{mode:"visible",children:E.children}),b.return=g,b.sibling=null,f!==null&&(U=g.deletions,U===null?(g.deletions=[f],g.flags|=16):U.push(f)),g.child=b,g.memoizedState=null,b)}function bx(f,g){return g=Hm({mode:"visible",children:g},f.mode),g.return=f,f.child=g}function Hm(f,g){return f=co(22,f,null,g),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function wx(f,g,b){return Sh(g,f.child,null,b),f=bx(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function Sx(f,g,b){f.lanes|=g;var E=f.alternate;E!==null&&(E.lanes|=g),ho(f.return,g,b)}function xx(f,g,b,E,D){var k=f.memoizedState;k===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:D}:(k.isBackwards=g,k.rendering=null,k.renderingStartTime=0,k.last=E,k.tail=b,k.tailMode=D)}function qA(f,g,b){var E=g.pendingProps,D=E.revealOrder,k=E.tail;if(Ai(f,g,E.children,b),E=Qi.current,(E&2)!==0)E=E&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Sx(f,b,g);else if(f.tag===19)Sx(f,b,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}switch(V(Qi,E),D){case"forwards":for(b=g.child,D=null;b!==null;)f=b.alternate,f!==null&&Pm(f)===null&&(D=b),b=b.sibling;b=D,b===null?(D=g.child,g.child=null):(D=b.sibling,b.sibling=null),xx(g,!1,D,b,k);break;case"backwards":for(b=null,D=g.child,g.child=null;D!==null;){if(f=D.alternate,f!==null&&Pm(f)===null){g.child=D;break}f=D.sibling,D.sibling=b,b=D,D=f}xx(g,!0,b,null,k);break;case"together":xx(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Mc(f,g,b){if(f!==null&&(g.dependencies=f.dependencies),zu|=g.lanes,(b&g.childLanes)===0)if(f!==null){if(vm(f,g,b,!1),(b&g.childLanes)===0)return null}else return null;if(f!==null&&g.child!==f.child)throw Error(i(153));if(g.child!==null){for(f=g.child,b=Bs(f,f.pendingProps),g.child=b,b.return=g;f.sibling!==null;)f=f.sibling,b=b.sibling=Bs(f,f.pendingProps),b.return=g;b.sibling=null}return g.child}function Xa(f,g){return(f.lanes&g)!==0?!0:(f=f.dependencies,!!(f!==null&&F0(f)))}function Hs(f,g,b){switch(g.tag){case 3:J(g,g.stateNode.containerInfo),Uo(g,gi,f.memoizedState.cache),mm();break;case 27:case 5:Te(g);break;case 4:J(g,g.stateNode.containerInfo);break;case 10:Uo(g,g.type,g.memoizedProps.value);break;case 13:var E=g.memoizedState;if(E!==null)return E.dehydrated!==null?(xa(g),g.flags|=128,null):(b&g.child.childLanes)!==0?KA(f,g,b):(xa(g),f=Mc(f,g,b),f!==null?f.sibling:null);xa(g);break;case 19:var D=(f.flags&128)!==0;if(E=(b&g.childLanes)!==0,E||(vm(f,g,b,!1),E=(b&g.childLanes)!==0),D){if(E)return qA(f,g,b);g.flags|=128}if(D=g.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),V(Qi,Qi.current),E)break;return null;case 22:case 23:return g.lanes=0,Gm(f,g,b);case 24:Uo(g,gi,f.memoizedState.cache)}return Mc(f,g,b)}function uC(f,g,b){if(f!==null)if(f.memoizedProps!==g.pendingProps)qr=!0;else{if(!Xa(f,b)&&(g.flags&128)===0)return qr=!1,Hs(f,g,b);qr=(f.flags&131072)!==0}else qr=!1,Sn&&(g.flags&1048576)!==0&&WS(g,fm,g.index);switch(g.lanes=0,g.tag){case 16:e:{f=g.pendingProps;var E=g.elementType,D=E._init;if(E=D(E._payload),g.type=E,typeof E=="function")lh(E)?(f=Pu(E,f),g.tag=1,g=Fu(null,g,E,f,b)):(g.tag=0,g=fp(null,g,E,f,b));else{if(E!=null){if(D=E.$$typeof,D===R){g.tag=11,g=sC(null,g,E,f,b);break e}else if(D===L){g.tag=14,g=oC(null,g,E,f,b);break e}}throw g=ie(E)||E,Error(i(306,g,""))}}return g;case 0:return fp(f,g,g.type,g.pendingProps,b);case 1:return E=g.type,D=Pu(E,g.pendingProps),Fu(f,g,E,D,b);case 3:e:{if(J(g,g.stateNode.containerInfo),f===null)throw Error(i(387));E=g.pendingProps;var k=g.memoizedState;D=k.element,ap(f,g),xs(g,E,null,b);var U=g.memoizedState;if(E=U.cache,Uo(g,gi,E),E!==k.cache&&pn(g,[gi],b,!0),qa(),E=U.element,k.isDehydrated)if(k={element:E,isDehydrated:!1,cache:U.cache},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){g=YA(f,g,E,b);break e}else if(E!==D){D=_s(Error(i(424)),g),Du(D),g=YA(f,g,E,b);break e}else{switch(f=g.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(_i=Ja(f.firstChild),Ir=g,Sn=!0,Ya=null,uo=!0,b=zA(g,null,E,b),g.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(mm(),E===D){g=Mc(f,g,b);break e}Ai(f,g,E,b)}g=g.child}return g;case 26:return kt(f,g),f===null?(b=jT(g.type,null,g.pendingProps,null))?g.memoizedState=b:Sn||(b=g.type,f=g.pendingProps,E=Ah(Y.current).createElement(b),E[Zi]=g,E[Yr]=f,Or(E,b,f),Kr(E),g.stateNode=E):g.memoizedState=jT(g.type,f.memoizedProps,g.pendingProps,f.memoizedState),null;case 27:return Te(g),f===null&&Sn&&(E=g.stateNode=VT(g.type,g.pendingProps,Y.current),Ir=g,uo=!0,D=_i,Ra(g.type)?(Zx=D,_i=Ja(E.firstChild)):_i=D),Ai(f,g,g.pendingProps.children,b),kt(f,g),f===null&&(g.flags|=4194304),g.child;case 5:return f===null&&Sn&&((D=E=_i)&&(E=zT(E,g.type,g.pendingProps,uo),E!==null?(g.stateNode=E,Ir=g,_i=Ja(E.firstChild),uo=!1,D=!0):D=!1),D||ba(g)),Te(g),D=g.type,k=g.pendingProps,U=f!==null?f.memoizedProps:null,E=k.children,AC(D,k)?E=null:U!==null&&AC(D,U)&&(g.flags|=32),g.memoizedState!==null&&(D=QS(f,g,JS,null,null,b),Lp._currentValue=D),kt(f,g),Ai(f,g,E,b),g.child;case 6:return f===null&&Sn&&((f=b=_i)&&(b=DC(b,g.pendingProps,uo),b!==null?(g.stateNode=b,Ir=g,_i=null,f=!0):f=!1),f||ba(g)),null;case 13:return KA(f,g,b);case 4:return J(g,g.stateNode.containerInfo),E=g.pendingProps,f===null?g.child=Sh(g,null,E,b):Ai(f,g,E,b),g.child;case 11:return sC(f,g,g.type,g.pendingProps,b);case 7:return Ai(f,g,g.pendingProps,b),g.child;case 8:return Ai(f,g,g.pendingProps.children,b),g.child;case 12:return Ai(f,g,g.pendingProps.children,b),g.child;case 10:return E=g.pendingProps,Uo(g,g.type,E.value),Ai(f,g,E.children,b),g.child;case 9:return D=g.type._context,E=g.pendingProps.children,hh(g),D=Xi(D),E=E(D),g.flags|=1,Ai(f,g,E,b),g.child;case 14:return oC(f,g,g.type,g.pendingProps,b);case 15:return aC(f,g,g.type,g.pendingProps,b);case 19:return qA(f,g,b);case 31:return E=g.pendingProps,b=g.mode,E={mode:E.mode,children:E.children},f===null?(b=Hm(E,b),b.ref=g.ref,g.child=b,b.return=g,g=b):(b=Bs(f.child,E),b.ref=g.ref,g.child=b,b.return=g,g=b),g;case 22:return Gm(f,g,b);case 24:return hh(g),E=Xi(gi),f===null?(D=yc(),D===null&&(D=Ei,k=$S(),D.pooledCache=k,k.refCount++,k!==null&&(D.pooledCacheLanes|=b),D=k),g.memoizedState={parent:E,cache:D},ph(g),Uo(g,gi,D)):((f.lanes&b)!==0&&(ap(f,g),xs(g,null,null,b),qa()),D=f.memoizedState,k=g.memoizedState,D.parent!==E?(D={parent:E,cache:E},g.memoizedState=D,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=D),Uo(g,gi,E)):(E=k.cache,Uo(g,gi,E),E!==D.cache&&pn(g,[gi],b,!0))),Ai(f,g,g.pendingProps.children,b),g.child;case 29:throw g.pendingProps}throw Error(i(156,g.tag))}function Ec(f){f.flags|=4}function dC(f,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!Pr(g)){if(g=jo.current,g!==null&&((Nn&4194048)===Nn?zs!==null:(Nn&62914560)!==Nn&&(Nn&536870912)===0||g!==zs))throw op=KS,bA;f.flags|=8192}}function hC(f,g){g!==null&&(f.flags|=4),f.flags&16384&&(g=f.tag!==22?Un():536870912,f.lanes|=g,bp|=g)}function Vm(f,g){if(!Sn)switch(f.tailMode){case"hidden":g=f.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function mi(f){var g=f.alternate!==null&&f.alternate.child===f.child,b=0,E=0;if(g)for(var D=f.child;D!==null;)b|=D.lanes|D.childLanes,E|=D.subtreeFlags&65011712,E|=D.flags&65011712,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)b|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=E,f.childLanes=b,g}function ZA(f,g,b){var E=g.pendingProps;switch(pm(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(g),null;case 1:return mi(g),null;case 3:return b=g.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),g.memoizedState.cache!==E&&(g.flags|=2048),wa(gi),he(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(f===null||f.child===null)&&(gm(g)?Ec(g):f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,gA())),mi(g),null;case 26:return b=g.memoizedState,f===null?(Ec(g),b!==null?(mi(g),dC(g,b)):(mi(g),g.flags&=-16777217)):b?b!==f.memoizedState?(Ec(g),mi(g),dC(g,b)):(mi(g),g.flags&=-16777217):(f.memoizedProps!==E&&Ec(g),mi(g),g.flags&=-16777217),null;case 27:ve(g),b=Y.current;var D=g.type;if(f!==null&&g.stateNode!=null)f.memoizedProps!==E&&Ec(g);else{if(!E){if(g.stateNode===null)throw Error(i(166));return mi(g),null}f=G.current,gm(g)?fA(g):(f=VT(D,E,b),g.stateNode=f,Ec(g))}return mi(g),null;case 5:if(ve(g),b=g.type,f!==null&&g.stateNode!=null)f.memoizedProps!==E&&Ec(g);else{if(!E){if(g.stateNode===null)throw Error(i(166));return mi(g),null}if(f=G.current,gm(g))fA(g);else{switch(D=Ah(Y.current),f){case 1:f=D.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:f=D.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":f=D.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":f=D.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":f=D.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof E.is=="string"?D.createElement("select",{is:E.is}):D.createElement("select"),E.multiple?f.multiple=!0:E.size&&(f.size=E.size);break;default:f=typeof E.is=="string"?D.createElement(b,{is:E.is}):D.createElement(b)}}f[Zi]=g,f[Yr]=E;e:for(D=g.child;D!==null;){if(D.tag===5||D.tag===6)f.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===g)break e;for(;D.sibling===null;){if(D.return===null||D.return===g)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}g.stateNode=f;e:switch(Or(f,b,E),b){case"button":case"input":case"select":case"textarea":f=!!E.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ec(g)}}return mi(g),g.flags&=-16777217,null;case 6:if(f&&g.stateNode!=null)f.memoizedProps!==E&&Ec(g);else{if(typeof E!="string"&&g.stateNode===null)throw Error(i(166));if(f=Y.current,gm(g)){if(f=g.stateNode,b=g.memoizedProps,E=null,D=Ir,D!==null)switch(D.tag){case 27:case 5:E=D.memoizedProps}f[Zi]=g,f=!!(f.nodeValue===b||E!==null&&E.suppressHydrationWarning===!0||FT(f.nodeValue,b)),f||ba(g)}else f=Ah(f).createTextNode(E),f[Zi]=g,g.stateNode=f}return mi(g),null;case 13:if(E=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=gm(g),E!==null&&E.dehydrated!==null){if(f===null){if(!D)throw Error(i(318));if(D=g.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(i(317));D[Zi]=g}else mm(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;mi(g),D=!1}else D=gA(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=D),D=!0;if(!D)return g.flags&256?(Tl(g),g):(Tl(g),null)}if(Tl(g),(g.flags&128)!==0)return g.lanes=b,g;if(b=E!==null,f=f!==null&&f.memoizedState!==null,b){E=g.child,D=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(D=E.alternate.memoizedState.cachePool.pool);var k=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(k=E.memoizedState.cachePool.pool),k!==D&&(E.flags|=2048)}return b!==f&&b&&(g.child.flags|=8192),hC(g,g.updateQueue),mi(g),null;case 4:return he(),f===null&&$x(g.stateNode.containerInfo),mi(g),null;case 10:return wa(g.type),mi(g),null;case 19:if(K(Qi),D=g.memoizedState,D===null)return mi(g),null;if(E=(g.flags&128)!==0,k=D.rendering,k===null)if(E)Vm(D,!1);else{if(Ji!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(k=Pm(f),k!==null){for(g.flags|=128,Vm(D,!1),f=k.updateQueue,g.updateQueue=f,hC(g,f),g.subtreeFlags=0,f=b,b=g.child;b!==null;)hm(b,f),b=b.sibling;return V(Qi,Qi.current&1|2),g.child}f=f.sibling}D.tail!==null&&ot()>wp&&(g.flags|=128,E=!0,Vm(D,!1),g.lanes=4194304)}else{if(!E)if(f=Pm(k),f!==null){if(g.flags|=128,E=!0,f=f.updateQueue,g.updateQueue=f,hC(g,f),Vm(D,!0),D.tail===null&&D.tailMode==="hidden"&&!k.alternate&&!Sn)return mi(g),null}else 2*ot()-D.renderingStartTime>wp&&b!==536870912&&(g.flags|=128,E=!0,Vm(D,!1),g.lanes=4194304);D.isBackwards?(k.sibling=g.child,g.child=k):(f=D.last,f!==null?f.sibling=k:g.child=k,D.last=k)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=ot(),g.sibling=null,f=Qi.current,V(Qi,E?f&1|2:f&1),g):(mi(g),null);case 22:case 23:return Tl(g),XS(),E=g.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(g.flags|=8192):E&&(g.flags|=8192),E?(b&536870912)!==0&&(g.flags&128)===0&&(mi(g),g.subtreeFlags&6&&(g.flags|=8192)):mi(g),b=g.updateQueue,b!==null&&hC(g,b.retryQueue),b=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==b&&(g.flags|=2048),f!==null&&K(fh),null;case 24:return b=null,f!==null&&(b=f.memoizedState.cache),g.memoizedState.cache!==b&&(g.flags|=2048),wa(gi),mi(g),null;case 25:return null;case 30:return null}throw Error(i(156,g.tag))}function XA(f,g){switch(pm(g),g.tag){case 1:return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return wa(gi),he(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 26:case 27:case 5:return ve(g),null;case 13:if(Tl(g),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(i(340));mm()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return K(Qi),null;case 4:return he(),null;case 10:return wa(g.type),null;case 22:case 23:return Tl(g),XS(),f!==null&&K(fh),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 24:return wa(gi),null;case 25:return null;default:return null}}function QA(f,g){switch(pm(g),g.tag){case 3:wa(gi),he();break;case 26:case 27:case 5:ve(g);break;case 4:he();break;case 13:Tl(g);break;case 19:K(Qi);break;case 10:wa(g.type);break;case 22:case 23:Tl(g),XS(),f!==null&&K(fh);break;case 24:wa(gi)}}function Um(f,g){try{var b=g.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var D=E.next;b=D;do{if((b.tag&f)===f){E=void 0;var k=b.create,U=b.inst;E=k(),U.destroy=E}b=b.next}while(b!==D)}}catch(Q){vi(g,g.return,Q)}}function _u(f,g,b){try{var E=g.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var k=D.next;E=k;do{if((E.tag&f)===f){var U=E.inst,Q=U.destroy;if(Q!==void 0){U.destroy=void 0,D=g;var ce=b,Ae=Q;try{Ae()}catch(We){vi(D,ce,We)}}}E=E.next}while(E!==k)}}catch(We){vi(g,g.return,We)}}function JA(f){var g=f.updateQueue;if(g!==null){var b=f.stateNode;try{ZS(g,b)}catch(E){vi(f,f.return,E)}}}function Mx(f,g,b){b.props=Pu(f.type,f.memoizedProps),b.state=f.memoizedState;try{b.componentWillUnmount()}catch(E){vi(f,g,E)}}function pp(f,g){try{var b=f.ref;if(b!==null){switch(f.tag){case 26:case 27:case 5:var E=f.stateNode;break;case 30:E=f.stateNode;break;default:E=f.stateNode}typeof b=="function"?f.refCleanup=b(E):b.current=E}}catch(D){vi(f,g,D)}}function Il(f,g){var b=f.ref,E=f.refCleanup;if(b!==null)if(typeof E=="function")try{E()}catch(D){vi(f,g,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){vi(f,g,D)}else b.current=null}function fC(f){var g=f.type,b=f.memoizedProps,E=f.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":b.autoFocus&&E.focus();break e;case"img":b.src?E.src=b.src:b.srcSet&&(E.srcset=b.srcSet)}}catch(D){vi(f,f.return,D)}}function pC(f,g,b){try{var E=f.stateNode;vP(E,f.type,b,g),E[Yr]=g}catch(D){vi(f,f.return,D)}}function gp(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Ra(f.type)||f.tag===4}function Wm(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||gp(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Ra(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function gC(f,g,b){var E=f.tag;if(E===5||E===6)f=f.stateNode,g?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(f,g):(g=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,g.appendChild(f),b=b._reactRootContainer,b!=null||g.onclick!==null||(g.onclick=EC));else if(E!==4&&(E===27&&Ra(f.type)&&(b=f.stateNode,g=null),f=f.child,f!==null))for(gC(f,g,b),f=f.sibling;f!==null;)gC(f,g,b),f=f.sibling}function jm(f,g,b){var E=f.tag;if(E===5||E===6)f=f.stateNode,g?b.insertBefore(f,g):b.appendChild(f);else if(E!==4&&(E===27&&Ra(f.type)&&(b=f.stateNode),f=f.child,f!==null))for(jm(f,g,b),f=f.sibling;f!==null;)jm(f,g,b),f=f.sibling}function $m(f){var g=f.stateNode,b=f.memoizedProps;try{for(var E=f.type,D=g.attributes;D.length;)g.removeAttributeNode(D[0]);Or(g,E,b),g[Zi]=f,g[Yr]=b}catch(k){vi(f,f.return,k)}}var Nl=!1,qn=!1,Rc=!1,eT=typeof WeakSet=="function"?WeakSet:Set,Lr=null;function iP(f,g){if(f=f.containerInfo,Qa=kC,f=dA(f),zS(f)){if("selectionStart"in f)var b={start:f.selectionStart,end:f.selectionEnd};else e:{b=(b=f.ownerDocument)&&b.defaultView||window;var E=b.getSelection&&b.getSelection();if(E&&E.rangeCount!==0){b=E.anchorNode;var D=E.anchorOffset,k=E.focusNode;E=E.focusOffset;try{b.nodeType,k.nodeType}catch{b=null;break e}var U=0,Q=-1,ce=-1,Ae=0,We=0,Ye=f,Ie=null;t:for(;;){for(var De;Ye!==b||D!==0&&Ye.nodeType!==3||(Q=U+D),Ye!==k||E!==0&&Ye.nodeType!==3||(ce=U+E),Ye.nodeType===3&&(U+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Ie=Ye,Ye=De;for(;;){if(Ye===f)break t;if(Ie===b&&++Ae===D&&(Q=U),Ie===k&&++We===E&&(ce=U),(De=Ye.nextSibling)!==null)break;Ye=Ie,Ie=Ye.parentNode}Ye=De}b=Q===-1||ce===-1?null:{start:Q,end:ce}}else b=null}b=b||{start:0,end:0}}else b=null;for(RC={focusedElem:f,selectionRange:b},kC=!1,Lr=g;Lr!==null;)if(g=Lr,f=g.child,(g.subtreeFlags&1024)!==0&&f!==null)f.return=g,Lr=f;else for(;Lr!==null;){switch(g=Lr,k=g.alternate,f=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&k!==null){f=void 0,b=g,D=k.memoizedProps,k=k.memoizedState,E=b.stateNode;try{var Ht=Pu(b.type,D,b.elementType===b.type);f=E.getSnapshotBeforeUpdate(Ht,k),E.__reactInternalSnapshotBeforeUpdate=f}catch(Bt){vi(b,b.return,Bt)}}break;case 3:if((f&1024)!==0){if(f=g.stateNode.containerInfo,b=f.nodeType,b===9)qx(f);else if(b===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":qx(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(i(163))}if(f=g.sibling,f!==null){f.return=g.return,Lr=f;break}Lr=g.return}}function tT(f,g,b){var E=b.flags;switch(b.tag){case 0:case 11:case 15:Bu(f,b),E&4&&Um(5,b);break;case 1:if(Bu(f,b),E&4)if(f=b.stateNode,g===null)try{f.componentDidMount()}catch(U){vi(b,b.return,U)}else{var D=Pu(b.type,g.memoizedProps);g=g.memoizedState;try{f.componentDidUpdate(D,g,f.__reactInternalSnapshotBeforeUpdate)}catch(U){vi(b,b.return,U)}}E&64&&JA(b),E&512&&pp(b,b.return);break;case 3:if(Bu(f,b),E&64&&(f=b.updateQueue,f!==null)){if(g=null,b.child!==null)switch(b.child.tag){case 27:case 5:g=b.child.stateNode;break;case 1:g=b.child.stateNode}try{ZS(f,g)}catch(U){vi(b,b.return,U)}}break;case 27:g===null&&E&4&&$m(b);case 26:case 5:Bu(f,b),g===null&&E&4&&fC(b),E&512&&pp(b,b.return);break;case 12:Bu(f,b);break;case 13:Bu(f,b),E&4&&rT(f,b),E&64&&(f=b.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(b=bC.bind(null,b),Ap(f,b))));break;case 22:if(E=b.memoizedState!==null||Nl,!E){g=g!==null&&g.memoizedState!==null||qn,D=Nl;var k=qn;Nl=E,(qn=g)&&!k?Tc(f,b,(b.subtreeFlags&8772)!==0):Bu(f,b),Nl=D,qn=k}break;case 30:break;default:Bu(f,b)}}function nT(f){var g=f.alternate;g!==null&&(f.alternate=null,nT(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&pS(g)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Bi=null,vo=!1;function Ac(f,g,b){for(b=b.child;b!==null;)iT(f,g,b),b=b.sibling}function iT(f,g,b){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ge,b)}catch{}switch(b.tag){case 26:qn||Il(b,g),Ac(f,g,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:qn||Il(b,g);var E=Bi,D=vo;Ra(b.type)&&(Bi=b.stateNode,vo=!1),Ac(f,g,b),iv(b.stateNode),Bi=E,vo=D;break;case 5:qn||Il(b,g);case 6:if(E=Bi,D=vo,Bi=null,Ac(f,g,b),Bi=E,vo=D,Bi!==null)if(vo)try{(Bi.nodeType===9?Bi.body:Bi.nodeName==="HTML"?Bi.ownerDocument.body:Bi).removeChild(b.stateNode)}catch(k){vi(b,g,k)}else try{Bi.removeChild(b.stateNode)}catch(k){vi(b,g,k)}break;case 18:Bi!==null&&(vo?(f=Bi,TC(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,b.stateNode),dv(f)):TC(Bi,b.stateNode));break;case 4:E=Bi,D=vo,Bi=b.stateNode.containerInfo,vo=!0,Ac(f,g,b),Bi=E,vo=D;break;case 0:case 11:case 14:case 15:qn||_u(2,b,g),qn||_u(4,b,g),Ac(f,g,b);break;case 1:qn||(Il(b,g),E=b.stateNode,typeof E.componentWillUnmount=="function"&&Mx(b,g,E)),Ac(f,g,b);break;case 21:Ac(f,g,b);break;case 22:qn=(E=qn)||b.memoizedState!==null,Ac(f,g,b),qn=E;break;default:Ac(f,g,b)}}function rT(f,g){if(g.memoizedState===null&&(f=g.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{dv(f)}catch(b){vi(g,g.return,b)}}function rP(f){switch(f.tag){case 13:case 19:var g=f.stateNode;return g===null&&(g=f.stateNode=new eT),g;case 22:return f=f.stateNode,g=f._retryCache,g===null&&(g=f._retryCache=new eT),g;default:throw Error(i(435,f.tag))}}function Ex(f,g){var b=rP(f);g.forEach(function(E){var D=uP.bind(null,f,E);b.has(E)||(b.add(E),E.then(D,D))})}function $o(f,g){var b=g.deletions;if(b!==null)for(var E=0;E<b.length;E++){var D=b[E],k=f,U=g,Q=U;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ra(Q.type)){Bi=Q.stateNode,vo=!1;break e}break;case 5:Bi=Q.stateNode,vo=!1;break e;case 3:case 4:Bi=Q.stateNode.containerInfo,vo=!0;break e}Q=Q.return}if(Bi===null)throw Error(i(160));iT(k,U,D),Bi=null,vo=!1,k=D.alternate,k!==null&&(k.return=null),D.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)Rx(g,f),g=g.sibling}var Ma=null;function Rx(f,g){var b=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:$o(g,f),yo(f),E&4&&(_u(3,f,f.return),Um(3,f),_u(5,f,f.return));break;case 1:$o(g,f),yo(f),E&512&&(qn||b===null||Il(b,b.return)),E&64&&Nl&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(b=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=b===null?E:b.concat(E))));break;case 26:var D=Ma;if($o(g,f),yo(f),E&512&&(qn||b===null||Il(b,b.return)),E&4){var k=b!==null?b.memoizedState:null;if(E=f.memoizedState,b===null)if(E===null)if(f.stateNode===null){e:{E=f.type,b=f.memoizedProps,D=D.ownerDocument||D;t:switch(E){case"title":k=D.getElementsByTagName("title")[0],(!k||k[em]||k[Zi]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=D.createElement(E),D.head.insertBefore(k,D.querySelector("head > title"))),Or(k,E,b),k[Zi]=f,Kr(k),E=k;break e;case"link":var U=KT("link","href",D).get(E+(b.href||""));if(U){for(var Q=0;Q<U.length;Q++)if(k=U[Q],k.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&k.getAttribute("rel")===(b.rel==null?null:b.rel)&&k.getAttribute("title")===(b.title==null?null:b.title)&&k.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){U.splice(Q,1);break t}}k=D.createElement(E),Or(k,E,b),D.head.appendChild(k);break;case"meta":if(U=KT("meta","content",D).get(E+(b.content||""))){for(Q=0;Q<U.length;Q++)if(k=U[Q],k.getAttribute("content")===(b.content==null?null:""+b.content)&&k.getAttribute("name")===(b.name==null?null:b.name)&&k.getAttribute("property")===(b.property==null?null:b.property)&&k.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&k.getAttribute("charset")===(b.charSet==null?null:b.charSet)){U.splice(Q,1);break t}}k=D.createElement(E),Or(k,E,b),D.head.appendChild(k);break;default:throw Error(i(468,E))}k[Zi]=f,Kr(k),E=k}f.stateNode=E}else qT(D,f.type,f.stateNode);else f.stateNode=YT(D,E,f.memoizedProps);else k!==E?(k===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):k.count--,E===null?qT(D,f.type,f.stateNode):YT(D,E,f.memoizedProps)):E===null&&f.stateNode!==null&&pC(f,f.memoizedProps,b.memoizedProps)}break;case 27:$o(g,f),yo(f),E&512&&(qn||b===null||Il(b,b.return)),b!==null&&E&4&&pC(f,f.memoizedProps,b.memoizedProps);break;case 5:if($o(g,f),yo(f),E&512&&(qn||b===null||Il(b,b.return)),f.flags&32){D=f.stateNode;try{wu(D,"")}catch(De){vi(f,f.return,De)}}E&4&&f.stateNode!=null&&(D=f.memoizedProps,pC(f,D,b!==null?b.memoizedProps:D)),E&1024&&(Rc=!0);break;case 6:if($o(g,f),yo(f),E&4){if(f.stateNode===null)throw Error(i(162));E=f.memoizedProps,b=f.stateNode;try{b.nodeValue=E}catch(De){vi(f,f.return,De)}}break;case 3:if(Np=null,D=Ma,Ma=rn(g.containerInfo),$o(g,f),Ma=D,yo(f),E&4&&b!==null&&b.memoizedState.isDehydrated)try{dv(g.containerInfo)}catch(De){vi(f,f.return,De)}Rc&&(Rc=!1,sT(f));break;case 4:E=Ma,Ma=rn(f.stateNode.containerInfo),$o(g,f),yo(f),Ma=E;break;case 12:$o(g,f),yo(f);break;case 13:$o(g,f),yo(f),f.child.flags&8192&&f.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(kx=ot()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Ex(f,E)));break;case 22:D=f.memoizedState!==null;var ce=b!==null&&b.memoizedState!==null,Ae=Nl,We=qn;if(Nl=Ae||D,qn=We||ce,$o(g,f),qn=We,Nl=Ae,yo(f),E&8192)e:for(g=f.stateNode,g._visibility=D?g._visibility&-2:g._visibility|1,D&&(b===null||ce||Nl||qn||Eh(f)),b=null,g=f;;){if(g.tag===5||g.tag===26){if(b===null){ce=b=g;try{if(k=ce.stateNode,D)U=k.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Q=ce.stateNode;var Ye=ce.memoizedProps.style,Ie=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;Q.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(De){vi(ce,ce.return,De)}}}else if(g.tag===6){if(b===null){ce=g;try{ce.stateNode.nodeValue=D?"":ce.memoizedProps}catch(De){vi(ce,ce.return,De)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===f)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break e;for(;g.sibling===null;){if(g.return===null||g.return===f)break e;b===g&&(b=null),g=g.return}b===g&&(b=null),g.sibling.return=g.return,g=g.sibling}E&4&&(E=f.updateQueue,E!==null&&(b=E.retryQueue,b!==null&&(E.retryQueue=null,Ex(f,b))));break;case 19:$o(g,f),yo(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Ex(f,E)));break;case 30:break;case 21:break;default:$o(g,f),yo(f)}}function yo(f){var g=f.flags;if(g&2){try{for(var b,E=f.return;E!==null;){if(gp(E)){b=E;break}E=E.return}if(b==null)throw Error(i(160));switch(b.tag){case 27:var D=b.stateNode,k=Wm(f);jm(f,k,D);break;case 5:var U=b.stateNode;b.flags&32&&(wu(U,""),b.flags&=-33);var Q=Wm(f);jm(f,Q,U);break;case 3:case 4:var ce=b.stateNode.containerInfo,Ae=Wm(f);gC(f,Ae,ce);break;default:throw Error(i(161))}}catch(We){vi(f,f.return,We)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function sT(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var g=f;sT(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),f=f.sibling}}function Bu(f,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)tT(f,g.alternate,g),g=g.sibling}function Eh(f){for(f=f.child;f!==null;){var g=f;switch(g.tag){case 0:case 11:case 14:case 15:_u(4,g,g.return),Eh(g);break;case 1:Il(g,g.return);var b=g.stateNode;typeof b.componentWillUnmount=="function"&&Mx(g,g.return,b),Eh(g);break;case 27:iv(g.stateNode);case 26:case 5:Il(g,g.return),Eh(g);break;case 22:g.memoizedState===null&&Eh(g);break;case 30:Eh(g);break;default:Eh(g)}f=f.sibling}}function Tc(f,g,b){for(b=b&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var E=g.alternate,D=f,k=g,U=k.flags;switch(k.tag){case 0:case 11:case 15:Tc(D,k,b),Um(4,k);break;case 1:if(Tc(D,k,b),E=k,D=E.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ae){vi(E,E.return,Ae)}if(E=k,D=E.updateQueue,D!==null){var Q=E.stateNode;try{var ce=D.shared.hiddenCallbacks;if(ce!==null)for(D.shared.hiddenCallbacks=null,D=0;D<ce.length;D++)MA(ce[D],Q)}catch(Ae){vi(E,E.return,Ae)}}b&&U&64&&JA(k),pp(k,k.return);break;case 27:$m(k);case 26:case 5:Tc(D,k,b),b&&E===null&&U&4&&fC(k),pp(k,k.return);break;case 12:Tc(D,k,b);break;case 13:Tc(D,k,b),b&&U&4&&rT(D,k);break;case 22:k.memoizedState===null&&Tc(D,k,b),pp(k,k.return);break;case 30:break;default:Tc(D,k,b)}g=g.sibling}}function Ax(f,g){var b=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),f=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(f=g.memoizedState.cachePool.pool),f!==b&&(f!=null&&f.refCount++,b!=null&&ym(b))}function Tx(f,g){f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&ym(f))}function Ll(f,g,b,E){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)oT(f,g,b,E),g=g.sibling}function oT(f,g,b,E){var D=g.flags;switch(g.tag){case 0:case 11:case 15:Ll(f,g,b,E),D&2048&&Um(9,g);break;case 1:Ll(f,g,b,E);break;case 3:Ll(f,g,b,E),D&2048&&(f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&ym(f)));break;case 12:if(D&2048){Ll(f,g,b,E),f=g.stateNode;try{var k=g.memoizedProps,U=k.id,Q=k.onPostCommit;typeof Q=="function"&&Q(U,g.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(ce){vi(g,g.return,ce)}}else Ll(f,g,b,E);break;case 13:Ll(f,g,b,E);break;case 23:break;case 22:k=g.stateNode,U=g.alternate,g.memoizedState!==null?k._visibility&2?Ll(f,g,b,E):Ym(f,g):k._visibility&2?Ll(f,g,b,E):(k._visibility|=2,mp(f,g,b,E,(g.subtreeFlags&10256)!==0)),D&2048&&Ax(U,g);break;case 24:Ll(f,g,b,E),D&2048&&Tx(g.alternate,g);break;default:Ll(f,g,b,E)}}function mp(f,g,b,E,D){for(D=D&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var k=f,U=g,Q=b,ce=E,Ae=U.flags;switch(U.tag){case 0:case 11:case 15:mp(k,U,Q,ce,D),Um(8,U);break;case 23:break;case 22:var We=U.stateNode;U.memoizedState!==null?We._visibility&2?mp(k,U,Q,ce,D):Ym(k,U):(We._visibility|=2,mp(k,U,Q,ce,D)),D&&Ae&2048&&Ax(U.alternate,U);break;case 24:mp(k,U,Q,ce,D),D&&Ae&2048&&Tx(U.alternate,U);break;default:mp(k,U,Q,ce,D)}g=g.sibling}}function Ym(f,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var b=f,E=g,D=E.flags;switch(E.tag){case 22:Ym(b,E),D&2048&&Ax(E.alternate,E);break;case 24:Ym(b,E),D&2048&&Tx(E.alternate,E);break;default:Ym(b,E)}g=g.sibling}}var Es=8192;function vp(f){if(f.subtreeFlags&Es)for(f=f.child;f!==null;)aT(f),f=f.sibling}function aT(f){switch(f.tag){case 26:vp(f),f.flags&Es&&f.memoizedState!==null&&DP(Ma,f.memoizedState,f.memoizedProps);break;case 5:vp(f);break;case 3:case 4:var g=Ma;Ma=rn(f.stateNode.containerInfo),vp(f),Ma=g;break;case 22:f.memoizedState===null&&(g=f.alternate,g!==null&&g.memoizedState!==null?(g=Es,Es=16777216,vp(f),Es=g):vp(f));break;default:vp(f)}}function lT(f){var g=f.alternate;if(g!==null&&(f=g.child,f!==null)){g.child=null;do g=f.sibling,f.sibling=null,f=g;while(f!==null)}}function yp(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var E=g[b];Lr=E,uT(E,f)}lT(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)cT(f),f=f.sibling}function cT(f){switch(f.tag){case 0:case 11:case 15:yp(f),f.flags&2048&&_u(9,f,f.return);break;case 3:yp(f);break;case 12:yp(f);break;case 22:var g=f.stateNode;f.memoizedState!==null&&g._visibility&2&&(f.return===null||f.return.tag!==13)?(g._visibility&=-3,mC(f)):yp(f);break;default:yp(f)}}function mC(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var E=g[b];Lr=E,uT(E,f)}lT(f)}for(f=f.child;f!==null;){switch(g=f,g.tag){case 0:case 11:case 15:_u(8,g,g.return),mC(g);break;case 22:b=g.stateNode,b._visibility&2&&(b._visibility&=-3,mC(g));break;default:mC(g)}f=f.sibling}}function uT(f,g){for(;Lr!==null;){var b=Lr;switch(b.tag){case 0:case 11:case 15:_u(8,b,g);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var E=b.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:ym(b.memoizedState.cache)}if(E=b.child,E!==null)E.return=b,Lr=E;else e:for(b=f;Lr!==null;){E=Lr;var D=E.sibling,k=E.return;if(nT(E),E===b){Lr=null;break e}if(D!==null){D.return=k,Lr=D;break e}Lr=k}}}var sP={getCacheForType:function(f){var g=Xi(gi),b=g.data.get(f);return b===void 0&&(b=f(),g.data.set(f,b)),b}},Dx=typeof WeakMap=="function"?WeakMap:Map,ei=0,Ei=null,vn=null,Nn=0,ti=0,Yo=null,Gu=!1,Cp=!1,Ix=!1,Dc=0,Ji=0,zu=0,Rh=0,Nx=0,Ea=0,bp=0,Km=null,Co=null,Lx=!1,kx=0,wp=1/0,qm=null,Hu=null,cs=0,Vu=null,Sp=null,xp=0,Ox=0,Px=null,dT=null,Mp=0,Fx=null;function Rs(){if((ei&2)!==0&&Nn!==0)return Nn&-Nn;if(te.T!==null){var f=sp;return f!==0?f:xC()}return Wa()}function hT(){Ea===0&&(Ea=(Nn&536870912)===0||Sn?Qt():536870912);var f=jo.current;return f!==null&&(f.flags|=32),Ea}function Ko(f,g,b){(f===Ei&&(ti===2||ti===9)||f.cancelPendingCommit!==null)&&(Ep(f,0),Uu(f,Nn,Ea,!1)),$r(f,b),((ei&2)===0||f!==Ei)&&(f===Ei&&((ei&2)===0&&(Rh|=b),Ji===4&&Uu(f,Nn,Ea,!1)),kl(f))}function fT(f,g,b){if((ei&6)!==0)throw Error(i(327));var E=!b&&(g&124)===0&&(g&f.expiredLanes)===0||Ss(f,g),D=E?lP(f,g):Gx(f,g,!0),k=E;do{if(D===0){Cp&&!E&&Uu(f,g,0,!1);break}else{if(b=f.current.alternate,k&&!oP(b)){D=Gx(f,g,!1),k=!1;continue}if(D===2){if(k=g,f.errorRecoveryDisabledLanes&k)var U=0;else U=f.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){g=U;e:{var Q=f;D=Km;var ce=Q.current.memoizedState.isDehydrated;if(ce&&(Ep(Q,U).flags|=256),U=Gx(Q,U,!1),U!==2){if(Ix&&!ce){Q.errorRecoveryDisabledLanes|=k,Rh|=k,D=4;break e}k=Co,Co=D,k!==null&&(Co===null?Co=k:Co.push.apply(Co,k))}D=U}if(k=!1,D!==2)continue}}if(D===1){Ep(f,0),Uu(f,g,0,!0);break}e:{switch(E=f,k=D,k){case 0:case 1:throw Error(i(345));case 4:if((g&4194048)!==g)break;case 6:Uu(E,g,Ea,!Gu);break e;case 2:Co=null;break;case 3:case 5:break;default:throw Error(i(329))}if((g&62914560)===g&&(D=kx+300-ot(),10<D)){if(Uu(E,g,Ea,!Gu),jr(E,0,!0)!==0)break e;E.timeoutHandle=_T(pT.bind(null,E,b,Co,qm,Lx,g,Ea,Rh,bp,Gu,k,2,-0,0),D);break e}pT(E,b,Co,qm,Lx,g,Ea,Rh,bp,Gu,k,0,-0,0)}}break}while(!0);kl(f)}function pT(f,g,b,E,D,k,U,Q,ce,Ae,We,Ye,Ie,De){if(f.timeoutHandle=-1,Ye=g.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Xr={stylesheets:null,count:0,unsuspend:TP},aT(g),Ye=IP(),Ye!==null)){f.cancelPendingCommit=Ye(Zm.bind(null,f,g,k,b,E,D,U,Q,ce,We,1,Ie,De)),Uu(f,k,U,!Ae);return}Zm(f,g,k,b,E,D,U,Q,ce)}function oP(f){for(var g=f;;){var b=g.tag;if((b===0||b===11||b===15)&&g.flags&16384&&(b=g.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var E=0;E<b.length;E++){var D=b[E],k=D.getSnapshot;D=D.value;try{if(!Ho(k(),D))return!1}catch{return!1}}if(b=g.child,g.subtreeFlags&16384&&b!==null)b.return=g,g=b;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Uu(f,g,b,E){g&=~Nx,g&=~Rh,f.suspendedLanes|=g,f.pingedLanes&=~g,E&&(f.warmLanes|=g),E=f.expirationTimes;for(var D=g;0<D;){var k=31-mt(D),U=1<<k;E[k]=-1,D&=~U}b!==0&&bt(f,b,g)}function vC(){return(ei&6)===0?(Jm(0),!1):!0}function _x(){if(vn!==null){if(ti===0)var f=vn.return;else f=vn,X=Iu=null,V0(f),Nr=null,mo=0,f=vn;for(;f!==null;)QA(f.alternate,f),f=f.return;vn=null}}function Ep(f,g){var b=f.timeoutHandle;b!==-1&&(f.timeoutHandle=-1,CP(b)),b=f.cancelPendingCommit,b!==null&&(f.cancelPendingCommit=null,b()),_x(),Ei=f,vn=b=Bs(f.current,null),Nn=g,ti=0,Yo=null,Gu=!1,Cp=Ss(f,g),Ix=!1,bp=Ea=Nx=Rh=zu=Ji=0,Co=Km=null,Lx=!1,(g&8)!==0&&(g|=g&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=g;0<E;){var D=31-mt(E),k=1<<D;g|=f[D],E&=~k}return Dc=g,sh(),b}function gT(f,g){dn=null,te.H=km,g===Gs||g===G0?(g=SA(),ti=3):g===bA?(g=SA(),ti=4):ti=g===$A?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Yo=g,vn===null&&(Ji=1,Bm(f,_s(g,f.current)))}function mT(){var f=te.H;return te.H=km,f===null?km:f}function vT(){var f=te.A;return te.A=sP,f}function Bx(){Ji=4,Gu||(Nn&4194048)!==Nn&&jo.current!==null||(Cp=!0),(zu&134217727)===0&&(Rh&134217727)===0||Ei===null||Uu(Ei,Nn,Ea,!1)}function Gx(f,g,b){var E=ei;ei|=2;var D=mT(),k=vT();(Ei!==f||Nn!==g)&&(qm=null,Ep(f,g)),g=!1;var U=Ji;e:do try{if(ti!==0&&vn!==null){var Q=vn,ce=Yo;switch(ti){case 8:_x(),U=6;break e;case 3:case 2:case 9:case 6:jo.current===null&&(g=!0);var Ae=ti;if(ti=0,Yo=null,Rp(f,Q,ce,Ae),b&&Cp){U=0;break e}break;default:Ae=ti,ti=0,Yo=null,Rp(f,Q,ce,Ae)}}aP(),U=Ji;break}catch(We){gT(f,We)}while(!0);return g&&f.shellSuspendCounter++,X=Iu=null,ei=E,te.H=D,te.A=k,vn===null&&(Ei=null,Nn=0,sh()),U}function aP(){for(;vn!==null;)zx(vn)}function lP(f,g){var b=ei;ei|=2;var E=mT(),D=vT();Ei!==f||Nn!==g?(qm=null,wp=ot()+500,Ep(f,g)):Cp=Ss(f,g);e:do try{if(ti!==0&&vn!==null){g=vn;var k=Yo;t:switch(ti){case 1:ti=0,Yo=null,Rp(f,g,k,1);break;case 2:case 9:if(wA(k)){ti=0,Yo=null,CT(g);break}g=function(){ti!==2&&ti!==9||Ei!==f||(ti=7),kl(f)},k.then(g,g);break e;case 3:ti=7;break e;case 4:ti=5;break e;case 7:wA(k)?(ti=0,Yo=null,CT(g)):(ti=0,Yo=null,Rp(f,g,k,7));break;case 5:var U=null;switch(vn.tag){case 26:U=vn.memoizedState;case 5:case 27:var Q=vn;if(!U||Pr(U)){ti=0,Yo=null;var ce=Q.sibling;if(ce!==null)vn=ce;else{var Ae=Q.return;Ae!==null?(vn=Ae,yC(Ae)):vn=null}break t}}ti=0,Yo=null,Rp(f,g,k,5);break;case 6:ti=0,Yo=null,Rp(f,g,k,6);break;case 8:_x(),Ji=6;break e;default:throw Error(i(462))}}yT();break}catch(We){gT(f,We)}while(!0);return X=Iu=null,te.H=E,te.A=D,ei=b,vn!==null?0:(Ei=null,Nn=0,sh(),Ji)}function yT(){for(;vn!==null&&!st();)zx(vn)}function zx(f){var g=uC(f.alternate,f,Dc);f.memoizedProps=f.pendingProps,g===null?yC(f):vn=g}function CT(f){var g=f,b=g.alternate;switch(g.tag){case 15:case 0:g=lC(b,g,g.pendingProps,g.type,void 0,Nn);break;case 11:g=lC(b,g,g.pendingProps,g.type.render,g.ref,Nn);break;case 5:V0(g);default:QA(b,g),g=vn=hm(g,Dc),g=uC(b,g,Dc)}f.memoizedProps=f.pendingProps,g===null?yC(f):vn=g}function Rp(f,g,b,E){X=Iu=null,V0(g),Nr=null,mo=0;var D=g.return;try{if(jA(f,D,g,b,Nn)){Ji=1,Bm(f,_s(b,f.current)),vn=null;return}}catch(k){if(D!==null)throw vn=D,k;Ji=1,Bm(f,_s(b,f.current)),vn=null;return}g.flags&32768?(Sn||E===1?f=!0:Cp||(Nn&536870912)!==0?f=!1:(Gu=f=!0,(E===2||E===9||E===3||E===6)&&(E=jo.current,E!==null&&E.tag===13&&(E.flags|=16384))),bT(g,f)):yC(g)}function yC(f){var g=f;do{if((g.flags&32768)!==0){bT(g,Gu);return}f=g.return;var b=ZA(g.alternate,g,Dc);if(b!==null){vn=b;return}if(g=g.sibling,g!==null){vn=g;return}vn=g=f}while(g!==null);Ji===0&&(Ji=5)}function bT(f,g){do{var b=XA(f.alternate,f);if(b!==null){b.flags&=32767,vn=b;return}if(b=f.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!g&&(f=f.sibling,f!==null)){vn=f;return}vn=f=b}while(f!==null);Ji=6,vn=null}function Zm(f,g,b,E,D,k,U,Q,ce){f.cancelPendingCommit=null;do CC();while(cs!==0);if((ei&6)!==0)throw Error(i(327));if(g!==null){if(g===f.current)throw Error(i(177));if(k=g.lanes|g.childLanes,k|=VS,Fs(f,b,k,U,Q,ce),f===Ei&&(vn=Ei=null,Nn=0),Sp=g,Vu=f,xp=b,Ox=k,Px=D,dT=E,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,TT(at,function(){return ET(),null})):(f.callbackNode=null,f.callbackPriority=0),E=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||E){E=te.T,te.T=null,D=ae.p,ae.p=2,U=ei,ei|=4;try{iP(f,g,b)}finally{ei=U,ae.p=D,te.T=E}}cs=1,wT(),ST(),xT()}}function wT(){if(cs===1){cs=0;var f=Vu,g=Sp,b=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||b){b=te.T,te.T=null;var E=ae.p;ae.p=2;var D=ei;ei|=4;try{Rx(g,f);var k=RC,U=dA(f.containerInfo),Q=k.focusedElem,ce=k.selectionRange;if(U!==Q&&Q&&Q.ownerDocument&&uA(Q.ownerDocument.documentElement,Q)){if(ce!==null&&zS(Q)){var Ae=ce.start,We=ce.end;if(We===void 0&&(We=Ae),"selectionStart"in Q)Q.selectionStart=Ae,Q.selectionEnd=Math.min(We,Q.value.length);else{var Ye=Q.ownerDocument||document,Ie=Ye&&Ye.defaultView||window;if(Ie.getSelection){var De=Ie.getSelection(),Ht=Q.textContent.length,Bt=Math.min(ce.start,Ht),ci=ce.end===void 0?Bt:Math.min(ce.end,Ht);!De.extend&&Bt>ci&&(U=ci,ci=Bt,Bt=U);var xe=GS(Q,Bt),pe=GS(Q,ci);if(xe&&pe&&(De.rangeCount!==1||De.anchorNode!==xe.node||De.anchorOffset!==xe.offset||De.focusNode!==pe.node||De.focusOffset!==pe.offset)){var Ee=Ye.createRange();Ee.setStart(xe.node,xe.offset),De.removeAllRanges(),Bt>ci?(De.addRange(Ee),De.extend(pe.node,pe.offset)):(Ee.setEnd(pe.node,pe.offset),De.addRange(Ee))}}}}for(Ye=[],De=Q;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ye.length;Q++){var je=Ye[Q];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}kC=!!Qa,RC=Qa=null}finally{ei=D,ae.p=E,te.T=b}}f.current=g,cs=2}}function ST(){if(cs===2){cs=0;var f=Vu,g=Sp,b=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||b){b=te.T,te.T=null;var E=ae.p;ae.p=2;var D=ei;ei|=4;try{tT(f,g.alternate,g)}finally{ei=D,ae.p=E,te.T=b}}cs=3}}function xT(){if(cs===4||cs===3){cs=0,Dt();var f=Vu,g=Sp,b=xp,E=dT;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?cs=5:(cs=0,Sp=Vu=null,MT(f,f.pendingLanes));var D=f.pendingLanes;if(D===0&&(Hu=null),sn(b),g=g.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ge,g,void 0,(g.current.flags&128)===128)}catch{}if(E!==null){g=te.T,D=ae.p,ae.p=2,te.T=null;try{for(var k=f.onRecoverableError,U=0;U<E.length;U++){var Q=E[U];k(Q.value,{componentStack:Q.stack})}}finally{te.T=g,ae.p=D}}(xp&3)!==0&&CC(),kl(f),D=f.pendingLanes,(b&4194090)!==0&&(D&42)!==0?f===Fx?Mp++:(Mp=0,Fx=f):Mp=0,Jm(0)}}function MT(f,g){(f.pooledCacheLanes&=g)===0&&(g=f.pooledCache,g!=null&&(f.pooledCache=null,ym(g)))}function CC(f){return wT(),ST(),xT(),ET()}function ET(){if(cs!==5)return!1;var f=Vu,g=Ox;Ox=0;var b=sn(xp),E=te.T,D=ae.p;try{ae.p=32>b?32:b,te.T=null,b=Px,Px=null;var k=Vu,U=xp;if(cs=0,Sp=Vu=null,xp=0,(ei&6)!==0)throw Error(i(331));var Q=ei;if(ei|=4,cT(k.current),oT(k,k.current,U,b),ei=Q,Jm(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ge,k)}catch{}return!0}finally{ae.p=D,te.T=E,MT(f,g)}}function RT(f,g,b){g=_s(b,g),g=rC(f.stateNode,g,2),f=Cc(f,g,2),f!==null&&($r(f,2),kl(f))}function vi(f,g,b){if(f.tag===3)RT(f,f,b);else for(;g!==null;){if(g.tag===3){RT(g,f,b);break}else if(g.tag===1){var E=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Hu===null||!Hu.has(E))){f=_s(b,f),b=Cx(2),E=Cc(g,b,2),E!==null&&(WA(b,E,g,f),$r(E,2),kl(E));break}}g=g.return}}function Hx(f,g,b){var E=f.pingCache;if(E===null){E=f.pingCache=new Dx;var D=new Set;E.set(g,D)}else D=E.get(g),D===void 0&&(D=new Set,E.set(g,D));D.has(b)||(Ix=!0,D.add(b),f=cP.bind(null,f,g,b),g.then(f,f))}function cP(f,g,b){var E=f.pingCache;E!==null&&E.delete(g),f.pingedLanes|=f.suspendedLanes&b,f.warmLanes&=~b,Ei===f&&(Nn&b)===b&&(Ji===4||Ji===3&&(Nn&62914560)===Nn&&300>ot()-kx?(ei&2)===0&&Ep(f,0):Nx|=b,bp===Nn&&(bp=0)),kl(f)}function AT(f,g){g===0&&(g=Un()),f=oh(f,g),f!==null&&($r(f,g),kl(f))}function bC(f){var g=f.memoizedState,b=0;g!==null&&(b=g.retryLane),AT(f,b)}function uP(f,g){var b=0;switch(f.tag){case 13:var E=f.stateNode,D=f.memoizedState;D!==null&&(b=D.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(g),AT(f,b)}function TT(f,g){return ke(f,g)}var Xm=null,Wu=null,wC=!1,Qm=!1,SC=!1,ju=0;function kl(f){f!==Wu&&f.next===null&&(Wu===null?Xm=Wu=f:Wu=Wu.next=f),Qm=!0,wC||(wC=!0,Vx())}function Jm(f,g){if(!SC&&Qm){SC=!0;do for(var b=!1,E=Xm;E!==null;){if(f!==0){var D=E.pendingLanes;if(D===0)var k=0;else{var U=E.suspendedLanes,Q=E.pingedLanes;k=(1<<31-mt(42|f)+1)-1,k&=D&~(U&~Q),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(b=!0,IT(E,k))}else k=Nn,k=jr(E,E===Ei?k:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(k&3)===0||Ss(E,k)||(b=!0,IT(E,k));E=E.next}while(b);SC=!1}}function dP(){ev()}function ev(){Qm=wC=!1;var f=0;ju!==0&&(yP()&&(f=ju),ju=0);for(var g=ot(),b=null,E=Xm;E!==null;){var D=E.next,k=tv(E,g);k===0?(E.next=null,b===null?Xm=D:b.next=D,D===null&&(Wu=b)):(b=E,(f!==0||(k&3)!==0)&&(Qm=!0)),E=D}Jm(f)}function tv(f,g){for(var b=f.suspendedLanes,E=f.pingedLanes,D=f.expirationTimes,k=f.pendingLanes&-62914561;0<k;){var U=31-mt(k),Q=1<<U,ce=D[U];ce===-1?((Q&b)===0||(Q&E)!==0)&&(D[U]=fc(Q,g)):ce<=g&&(f.expiredLanes|=Q),k&=~Q}if(g=Ei,b=Nn,b=jr(f,f===g?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E=f.callbackNode,b===0||f===g&&(ti===2||ti===9)||f.cancelPendingCommit!==null)return E!==null&&E!==null&&He(E),f.callbackNode=null,f.callbackPriority=0;if((b&3)===0||Ss(f,b)){if(g=b&-b,g===f.callbackPriority)return g;switch(E!==null&&He(E),sn(b)){case 2:case 8:b=qe;break;case 32:b=at;break;case 268435456:b=Fe;break;default:b=at}return E=DT.bind(null,f),b=ke(b,E),f.callbackPriority=g,f.callbackNode=b,g}return E!==null&&E!==null&&He(E),f.callbackPriority=2,f.callbackNode=null,2}function DT(f,g){if(cs!==0&&cs!==5)return f.callbackNode=null,f.callbackPriority=0,null;var b=f.callbackNode;if(CC()&&f.callbackNode!==b)return null;var E=Nn;return E=jr(f,f===Ei?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E===0?null:(fT(f,E,g),tv(f,ot()),f.callbackNode!=null&&f.callbackNode===b?DT.bind(null,f):null)}function IT(f,g){if(CC())return null;fT(f,g,!0)}function Vx(){bP(function(){(ei&6)!==0?ke(Ue,dP):ev()})}function xC(){return ju===0&&(ju=Qt()),ju}function NT(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:im(""+f)}function LT(f,g){var b=g.ownerDocument.createElement("input");return b.name=g.name,b.value=g.value,f.id&&b.setAttribute("form",f.id),g.parentNode.insertBefore(b,g),f=new FormData(f),b.parentNode.removeChild(b),f}function hP(f,g,b,E,D){if(g==="submit"&&b&&b.stateNode===D){var k=NT((D[Yr]||null).action),U=E.submitter;U&&(g=(g=U[Yr]||null)?NT(g.formAction):U.getAttribute("formAction"),g!==null&&(k=g,U=null));var Q=new C0("action","action",null,E,D);f.push({event:Q,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(ju!==0){var ce=U?LT(D,U):new FormData(D);Nm(b,{pending:!0,data:ce,method:D.method,action:k},null,ce)}}else typeof k=="function"&&(Q.preventDefault(),ce=U?LT(D,U):new FormData(D),Nm(b,{pending:!0,data:ce,method:D.method,action:k},k,ce))},currentTarget:D}]})}}for(var Ux=0;Ux<Wn.length;Ux++){var Wx=Wn[Ux],fP=Wx.toLowerCase(),pP=Wx[0].toUpperCase()+Wx.slice(1);ja(fP,"on"+pP)}ja(N0,"onAnimationEnd"),ja(hA,"onAnimationIteration"),ja(Vo,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(L0,"onTransitionRun"),ja(ZO,"onTransitionStart"),ja(ep,"onTransitionCancel"),ja(lm,"onTransitionEnd"),Hf("onMouseEnter",["mouseout","mouseover"]),Hf("onMouseLeave",["mouseout","mouseover"]),Hf("onPointerEnter",["pointerout","pointerover"]),Hf("onPointerLeave",["pointerout","pointerover"]),nh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nh("onBeforeInput",["compositionend","keypress","textInput","paste"]),nh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nv));function kT(f,g){g=(g&4)!==0;for(var b=0;b<f.length;b++){var E=f[b],D=E.event;E=E.listeners;e:{var k=void 0;if(g)for(var U=E.length-1;0<=U;U--){var Q=E[U],ce=Q.instance,Ae=Q.currentTarget;if(Q=Q.listener,ce!==k&&D.isPropagationStopped())break e;k=Q,D.currentTarget=Ae;try{k(D)}catch(We){xh(We)}D.currentTarget=null,k=ce}else for(U=0;U<E.length;U++){if(Q=E[U],ce=Q.instance,Ae=Q.currentTarget,Q=Q.listener,ce!==k&&D.isPropagationStopped())break e;k=Q,D.currentTarget=Ae;try{k(D)}catch(We){xh(We)}D.currentTarget=null,k=ce}}}}function yn(f,g){var b=g[fS];b===void 0&&(b=g[fS]=new Set);var E=f+"__bubble";b.has(E)||(OT(g,f,2,!1),b.add(E))}function jx(f,g,b){var E=0;g&&(E|=4),OT(b,f,E,g)}var bo="_reactListening"+Math.random().toString(36).slice(2);function $x(f){if(!f[bo]){f[bo]=!0,G1.forEach(function(b){b!=="selectionchange"&&(gP.has(b)||jx(b,!1,f),jx(b,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[bo]||(g[bo]=!0,jx("selectionchange",!1,g))}}function OT(f,g,b,E){switch(JT(g)){case 2:var D=kP;break;case 8:D=kp;break;default:D=nM}b=D.bind(null,g,b,f),D=void 0,!sm||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(D=!0),E?D!==void 0?f.addEventListener(g,b,{capture:!0,passive:D}):f.addEventListener(g,b,!0):D!==void 0?f.addEventListener(g,b,{passive:D}):f.addEventListener(g,b,!1)}function Ic(f,g,b,E,D){var k=E;if((g&1)===0&&(g&2)===0&&E!==null)e:for(;;){if(E===null)return;var U=E.tag;if(U===3||U===4){var Q=E.stateNode.containerInfo;if(Q===D)break;if(U===4)for(U=E.return;U!==null;){var ce=U.tag;if((ce===3||ce===4)&&U.stateNode.containerInfo===D)return;U=U.return}for(;Q!==null;){if(U=_f(Q),U===null)return;if(ce=U.tag,ce===5||ce===6||ce===26||ce===27){E=k=U;continue e}Q=Q.parentNode}}E=E.return}j1(function(){var Ae=k,We=AS(b),Ye=[];e:{var Ie=cm.get(f);if(Ie!==void 0){var De=C0,Ht=f;switch(f){case"keypress":if(ai(b)===0)break e;case"keydown":case"keyup":De=kS;break;case"focusin":Ht="focus",De=w0;break;case"focusout":Ht="blur",De=w0;break;case"beforeblur":case"afterblur":De=w0;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=HO;break;case N0:case hA:case Vo:De=Z1;break;case lm:De=VO;break;case"scroll":case"scrollend":De=BO;break;case"wheel":De=WO;break;case"copy":case"cut":case"paste":De=Q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=gc;break;case"toggle":case"beforetoggle":De=x0}var Bt=(g&4)!==0,ci=!Bt&&(f==="scroll"||f==="scrollend"),xe=Bt?Ie!==null?Ie+"Capture":null:Ie;Bt=[];for(var pe=Ae,Ee;pe!==null;){var je=pe;if(Ee=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||Ee===null||xe===null||(je=rm(pe,xe),je!=null&&Bt.push(Xt(pe,je,Ee))),ci)break;pe=pe.return}0<Bt.length&&(Ie=new De(Ie,Ht,null,b,We),Ye.push({event:Ie,listeners:Bt}))}}if((g&7)===0){e:{if(Ie=f==="mouseover"||f==="pointerover",De=f==="mouseout"||f==="pointerout",Ie&&b!==v0&&(Ht=b.relatedTarget||b.fromElement)&&(_f(Ht)||Ht[bu]))break e;if((De||Ie)&&(Ie=We.window===We?We:(Ie=We.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,De?(Ht=b.relatedTarget||b.toElement,De=Ae,Ht=Ht?_f(Ht):null,Ht!==null&&(ci=s(Ht),Bt=Ht.tag,Ht!==ci||Bt!==5&&Bt!==27&&Bt!==6)&&(Ht=null)):(De=null,Ht=Ae),De!==Ht)){if(Bt=xu,je="onMouseLeave",xe="onMouseEnter",pe="mouse",(f==="pointerout"||f==="pointerover")&&(Bt=gc,je="onPointerLeave",xe="onPointerEnter",pe="pointer"),ci=De==null?Ie:Gf(De),Ee=Ht==null?Ie:Gf(Ht),Ie=new Bt(je,pe+"leave",De,b,We),Ie.target=ci,Ie.relatedTarget=Ee,je=null,_f(We)===Ae&&(Bt=new Bt(xe,pe+"enter",Ht,b,We),Bt.target=Ee,Bt.relatedTarget=ci,je=Bt),ci=je,De&&Ht)t:{for(Bt=De,xe=Ht,pe=0,Ee=Bt;Ee;Ee=kr(Ee))pe++;for(Ee=0,je=xe;je;je=kr(je))Ee++;for(;0<pe-Ee;)Bt=kr(Bt),pe--;for(;0<Ee-pe;)xe=kr(xe),Ee--;for(;pe--;){if(Bt===xe||xe!==null&&Bt===xe.alternate)break t;Bt=kr(Bt),xe=kr(xe)}Bt=null}else Bt=null;De!==null&&er(Ye,Ie,De,Bt,!1),Ht!==null&&ci!==null&&er(Ye,ci,Ht,Bt,!0)}}e:{if(Ie=Ae?Gf(Ae):window,De=Ie.nodeName&&Ie.nodeName.toLowerCase(),De==="select"||De==="input"&&Ie.type==="file")var St=sA;else if(A0(Ie))if(oA)St=YO;else{St=Ru;var gn=cA}else De=Ie.nodeName,!De||De.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Ae&&RS(Ae.elementType)&&(St=sA):St=I0;if(St&&(St=St(f,Ae))){Zf(Ye,St,b,We);break e}gn&&gn(f,Ie,Ae),f==="focusout"&&Ae&&Ie.type==="number"&&Ae.memoizedProps.value!=null&&nm(Ie,"number",Ie.value)}switch(gn=Ae?Gf(Ae):window,f){case"focusin":(A0(gn)||gn.contentEditable==="true")&&(Jf=gn,Au=Ae,be=null);break;case"focusout":be=Au=Jf=null;break;case"mousedown":Ve=!0;break;case"contextmenu":case"mouseup":case"dragend":Ve=!1,Ne(Ye,b,We);break;case"selectionchange":if(qO)break;case"keydown":case"keyup":Ne(Ye,b,We)}var It;if(FS)e:{switch(f){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Mu?iA(f,b)&&(Vt="onCompositionEnd"):f==="keydown"&&b.keyCode===229&&(Vt="onCompositionStart");Vt&&(M0&&b.locale!=="ko"&&(Mu||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Mu&&(It=$1()):(Su=We,IS="value"in Su?Su.value:Su.textContent,Mu=!0)),gn=MC(Ae,Vt),0<gn.length&&(Vt=new lo(Vt,f,null,b,We),Ye.push({event:Vt,listeners:gn}),It?Vt.data=It:(It=R0(b),It!==null&&(Vt.data=It)))),(It=nA?jO(f,b):rA(f,b))&&(Vt=MC(Ae,"onBeforeInput"),0<Vt.length&&(gn=new lo("onBeforeInput","beforeinput",null,b,We),Ye.push({event:gn,listeners:Vt}),gn.data=It)),hP(Ye,f,Ae,b,We)}kT(Ye,g)})}function Xt(f,g,b){return{instance:f,listener:g,currentTarget:b}}function MC(f,g){for(var b=g+"Capture",E=[];f!==null;){var D=f,k=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||k===null||(D=rm(f,b),D!=null&&E.unshift(Xt(f,D,k)),D=rm(f,g),D!=null&&E.push(Xt(f,D,k))),f.tag===3)return E;f=f.return}return[]}function kr(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function er(f,g,b,E,D){for(var k=g._reactName,U=[];b!==null&&b!==E;){var Q=b,ce=Q.alternate,Ae=Q.stateNode;if(Q=Q.tag,ce!==null&&ce===E)break;Q!==5&&Q!==26&&Q!==27||Ae===null||(ce=Ae,D?(Ae=rm(b,k),Ae!=null&&U.unshift(Xt(b,Ae,ce))):D||(Ae=rm(b,k),Ae!=null&&U.push(Xt(b,Ae,ce)))),b=b.return}U.length!==0&&f.push({event:g,listeners:U})}var mP=/\r\n?/g,$u=/\u0000|\uFFFD/g;function PT(f){return(typeof f=="string"?f:""+f).replace(mP,`
`).replace($u,"")}function FT(f,g){return g=PT(g),PT(f)===g}function EC(){}function li(f,g,b,E,D,k){switch(b){case"children":typeof E=="string"?g==="body"||g==="textarea"&&E===""||wu(f,E):(typeof E=="number"||typeof E=="bigint")&&g!=="body"&&wu(f,""+E);break;case"className":h0(f,"class",E);break;case"tabIndex":h0(f,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":h0(f,b,E);break;case"style":ES(f,E,k);break;case"data":if(g!=="object"){h0(f,"data",E);break}case"src":case"href":if(E===""&&(g!=="a"||b!=="href")){f.removeAttribute(b);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(b);break}E=im(""+E),f.setAttribute(b,E);break;case"action":case"formAction":if(typeof E=="function"){f.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(b==="formAction"?(g!=="input"&&li(f,g,"name",D.name,D,null),li(f,g,"formEncType",D.formEncType,D,null),li(f,g,"formMethod",D.formMethod,D,null),li(f,g,"formTarget",D.formTarget,D,null)):(li(f,g,"encType",D.encType,D,null),li(f,g,"method",D.method,D,null),li(f,g,"target",D.target,D,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(b);break}E=im(""+E),f.setAttribute(b,E);break;case"onClick":E!=null&&(f.onclick=EC);break;case"onScroll":E!=null&&yn("scroll",f);break;case"onScrollEnd":E!=null&&yn("scrollend",f);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(b=E.__html,b!=null){if(D.children!=null)throw Error(i(60));f.innerHTML=b}}break;case"multiple":f.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":f.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){f.removeAttribute("xlink:href");break}b=im(""+E),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(b,""+E):f.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(b,""):f.removeAttribute(b);break;case"capture":case"download":E===!0?f.setAttribute(b,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(b,E):f.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?f.setAttribute(b,E):f.removeAttribute(b);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?f.removeAttribute(b):f.setAttribute(b,E);break;case"popover":yn("beforetoggle",f),yn("toggle",f),d0(f,"popover",E);break;case"xlinkActuate":xl(f,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":xl(f,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":xl(f,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":xl(f,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":xl(f,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":xl(f,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":xl(f,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":xl(f,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":xl(f,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":d0(f,"is",E);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=U1.get(b)||b,d0(f,b,E))}}function Yx(f,g,b,E,D,k){switch(b){case"style":ES(f,E,k);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(b=E.__html,b!=null){if(D.children!=null)throw Error(i(60));f.innerHTML=b}}break;case"children":typeof E=="string"?wu(f,E):(typeof E=="number"||typeof E=="bigint")&&wu(f,""+E);break;case"onScroll":E!=null&&yn("scroll",f);break;case"onScrollEnd":E!=null&&yn("scrollend",f);break;case"onClick":E!=null&&(f.onclick=EC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!z1.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(D=b.endsWith("Capture"),g=b.slice(2,D?b.length-7:void 0),k=f[Yr]||null,k=k!=null?k[b]:null,typeof k=="function"&&f.removeEventListener(g,k,D),typeof E=="function")){typeof k!="function"&&k!==null&&(b in f?f[b]=null:f.hasAttribute(b)&&f.removeAttribute(b)),f.addEventListener(g,E,D);break e}b in f?f[b]=E:E===!0?f.setAttribute(b,""):d0(f,b,E)}}}function Or(f,g,b){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",f),yn("load",f);var E=!1,D=!1,k;for(k in b)if(b.hasOwnProperty(k)){var U=b[k];if(U!=null)switch(k){case"src":E=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:li(f,g,k,U,b,null)}}D&&li(f,g,"srcSet",b.srcSet,b,null),E&&li(f,g,"src",b.src,b,null);return;case"input":yn("invalid",f);var Q=k=U=D=null,ce=null,Ae=null;for(E in b)if(b.hasOwnProperty(E)){var We=b[E];if(We!=null)switch(E){case"name":D=We;break;case"type":U=We;break;case"checked":ce=We;break;case"defaultChecked":Ae=We;break;case"value":k=We;break;case"defaultValue":Q=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,g));break;default:li(f,g,E,We,b,null)}}SS(f,k,Q,ce,Ae,U,D,!1),p0(f);return;case"select":yn("invalid",f),E=U=k=null;for(D in b)if(b.hasOwnProperty(D)&&(Q=b[D],Q!=null))switch(D){case"value":k=Q;break;case"defaultValue":U=Q;break;case"multiple":E=Q;default:li(f,g,D,Q,b,null)}g=k,b=U,f.multiple=!!E,g!=null?Uf(f,!!E,g,!1):b!=null&&Uf(f,!!E,b,!0);return;case"textarea":yn("invalid",f),k=D=E=null;for(U in b)if(b.hasOwnProperty(U)&&(Q=b[U],Q!=null))switch(U){case"value":E=Q;break;case"defaultValue":D=Q;break;case"children":k=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:li(f,g,U,Q,b,null)}m0(f,E,D,k),p0(f);return;case"option":for(ce in b)if(b.hasOwnProperty(ce)&&(E=b[ce],E!=null))switch(ce){case"selected":f.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:li(f,g,ce,E,b,null)}return;case"dialog":yn("beforetoggle",f),yn("toggle",f),yn("cancel",f),yn("close",f);break;case"iframe":case"object":yn("load",f);break;case"video":case"audio":for(E=0;E<nv.length;E++)yn(nv[E],f);break;case"image":yn("error",f),yn("load",f);break;case"details":yn("toggle",f);break;case"embed":case"source":case"link":yn("error",f),yn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in b)if(b.hasOwnProperty(Ae)&&(E=b[Ae],E!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:li(f,g,Ae,E,b,null)}return;default:if(RS(g)){for(We in b)b.hasOwnProperty(We)&&(E=b[We],E!==void 0&&Yx(f,g,We,E,b,void 0));return}}for(Q in b)b.hasOwnProperty(Q)&&(E=b[Q],E!=null&&li(f,g,Q,E,b,null))}function vP(f,g,b,E){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,k=null,U=null,Q=null,ce=null,Ae=null,We=null;for(De in b){var Ye=b[De];if(b.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ce=Ye;default:E.hasOwnProperty(De)||li(f,g,De,null,E,Ye)}}for(var Ie in E){var De=E[Ie];if(Ye=b[Ie],E.hasOwnProperty(Ie)&&(De!=null||Ye!=null))switch(Ie){case"type":k=De;break;case"name":D=De;break;case"checked":Ae=De;break;case"defaultChecked":We=De;break;case"value":U=De;break;case"defaultValue":Q=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,g));break;default:De!==Ye&&li(f,g,Ie,De,E,Ye)}}g0(f,U,Q,ce,Ae,We,k,D);return;case"select":De=U=Q=Ie=null;for(k in b)if(ce=b[k],b.hasOwnProperty(k)&&ce!=null)switch(k){case"value":break;case"multiple":De=ce;default:E.hasOwnProperty(k)||li(f,g,k,null,E,ce)}for(D in E)if(k=E[D],ce=b[D],E.hasOwnProperty(D)&&(k!=null||ce!=null))switch(D){case"value":Ie=k;break;case"defaultValue":Q=k;break;case"multiple":U=k;default:k!==ce&&li(f,g,D,k,E,ce)}g=Q,b=U,E=De,Ie!=null?Uf(f,!!b,Ie,!1):!!E!=!!b&&(g!=null?Uf(f,!!b,g,!0):Uf(f,!!b,b?[]:"",!1));return;case"textarea":De=Ie=null;for(Q in b)if(D=b[Q],b.hasOwnProperty(Q)&&D!=null&&!E.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:li(f,g,Q,null,E,D)}for(U in E)if(D=E[U],k=b[U],E.hasOwnProperty(U)&&(D!=null||k!=null))switch(U){case"value":Ie=D;break;case"defaultValue":De=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:D!==k&&li(f,g,U,D,E,k)}xS(f,Ie,De);return;case"option":for(var Ht in b)if(Ie=b[Ht],b.hasOwnProperty(Ht)&&Ie!=null&&!E.hasOwnProperty(Ht))switch(Ht){case"selected":f.selected=!1;break;default:li(f,g,Ht,null,E,Ie)}for(ce in E)if(Ie=E[ce],De=b[ce],E.hasOwnProperty(ce)&&Ie!==De&&(Ie!=null||De!=null))switch(ce){case"selected":f.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:li(f,g,ce,Ie,E,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in b)Ie=b[Bt],b.hasOwnProperty(Bt)&&Ie!=null&&!E.hasOwnProperty(Bt)&&li(f,g,Bt,null,E,Ie);for(Ae in E)if(Ie=E[Ae],De=b[Ae],E.hasOwnProperty(Ae)&&Ie!==De&&(Ie!=null||De!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,g));break;default:li(f,g,Ae,Ie,E,De)}return;default:if(RS(g)){for(var ci in b)Ie=b[ci],b.hasOwnProperty(ci)&&Ie!==void 0&&!E.hasOwnProperty(ci)&&Yx(f,g,ci,void 0,E,Ie);for(We in E)Ie=E[We],De=b[We],!E.hasOwnProperty(We)||Ie===De||Ie===void 0&&De===void 0||Yx(f,g,We,Ie,E,De);return}}for(var xe in b)Ie=b[xe],b.hasOwnProperty(xe)&&Ie!=null&&!E.hasOwnProperty(xe)&&li(f,g,xe,null,E,Ie);for(Ye in E)Ie=E[Ye],De=b[Ye],!E.hasOwnProperty(Ye)||Ie===De||Ie==null&&De==null||li(f,g,Ye,Ie,E,De)}var Qa=null,RC=null;function Ah(f){return f.nodeType===9?f:f.ownerDocument}function Gi(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vi(f,g){if(f===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&g==="foreignObject"?0:f}function AC(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Kx=null;function yP(){var f=window.event;return f&&f.type==="popstate"?f===Kx?!1:(Kx=f,!0):(Kx=null,!1)}var _T=typeof setTimeout=="function"?setTimeout:void 0,CP=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,bP=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(f){return BT.resolve(null).then(f).catch(GT)}:_T;function GT(f){setTimeout(function(){throw f})}function Ra(f){return f==="head"}function TC(f,g){var b=g,E=0,D=0;do{var k=b.nextSibling;if(f.removeChild(b),k&&k.nodeType===8)if(b=k.data,b==="/$"){if(0<E&&8>E){b=E;var U=f.ownerDocument;if(b&1&&iv(U.documentElement),b&2&&iv(U.body),b&4)for(b=U.head,iv(b),U=b.firstChild;U;){var Q=U.nextSibling,ce=U.nodeName;U[em]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&U.rel.toLowerCase()==="stylesheet"||b.removeChild(U),U=Q}}if(D===0){f.removeChild(k),dv(g);return}D--}else b==="$"||b==="$?"||b==="$!"?D++:E=b.charCodeAt(0)-48;else E=0;b=k}while(b);dv(g)}function qx(f){var g=f.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var b=g;switch(g=g.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":qx(b),pS(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}f.removeChild(b)}}function zT(f,g,b,E){for(;f.nodeType===1;){var D=b;if(f.nodeName.toLowerCase()!==g.toLowerCase()){if(!E&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(E){if(!f[em])switch(g){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(k=f.getAttribute("rel"),k==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(k!==D.rel||f.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||f.getAttribute("title")!==(D.title==null?null:D.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(k=f.getAttribute("src"),(k!==(D.src==null?null:D.src)||f.getAttribute("type")!==(D.type==null?null:D.type)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&k&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(g==="input"&&f.type==="hidden"){var k=D.name==null?null:""+D.name;if(D.type==="hidden"&&f.getAttribute("name")===k)return f}else return f;if(f=Ja(f.nextSibling),f===null)break}return null}function DC(f,g,b){if(g==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!b||(f=Ja(f.nextSibling),f===null))return null;return f}function Vs(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function Ap(f,g){var b=f.ownerDocument;if(f.data!=="$?"||b.readyState==="complete")g();else{var E=function(){g(),b.removeEventListener("DOMContentLoaded",E)};b.addEventListener("DOMContentLoaded",E),f._reactRetry=E}}function Ja(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return f}var Zx=null;function HT(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var b=f.data;if(b==="$"||b==="$!"||b==="$?"){if(g===0)return f;g--}else b==="/$"&&g++}f=f.previousSibling}return null}function VT(f,g,b){switch(g=Ah(b),f){case"html":if(f=g.documentElement,!f)throw Error(i(452));return f;case"head":if(f=g.head,!f)throw Error(i(453));return f;case"body":if(f=g.body,!f)throw Error(i(454));return f;default:throw Error(i(451))}}function iv(f){for(var g=f.attributes;g.length;)f.removeAttributeNode(g[0]);pS(f)}var qo=new Map,Ol=new Set;function rn(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Pl=ae.d;ae.d={f:Aa,r:UT,D:wP,C:WT,L:IC,m:SP,X:MP,S:xP,M:EP};function Aa(){var f=Pl.f(),g=vC();return f||g}function UT(f){var g=Bf(f);g!==null&&g.tag===5&&g.type==="form"?eC(g):Pl.r(f)}var Tp=typeof document>"u"?null:document;function jn(f,g,b){var E=Tp;if(E&&typeof g=="string"&&g){var D=fa(g);D='link[rel="'+f+'"][href="'+D+'"]',typeof b=="string"&&(D+='[crossorigin="'+b+'"]'),Ol.has(D)||(Ol.add(D),f={rel:f,crossOrigin:b,href:g},E.querySelector(D)===null&&(g=E.createElement("link"),Or(g,"link",f),Kr(g),E.head.appendChild(g)))}}function wP(f){Pl.D(f),jn("dns-prefetch",f,null)}function WT(f,g){Pl.C(f,g),jn("preconnect",f,g)}function IC(f,g,b){Pl.L(f,g,b);var E=Tp;if(E&&f&&g){var D='link[rel="preload"][as="'+fa(g)+'"]';g==="image"&&b&&b.imageSrcSet?(D+='[imagesrcset="'+fa(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(D+='[imagesizes="'+fa(b.imageSizes)+'"]')):D+='[href="'+fa(f)+'"]';var k=D;switch(g){case"style":k=Dp(f);break;case"script":k=Ip(f)}qo.has(k)||(f=u({rel:"preload",href:g==="image"&&b&&b.imageSrcSet?void 0:f,as:g},b),qo.set(k,f),E.querySelector(D)!==null||g==="style"&&E.querySelector(rv(k))||g==="script"&&E.querySelector(sv(k))||(g=E.createElement("link"),Or(g,"link",f),Kr(g),E.head.appendChild(g)))}}function SP(f,g){Pl.m(f,g);var b=Tp;if(b&&f){var E=g&&typeof g.as=="string"?g.as:"script",D='link[rel="modulepreload"][as="'+fa(E)+'"][href="'+fa(f)+'"]',k=D;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Ip(f)}if(!qo.has(k)&&(f=u({rel:"modulepreload",href:f},g),qo.set(k,f),b.querySelector(D)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(sv(k)))return}E=b.createElement("link"),Or(E,"link",f),Kr(E),b.head.appendChild(E)}}}function xP(f,g,b){Pl.S(f,g,b);var E=Tp;if(E&&f){var D=zf(E).hoistableStyles,k=Dp(f);g=g||"default";var U=D.get(k);if(!U){var Q={loading:0,preload:null};if(U=E.querySelector(rv(k)))Q.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":g},b),(b=qo.get(k))&&ov(f,b);var ce=U=E.createElement("link");Kr(ce),Or(ce,"link",f),ce._p=new Promise(function(Ae,We){ce.onload=Ae,ce.onerror=We}),ce.addEventListener("load",function(){Q.loading|=1}),ce.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,NC(U,g,E)}U={type:"stylesheet",instance:U,count:1,state:Q},D.set(k,U)}}}function MP(f,g){Pl.X(f,g);var b=Tp;if(b&&f){var E=zf(b).hoistableScripts,D=Ip(f),k=E.get(D);k||(k=b.querySelector(sv(D)),k||(f=u({src:f,async:!0},g),(g=qo.get(D))&&Xx(f,g),k=b.createElement("script"),Kr(k),Or(k,"link",f),b.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(D,k))}}function EP(f,g){Pl.M(f,g);var b=Tp;if(b&&f){var E=zf(b).hoistableScripts,D=Ip(f),k=E.get(D);k||(k=b.querySelector(sv(D)),k||(f=u({src:f,async:!0,type:"module"},g),(g=qo.get(D))&&Xx(f,g),k=b.createElement("script"),Kr(k),Or(k,"link",f),b.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(D,k))}}function jT(f,g,b,E){var D=(D=Y.current)?rn(D):null;if(!D)throw Error(i(446));switch(f){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(g=Dp(b.href),b=zf(D).hoistableStyles,E=b.get(g),E||(E={type:"style",instance:null,count:0,state:null},b.set(g,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){f=Dp(b.href);var k=zf(D).hoistableStyles,U=k.get(f);if(U||(D=D.ownerDocument||D,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(f,U),(k=D.querySelector(rv(f)))&&!k._p&&(U.instance=k,U.state.loading=5),qo.has(f)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},qo.set(f,b),k||RP(D,f,b,U.state))),g&&E===null)throw Error(i(528,""));return U}if(g&&E!==null)throw Error(i(529,""));return null;case"script":return g=b.async,b=b.src,typeof b=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Ip(b),b=zf(D).hoistableScripts,E=b.get(g),E||(E={type:"script",instance:null,count:0,state:null},b.set(g,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,f))}}function Dp(f){return'href="'+fa(f)+'"'}function rv(f){return'link[rel="stylesheet"]['+f+"]"}function $T(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function RP(f,g,b,E){f.querySelector('link[rel="preload"][as="style"]['+g+"]")?E.loading=1:(g=f.createElement("link"),E.preload=g,g.addEventListener("load",function(){return E.loading|=1}),g.addEventListener("error",function(){return E.loading|=2}),Or(g,"link",b),Kr(g),f.head.appendChild(g))}function Ip(f){return'[src="'+fa(f)+'"]'}function sv(f){return"script[async]"+f}function YT(f,g,b){if(g.count++,g.instance===null)switch(g.type){case"style":var E=f.querySelector('style[data-href~="'+fa(b.href)+'"]');if(E)return g.instance=E,Kr(E),E;var D=u({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return E=(f.ownerDocument||f).createElement("style"),Kr(E),Or(E,"style",D),NC(E,b.precedence,f),g.instance=E;case"stylesheet":D=Dp(b.href);var k=f.querySelector(rv(D));if(k)return g.state.loading|=4,g.instance=k,Kr(k),k;E=$T(b),(D=qo.get(D))&&ov(E,D),k=(f.ownerDocument||f).createElement("link"),Kr(k);var U=k;return U._p=new Promise(function(Q,ce){U.onload=Q,U.onerror=ce}),Or(k,"link",E),g.state.loading|=4,NC(k,b.precedence,f),g.instance=k;case"script":return k=Ip(b.src),(D=f.querySelector(sv(k)))?(g.instance=D,Kr(D),D):(E=b,(D=qo.get(k))&&(E=u({},b),Xx(E,D)),f=f.ownerDocument||f,D=f.createElement("script"),Kr(D),Or(D,"link",E),f.head.appendChild(D),g.instance=D);case"void":return null;default:throw Error(i(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(E=g.instance,g.state.loading|=4,NC(E,b.precedence,f));return g.instance}function NC(f,g,b){for(var E=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=E.length?E[E.length-1]:null,k=D,U=0;U<E.length;U++){var Q=E[U];if(Q.dataset.precedence===g)k=Q;else if(k!==D)break}k?k.parentNode.insertBefore(f,k.nextSibling):(g=b.nodeType===9?b.head:b,g.insertBefore(f,g.firstChild))}function ov(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.title==null&&(f.title=g.title)}function Xx(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.integrity==null&&(f.integrity=g.integrity)}var Np=null;function KT(f,g,b){if(Np===null){var E=new Map,D=Np=new Map;D.set(b,E)}else D=Np,E=D.get(b),E||(E=new Map,D.set(b,E));if(E.has(f))return E;for(E.set(f,null),b=b.getElementsByTagName(f),D=0;D<b.length;D++){var k=b[D];if(!(k[em]||k[Zi]||f==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var U=k.getAttribute(g)||"";U=f+U;var Q=E.get(U);Q?Q.push(k):E.set(U,[k])}}return E}function qT(f,g,b){f=f.ownerDocument||f,f.head.insertBefore(b,g==="title"?f.querySelector("head > title"):null)}function AP(f,g,b){if(b===1||g.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return f=g.disabled,typeof g.precedence=="string"&&f==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function Pr(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var Xr=null;function TP(){}function DP(f,g,b){if(Xr===null)throw Error(i(475));var E=Xr;if(g.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var D=Dp(b.href),k=f.querySelector(rv(D));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(E.count++,E=av.bind(E),f.then(E,E)),g.state.loading|=4,g.instance=k,Kr(k);return}k=f.ownerDocument||f,b=$T(b),(D=qo.get(D))&&ov(b,D),k=k.createElement("link"),Kr(k);var U=k;U._p=new Promise(function(Q,ce){U.onload=Q,U.onerror=ce}),Or(k,"link",b),g.instance=k}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(E.count++,g=av.bind(E),f.addEventListener("load",g),f.addEventListener("error",g))}}function IP(){if(Xr===null)throw Error(i(475));var f=Xr;return f.stylesheets&&f.count===0&&Qx(f,f.stylesheets),0<f.count?function(g){var b=setTimeout(function(){if(f.stylesheets&&Qx(f,f.stylesheets),f.unsuspend){var E=f.unsuspend;f.unsuspend=null,E()}},6e4);return f.unsuspend=g,function(){f.unsuspend=null,clearTimeout(b)}}:null}function av(){if(this.count--,this.count===0){if(this.stylesheets)Qx(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var LC=null;function Qx(f,g){f.stylesheets=null,f.unsuspend!==null&&(f.count++,LC=new Map,g.forEach(NP,f),LC=null,av.call(f))}function NP(f,g){if(!(g.state.loading&4)){var b=LC.get(f);if(b)var E=b.get(null);else{b=new Map,LC.set(f,b);for(var D=f.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<D.length;k++){var U=D[k];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(b.set(U.dataset.precedence,U),E=U)}E&&b.set(null,E)}D=g.instance,U=D.getAttribute("data-precedence"),k=b.get(U)||E,k===E&&b.set(null,D),b.set(U,D),this.count++,E=av.bind(this),D.addEventListener("load",E),D.addEventListener("error",E),k?k.parentNode.insertBefore(D,k.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(D,f.firstChild)),g.state.loading|=4}}var Lp={$$typeof:x,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function LP(f,g,b,E,D,k,U,Q){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=E,this.onUncaughtError=D,this.onCaughtError=k,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function ZT(f,g,b,E,D,k,U,Q,ce,Ae,We,Ye){return f=new LP(f,g,b,U,Q,ce,Ae,Ye),g=1,k===!0&&(g|=24),k=co(3,null,null,g),f.current=k,k.stateNode=f,g=$S(),g.refCount++,f.pooledCache=g,g.refCount++,k.memoizedState={element:E,isDehydrated:b,cache:g},ph(k),f}function XT(f){return f?(f=ah,f):ah}function Jx(f,g,b,E,D,k){D=XT(D),E.context===null?E.context=D:E.pendingContext=D,E=Nu(g),E.payload={element:b},k=k===void 0?null:k,k!==null&&(E.callback=k),b=Cc(f,E,g),b!==null&&(Ko(b,f,g),bm(b,f,g))}function eM(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<g?b:g}}function tM(f,g){eM(f,g),(f=f.alternate)&&eM(f,g)}function QT(f){if(f.tag===13){var g=oh(f,67108864);g!==null&&Ko(g,f,67108864),tM(f,67108864)}}var kC=!0;function kP(f,g,b,E){var D=te.T;te.T=null;var k=ae.p;try{ae.p=2,nM(f,g,b,E)}finally{ae.p=k,te.T=D}}function kp(f,g,b,E){var D=te.T;te.T=null;var k=ae.p;try{ae.p=8,nM(f,g,b,E)}finally{ae.p=k,te.T=D}}function nM(f,g,b,E){if(kC){var D=iM(E);if(D===null)Ic(f,g,E,OC,b),eD(f,E);else if(PP(D,f,g,b,E))E.stopPropagation();else if(eD(f,E),g&4&&-1<OP.indexOf(f)){for(;D!==null;){var k=Bf(D);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var U=ls(k.pendingLanes);if(U!==0){var Q=k;for(Q.pendingLanes|=2,Q.entangledLanes|=2;U;){var ce=1<<31-mt(U);Q.entanglements[1]|=ce,U&=~ce}kl(k),(ei&6)===0&&(wp=ot()+500,Jm(0))}}break;case 13:Q=oh(k,2),Q!==null&&Ko(Q,k,2),vC(),tM(k,2)}if(k=iM(E),k===null&&Ic(f,g,E,OC,b),k===D)break;D=k}D!==null&&E.stopPropagation()}else Ic(f,g,E,null,b)}}function iM(f){return f=AS(f),rM(f)}var OC=null;function rM(f){if(OC=null,f=_f(f),f!==null){var g=s(f);if(g===null)f=null;else{var b=g.tag;if(b===13){if(f=o(g),f!==null)return f;f=null}else if(b===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null)}}return OC=f,null}function JT(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Ue:return 2;case qe:return 8;case at:case nt:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var PC=!1,Nc=null,Yu=null,Ku=null,lv=new Map,cv=new Map,qu=[],OP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eD(f,g){switch(f){case"focusin":case"focusout":Nc=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":Ku=null;break;case"pointerover":case"pointerout":lv.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":cv.delete(g.pointerId)}}function uv(f,g,b,E,D,k){return f===null||f.nativeEvent!==k?(f={blockedOn:g,domEventName:b,eventSystemFlags:E,nativeEvent:k,targetContainers:[D]},g!==null&&(g=Bf(g),g!==null&&QT(g)),f):(f.eventSystemFlags|=E,g=f.targetContainers,D!==null&&g.indexOf(D)===-1&&g.push(D),f)}function PP(f,g,b,E,D){switch(g){case"focusin":return Nc=uv(Nc,f,g,b,E,D),!0;case"dragenter":return Yu=uv(Yu,f,g,b,E,D),!0;case"mouseover":return Ku=uv(Ku,f,g,b,E,D),!0;case"pointerover":var k=D.pointerId;return lv.set(k,uv(lv.get(k)||null,f,g,b,E,D)),!0;case"gotpointercapture":return k=D.pointerId,cv.set(k,uv(cv.get(k)||null,f,g,b,E,D)),!0}return!1}function tD(f){var g=_f(f.target);if(g!==null){var b=s(g);if(b!==null){if(g=b.tag,g===13){if(g=o(b),g!==null){f.blockedOn=g,th(f.priority,function(){if(b.tag===13){var E=Rs();E=Mi(E);var D=oh(b,E);D!==null&&Ko(D,b,E),tM(b,E)}});return}}else if(g===3&&b.stateNode.current.memoizedState.isDehydrated){f.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}f.blockedOn=null}function FC(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var b=iM(f.nativeEvent);if(b===null){b=f.nativeEvent;var E=new b.constructor(b.type,b);v0=E,b.target.dispatchEvent(E),v0=null}else return g=Bf(b),g!==null&&QT(g),f.blockedOn=b,!1;g.shift()}return!0}function nD(f,g,b){FC(f)&&b.delete(g)}function FP(){PC=!1,Nc!==null&&FC(Nc)&&(Nc=null),Yu!==null&&FC(Yu)&&(Yu=null),Ku!==null&&FC(Ku)&&(Ku=null),lv.forEach(nD),cv.forEach(nD)}function _C(f,g){f.blockedOn===g&&(f.blockedOn=null,PC||(PC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FP)))}var BC=null;function iD(f){BC!==f&&(BC=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){BC===f&&(BC=null);for(var g=0;g<f.length;g+=3){var b=f[g],E=f[g+1],D=f[g+2];if(typeof E!="function"){if(rM(E||b)===null)continue;break}var k=Bf(b);k!==null&&(f.splice(g,3),g-=3,Nm(k,{pending:!0,data:D,method:b.method,action:E},E,D))}}))}function dv(f){function g(ce){return _C(ce,f)}Nc!==null&&_C(Nc,f),Yu!==null&&_C(Yu,f),Ku!==null&&_C(Ku,f),lv.forEach(g),cv.forEach(g);for(var b=0;b<qu.length;b++){var E=qu[b];E.blockedOn===f&&(E.blockedOn=null)}for(;0<qu.length&&(b=qu[0],b.blockedOn===null);)tD(b),b.blockedOn===null&&qu.shift();if(b=(f.ownerDocument||f).$$reactFormReplay,b!=null)for(E=0;E<b.length;E+=3){var D=b[E],k=b[E+1],U=D[Yr]||null;if(typeof k=="function")U||iD(b);else if(U){var Q=null;if(k&&k.hasAttribute("formAction")){if(D=k,U=k[Yr]||null)Q=U.formAction;else if(rM(D)!==null)continue}else Q=U.action;typeof Q=="function"?b[E+1]=Q:(b.splice(E,3),E-=3),iD(b)}}}function sM(f){this._internalRoot=f}GC.prototype.render=sM.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(i(409));var b=g.current,E=Rs();Jx(b,E,f,g,null,null)},GC.prototype.unmount=sM.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;Jx(f.current,2,null,f,null,null),vC(),g[bu]=null}};function GC(f){this._internalRoot=f}GC.prototype.unstable_scheduleHydration=function(f){if(f){var g=Wa();f={blockedOn:null,target:f,priority:g};for(var b=0;b<qu.length&&g!==0&&g<qu[b].priority;b++);qu.splice(b,0,f),b===0&&tD(f)}};var rD=t.version;if(rD!=="19.1.0")throw Error(i(527,rD,"19.1.0"));ae.findDOMNode=function(f){var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=l(g),f=f!==null?c(f):null,f=f===null?null:f.stateNode,f};var _P={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zC.isDisabled&&zC.supportsFiber)try{Ge=zC.inject(_P),Le=zC}catch{}}return aM.createRoot=function(f,g){if(!r(f))throw Error(i(299));var b=!1,E="",D=yx,k=iC,U=UA,Q=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(k=g.onCaughtError),g.onRecoverableError!==void 0&&(U=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Q=g.unstable_transitionCallbacks)),g=ZT(f,1,!1,null,null,b,E,D,k,U,Q,null),f[bu]=g.current,$x(f),new sM(g)},aM.hydrateRoot=function(f,g,b){if(!r(f))throw Error(i(299));var E=!1,D="",k=yx,U=iC,Q=UA,ce=null,Ae=null;return b!=null&&(b.unstable_strictMode===!0&&(E=!0),b.identifierPrefix!==void 0&&(D=b.identifierPrefix),b.onUncaughtError!==void 0&&(k=b.onUncaughtError),b.onCaughtError!==void 0&&(U=b.onCaughtError),b.onRecoverableError!==void 0&&(Q=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(ce=b.unstable_transitionCallbacks),b.formState!==void 0&&(Ae=b.formState)),g=ZT(f,1,!0,g,b??null,E,D,k,U,Q,ce,Ae),g.context=XT(null),b=g.current,E=Rs(),E=Mi(E),D=Nu(E),D.callback=null,Cc(b,D,E),b=E,g.current.lanes=b,$r(g,b),kl(g),f[bu]=g.current,$x(f),new GC(g)},aM.version="19.1.0",aM}var NU;function nse(){if(NU)return WP.exports;NU=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),WP.exports=tse(),WP.exports}var ise=nse(),lM={},LU;function rse(){if(LU)return lM;LU=1,Object.defineProperty(lM,"__esModule",{value:!0}),lM.parse=o,lM.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const m=new s,v=h.length;if(v<2)return m;const y=(p==null?void 0:p.decode)||u;let C=0;do{const S=h.indexOf("=",C);if(S===-1)break;const x=h.indexOf(";",C),R=x===-1?v:x;if(S>R){C=h.lastIndexOf(";",S-1)+1;continue}const A=a(h,C,S),T=l(h,S,A),L=h.slice(A,T);if(m[L]===void 0){let O=a(h,S+1,R),F=l(h,R,O);const H=y(h.slice(O,F));m[L]=H}C=R+1}while(C<v);return m}function a(h,p,m){do{const v=h.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<m);return m}function l(h,p,m){for(;p>m;){const v=h.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return m}function c(h,p,m){const v=(m==null?void 0:m.encode)||encodeURIComponent;if(!e.test(h))throw new TypeError(`argument name is invalid: ${h}`);const y=v(p);if(!t.test(y))throw new TypeError(`argument val is invalid: ${p}`);let C=h+"="+y;if(!m)return C;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);C+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);C+="; Domain="+m.domain}if(m.path){if(!i.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);C+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);C+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(C+="; HttpOnly"),m.secure&&(C+="; Secure"),m.partitioned&&(C+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return C}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return r.call(h)==="[object Date]"}return lM}rse();var kU="popstate";function sse(e={}){function t(r,s){let{pathname:o="/",search:a="",hash:l=""}=Py(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),x_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:dE(s))}function i(r,s){eu(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return ase(t,n,i,e)}function gr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ose(){return Math.random().toString(36).substring(2,10)}function OU(e,t){return{usr:e.state,key:e.key,idx:t}}function x_(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Py(t):t,state:n,key:t&&t.key||i||ose()}}function dE({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Py(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function ase(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let y=u(),C=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:C})}function h(y,C){a="PUSH";let S=x_(v.location,y,C);n&&n(S,y),c=u()+1;let x=OU(S,c),R=v.createHref(S);try{o.pushState(x,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function p(y,C){a="REPLACE";let S=x_(v.location,y,C);n&&n(S,y),c=u();let x=OU(S,c),R=v.createHref(S);o.replaceState(x,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function m(y){return lse(y)}let v={get action(){return a},get location(){return e(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(kU,d),l=y,()=>{r.removeEventListener(kU,d),l=null}},createHref(y){return t(r,y)},createURL:m,encodeLocation(y){let C=m(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}function lse(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gr(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:dE(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function V8(e,t,n="/"){return cse(e,t,n,!1)}function cse(e,t,n,i){let r=typeof t=="string"?Py(t):t,s=sf(r.pathname||"/",n);if(s==null)return null;let o=U8(e);use(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wse(s);a=Cse(o[l],c,i)}return a}function U8(e,t=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gr(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=Kh([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(gr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),U8(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:vse(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of W8(s.path))r(s,o,l)}),t}function W8(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=W8(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function use(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yse(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dse=/^:[\w-]+$/,hse=3,fse=2,pse=1,gse=10,mse=-2,PU=e=>e==="*";function vse(e,t){let n=e.split("/"),i=n.length;return n.some(PU)&&(i+=mse),t&&(i+=fse),n.filter(r=>!PU(r)).reduce((r,s)=>r+(dse.test(s)?hse:s===""?pse:gse),i)}function yse(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function Cse(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=VI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=VI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Kh([s,d.pathname]),pathnameBase:Ese(Kh([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Kh([s,d.pathnameBase]))}return o}function VI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=bse(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function bse(e,t=!1,n=!0){eu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function wse(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eu(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function Sse(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Py(e):e;return{pathname:n?n.startsWith("/")?n:xse(n,t):t,search:Rse(i),hash:Ase(r)}}function xse(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function KP(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mse(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function j8(e){let t=Mse(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function $8(e,t,n,i=!1){let r;typeof e=="string"?r=Py(e):(r={...e},gr(!r.pathname||!r.pathname.includes("?"),KP("?","pathname","search",r)),gr(!r.pathname||!r.pathname.includes("#"),KP("#","pathname","hash",r)),gr(!r.search||!r.search.includes("#"),KP("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=Sse(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Kh=e=>e.join("/").replace(/\/\/+/g,"/"),Ese=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rse=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ase=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Y8=["POST","PUT","PATCH","DELETE"];new Set(Y8);var Dse=["GET",...Y8];new Set(Dse);var Mw=I.createContext(null);Mw.displayName="DataRouter";var wL=I.createContext(null);wL.displayName="DataRouterState";var K8=I.createContext({isTransitioning:!1});K8.displayName="ViewTransition";var Ise=I.createContext(new Map);Ise.displayName="Fetchers";var Nse=I.createContext(null);Nse.displayName="Await";var Gd=I.createContext(null);Gd.displayName="Navigation";var mR=I.createContext(null);mR.displayName="Location";var zd=I.createContext({outlet:null,matches:[],isDataRoute:!1});zd.displayName="Route";var ZG=I.createContext(null);ZG.displayName="RouteError";function Lse(e,{relative:t}={}){gr(vR(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Gd),{hash:r,pathname:s,search:o}=yR(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Kh([n,s])),i.createHref({pathname:a,search:o,hash:r})}function vR(){return I.useContext(mR)!=null}function Hd(){return gr(vR(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(mR).location}var q8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z8(e){I.useContext(Gd).static||I.useLayoutEffect(e)}function XG(){let{isDataRoute:e}=I.useContext(zd);return e?Yse():kse()}function kse(){gr(vR(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Mw),{basename:t,navigator:n}=I.useContext(Gd),{matches:i}=I.useContext(zd),{pathname:r}=Hd(),s=JSON.stringify(j8(i)),o=I.useRef(!1);return Z8(()=>{o.current=!0}),I.useCallback((l,c={})=>{if(eu(o.current,q8),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=$8(l,JSON.parse(s),r,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Kh([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,r,e])}var Ose=I.createContext(null);function Pse(e){let t=I.useContext(zd).outlet;return t&&I.createElement(Ose.Provider,{value:e},t)}function yR(e,{relative:t}={}){let{matches:n}=I.useContext(zd),{pathname:i}=Hd(),r=JSON.stringify(j8(n));return I.useMemo(()=>$8(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function Fse(e,t){return X8(e,t)}function X8(e,t,n,i){var C;gr(vR(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=I.useContext(Gd),{matches:s}=I.useContext(zd),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let S=u&&u.path||"";Q8(l,!u||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let d=Hd(),h;if(t){let S=typeof t=="string"?Py(t):t;gr(c==="/"||((C=S.pathname)==null?void 0:C.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),h=S}else h=d;let p=h.pathname||"/",m=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=V8(e,{pathname:m});eu(u||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),eu(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Hse(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Kh([c,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Kh([c,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,i);return t&&y?I.createElement(mR.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function _se(){let e=$se(),t=Tse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:r},n):null,o)}var Bse=I.createElement(_se,null),Gse=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(zd.Provider,{value:this.props.routeContext},I.createElement(ZG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zse({routeContext:e,match:t,children:n}){let i=I.useContext(Mw);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(zd.Provider,{value:e},n)}function Hse(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);gr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,u)=>{let d,h=!1,p=null,m=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||Bse,o&&(a<0&&u===0?(Q8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let v=t.concat(r.slice(0,u+1)),y=()=>{let C;return d?C=p:h?C=m:c.route.Component?C=I.createElement(c.route.Component,null):c.route.element?C=c.route.element:C=l,I.createElement(zse,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:C})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?I.createElement(Gse,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function QG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vse(e){let t=I.useContext(Mw);return gr(t,QG(e)),t}function Use(e){let t=I.useContext(wL);return gr(t,QG(e)),t}function Wse(e){let t=I.useContext(zd);return gr(t,QG(e)),t}function JG(e){let t=Wse(e),n=t.matches[t.matches.length-1];return gr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jse(){return JG("useRouteId")}function $se(){var i;let e=I.useContext(ZG),t=Use("useRouteError"),n=JG("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function Yse(){let{router:e}=Vse("useNavigate"),t=JG("useNavigate"),n=I.useRef(!1);return Z8(()=>{n.current=!0}),I.useCallback(async(r,s={})=>{eu(n.current,q8),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var FU={};function Q8(e,t,n){!t&&!FU[e]&&(FU[e]=!0,eu(!1,n))}I.memo(Kse);function Kse({routes:e,future:t,state:n}){return X8(e,void 0,n,t)}function qse(e){return Pse(e.context)}function Nh(e){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zse({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){gr(!vR(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Py(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,p=I.useMemo(()=>{let m=sf(l,o);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:h},navigationType:i}},[o,l,c,u,d,h,i]);return eu(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:I.createElement(Gd.Provider,{value:a},I.createElement(mR.Provider,{children:t,value:p}))}function Xse({children:e,location:t}){return Fse(M_(e),t)}function M_(e,t=[]){let n=[];return I.Children.forEach(e,(i,r)=>{if(!I.isValidElement(i))return;let s=[...t,r];if(i.type===I.Fragment){n.push.apply(n,M_(i.props.children,s));return}gr(i.type===Nh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=M_(i.props.children,s)),n.push(o)}),n}var qD="get",ZD="application/x-www-form-urlencoded";function SL(e){return e!=null&&typeof e.tagName=="string"}function Qse(e){return SL(e)&&e.tagName.toLowerCase()==="button"}function Jse(e){return SL(e)&&e.tagName.toLowerCase()==="form"}function eoe(e){return SL(e)&&e.tagName.toLowerCase()==="input"}function toe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function noe(e,t){return e.button===0&&(!t||t==="_self")&&!toe(e)}var aD=null;function ioe(){if(aD===null)try{new FormData(document.createElement("form"),0),aD=!1}catch{aD=!0}return aD}var roe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qP(e){return e!=null&&!roe.has(e)?(eu(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ZD}"`),null):e}function soe(e,t){let n,i,r,s,o;if(Jse(e)){let a=e.getAttribute("action");i=a?sf(a,t):null,n=e.getAttribute("method")||qD,r=qP(e.getAttribute("enctype"))||ZD,s=new FormData(e)}else if(Qse(e)||eoe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?sf(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||qD,r=qP(e.getAttribute("formenctype"))||qP(a.getAttribute("enctype"))||ZD,s=new FormData(a,e),!ioe()){let{name:c,type:u,value:d}=e;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(SL(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qD,i=null,r=ZD,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function e4(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ooe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aoe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function loe(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await ooe(s,n);return o.links?o.links():[]}return[]}));return hoe(i.flat(1).filter(aoe).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _U(e,t,n,i,r,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var d;let u=i.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function coe(e,t,{includeHydrateFallback:n}={}){return uoe(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function uoe(e){return[...new Set(e)]}function doe(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function hoe(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(doe(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var foe=new Set([100,101,204,205]);function poe(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&sf(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function J8(){let e=I.useContext(Mw);return e4(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function goe(){let e=I.useContext(wL);return e4(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var t4=I.createContext(void 0);t4.displayName="FrameworkContext";function e9(){let e=I.useContext(t4);return e4(e,"You must render this element inside a <HydratedRouter> element"),e}function moe(e,t){let n=I.useContext(t4),[i,r]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=C=>{C.forEach(S=>{o(S.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),I.useEffect(()=>{if(i){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[i]);let p=()=>{r(!0)},m=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:cM(a,p),onBlur:cM(l,m),onMouseEnter:cM(c,p),onMouseLeave:cM(u,m),onTouchStart:cM(d,p)}]:[!1,h,{}]}function cM(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function voe({page:e,...t}){let{router:n}=J8(),i=I.useMemo(()=>V8(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?I.createElement(Coe,{page:e,matches:i,...t}):null}function yoe(e){let{manifest:t,routeModules:n}=e9(),[i,r]=I.useState([]);return I.useEffect(()=>{let s=!1;return loe(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),i}function Coe({page:e,matches:t,...n}){let i=Hd(),{manifest:r,routeModules:s}=e9(),{basename:o}=J8(),{loaderData:a,matches:l}=goe(),c=I.useMemo(()=>_U(e,t,l,r,i,"data"),[e,t,l,r,i]),u=I.useMemo(()=>_U(e,t,l,r,i,"assets"),[e,t,l,r,i]),d=I.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let m=new Set,v=!1;if(t.forEach(C=>{var x;let S=r.routes[C.route.id];!S||!S.hasLoader||(!c.some(R=>R.route.id===C.route.id)&&C.route.id in a&&((x=s[C.route.id])!=null&&x.shouldRevalidate)||S.hasClientLoader?v=!0:m.add(C.route.id))}),m.size===0)return[];let y=poe(e,o);return v&&m.size>0&&y.searchParams.set("_routes",t.filter(C=>m.has(C.route.id)).map(C=>C.route.id).join(",")),[y.pathname+y.search]},[o,a,i,r,c,t,e,s]),h=I.useMemo(()=>coe(u,r),[u,r]),p=yoe(u);return I.createElement(I.Fragment,null,d.map(m=>I.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>I.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:v})=>I.createElement("link",{key:m,...v})))}function boe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var t9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t9&&(window.__reactRouterVersion="7.6.2")}catch{}function woe({basename:e,children:t,window:n}){let i=I.useRef();i.current==null&&(i.current=sse({window:n,v5Compat:!0}));let r=i.current,[s,o]=I.useState({action:r.action,location:r.location}),a=I.useCallback(l=>{I.startTransition(()=>o(l))},[o]);return I.useLayoutEffect(()=>r.listen(a),[r,a]),I.createElement(Zse,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var n9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i9=I.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},p){let{basename:m}=I.useContext(Gd),v=typeof c=="string"&&n9.test(c),y,C=!1;if(typeof c=="string"&&v&&(y=c,t9))try{let F=new URL(window.location.href),H=c.startsWith("//")?new URL(F.protocol+c):new URL(c),W=sf(H.pathname,m);H.origin===F.origin&&W!=null?c=W+H.search+H.hash:C=!0}catch{eu(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Lse(c,{relative:r}),[x,R,A]=moe(i,h),T=Eoe(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function L(F){t&&t(F),F.defaultPrevented||T(F)}let O=I.createElement("a",{...h,...A,href:y||S,onClick:C||s?t:L,ref:boe(p,R),target:l,"data-discover":!v&&n==="render"?"true":void 0});return x&&!v?I.createElement(I.Fragment,null,O,I.createElement(voe,{page:S})):O});i9.displayName="Link";var Soe=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=yR(o,{relative:c.relative}),h=Hd(),p=I.useContext(wL),{navigator:m,basename:v}=I.useContext(Gd),y=p!=null&&Ioe(d)&&a===!0,C=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,S=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(S=S.toLowerCase(),x=x?x.toLowerCase():null,C=C.toLowerCase()),x&&v&&(x=sf(x,v)||x);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=S===C||!r&&S.startsWith(C)&&S.charAt(R)==="/",T=x!=null&&(x===C||!r&&x.startsWith(C)&&x.charAt(C.length)==="/"),L={isActive:A,isPending:T,isTransitioning:y},O=A?t:void 0,F;typeof i=="function"?F=i(L):F=[i,A?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(L):s;return I.createElement(i9,{...c,"aria-current":O,className:F,ref:u,style:H,to:o,viewTransition:a},typeof l=="function"?l(L):l)});Soe.displayName="NavLink";var xoe=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:o=qD,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},p)=>{let m=Toe(),v=Doe(a,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&n9.test(a),S=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let R=x.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||o;m(R||x.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:r,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return I.createElement("form",{ref:p,method:y,action:v,onSubmit:i?l:S,...h,"data-discover":!C&&e==="render"?"true":void 0})});xoe.displayName="Form";function Moe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r9(e){let t=I.useContext(Mw);return gr(t,Moe(e)),t}function Eoe(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=XG(),l=Hd(),c=yR(e,{relative:s});return I.useCallback(u=>{if(noe(u,t)){u.preventDefault();let d=n!==void 0?n:dE(l)===dE(c);a(e,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,n,i,t,e,r,s,o])}var Roe=0,Aoe=()=>`__${String(++Roe)}__`;function Toe(){let{router:e}=r9("useSubmit"),{basename:t}=I.useContext(Gd),n=jse();return I.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=soe(i,t);if(r.navigate===!1){let u=r.fetcherKey||Aoe();await e.fetch(u,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function Doe(e,{relative:t}={}){let{basename:n}=I.useContext(Gd),i=I.useContext(zd);gr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...yR(e||".",{relative:t})},o=Hd();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Kh([n,s.pathname])),dE(s)}function Ioe(e,t={}){let n=I.useContext(K8);gr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=r9("useViewTransitionState"),r=yR(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=sf(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=sf(n.nextLocation.pathname,i)||n.nextLocation.pathname;return VI(r.pathname,o)!=null||VI(r.pathname,s)!=null}[...foe];var Fy=H8();const s9=bL(Fy);var dy=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:i}=this,r=a=>{const l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if(((s==null?void 0:s.size)??0)>0){const a=new Set(s);for(const l of a)s!=null&&s.has(l)&&r(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Noe(e,t){return t}function o9(e){return(e==null?void 0:e.getLocaleTextFunc())??Noe}function bf(e,t,n){n==null||typeof n=="string"&&n==""?a9(e,t):lu(e,t,n)}function lu(e,t,n){e.setAttribute(l9(t),n.toString())}function a9(e,t){e.removeAttribute(l9(t))}function l9(e){return`aria-${e}`}function hy(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Loe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function koe(e){return e.getAttribute("aria-label")}function xL(e,t){bf(e,"label",t)}function E_(e,t){bf(e,"labelledby",t)}function c9(e,t){bf(e,"live",t)}function Ooe(e,t){bf(e,"atomic",t)}function Poe(e,t){bf(e,"relevant",t)}function Foe(e,t){bf(e,"disabled",t)}function u9(e,t){bf(e,"hidden",t)}function R_(e,t){lu(e,"expanded",t)}function _oe(e,t){lu(e,"setsize",t)}function Boe(e,t){lu(e,"posinset",t)}function Goe(e,t){lu(e,"rowcount",t)}function d9(e,t){lu(e,"rowindex",t)}function zoe(e,t){lu(e,"rowspan",t)}function Hoe(e,t){lu(e,"colcount",t)}function h9(e,t){lu(e,"colindex",t)}function Voe(e,t){lu(e,"colspan",t)}function Uoe(e,t){lu(e,"sort",t)}function Woe(e){a9(e,"sort")}function A_(e,t){bf(e,"selected",t)}function joe(e,t){bf(e,"controls",t.id),E_(t,e.id)}function n4(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var ZP,XP,QP,JP,T_,D_,eF;function _y(){return ZP===void 0&&(ZP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ZP}function f9(){return XP===void 0&&(XP=/(firefox)/i.test(navigator.userAgent)),XP}function p9(){return QP===void 0&&(QP=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),QP}function Kv(){return JP===void 0&&(JP=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),JP}function I_(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!f9())?null:t.toString()}function $oe(){if(eF!==void 0)return eF;if(!document.body)return-1;let e=1e6;const t=f9()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),eF=e,e}function Yoe(){return D_==null&&g9(),D_}function g9(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(D_=n,T_=n===0)}function m9(){return T_==null&&g9(),T_}var Koe="[tabindex], input, select, button, textarea, [href]",v9="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function i4(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,v9),s=Nd(e);return i&&!r&&s}function fr(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||u9(e,!t)}function qoe(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||u9(e,!t)}function hE(e,t){const n="disabled",i=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(e);const r=e.querySelectorAll("input")??[];for(const s of r)i(s)}function qv(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function By(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:p,marginLeft:m,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(m||"0"),boxSizing:v}}function r4(e){const t=By(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function fE(e){const t=By(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function y9(e){const{height:t,marginBottom:n,marginTop:i}=By(e);return Math.floor(t+n+i)}function UI(e){const{width:t,marginLeft:n,marginRight:i}=By(e);return Math.floor(t+n+i)}function C9(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=By(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function WI(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function jI(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ml(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function of(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function b9(e){return!!e.offsetParent}function Nd(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!b9(e)||window.getComputedStyle(e).visibility!=="visible")}function s4(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Zoe(e){return e.clientWidth<e.scrollWidth}function Xoe(e){return e.clientHeight<e.scrollHeight}function $I(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):wd(e,t)}function wd(e,t){t=o4(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function UM(e,t){t=o4(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function o4(e){return typeof e=="number"?`${e}px`:e}function a4(e){return e instanceof Node||e instanceof HTMLElement}function Zl(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function wf(e,t,n){const r=D9(e).ResizeObserver,s=r?new r(n):null;return s==null||s.observe(t),()=>s==null?void 0:s.disconnect()}function Sf(e,t){const n=D9(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var w9="data-ref",tF;function BU(){return tF??(tF=document.createTextNode(" ")),tF.cloneNode()}function zr(e){const{attrs:t,children:n,cls:i,ref:r,role:s,tag:o}=e,a=document.createElement(o);if(i&&(a.className=i),r&&a.setAttribute(w9,r),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):(l&&(a.appendChild(BU()),l=!1),a.append(zr(c)),a.appendChild(BU())))}return a}var GU={};function l4(e,t){GU[t]||(e(),GU[t]=!0)}function fy(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function WM(e,...t){l4(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Sb(e,...t){l4(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var Qoe={pending:!1,funcs:[]},Joe={pending:!1,funcs:[]};function N_(e,t="setTimeout",n){const i=t==="raf"?Joe:Qoe;if(i.funcs.push(e),i.pending)return;i.pending=!0;const r=()=>{const s=i.funcs.slice();i.funcs.length=0,i.pending=!1,s.forEach(o=>o())};t==="raf"?Sf(n,r):window.setTimeout(r,0)}function eo(e,t,n){let i;return function(...r){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r)},n)}}function zU(e,t){let n=0;return function(...i){const r=this,s=Date.now();s-n<t||(n=s,e.apply(r,i))}}function eae(e,t,n=100,i){const r=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-r>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}function qh(e){return e==null||e===""?null:e}function ht(e){return e!=null&&e!==""}function Wi(e){return!ht(e)}function L_(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function pE(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function tae(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var S9="https://www.ag-grid.com",gt="33.3.2",HU=2e3,VU=100,x9="_version_",XD=null,xb=`${S9}/javascript-data-grid`;function nae(e){XD=e}function iae(e){xb=e}function M9(e,t,n){return(XD==null?void 0:XD.getConsoleMessage(e,t))??[aae(e,t,n)]}function c4(e,t,n,i){e(`error #${t}`,...M9(t,n,i))}function rae(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function sae(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=rae(e)),t}function YI(e){return e===void 0?"undefined":e===null?"null":e}function k_(e,t){return`${e}?${t.toString()}`}function oae(e,t,n){const i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let r=k_(e,t);for(const[s,o]of i){if(s===x9)continue;const a=r.length-n;if(a<=0)break;const l="...",c=a+l.length,u=o.length-c>VU?o.slice(0,o.length-c)+l:o.slice(0,VU)+l;t.set(s,u),r=k_(e,t)}return r}function E9(e,t){const n=new URLSearchParams;if(n.append(x9,gt),t)for(const s of Object.keys(t))n.append(s,sae(t[s]));const i=`${xb}/errors/${e}`,r=k_(i,n);return r.length<=HU?r:oae(i,n,HU)}var aae=(e,t,n)=>{const i=E9(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function it(...e){c4(WM,e[0],e[1])}function bi(...e){c4(Sb,e[0],e[1])}function AM(e,t,n){c4(Sb,e,t,n)}function lae(e,t){const n=t[0];return`error #${n} `+M9(n,t[1],e).join(" ")}function lg(...e){return lae(void 0,e)}function R9(e,t){return e.get("rowModelType")===t}function Ds(e,t){return R9(e,"clientSide")}function Gy(e,t){return R9(e,"serverSide")}function io(e,t){return e.get("domLayout")===t}function Zv(e){return qI(e)!==void 0}function A9(e){return typeof e.get("getRowHeight")=="function"}function cae(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function yg(e,t,n=!1,i){const{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),A9(r)){if(n)return{height:i,estimated:!0};const l={node:t,data:t.data},c=r.getCallback("getRowHeight")(l);if(O_(c))return c===0&&it(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&r.get("masterDetail"))return uae(r);const o=r.get("rowHeight");return{height:o&&O_(o)?o:i,estimated:!1}}function uae(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return O_(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Xv(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Wi(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(it(24),t.getDefaultRowHeight())}function O_(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function T9(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function py(e,t,n,i){const r=e.getDomDataKey();let s=t[r];Wi(s)&&(s={},t[r]=s),s[n]=i}function Is(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&ht(r)?i=r():n&&(i=n.ownerDocument),i&&ht(i)?i:document}function D9(e){return Is(e).defaultView||window}function gE(e){return e.eGridDiv.getRootNode()}function ir(e){return gE(e).activeElement}function u4(e){let t=null,n=null;try{t=Is(e).fullscreenElement}catch{}finally{t||(t=gE(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function dae(e){const t=u4(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function hae(e){const t=u4(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function fae(e,t,n){const r=e.getBoundingClientRect().height,s=dae(n)-2,o=hae(n)-2;if(!e.offsetParent)return;const l=C9(e.offsetParent),{clientY:c,clientX:u}=t;let d=c-l.top-r/2,h=u-l.left-10;const p=Is(n),m=p.defaultView||window,v=m.pageYOffset||p.documentElement.scrollTop,y=m.pageXOffset||p.documentElement.scrollLeft;s>0&&h+e.clientWidth>s+y&&(h=s+y-e.clientWidth),h<0&&(h=0),o>0&&d+e.clientHeight>o+v&&(d=o+v-e.clientHeight),d<0&&(d=0),e.style.left=`${h}px`,e.style.top=`${d}px`}function I9(e){const t=ir(e);return t===null||t===Is(e).body}function Mb(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function N9(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||io(e,"print"))}function ld(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function P_(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function L9(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function k9(e,t,n){return!!t.group&&!t.footer&&L9(e,n)}function nw(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(l4(()=>it(25,{id:i}),"getRowIdString"),i=String(i)),i}}function pae(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function gae(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Eb(e){return(e==null?void 0:e.checkboxes)??!0}function QD(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function KI(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function nF(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function mae(e){return typeof e.get("rowSelection")!="string"}function Cg(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function O9(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function vae(e){const t=O9(e);return t===!0||t==="enableSelection"}function yae(e){const t=O9(e);return t===!0||t==="enableDeselection"}function F_(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function qI(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function ZI(e){return qI(e)==="multiRow"}function Cae(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function XI(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function P9(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function mE(e){const t=XI(e);return t==="descendants"||t==="filteredDescendants"}function UU(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function iF(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function al(e){return e.get("columnMenu")==="legacy"}function bae(e){return!al(e)}function F9(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function wae(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const s=t[r];typeof s<"u"&&(i[r]=s)}),i}function Sae(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function zt(e,t){return e.addGridCommonParams(t)}function xae(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var _9="__ag_Grid_Stop_Propagation",Mae=["touchstart","touchend","touchmove","touchcancel","scroll"],Eae=["wheel"],rF={};function gy(e){e[_9]=!0}function Zh(e){return e[_9]===!0}var B9=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof rF[n]=="boolean")return rF[n];const i=document.createElement(e[n]||"div");return n="on"+n,rF[n]=n in i}})();function G9(e,t,n){let i=t;for(;i;){const r=T9(e,i,n);if(r)return r;i=i.parentElement}return null}function Rae(e,t){return!t||!e?!1:Tae(t).indexOf(e)>=0}function Aae(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Tae(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Aae(t)}function Dae(e,t,n,i){const r=z9(n);let s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s)}var z9=e=>{const t=Mae.includes(e),n=Eae.includes(e);if(t)return!0;if(n)return!1},Be=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new dy),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return Iae(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Dae(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return o9(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Iae(e){return e.__addEventListener!==void 0}var H9=new Set(["__proto__","constructor","prototype"]);function Nae(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function oa(e,t,n=!0,i=!1){ht(t)&&Nae(t,(r,s)=>{if(H9.has(r))return;let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),WU(s)&&WU(o)&&!Array.isArray(o)?oa(o,s,n,i):(n||s!==void 0)&&(e[r]=s))})}function jM(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]]}return r}function WU(e){return typeof e=="object"&&e!==null}var Lae=/[&<>"']/g,kae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ew(e){return(e==null?void 0:e.toString().toString())??null}function JD(e){var t;return((t=Ew(e))==null?void 0:t.replace(Lae,n=>kae[n]))??null}var Oae={resizable:!0,sortable:!0},Pae=0;function V9(){return Pae++}function af(e){return e instanceof ML}var ML=class extends Be{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=V9(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new dy,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=JD(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t==null||t.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n==null||n.initCol(this),i==null||i.initCol(this)}setColDef(e,t,n){var r;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((r=this.beans.rowSpanSvc)==null||r.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ht(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ht(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,r,s;this.frameworkEventListenerService=(r=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(i,this.frameworkEventListenerService,this.colEventSvc);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(e,t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(e,t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return zt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Oae[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return zt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Wi(this.sort)}isSorting(){return ht(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return it(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return zt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Wi(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Wi(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&oa(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ro(e){return e instanceof eI}var eI=class extends Be{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=V9(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)af(t)?e(t):Ro(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{af(t)?e.push(t):Ro(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){const a=i[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{Ro(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Fae={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function jU(e,t,n){const i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var _ae=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=L_(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const r=String(i);return e&&n>0&&it(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},$U=Object.freeze([]);function ri(e){if(e!=null&&e.length)return e[e.length-1]}function zy(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function lD(e,t){if(e)for(const n of e)t(n)}function tc(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function YU(e,t,n){for(let i=0;i<t.length;i++)tc(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var EL="ag-Grid-AutoColumn",U9="ag-Grid-SelectionColumn",W9="ag-Grid-RowNumbersColumn";function j9(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];af(s)?t.push(s):Ro(s)&&n(s.getChildren())}};return n(e),t}function _h(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function QI(e,t,n){const i={};if(!t)return;Xh(null,t,s=>{i[s.getInstanceId()]=s}),n&&Xh(null,n,s=>{i[s.getInstanceId()]=null});const r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r)}function d4(e){return e.getId().startsWith(EL)}function Rw(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(U9))??!1}function Qv(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(W9))??!1}function JI(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Bae(e,t){return zy(e,t,(n,i)=>n.getColId()===i.getColId())}function Gae(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Rb(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function $9(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var zae=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),ht(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),ht(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function Hae(e,t=null,n,i,r){const s=new _ae,{existingCols:o,existingGroups:a,existingColKeys:l}=Vae(i);s.addExistingKeys(l);const c=Y9(e,t,0,n,o,s,a,r),{colGroupSvc:u}=e,d=(u==null?void 0:u.findMaxDepth(c,0))??0,h=u?u.balanceColumnTree(c,0,d,s):c;return Xh(null,h,(m,v)=>{Ro(m)&&m.setupExpandable(),m.originalParent=v}),{columnTree:h,treeDepth:d}}function Vae(e){const t=[],n=[],i=[];return e&&Xh(null,e,r=>{if(Ro(r)){const s=r;n.push(s)}else{const s=r;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function Y9(e,t,n,i,r,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const d=t[u];l&&Kae(d)?c[u]=l.createProvidedColumnGroup(i,d,n,r,s,o,a):c[u]=Uae(e,i,d,r,s,a)}return c}function Uae(e,t,n,i,r,s){var l;const o=jae(n,i);o&&(i==null||i.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const c=__(e,n,a.getColId());a.setColDef(c,n,s),Wae(e,a,c,s)}else{const c=r.getUniqueKey(n.colId,n.field),u=__(e,n,c);a=new ML(u,n,c,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function K9(e,t,n,i,r,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:u}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),s!==void 0&&(c==null||c.setColPinned(t,s)),o!==void 0&&(u==null||u.setColFlex(t,o))}function Wae(e,t,n,i){K9(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function jae(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function __(e,t,n,i){const{gos:r,dataTypeSvc:s}=e,o={},a=r.get("defaultColDef");oa(o,a,!1,!0);const l=$ae(e,o,t,n);l&&Yae(e,l,o),oa(o,t,!1,!0);const c=r.get("autoGroupColumnDef"),u=ld(r);return t.rowGroup&&c&&u&&oa(o,{sort:c.sort,initialSort:c.initialSort},!1,!0),s==null||s.validateColDef(o),r.validateColDef(o,n,i),o}function $ae(e,t,n,i){var o;const r=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?JI(s):void 0}function Yae(e,t,n){if(!t.length)return;const i=Object.assign({},Fae),r=e.gos.get("columnTypes")||{};for(const s of Object.keys(r)){const o=r[s];s in i?it(34,{key:s}):(o.type&&it(35),i[s]=o)}t.forEach(s=>{const o=i[s.trim()];o?oa(n,o,!1,!0):it(36,{t:s})})}function Kae(e){return e.children!==void 0}function Xh(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];Ro(r)&&Xh(r,r.getChildren(),n),n(r,e)}}function q9(e,t){const n=[],i=[],r=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?r.push(o):a==="left"||a===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function Z9(e,t){let n=!0;return Xh(null,t,i=>{if(!Ro(i))return;const r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];r.getLeafColumns().forEach(h=>{const p=e.indexOf(h);a.push(p)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,d=r.getLeafColumns().length-1;u>d&&(n=!1)}),n}function X9(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function Q9(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=X9(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function qae(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=X9(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function Zae(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function iw(e,t,n,i,r=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function Zc(e,t,n){var A;const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:u,environment:d,valueColsSvc:h,eventSvc:p,gos:m}=e,v=i.getColDefCols()??[],y=a==null?void 0:a.getColumns();if(!(v!=null&&v.length)&&!(y!=null&&y.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return it(32),!1;const C=(T,L,O,F,H)=>{if(!T)return;const W=zae(L,t.defaultState),$=W("flex").value1;if(K9(e,T,W("hide").value1,W("sort").value1,W("sortIndex").value1,W("pinned").value1,$,n),$==null){const Z=W("width").value1;if(Z!=null){const ie=T.getColDef().minWidth??d.getDefaultColumnMinWidth();ie!=null&&Z>=ie&&T.setActualWidth(Z,n)}}H||!T.isPrimary()||(h==null||h.syncColumnWithState(T,n,W),r==null||r.syncColumnWithState(T,n,W,O),s==null||s.syncColumnWithState(T,n,W,F))},S=(T,L,O)=>{var re,K;const F=J9(e,n),H=L.slice(),W={},$={},Z=[],ie=[],oe=[];let te=0;const ae=(r==null?void 0:r.columns.slice())??[],ne=(s==null?void 0:s.columns.slice())??[];T.forEach(V=>{const G=V.colId;if(G.startsWith(EL)){Z.push(V),oe.push(V);return}if(Rw(G)){ie.push(V),oe.push(V);return}const Y=O(G);Y?(C(Y,V,W,$,!1),tc(H,Y)):(oe.push(V),te+=1)});const Se=V=>C(V,null,W,$,!1);H.forEach(Se),r==null||r.sortColumns(KU.bind(r,W,ae)),s==null||s.sortColumns(KU.bind(s,$,ne)),i.refreshCols(!1);const q=(V,G,se=[])=>{G.forEach(Y=>{const ue=V(Y.colId);tc(se,ue),C(ue,Y,null,null,!0)}),se.forEach(Se)};return q(V=>(o==null?void 0:o.getColumn(V))??null,Z,(re=o==null?void 0:o.getColumns())==null?void 0:re.slice()),q(V=>(a==null?void 0:a.getColumn(V))??null,ie,(K=a==null?void 0:a.getColumns())==null?void 0:K.slice()),Qae(t,i,m),c.refresh(n),p.dispatchEvent({type:"columnEverythingChanged",source:n}),F(),{unmatchedAndAutoStates:oe,unmatchedCount:te}};l==null||l.start();let{unmatchedAndAutoStates:x,unmatchedCount:R}=S(t.state||[],v,T=>i.getColDefCol(T));if(x.length>0||ht(t.defaultState)){const T=((A=u==null?void 0:u.getPivotResultCols())==null?void 0:A.list)??[];R=S(x,T,L=>(u==null?void 0:u.getPivotResultCol(L))??null).unmatchedCount}return l==null||l.finish(),R===0}function Xae(e,t){var y,C;const{colModel:n,autoColSvc:i,selectionColSvc:r}=e,s=n.getColDefCols();if(!(s!=null&&s.length))return;const o=n.getColDefColTree(),a=j9(o),l=[];let c=1e3,u=1e3;const d=S=>{const x=e$(S);Wi(x.rowGroupIndex)&&x.rowGroup&&(x.rowGroupIndex=c++),Wi(x.pivotIndex)&&x.pivot&&(x.pivotIndex=u++),l.push(x)};(y=i==null?void 0:i.getColumns())==null||y.forEach(d),(C=r==null?void 0:r.getColumns())==null||C.forEach(d),a==null||a.forEach(d),Zc(e,{state:l},t);const h=(i==null?void 0:i.getColumns())??[],v=[...(r==null?void 0:r.getColumns())??[],...h,...s].map(S=>({colId:S.colId}));Zc(e,{state:v,applyOrder:!0},t)}function J9(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(r==null?void 0:r.columns.slice())??[]},c=eN(e),u={};return c.forEach(d=>{u[d.colId]=d}),()=>{const d=(T,L,O,F)=>{const H=L.map(F),W=O.map(F);if(zy(H,W))return;const Z=new Set(L);O.forEach(oe=>{Z.delete(oe)||Z.add(oe)});const ie=[...Z];a.dispatchEvent({type:T,columns:ie,column:ie.length===1?ie[0]:null,source:t})},h=T=>{const L=[];return s.forAllCols(O=>{const F=u[O.getColId()];F&&T(F,O)&&L.push(O)}),L},p=T=>T.getColId();d("columnRowGroupChanged",l.rowGroupColumns,(n==null?void 0:n.columns)??[],p),d("columnPivotChanged",l.pivotColumns,(i==null?void 0:i.columns)??[],p);const v=h((T,L)=>{const O=T.aggFunc!=null,F=O!=L.isValueActive(),H=O&&T.aggFunc!=L.getAggFunc();return F||H});v.length>0&&Zae(a,"columnValueChanged",v,t),iw(a,h((T,L)=>T.width!=L.getActualWidth()),!0,t),Q9(a,h((T,L)=>T.pinned!=L.getPinned()),t),qae(a,h((T,L)=>T.hide==L.isVisible()),t);const R=h((T,L)=>T.sort!=L.getSort()||T.sortIndex!=L.getSortIndex());R.length>0&&(o==null||o.dispatchSortChangedEvents(t,R));const A=eN(e);ele(c,A,t,s,a)}}function eN(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(Wi(r)||!t.isAlive())return[];const s=n==null?void 0:n.columns,o=i==null?void 0:i.columns,a=[],l=u=>{const d=u.isRowGroupActive()&&s?s.indexOf(u):null,h=u.isPivotActive()&&o?o.indexOf(u):null,p=u.isValueActive()?u.getAggFunc():null,m=u.getSort()!=null?u.getSort():null,v=u.getSortIndex()!=null?u.getSortIndex():null;a.push({colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:m,sortIndex:v,aggFunc:p,rowGroup:u.isRowGroupActive(),rowGroupIndex:d,pivot:u.isPivotActive(),pivotIndex:h,flex:u.getFlex()??null})};t.forAllCols(u=>l(u));const c=new Map(t.getCols().map((u,d)=>[u.getColId(),d]));return a.sort((u,d)=>{const h=c.has(u.colId)?c.get(u.colId):-1,p=c.has(d.colId)?c.get(d.colId):-1;return h-p}),a}function e$(e){const t=(m,v)=>m??v??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:p}}function Qae(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),Jae(t.cols,i,t,n)}function Jae(e,t,n,i){if(e==null)return;let r=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(r.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(EL)?r.splice(o++,0,a):r.push(a)}),r=q9(r,i),!Z9(r,n.getColTree())){it(39);return}e.list=r}function ele(e,t,n,i,r){const s={};t.forEach(u=>s[u.colId]=u);const o={};e.forEach(u=>{s[u.colId]&&(o[u.colId]=!0)});const a=e.filter(u=>o[u.colId]),l=t.filter(u=>o[u.colId]),c=[];l.forEach((u,d)=>{const h=a&&a[d];if(h&&h.colId!==u.colId){const p=i.getCol(h.colId);p&&c.push(p)}}),c.length&&r.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var KU=(e,t,n,i)=>{const r=e[n.getId()],s=e[i.getId()],o=r!=null,a=s!=null;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(i),u=l>=0,d=c>=0;return u&&d?l-c:u?-1:1},tle=class extends Be{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Rb(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Rb(e.source)))}createColsFromColDefs(e){var S,x,R;const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,colViewport:l,eventSvc:c}=t,u=this.colDefs?J9(t,e):void 0;n==null||n.expire();const d=(S=this.colDefCols)==null?void 0:S.list,h=(x=this.colDefCols)==null?void 0:x.tree,p=Hae(t,this.colDefs,!0,h,e);QI(t,(R=this.colDefCols)==null?void 0:R.tree,p.columnTree);const m=p.columnTree,v=p.treeDepth,y=j9(m),C={};y.forEach(A=>C[A.getId()]=A),this.colDefCols={tree:m,treeDepth:v,list:y,map:C},r==null||r.extractCols(e,d),s==null||s.extractCols(e,d),o==null||o.extractCols(e,d),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var v;if(!this.colDefCols)return;const t=(v=this.cols)==null?void 0:v.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:u,eventSvc:d}=this.beans,h=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,r],h);const p=cae(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(h),this.positionLockedCols(h),a==null||a.refresh(),s==null||s.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(h),c.clear(),u.clear(),!zy(t,this.cols.tree)&&d.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:{...i},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>{var c;return((c=this.cols)==null?void 0:c.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(r=>{const s=d4(r);if(e){const o=t==null?void 0:t.includes(r);return s||o}else return s||r.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Zc(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(d=>e.map[d.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=d=>{const h=d.getOriginalParent();return h?h.getChildren().length>1?!0:i(h):!1};if(!n.some(d=>i(d))){const d=new Set(n);for(const h of e.list)d.has(h)||n.push(h);e.list=n;return}const r=new Map;for(let d=0;d<n.length;d++){const h=n[d];r.set(h,d)}const s=e.list.filter(d=>!r.has(d));if(s.length===0){e.list=n;return}const o=(d,h)=>{const p=h?h.getOriginalParent():d.getOriginalParent();if(!p)return null;let m=null,v=null;for(const y of p.getChildren())if(!(y===h||y===d)){if(y instanceof ML){const C=r.get(y);if(C==null)continue;(m==null||m<C)&&(m=C,v=y);continue}y.forEachLeafColumn(C=>{const S=r.get(C);S!=null&&(m==null||m<S)&&(m=S,v=C)})}return v??o(d,p)},a=[],l=new Map;for(const d of s){const h=o(d,null);if(h==null){a.push(d);continue}const p=l.get(h);p===void 0?l.set(h,d):Array.isArray(p)?p.push(d):l.set(h,[p,d])}const c=new Array(e.list.length);let u=c.length-1;for(let d=a.length-1;d>=0;d--)c[u--]=a[d];for(let d=n.length-1;d>=0;d--){const h=n[d],p=l.get(h);if(p)if(Array.isArray(p))for(let m=p.length-1;m>=0;m--){const v=p[m];c[u--]=v}else c[u--]=p;c[u--]=h}e.list=c}positionLockedCols(e){e.list=q9(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=Rb(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;QI(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var r,s,o,a;const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;lD((r=this.colDefCols)==null?void 0:r.list,e),lD((s=n==null?void 0:n.columns)==null?void 0:s.list,e),lD((o=i==null?void 0:i.columns)==null?void 0:o.list,e),lD((a=t==null?void 0:t.getPivotResultCols())==null?void 0:a.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){var t;return((t=this.cols)==null?void 0:t.map[e])??null}getColFromCollection(e,t){var r,s;if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let o=0;o<i.length;o++)if($9(i[o],e))return i[o];return((r=this.beans.autoColSvc)==null?void 0:r.getColumn(e))??((s=this.beans.selectionColSvc)==null?void 0:s.getColumn(e))??null}},t$=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Aw=class extends Be{};function CR(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var bR=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){var i;if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(s=>this.toggleCss(s,t));return}}this.cssClassStates[e]!==t&&e.length&&((i=this.getGui())==null||i.classList.toggle(e,t),this.cssClassStates[e]=t)}},nle=0,At=null,$i=class extends Be{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=nle++,this.cssManager=new bR(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,i;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(i=this.css)==null||i.forEach(r=>this.beans.environment.addGlobalCSS(r,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(w9):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===At)this[t]=i??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,s=>{const o=s.getGui();if(o)for(const a of i.attributes??[])o.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);r.addItems(s)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null;let a=null;if(o){const l=n&&r?n[r]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=s4(e):i=zr(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const s=t[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),a4(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;qoe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;fr(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Ui=class TM{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new TM(n=>{let i=t.length;const r=new Array(i);t.forEach((s,o)=>{s.then(a=>{r[o]=a,i--,i===0&&n(r)})})}):TM.resolve()}static resolve(t=null){return new TM(n=>n(t))}then(t){return new TM(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function ile(e){return e?e.prototype&&"getGui"in e.prototype:!1}function n$(e,t,n,i){const{name:r}=n;let s,o,a,l,c,u;if(t){const d=t,h=d[r+"Selector"],p=h?h(i):null,m=v=>{typeof v=="string"?s=v:v!=null&&v!==!0&&(e.isFrameworkComponent(v)?a=v:o=v)};p?(m(p.component),l=p.params,c=p.popup,u=p.popupPosition):m(d[r])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}var rle=class extends Be{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){var S;const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}=n$(this.beans.frameworkOverrides,e,t,i),p;const m=x=>{const R=this.registry.getUserComponent(s,x);R&&(l=R.componentFromFramework?void 0:R.component,c=R.componentFromFramework?R.component:void 0,p=R.params)};if(a!=null&&m(a),l==null&&c==null&&n!=null&&m(n),l&&o&&!ile(l)&&(l=(S=this.agCompUtils)==null?void 0:S.adaptFunction(t,l)),!l&&!c){const{validation:x}=this.beans;r&&(a!==n||!n)?a?x!=null&&x.isProvidedUserComp(a)||bi(50,{compName:a}):n?x||bi(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):bi(216,{name:s}):n&&!x&&bi(146,{comp:n});return}const v=this.mergeParams(e,t,i,u,p),y=l==null,C=l??c;return{componentFromFramework:y,componentClass:C,params:v,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(C,y,v,t)}}newAgStackInstance(e,t,n,i){var a;const r=!t;let s;r?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const o=(a=s.init)==null?void 0:a.call(s,n);return o==null?Ui.resolve(s):o.then(()=>s)}mergeParams(e,t,n,i=null,r){const s={...n,...r},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const l=a(n);oa(s,l)}else typeof a=="object"&&oa(s,a);return oa(s,i),s}},sle={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},ole={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},ale={name:"headerComponent",optionalMethods:["refresh"]},lle={name:"innerHeaderComponent"},cle={name:"innerHeaderGroupComponent"},ule={name:"headerGroupComponent"},dle={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},hle={name:"loadingCellRenderer",cellRenderer:!0},fle={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},ple={name:"loadingOverlayComponent",optionalMethods:["refresh"]},gle={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},mle={name:"tooltipComponent"},h4={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},vle={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},yle={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Cle={name:"loadingCellRenderer",cellRenderer:!0},ble={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},wle={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Sle(e,t){return e.getCompDetailsFromGridOptions(ole,"agDragAndDropImage",t,!0)}function xle(e,t,n){return e.getCompDetails(t,ale,"agColumnHeader",n)}function Mle(e,t,n){return e.getCompDetails(t,lle,void 0,n)}function Ele(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,ule,"agColumnGroupHeader",t)}function Rle(e,t,n){return e.getCompDetails(t,cle,void 0,n)}function Ale(e,t){return e.getCompDetailsFromGridOptions(yle,void 0,t,!0)}function Tle(e,t){return e.getCompDetailsFromGridOptions(Cle,"agLoadingCellRenderer",t,!0)}function Dle(e,t){return e.getCompDetailsFromGridOptions(ble,"agGroupRowRenderer",t,!0)}function Ile(e,t){return e.getCompDetailsFromGridOptions(wle,"agDetailCellRenderer",t,!0)}function qU(e,t,n){return e.getCompDetails(t,dle,void 0,n)}function Nle(e,t,n){return e.getCompDetails(t,hle,"agSkeletonCellRenderer",n,!0)}function ZU(e,t,n){return e.getCompDetails(t,fle,"agCellEditor",n,!0)}function Lle(e,t,n,i){return e.getCompDetails(t,h4,i,n,!0)}function kle(e,t,n){return e.getCompDetails(t,sle,"agDateInput",n,!0)}function Ole(e,t){return e.getCompDetailsFromGridOptions(ple,"agLoadingOverlay",t,!0)}function Ple(e,t){return e.getCompDetailsFromGridOptions(gle,"agNoRowsOverlay",t,!0)}function Fle(e,t){return e.getCompDetails(t.colDef,mle,"agTooltipComponent",t,!0)}function _le(e,t,n,i){return e.getCompDetails(t,vle,i,n)}function Ble(e,t){return n$(e,t,h4)}function Gle(e,t,n){return e.mergeParams(t,h4,n)}function vE(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var i$=new Set,tN={},Jv={},tI,r$=!1,s$=!1,zle=!1;function Hle(e){const[t,n]=e.version.split(".")||[],[i,r]=tI.split(".")||[];return t===i&&n===r}function Vle(e){tI||(tI=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?Hle(e)||Sb(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${tI}.`)):Sb(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||Sb(`${n.message}`)}}function yE(e,t,n=!1){n||(r$=!0),Vle(e);const i=e.rowModels??["all"];i$.add(e);let r;t!==void 0?(s$=!0,Jv[t]===void 0&&(Jv[t]={}),r=Jv[t]):r=tN,i.forEach(s=>{r[s]===void 0&&(r[s]={}),r[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>yE(s,t,n))}function Ule(e){delete Jv[e]}function B_(e,t,n){const i=r=>{var s,o,a;return!!((s=tN[r])!=null&&s[e])||!!((a=(o=Jv[t])==null?void 0:o[r])!=null&&a[e])};return i(n)||i("all")}function f4(){return s$}function Wle(e,t){const n=Jv[e]??{};return[...Object.values(tN.all??{}),...Object.values(n.all??{}),...Object.values(tN[t]??{}),...Object.values(n[t]??{})]}function jle(){return new Set(i$)}function $le(e,t){const n=Jv[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function Yle(){return r$}function Kle(){return zle}var qle=class{static register(t){yE(t,void 0)}static registerModules(t){t.forEach(n=>yE(n,void 0))}},Zle=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const i=new n;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:i,bean:r}=n(this);this.beans[i]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var i,r;(i=n.preWireBeans)==null||i.call(n,this.beans),(r=n.wireBeans)==null||r.call(n,this.beans)}),e.forEach(n=>{var i;return(i=n.preConstruct)==null?void 0:i.call(n)}),t&&e.forEach(t),e.forEach(n=>{var i;return(i=n.postConstruct)==null?void 0:i.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Xle=class extends Zle{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),Ule(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},Qle="ag-column-first",Jle="ag-column-last";function o$(e,t,n,i){return Wi(e)?[]:tce(e.headerClass,e,t,n,i)}function a$(e,t,n){e.toggleCss(Qle,n.isColAtEdge(t,"first")),e.toggleCss(Jle,n.isColAtEdge(t,"last"))}function ece(e,t,n,i){return zt(t,{colDef:e,column:n,columnGroup:i})}function tce(e,t,n,i,r){if(Wi(e))return[];let s;if(typeof e=="function"){const o=ece(t,n,i,r);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function wR(e){return!!(e.rowPinned&&e.pinnedSibling)}function Bl(e,t,n,i){const r=t==="top";if(!n)return Bl(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Bl(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===i){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var Oe={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},G_=!1,nN=0;function nce(e){nN>0||(e.addEventListener("keydown",iN),e.addEventListener("mousedown",iN))}function ice(e){nN>0||(e.removeEventListener("keydown",iN),e.removeEventListener("mousedown",iN))}function iN(e){const t=G_,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(G_=n)}function rce(e){const t=Is(e);return nce(t),nN++,()=>{nN--,ice(t)}}function sce(){return G_}function oce(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===Oe.TAB){const r=i.shiftKey;Hy(e,n,!1,r)||rw(e,r)&&i.preventDefault()}}})}function Ab(e,t,n=!1){const i=Koe;let r=v9;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>Nd(l)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(s,o):s}function my(e,t=!1,n=!1,i=!1){const r=Ab(e,i?".ag-tab-guard":null,n),s=t?ri(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Hy(e,t,n,i){const r=Ab(t,n?':not([tabindex="-1"])':null),s=ir(e);let o;n?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}function l$(e,t=5){let n=0;for(;e&&I_(e)===null&&++n<=t;)e=e.parentElement;return I_(e)===null?null:e}function ace(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function ey(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function RL(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function rw(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function lce(e,t=!1){return e===Oe.DELETE?!0:!t&&e===Oe.BACKSPACE?p9():!1}var cce=class extends Be{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Oe.ENTER:this.onEnterKeyDown(e);break;case Oe.F2:this.onF2KeyDown(e);break;case Oe.ESCAPE:this.onEscapeKeyDown(e);break;case Oe.TAB:this.onTabKeyDown(e);break;case Oe.BACKSPACE:case Oe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Oe.DOWN:case Oe.UP:case Oe.RIGHT:case Oe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(n==null||n.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:a}=i;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),lce(e,s.get("enableCellEditingOnBackspace"))){if(o&&Cg(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,u=this.beans.valueSvc.getDeleteValue(c,r);r.setDataValue(c,u,"cellClear")}}else(l=i.editSvc)==null||l.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,r,s;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)(i=this.beans.editSvc)==null||i.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const o=e.shiftKey?Oe.UP:Oe.DOWN;(r=n.navigation)==null||r.navigateToNextCell(null,o,t.cellPosition,!1)}else(s=n.editSvc)==null||s.startRowOrCellEdit(t,Oe.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing||(i=n.editSvc)==null||i.startRowOrCellEdit(t,Oe.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing&&((i=n.editSvc)==null||i.stopRowOrCellEdit(t,!0))}processCharacter(e){var r;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===Oe.SPACE?this.onSpaceKeyDown(e):(r=this.beans.editSvc)!=null&&r.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&Zv(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},uce=class extends Be{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Zh(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var c;if((c=this.beans.touchSvc)!=null&&c.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:i,editSvc:r}=this.beans,s=e.ctrlKey||e.metaKey;n&&s&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(i.get("singleClickEdit")||a.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(r==null||r.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,gos:o,editSvc:a}=n,l=t.getColDef(),c=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:u,gos:d}=o;if(this.isRightClickInExistingRange(e))return;const h=l&&!l.isEmpty(),p=this.containsWidget(r),{cellPosition:m}=s,v=Qv(m.column);if(c&&v&&!c.handleMouseDownOnCell(m,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!h){const C=d.get("enableCellTextSelection")&&e.defaultPrevented,S=(_y()||C)&&!s.editing&&!i4(r)&&!p;s.focusCell(S)}if(i&&h&&!u.isCellFocused(m)){e.preventDefault();const y=u.getFocusedCell();if(y){const{column:C,rowIndex:S,rowPinned:x}=y,R=o.rowRenderer.getRowByPosition({rowIndex:S,rowPinned:x}),A=R==null?void 0:R.getCellCtrl(C);A!=null&&A.editing&&A.stopEditing(),u.setFocusedCell({column:C,rowIndex:S,rowPinned:x,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!p){if(l)if(v&&e.preventDefault(),i)l.extendLatestRangeToCell(m);else{const y=t||n;l.setRangeToCell(m,y)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return qv(e,"ag-selection-checkbox",3)||qv(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){super.destroy()}},dce=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();zy(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Wi(r)||s!==r.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=ri(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Xv(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},hce="ag-cell",fce="ag-cell-auto-height",pce="ag-cell-normal-height",gce="ag-cell-focus",mce="ag-cell-first-right-pinned",vce="ag-cell-last-left-pinned",yce="ag-cell-not-inline-editing",Cce="ag-cell-wrap-text",rN="cellCtrl";function c$(e,t){return G9(e,t,rN)}var bce=0,$M=class extends Be{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=n;const{colId:r}=e;this.instanceId=r+"-"+bce++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new dce(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new uce(this,e,this.column),this.keyboardListener=new cce(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Cg(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Qv(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,i,r,s,o){var a,l,c,u,d,h,p;this.comp=e,this.eGui=t,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(c=this.tooltipFeature)==null||c.refreshTooltip(),(u=this.keyboardListener)==null||u.init(),(d=this.rangeFeature)==null||d.setComp(e),(h=this.rowResizeFeature)==null||h.refreshRowResizer(),s&&this.isCellEditable()?(p=this.beans.editSvc)==null||p.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var d,h,p;const{beans:n,column:i,rowNode:r,rangeFeature:s}=this,{userCompFactory:o}=n,a=this.getValueToDisplay();let l;const c=r.stub&&((d=r.groupData)==null?void 0:d[i.getId()])==null,u=i.getColDef();if(c||this.isCellRenderer()){const m=this.createCellRendererParams();!c||Qv(i)?l=qU(o,u,m):l=Nle(o,u,m)}if(!l&&!c&&((h=n.findSvc)!=null&&h.isMatch(r,i))){const m=this.createCellRendererParams();l=qU(o,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},m)}this.comp.setRenderDetails(l,a,e),!t&&s&&Sf(n,()=>s==null?void 0:s.refreshHandle()),(p=this.rowResizeFeature)==null||p.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&wR(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=KI(t),r=Rw(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Eb(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:a}}=this;return zt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i).value,setValue:c=>o.setValue(i,n,c),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(c,u,d,h)=>this.registerRowDragger(c,u,h),setTooltip:(c,u)=>{var d;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,u),(d=this.tooltipFeature)==null||d.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var c,u,d,h,p,m;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,r=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,s=e&&e.forceRefresh||r||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(n,!1);const v=(c=this.beans.filterManager)==null?void 0:c.isSuppressFlashingCellsBecauseFiltering();!i&&!v&&t.enableCellChangeFlash&&((u=this.beans.cellFlashSvc)==null||u.flashCell(this)),(d=this.customStyleFeature)==null||d.applyUserStyles(),(h=this.customStyleFeature)==null||h.applyClassesFromColDef()}(p=this.tooltipFeature)==null||p.refreshTooltip(),(m=this.customStyleFeature)==null||m.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;py(this.beans.gos,t,rN,this),e.addDestroyFunc(()=>py(this.beans.gos,t,rN,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:s}=this;return zt(s.gos,{type:t,node:n,data:n.data,value:r,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;a$(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);h9(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const n=this.comp.getFocusableElement();this.isCellFocused()&&n.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e,t;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged(),(t=this.rowResizeFeature)==null||t.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Qv(this.column)&&(e=!0),Zl(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(mce,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(vce,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var r;const{beans:t}=this;if(RL(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused();if(this.comp.toggleCss(gce,n),n&&e&&e.forceBrowserFocus){let s=this.comp.getFocusableElement();if(this.editing){const o=Ab(s,null,!0);o.length&&(s=o[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&((r=t.editSvc)==null||r.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:qh(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(hce,!0),e.toggleCss(yce,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(fce,t),e.toggleCss(pce,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(Cce,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(ir(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var r;const i=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},u$="__ag_grid_instance";function d$(e,t){t[u$]=e.gridInstanceId}function CE(e,t){return h$(e,t.target)}function h$(e,t){let n=t;for(;n;){const i=n[u$];if(ht(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function wce(e,t){var n;return((n=c$(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function XU(e,t){const n=io(e.gos,"normal"),i=t;let r,s;i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();r+=c.left,s+=l.top}return{x:r,y:s}}var Sce=class extends Be{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),tc(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,i;(i=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||i.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const r=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var u,d;const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&((u=a==null?void 0:a.onGridExit)==null||u.call(a,c)),o===null&&s!==null&&((d=a==null?void 0:a.onGridEnter)==null||d.call(a,c)),this.enterDragTargetIfExists(s,e,n,i,t),s&&l){const{comp:h,promise:p}=l;h?h.setIcon(s.getIconName?s.getIconName():null,!1):p.then(m=>{m&&m.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const h=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(a,l)=>{for(const c of l){const{width:u,height:d,left:h,right:p,top:m,bottom:v}=c.getBoundingClientRect();if(u===0||d===0)return!1;const y=a.clientX>=h&&a.clientX<p,C=a.clientY>=m&&a.clientY<v;if(!y||!C)return!1}return!0};for(const a of n)if(r(e,a)){i=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=gE(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,u=t.clientX-o.left,d=t.clientY-o.top;return zt(c,{event:t,x:u,y:d,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&fae(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const i=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=Sle(n,zt(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),d$(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=u4(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):it(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},xce=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function Mce(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function f$(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function Ece(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ht(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Rce(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Ace(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i!=null&&i.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Tce(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,s=i==null?void 0:i.getPinnedBottomRowCount(),o=i==null?void 0:i.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function sN(e,t){var n,i;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function pb(e,t){var r;const n=(r=e.spannedRowRenderer)==null?void 0:r.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function oN(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(n===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:s!=null&&s.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=i?void 0:o.getRow(n);return p$(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function QU(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(Dce(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s!=null&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=i?void 0:o.getRow(n);return p$(e,a)??{rowIndex:n+1,rowPinned:i}}function p$(e,t,n){const{gos:i,rowRenderer:r}=e;if(!(t!=null&&t.sticky)||!N9(i))return;const s=n?r.getStickyTopRowCtrls():r.getStickyBottomRowCtrls();let o;for(let a=0;a<s.length;a++)if(s[a].rowNode.rowIndex===t.rowIndex){o=s[a+(n?-1:1)];break}return o?{rowIndex:o.rowNode.rowIndex,rowPinned:null}:void 0}function Dce(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:s}=e;return n==="top"?((r==null?void 0:r.getPinnedTopRowCount())??0)-1<=i:n==="bottom"?((r==null?void 0:r.getPinnedBottomRowCount())??0)-1<=i:s.getLastRow()<=i}var bE=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){const o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},Ice=class extends Be{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Ds(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;this.autoScrollService=new xce({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>r.scrollFeature.getVScrollPosition().top,setVerticalPosition:s=>r.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var i;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[]].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e),this.autoScrollService.check(e.event)}doManagedDrag(e){const{dragAndDrop:t,gos:n}=this.beans,i=this.isFromThisGrid(e);if(!(n.get("rowDragManaged")&&this.shouldPreventRowMove()))if(n.get("suppressMoveWhenRowDragging")||!i){if(t.isDropZoneWithinThisGrid(e)){const s=this.clientSideRowModel,o=this.getRowsDrop(e),a=o==null?void 0:o.target;a?s.highlightRow(a,o.delta<0?"Above":"Below"):s.clearHighlight()}}else{const s=this.getRowsDrop(e);s&&this.dropRows(s)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(ri(t.split("-")),10)}getRowsDrop(e){const{rowNode:t,rowNodes:n}=e.dragItem,i=n==null?void 0:n.length,r=this.isFromThisGrid(e),s=i&&(t??n[0]),o=XU(this.beans,e).y,a=this.clientSideRowModel,l=a.getRowIndexAtPixel(o);let c=a.getRow(l),u=0;if(!s)return null;if(r){if(!c||c===s)return null;u=l-s.rowIndex,n.includes(c)&&(c=(u<0?this.getPrevOrNext(-1,n[0]):this.getPrevOrNext(1,ri(n)))??c)}return c&&(!r||u<-1||u>1)&&(u=o-c.rowTop-c.rowHeight/2),{sameGrid:r,delta:u,target:c,rows:n}}getPrevOrNext(e,t){const n=this.clientSideRowModel,i=n.getRowCount();let r=t.rowIndex+e;for(;r>=0&&r<i;){const s=n.getRow(r);if(s.sourceRowIndex>=0)return s;r+=e}}addRowDropZone(e){if(!e.getContainer()){it(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){it(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=XU(this.beans,t).y,a=o>i.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=r.getRowIndexAtPixel(o),c=r.getRow(l)),zt(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clientSideRowModel.clearHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const i=this.getRowsDrop(e);i&&this.dropRows(i),this.clientSideRowModel.clearHighlight()}}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.clearHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({delta:e,target:t,rows:n}){const i=nw(this.gos),r=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!r.getRowNode((i==null?void 0:i({data:a,level:0,rowPinned:l}))??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t&&t.sourceRowIndex+(e<0?0:1);return r.updateRowData({add:s,addIndex:o}),!0}moveRows({delta:e,target:t,rows:n}){const i=this.getValidRowsToMove(n),r=this.beans.focusSvc,s=r.getFocusedCell(),o=s&&pb(this.beans,s);return this.reorderLeafChildren(i,...this.getMoveRowsBounds(i,t,e))?(this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new bE(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0}),o?o.focusCell():r.clearFocusedCell(),!0):!1}getValidRowsToMove(e){const t=this.clientSideRowModel,n=new Set;for(const i of e)i.sourceRowIndex>=0&&(i.rowTop!==null||i===t.getRowNode(i.id))&&n.add(i);return n}getMoveRowsBounds(e,t,n){var a;const i=((a=this.clientSideRowModel.rootNode)==null?void 0:a.allLeafChildren.length)??0;let r=(t==null?void 0:t.sourceRowIndex)??-1;r<0||r>=i?r=i:n>=0&&++r;let s=r,o=Math.min(r,i-1);for(const{sourceRowIndex:l}of e)l<s&&(s=l),l>o&&(o=l);return[s,r,o]}reorderLeafChildren(e,t,n,i){var l;let r=!1;const s=(l=this.clientSideRowModel.rootNode)==null?void 0:l.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let c=t;c<n;++c){const u=s[c];e.has(u)||(u.sourceRowIndex!==o&&(u.sourceRowIndex=o,s[o]=u,r=!0),++o)}let a=i;for(let c=i;c>=n;--c){const u=s[c];e.has(u)||(u.sourceRowIndex!==a&&(u.sourceRowIndex=a,s[a]=u,r=!0),--a)}for(const c of e)c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,r=!0),++o;return r}};function g$(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}var Nce=class extends Be{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),tc(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");i&&!o&&(s=a=>{i4(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:gE(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===Oe.ESCAPE&&this.cancelDrag(e.eElement)},a=gE(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=ht(n)?n:4;return g$(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;_y()&&((n=Is(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>{const o=s.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return n&&i&&e.cancelable&&CE(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function m$(e,t){return e+"_"+t}function dr(e){return e instanceof v$}var v$=class extends Be{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return m$(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{dr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=ri(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{af(t)?e.push(t):dr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{af(t)?e.push(t):dr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(dr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},z_="row-group-",p4="t-",g4="b-",Lce=0,vy=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Lce++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var l,c,u;const{valueCache:n,selectionSvc:i,eventSvc:r}=this.beans,s=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,s,t);if((l=this.__localEventService)==null||l.dispatchEvent(o),this.sibling){this.sibling.data=e;const d=this.sibling.createDataChangedEvent(e,s,t);(c=this.sibling.__localEventService)==null||c.dispatchEvent(d)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const a=this.pinnedSibling;a&&(a.data=e,(u=a.__localEventService)==null||u.dispatchEvent(a.createDataChangedEvent(e,s,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:a}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(bi(13),null):this.rowPinned==="top"?p4+this.rowIndex:this.rowPinned==="bottom"?g4+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,a;const{selectionSvc:n}=this.beans,i=(o=n==null?void 0:n.createDaemonNode)==null?void 0:o.call(n,this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,r,!1);(a=this.__localEventService)==null||a.dispatchEvent(s)}setId(e){var n;const t=nw(this.beans.gos);if(t)if(this.data){const i=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(z_)&&bi(14,{groupPrefix:z_})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:s,selectionSvc:o}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;const l=r.getValueForDisplay(a,this).value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:h},data:p,rowIndex:m,rowPinned:v}=this;return h.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:v,column:a,colDef:a.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}const c=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const u=o==null?void 0:o.updateRowSelectable(this),d=this.pinnedSibling;return d&&(c&&d.dispatchCellChangedEvent(a,t,l),d.selectable=u??!0),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var r;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(r=this.__localEventService)==null||r.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new dy),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,r,s,o;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new dy),this.frameworkEventListenerService=(s=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(r,this.frameworkEventListenerService,this.__localEventService);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(e,t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(e,t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,i;(n=this.__localEventService)==null||n.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(it(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){var e;return this.childStore?this.childStore.getFirstNode():((e=this.childrenAfterSort)==null?void 0:e[0])??null}};function kce(e,t,n){return zt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Oce=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function Pce(e,t){const n=new vy(t);return Object.keys(e).forEach(i=>{Oce.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var Fce={tag:"div",cls:"ag-filter"},_ce=class extends $i{constructor(e,t){super(Fce),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Ui.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(i=>{var r;(r=i==null?void 0:i.afterGuiAttached)==null||r.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var i;(i=n==null?void 0:n.afterGuiDetached)==null||i.call(n)})}createFilter(e){var i,r;const{column:t,source:n}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const o=s.getGui();ht(o)||it(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ml(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},y$="ag-resizer-wrapper",Op=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Bce={tag:"div",cls:y$,children:[Op("eTopLeft","topLeft"),Op("eTop","top"),Op("eTopRight","topRight"),Op("eRight","right"),Op("eBottomRight","bottomRight"),Op("eBottom","bottom"),Op("eBottomLeft","bottomLeft"),Op("eLeft","left")]},Gce=class extends Be{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=Nd(this.element);if(u){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const p=d.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){const p=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=r||l,this.minWidth=n||c,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&t){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const p=parseFloat(d.style.top),m=parseFloat(d.style.left);h?this.offsetElement(isNaN(m)?0:m,isNaN(p)?0:p):this.setPosition(m,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,r;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(n),this.moveElementDragListener=n):((r=this.dragSvc)==null||r.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?((o=this.dragSvc)==null||o.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)UM(n,e),e=y9(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?UM(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-i.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)wd(t,e),e=UI(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?wd(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var r;const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&((r=this.popupSvc)==null||r.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=wf(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,o)?0:o,c=this.shouldSkipY(t,!!i,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=i<0&&e.clientX>a+s.left||i>0&&e.clientX<a+s.left:n?l=i<0&&e.clientX>o.right||i>0&&e.clientX<a+s.left:l=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=i<0&&e.clientY>a+s.top+n||i>0&&e.clientY<a+s.top:l=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(zr(Bce)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${y$}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||i,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),d=this.position.x,h=this.position.y;let p=0,m=0;if(a&&c){const v=o?-1:1,y=this.getWidth(),C=y+c*v;let S=!1;o&&(p=y-C,(d+p<=0||C<=this.minWidth)&&(S=!0,p=0)),S||this.setWidth(C)}if(l&&u){const v=i?-1:1,y=this.getHeight(),C=y+u*v;let S=!1;i?(m=y-C,(h+m<=0||C<=this.minHeight)&&(S=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(S=!0),S||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||m)&&this.offsetElement(d+p,h+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},zce="ag-focus-managed",Tw=class extends Be{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=Hy(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(zce),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Zh(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){gy(t);return}t.key===Oe.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},C$={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function m4(e,t){const{debounceMs:n}=e;return aN(e)?(n!=null&&it(71),0):n??t}function aN(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var Hce=class extends $i{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=At,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Tw(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Gce(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t==null||t.removeEventListener("submit",this.onFormSubmit);const n={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=aN(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=aN(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:i}=t??{},{buttons:r,readOnly:s}=e;if(i===s&&pE(n,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(ml(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=zr({tag:"div",cls:"ag-filter-apply-panel"})),!o){this.eButtonsPanel&&of(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let u;const d=c?this.translate(`${c}Filter`):void 0;switch(c){case"apply":u=m=>this.onBtApply(!1,!1,m);break;case"clear":u=()=>this.onBtClear();break;case"reset":u=()=>this.onBtReset();break;case"cancel":u=m=>{this.onBtCancel(m)};break;default:it(75);return}const p=zr({tag:"button",attrs:{type:c==="apply"?"submit":"button"},ref:`${c}FilterButton`,cls:"ag-button ag-standard-button ag-filter-apply-panel-button",children:d});this.buttonListeners.push(...this.addManagedElementListeners(p,{click:u})),a.append(p)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=m4(this.params,this.defaultDebounceMs),t=eo(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&hE(i,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,C$[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function Vce(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:s,fwComp:o}=Ble(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i}var nI={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},v4=class extends Be{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?nI.AUTO_HEIGHT:t.print?nI.PRINT:nI.NORMAL;this.view.updateLayoutClasses(n,t)}},Pp="Viewport",JU="fakeVScrollComp",e3=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],t3=100,sF=150,Uce=class extends Be{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=eo(this,()=>this.lastScrollSource[1]=null,sF),this.resetLastVScrollDebounced=eo(this,()=>this.lastScrollSource[0]=null,sF)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Pp)});for(const e of e3){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?eo(this,this.onVScroll.bind(this,Pp),t3):this.onVScroll.bind(this,Pp),i=t?eo(this,this.onVScroll.bind(this,JU),t3):this.onVScroll.bind(this,JU);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...e3,Pp]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);jI(n,e,this.enableRtl)}}getViewportForSource(e){return e===Pp?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=WI(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Pp?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===Pp?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n!=null&&n.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},sF)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Kv()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=r4(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Pp)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),jI(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let s=0;s<i;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break}}else if(e===o||e===o.data){r=s;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(io(this.gos,"print"))return;const{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){it(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{var m,v;const c=this.ctrlsSvc.getGridBodyCtrl(),u=i.getRow(e);let d,h,p=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:C}=c,S=u.rowTop,x=u.rowHeight,R=o.getPixelOffset(),A=u.rowTop-R,T=A+u.rowHeight,L=this.getVScrollPosition(),O=a.divStretchOffset,F=L.top+O,H=L.bottom+O,W=H-F,$=a.getScrollPositionForPixel(A),Z=a.getScrollPositionForPixel(T-W),ie=Math.min(($+Z)/2,A),oe=F+y>A,te=H-C<T;let ae=null;t==="top"?ae=$-y:t==="bottom"?ae=Z+C:t==="middle"?ae=ie:oe?ae=$-y:te&&(ae=Z+C),ae!==null&&(this.setVerticalScrollPosition(ae),l.redraw({afterScroll:!0})),d=S!==u.rowTop||x!==u.rowHeight,h=y!==c.stickyTopHeight||C!==c.stickyBottomHeight,p++}while((d||h)&&p<10);if((m=this.animationFrameSvc)==null||m.flushAllFrames(),n<10&&(u!=null&&u.stub||!((v=this.beans.rowAutoHeight)!=null&&v.areRowsMeasured()))){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const C=this.getVScrollPosition().top;y!==C&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{var o;s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||r,l=o?i:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:d,colRight:h}=this.getColumnBounds(e);return c?d-s/2:a?o?h:u:o?u-s:h-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,a=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,a=o+i*s,l=o+i/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},y4=class extends Be{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=io(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},Wce=class extends Be{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{Sf(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=r4(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function C4(e,t,n,i,r,s){if(n==null&&t==null)return;const o={},a={},l=(c,u)=>{c.split(" ").forEach(d=>{d.trim()!=""&&u(d)})};if(n){const c=Object.keys(n);for(let u=0;u<c.length;u++){const d=c[u],h=n[d];let p;typeof h=="string"?p=e?e.evaluate(h,i):!0:typeof h=="function"&&(p=h(i)),l(d,m=>{p?o[m]=!0:a[m]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,u=>{o[u]||(a[u]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(r)}function n3(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var jce=class extends Be{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,s=zt(i,{data:e.data,node:e,rowIndex:e.rowIndex});C4(r,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s)}if(r||n)return Object.assign({},n,r)}},$ce=0,lN="renderedRow",cN=class extends Be{constructor(e,t,n,i,r){var s;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((s=t.pagination)==null?void 0:s.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+$ce++,this.rowId=JD(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n3(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=JD(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){var d;const{context:r,focusSvc:s}=this.beans;i=CR(this,r,i);const o={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const u=(d=this.fullWidthGui)==null?void 0:d.element;u&&!this.editing&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Zv(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&R_(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),py(t,e.element,lN,this),e.compBean.addDestroyFunc(()=>py(t,e.element,lN,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=JD(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(N_(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(N_(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=k9(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!(n!=null&&n.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new $M(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(c,u,d)=>{d!=null?i.list.splice(d,0,u):i.list.push(u),i.map[c]=u},s=[];for(const c of t){const u=c.getInstanceId();let d=e.map[u];d&&!this.isCorrectCtrlForSpan(d)&&(d.destroy(),d=void 0),d||(d=this.getNewCellCtrl(c)),d&&r(u,d)}for(const c of e.list){const u=c.column.getInstanceId();if(i.map[u]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([u,c]):c.destroy()}if(s.length)for(const[c,u]of s){const d=i.list.findIndex(p=>p.column.getLeft()>u.column.getLeft()),h=d===-1?void 0:Math.max(d-1,0);r(c,u,h)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!i.map[c]&&a.allCols.includes(l.column)){const d=this.createFocusedCellCtrl();if(d){const h=i.list.findIndex(m=>m.column.getLeft()>d.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);r(c,d,p)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t==null?void 0:t.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:s}=e,{visibleCols:o}=this.beans,a=e.isCellFocused();return s||a?!(o.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||io(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ht(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",i=e==="Below";t.rowComp.toggleCss("ag-row-highlight-above",n),t.rowComp.toggleCss("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:qh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),u={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(c==null?void 0:c.column)??i};l==null||l.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Zh(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=ir(this.beans);let s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=Hy(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Nd(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Zl(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var r,s,o;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const a=this.beans.colModel.getCol(e==null?void 0:e.column),l=a==null?void 0:a.pinned;l?i=l==="right"?(r=this.rightGui)==null?void 0:r.element:(s=this.leftGui)==null?void 0:s.element:i=(o=this.centerGui)==null?void 0:o.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return zt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Zh(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=qv(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n==null||n.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:s,column:o}=r,a=s.element,l=e.target;let c=e.defaultPrevented||_y();a&&a.contains(l)&&i4(l)&&(c=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Zh(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=zt(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Ile(s,r);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=o,r.valueFormatted=a,Dle(s,r)}case"FullWidthLoading":return Tle(s,r);default:return Ale(s,r)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;const o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=n3(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.toggleCss(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a,l;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(s.push("ag-row-pinned"),(a=r.pinnedRowModel)!=null&&a.isManual()&&s.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&s.push("ag-row-pinned-source"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),(l=r.expansionSvc)==null||l.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{var o;!((o=r.dragSvc)!=null&&o.dragging)&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=A9(this.gos)?yg(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){var i;this.active=!1;const{rowNode:t}=this;if(!e&&Mb(this.gos)&&!t.sticky)if(t.rowTop!=null){const s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.toggleCss("ag-opacity-zero",!0));(i=this.fullWidthGui)!=null&&i.element.contains(ir(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ht(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var s,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((s=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.toggleCss("ag-row-even",i),a.rowComp.toggleCss("ag-row-odd",!i),d9(a.element,r)})}};function b$(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function H_(e,t,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=zt(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o))}function Yce(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],s=i?null:"top";let o,a;r?(o=null,a=n.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:c}=e,u=l.allCols;!c||!(u!=null&&u.length)||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var Kce=65,qce=67,Zce=86,Xce=68,Qce=90,Jce=89;function eue(e){const{keyCode:t}=e;let n;switch(t){case Kce:n=Oe.A;break;case qce:n=Oe.C;break;case Zce:n=Oe.V;break;case Xce:n=Oe.D;break;case Qce:n=Oe.Z;break;case Jce:n=Oe.Y;break;default:n=e.code}return n}var tue=class extends Be{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",B9("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){var r;if(!CE(this.gos,t)||Zh(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(r=this.beans.contextMenuSvc)==null||r.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:c$(t,e),rowCtrl:G9(t,e,lN)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){var a;const{rowNode:i,column:r,editing:s}=e;!H_(this.gos,n,i,r,s)&&t==="keydown"&&(!s&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),b$(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,o=r.getFocusedCell(),a=o&&o.column;if(!H_(this.gos,n,i,a,!1)){const c=n.key;if(t==="keydown")switch(c){case Oe.PAGE_HOME:case Oe.PAGE_END:case Oe.PAGE_UP:case Oe.PAGE_DOWN:s==null||s.handlePageScrollingKey(n,!0);break;case Oe.LEFT:case Oe.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Oe.UP:case Oe.DOWN:e.onKeyboardNavigate(n);break;case Oe.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!CE(this.gos,e))return;const n=eue(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===Oe.A)return this.onCtrlAndA(e);if(n===Oe.C)return this.onCtrlAndC(i,e);if(n===Oe.D)return this.onCtrlAndD(i,e);if(n===Oe.V)return this.onCtrlAndV(i,e);if(n===Oe.X)return this.onCtrlAndX(i,e);if(n===Oe.Y)return this.onCtrlAndY(r);if(n===Oe.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&Cg(r)&&t.isRowsToRender()?Yce(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:P9(r)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},w$=class extends Be{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},cD=e=>e.topRowCtrls,uD=e=>e.getStickyTopRowCtrls(),dD=e=>e.getStickyBottomRowCtrls(),hD=e=>e.bottomRowCtrls,fD=e=>e.allRowCtrls,oF=e=>e.getCtrls("top"),aF=e=>e.getCtrls("center"),lF=e=>e.getCtrls("bottom"),nue={center:{type:"center",name:"center-cols",getRowCtrls:fD,getSpannedRowCtrls:aF},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:fD,getSpannedRowCtrls:aF},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:fD,getSpannedRowCtrls:aF},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:fD},topCenter:{type:"center",name:"floating-top",getRowCtrls:cD,getSpannedRowCtrls:oF},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:cD,getSpannedRowCtrls:oF},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:cD,getSpannedRowCtrls:oF},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:cD},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:uD},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:uD},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:uD},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:uD},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:dD},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:dD},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:dD},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:dD},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:hD,getSpannedRowCtrls:lF},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:hD,getSpannedRowCtrls:lF},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:hD,getSpannedRowCtrls:lF},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:hD}};function S$(e){return`ag-${SR(e).name}-viewport`}function iI(e){const t=SR(e);return t.container??`ag-${t.name}-container`}function iue(e){return`ag-${SR(e).name}-spanned-cells-container`}function SR(e){return nue[e]}var rue=["topCenter","topLeft","topRight"],sue=["bottomCenter","bottomLeft","bottomRight"],oue=["center","left","right"],aue=["center","left","right","fullWidth"],lue=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],cue=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],uue=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],x$=["stickyTopCenter","stickyTopLeft","stickyTopRight"],M$=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],due=[...x$,"stickyTopFullWidth",...M$,"stickyBottomFullWidth"],hue=[...rue,...sue,...oue,...x$,...M$],fue=class extends Be{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=SR(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Wce(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new tue(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(cue,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(uue,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(aue,()=>this.createManagedBean(new w$(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers(hue,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(lue,()=>this.createManagedBean(new y4(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(due.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=io(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return fE(this.eViewport)}getCenterViewportScrollLeft(){return WI(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=wf(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return b9(this.eViewport)}getViewportScrollLeft(){return WI(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Zoe(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){jI(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=io(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},pue="ag-force-vertical-scroll",gue="ag-selectable",mue="ag-column-moving",vue=class extends Be{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,s,o){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${S$("center")}`),this.eFullWidthContainer=n.querySelector(`.${iI("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${iI("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${iI("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new v4(this.comp)),this.scrollFeature=this.createManagedBean(new Uce(n)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=m9()?16:0,r=`calc(100% + ${n+i}px)`;Sf(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=qv(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,s=t.contains(r),o=qv(r,"ag-root",t);qv(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(mue,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(gue,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var r,s;const e=(((r=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?pue:null,n=io(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&Xoe(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&Mb(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o==null||o.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const u of[t,n,i,r])this.addManagedElementListeners(u,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&CE(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;e.preventDefault(),this.scrollVertically(t)}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var r;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((r=this.beans.contextMenuSvc)==null||r.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e==null?void 0:e.getPinnedTopTotalHeight(),i=e==null?void 0:e.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=r-s,a=n?o+n:0,l=i?o+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var r,s;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),n=((s=this.pinnedRowModel)==null?void 0:s.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`)}},E$=class extends $i{constructor(e,t){super(),this.direction=t,this.eViewport=At,this.eContainer=At,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",p9()||Kv())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=m9(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Sf(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;eae(()=>Nd(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},yue={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Cue=class extends E${constructor(){super(yue,"horizontal"),this.eLeftSpacer=At,this.eRightSpacer=At,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new y4(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),wd(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),wd(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),UM(this.getGui(),s),UM(this.eViewport,s),UM(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return WI(this.eViewport,this.enableRtl)}setScrollPosition(e){Nd(this.eViewport)||this.attemptSettingScrollPosition(e),jI(this.eViewport,e,this.enableRtl)}},bue={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},wue=class extends E${constructor(){super(bue,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new w$(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),wd(this.getGui(),r),wd(this.eViewport,r),wd(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Nd(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Sue(e){return e.cols?e.cols.treeDepth+1:-1}function pd(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function b4(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){const o=i.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=xue(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function xue(e,t){let i=e.colModel.isPivotMode()?Eue(e):A$(e);const r=t.getHeaderCellCtrls();for(const s of r){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>i&&o.isAutoHeaderHeight()&&(i=a)}return i}function w4(e){let n=e.colModel.isPivotMode()?Mue(e):xR(e);return e.colModel.forAllCols(i=>{const r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function xR(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function R$(e){return e.gos.get("floatingFiltersHeight")??xR(e)}function A$(e){return e.gos.get("groupHeaderHeight")??xR(e)}function Mue(e){return e.gos.get("pivotHeaderHeight")??xR(e)}function Eue(e){return e.gos.get("pivotGroupHeaderHeight")??A$(e)}var Rue=class extends Be{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new Tw(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s==null||s.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Sf(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var s;const{beans:e}=this;let t=0;const n=b4(e).reduce((o,a)=>o+a,0),i=w4(e);if((s=e.filterManager)!=null&&s.hasFloatingFilters()&&(t+=R$(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||rw(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Oe.LEFT:t="LEFT";case Oe.RIGHT:{ht(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Oe.UP:t="UP";case Oe.DOWN:{ht(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(ir(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var o;const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:s}=e??t;(s===this.eGui||s===((o=r.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&i.showHeaderContextMenu(void 0,e,n)}},S4=class extends Be{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?ri(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=ht(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!io(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return s+o+t}return s+t}setLeft(e){if(ht(e)&&(this.eCell.style.left=`${e}px`),dr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Voe(this.ariaEl,t.length)}}},Aue=0,T$="headerCtrl",x4=class extends Be{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Aue++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!ht(r))return!1;const s=zt(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s)}getWrapperHasFocus(){return ir(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=d=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:m,borderTopWidth:v}=By(this.eGui),y=h+p+m+v,S=t.offsetHeight+y;if(d<5){const x=Is(r),R=!x||!x.contains(t),A=S==0;if(R||A){N_(()=>s(d+1),"raf",r);return}}this.setColHeaderHeight(this.column,S)};let o=!1,a;const l=()=>{const d=this.column.isAutoHeaderHeight();d&&!o&&c(),!d&&o&&u()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=wf(this.beans,t,()=>s(0))},u=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>u()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(a$(e,t,n.visibleCols),h9(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=ey(this.beans);this.eGui&&Zl(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var s;const t=ir(this.beans),n=e.key===Oe.LEFT||e.key===Oe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===Oe.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(s=this.resizeFeature)==null||s.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===Oe.LEFT!==t.get("enableRtl");const r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Oe.PAGE_DOWN:case Oe.PAGE_UP:case Oe.PAGE_HOME:case Oe.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=T$,{eGui:n,gos:i}=this;py(i,n,t,this),e.addDestroyFunc(()=>py(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r!=null&&r.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Tue=class extends x4{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:u,rangeSvc:d}=a,h=CR(this,c,r);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:m=>this.setRefreshFunction("measuring",m),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):fr(n,!1),u==null||u.createHoverFeature(h,[o],t),d==null||d.createRangeHighlightFeature(h,o,e),h.createManagedBean(new S4(o,t,a)),h.createManagedBean(new Tw(t,{shouldStopEventPropagation:m=>this.shouldStopEventPropagation(m),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return zt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return xle(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return zt(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||al(this.gos)),showColumnMenu:(s,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e==null||e.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t==null||t.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t==null||t.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===Oe.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===Oe.ENTER&&this.onEnterKeyDown(e),e.key===Oe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();i3(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),sce()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=o$(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=b4(this.beans),s=r.reduce((u,d)=>u+=d,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=w4(i);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);let c=0;for(let u=0;u<o;u++)c+=r[r.length-1-u];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(Loe(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!al(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(ir(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>n==="filter"?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return i3(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function i3(e){return typeof(e==null?void 0:e.getAnchorElementForMenu)=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Due=0,cF=class extends Be{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Due++,this.allCtrls=[];const i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=io(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=CR(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=io(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=b4(this.beans),i=w4(this.beans);t.push(...n),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(R$(this.beans));let r=0;for(let o=0;o<this.rowIndex;o++)r+=t[o];const s=t[this.rowIndex];return{topOffset:r,rowHeight:s}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new Tue(e,this));break}t.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{const r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},Iue=class extends Be{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s,filterManager:o}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:i}=this.beans;let r=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const u=Sue(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<u;d++){const h=this.createBean(new cF(r++,this.pinned,"group"));this.groupsRowCtrls.push(h)}},a=()=>{const u=r++,d=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==u);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new cF(u,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const u=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){u();return}const d=r++;if(this.filtersRowCtrl){const h=this.filtersRowCtrl.rowIndex!==d;(!e||h)&&u()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new cF(d,this.pinned,"filter")))};o(),a(),l();const c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,s)}getHeaderCtrlForColumn(e){const t=n=>n==null?void 0:n.getHeaderCellCtrls().find(i=>i.column===e);if(af(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new y4(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Nue=class extends Be{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&al(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(al(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&af(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Kv()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!al(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!al(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return al(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:s}=t,o=t.column;if(r==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,n,s,i)}else if(r==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,n,s,i)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),Sf(a,()=>{var u;const c=(u=l.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:u.getHeaderCtrlForColumn(o);c&&(e==null||e.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(i),n,s,i))})}}};function r3(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var D$=class extends $i{constructor(){super()}},Lue={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},kue=class extends D${init(){var t;const e=qh((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??Lue),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},Oue={tag:"span",cls:"ag-overlay-no-rows-center"},Pue=class extends D${init(){var t;const e=qh((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??Oue),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function Fue(e,t,n){const i=Yl(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i}const r=zr({tag:"span"});return r.appendChild(i),r}function Yl(e,t,n){var s;let i=null;e==="smallDown"?it(262):e==="smallLeft"?it(263):e==="smallRight"&&it(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{it(38,{iconName:e});return}if(typeof o=="string")return s4(o);if(a4(o))return o;it(133,{iconName:e});return}else{const o=t.registry.getIcon(e);return o||(s=t.validation)==null||s.validateIcon(e),zr({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var _ue=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Bue={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Gue=class extends $i{constructor(){super(),this.dragSource=null,this.eIcon=At,this.eLabel=At,this.eGhost=At,this.registerCSS(_ue)}postConstruct(){const e=t=>Fue(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Bue),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;ml(n);let o=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},zue=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Hue=class extends $i{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(zue)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ml(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(fr(t,!1),hy(t,"presentation")):(fr(t,!0),hy(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:($I(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return hE(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},I$=class extends Hue{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||koe(e)!==null?E_(e,""):E_(e,t??"")}setAriaLabel(e){return xL(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return wd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Vue(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var kv=class extends I${constructor(e,t,n="text",i="input"){super(e,(e==null?void 0:e.template)??Vue(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=At,this.eWrapper=At,this.eInput=At}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return $I(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Zl(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return xL(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return hE(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Zl(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Zl(this.eInput,"autocomplete",t)}return this}},M4=class extends kv{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},E4={selector:"AG-CHECKBOX",component:M4},Uue=".ag-checkbox-cell{height:100%}",Wue={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},jue=class extends $i{constructor(){super(Wue,[E4]),this.eCheckbox=At,this.registerCSS(Uue)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),c9(i,"polite"),this.addManagedListeners(i,{click:r=>{if(gy(r),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:r=>{gy(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===Oe.SPACE&&!t.isDisabled()){e.eGridCell===ir(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:s}=e;if(s.group&&r)if(typeof i=="boolean")t=i;else{const d=r.getColId();d.startsWith(EL)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[d]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(r!=null&&r.isCellEditable(s));o.setDisabled(a);const l=this.getLocaleTextFunc(),c=n4(l,t),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:i,node:r,value:s}=n,o={column:i,colDef:i.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:s};t.dispatchEvent({type:"cellEditingStarted",...o});const a=r.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:s,newValue:e,valueChanged:a}),a||this.updateCheckbox(n)}},s3=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),tc(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t}=this.beans,n=(e==null?void 0:e.getSortOptions())??[],i=Kue(this.order);if(this.order.sort((s,o)=>{var a,l;return(((a=s.pinnedSibling)==null?void 0:a.rowIndex)??0)-(((l=o.pinnedSibling)==null?void 0:l.rowIndex)??0)}),this.order=(t==null?void 0:t.doFullSort(this.order,n))??this.order,!i)return;const r=this.beans.gos.get("grandTotalRow");r==="bottom"||r==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function N$(e){var n;if(e.level===-1)return!0;const t=e.parent;return(n=t==null?void 0:t.childrenAfterSort)!=null&&n.some(i=>i==e)?N$(t):!1}function uF(e,t){const{gos:n,rowModel:i,filterManager:r}=e;return Gy(n)?!i.getRowNode(t.id):r!=null&&r.isAnyFilterPresent()?!N$(t):n.get("pivotMode")?!t.group:!1}function $ue(e){return!!e.footer&&e.level===-1}function Yue(e){return!!e.pinnedSibling&&$ue(e.pinnedSibling)}function Kue(e){var n;const t=e.findIndex(Yue);if(t>-1)return(n=e.splice(t,1))==null?void 0:n[0]}var que=class extends Be{postConstruct(){const{gos:e,beans:t}=this;this.top=new s3(t,"top"),this.bottom=new s3(t,"bottom");const n=r=>uF(t,r.pinnedSibling),i=()=>{const r=e.get("isRowPinned");r&&t.rowModel.forEachNode(s=>this.pinRow(s,r(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(r=>r.hide(n)),this.refreshRowPositions(),this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Xue),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{const s=e.get("isRowPinnable");((s==null?void 0:s(r))??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){var o;if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Ds(this.gos,this.beans.rowModel)&&this.beans.rowModel.refreshModel({step:"map"});return}const i=e.rowPinned??((o=e.pinnedSibling)==null?void 0:o.rowPinned);if(i!=null&&t!=null&&t!=i){const a=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(a,null,n),this.pinRow(l,t,n);return}const s=n&&Que(this.beans,e,n);if(s){s.forEach(a=>this.pinRow(a,t));return}if(t==null){const a=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(a);if(!l)return;l.delete(a);const c=a.pinnedSibling;dF(a),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(c)}else{const a=o3(this.beans,e,t),l=this.getContainer(t);l.add(a),uF(this.beans,e)&&l.hide(c=>uF(this.beans,c.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=yg(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){const e=this.top.size();if(e===0)return 0;const t=this.top.getByIndex(e-1);return t===void 0?0:t.rowTop+t.rowHeight}getPinnedBottomTotalHeight(){const e=this.bottom.size();if(e===0)return 0;const t=this.bottom.getByIndex(e-1);return t===void 0?0:t.rowTop+t.rowHeight}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){var s;const e=this.beans.rowModel;if(!Ds(this.gos))return;const t=(s=e.rootNode)==null?void 0:s.sibling;if(!t)return;const n=this._grandTotalPinned,i=t.pinnedSibling,r=i&&this.findPinnedRowNode(i);if(n){if(r&&r.floating!==n&&(r.delete(i),dF(i)),!r||r.floating!==n){const o=o3(this.beans,t,n);this.getContainer(n).add(o)}}else{if(!r)return;r.delete(i),dF(i)}}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};this.forContainers(n=>n.forEach(t))}}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>Zue(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e==null||e.dispatchRowEvent("rowPinned")}};function Zue(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(yg(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function o3(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=Pce(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const r=n==="top"?p4:g4;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function dF(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Xue(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>{e.delete(n)})}function Que(e,t,n){const{rowSpanSvc:i}=e,r=(n&&(i==null?void 0:i.isCellSpanning(n,t)))??!1;if(n&&r){const s=i==null?void 0:i.getCellSpan(n,t);if(s)return Array.from(s.spannedNodes)}}var Jue=class extends Be{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};uM(this.pinnedBottomRows,t),uM(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=yg(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return uM(this.pinnedBottomRows,n),t=0,uM(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=nw(this.gos),r=t==="top"?p4:g4,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const u of e){const d=(i==null?void 0:i({data:u,level:0,rowPinned:t}))??r+this.nextId++;if(a.has(d)){it(96,{id:d,data:u});continue}c++,a.add(d),o.push(d);const h=YM(n,d);if(h!==void 0)h.data!==u&&h.updateData(u),l+=this.setRowTopAndRowIndex(h,l,c),s.delete(d);else{const p=new vy(this.beans);p.id=d,p.data=u,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,c),n.cache[d]=p,n.order.push(d)}}s.forEach(u=>{var d;(d=YM(n,u))==null||d.clearRowTopAndRowIndex(),delete n.cache[u]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(yg(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return a3(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return a3(this.pinnedBottomRows)}getPinnedTopRowCount(){return U_(this.pinnedTopRows)}getPinnedBottomRowCount(){return U_(this.pinnedBottomRows)}getPinnedTopRow(e){return V_(this.pinnedTopRows,e)}getPinnedBottomRow(e){return V_(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return YM(this.getCache(t),e)}forEachPinnedRow(e,t){return uM(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function a3(e){const t=U_(e);if(t===0)return 0;const n=V_(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function YM(e,t){return e.cache[t]}function V_(e,t){return YM(e,e.order[t])}function uM(e,t){e.order.forEach((n,i)=>{const r=YM(e,n);r&&t(r,i)})}function U_(e){return e.order.length}var ede=class extends Be{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const e=()=>{const t=this.gos.get("enableRowPinning");this.inner&&this.destroyBean(this.inner),this.inner=this.createManagedBean(t?new que:new Jue)};this.addManagedPropertyListener("enableRowPinning",e),e()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},tde="ROOT_NODE_ID",nde=class extends Be{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=tde,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){var m;const n=nw(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,u=!1,d=!1,h=!1;for(let v=0,y=-1,C=t.length;v<C;v++){const S=t[v];let x=this.getRowNode(n({data:S,level:0}));if(!x)c=!0,x=this.createRowNode(S,-1),r.add(x);else{if(i){const R=x.sourceRowIndex;h||(h=R<=y||c),y=R}x.data!==S&&(d=!0,x.updateData(S),r.update(x))}s.add(x)}const p=[];for(let v=0;v<l;v++){const y=a[v];s.has(y)||(u=!0,y.isSelected()&&p.push(y),y.pinnedSibling&&((m=this.beans.pinnedRowModel)==null||m.pinRow(y.pinnedSibling,null)),this.rowNodeDeleted(y),r.remove(y))}if(c||u||h){const v=new Array(s.size);let y=0;if(!i)for(let S=0;S<l;++S){const x=a[S];s.delete(x)&&(x.sourceRowIndex=y,v[y++]=x)}for(const S of s)S.sourceRowIndex=y,v[y++]=S;o.allLeafChildren=v;const C=o.sibling;C&&(C.allLeafChildren=v),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(c||u||h||d)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=nw(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let d=0;d<i.length;d++){const h=i[d];if((h==null?void 0:h.rowIndex)==r-1){r=d+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let u=0;u<s;u++){const d=this.createRowNode(n[u],r+u);o.add(d),a[u]=d}const l=this.rootNode;if(r<i.length){const u=i.slice(0,r),d=i.slice(r,i.length),h=u.length+a.length;for(let p=0,m=d.length;p<m;++p)d[p].sourceRowIndex=h+p;i=[...u,...a,...d],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const c=l.sibling;c&&(c.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){var c,u;const{remove:s}=t;if(!(s!=null&&s.length))return;const o={};s.forEach(d=>{var p;const h=this.lookupRowNode(e,d);h&&(h.isSelected()&&r.push(h),h.pinnedSibling&&((p=this.beans.pinnedRowModel)==null||p.pinRow(h.pinnedSibling,null)),h.clearRowTopAndRowIndex(),o[h.id]=!0,delete this.allNodesMap[h.id],i.remove.push(h),n.remove(h))});const a=this.rootNode;a.allLeafChildren=((c=a.allLeafChildren)==null?void 0:c.filter(d=>!o[d.id]))??null,(u=a.allLeafChildren)==null||u.forEach((d,h)=>{d.sourceRowIndex=h});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:s}=t;s!=null&&s.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var r;const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(r=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||r.call(n,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(n==null?void 0:n.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new vy(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&it(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var i,r;let n;if(e){const s=e({data:t,level:0});if(n=this.allNodesMap[s],!n)return bi(4,{id:s}),null}else if(n=(r=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:r.find(s=>s.data===t),!n)return bi(5,{data:t}),null;return n||null}},ide={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},rde=class extends $i{constructor(){super(ide,[E4]),this.eCheckbox=At}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=n4(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:gy,click:i=>{var r;gy(i),(r=this.beans.selectionSvc)==null||r.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=typeof i=="object"?nF(i):void 0,o=typeof r=="object"?nF(r):void 0;s!==o&&this.onSelectableChanged()}),F_(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this;let r=t.selectable;const s=this.getIsVisible();if(r)if(typeof s=="function"){const l=n==null?void 0:n.callbackParams;if(!e)r=s({...l,node:t,data:t.data});else{const c=e.createColumnFunctionCallbackParams(t);r=s({...l,...c})}}else r=s??!1;const o=i.get("rowSelection");if(o&&typeof o!="string"?!nF(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(r);return}this.setVisible(r)}getIsVisible(){var n,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Eb(t):(i=(n=this.column)==null?void 0:n.getColDef())==null?void 0:i.checkboxSelection}},sde=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i!=null&&i.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!(n!=null&&n.isManual()))return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Bl(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const r=Bl(n,"bottom",void 0,e),s=i.getRowCount(),o=i.getRow(s-1);return(i.getNodesInRangeForSelection(t,o)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Bl(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const r=Bl(n,"top",t,void 0),s=Bl(n,"bottom",void 0,e),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return Bl(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const r=Bl(n,"top",e,void 0),s=Bl(n,"bottom",void 0,t),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Bl(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const r=Bl(n,"bottom",void 0,t),s=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,s)??[]).concat(r)}return null}},ode=class extends Be{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(ir(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new M4);this.cbSelectAll=t,t.addCss("ag-header-select-all"),hy(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(i)!==s(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,o=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return ZI(this.gos)?!0:(it(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Ds(t)||Gy(t)?!0:(it(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){var c;const{column:e,gos:t,beans:n}=this,i=t.get("rowSelection"),r=e.getColDef(),{headerCheckboxSelection:s}=r;let o=!1;const a=typeof i=="object";if(a){const u=Rw(e),d=d4(e);(KI(i)==="autoGroupColumn"&&d||u&&((c=n.selectionColSvc)!=null&&c.isSelectionColumnEnabled()))&&(o=QD(i))}else typeof s=="function"?o=s(zt(t,{column:e,colDef:r})):o=!!s;const l=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=P9(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},ade=class extends Be{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new sde(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=F_(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=F_(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new rde}createSelectAllFeature(e){return new ode(e)}isMultiSelect(){return ZI(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);const s=r.element;A_(s,i),s.contains(ir(this.beans))&&t(r)})}announceAriaRowSelection(e){var r;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(r=this.beans.ariaAnnounce)==null||r.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!wR(e)||!Zv(this.gos)}updateRowSelectable(e,t){var i;const n=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(mE(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,n=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const s=e.childrenAfterGroup[r];let o=s.isSelected();if(!s.selectable){const a=this.calculateSelectedFromChildren(s);if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...kce(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=Rw(e)&&Eb(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:s}=this,o=e.isSelected(),a=mE(r),l=vae(r),c=yae(r),u=this.isMultiSelect(),d=i==="rowClicked";if(d&&!(l||c))return null;if(t&&n&&u){const h=s.getRoot();if(h)if(h.isSelected()){const p=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:p.discard,select:p.keep,reset:!1}}else{const p=s.extend(e,a);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&u){const h=s.selectAll?this.beans.rowModel.getRow(0):void 0,p=s.getRoot(h),m=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:m.keep,deselect:m.discard,reset:s.selectAll||!!(p&&!p.isSelected())}}else if(n){if(d){const h=!o;return h&&!l||!h&&!c?null:(s.setRoot(e),{node:e,newValue:h,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{s.setRoot(e);const h=Cae(r),p=XI(r)==="filteredDescendants",m=d&&(!h||!l);if(p&&o===void 0&&Ds(r))return{node:e,newValue:!1,clearSelection:!u||m};if(d){const v=o?!h:l;return v===o&&!m||v&&!l||!v&&!c?null:{node:e,newValue:v,clearSelection:!u||m,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!u||m}}}},lde=class extends M4{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Vy=class extends kv{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ht(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{b$(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var r;const i=(r=n.clipboardData)==null?void 0:r.getData("text");i&&i.split("").some(s=>!e.test(s))&&n.preventDefault()}})}},AL={selector:"AG-INPUT-TEXT-FIELD",component:Vy},cde=class extends kv{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},ude={selector:"AG-INPUT-TEXT-AREA",component:cde},R4=class extends Vy{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){ir(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:i}=this;return n!=null&&t<n?e=n.toString():i!=null&&t>i&&(e=i.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Zl(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Zl(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Zl(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ht(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},dde={selector:"AG-INPUT-NUMBER-FIELD",component:R4};function KM(e,t){return e.toString().padStart(t,"0")}function Xl(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>KM(r,2)).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>KM(r,2)).join(":")),i}var hF=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function qM(e,t="YYYY-MM-DD"){const n=KM(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>KM(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${hF(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${hF(e.getDate())}`,DD:()=>KM(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${hF(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function _a(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const i=t.split("-").map(d=>parseInt(d,10));if(i.filter(d=>!isNaN(d)).length!==3)return null;const[r,s,o]=i,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!n||n==="00:00:00")return a;const[l,c,u]=n.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var hde=class extends Vy{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=_y();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){ir(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Xl(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Zl(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Xl(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Zl(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Zl(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return _a(this.getValue())??void 0}setDate(e,t){this.setValue(Xl(e??null,!1),t)}},L$={selector:"AG-INPUT-DATE-FIELD",component:hde},fde=1e3,pde=1e3,l3=100,c3,pD=!1,gde=class extends Be{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,i,r;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((r=(i=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:r.call(i))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Kv()&&(pD?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},l3):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var r;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(i!=null&&i.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||pD)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-c3<fde}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,a,l,c,u,d,h;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ht(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(o=t.getRowNode)==null?void 0:o.call(t),i=zt(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(c=t.getColumn)==null?void 0:c.call(t),rowIndex:(u=t.getRowIndex)==null?void 0:u.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(d=t.getValueFormatted)==null?void 0:d.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((h=t.getAdditionalParams)==null?void 0:h.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),s=Fle(this.userCompFactory,i);s==null||s.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),c3=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),s=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Is(this.beans),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=ir(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?pde:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){pD=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},l3)}unlockService(){pD=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function fF(e){return e.get("tooltipShowMode")==="whenTruncated"}function rI(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var mde=class extends Be{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new gde(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},vde=class extends $i{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Oe.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Oe.DOWN:case Oe.UP:e.preventDefault(),this.navigate(t);break;case Oe.PAGE_DOWN:case Oe.PAGE_UP:case Oe.PAGE_HOME:case Oe.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Oe.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===Oe.PAGE_HOME?a=0:e===Oe.PAGE_END?a=r:e===Oe.PAGE_DOWN?a=Math.min(i+o,r):e===Oe.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{of(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();hy(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{Boe(t,n+1),_oe(t,e.length)})}renderOption(e,t){const n=zr({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=zr({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Nd(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),A_(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Nd(e)||(e.classList.remove(this.activeClass),A_(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},yde=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",Cde={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},bde=class extends I${constructor(e){if(super(e,(e==null?void 0:e.template)||Cde,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=At,this.eWrapper=At,this.eDisplayField=At,this.eIcon=At,this.registerCSS(yde),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=Yl(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),R_(e,!1),this.ariaRole&&hy(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Oe.UP:case Oe.DOWN:case Oe.ENTER:case Oe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Oe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:u}=this,d={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const v=I9(c);this.beforeHidePicker(),v&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:u};e.style.position="absolute";const h=c.popupSvc,p=h.addPopup(d);l?(o&&(e.style.minWidth=o),e.style.width=o4(UI(u)),a&&(e.style.maxWidth=a)):$I(e,a??UI(u));const m=s??`${r4(h.getPopupParent())}px`;return e.style.setProperty("max-height",m),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();R_(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return $I(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},wde=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",A4=class extends bde{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(wde)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:rI(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new vde("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),joe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i==null||i.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===Oe.TAB&&this.hidePicker(),t){case Oe.ENTER:case Oe.UP:case Oe.DOWN:case Oe.PAGE_UP:case Oe.PAGE_DOWN:case Oe.PAGE_HOME:case Oe.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case Oe.ESCAPE:super.onKeyDown(e);break;case Oe.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),s.textContent=l,o==null||o.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Sde={selector:"AG-SELECT",component:A4},Tb={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},k$=class extends Be{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,isEmpty:p,eFocusableElement:m}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new Tw(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Ab(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=Is(this.beans),n=Ab(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),a=this.gos.get("tabIndex");o.sort((c,u)=>{const d=parseInt(c.getAttribute("tabindex")||"0"),h=parseInt(u.getAttribute("tabindex")||"0");return h===a?1:d===a?-1:d===0?1:h===0?-1:d-h}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Ab(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Hy(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},xde=class extends Be{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:y=>{r.forEach(C=>y!=null?C.setAttribute("tabindex",y):C.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}=e;this.tabGuardCtrl=this.createManagedBean(new k$({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Is(this.beans).createElement("div"),n=e==="top"?Tb.TAB_GUARD_TOP:Tb.TAB_GUARD_BOTTOM;return t.classList.add(Tb.TAB_GUARD,n),hy(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ml(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){a4(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;of(e),of(t),super.destroy()}},Mde=class extends $i{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new xde(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},Dw=class extends $i{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Ev=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new dy,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!g$(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},O$=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${S9}/${this.frameworkName}-data-grid`,iae(this.baseDocLink)}setInterval(e,t){return new Ui(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const s=z9(t);s!=null&&(r.passive=s)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Ede(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Rde=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],u3=Object.fromEntries(Rde.map((e,t)=>[e,t]));function Ade(e,t){const n=(e.beanName?u3[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?u3[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function Tde(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:(t==null?void 0:t.beanName)==="gridDestroySvc"?1:0}var Dde=class extends Be{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),d$(this.gos,t),this.createManagedBean(new v4(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=wf(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this)}isDetailGrid(){var t;const e=l$(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,i,r;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(r=e.licenseManager)==null?void 0:r.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,a=ri(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(ri(n),e);const o=ri(s);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||ey(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(my(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];(s=r.setAllowFocus)==null||s.call(r,!0),setTimeout(()=>{var o;(o=r.setAllowFocus)==null||o.call(r,!1)})}isFocusable(){var t,n;const e=this.beans;return!RL(e)||!ey(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=ir(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){var i,r;(i=e.setAllowFocus)==null||i.call(e,!0);const n=my(e.getGui(),t,!1,!0);return(r=e.setAllowFocus)==null||r.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},en=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},d3={dispatchEvent:"CommunityCore",...en("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...en("GridState",{getState:0}),...en("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...en("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...en("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...en("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...en("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...en("ValueCache",{expireValueCache:0}),...en("CellApi",{getCellValue:0}),...en("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...en("Sort",{onSortChanged:0}),...en("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...en("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...en("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...en("HighlightChanges",{flashCells:0}),...en("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...en("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...en("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...en("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...en("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...en("ColumnResize",{setColumnWidths:0}),...en("ColumnHover",{isColumnHovered:0}),...en("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...en("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...en("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...en("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...en("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...en("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...en("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...en("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...en("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...en("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...en("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...en("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...en("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...en("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...en("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...en("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...en("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...en("ContextMenu",{showContextMenu:0}),...en("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...en("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...en("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...en("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...en("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...en("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...en("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...en("StatusBar",{getStatusPanel:0})},pF={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Ide=(e,t)=>e.eventSvc.dispatchEvent(t),P$=class{};Reflect.defineProperty(P$,"name",{value:"GridApi"});var Nde=class extends Be{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new P$,this.fns={...pF,dispatchEvent:Ide},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(d3))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:n,beans:i}=this;n!==pF&&(n[e]=((r=i==null?void 0:i.validation)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)it(26,{fnName:e,preDestroyLink:i});else{const r=d3[e];n.assertModuleRegistered(r,`api.${e}`)&&it(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=pF,this.beans=null}};function Lde(e){return e.context.getGridId()}function kde(e){e.gridDestroySvc.destroy()}function Ode(e){return e.gridDestroySvc.destroyCalled}function Pde(e,t){return e.gos.get(t)}function Fde(e,t,n){F$(e,{[t]:n})}function F$(e,t){e.gos.updateGridOptions({options:t})}function _de(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var Bde={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Gde=class extends $i{constructor(e,t,n){super(Bde),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Yl("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){const a=zt(r,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function zde(e,t){var n,i;(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||i.addRowDropZone(t)}function Hde(e,t){var i,r;const n=(i=e.dragAndDrop)==null?void 0:i.findExternalZone(t);n&&((r=e.dragAndDrop)==null||r.removeDropTarget(n))}function Vde(e,t){var n,i;return(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:i.getRowDropZone(t)}var Ude=class extends Be{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Wde={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},jde=class extends $i{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(Wde),this.getGui().appendChild(Yl("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new Yde(this,t,n):new $de(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var i;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const i=this.getDragItem(),r=((o=i.rowNodes)==null?void 0:o.length)||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},_$=class extends Be{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;const{column:r,rowNode:s,parent:o}=this;r&&(n=r.isRowDrag(s)||o.isCustomGui(),i=typeof r.getColDef().rowDrag=="function"),i?(o.setDisplayed(!0,t),o.setVisible(n,t)):(o.setDisplayed(n,t),o.setVisible(!0,t))}}},$de=class extends _${postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Yde=class extends _${postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=r&&!o||s;this.setDisplayedOrVisible(a)}},Kde=class extends Be{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Ice(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,s){return new jde(e,t,n,i,r,s)}createRowDragCompForRow(e,t){if(Cg(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,s){const o=this.gos;return o.get("rowDragManaged")&&(!Ds(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s)}},B$={moduleName:"Drag",version:gt,beans:[Nce]},qde={moduleName:"DragAndDrop",version:gt,dynamicBeans:{dndSourceComp:Gde},icons:{rowDrag:"grip"}},G$={moduleName:"SharedDragAndDrop",version:gt,beans:[Sce],dependsOn:[B$],userComponents:{agDragAndDropImage:Gue},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Zde={moduleName:"RowDrag",version:gt,beans:[Kde],apiFunctions:{addRowDropZone:zde,removeRowDropZone:Hde,getRowDropZoneParams:Vde},dependsOn:[G$]},Xde={moduleName:"HorizontalResize",version:gt,beans:[Ude],dependsOn:[B$]},Qde=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Jde=class extends Be{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function ehe(e,t,n){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,n,"api")}function the(e,t,n){var i;(i=e.colMoves)==null||i.moveColumns(t,n,"api")}var nhe=class extends Be{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function ihe(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const s=e.indexOf(i),o=e.indexOf(r);return s-o})}function z$(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:u}=e;let{allMovingColumns:d}=e;if(t){const A=[];d.forEach(T=>{var F;let L=null,O=T.getParent();for(;O!=null&&O.getDisplayedLeafColumns().length===1;)L=O,O=O.getParent();L!=null?(!!((F=L.getColGroupDef())!=null&&F.marryChildren)?L.getProvidedColumnGroup().getLeafColumns():L.getLeafColumns()).forEach($=>{A.includes($)||A.push($)}):A.includes(T)||A.push(T)}),d=A}const h=d.slice();ihe(l.getCols(),h);const p=ahe({movingCols:h,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:l,visibleCols:u}),m=rhe(h,l);if(p.length===0)return;const v=p[0];let y=m!==null&&!r;if(t&&(y=m!==null),y&&!s&&(!n&&v>=m||n&&v<=m))return;const C=u.allCols,S=[];let x=null;for(let A=0;A<p.length;A++){const T=p[A],L=c.getProposedColumnOrder(h,T);if(!c.doesOrderPassRules(L))continue;const O=L.filter(H=>C.includes(H));if(x===null)x=O;else if(!zy(O,x))break;const F=she(L);S.push({move:T,fragCount:F})}if(S.length===0)return;S.sort((A,T)=>A.fragCount-T.fragCount);const R=S[0].move;if(!(R>l.getCols().length-d.length))return{columns:d,toIndex:R}}function H$(e){const{columns:t,toIndex:n}=z$(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function rhe(e,t){const n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),r=i[0];return ri(i)-r!==i.length-1?null:r}function she(e){function t(i){const r=[];let s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function ohe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function ahe(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(x=>x.getColDef().suppressMovable))return[];const c=ohe(a,r),u=o.getCols(),d=c.filter(x=>t.includes(x)),h=c.filter(x=>!t.includes(x)),p=u.filter(x=>!t.includes(x));let m=0,v=i;if(n){let x=0;d.forEach(R=>x+=R.getActualWidth()),v-=x}if(v>0){for(let x=0;x<h.length;x++){const R=h[x];if(v-=R.getActualWidth(),v<0)break;m++}n&&m++}let y;if(m>0){const x=h[m-1];y=p.indexOf(x)+1}else y=p.indexOf(h[0]),y===-1&&(y=0);const C=[y],S=(x,R)=>x-R;if(n){let x=y+1;const R=u.length-1;for(;x<=R;)C.push(x),x++;C.sort(S)}else{let x=y;const R=u.length-1;let A=u[x];for(;x<=R&&c.indexOf(A)<0;)x++,C.push(x),A=u[x];x=y-1;const T=0;for(;x>=T;)C.push(x),x--;C.sort(S).reverse()}return C}function W_(e){var c;const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e;let a=(c=r.getHeaderRowContainerCtrl(t))==null?void 0:c.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function gF(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var h3=7,j_=100,gD=j_/2,lhe=5,che=100,uhe=class extends Be{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ht(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=(n==null?void 0:n.columns)??[];for(const r of i){const s=r.getPinned();if(r.getColDef().lockPinned){if(s==e)return"move";continue}const o=n==null?void 0:n.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Wi(e.hDirection))return;const a=W_({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),c=H$({...l,finished:r});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){var u;const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let o=null,a=null,l=null;for(const d of s){if(a=d.getActualWidth(),o=this.getNormalisedColumnLeft(d,0,r),o!=null){const h=o+a;if(o<=t&&h>=t){l=d;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=s.length-1;d>=0;d--){const h=s[d],p=s[d].getParent();if(!p){l=h;break}const m=p==null?void 0:p.getDisplayedLeafColumns();if(m.length){l=ri(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(((u=this.lastHighlightedColumn)==null?void 0:u.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==r?c=0:c=1,f3(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||a==null)return;const l=i.allCols,c=l.indexOf(s),u=l.indexOf(o),d=a===0!==r,h=c<u||c===u&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),u+p===c)return;const m=l[u+p];if(!m)return;const v=this.getNormalisedColumnLeft(m,20,r);return{fromLeft:h,xPosition:v}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=dhe(e);if(!r||!s||i.column||!t)return{firstMovingCol:r,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return W_({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>h3;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=z$(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(f3(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,s;this.gos.get("enableRtl")?(r=e<n+gD,s=e>i-gD):(s=e<n+gD,r=e>i-gD),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),che),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,r;let e;this.intervalCount++,e=10+this.intervalCount*lhe,e>j_&&(e=j_);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:s,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=h3+1||!s)return;if((i=o.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:s}=this.beans;return r==null||r.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function f3(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function dhe(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const s=e[r];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-r];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var hhe=class extends Be{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new uhe(n)),this.bodyDropPivotTarget=this.createManagedBean(new nhe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},fhe=class extends Be{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){it(30,{toIndex:t});return}s==null||s.start();const c=r.getColsForKeys(e);this.doesMovePassRules(c,t)&&(YU(r.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:i,source:n})),s==null||s.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!Z9(e,t.getColTree())||!(r=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return r.forEach(c=>{const u=s(c.getColDef().lockPosition);o?u>a&&(l=!1):u<a&&(l=!1),a=u}),l})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return YU(i,e,t),i}createBodyDropTarget(e,t){return new hhe(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),d=u.left,h=dr(n),p=h?u.width:n.getActualWidth(),m=e==="left"!==o.get("enableRtl"),v=W_({x:m?d-20:d+p+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),y=c.focusedHeader;H$({allMovingColumns:h?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:v,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let C;if(h){const S=n.getDisplayedLeafColumns();C=m?S[0]:ri(S)}else C=n;if(s.getScrollFeature().ensureColumnVisible(C,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&y){let S;if(h){const x=n.getGroupId(),R=n.getLeafColumns();if(!R.length)return;const A=R[0].getParent();if(!A)return;S=phe(A,x)}else S=n;S&&c.focusHeaderPosition({headerPosition:{...y,column:S}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=dr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],d={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>mhe(t,o.allCols):()=>ghe(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),gF(c,!0)},onDragStopped:()=>gF(c,!1),onDragCancelled:()=>gF(c,!1),onGridEnter:h=>{if(a){const{columns:p=[],visibleState:m}=h??{},v=l?C=>!m||m[C.getColId()]:()=>!0,y=p.filter(C=>!C.getColDef().lockVisible&&v(C));r.setColsVisible(y,!0,"uiColumnMoved")}},onGridExit:h=>{var p;if(a){const m=((p=h==null?void 0:h.columns)==null?void 0:p.filter(v=>!v.getColDef().lockVisible))||[];r.setColsVisible(m,!1,"uiColumnMoved")}}};return s.addDragSource(d,!0),d}};function phe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function ghe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function mhe(e,t){var a;const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(l=>i[l.getId()]=l.isVisible());const r=[];t.forEach(l=>{n.indexOf(l)>=0&&(r.push(l),tc(n,l))}),n.forEach(l=>r.push(l));const s=[],o=e.getLeafColumns();for(const l of r)o.indexOf(l)!==-1&&s.push(l);return{columns:r,columnsInSplit:s,visibleState:i,containerType:(a=s[0])==null?void 0:a.pinned}}var vhe={moduleName:"ColumnMove",version:gt,beans:[fhe,Jde],apiFunctions:{moveColumnByIndex:ehe,moveColumns:the},dependsOn:[G$],css:[Qde]},yhe=class extends Be{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},V$={moduleName:"AutoWidth",version:gt,beans:[yhe]};function Che(e,t,n=!0,i="api"){var r;(r=e.colResize)==null||r.setColumnWidths(t,!1,n,i)}var bhe=class extends Be{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){var l;const t=c=>c.reduce((u,d)=>u+d.getActualWidth(),0),n=(c,u)=>c.map(d=>d.getActualWidth()/u),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const c=a.getDisplayedLeafColumns(),u=o.groupAfterColumns=c.filter(h=>h.isResizable()),d=o.groupAfterStartWidth=t(u);o.groupAfterRatios=n(u,d)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){var d;const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:r,ratios:o,width:t}),a){const h=t-s;u.push({columns:a,ratios:c,width:l-h})}(d=this.beans.colResize)==null||d.resizeColumnSets({resizeSets:u,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},whe=class extends Be{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(fr(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),a=r+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:u,colResize:d}=s;if(this.column.getPinned()){const h=(c==null?void 0:c.leftWidth)??0,p=(c==null?void 0:c.rightWidth)??0,m=fE(u.getGridBodyCtrl().eBodyViewport)-50;if(h+p+(o-i)>m)return}this.lastResizeAmount=o,d==null||d.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},She=class extends Be{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(r.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const d=a.getColAfter(c);if(!d)return;const h=c.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;r.push({width:p,ratios:[1],columns:[d]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(u=>xhe(u)))){if(n){const u=t&&t.length>0?t[0].columns:null;iw(this.eventSvc,u,n,i)}return}const s=[],o=[];t.forEach(u=>{const{width:d,columns:h,ratios:p}=u,m={},v={};h.forEach(S=>o.push(S));let y=!0,C=0;for(;y;){if(C++,C>1e3){bi(31);break}y=!1;const S=[];let x=0,R=d;h.forEach((T,L)=>{if(v[T.getId()])R-=m[T.getId()];else{S.push(T);const F=p[L];x+=F}});const A=1/x;S.forEach((T,L)=>{const O=L===S.length-1;let F;O?F=R:(F=Math.round(p[L]*d*A),R-=F);const H=T.getMinWidth(),W=T.getMaxWidth();F<H?(F=H,v[T.getId()]=!0,y=!0):W>0&&F>W&&(F=W,v[T.getId()]=!0,y=!0),m[T.getId()]=F})}h.forEach(S=>{const x=m[S.getId()];S.getActualWidth()!==x&&(S.setActualWidth(x,i),s.push(S))})});const a=s.length>0;let l=[];if(a){const{colFlex:u,visibleCols:d,colViewport:h}=this.beans;l=(u==null?void 0:u.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],d.setLeftValues(i),d.updateBodyWidths(),h.checkViewportColumns()}const c=o.concat(l);(a||n)&&iw(this.eventSvc,c,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new whe(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new bhe(e,t,n,i)}};function xhe(e){const{columns:t,width:n}=e;let i=0,r=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();i+=c||0;const u=l.getMaxWidth();u>0?r+=u:s=!1});const o=n>=i,a=!s||n<=r;return o&&a}var Mhe={moduleName:"ColumnResize",version:gt,beans:[She],apiFunctions:{setColumnWidths:Che},dependsOn:[Xde,V$]},Ehe=class extends Be{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},Rhe=class extends x4{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:u,colResize:d}=o;this.comp=e,r=CR(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const h=this.rowCtrl.pinned,p=s.getProvidedColumnGroup().getLeafColumns();c==null||c.createHoverFeature(r,p,t),u==null||u.createRangeHighlightFeature(r,s,e),r.createManagedBean(new S4(s,t,o)),r.createManagedBean(new Ehe(e,s)),d?this.resizeFeature=r.createManagedBean(d.createGroupResizeFeature(e,n,h,s)):e.setResizableDisplayed(!1),r.createManagedBean(new Tw(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,p),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return zt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=ri(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=r===1,u=r===0;n&&(l?a=c:o=u),i&&(l?o=u:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,s=r.getProvidedColumnGroup(),o=zt(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>i==null?void 0:i.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>i==null?void 0:i.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=Ele(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=o$(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Oe.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Ahe(e,t,n){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,n,"api")}function The(e,t,n){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,n))??null}function Dhe(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function Ihe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Nhe(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Lhe(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function khe(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function Ohe(e){return e.visibleCols.treeLeft}function Phe(e){return e.visibleCols.treeCenter}function Fhe(e){return e.visibleCols.treeRight}function _he(e){return e.visibleCols.getAllTrees()}function Bhe(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var Ghe=class extends Be{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:r,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(i,r),r==null||r.updateOpenClosedVisibility(),this.leftCols=mF(this.treeLeft),this.centerCols=mF(this.treeCenter),this.rightCols=mF(this.treeRight),o==null||o.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n==null||n.refreshFlexedColumns(),this.updateBodyWidths(),s.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=_h(this.centerCols),t=_h(this.leftCols),n=_h(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?ri(n):null):(r=t?ri(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new t$,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return dr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{dr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=_h(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}Bhe(i,s)}),i.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const h=c-1;for(let p=1;p<=h;p++)u.push(t[o+p]);o+=h}let d;n?(d=!1,u.forEach(h=>{n(h)&&(d=!0)})):d=!0,d&&(r.length===0&&s&&(i&&i(a))&&r.push(s),r.push(a)),s=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ty(this.treeCenter,!1,e),ty(this.treeLeft,!1,e),ty(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?ri(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return _h(this.leftCols)}getDisplayedColumnsRightWidth(){return _h(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(dr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:ri(s)}else r=e;return(i?n[0]:ri(n))===r}};function ty(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(dr(r)){const s=t?r.getDisplayedChildren():r.getChildren();ty(s,t,n)}n(r)}}function mF(e){const t=[];return ty(e,!0,n=>{af(n)&&t.push(n)}),t}var zhe=class extends Be{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Xh(null,t,n=>{Ro(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Xh(null,t,i=>{if(Ro(i)){const r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i==null||i.start();const a=[];e.forEach(l=>{const c=l.groupId,u=l.open,d=this.getProvidedColGroup(c);d&&d.isExpanded()!==u&&(d.setExpanded(u),a.push(d))}),r.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i==null||i.finish()}setColumnGroupOpened(e,t,n){let i;Ro(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return Xh(null,this.beans.colModel.getColTree(),n=>{Ro(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?ri(i):i[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();ty(e,!1,t=>{dr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(dr(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return ty(n,!1,s=>{if(dr(s)){const o=s;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const d=h=>{const p=u;u=h;const m=c[p],y=(dr(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(y==null){for(let S=p;S<h;S++)a.push(c[S]);return}const C=this.createColumnGroup(y,n,o,i,s);for(let S=p;S<h;S++)C.addChild(c[S]);l.push(C)};for(let h=1;h<c.length;h++){const p=c[h],v=(dr(p)?p.getProvidedColumnGroup():p).getOriginalParent(),y=c[u],S=(dr(y)?y.getProvidedColumnGroup():y).getOriginalParent();v!==S&&d(h)}u<c.length&&d(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,s,o){const a=r.getUniqueKey(t.groupId||null,null),l=jU(this.beans,t,a),c=new eI(l,a,!1,n);this.createBean(c);const u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);const d=u==null?void 0:u.group;d&&c.setExpanded(d.isExpanded());const h=Y9(this.beans,l.children,n+1,e,i,r,s,o);return c.setChildren(h),c}balanceColumnTree(e,t,n,i){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(Ro(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let c=n-1;c>=t;c--){const u=i.getUniqueKey(null,null),d=jU(this.beans,null,u),h=new eI(d,u,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(r.push(a),e.some(u=>Ro(u))){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Ro(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(Ro(r)){const s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){const o=new eI(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=m$(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ht(l)?l.reset():(l=new v$(e,s,o,i),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(dr(r)){const s=r;t[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,dr(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},Hhe={moduleName:"ColumnGroup",version:gt,dynamicBeans:{headerGroupCellCtrl:Rhe},beans:[zhe],apiFunctions:{getAllDisplayedColumnGroups:_he,getCenterDisplayedColumnGroups:Phe,getColumnGroup:The,getColumnGroupState:Nhe,getDisplayNameForColumnGroup:Ihe,getLeftDisplayedColumnGroups:Ohe,getProvidedColumnGroup:Dhe,getRightDisplayedColumnGroups:Fhe,resetColumnGroupState:khe,setColumnGroupOpened:Ahe,setColumnGroupState:Lhe}},Vhe={moduleName:"CheckboxCellRenderer",version:gt,userComponents:{agCheckboxCellRenderer:jue}};function Uhe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Whe(e){return e.colModel.getColumnDefs()}function jhe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function $he(e,t){return e.colModel.getColDefCol(t)}function Yhe(e){return e.colModel.getColDefCols()}function Khe(e,t){return Zc(e,t,"api")}function qhe(e){return eN(e)}function Zhe(e){Xae(e,"api")}function Xhe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Qhe(e){return e.visibleCols.isPinningLeft()}function Jhe(e){return e.visibleCols.isPinningRight()}function efe(e,t){return e.visibleCols.getColAfter(t)}function tfe(e,t){return e.visibleCols.getColBefore(t)}function nfe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function ife(e,t,n){var i;(i=e.pinnedCols)==null||i.setColsPinned(t,n,"api")}function rfe(e){return e.colModel.getCols()}function sfe(e){return e.visibleCols.leftCols}function ofe(e){return e.visibleCols.centerCols}function afe(e){return e.visibleCols.rightCols}function lfe(e){return e.visibleCols.allCols}function cfe(e){return e.colViewport.getViewportColumns()}function $_(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||H9.has(r))return;const s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=$_(s):i[r]=s}),i}var ufe=class extends Be{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){var a,l;const r=e.slice();t?r.sort((c,u)=>n.indexOf(c)-n.indexOf(u)):n&&r.sort((c,u)=>i.indexOf(c)-i.indexOf(u));const s=(a=this.rowGroupColsSvc)==null?void 0:a.columns,o=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(r,s,o)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let d=null;if(c.isPadding()){c=c.getOriginalParent();continue}const h=r[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(d=this.createDefFromGroup(c),d&&(d.children=[l],r[d.groupId]=d,l=d,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&i.push(l)}),i}createDefFromGroup(e){const t=$_(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=$_(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},dfe=class extends Be{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let s=-1;if(e.resizingCols){const m=new Set(e.resizingCols);for(let v=r.length-1;v>=0;v--)if(m.has(r[v])){s=v;break}}let o=!1;const a=r.map((m,v)=>{const y=m.getFlex(),C=y!=null&&y>0&&v>s;return o||(o=C),{col:m,isFlex:C,flex:Math.max(0,y??0),initialSize:m.getActualWidth(),min:m.getMinWidth(),max:m.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((m,v)=>m+v.flex,0),u=n;const d=(m,v)=>{m.frozenSize=v,m.col.setActualWidth(v,t),u-=v,c-=m.flex,l-=1},h=m=>m.frozenSize!=null;for(const m of a)m.isFlex||d(m,m.initialSize);for(;l>0;){const m=Math.round(c<1?u*c:u);let v,y=0,C=0;for(const R of a){if(h(R))continue;v=R,C+=m*(R.flex/c);const A=C-y,T=Math.round(A);R.targetSize=T,y+=T}v&&(v.targetSize+=m-y);let S=0;for(const R of a){if(h(R))continue;const A=R.targetSize,T=Math.min(Math.max(A,R.min),R.max);S+=T-A,R.violationType=T===A?void 0:T<A?"max":"min",R.targetSize=T}const x=S===0?"all":S>0?"min":"max";for(const R of a)h(R)||(x==="all"||R.violationType===x)&&d(R,R.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const p=a.filter(m=>m.isFlex&&!m.violationType).map(m=>m.col);if(e.fireResizedEvent){const m=a.filter(y=>y.initialSize!==y.frozenSize).map(y=>y.col),v=a.filter(y=>y.flex).map(y=>y.col);iw(this.eventSvc,m,!0,t,v)}return p}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},hfe=class extends Be{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const i=o=>a=>{const{column:l,node:c,value:u}=a;let d=l.getColDef().valueFormatter;return d===o.groupSafeValueFormatter&&(d=o.valueFormatter),this.beans.valueSvc.formatValue(l,c,u,d)};for(const o of Object.keys(e)){const a=e[o],l={...a,groupSafeValueFormatter:m3(a,this.gos)};t[o]=l,n[o]=i(l)}const r=this.gos.get("dataTypeDefinitions")??{},s={};this.dataTypeMatchers=s;for(const o of Object.keys(r)){const a=r[o],l=this.processDataTypeDefinition(a,r,[o],e);l&&(t[o]=l,a.dataTypeMatcher&&(s[o]=a.dataTypeMatcher),n[o]=i(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=s[o];a&&delete s[o],s[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,n,i){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s];const a=t[s];if(o&&a&&(o=a),!g3(e,o,s))return;r=p3(o,e)}else{if(n.includes(s)){it(44);return}const o=t[s];if(!g3(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],i);if(!a)return;r=p3(a,e)}return{...r,groupSafeValueFormatter:m3(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){it(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Ds(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(vF(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const s=n.get("columnTypes")??{};if(JI(r).some(a=>{const l=s[a.trim()];return l&&vF(l,i)}))return!1}return!vF(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=jM(i,e,r)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(r==null||r(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=pfe(a,o);u.rowGroup&&u.rowGroupIndex==null&&(i[s]=u),u.pivot&&u.pivotIndex==null&&(r[s]=u),n.push(u)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&Zc(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i==null||i.restoreColumnOrder(n,e),r==null||r.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=__(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const n=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>it(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){var s;const r=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===Oe.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.colModel.getColDefCol(i),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const u=o==null?"":r({column:l,node:null,value:o}),d=a==null?"":r({column:l,node:null,value:a});return u===d?0:u>d?1:-1},e.keyCreator=r;break}}(s=this.beans.filterManager)==null||s.setColDefPropertiesForDataType(e,n,r)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,r;return((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:L_(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var i,r;return n.newValue==null?n.newValue:((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>_a(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Xl(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>_a(n)??void 0,dateFormatter:n=>Xl(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>L_(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function p3(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...JI(e.columnTypes),...JI(t.columnTypes)]),n}function g3(e,t,n){return t?t.baseDataType!==e.baseDataType?(it(46),!1):!0:(it(45,{parentCellDataType:n}),!1)}function m3(e,t){if(e.valueFormatter)return n=>{var i,r;if((i=n.node)!=null&&i.group){const s=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&s!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((r=e.dataTypeMatcher)!=null&&r.call(e,n.value)))return;return e.valueFormatter(n)}}function ffe(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function vF(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>ffe(e,t,n,i))}function pfe(e,t){const n=e$(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var gfe={moduleName:"DataType",version:gt,beans:[hfe],dependsOn:[Vhe]},mfe={moduleName:"ColumnFlex",version:gt,beans:[dfe]},vfe={moduleName:"ColumnApi",version:gt,beans:[ufe],apiFunctions:{getColumnDef:Uhe,getDisplayNameForColumn:jhe,getColumn:$he,getColumns:Yhe,applyColumnState:Khe,getColumnState:qhe,resetColumnState:Zhe,isPinning:Xhe,isPinningLeft:Qhe,isPinningRight:Jhe,getDisplayedColAfter:efe,getDisplayedColBefore:tfe,setColumnsVisible:nfe,setColumnsPinned:ife,getAllGridColumns:rfe,getDisplayedLeftColumns:sfe,getDisplayedCenterColumns:ofe,getDisplayedRightColumns:afe,getAllDisplayedColumns:lfe,getAllDisplayedVirtualColumns:cfe,getColumnDefs:Whe}};function yfe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var Cfe=class extends Be{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){var o;const s=e.headerValueGetter;if(s){const a=zt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(a):typeof s=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(s,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return yfe(e.field)}return""}},bfe=class extends Be{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||wfe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return ht(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:s}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);const a=(l,c,u)=>{let d=!1;for(let h=0;h<l.length;h++){const p=l[h];let m=!1;if(af(p))m=e[p.getId()]===!0;else{const y=p.getDisplayedChildren();y&&(m=a(y,c,u+1))}m&&(d=!0,c[u]||(c[u]=[]),c[u].push(p))}return d};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(s,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function wfe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var Sfe=class extends Be{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=s4("<span>"+s+"</span>");return}if(s==null){this.eGui=zr({tag:"span"});return}this.eGui=s}}return n}},xfe={moduleName:"CellRendererFunction",version:gt,beans:[Sfe]},Mfe=class extends Be{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const s=(o,a,l)=>{this.agGridDefaults[o]=a,l&&(this.agGridDefaultParams[o]=l)};for(const o of Object.keys(n)){const a=n[o];typeof a=="object"?s(o,a.classImp,a.params):s(o,a)}}if(i)for(const s of Object.keys(i))this.dynamicBeans[s]=i[s];if(r==null||r.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){var a;const n=(l,c,u)=>({componentFromFramework:c,component:l,params:u}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const s=this.jsComps[t];if(s){const l=i.isFrameworkComponent(s);return n(s,l)}const o=this.agGridDefaults[t];return o?n(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(lg(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},Efe=23,Rfe=class extends Be{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===Efe&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Afe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',A8,T8,T4=typeof window!="object"||!((T8=(A8=window==null?void 0:window.document)==null?void 0:A8.fonts)!=null&&T8.forEach),sw=(e,t,n,i,r,s)=>{if(T4)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let o=Db.map.get(t);if(o||(o=[],Db.map.set(t,o)),o.find(u=>u.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:r};let c;for(const u of o){if(u.priority>r)break;c=u}if(c){c.el.insertAdjacentElement("afterend",a);const u=o.indexOf(c);o.splice(u+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},U$=(e,t,n)=>{sw(Afe,e,"core",t,0,n),Array.from(jle()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>{var r;return(r=i.css)==null?void 0:r.forEach(s=>sw(s,e,`module-${i.moduleName}`,t,0,n))})},Tfe=e=>{Db.grids.add(e)},Dfe=e=>{if(Db.grids.delete(e),Db.grids.size===0){Db.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},v3,Db=(v3=typeof window=="object"?window:{}).agStyleInjectionState??(v3.agStyleInjectionState={map:new WeakMap,grids:new Set}),lf=e=>new W$(e),$p="$default",Ife=0,W$=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[$p]:{...n[$p]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){const s=`ag-theme-${this.feature??"part"}-${++Ife}`;typeof r=="function"&&(r=r()),r=`:where(.${s}) {
${r}
}
`;for(const o of this.cssImports??[])r=`@import url(${JSON.stringify(o)});
${r}`;i={css:r,class:s}}else i=!1;this._inject=i}return i&&e&&sw(i.css,e,i.class,t,1,n),i?i.class:!1}},Nfe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),j$=e=>`--ag-${Nfe(e)}`,Ld=e=>`var(${j$(e)})`,Lfe=(e,t,n)=>Math.max(t,Math.min(n,e)),kfe=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},td=e=>({ref:"accentColor",mix:e}),Gl=e=>({ref:"foregroundColor",mix:e}),$c=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Ofe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),ll={ref:"backgroundColor"},dM={ref:"foregroundColor"},Yp={ref:"accentColor"},uN={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Gl(.15),chromeBackgroundColor:$c(.02),browserColorScheme:"light"},Pfe={...uN,textColor:dM,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:ll,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Yp,rangeSelectionBackgroundColor:td(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:td(.5),rangeHeaderHighlightColor:Ofe(.08),rowNumbersSelectedColor:td(.5),rowHoverColor:td(.08),columnHoverColor:td(.05),selectedRowBackgroundColor:td(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:ll,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:ll,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Gl(.7),focusShadow:{spread:3,color:td(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Gl(.1),iconButtonActiveColor:Yp,iconButtonActiveBackgroundColor:td(.28),iconButtonActiveIndicatorColor:Yp,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Yp,toggleButtonOffBackgroundColor:$c(.3),toggleButtonSwitchBackgroundColor:ll,toggleButtonSwitchInset:2,menuBorder:{color:Gl(.2)},menuBackgroundColor:$c(.03),menuTextColor:$c(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Gl(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Yp},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Gl(.2)},panelBackgroundColor:ll,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Gl(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Gl(.13)},selectCellBackgroundColor:Gl(.07),selectCellBorder:{color:Gl(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:dM,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:dM,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Gl(.15),statusBarLabelColor:dM,statusBarLabelFontWeight:500,statusBarValueColor:dM,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},Ffe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",_fe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Bfe=()=>lf({feature:"buttonStyle",params:{..._fe,buttonBackgroundColor:ll,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Yp}},css:Ffe}),Gfe=Bfe(),zfe=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Hfe=()=>lf({feature:"columnDropStyle",css:zfe}),$$=Hfe(),Vfe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Ufe=kfe(e=>(e=e.toLowerCase(),Vfe.find(t=>e.endsWith(t.toLowerCase()))??"length")),TL=e=>typeof e=="object"&&(e!=null&&e.ref)?Ld(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,D4=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Ld(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Ld(e.onto):"transparent"}, ${t} ${Lfe(e.mix*100,0,100)}%)`}return!1},Wfe=TL,gb=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Ld(n)} `)})`:e&&"ref"in e?Ld(e.ref):!1,jfe=TL,$fe=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Ld(e.ref):Y$(e.style??"solid")+" "+gb(e.width??1)+" "+D4(e.color??{ref:"borderColor"}),Yfe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Ld(e.ref):[gb(e.offsetX??0),gb(e.offsetY??0),gb(e.radius??0),gb(e.spread??0),D4(e.color??{ref:"foregroundColor"})].join(" "),Y$=TL,K$=e=>typeof e=="string"?e.includes(",")?e:y3(e):e&&"googleFont"in e?K$(e.googleFont):e&&"ref"in e?Ld(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),y3(t))).join(", "):!1,y3=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Kfe=TL,q$=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?q$({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Ld(e.ref):!1,qfe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&bi(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Ld(e.ref):!1,Zfe={color:D4,colorScheme:Wfe,length:gb,scale:jfe,border:$fe,borderStyle:Y$,shadow:Yfe,image:q$,fontFamily:K$,fontWeight:Kfe,duration:qfe},Xfe=(e,t)=>{const n=Ufe(e);return Zfe[n](t,e)},Qfe=()=>new Z$().withPart(Gfe).withPart($$),Z$=class X${constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof W$?new X$([...this.parts,t]):(AM(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(lf({feature:t}))}withParams(t,n=$p){return this.withPart(lf({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(T4)return;epe(),U$(t,n,i);const s=Jfe(this);if(s.length>0)for(const o of s)r&&npe(o,i);for(const o of this.parts)o.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=C3(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[$p]:{...Pfe}};for(const i of C3(this.parts))for(const r of Object.keys(i.modeParams)){const s=i.modeParams[r];if(s){const o=n[r]??(n[r]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(r===$p)for(const l of Object.keys(n)){const c=n[l];if(l!==$p)for(const u of a)delete c[u]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==$p){const d=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=d,s+=d}for(const u of Object.keys(c).sort()){const d=c[u],h=Xfe(u,d);if(h===!1)bi(107,{key:u,value:d});else{const p=j$(u),m=p.replace("--ag-","--ag-inherited-");r+=`	${p}: var(${m}, ${h});
`,s+=`	${m}: var(${p});
`}}l!==$p&&(r+=`}
`,s+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},C3=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},Jfe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s==null?void 0:s.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},b3=!1,epe=()=>{if(!b3){b3=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},tpe=new Set,npe=async(e,t)=>{tpe.add(e);const n=`@import url('https://${ipe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;sw(n,document.head,`googleFont:${e}`,void 0,0,t)},ipe="fonts.googleapis.com",rpe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',spe=()=>lf({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:ll,checkboxUncheckedBorderColor:$c(.3),checkboxCheckedBackgroundColor:Yp,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:ll,checkboxIndeterminateBackgroundColor:$c(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:ll,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:rpe}),ope=spe(),Q$=()=>({...uN,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:$c(.05),rowHoverColor:td(.15),selectedRowBackgroundColor:td(.2),menuBackgroundColor:$c(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:ll,findActiveMatchColor:ll,checkboxUncheckedBorderColor:$c(.4),toggleButtonOffBackgroundColor:$c(.4)}),ape=()=>({...Q$(),backgroundColor:"#1f2836"}),lpe=()=>lf({feature:"colorScheme",params:uN,modeParams:{light:uN,dark:Q$(),"dark-blue":ape()}}),cpe=lpe(),J$={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},e7={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},upe=(e={})=>{let t="";for(const n of[...Object.keys(J$),...Object.keys(e7)]){const i=dpe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},dpe=(e,t=1.5)=>{const n=e7[e];if(n)return n;const i=J$[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},hpe=(e={})=>lf({feature:"iconSet",css:()=>upe(e)}),fpe=hpe(),ppe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',gpe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow)}}",mpe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},vpe=()=>lf({feature:"inputStyle",params:{...mpe,inputBackgroundColor:ll,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Yp},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:$c(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>ppe+gpe}),ype=vpe(),Cpe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',bpe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},wpe=()=>lf({feature:"tabStyle",params:{...bpe,tabBarBorder:!0,tabBarBackgroundColor:Gl(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:ll},css:Cpe}),Spe=wpe(),xpe=()=>Qfe().withPart(ope).withPart(cpe).withPart(fpe).withPart(Spe).withPart(ype).withPart($$).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Mpe=xpe(),Epe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Rpe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Ape={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},w3={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},S3={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},x3={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},yF={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},M3={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},Tpe=0,Dpe=class extends Be{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Tpe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(w3),this.getSizeEl(S3),this.getSizeEl(x3),this.getSizeEl(yF),this.getSizeEl(M3),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Dfe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(M3)}getRowBorderWidth(){return this.getCSSVariablePixelValue(yF)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(w3)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(S3)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Epe)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Rpe),n=this.getCSSVariablePixelValue(Ape);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(x3)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const s of Array.from(i.classList))s.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${s}`:s);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?sw(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===CF?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=zr({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=zr({tag:"div"});const{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${CF}px)`)):t.style.width=`var(${e.cssName}, ${CF}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!r&&it(9,{variable:e});const o=wf(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(yF);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let s;if(r==="legacy")s=void 0;else{const o=r??Mpe;o instanceof Z$?s=o:bi(240,{theme:o})}if(s!==i){if(s){Tfe(this),U$(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)sw(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s==null||s._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=zr({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}T4||(o.textContent=(s==null?void 0:s._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&bi(r?106:239)}},CF=15538,Ipe=class extends Be{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new dy}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(zt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(zt(this.gos,e))}};function t7(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function Y_(e,t){let n;if(dr(e)&&t7(e)&&e.isPadding()){const i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var Npe=class extends Be{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Is(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=(r==null?void 0:r.getColumnGroup(e))??null)):n=e,!n)return null;const o=s.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),l=ri(a||[]).type==="filter",c=pd(this.beans)-1;let u=-1,d=n;for(;d;)u++,d=d.getParent();let h=u;return t&&l&&h===c-1&&h++,h===-1?null:{headerRowIndex:h,column:n}}navigateVertically(e,t,n){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:r}=t,s=t.column,o=pd(this.beans),a=e==="UP",l=this.getHeaderRowType(r);let{headerRowIndex:c,column:u,headerRowIndexWithoutSpan:d}=a?Lpe(l,s,r):kpe(l,s,r),h=!1;return c<0&&(c=0,u=s,h=!0),c>=o?(c=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!u?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:u},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,s=i.focusedHeader;let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=r.getCallback("tabToNextHeader");if(t&&l){const c=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:u}=i.focusedHeader||{};u!=null&&u!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=u)}return c}return o||!t?i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let r=null,s;const o=this.beans;if(t==="Before"?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<pd(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:a,headerRowIndex:l}=Y_(r.column,r==null?void 0:r.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(dr(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?ri(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i;const{colGroupSvc:r,visibleCols:s}=this.beans;if(dr(e.column)?n=(r==null?void 0:r.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,n=s[i](e.column)),!n)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[Math.max(0,c.length-1-o)]}const{column:a,headerRowIndex:l}=Y_(n,o);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,s=n.allCols,o=s[t==="start"?0:s.length-1];if(!o)return;const a=i.getHeaderRowContainerCtrl(o.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const c=r==null?void 0:r.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:c}}return{headerRowIndex:l==null?-1:e,column:o}}};function Lpe(e,t,n){const i=e==="filter",r=e==="column";let s=i?t:t.getParent(),o=n-1,a=o;if(r&&t7(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=t,o=n,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function kpe(e,t,n,i="After"){let r=t,s=n+1;const o=s;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:ri(a),c=[];let u=l;for(;u.getParent()!==t;)u=u.getParent(),c.push(u);if(r=l,l.isSpanHeaderHeight())for(let d=c.length-1;d>=0;d--){const h=c[d];if(!h.isPadding()){r=h;break}s++}else r=ri(c),r||(r=l)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}var Ope=class extends Be{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(rce(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(ir(this.beans),T$)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=ir(this.beans);return this.isDomDataPresentInHierarchy(e,rN)?!0:this.isDomDataPresentInHierarchy(e,lN)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(T9(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:qh(i),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:r,preventScrollOnBrowserFocus:s})}isCellFocused(e){return this.focusedCell==null?!1:f$(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned()}focusHeaderPosition(e){var l;if(this.setFocusRecovered(),ey(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(i){const c=this.focusedHeader,u=pd(this.beans);if(n){const d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:c,headerPosition:a,headerRowCount:u}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&r){const h={key:r.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:u,event:r};a=d(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(ey(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=pd(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:u}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});u==null||u.scrollToColumn(o,n);const d=c.getHeaderRowContainerCtrl(o.getPinned()),h=(d==null?void 0:d.focusHeader(t.headerRowIndex,o,s))||!1;return u&&h&&(r!=null||i)&&(u.currentHeaderRowWithoutSpan=r??-1),h}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=Y_(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=pd(this.beans)-1,n=ri(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===qh(t)}focusOverlay(e){var n,i;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&my(t,e)}focusGridView(e){var s,o,a,l,c,u;const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if((s=this.overlays)!=null&&s.isExclusive())return n&&this.focusOverlay(t);if(RL(this.beans))return t&&!ey(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:rw(this.beans,t);const r=t?Tce(this.beans):Ace(this.beans);if(r){const d=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:h,rowPinned:p}=r,m=sN(this.beans,r);if(!d||!m||h==null)return!1;if(d.isSuppressNavigable(m)){const v=this.gos.get("enableRtl");let y;return!i||i.key===Oe.TAB?y=v?Oe.LEFT:Oe.RIGHT:y=i.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,y,{rowIndex:h,column:d,rowPinned:p||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:h,column:d,rowPinned:p}),t){const v=this.rowRenderer.getRowByPosition(r);if(v!=null&&v.isFullWidth()&&((c=this.navigation)!=null&&c.tryToFocusFullWidthRow(r,t)))return!0}return this.setFocusedCell({rowIndex:h,column:d,rowPinned:qh(p),forceBrowserFocus:!0}),(u=this.beans.rangeSvc)==null||u.setRangeToCell({rowIndex:h,rowPinned:p,column:d}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const n=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:pd(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Ppe=class extends Be{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:Yoe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Fpe=class extends Be{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),n.destroy(),super.destroy()}},sI=new Set(["gridPreDestroyed","fillStart","pasteStart"]),_pe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},hM=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Bpe={tag:"span",cls:"ag-sort-indicator-container",children:[hM("Order","order"),hM("Asc","ascending-icon"),hM("Desc","descending-icon"),hM("Mixed","mixed-icon"),hM("None","none-icon")]},I4=class extends $i{constructor(e){super(),this.eSortOrder=At,this.eSortAsc=At,this.eSortDesc=At,this.eSortMixed=At,this.eSortNone=At,e||this.setTemplate(Bpe)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Yl(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&fr(e,o==="asc",{skipAriaHidden:!0}),t&&fr(t,o==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=o==null;fr(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;ld(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";fr(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=r>=0&&s;fr(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():ml(e)}},Gpe={selector:"AG-SORT-INDICATOR",component:I4},wE=["asc","desc",null],zpe=class extends Be{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){var u;t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:s}=this.beans,o=ld(r);let a=[e];if(o&&e.getColDef().showRowGroup){const d=(u=s==null?void 0:s.getSourceColumnsForGroupColumn)==null?void 0:u.call(s,e),h=d==null?void 0:d.filter(p=>p.isSortable());h&&(a=[e,...h])}a.forEach(d=>this.setColSort(d,t,i));const l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),c=[];if(!l){const d=this.clearSortBarTheseColumns(a,i);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(i,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=ld(t),s=i==null?void 0:i.getShowRowGroupCol(e.getId()),o=r&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(u=>this.setColSortIndex(u,null));const l=a.filter(u=>r&&u.getColDef().showRowGroup?!1:u!==o);(o.getSort()?[...l,o]:l).forEach((u,d)=>this.setColSortIndex(u,d))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??wE,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=[];if(t.forAllCols(c=>{c.getSort()&&r.push(c)}),t.isPivotMode()){const c=ld(e);r=r.filter(u=>{const d=!!u.getAggFunc(),h=!u.isPrimary(),p=c?n==null?void 0:n.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return d||h||p})}const s=(i==null?void 0:i.columns.filter(c=>!!c.getSort()))??[],o={};r.forEach((c,u)=>o[c.getId()]=u),r.sort((c,u)=>{const d=c.getSortIndex(),h=u.getSortIndex();if(d!=null&&h!=null)return d-h;if(d==null&&h==null){const p=o[c.getId()],m=o[u.getId()];return p>m?1:-1}else return h==null?-1:1});const a=ld(e)&&!!s.length;a&&(r=[...new Set(r.map(c=>(n==null?void 0:n.getShowRowGroupCol(c.getId()))??c))]);const l=new Map;return r.forEach((c,u)=>l.set(c,u)),a&&s.forEach(c=>{const u=n.getShowRowGroupCol(c.getId());l.set(c,l.get(u))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=ld(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-i<50;o||l||this.progressSortFromEvent(t,s)}});const r=()=>{var o;const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),c=!(a==null?void 0:a.every(u=>t.getSort()==u.getSort()));e.toggleCss("ag-header-cell-sorted-mixed",c)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new I4(e)}getSortIndicatorSelector(){return Gpe}},Ib={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},Hpe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Vpe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Ib[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Ib[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Ib[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(i=>t.includes(i))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},Upe=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return lg(262);if(t.smallLeft)return lg(263);if(t.smallRight)return lg(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(r=>!wE.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${wE.map(YI).join()}], currently it includes [${i.map(YI).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&(n==null?void 0:n.mode)==="singleRow"&&n!=null&&n.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),Wpe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},jpe=()=>Object.keys(Wpe),$pe=()=>({objectName:"colDef",allProperties:jpe(),docsUrl:"column-properties/",deprecations:Hpe(),validations:Upe()}),Ype=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded"],Kpe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],qpe=()=>[...Ype,...Kpe],Zpe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],Xpe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],Qpe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n7=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Jpe=["theme","rowSelection"],ege=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],i7=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],tge=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned"],nge=()=>[...Qpe,...Xpe,...Zpe,...n7,...tge,...i7,...ege,...Jpe],ige=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Xu(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var rge={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},sge=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Xu("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Xu("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Xu("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({isRowPinnable:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({isRowPinned:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return lg(262);if(n.smallLeft)return lg(263);if(n.smallRight)return lg(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Xu("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Xu("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Xu("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Xu("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Xu("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(s=>!wE.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${wE.map(YI).join()}], currently it includes [${r.map(YI).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!r&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Xu("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Xu("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n!=null&&n.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n!=null&&n.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return i7.forEach(n=>{t[n]={expectedType:"boolean"}}),n7.forEach(n=>{t[n]={expectedType:"number"}}),oa(t,e),t},oge=()=>({objectName:"gridOptions",allProperties:[...nge(),...qpe().map(e=>F9(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:ige(),validations:sge()}),age=0,lge=0,cge=class extends Be{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=lge++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new dy,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=sI.has(t);if(i&&!e||!i&&e)return;const r=(s,o)=>{const a=this.gridOptions[F9(s)];typeof a=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>a(o))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)r(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??_pe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ht(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:age++,properties:[]},r=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o==null||o.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",u=s[a];if(c||u!==l){s[a]=l;const d={type:a,currentValue:l,previousValue:u,changeSet:i,source:n};r.push(d)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{fy(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){var t;this.validateOptions(e,rge),(t=this.validation)==null||t.processGridOptions(e)}validateColDef(e,t,n){var i,r;(n||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&(this.validateOptions(e,Vpe),(r=this.validation)==null||r.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||bi(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:f4(),rowModelType:this.get("rowModelType"),isUmd:Kle()}}isModuleRegistered(e){return B_(e,this.gridId,this.get("rowModelType"))}};function r7(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var uge=r7(!0),dge=r7(!1),hge=class extends $i{constructor(){super(...arguments),this.eFilter=At,this.eFilterButton=At,this.eSortIndicator=At,this.eMenu=At,this.eLabel=At,this.eText=At,this.eSortOrder=At,this.eSortAsc=At,this.eSortDesc=At,this.eSortMixed=At,this.eSortNone=At,this.isLoadingInnerComponent=!1}refresh(e){var n,i,r;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((n=this.beans)!=null&&n.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const s={...e};oa(s,e.innerHeaderComponentParams),(r=(i=this.innerHeaderComponent).refresh)==null||r.call(i,s)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n!=null&&n.trim?n.trim():n:t?uge:dge}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,s=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Mle(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Ew(t))}addInIcon(e,t,n){const i=Yl(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){of(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=al(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,a=al(n);if(e&&!a){if((l=i.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();fr(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return of(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},fge={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},pge=class extends $i{constructor(){super(fge),this.agOpened=At,this.agClosed=At,this.agLabel=At,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n==null||n.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&it(89)}workOutInnerHeaderGroupComponent(e,t){const n=Rle(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=l=>{if(Zh(l))return;const c=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const s=l=>{gy(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var i;(i=e.touchSvc)==null||i.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();fr(e,i),fr(t,!i)}else fr(e,!1),fr(t,!1)}addInIcon(e,t){const n=Yl(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;fr(t,!1),fr(n,!1);return}}setupLabel(e){var r;const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;ht(t)&&!i&&(this.agLabel.textContent=Ew(t)),this.toggleCss("ag-sticky-label",!((r=n.getColGroupDef())!=null&&r.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},gge={moduleName:"ColumnHeaderComp",version:gt,userComponents:{agColumnHeader:hge},icons:{menu:"menu",menuAlt:"menu-alt"}},mge={moduleName:"ColumnGroupHeaderComp",version:gt,userComponents:{agColumnGroupHeader:pge},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},vge=class extends Be{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&it(92)}createTask(e,t,n,i){this.verify();let r=n;i&&this.batchFrameworkComps&&(r="f1");const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:r,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,u=i.list,d=Date.now();let h=0;const p=e<=0,m=o.getScrollFeature();for(;p||h<e;){if(!m.scrollGridIfNeeded()){let y;if(l.length)this.sortTaskList(t),y=l.pop().task;else if(c.length)this.sortTaskList(n),y=c.pop().task;else if(u.length)a.wrapOutgoing(()=>{for(;(p||h<e)&&!m.scrollGridIfNeeded();){if(u.length)this.sortTaskList(i),y=u.pop().task,y();else break;h=Date.now()-d}}),y=()=>{};else if(r.length)y=r.pop();else break;y()}h=Date.now()-d}l.length||c.length||u.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Sf(this.beans,e)}isQueueEmpty(){return!this.ticking}},yge={moduleName:"AnimationFrame",version:gt,beans:[vge]},Cge=class extends Be{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Kv())return;const t=(n,i,r)=>{var a;const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget((r==null?void 0:r.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(r??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,r,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Kv()||B9("dblclick"))return!1;const i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:s,eFilterButton:o}=e,a=new Ev(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&ht(s)&&r.enableMenu,u=c?new Ev(s,!0):a;if(r.enableMenu||i!=null&&i.isHeaderContextMenuEnabled(r.column)){const d=c?"tap":"longTap",h=p=>r.showColumnMenuAfterMouseClick(p.touchStart);e.addManagedListeners(u,{[d]:h})}if(r.enableSorting){const d=h=>{const p=h.touchStart.target;l&&(s!=null&&s.contains(p)||o!=null&&o.contains(p))||n==null||n.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:d})}if(r.enableFilterButton&&o){const d=new Ev(o,!0);e.addManagedListeners(d,{tap:()=>r.showFilter(o)}),e.addDestroyFunc(()=>d.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e){var n;const t=e.params;if((n=this.beans.menuSvc)!=null&&n.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const i=new Ev(t.eGridHeader,!0),r=s=>t.showColumnMenuAfterMouseClick(s.touchStart);e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new Ev(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Kv())return;const i=new Ev(t),r=s=>{CE(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},bge={moduleName:"Touch",version:gt,beans:[Cge]},wge=class extends Be{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Oe.UP,i=e===Oe.DOWN,r=e===Oe.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(n||i)o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const u=l.get("enableRtl");o=t.rowIndex,s=(r!==u?c.allCols:[...c.allCols].reverse()).find(h=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:h}))}return s?{rowIndex:o,rowPinned:null,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Oe.UP:n=this.getCellAbove(n);break;case Oe.DOWN:n=this.getCellBelow(n);break;case Oe.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Oe.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,it(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,n=QU(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,n=oN(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const a=QU(this.beans,e);if(Wi(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a.rowIndex))??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=ri(r);const l=oN(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Wi(l)||!l.rowPinned&&!((i==null?void 0:i.isRowInPage(l.rowIndex))??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function Sge(e){return e.focusSvc.getFocusedCell()}function xge(e){return e.focusSvc.clearFocusedCell()}function Mge(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function Ege(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function Rge(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function Age(e,t,n=!1){var r;const i=(r=e.headerNavigation)==null?void 0:r.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var Tge=class extends Be{constructor(){super(),this.beanName="navigation",this.onPageDown=zU(this.onPageDown,100),this.onPageUp=zU(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=wce(this.gos,e);let a=!1;switch(n){case Oe.PAGE_HOME:case Oe.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case Oe.LEFT:case Oe.RIGHT:case Oe.UP:case Oe.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case Oe.PAGE_DOWN:case Oe.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Oe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:s}=e,{scrollFeature:o}=this.gridBodyCon;ht(i)&&!i.isPinned()&&o.ensureColumnVisible(i),ht(t)&&o.ensureIndexVisible(t,n),e.isAsync||o.ensureIndexVisible(r);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const t=this.beans,n=bF(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,a=r.getPixelOffset(),l=n.top+i,c=s.getRowIndexAtPixel(l+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=bF(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+o);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),c=r.getRow(e.rowIndex),u=n?(c==null?void 0:c.rowHeight)-s-l:s-l,d=(c==null?void 0:c.rowTop)+u;let h=r.getRowIndexAtPixel(d+l);if(h===e.rowIndex){const m=n?-1:1;t=h=e.rowIndex+m}let p;n?(p="bottom",h<o&&(h=o),t<o&&(t=o)):(p="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(h))&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const u=c.rowHeight??0;if(a+u>i)break;a+=u}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=bF(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){const t=e===Oe.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,s=n.allCols,o=t?i.getFirstRow():i.getLastRow(),a=r.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||ey(r)?rw(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof $M&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||rw(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=pb(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,n){let i=e.editing;if(!i&&e instanceof $M){const o=e.rowCtrl;o&&(i=o.editing)}let r;return i?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,n):r=this.moveToNextEditingCell(e,t,n):r=this.moveToNextCellNotEditing(e,t,n),r===null?r:r||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var s;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const r=this.findNextCellToFocusOn(i,t,!0);return r===!1?null:r==null?!1:((s=this.beans.editSvc)==null||s.startEditing(r,null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.cellPosition,r=this.findNextCellToFocusOn(i,t,!0);if(r===!1)return null;if(r==null)return!1;const s=r.cellPosition,o=this.isCellEditable(i),a=this.isCellEditable(s),l=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned,{editSvc:c,rowEditSvc:u}=this.beans;if(o&&(c==null||c.setFocusOutOnEditor(e)),!l){const d=e.rowCtrl;c==null||c.stopRowEditing(d);const h=r.rowCtrl;u==null||u.startEditing(h,void 0,void 0,n)}return a?(c==null||c.setFocusInOnEditor(r),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let r;if(e instanceof cN){if(r={...e.getRowPosition(),column:t?i[0]:ri(i)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(r.column=o.column)}}else r=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(r,t,!1);if(s===!1)return null;if(s instanceof $M)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return ht(s)}findNextCellToFocusOn(e,t,n){let i=e;const r=this.beans,{cellNavigation:s,gos:o,focusSvc:a,rowRenderer:l,rangeSvc:c}=r;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=s.getNextTabbedCell(i,t);const u=o.getCallback("tabToNextCell");if(ht(u)){const m=u({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(m===!0)i=e;else{if(m===!1)return!1;i={rowIndex:m.rowIndex,column:m.column,rowPinned:m.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const p=pd(r);return a.focusHeaderPosition({headerPosition:{headerRowIndex:p+i.rowIndex,column:i.column},fromCell:!0}),null}const d=o.get("editType")==="fullRow";if(n&&!d&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const h=pb(r,i);if(!h){const p=l.getRowByPosition(i);if(!p||!p.isFullWidth()||n)continue;return{...p.getRowPosition(),column:i==null?void 0:i.column}}if(!s.isSuppressNavigable(h.column,h.rowNode))return h.setFocusedCellPosition(i),c==null||c.setRangeToCell(i),h}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)c.get("enableRtl")?t===Oe.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Oe.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),s=Wi(r);if(s&&e&&e.key===Oe.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const d=c.getCallback("navigateToNextCell");if(ht(d)){const p=d({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});ht(p)?r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:r=null}}if(!r)return;if(r.rowIndex<0){const d=pd(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:d+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const u=this.getNormalisedPosition(r);u?this.focusPosition(u):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=pb(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=r.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?ri(o):o[0])};this.focusPosition(c);const u=t??(l!=null&&Ece(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!sN(this.beans,e)}getLastCellOfColSpan(e){const t=pb(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:ri(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=N9(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&(n==null?void 0:n.sticky),{scrollFeature:r}=this.gridBodyCon;!i&&Wi(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function bF(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Dge={moduleName:"KeyboardNavigation",version:gt,beans:[Tge,wge,Npe],apiFunctions:{getFocusedCell:Sge,clearFocusedCell:xge,setFocusedCell:Mge,setFocusedHeader:Age,tabToNextCell:Ege,tabToPreviousCell:Rge}},Ige=class extends Be{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},Nge=class extends Be{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Lge=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",kge=class extends Be{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(fr(n,t),wd(n,e))}},Oge=class extends Be{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=io(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=fE(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:s}=n;let o=r;!o.length&&!s||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!Qv(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new kge(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if(io(o,"print")){it(37);return}r==null||r.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const u=i.getCol(c);u&&u.getPinned()!==a&&(this.setColPinned(u,a),l.push(u))}),l.length&&(s.refresh(n),Q9(this.eventSvc,l,n)),r==null||r.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),d=t.verticalScrollShowing&&(l&&n||!l&&i)?s+c:s;e.comp.setPinnedContainerWidth(`${d}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,s=fE(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const u=0,d=[];let h=i-u-e;for(;(c<o.length||l<a.length)&&h>0;){if(l<a.length){const p=a[l++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),d.push(p)}if(c<o.length&&h>0){const p=o[c++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),d.push(p)}}return{columns:d,hasLockedPinned:r}}},Pge={moduleName:"PinnedColumn",version:gt,beans:[Oge],css:[Lge]},Fge=class extends Be{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=eo(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Is(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),c9(n,"polite"),Poe(n,"additions text"),Ooe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(ml(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},_ge={moduleName:"Aria",version:gt,beans:[Fge]};function Bge(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function Gge(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function zge(e){var t;(t=e.overlays)==null||t.hideOverlay()}var Hge=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",Vge={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},s7=class extends $i{constructor(){super(Vge),this.eOverlayWrapper=At,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(Hge)}handleKeyDown(e){if(e.key!==Oe.TAB||e.defaultPrevented||Zh(e))return;const t=this.beans;if(Hy(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:ri(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=rw(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=nI;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new v4(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=ir(this.beans);r&&!I9(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{var a;(a=s.refresh)==null||a.call(s,zt(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&my(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ml(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=ir(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},Uge={selector:"AG-OVERLAY-WRAPPER",component:s7},Wge=class extends Be{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Ds(this.gos),this.isServerSide=!this.isClientSide&&Gy(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){it(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return Uge}getOverlayWrapperCompClass(){return s7}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Ole(this.beans.userCompFactory,zt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Ple(this.beans.userCompFactory,zt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var r;const i=(e==null?void 0:e.newAgStackInstance())??null;(r=this.eWrapper)==null||r.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},jge={moduleName:"Overlay",version:gt,userComponents:{agLoadingOverlay:kue,agNoRowsOverlay:Pue},apiFunctions:{showLoadingOverlay:Bge,showNoRowsOverlay:Gge,hideOverlay:zge},beans:[Wge]},$ge=class extends Be{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=$oe(),fy(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;fy(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},Yge=400,Kge=class extends Be{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Cg(this.gos)?n():i()}),Cg(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=io(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new qge(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){var r;const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!((r=this.beans.spannedRowRenderer)==null?void 0:r.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=io(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var r;const i=(r=n.getCellCtrl(e,!0))==null?void 0:r.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:r,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i==null||i.forEachPinnedRow(t,(l,c)=>{const u=e[c];u&&i.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new cN(l,r,!1,!1,s)});const a=(t==="top"?i==null?void 0:i.getPinnedTopRowCount():i==null?void 0:i.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var n,i;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=s=>{const o=s[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var a;this.getLockOnRefresh();const t=(a=this.beans.focusSvc)==null?void 0:a.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Mb(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const l=s.extraTopHeight+s.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(lg(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:pd(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(zt(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=oN(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const r=this.getRowByPosition(i);if(r!=null&&r.isAlive())return{...r.getRowPosition(),column:e.column};i=oN(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=K_(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return q_(r,t)})}getCellCtrls(e,t){let n;ht(t)&&(n={},t.forEach(r=>{const s=this.colModel.getCol(r);ht(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let r;const s=this.stickyRowFeature;s&&(r=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const u=s.extraTopHeight+s.extraBottomHeight;u&&this.updateContainerHeights(u)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(i&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){const u=t==null?void 0:t.getFocusCellToUseAfterRefresh();r!=null&&u==null&&(n==null||n.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){var o,a;const t=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)t.push(l);const n=this.beans.pagination,i=(a=(o=this.beans.focusSvc)==null?void 0:o.getFocusedCell())==null?void 0:a.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const r=l=>{const c=l.rowNode.rowIndex;c==null||c===i||(c<this.firstRenderedRow||c>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(l)&&t.push(c)};for(const l of Object.values(this.rowCtrlsByRowIndex))r(l);if(e)for(const l of Object.values(e))r(l);t.sort((l,c)=>l-c);const s=[];for(let l=0;l<t.length;l++){const c=t[l],u=this.rowModel.getRow(c);u&&!u.sticky&&s.push(c)}return s}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;(r==null?void 0:r.active)&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=K_(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!q_(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),ht(r)&&ht(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),ht(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),Yge))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Xv(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const u=this.getRowBufferInPixels(),d=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation");let p=!1,m,v;do{const R=t.getPixelOffset(),{pageFirstPixel:A,pageLastPixel:T}=t.getCurrentPagePixelRange(),L=e.divStretchOffset,O=d.getVScrollPosition(),F=O.top,H=O.bottom;h?(m=A+L,v=T+L):(m=Math.max(F+R-u,A)+L,v=Math.min(H+R+u,T)+L),this.firstVisibleVPixel=Math.max(F+R,A)+L,this.lastVisibleVPixel=Math.min(H+R,T)+L,p=this.ensureAllRowsInRangeHaveHeightsCalculated(m,v)}while(p);let y=n.getRowIndexAtPixel(m),C=n.getRowIndexAtPixel(v);const S=t.getFirstRow(),x=t.getLastRow();y<S&&(y=S),C>x&&(C=x),i=y,r=C}const s=io(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>a&&(r=i+a);const l=i!==this.firstRenderedRow,c=r!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Sf(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const n=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),i=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),s=e.editing,o=i.detail;return r||s||o?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,n){var o,a;const i=((o=this.cachedRowCtrls)==null?void 0:o.getRow(e))??null;if(i)return i;const r=n&&!this.printLayout&&!!((a=this.beans.animationFrameSvc)!=null&&a.active);return new cN(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},qge=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],tc(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],tc(this.entriesList,e)}getEntries(){return this.entriesList}};function K_(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function q_(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Zge=class extends Be{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=ld(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=ld(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(i,a.column),u=this.getValue(r,a.column);let d;const h=this.getComparator(a,i);if(h?d=h(c,u,i,r,l):d=tae(c,u,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(L9(s,i.isPivotActive())){const d=(a=e.allLeafChildren)==null?void 0:a[0];return d?n.getValue(t,d,!1):void 0}const u=r==null?void 0:r.getShowRowGroupCol(t.getId());return u?(l=e.groupData)==null?void 0:l[u.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Xge(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var o7={moduleName:"Sort",version:gt,beans:[zpe,Zge],apiFunctions:{onSortChanged:Xge},userComponents:{agSortIndicator:I4},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Qge=class extends Be{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),fy(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Rb(e.source))}}};function Jge(e){var t;(t=e.valueCache)==null||t.expire()}function eme(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Wi(s))return null;const o=e.valueSvc.getValueForDisplay(s,i).value;return r?e.valueSvc.formatValue(s,i,o)??Ew(o):o}var tme="paste",nme=class extends Be{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Ds(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===tme||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],s=this.clientSideRowModel,o=s==null?void 0:s.rootNode;if(o&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new bE(a,o);l.addParentNode(i.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{r.push(c),c.sibling&&r.push(c.sibling)})}n.refreshCells({rowNodes:r})}},ime=class extends Be{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);bi(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return bi(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},rme=class extends Be{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},sme={moduleName:"ValueCache",version:gt,beans:[rme],apiFunctions:{expireValueCache:Jge}},ome={moduleName:"Expression",version:gt,beans:[ime]},ame={moduleName:"ChangeDetection",version:gt,beans:[nme]},lme={moduleName:"CellApi",version:gt,apiFunctions:{getCellValue:eme}},cme=class extends Be{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Gy(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1){const{showRowGroupColValueSvc:r}=this.beans,s=!e&&t.group,o=e==null?void 0:e.colDef.showRowGroup,a=!this.isTreeData||t.footer;if(r&&a&&(s||o)){const m=r.getGroupValue(t,e);if(m==null)return{value:null,valueFormatted:null};if(!n)return{value:m.value,valueFormatted:null};const v=r.formatAndPrefixGroupColValue(m,e,i);return{value:m.value,valueFormatted:v}}if(!e)return{value:t.key,valueFormatted:null};const l=t.leafGroup&&this.colModel.isPivotMode(),c=t.group&&t.expanded&&!t.footer&&!l,u=this.gos.get("groupSuppressBlankHeader")||!t.sibling,d=c&&!u,h=this.getValue(e,t,d),p=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:h,valueFormatted:p?this.formatValue(e,t,h):null}}getValue(e,t,n=!1){var m;if(this.initialised||this.init(),!t)return;const i=e.getColDef(),r=i.field,s=e.getColId(),o=t.data;let a;const l=i.showRowGroup;if(typeof l=="string"&&(((m=this.beans.rowGroupColsSvc)==null?void 0:m.getColumnIndex(l))??-1)>t.level)return null;const c=typeof l!="string"||!t.group,u=t.groupData&&s in t.groupData,d=!n&&t.aggData&&t.aggData[s]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&d)a=t.aggData[s];else if(this.isTreeData&&i.valueGetter)a=this.executeValueGetter(i.valueGetter,o,e,t);else if(this.isTreeData&&r&&o)a=jM(o,r,e.isFieldContainsDots());else if(u)a=t.groupData[s];else if(d)a=t.aggData[s];else if(i.valueGetter){if(!c)return a;a=this.executeValueGetter(i.valueGetter,o,e,t)}else if(p)a=jM(o,t.field,e.isFieldContainsDots());else if(r&&o&&!h){if(!c)return a;a=jM(o,r,e.isFieldContainsDots())}if(this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const v=a.substring(1);a=this.executeValueGetter(v,o,e,t)}return a}parseValue(e,t,n,i){var o;const r=e.getColDef(),s=r.valueParser;if(ht(s)){const a=zt(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(a):(o=this.expressionSvc)==null?void 0:o.evaluate(s,a)}return n}getDeleteValue(e,t){return ht(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){let s=null,o;const a=e.getColDef();if(i?o=i:r&&(o=a.valueFormatter),o){const l=zt(this.gos,{value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?s=o(l):s=this.expressionSvc?this.expressionSvc.evaluate(o,l):null}else if(a.refData)return a.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,i){var u,d;const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;Wi(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(Wi(s)&&Wi(o))return it(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return it(135),!1;const a=zt(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(ht(o)?typeof o=="function"?l=o(a):l=(u=this.expressionSvc)==null?void 0:u.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(d=this.valueCache)==null||d.onDataChanged();const c=this.getValue(r,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(r=o[a]===n,r||(o[a]=n)):o=o[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o}executeValueGetterWithoutValueCache(e,t,n,i){var o;const r=zt(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let s;return typeof e=="function"?s=e(r):s=(o=this.expressionSvc)==null?void 0:o.evaluate(e,r),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const s=zt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&it(121)),r}},ume={moduleName:"CommunityCore",version:gt,beans:[Fpe,Nde,Mfe,rle,$ge,Ghe,Ipe,cge,tle,Nge,Ige,Kge,cme,Ope,Dpe,Ppe,Rfe,Qge,Cfe,bfe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Lde,destroy:kde,isDestroyed:Ode,getGridOption:Pde,setGridOption:Fde,updateGridOptions:F$,isModuleRegistered:_de},dependsOn:[gfe,vhe,Mhe,o7,gge,Hhe,mge,jge,ame,yge,Dge,Pge,_ge,bge,xfe,mfe,ome]};function a7(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e;let s=n.map((l,c)=>({value:l,relevance:dme(t,l),idx:c}));if(s.sort((l,c)=>c.relevance-l.relevance),i&&(s=s.filter(l=>l.relevance!==0)),s.length>0&&r&&r>0){const c=s[0].relevance*r;s=s.filter(u=>c-u.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function dme(e,t){if(e===t)return 1e3;const n=e.length,i=t.length;if(n===0||i===0)return 0;const r=e.toLocaleLowerCase(),s=t.toLocaleLowerCase(),o=s.indexOf(r);if(o!==-1)return 980-o*2;if([...r].filter(d=>s.includes(d)).length===0)return 0;let l=Array.from({length:i+1},(d,h)=>h);for(let d=0;d<n;d++){const h=[d+1];for(let p=0;p<i;p++){const m=l[p+1]+1,v=h[p]+1;let y=l[p]+(e[d]!==t[p]?1:0);i>10&&p>i/2&&(y+=1),d>0&&p>0&&e[d-1]===t[p-1]&&(y-=4),h.push(Math.min(m,v,y))}l=h}const c=Math.round(l[i]),u=Math.max(1,1e3-c*30);return Math.max(1,u)}var l7={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},wF=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],hme={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:wF,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...wF,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...wF,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},fme={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function pme(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=hme[i];r?r.forEach(s=>{const o=fme[s];(!o||o===t)&&n.push(s)}):n.push(i)}),n}var c7=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,gme=e=>{const t=e.map(i=>`import { ${ZM(i)} } from '${l7[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>ZM(i,!0)).join(", ")} ]); 

For more info see: ${xb}/modules/`};function ZM(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function mme(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>l7[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function u7({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var E3=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s,isUmd:o})=>{const a=pme(t,r),l=typeof e=="string"?e:bme[e];if(o)return mme(l,a);const c=a.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),u=c.length>0?`${c.map(h=>ZM(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(h=>ZM(h)).join(", "):ZM(a[0])} is not registered${n?" for gridId: "+i:""}. ${u} Check if you have registered the module:
`}
${gme(a)}`+(s?` 

${s}`:"")},R3=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,vme=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,yme={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${vme(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],o=a7({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${xb}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:E3,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${xb}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>R3("IntegratedChartsModule"),258:()=>R3("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>E3({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Ib[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${xb}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>c7(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:u7,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled."};function Cme(e,t){const n=yme[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${E9(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var bme={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},N4=class Rv{static applyGlobalGridOptions(t){if(!Rv.gridOptions)return{...t};let n={};return oa(n,Rv.gridOptions,!0,!0),Rv.mergeStrategy==="deep"?oa(n,t,!0,!0):n={...n,...t},Rv.gridOptions.context&&(n.context=Rv.gridOptions.context),t.context&&(Rv.mergeStrategy==="deep"&&n.context&&oa(t.context,n.context,!0,!0),n.context=t.context),n}};N4.gridOptions=void 0;N4.mergeStrategy="shallow";var d7=N4;function wme(e){var t;return(t=d7.gridOptions)==null?void 0:t[e]}var Sme=1,xme=class{create(e,t,n,i,r,s){const o=d7.applyGlobalGridOptions(t),a=o.gridId??String(Sme++),l=this.getRegisteredModules(r,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(e,o,r);if(!c)return;const d={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:Ade,beanDestroyComparator:Tde,derivedBeans:[Ede],destroyCallback:s},h=new Xle(d);return this.registerModuleFeatures(h,l),n(h),h.getBean("syncSvc").start(),i&&i(h),h.getBean("gridApi")}getRegisteredModules(e,t,n){var i;return yE(ume,void 0,!0),(i=e==null?void 0:e.modules)==null||i.forEach(r=>yE(r,t)),Wle(t,A3(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const s=r.apiFunctions;s&&Object.keys(s).forEach(a=>{i==null||i.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Wi(i)&&(i=new O$);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=A3(e),s=i[r];if(!s){AM(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!Yle()){AM(272,void 0,c7());return}if(!e){const a=Object.entries(i).filter(([l,c])=>B_(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==r){const u={moduleName:c,rowModelType:l};AM(275,u,u7(u));return}}}if(!B_(s,n,r)){AM(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:s,gridScoped:f4(),gridId:n,rowModelType:r},`Missing module ${s}Module for rowModelType ${r}.`);return}const o=new Set;return t.forEach(a=>{var l;return(l=a.beans)==null?void 0:l.forEach(c=>o.add(c))}),Array.from(o)}};function A3(e){return e??"clientSide"}function Vd(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function DL(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function h7(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Mme=class extends Be{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});const n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??r}}};function Eme(e,t=!1){const n=[],i=[],r=[],s=[],o=[],a=[],l=[],c=[],u=[];let d=0;for(let h=0;h<e.length;h++){const{colId:p,sort:m,sortIndex:v,rowGroup:y,rowGroupIndex:C,aggFunc:S,pivot:x,pivotIndex:R,pinned:A,hide:T,width:L,flex:O}=e[h];u.push(p),m&&(n[v??d++]={colId:p,sort:m}),y&&(i[C??0]=p),typeof S=="string"&&r.push({colId:p,aggFunc:S}),x&&(s[R??0]=p),A&&(A==="right"?a:o).push(p),T&&l.push(p),(O!=null||L)&&c.push({colId:p,flex:O??void 0,width:L})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function Rme(e){const t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var Ame=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t==null||t.forEach(s=>{this.createMethod(r,s,!0)}),n==null||n.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&it(49,{methodName:t}),null)}}},Tme={tag:"div",cls:"ag-tooltip"},Dme=class extends Dw{constructor(){super(Tme)}init(e){const{value:t}=e;this.getGui().textContent=Ew(t)}};function Ime(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Nme=class extends Be{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Lme=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&(!r.rowGroupColumn||e.isRowGroupDisplayed(r.rowGroupColumn.getColId())))return{value:this.processRowGroupCallback(zt(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(zt(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r).value,type:i,parseValue:h=>this.valueSvc.parseValue(e,r,h,this.valueSvc.getValue(e,r)),formatValue:h=>this.valueSvc.formatValue(e,r,h)??h}))??""};const s=this.gos.get("treeData"),o=this.valueSvc,a=r.level===-1&&r.footer,l=t===0&&k9(this.gos,r,this.colModel.isPivotMode()),c=e.colDef.showRowGroup===!0&&(r.group||s);if(!a&&(l||c)){let h="",p=r;for(;p&&p.level!==-1;){const{value:m,valueFormatted:v}=o.getValueForDisplay(l?void 0:e,p,!0,!0);h=` -> ${v??m??""}${h}`,p=p.parent}return{value:h,valueFormatted:h}}const{value:u,valueFormatted:d}=o.getValueForDisplay(e,r,!0,!0);return{value:u??"",valueFormatted:d}}getHeaderName(e,t){return e?e(zt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function kme(e,t){const n=document.defaultView||window;if(!n){it(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var Ome={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Ta="clientSide",Xo="serverSide",HC="infinite",Pme={onGroupExpandedOrCollapsed:[Ta],refreshClientSideRowModel:[Ta],isRowDataEmpty:[Ta],forEachLeafNode:[Ta],forEachNodeAfterFilter:[Ta],forEachNodeAfterFilterAndSort:[Ta],resetRowHeights:[Ta],applyTransaction:[Ta],applyTransactionAsync:[Ta],flushAsyncTransactions:[Ta],getBestCostNodeSelection:[Ta],getServerSideSelectionState:[Xo],setServerSideSelectionState:[Xo],applyServerSideTransaction:[Xo],applyServerSideTransactionAsync:[Xo],applyServerSideRowData:[Xo],retryServerSideLoads:[Xo],flushServerSideAsyncTransactions:[Xo],refreshServerSide:[Xo],getServerSideGroupLevelState:[Xo],refreshInfiniteCache:[HC],purgeInfiniteCache:[HC],getInfiniteRowCount:[HC],isLastRowIndexKnown:[HC,Xo],expandAll:[Ta,Xo],collapseAll:[Ta,Xo],onRowHeightChanged:[Ta,Xo],setRowCount:[HC,Xo],getCacheBlockState:[HC,Xo]},Fme={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function _me(e,t,n){const i=Fme[e];if(i){const{version:s,new:o,old:a,message:l}=i,c=a??e;return(...u)=>{const d=o?`Please use ${o} instead. `:"";return WM(`Since ${s} api.${c} is deprecated. ${d}${l??""}`),t.apply(t,u)}}const r=Pme[e];return r?(...s)=>{const o=n.rowModel.getType();if(!r.includes(o)){Sb(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var Bme={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1},Gme={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},zme=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Hme=class extends Be{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,nae(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Ome[t]&&it(22,{key:t})}processGridOptions(e){this.processOptions(e,oge())}validateApiFunction(e,t){return _me(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=Ib[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):it(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}checkRowEvents(e){Ume.has(e)&&it(10,{eventType:e})}validateIcon(e){if(zme.has(e)&&it(43,{iconName:e}),Bme[e])return;const t=Gme[e];if(t){bi(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:f4(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}it(134,{iconName:e})}isProvidedUserComp(e){return!!Ib[e]}validateColDef(e){this.processOptions(e,$pe())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],r,o,a);const l=new Set;Object.keys(e).forEach(u=>{const d=i[u];if(d){const{message:S,version:x}=d;l.add(`As of v${x}, ${String(u)} is deprecated. ${S??""}`)}const h=e[u];if(h==null||h===!1)return;const p=n[u];if(!p)return;const{dependencies:m,validate:v,supportedRowModels:y,expectedType:C}=p;if(C){const S=typeof h;if(S!==C){l.add(`${String(u)} should be of type '${C}' but received '${S}' (${h}).`);return}}if(y){const S=this.gridOptions.rowModelType??"clientSide";if(!y.includes(S)){l.add(`${String(u)} is not supported with the '${S}' row model. It is only valid with: ${y.join(", ")}.`);return}}if(m){const S=this.checkForRequiredDependencies(u,m,e);if(S){l.add(S);return}}if(v){const S=v(e,this.gridOptions,this.beans);if(S){l.add(S);return}}}),l.size>0&&l.forEach(u=>{WM(u)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const s=["__ob__","__v_skip","__metadata__"],o=Vme(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let u=`invalid ${i} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(u+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),WM(u)}if(a.length>0&&r){const l=this.beans.frameworkOverrides.getDocLink(r);WM(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return Cme(e,t)}};function Vme(e,t,n){const i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=a7({inputValue:s,allSuggestions:n}).values),i}var Ume=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Wme={moduleName:"Validation",version:gt,beans:[Hme]};function f7(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var jme=class extends Be{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,f7(i)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},r=s=>i(s,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},$me=class extends x4{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const s=CR(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return zt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Yl("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Tw(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();xL(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(ir(t)===this.eGui)return;const r=Hy(t,this.eGui,null,e.shiftKey);if(r){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Oe.UP:case Oe.DOWN:case Oe.LEFT:case Oe.RIGHT:if(t)return;gy(e);case Oe.ENTER:t&&my(this.eGui)&&e.preventDefault();break;case Oe.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&qv(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,s=!!(r&&r.key===Oe.TAB);if(r&&s){const o=r.shiftKey;my(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new S4(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!al(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;s.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var s;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(s=this.beans.filterManager)==null?void 0:s.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!i?this.updateCompDetails(e,i,n):r.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(i=>{i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Yme(e,t){var i;const n=e.colModel.getCol(t);if(!n){bi(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:n,positionBy:"auto"})}function Kme(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var qme={moduleName:"SharedMenu",version:gt,beans:[Nue],apiFunctions:{showColumnMenu:Yme,hidePopupMenu:Kme}},Zme=0,Xme=200,Qme=class extends Be{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const u=this.keepXYWithinBounds(n,o.top-a.top,0),d=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${d}px`,l=!0);const p=a.right-a.left-d;let m;return this.gos.get("enableRtl")?(m=y(),m<0&&(m=v(),this.setAlignedStyles(n,"left")),m>p&&(m=0,this.setAlignedStyles(n,"right"))):(m=v(),m>p&&(m=y(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:u};function v(){return o.right-a.left-2}function y(){return o.left-a.left-d}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,d=s.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(s,t);const p=()=>{let m=d.left-h.left;o==="right"&&(m-=t.offsetWidth-d.width);let v;return a==="over"?(v=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?v=d.top-h.top+d.height:v=d.top-t.offsetHeight-(i||0)*2-h.top),{x:m,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:d}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(u+=i),r&&(d+=r),n&&(u=this.keepXYWithinBounds(t,u,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${u}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=wf(this.beans,t,()=>l(!0));setTimeout(()=>c(),Xme)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Is(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),C9(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=Is(this.beans),c=l.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),h=u.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),m=u===l.body,v=Math.ceil(d[o]);let C=m?(i?y9:UI)(c)+c[a]:u[r];m&&(C-=Math.abs(p[s]-h[s]));const S=C-v;return Math.min(Math.max(t,0),Math.abs(S))}addPopup(e){const t=Is(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=e;if(!t)return it(122),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,i,!!r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(n,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ht(e.style.top)||(e.style.top=`${n.top*-1}px`),ht(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),{environment:r,gos:s}=this.beans,o=zr({tag:"div"});return r.applyThemeClasses(o),o.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||hy(e,"dialog"),xL(e,t),o.appendChild(e),i.appendChild(o),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Is(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c}=e;let u=!1;const d=v=>{if(!r.contains(ir(t)))return;v.key===Oe.ESCAPE&&!Zh(v)&&m({keyboardEvent:v})},h=v=>m({mouseEvent:v}),p=v=>m({touchEvent:v}),m=(v={})=>{const{mouseEvent:y,touchEvent:C,keyboardEvent:S,forceHide:x}=v;!x&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:C},s)||u)||(u=!0,i.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",p),n.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),o&&o(y||C||S),this.removePopupFromPopupList(s))};return a&&a({hidePopup:m}),window.setTimeout(()=>{l&&n.addEventListener("keydown",d),c&&(n.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),n.addEventListener("touchstart",p),n.addEventListener("contextmenu",h))},0),m}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Zme++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=d=>parseInt(d.substring(0,d.length-1),10),a=(d,h)=>{const p=n[d]-s[d],m=o(r.style[d]);return{initialDiff:p,lastDiff:p,initial:m,last:m,direction:h}},l=a("top",0),c=a("left",1),u=this.beans.frameworkOverrides;return new Ui(d=>{u.wrapIncoming(()=>{u.setInterval(()=>{const h=t.getBoundingClientRect(),p=i.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}const v=(y,C)=>{const S=o(r.style[C]);y.last!==S&&(y.initial=S,y.last=S);const x=h[C]-p[C];if(x!=y.lastDiff){const R=this.keepXYWithinBounds(r,y.initial+y.initialDiff-x,y.direction);r.style[C]=`${R}px`,y.last=R}y.lastDiff=x};v(l,"top"),v(c,"left")},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(Rae(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=Is(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const s=[],o=[];for(const h of n)h!==r&&(h.classList.contains("ag-always-on-top")?o.push(h):s.push(h));const a=[],l=o.length,d=r.classList.contains("ag-always-on-top")||!l?[...s,...o,r]:[...s,r,...o];for(let h=0;h<=i;h++){const p=d[h];if(n[h]===d[h]||p===r)continue;p.querySelectorAll("div").forEach(v=>{v.scrollTop!==0&&a.push([v,v.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):d[h-1].insertAdjacentElement("afterend",p)}for(;a.length;){const h=a.pop();h[0].scrollTop=h[1]}}},IL={moduleName:"Popup",version:gt,beans:[Qme]},Jme=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function eve(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function tve(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function nve(e,t){var i;const n=e.colModel.getColDefCol(t);if(n)return(i=e.filterManager)==null?void 0:i.destroyFilter(n,"api")}function ive(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function rve(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function sve(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function ove(e,t,n){var i;return((i=e.filterManager)==null?void 0:i.setColumnFilterModel(t,n))??Promise.resolve()}function ave(e,t){var i;const n=e.colModel.getCol(t);if(!n){bi(12,{colKey:t});return}(i=e.menuSvc)==null||i.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var T3={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},D3=["january","february","march","april","may","june","july","august","september","october","november","december"];function lve(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var cve=class extends Be{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var i;(n.rowDataUpdated||(i=n.changedProps)!=null&&i.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i!=null&&i.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const s=[],o=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const u=e[c];s.push(mD(l.filterPromise,u)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){it(62,{colId:l});return}if(!c.isFilterAllowed()){it(63,{colId:l});return}const u=this.getOrCreateFilterWrapper(c);if(!u){it(64,{colId:l});return}s.push(mD(u.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{s.push(mD(a.filterPromise,null))});Ui.all(s).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((c,u)=>{const d=o?o[u]:null,h=a?a[u]:null;pE(d,h)||l.push(c.column)}),l.length>0&&(r==null||r.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var s;const t={},{allColumnFilters:n,initialFilterModel:i,beans:{colModel:r}}=this;if(n.forEach((o,a)=>{const l=this.getModelFromFilterWrapper(o);ht(l)&&(t[a]=l)}),!e)for(const o of Object.keys(i)){const a=i[o];ht(a)&&!n.has(o)&&((s=r.getCol(o))!=null&&s.isFilterAllowed())&&(t[o]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(it(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(it(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!P_(n),r=a=>{if(!a.isPrimary())return!0;const c=!t.isPivotActive();return!a.isValueActive()||!c?!1:t.isPivotMode()?!0:i},s=[],o=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(r(l.column)?s.push(a):o.push(a))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,i)=>this.setColFilterActive(i.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const i=n.filterPromise;i&&t.push(i.then(r=>e(r,n)))}),Ui.all(t)}doColumnFiltersPass(e,t,n){const{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i;for(let a=0;a<s.length;a++){const l=s[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){bi(91);continue}if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(i,r)=>{const s=r?n.getCol(r):e;return s?t.getValue(s,i):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(iF(n))t="agSetColumnFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(iF(n))t="agSetColumnFloatingFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),i=e.getColDef();let r;const s={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(r,a))??!0}},o=Lle(this.beans.userCompFactory,i,s,n);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a.then(l=>{r=l,t&&(t.filter=l??void 0)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return zt(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=i,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((r,s)=>{let o;r.column.isPrimary()?o=t.getColDefCol(s):o=t.getCol(s),!(o&&o===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(s))});const i=e.every(I3);e.length>0&&!i?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{I3(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=u=>{var h;const d=(h=this.getOrCreateFilterWrapper(e))==null?void 0:h.filterPromise;d!=null&&d.then(p=>{u(vE(p))})},i=e.getColDef(),r={...this.createFilterParams(e,i),filterChangedCallback:()=>n(u=>this.filterChangedCallbackFactory(u,e)())},{userCompFactory:s,frameworkOverrides:o}=this.beans,a=Gle(s,i,r);let l=Vce(o,i,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const c=zt(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return _le(s,i,c,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{var s;r&&this.isAlive()&&((s=this.beans.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(i=>{const r=!!(i!=null&&i.isFilterActive());return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),r}))??Ui.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const i=(n==null?void 0:n.source)??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return}const r=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(s,a))??!0},...r}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(vE(n))})})}getFilterInstanceImpl(e){var i;const t=this.beans.colModel.getColDefCol(e);return t?((i=this.getOrCreateFilterWrapper(t))==null?void 0:i.filterPromise)??Ui.resolve(null):Ui.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:i}=this.beans;if(i!=null&&i.isPendingInference){let a=()=>{};const l=new Promise(c=>{a=c});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const r=n.getColDefCol(e),s=r?this.getOrCreateFilterWrapper(r):null;return s?(a=>new Promise(l=>{a.then(c=>l(c))}))(mD(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const i=iF(this.gos),r=this.getLocaleTextFunc(),s=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{i&&s({comparator:lve});break}case"boolean":{s(i?{valueFormatter:o=>ht(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s(i?{valueFormatter:o=>{const a=n(o);return ht(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(o==="NaN")return r("invalidDate","Invalid Date");if(a===1&&o!=null){const l=D3[Number(o)-1];return r(l,T3[l])}return o??r("blanks","(Blanks)")}}:{isValidDate:N3});break}case"dateString":{const o=t.dateParser;s(i?{valueFormatter:a=>{const l=n(a);return ht(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=D3[Number(a)-1];return r(c,T3[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0},isValidDate:a=>typeof a=="string"&&N3(o(a))});break}case"object":{i?s({valueFormatter:o=>{const a=n(o);return ht(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function mD(e,t){return e?new Ui(n=>{e.then(i=>{typeof i.setModel!="function"&&(it(65),n()),(i.setModel(t)||Ui.resolve()).then(()=>n())})}):Ui.resolve()}function I3(e){return e.getColDef().filter==="agGroupColumnFilter"}function N3(e){return e instanceof Date&&!isNaN(e.getTime())}function uve(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function dve(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var hve=class extends Be{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){P_(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ui.resolve()).then(()=>{var s;const r={source:t,type:"filterChanged",columns:i};n&&oa(r,n),this.eventSvc.dispatchEvent(r),(s=this.colFilter)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!P_(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){it(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var i;(i=this.colFilter)==null||i.setColDefPropertiesForDataType(e,t,n)}},fve=class extends Be{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{var s;(s=this.popupSvc)==null||s.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,al(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,s="left";const o=al(this.gos);!o&&this.gos.get("enableRtl")&&(r=1,s="right");const a=o?void 0:4*r,l=o?void 0:4;this.showPopup(e,c=>{var u;(u=this.popupSvc)==null||u.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,r,s){var v;const o=e?this.createBean(new _ce(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){bi(57);return}const a=zr({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:y=>this.trapFocusWithin(y,a)}),a.appendChild(o==null?void 0:o.getGui());let l;const c=()=>o==null?void 0:o.afterGuiDetached(),u=bae(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=y=>{r3(e,!1,"contextMenu");const C=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&i&&Nd(i)){const S=l$(i);S==null||S.focus({preventScroll:!0})}c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s==null||s()},h=this.getLocaleTextFunc(),p=r&&n!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),m=(v=this.popupSvc)==null?void 0:v.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(a),anchorToElement:u,ariaLabel:p});m&&(this.hidePopup=l=m.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),r3(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Oe.TAB||e.defaultPrevented||Hy(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),my(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},pve=class extends Be{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:i}=n;return i?this.executeFilterValueGetter(i,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:s,valueSvc:o}=this.beans,a=zt(this.gos,{data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):s==null?void 0:s.evaluate(e,a)}},gve={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},mve=class extends $i{constructor(){super(gve,[AL]),this.eFloatingFilterText=At}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},p7=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(it(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:it(73)}else it(74)}getCustomOption(e){return this.customFilterOptions[e]}};function XM(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function dN(e){return e==null||typeof e=="string"&&e.trim().length===0}function vve(e){return e==="AND"||e==="OR"?e:"AND"}function yve(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function Cve(e,t){let n=e.length;return n>t&&(e.splice(t),it(78),n=t),n}var g7=class extends Hce{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&zy(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}shouldRefresh(e){var s;const t=this.getModel(),n=t?t.conditions??[t]:null,i=((s=e.filterOptions)==null?void 0:s.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(o=>i.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],it(77));const r=Cve(i,this.maxNumConditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ui.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,i=[];if(n){const s=t;i.push(...s.conditions??[])}else i.push(t);return i[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=vve(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new p7,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(it(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(it(80),n=1),n>t&&(it(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new A4);this.eTypes.push(e),e.addCss("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=zr({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new lde);e.push(i);const r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(hE(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((i,r)=>{fr(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinOperatorPanels:r,eJoinOperatorsAnd:s,eJoinOperatorsOr:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){XM(e,t,n).forEach(r=>of(r))}removeComponents(e,t,n){XM(e,t,n).forEach(r=>{of(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:i}=this;let r;if(!this.isReadOnly()){const s=this.getInputs(0)[0];s instanceof kv&&this.isConditionBodyVisible(0)?r=s.getInputElement():r=(t=i[0])==null?void 0:t.getFocusableElement()}(r??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof kv))return;const s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof kv&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof $i&&fr(e.getGui(),t)}setElementDisabled(e,t){e instanceof $i&&hE(e.getGui(),t)}attachElementOnChange(e,t){e instanceof kv&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];o!=null&&n(o,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Ui.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),s=yve(r,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}hasInvalidInputs(){return!1}},m7=class extends g7{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),s=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=r(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return dN(t);case"notBlank":return!dN(t);default:return it(76,{filterModelType:i}),!0}}},v7=class{constructor(e,t,n,i,r,s){this.alive=!0,this.context=e,this.eParent=r;const o=kle(t,n,i);o&&o.newAgStackInstance().then(a=>{var u,d;if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),(u=a==null?void 0:a.afterGuiAttached)==null||u.call(a);const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&((d=a.setDisabled)==null||d.call(a,c)),s==null||s(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){fr(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},y7=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],L4=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const i=e,s=(i.conditions??[]).map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(o,C$[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const i=e,r=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&a===0?(n(s,o),o):this.conditionToString(i,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},C7=class extends L4{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},r=n=="inRange"||i===2,s=_a(e.dateFrom),o=_a(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=s!==null?qM(s,a):"null",c=o!==null?qM(o,a):"null";return`${l}-${c}`}return s!=null?qM(s,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},L3=1e3,k3=1/0,bve=class extends m7{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=L3,this.maxValidYear=k3,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&_a(t)||null,n&&_a(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator??wve}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))it(82,{param:n});else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",L3),this.maxValidYear=t("maxValidYear",k3),this.minValidYear>this.maxValidYear&&it(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:_a(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:_a(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&it(84),this.filterModelFormatter=new C7(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},dateFilterParams:r}=this,s=new v7(n,t,r.colDef,zt(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return y7}createValueElement(){const e=zr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const r=zr({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),XM(this.eConditionPanelsFrom,e,t),XM(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){XM(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Xl(i[0])),i.length>1&&(n.dateTo=Xl(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function wve(e,t){const n=t;return n<e?-1:n>e?1:0}var b7=class extends $i{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new p7;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const i=n.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(i);this.setEditable(r)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Sve={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},xve=class extends b7{constructor(){super(Sve,[AL]),this.eReadOnlyText=At,this.eDateWrapper=At}getDefaultOptions(){return y7}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new C7(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?_a(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){fr(this.eDateWrapper,e),fr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Xl(e);this.params.parentFilterInstance(n=>{if(n){const i=_a(t);n.onFloatingFilterChanged(this.lastType||null,i)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=m4(e,this.defaultDebounceMs);return zt(this.gos,{onDateChanged:eo(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new v7(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Mve={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Eve=class extends $i{constructor(){super(Mve,[AL]),this.eDateInput=At,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&_y(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:a}=e.filterParams||{};if(s&&i&&it(85),o&&r&&it(86),s&&o){const[l,c]=[s,o].map(u=>u instanceof Date?u:_a(u));l&&c&&l.getTime()>c.getTime()&&it(87)}s?s instanceof Date?t.min=qM(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=qM(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return _a(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Xl(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},w7=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],S7=class extends L4{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e,o=s=="inRange"||n===2,a=this.formatValue.bind(this);return o?`${a(i)}-${a(r)}`:i!=null?a(i):`${s}`}};function Z_(e){const{allowedCharPattern:t}=e??{};return t??null}var Rve=class extends m7{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new S7(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return w7}setElementValue(e,t,n){const{numberFormatter:i}=this.numberFilterParams,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createValueElement(){const e=Z_(this.numberFilterParams),t=zr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new Vy({allowedCharPattern:i}):new R4);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=qh(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},x7=class extends Be{constructor(e){super(),this.params=e,this.eInput=At,this.onValueChanged=()=>{}}setupGui(e){var i;this.eInput=this.createManagedBean(new Vy((i=this.params)==null?void 0:i.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function M7(e){const t=e==null?void 0:e.trim();return t===""?e:t}var Ave={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},E7=class extends b7{constructor(){super(...arguments),this.eFloatingFilterInputContainer=At,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Ave)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=aN(e.filterParams),!r){const s=m4(e.filterParams,i),o=eo(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();ml(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Oe.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:i}=this;let r=n.getValue();i.filterParams.trimInput&&(r=M7(r),n.setValue(r,!0)),i.parentFilterInstance(s=>{s==null||s.onFloatingFilterChanged(this.lastType||null,r||null)})}setEditable(e){this.inputSvc.setEditable(e)}},Tve=class extends Be{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new R4),this.eTextInput=this.createManagedBean(new Vy),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Dve=class extends E7{init(e){var t;super.init(e),this.filterModelFormatter=new S7(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){Z_(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return w7}createFloatingFilterInputService(e){return this.allowedCharPattern=Z_(e.filterParams),this.allowedCharPattern?this.createManagedBean(new x7({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Tve)}},R7=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],A7=class extends L4{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e;return s=="inRange"||n===2?`${i}-${r}`:i!=null?`${i}`:`${s}`}},Ive=class extends g7{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new A7(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let a=qh(i.getValue());t&&this.textFilterParams.trimInput&&(a=M7(a)??null,i.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return R7}createValueElement(){const e=zr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Vy);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(h=>this.formatter(h))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(n.type==="blank")return dN(t);if(n.type==="notBlank")return!dN(t);const d={api:o,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:u};return r.some(h=>this.matcher({...d,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Nve=class extends E7{init(e){super.init(e),this.filterModelFormatter=new A7(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return R7}createFloatingFilterInputService(){return this.createManagedBean(new x7)}};function Lve(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function kve(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function Ove(e){var t;(t=e.quickFilter)==null||t.resetCache()}var Pve=class extends Be{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e==null?void 0:e.getColumns(),o=t.getColDefCols();let a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?(l=i==null?void 0:i.getPivotResultCols())==null?void 0:l.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(c=>c.isVisible()||c.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ht(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){it(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return ht(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=zt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return ht(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);ht(i)&&t.push(i)}),t.join(`
`)}},Fve={moduleName:"ClientSideRowModelFilter",version:gt,rowModels:["clientSide"],beans:[jme]},k4={moduleName:"FilterCore",version:gt,beans:[hve],apiFunctions:{isAnyFilterPresent:uve,onFilterChanged:dve},css:[Jme],dependsOn:[Fve]},T7={moduleName:"FilterValue",version:gt,beans:[pve]},NL={moduleName:"ColumnFilter",version:gt,beans:[cve,fve],dynamicBeans:{headerFilterCellCtrl:$me},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:eve,getColumnFilterInstance:tve,destroyFilter:nve,setFilterModel:ive,getFilterModel:rve,getColumnFilterModel:sve,setColumnFilterModel:ove,showColumnFilter:ave},dependsOn:[k4,IL,T7,qme]},_ve={moduleName:"CustomFilter",version:gt,userComponents:{agReadOnlyFloatingFilter:mve},dependsOn:[NL]},Bve={moduleName:"TextFilter",version:gt,dependsOn:[NL],userComponents:{agTextColumnFilter:Ive,agTextColumnFloatingFilter:Nve}},Gve={moduleName:"NumberFilter",version:gt,dependsOn:[NL],userComponents:{agNumberColumnFilter:Rve,agNumberColumnFloatingFilter:Dve}},zve={moduleName:"DateFilter",version:gt,dependsOn:[NL],userComponents:{agDateColumnFilter:bve,agDateInput:Eve,agDateColumnFloatingFilter:xve}},Hve={moduleName:"QuickFilterCore",version:gt,rowModels:["clientSide"],beans:[Pve],dependsOn:[k4,T7]},Vve={moduleName:"QuickFilter",version:gt,apiFunctions:{isQuickFilterPresent:Lve,getQuickFilter:kve,resetQuickFilter:Ove},dependsOn:[Hve]},Uve={moduleName:"ExternalFilter",version:gt,dependsOn:[k4]},DM=class{constructor(e){this.cellValueChanges=e}},SF=class extends DM{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},Wve=10,O3=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Wve,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},jve=class extends Be{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&f$(this.activeCellEdit,t),i=this.activeRowEdit!==null&&Rce(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new O3(n),this.redoStack=new O3(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof SF?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,a={rowIndex:r,rowPinned:s},l=sN(this.beans,a);l.displayed&&l.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=sN(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,a=r.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:i};s.setFocusedCell({...c,forceBrowserFocus:!0}),o==null||o.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new DM(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new DM(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new DM(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new SF(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Cg(n)?e=new SF(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new DM(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},$ve=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",Yve={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Kve=class extends Dw{constructor(){super(Yve,[E4]),this.eCheckbox=At}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=n4(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}},LL=class extends Dw{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=At}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:i}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,o=!0;t?(this.focusAfterAttached=!0,n===Oe.BACKSPACE||n===Oe.DELETE?s="":n&&n.length===1?i?o=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==Oe.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===Oe.PAGE_UP||l===Oe.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var i,r;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_y()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(r=(i=this.cellEditorInput).setCaret)==null||r.call(i)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},qve={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Zve=class{getTemplate(){return qve}getAgComponents(){return[L$]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!ht(n)&&!ht(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Xl(e,!1)}},Xve=class extends LL{constructor(){super(new Zve)}},Qve={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Jve=class{constructor(e){this.getDataTypeService=e}getTemplate(){return Qve}getAgComponents(){return[L$]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!ht(n)&&!ht(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Xl(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):_a(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Xl(e??null,!1)??void 0}},eye=class extends LL{constructor(){super(new Jve(()=>this.beans.dataTypeSvc))}},tye={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},nye=class extends Dw{constructor(){super(tye,[ude]),this.eTextArea=At}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Oe.LEFT||t===Oe.UP||t===Oe.RIGHT||t===Oe.DOWN||e.shiftKey&&t===Oe.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!ht(e)&&!ht(t.value)?t.value:t.parseValue(e)}},iye={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},rye=class{getTemplate(){return iye}getAgComponents(){return[dde]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Oe.UP||e.key===Oe.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!ht(n)&&!ht(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){_y()&&this.eInput.getInputElement().focus({preventScroll:!0})}},sye=class extends LL{constructor(){super(new rye)}},oye={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},aye=class extends Dw{constructor(){super(oye,[Sde]),this.eSelect=At,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(Wi(r)){it(58);return}this.startedByEnter=o!=null?o===Oe.ENTER:!1;let a=!1;r.forEach(d=>{const h={value:d},p=n.formatValue(e.column,null,d),m=p!=null;h.text=m?p:d,t.addOption(h),a=a||s===d}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},lye={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},cye=class{getTemplate(){return lye}getAgComponents(){return[AL]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!ht(n)&&!ht(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=ht(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},P3=class extends LL{constructor(){super(new cye)}};function uye(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function dye(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function D7(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function I7(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function hye(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function fye(e){var t;(t=e.undoRedo)==null||t.undo("api")}function pye(e){var t;(t=e.undoRedo)==null||t.redo("api")}function gye(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{var s;const r=(s=i.comp)==null?void 0:s.getCellEditor();r&&n.push(vE(r))}),n}function mye(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:i}=n;t.push(i)}}),t}function vye(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function yye(e,t){const n=e.colModel.getCol(t.colKey);if(!n){it(12,{colKey:t.colKey});return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&I7(e,t.rowIndex),D7(e,t.colKey);const s=pb(e,i);if(!s)return;const{focusSvc:o,gos:a,editSvc:l}=e,c=()=>{const d=ir(e),h=s.eGui;return d!==h&&!!(h!=null&&h.contains(d))},u=a.get("stopEditingWhenCellsLoseFocus")&&c();(u||!o.isCellFocused(i))&&o.setFocusedCell({...i,forceBrowserFocus:u,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(s,t.key)}function Cye(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function bye(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var wye={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},Sye=class extends Dw{constructor(e){super(wye),this.params=e}postConstruct(){py(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{H_(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},xye=class extends Be{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,i=null){var c;if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,i)}),!0;const r=this.createCellEditorParams(e,t,n),s=e.column.getColDef(),o=ZU(this.beans.userCompFactory,s,r),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return F3(e,!0,o),e.comp.setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:i,rowNode:r}=e,{newValue:s,newValueExists:o}=Mye(t,n),a=this.beans.valueSvc.getValueForDisplay(i,r).value;let l=!1;return o&&(l=Eye(e,a,s,r,i)),F3(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:r}=e.editCompDetails.params,s=this.createCellEditorParams(e,i,r),o=e.column.getColDef(),a=ZU(this.beans.userCompFactory,o,s);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var i,r;return(r=(i=t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:r.call(i)}))}createPopupEditorWrapper(e){return new Sye(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var s;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let r=!1;for(const o of n){const a=o.stopEditing(t);i&&!t&&!r&&a&&(r=!0)}r&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&((s=this.beans.rowEditSvc)==null||s.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(I_(i)===null){this.stopAllEditing();return}let r=e.some(s=>s.contains(i))&&h$(this.gos,i);if(!r){const s=this.beans.popupSvc;r=!!s&&(s.getActivePopups().some(o=>o.contains(i))||s.isElementWithinCustomPopup(i))}r||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.toggleCss("ag-row-inline-editing",t),n.rowComp.toggleCss("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var i;return e.comp?this.gos.get("editType")==="fullRow"?((i=this.beans.rowEditSvc)==null?void 0:i.startEditing(e.rowCtrl,t,e))??!1:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1,n=!1,i=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),n||this.navigateAfterEdit(i,e.cellPosition)}createCellEditorParams(e,t,n){const{column:i,rowNode:r,cellPosition:{rowIndex:s}}=e,{valueSvc:o,gos:a}=this.beans;return zt(a,{value:o.getValueForDisplay(i,r).value,eventKey:t,column:i,colDef:i.getColDef(),rowIndex:s,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:l=>o.parseValue(i,r,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var i;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?Oe.UP:Oe.DOWN;(i=this.beans.navigation)==null||i.navigateToNextCell(null,r,t,!1)}}};function F3(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function Mye(e,t){const n={newValueExists:!1};if(e)return n;const i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}function Eye(e,t,n,i,r){if(n===t)return!1;e.suppressRefreshCell=!0;const s=i.setDataValue(r,n,"edit");return e.suppressRefreshCell=!1,s}var Rye=class extends Be{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,i=null){if(e.editing)return!1;let r=!0,s=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===n;l?r=(o==null?void 0:o.startEditing(a,t,l,i))??!1:o==null||o.startEditing(a,null,l,i),s||(s=a.editing)}),s&&this.setEditing(e,!0),r}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.toggleCss("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},kg={moduleName:"EditCore",version:gt,beans:[xye,Rye],apiFunctions:{getCellEditorInstances:gye,getEditingCells:mye,stopEditing:vye,startEditingCell:yye},dependsOn:[IL],css:[$ve]},Aye={moduleName:"UndoRedoEdit",version:gt,beans:[jve],apiFunctions:{undoCellEditing:fye,redoCellEditing:pye,getCurrentUndoSize:Cye,getCurrentRedoSize:bye},dependsOn:[kg]},Tye={moduleName:"TextEditor",version:gt,userComponents:{agCellEditor:P3,agTextCellEditor:P3},dependsOn:[kg]},Dye={moduleName:"NumberEditor",version:gt,userComponents:{agNumberCellEditor:{classImp:sye,params:{suppressPreventDefault:!0}}},dependsOn:[kg]},Iye={moduleName:"DateEditor",version:gt,userComponents:{agDateCellEditor:Xve,agDateStringCellEditor:eye},dependsOn:[kg]},Nye={moduleName:"CheckboxEditor",version:gt,userComponents:{agCheckboxCellEditor:Kve},dependsOn:[kg]},Lye={moduleName:"SelectEditor",version:gt,userComponents:{agSelectCellEditor:aye},dependsOn:[kg]},kye={moduleName:"LargeTextEditor",version:gt,userComponents:{agLargeTextCellEditor:nye},dependsOn:[kg]},Oye={moduleName:"CustomEditor",version:gt,dependsOn:[kg]},Pye=class extends Be{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Rb(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Gae(e))}createColumns(e,t){var h,p;const n=()=>{var m;QI(this.beans,(m=this.columns)==null?void 0:m.tree),this.columns=null},i=e.treeDepth,s=(((h=this.columns)==null?void 0:h.treeDepth)??-1)==i,o=this.generateSelectionCols();if(Bae(o,((p=this.columns)==null?void 0:p.list)??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=(l==null?void 0:l.findDepth(e.tree))??0,u=(l==null?void 0:l.balanceTreeForAutoCols(o,c))??[];this.columns={list:o,tree:u,treeDepth:c,map:{}},t(m=>{if(!m)return null;const v=m.filter(y=>!Rw(y));return[...o,...v]})}updateColumns(e){var n;const t=Rb(e.source);(n=this.columns)==null||n.list.forEach(i=>{const r=this.createSelectionColDef(e.currentValue);i.setColDef(r,null,t),Zc(this.beans,{state:[{...r,colId:i.getColId()}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>$9(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,a;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Zv(e))return!1;const i=(((a=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:a.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!Eb(n),s=QD(n);return r||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,c,u){const d=c.isSelected(),h=u.isSelected();return d===h?0:d?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:U9,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new ML(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Eb(t):void 0,r=e&&typeof e!="string"?Eb(e):void 0,s=i!==r,o=t&&typeof t!="string"?QD(t):void 0,a=e&&typeof e!="string"?QD(e):void 0,l=o!==a,c=KI(e),u=KI(t);(s||l||c!==u)&&this.beans.colModel.refreshAll(n)}destroy(){var e;QI(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e,t,n){var l,c;if(!((l=this.columns)!=null&&l.list.length))return;const i=e.length+t.length+n.length;if(i===0)return;const r=this.columns.list[0];if(!r.isVisible())return;const s=()=>{let u;switch(r.pinned){case"left":case!0:u=e;break;case"right":u=n;break;default:u=t}u&&tc(u,r)};(((c=this.beans.rowNumbersSvc)==null?void 0:c.getColumn(W9))?2:1)===i&&s()}};function Fye(e,t){var o;if(!t.nodes.every(a=>a.rowPinned&&!wR(a)?(it(59),!1):a.id===void 0?(it(60),!1):!0))return;const{nodes:i,source:r,newValue:s}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:i,source:r??"api",newValue:s})}function _ye(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:n,selectAll:t})}function Bye(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:n,selectAll:t})}function Gye(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function zye(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Hye(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Vye(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Uye(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function Wye(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var jye=class extends ade{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=qI(e),this.groupSelectsDescendants=mE(e),this.groupSelectsFiltered=XI(e)==="filteredDescendants",this.masterSelectsDetail=UU(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=mE(e),n=qI(e),i=XI(e)==="filteredDescendants";this.masterSelectsDetail=UU(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s,keepDescendants:o=!1}){var l;if(!Zv(this.gos)&&e)return it(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return it(130),0;let a=0;for(let c=0;c<i.length;c++){const u=i[c],d=VC(u),h=this.groupSelectsFiltered&&d.group;if(d.rowPinned&&!wR(d)){it(59);continue}if(d.id===void 0){it(60);continue}h||this.selectRowNode(d,e,r,s)&&(this.detailSelection.delete(d.id),a++),this.groupSelectsDescendants&&((l=d.childrenAfterGroup)!=null&&l.length)&&(a+=this.selectChildren(d,e,s))}return n||(i.length===1&&s==="api"&&this.selectionCtx.setRoot(VC(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(VC(i[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{const s=VC(r);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!Ds(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new bE(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const i=new Map;let r=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!Yye(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new vy(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Ds(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Ds(this.gos);let i=!1;const r=s=>{const o=this.selectRowNode(VC(s),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){bi(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return N7(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){const s=o=>{var a;n(o),(a=o.childrenAfterFilter)==null||a.forEach(s)};s(r);return}this.groupSelectsDescendants||n(r)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Zv(t)){it(132);return}if(mae(t)&&!ZI(t)){it(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let s=!1;if(this.getNodesToSelect(r).forEach(o=>{const a=this.selectRowNode(VC(o),!0,void 0,i);s||(s=a)}),n.selectAll=!0,Ds(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);s||(s=o)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){bi(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!Ds(e)}updateSelectable(e){var l;const{gos:t,rowModel:n}=this.beans;if(!Zv(t))return;const i="selectableChanged",r=e!==void 0,s=Ds(t)&&this.groupSelectsDescendants,o=[],a=c=>{var d;if(r&&!c.group)return;if(s&&c.group){const h=((d=c.childrenAfterGroup)==null?void 0:d.some(p=>p.selectable))??!1;this.setRowSelectable(c,h,!0);return}!this.updateRowSelectable(c,!0)&&c.isSelected()&&o.push(c)};if(s){if(e===void 0){const c=n.rootNode;e=c?new bE(!1,c):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,i))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var s,o;if(!this.masterSelectsDetail)return;const n=(o=(s=e.detailNode)==null?void 0:s.detailGridInfo)==null?void 0:o.api;if(!n)return;const i=$ye(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const a=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!ZI(t)){it(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const s of i){const o=n.getRowNode(s);o&&r.push(o)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function VC(e){return wR(e)?e.pinnedSibling:e.footer?e.sibling:e}function $ye(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),N7(t,n)}function N7(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function Yye(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var Kye={moduleName:"SharedRowSelection",version:gt,beans:[Pye],apiFunctions:{setNodesSelected:Fye,selectAll:_ye,deselectAll:Bye,selectAllFiltered:Gye,deselectAllFiltered:zye,selectAllOnCurrentPage:Hye,deselectAllOnCurrentPage:Vye,getSelectedNodes:Uye,getSelectedRows:Wye}},qye={moduleName:"RowSelection",version:gt,rowModels:["clientSide","infinite","viewport"],beans:[jye],dependsOn:[Kye]};function Zye(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function Xye(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function Qye(e){const t=Vd(e),n=h7(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Jye(e,t,n){var s;const i=h7(e);if(i){if(((s=e.rowGroupColsSvc)==null?void 0:s.columns.length)===0){if(t<0){bi(238);return}i.setRowCount(t,n);return}bi(28);return}const r=DL(e);if(r){r.setRowCount(t,n);return}}function e0e(e){var t;return Gy(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function t0e(e){return e.rowModel.isLastRowIndexKnown()}var n0e={moduleName:"CsrmSsrmSharedApi",version:gt,apiFunctions:{expandAll:Zye,collapseAll:Xye,onRowHeightChanged:Qye}},i0e={moduleName:"SsrmInfiniteSharedApi",version:gt,apiFunctions:{setRowCount:Jye,getCacheBlockState:e0e,isLastRowIndexKnown:t0e}},r0e=class extends Be{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{var s;if(!i){bi(18),t||bi(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?(s=r.current)==null?void 0:s.api:(r.api||bi(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":it(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var u;const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(p=>({colId:p.colId}));Zc(i,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));Zc(i,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));Zc(i,{state:h},"alignedGridChanged")}break;case"columnResized":{const d=e,h={};a.forEach(p=>{h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),(u=d.flexColumns)==null||u.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),r==null||r.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},s0e={moduleName:"AlignedGrids",version:gt,beans:[r0e]},o0e=class extends nde{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},xF=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function a0e(e){if(Wi(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function L7(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),a0e(e)}var l0e=class extends Be{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=ht(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>ld(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,i,r,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:u,rowRenderer:d,showRowGroupCols:h}=e,p=a.get("groupMaintainOrder"),m=l.getCols().some(x=>x.isRowGroupActive()),v=l.isPivotMode(),y=a.getCallback("postSortRows");let C=!1;const S=x=>{var L,O;const R=v&&x.leafGroup,A=p&&m&&!x.leafGroup&&!o;let T;if(A){const F=(L=c==null?void 0:c.columns)==null?void 0:L[x.level+1],H=(F==null?void 0:F.getSort())===null,W=x.childrenAfterAggFilter.slice(0);if(x.childrenAfterSort&&!H){const $={};x.childrenAfterSort.forEach((Z,ie)=>{$[Z.id]=ie}),W.sort((Z,ie)=>($[Z.id]??0)-($[ie.id]??0))}T=W}else!n||R?T=x.childrenAfterAggFilter.slice(0):i&&r?T=c0e(u,x,r,s,t):T=u.doFullSort(x.childrenAfterAggFilter,t);if(C||(C=((O=x.childrenAfterSort)==null?void 0:O[0])!==T[0]),x.childrenAfterSort=T,L7(x),y){const F={nodes:x.childrenAfterSort};y(F)}};if(s==null||s.forEachChangedNodeDepthFirst(S),C&&this.gos.get("groupHideOpenParents")){const x=h==null?void 0:h.getShowRowGroupCols();x!=null&&x.length&&d.refreshCells({columns:x,force:!0})}}};function c0e(e,t,n,i,r){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);const a=new Set,l=[],{updates:c,adds:u}=n;for(let h=0,p=s.length;h<p;++h){const m=s[h];c.has(m)||u.has(m)||i&&!i.canSkip(m)?l.push({currentPos:l.length,rowNode:m}):a.add(m.id)}const d=o.filter(h=>a.has(h.id)).map((h,p)=>({currentPos:p,rowNode:h}));return l.sort((h,p)=>e.compareRowNodes(r,h,p)),u0e(e,r,l,d)}function u0e(e,t,n,i){const r=[];let s=0,o=0;const a=n.length,l=i.length;for(;s<a&&o<l;){const c=n[s],u=i[o],d=e.compareRowNodes(t,c,u);let h;d<0?(h=c,++s):(h=u,++o),r.push(h.rowNode)}for(;s<a;)r.push(n[s++].rowNode);for(;o<l;)r.push(i[o++].rowNode);return r}var d0e=class extends Be{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.lastHighlightedRow=null,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=eo(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new vy(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;switch(xae(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var i;const n=(i=t.changeSet)==null?void 0:i.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,i);for(let u=l;u<=c;u++){const d=this.getRow(u);if(d.rowHeightEstimated){const h=yg(this.beans,d);d.setRowHeight(h.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,it(1))),a&&(r||(l=(s==null?void 0:s.extractRowData())??l),s!==o&&(s==null||s.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new xF,o.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:u,pinnedRowModel:d}=this.beans;u==null||u.reset("rowDataChanged"),d!=null&&d.isManual()&&d.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:c,step:u}of this.orderedStages)if(e.some(d=>c.has(d))){i.step=u;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const r=new Set,s=io(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&r.add(l.id),l.rowHeight==null){const c=yg(e,l,s,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}clearHighlight(){const e=this.lastHighlightedRow;e&&(e.highlighted=null,e.dispatchRowEvent("rowHighlightChanged"),this.lastHighlightedRow=null)}highlightRow(e,t){const n=e!==this.lastHighlightedRow,i=t!==e.highlighted;(n||i)&&(n&&this.clearHighlight(),e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"),this.lastHighlightedRow=e)}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,s=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){var o;const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;const s=(o=t.childrenAfterSort)==null?void 0:o.findIndex(a=>a===r);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Mb(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Mb(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Mb(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new bE(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){var i,r;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((r=(i=this.nodeManager).refreshModel)==null||r.call(i,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],s=mE(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){r.push(o);return}}),r}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(ri(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),s===n&&o===i))return a;s=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((i,r)=>e(i,r))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!(r!=null&&r.columns.length)){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,r=0){let s=r;if(!i)return s;const o=i===this.rootNode;o||e(i,s++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const l=n(i);if(l){s=(a==null?void 0:a.addTotalRows(s,i,e,t,o,"top"))??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return(a==null?void 0:a.addTotalRows(s,i,e,t,o,"bottom"))??s}}return s}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),L7(n)})}doRowGrouping(e,t,n,i){var o;const r=this.rootNode;if(!((o=this.groupStage)==null?void 0:o.execute({rowNode:r,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:i}))&&!this.nodeManager.treeData){const a=r.sibling;r.childrenAfterGroup=r.allLeafChildren,a&&(a.childrenAfterGroup=r.childrenAfterGroup),r.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,f7(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(z_)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var r,s;(r=this.valueCache)==null||r.onDataChanged();const e=[],t=[],n=new xF;let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(o.rowDataTransaction,n);l&&(i=!0),t.push(a),o.callback&&e.push(o.callback.bind(null,a))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var r;(r=this.valueCache)==null||r.onDataChanged(),this.rowNodesCountReady=!0;const t=new xF,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlight(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=$U,this.rowsToDisplay=$U}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function h0e(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function f0e(e,t){const n=Vd(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function p0e(e){var t;return((t=Vd(e))==null?void 0:t.isEmpty())??!0}function g0e(e,t){var n;(n=Vd(e))==null||n.forEachLeafNode(t)}function m0e(e,t){var n;(n=Vd(e))==null||n.forEachNodeAfterFilter(t)}function v0e(e,t){var n;(n=Vd(e))==null||n.forEachNodeAfterFilterAndSort(t)}function y0e(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){it(3);return}(n=Vd(e))==null||n.resetRowHeights()}function C0e(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Vd(e))==null?void 0:n.updateRowData(t)})}function b0e(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=Vd(e))==null?void 0:i.batchUpdateRowData(t,n)})}function w0e(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Vd(e))==null?void 0:t.flushAsyncTransactions()})}function S0e(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var x0e={moduleName:"ClientSideRowModel",version:gt,rowModels:["clientSide"],beans:[o0e,d0e,l0e],dependsOn:[o7]},M0e={moduleName:"ClientSideRowModelApi",version:gt,apiFunctions:{onGroupExpandedOrCollapsed:h0e,refreshClientSideRowModel:f0e,isRowDataEmpty:p0e,forEachLeafNode:g0e,forEachNodeAfterFilter:m0e,forEachNodeAfterFilterAndSort:v0e,resetRowHeights:y0e,applyTransaction:C0e,applyTransactionAsync:b0e,flushAsyncTransactions:w0e,getBestCostNodeSelection:S0e},dependsOn:[n0e]},E0e=class extends Be{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){var m;const r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,u=i.allChildrenCount===1&&((m=i.childrenAfterGroup)==null?void 0:m.length)===1&&pae(this.gos,i);if(!l&&!c&&(t.skipRowGroups||u||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!c||r(zt(this.gos,{node:i})))return;const p=e.onNewBodyRow(i);if(n.forEach((v,y)=>{p.onColumn(v,y,i)}),t.getCustomContentBelowRow){const v=t.getCustomContentBelowRow(zt(this.gos,{node:i}));v&&e.addCustomContent(v)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new t$,{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var r,s;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedTopRow(o.rowIndex)}).forEach(i):(r=this.pinnedRowModel)!=null&&r.isManual()||(s=this.pinnedRowModel)==null||s.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{var c;const i=this.rowModel,r=Ds(this.gos),s=Gy(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(u=>u.rowPinned==null).sort((u,d)=>u.rowIndex-d.rowIndex).map(u=>i.getRow(u.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){const u=((c=this.beans.selectionSvc)==null?void 0:c.getSelectedNodes())??[];this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?i.forEachNode(a):r||s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(s,o)=>{var a,l;return s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?((a=s.parent)==null?void 0:a.id)===((l=o.parent)==null?void 0:l.id)?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent)};e.sort(r)}processPinnedBottomRows(e,t){return n=>{var r,s;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedBottomRow(o.rowIndex)}).forEach(i):(r=this.pinnedRowModel)!=null&&r.isManual()||(s=this.pinnedRowModel)==null||s.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=h=>Rw(h)?!1:!Qv(h)||i;if(r&&r.length)return s.getColsForKeys(r).filter(c);const u=o.get("treeData");let d=[];return t&&!l?d=s.getCols():d=a.allCols,d=d.filter(h=>c(h)&&(n&&!u?!d4(h):!0)),d}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o))}),e.length>0&&dr(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;n?a=n(zt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,d,h)=>{let p=ri(c);return u.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[d],c.push(p)):p&&p[1]==null&&(p[1]=d-1),d===h.length-1&&p&&p[1]==null&&(p[1]=d),c},[]);i.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}},R0e={moduleName:"SharedExport",version:gt,beans:[E0e]},_3=`\r
`,A0e=class extends Lme{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,_3),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(it(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=_3),this.isFirstLine=!1}},T0e=class extends Nme{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){it(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(zt(this.gos,{})):t.fileName;kme(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new A0e({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function D0e(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function I0e(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var N0e={moduleName:"CsvExport",version:gt,beans:[T0e],apiFunctions:{getDataAsCsv:D0e,exportDataAsCsv:I0e},dependsOn:[R0e]},L0e=class extends Be{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){const o=n+s,a=new vy(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),r.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){ht(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Wi(this.params.datasource.getRows)){it(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:zt(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{const o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new vy(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},k0e=2,O0e=class extends Be{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new L0e(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(fy(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=k0e-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=i?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,ht(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&i+1!==l.id){o=!0;return}i=l.id,l.forEachNode(c=>{const u=c===e||c===t;(r||u)&&n.push(c),u&&(r=!r)},s,this.rowCount)}}),o||r?[]:n}},P0e=class extends Be{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Xv(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Xv(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!pE(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;nw(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Xv(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new O0e(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function F0e(e){var t;(t=DL(e))==null||t.refreshCache()}function _0e(e){var t;(t=DL(e))==null||t.purgeCache()}function B0e(e){var t;return(t=DL(e))==null?void 0:t.getRowCount()}var G0e=class extends Be{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=gae(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=eo(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){tc(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){fy(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){fy(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},z0e={moduleName:"InfiniteRowModelCore",version:gt,rowModels:["infinite"],beans:[P0e,G0e]},H0e={moduleName:"InfiniteRowModel",version:gt,apiFunctions:{refreshInfiniteCache:F0e,purgeInfiniteCache:_0e,getInfiniteRowCount:B0e},dependsOn:[z0e,i0e]},V0e="↑",U0e="↓",W0e={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},j0e=class extends $i{constructor(){super(W0e),this.eValue=At,this.eDelta=At,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=ht(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=V0e+r:o.textContent=U0e+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ml(this.eDelta)}refresh(e,t=!1){var a;const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(ht(i)?r.textContent=i:ht(n)?r.textContent=n:ml(r),(a=o.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof s=="number"){const l=n-s;this.showDelta(e,l)}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},$0e=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",Y0e={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},K0e=class extends $i{constructor(){super(Y0e),this.eCurrent=At,this.refreshCount=0,this.registerCSS($0e)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=zr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var r;let n=e.value;if(Wi(n)&&(n=""),n===this.lastValue||(r=this.beans.filterManager)!=null&&r.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return ht(e.valueFormatted)?i.textContent=e.valueFormatted:ht(e.value)?i.textContent=n:ml(i),!0}},q0e=class extends Be{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const r=this.animations[t];r.delete(e);const s=Date.now(),o=s+n,a=s+n+i,l={phase:"flash",flashEndTime:o,fadeEndTime:a};r.set(e,l);const c=`ag-cell-${t}`,u=`${c}-animation`,{comp:d,eGui:{style:h}}=e;d.toggleCss(c,!0),d.toggleCss(u,!1),h.removeProperty("transition"),h.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],r=`ag-cell-${n}`,s=`${r}-animation`;for(const[o,a]of i){if(!o.isAlive()||!o.comp){i.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:u}=a,d=l==="flash"?c:u;if(!(e+15>=d)){t=Math.min(d,t??1/0);continue}const{comp:p,eGui:{style:m}}=o;switch(l){case"flash":p.toggleCss(r,!1),p.toggleCss(s,!0),m.transition=`background-color ${u-c}ms`,m.transitionDelay=`${c-e}ms`,t=Math.min(u,t??1/0),a.phase="fade";break;case"fade":p.toggleCss(r,!1),p.toggleCss(s,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),i.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Mce(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function Z0e(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var X0e={moduleName:"HighlightChanges",version:gt,beans:[q0e],userComponents:{agAnimateShowChangeCellRenderer:j0e,agAnimateSlideCellRenderer:K0e},apiFunctions:{flashCells:Z0e}};function Q0e(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function J0e(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=eCe(e)}return e}function eCe(e){return e.cellSelection=tCe(e,"rangeSelection"),e}function tCe(e,t){if(e&&typeof e=="object")return e[t]}var nCe=class extends Be{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=eo(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=eo(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=eo(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Ds(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",gt);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,i]=this.addManagedEventListeners({newColumnsLoaded:({source:r})=>{r==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return J0e(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i);const r=this.updateCachedState.bind(this);r("filter",this.getFilterState()),r("rowGroupExpansion",this.getRowGroupExpansionState()),r("rowSelection",this.getRowSelectionState()),r("pagination",this.getPaginationState());const s=()=>{this.updateRowGroupExpansionStateTimer=0,r("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>r("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(s)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&r("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:i,rowPinning:r}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),r&&this.setRowPinningState(r),this.setColumnPivotState(!!(i!=null&&i.orderedColIds));const s=this.updateCachedState.bind(this);s("sideBar",this.getSideBarState()),s("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();s("rangeSelection",o),s("cellSelection",o),s("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>s("focusedCell",this.getFocusedCellState()),cellSelectionChanged:a=>{if(a.finished){const l=this.getRangeSelectionState();s("rangeSelection",l),s("cellSelection",l)}},bodyScrollEnd:()=>s("scroll",this.getScrollState()),pinnedRowsChanged:()=>s("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return Eme(eN(e),e.colModel.isPivotMode())}setColumnState(e){const{sort:t,rowGroup:n,aggregation:i,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,u={},d=y=>{let C=u[y];return C||(C={colId:y},u[y]=C,C)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:y,sort:C},S)=>{const x=d(y);x.sort=C,x.sortIndex=S}),h.sort=null,h.sortIndex=null),n&&(n.groupColIds.forEach((y,C)=>{const S=d(y);S.rowGroup=!0,S.rowGroupIndex=C}),h.rowGroup=null,h.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:y,aggFunc:C})=>{d(y).aggFunc=C}),h.aggFunc=null),r&&(r.pivotColIds.forEach((y,C)=>{const S=d(y);S.pivot=!0,S.pivotIndex=C}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),s&&(s.leftColIds.forEach(y=>{d(y).pinned="left"}),s.rightColIds.forEach(y=>{d(y).pinned="right"}),h.pinned=null),o&&(o.hiddenColIds.forEach(y=>{d(y).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:y,flex:C,width:S})=>{const x=d(y);x.flex=C??null,x.width=S}),h.flex=null);const p=l==null?void 0:l.orderedColIds,m=!!(p!=null&&p.length),v=m?p.map(y=>d(y)):Object.values(u);v.length&&(this.columnStates=v,Zc(this.beans,{state:v,applyOrder:m,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:r,colGroupSvc:s}=i;if(r!=null&&r.isPivotResultColsPresent()){if(t){const o=[];for(const a of t)r.getPivotResultCol(a.colId)&&o.push(a);Zc(i,{state:o,applyOrder:e},"gridInitializing")}n&&(s==null||s.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return Rme(t)}setColumnGroupState(e){var s;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),r=t.getColumnGroupState().map(({groupId:o})=>{const a=n.has(o);return a&&n.delete(o),{groupId:o,open:a}});n.forEach(o=>{r.push({groupId:o,open:!0})}),r.length&&(this.columnGroupStates=r),t.setColumnGroupState(r,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:i}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),i&&(t==null||t.setAdvFilterModel(i,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:i,type:r,startRow:s,endRow:o,columns:a,startColumn:l}=n;return{id:i,type:r,startRow:s,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!Cg(t)||!n)return;const s=[];e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const u=i.getCol(c);u&&a.push(u)}),!a.length)return;let l=i.getCol(o.startColId);if(!l){const c=r.allCols,u=new Set(a);l=c.find(d=>u.has(d))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{var a;o.get("center").setCenterViewportScrollLeft(n),(a=o.getScrollFeature())==null||a.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s==null||s.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:i}=e,{focusSvc:r,colModel:s}=this.beans;r.setFocusedCell({column:s.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var i;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){var e;return(e=this.beans.pinnedRowModel)==null?void 0:e.getPinnedState()}setRowPinningState(e){var t;(t=this.beans.pinnedRowModel)==null||t.setPinnedState(e)}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const s=t[r];pE(s,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),pE(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},iCe={moduleName:"GridState",version:gt,beans:[nCe],apiFunctions:{getState:Q0e}};function rCe(e){return e.rowModel.isLastRowIndexKnown()}function sCe(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function oCe(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function aCe(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function lCe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function cCe(e){var t;(t=e.pagination)==null||t.goToNextPage()}function uCe(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function dCe(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function hCe(e){var t;(t=e.pagination)==null||t.goToLastPage()}function fCe(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var pCe=class extends Be{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(Xv(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?eo(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},fM="paginationPageSizeSelector",gCe={tag:"span",cls:"ag-paging-page-size"},mCe=class extends $i{constructor(){super(gCe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(fM,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ml(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(fM)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(fM)!==!0;it(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||it(95,{paginationPageSizeOption:t,paginationPageSizeSelector:fM}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(zy(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new A4).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(fM);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},vCe={selector:"AG-PAGE-SIZE-SELECTOR",component:mCe},yCe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",CCe=class extends Mde{constructor(){super(),this.btFirst=At,this.btPrevious=At,this.btNext=At,this.btLast=At,this.lbRecordCount=At,this.lbFirstRowOnPage=At,this.lbLastRowOnPage=At,this.lbCurrent=At,this.lbTotal=At,this.pageSizeComp=At,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(yCe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[vCe]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Yl(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Yl(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Yl(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Yl(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):ace(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===Oe.ENTER||i.key===Oe.SPACE)&&(i.preventDefault(),n())}})}),oce(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Ime(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Foe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>i&&(a=i));const l=o+s-1,c=!e&&n<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let d;const h=this.getLocaleTextFunc();c?d=h("pageLastRowUnknown","?"):d=this.formatNumber(a),this.lbLastRowOnPage.textContent=d;const m=t>0?r+1:0,v=this.formatNumber(m);this.lbCurrent.textContent=v;let y,C;if(e)y=this.formatNumber(t),C=this.formatNumber(i);else{const S=h("more","more");y=S,C=S}this.lbTotal.textContent=y,this.lbRecordCount.textContent=C,this.announceAriaStatus(u,d,C,v,y)}announceAriaStatus(e,t,n,i,r){var d,h;const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,u=`${o} ${i} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,(d=this.ariaAnnounce)==null||d.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,(h=this.ariaAnnounce)==null||h.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},bCe={selector:"AG-PAGINATION",component:CCe},wCe=class extends Be{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return bCe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){var n,i;if(!this.active)return;let t=e;this.paginateChildRows||(t=((i=(n=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:i.call(n,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ht(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ht(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ht(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ht(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,s=n*r;let o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},SCe={moduleName:"Pagination",version:gt,beans:[wCe,pCe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:rCe,paginationGetPageSize:sCe,paginationGetCurrentPage:oCe,paginationGetTotalPages:aCe,paginationGetRowCount:lCe,paginationGoToNextPage:cCe,paginationGoToPreviousPage:uCe,paginationGoToFirstPage:dCe,paginationGoToLastPage:hCe,paginationGoToPage:fCe},dependsOn:[IL]};function xCe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function k7(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&k7(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function MCe(e,t){return e.rowModel.getRowNode(t)}function ECe(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function RCe(e){return e.rowRenderer.getRenderedNodes()}function ACe(e,t,n){e.rowModel.forEachNode(t,n)}function TCe(e){return e.rowRenderer.firstRenderedRow}function DCe(e){return e.rowRenderer.lastRenderedRow}function ICe(e,t){return e.rowModel.getRow(t)}function NCe(e){return e.rowModel.getRowCount()}var LCe={moduleName:"RowApi",version:gt,apiFunctions:{redrawRows:xCe,setRowNodeExpanded:k7,getRowNode:MCe,addRenderedRowListener:ECe,getRenderedNodes:RCe,forEachNode:ACe,getFirstDisplayedRowIndex:TCe,getLastDisplayedRowIndex:DCe,getDisplayedRowAtIndex:ICe,getDisplayedRowCount:NCe}},kCe={moduleName:"ScrollApi",version:gt,apiFunctions:{getVerticalPixelRange:uye,getHorizontalPixelRange:dye,ensureColumnVisible:D7,ensureIndexVisible:I7,ensureNodeVisible:hye}};function OCe(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function PCe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function FCe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function _Ce(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function BCe(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function GCe(e){return{rowHeight:Xv(e),headerHeight:xR(e)}}function zCe(e,t={}){var s;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const a=o.getCellRenderer();a!=null&&n.push(vE(a))}),(s=t.columns)!=null&&s.length)return n;const i=[],r=K_(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(r&&!q_(o.rowNode,r)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const c=a[l];c!=null&&i.push(vE(c))}}),[...i,...n]}var HCe={moduleName:"RenderApi",version:gt,apiFunctions:{setGridAriaProperty:OCe,refreshCells:PCe,refreshHeader:FCe,isAnimationFrameQueueEmpty:_Ce,flushAllAnimationFrames:BCe,getSizesForCurrentTheme:GCe,getCellRendererInstances:zCe}};function VCe(e,t){var n,i;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(i=e.colAutosize)==null||i.sizeColumnsToFitGridBody(t)}function UCe(e,t,n){var i;(i=e.colAutosize)==null||i.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function WCe(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var jCe=class extends Be{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:s="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:l,autoWidthCalc:c,visibleCols:u}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const d=[];let h=-1;const p=n??this.gos.get("skipHeaderOnAutoSize"),m=i??p;for(;h!==0;){h=0;const v=[];t.forEach(y=>{if(!y)return;const C=l.getCol(y);if(!C||Qv(C)||d.indexOf(C)>=0)return;const S=c.getPreferredWidthForColumn(C,p);if(S>0){const x=$Ce(C,S);C.setActualWidth(x,s),d.push(C),h++}v.push(C)}),v.length&&u.refresh(s)}m||this.autoSizeColumnGroupsByColumns(t,s,r),iw(this.eventSvc,d,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,s=new Set;i.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=n;)u.isPadding()||s.add(u),u=u.getParent()});let a;const l=[];for(const c of s){for(const u of r.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new Ev(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=fE(r.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):it(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var p;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&((p=i==null?void 0:i.columnLimits)==null||p.forEach(({key:m,...v})=>{r[typeof m=="string"?m:m.getColId()]=v}));const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===_h(s)&&s.every(v=>{if(v.colDef.suppressSizeToFit)return!0;const y=r==null?void 0:r[v.getId()],C=(y==null?void 0:y.minWidth)??(i==null?void 0:i.defaultMinWidth),S=(y==null?void 0:y.maxWidth)??(i==null?void 0:i.defaultMaxWidth),x=v.getActualWidth();return(C==null||x>=C)&&(S==null||x<=S)}))return;const a=[],l=[];s.forEach(m=>{m.getColDef().suppressSizeToFit===!0?l.push(m):a.push(m)});const c=a.slice(0);let u=!1;const d=m=>{tc(a,m),l.push(m)};for(a.forEach(m=>{m.resetActualWidth(t);const v=r==null?void 0:r[m.getId()],y=(v==null?void 0:v.minWidth)??(i==null?void 0:i.defaultMinWidth),C=(v==null?void 0:v.maxWidth)??(i==null?void 0:i.defaultMaxWidth),S=m.getActualWidth();typeof y=="number"&&S<y?m.setActualWidth(y,t,!0):typeof C=="number"&&S>C&&m.setActualWidth(C,t,!0)});!u;){u=!0;const m=e-_h(l);if(m<=0)a.forEach(v=>{var C;const y=((C=r==null?void 0:r[v.getId()])==null?void 0:C.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof y=="number"){v.setActualWidth(y,t,!0);return}v.setActualWidth(v.minWidth,t)});else{const v=m/_h(a);let y=m;for(let C=a.length-1;C>=0;C--){const S=a[C],x=r==null?void 0:r[S.getId()],R=(x==null?void 0:x.minWidth)??(i==null?void 0:i.defaultMinWidth),A=(x==null?void 0:x.maxWidth)??(i==null?void 0:i.defaultMaxWidth),T=S.getMinWidth(),L=S.getMaxWidth(),O=typeof R=="number"&&R>T?R:T,F=typeof A=="number"&&A<L?A:L;let H=Math.round(S.getActualWidth()*v);H<O?(H=O,d(S),u=!1):H>F?(H=F,d(S),u=!1):C===0&&(H=y),S.setActualWidth(H,t,!0),y-=H}}}c.forEach(m=>{m.fireColumnWidthChangedEvent(t)});const h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!n&&iw(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n==null?void 0:n.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function $Ce(e,t){const n=e.getMinWidth();t<n&&(t=n);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}var YCe={moduleName:"ColumnAutoSize",version:gt,beans:[jCe],apiFunctions:{sizeColumnsToFit:VCe,autoSizeColumns:UCe,autoSizeAllColumns:WCe},dependsOn:[V$]},KCe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function qCe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function ZCe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function XCe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function QCe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}function JCe(e,t,n){var i;return(i=e.pinnedRowModel)==null?void 0:i.forEachPinnedRow(t,n)}var ebe={moduleName:"PinnedRow",version:gt,beans:[ede],css:[KCe],apiFunctions:{getPinnedTopRowCount:qCe,getPinnedBottomRowCount:ZCe,getPinnedTopRow:XCe,getPinnedBottomRow:QCe,forEachPinnedRow:JCe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},tbe=class extends $M{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,s,o){this.eWrapper=n,super.setComp(e,t,n,i,r,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&d9(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){zoe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(RL(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},nbe=class extends cN{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new tbe(t,this,this.beans)}isCorrectCtrlForSpan(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},ibe=class extends Be{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&(t==null||t.forEachSpannedColumn(c.rowNode,(u,d)=>{if(o.has(d.firstNode))return;const h=i.get(d.firstNode);if(h){o.set(d.firstNode,h),i.delete(d.firstNode);return}a=!0;const p=new nbe(d.firstNode,this.beans,!1,!1,!1);o.set(d.firstNode,p)}));this[n]=o;const l=o.size===r;if(!(!a&&l)){for(const c of i.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const i=`${O7(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},O7=e=>e??"center",rbe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},sbe=class extends Be{constructor(e){super(),this.column=e}buildCache(e){var x;const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,u=n.getCallback("isFullWidthRow"),d=a.equals,h=a.spanRows,p=typeof h=="function";let m=null,v=null,y;const C=(R,A)=>{m=R,v=null,y=A},S=R=>{const A=!R.isExpandable()&&!R.group&&!R.detail&&(u?!u({rowNode:R}):!0);if(R.rowIndex==null||!A){C(null,null);return}if(m==null||R.level!==m.level||R.footer||v&&R.rowIndex-1!==(v==null?void 0:v.getLastNode().rowIndex)){C(R,s.getValue(t,R));return}const T=s.getValue(t,R);if(p){const L=zt(n,{valueA:y,nodeA:m,valueB:T,nodeB:R,column:t,colDef:a});if(!h(L)){C(R,T);return}}else if(d?!d(y,T):y!==T){C(R,T);return}if(!v){const L=l==null?void 0:l.get(m);(L==null?void 0:L.firstNode)===m?(L.reset(),v=L):v=new rbe(t,m),c.set(m,v)}v.addSpannedNode(R),c.set(R,v)};switch(e){case"center":(x=r.forEachDisplayedNode)==null||x.call(r,R=>{(!o||o.isRowInPage(R.rowIndex))&&S(R)});break;case"top":i==null||i.forEachPinnedRow("top",S);break;case"bottom":i==null||i.forEachPinnedRow("bottom",S);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${O7(e.rowPinned)}ValueNodeMap`].get(e)}},obe=class extends Be{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=eo(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=eo(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new sbe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(r);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(r);break;default:o=n.getRow(r)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},abe={moduleName:"CellSpan",version:gt,beans:[obe,ibe]},lbe=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);C4(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return zt(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},cbe=class extends Be{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){C4(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new lbe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},ube={moduleName:"CellStyle",version:gt,beans:[cbe]},dbe={moduleName:"RowStyle",version:gt,beans:[jce]};function hbe(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var fbe=class extends Be{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:r,element:s,columns:o}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},pbe="ag-column-hover",gbe=class extends Be{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(pbe,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new fbe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},mbe={moduleName:"ColumnHover",version:gt,beans:[gbe],apiFunctions:{isColumnHovered:hbe}},vbe=class extends Be{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var s;const n=((s=this.wrapSvc)==null?void 0:s.wrap(e,t))??t,i=!sI.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){var s,o;const n=((s=this.wrapSvc)==null?void 0:s.unwrap(e,t))??t,i=this.asyncListeners.get(e),r=!!(i!=null&&i.delete(n));r||(o=this.syncListeners.get(e))==null||o.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){var s;const t=((s=this.wrapSvc)==null?void 0:s.wrapGlobal(e))??e,n=(o,a)=>{sI.has(o)&&t(o,a)},i=(o,a)=>{sI.has(o)||t(o,a)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=(n==null?void 0:n.unwrapGlobal(e))??e;if(i.has(r)){const{syncListener:o,asyncListener:a}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function ybe(e,t,n){var i;(i=e.apiEventSvc)==null||i.addEventListener(t,n)}function Cbe(e,t,n){var i;(i=e.apiEventSvc)==null||i.removeEventListener(t,n)}function bbe(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function wbe(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var Sbe={moduleName:"EventApi",version:gt,apiFunctions:{addEventListener:ybe,addGlobalListener:bbe,removeEventListener:Cbe,removeGlobalListener:wbe},beans:[vbe]},xbe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Mbe=class extends Be{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=fF(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!i&&r&&!a.headerComponent&&(i=rI(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=fF(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!i&&r&&!(a!=null&&a.headerGroupComponent)&&(i=rI(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{column:i,rowNode:r}=e,s=()=>{const l=i.getColDef(),c=r.data;if(l.tooltipField&&ht(c))return jM(c,l.tooltipField,i.isTooltipFieldContainsDots());const u=l.tooltipValueGetter;return u?u(zt(this.gos,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:r,data:r.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=fF(this.gos);!n&&o&&!e.isCellRenderer()&&(n=rI(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>r,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(r,s);return t.createBean(a,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ht(t.tooltipField)||ht(t.tooltipValueGetter)||ht(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Ebe={moduleName:"Tooltip",version:gt,beans:[Mbe],dynamicBeans:{tooltipFeature:mde},userComponents:{agTooltipComponent:Dme},dependsOn:[IL],css:[xbe]},Rbe={moduleName:"Locale",version:gt,beans:[Mme]},Abe=class extends Be{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=eo(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var a,l,c,u;const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols;let s=!1;const o=d=>{var m;const h=d.__autoHeights;let p=yg(this.beans,d).height;for(const v of r){let y=h==null?void 0:h[v.getColId()];const C=n==null?void 0:n.getCellSpan(v,d);if(C){if(C.getLastNode()!==d)continue;if(y=(m=n==null?void 0:n.getCellSpan(v,d))==null?void 0:m.getLastNodeAutoHeight(),!y)return}if(y==null){if(this.colSpanSkipCell(v,d))continue;return}p=Math.max(y,p)}p!==d.rowHeight&&(d.setRowHeight(p),s=!0)};(a=i==null?void 0:i.forEachPinnedRow)==null||a.call(i,"top",o),(l=i==null?void 0:i.forEachPinnedRow)==null||l.call(i,"bottom",o),(c=t.forEachDisplayedNode)==null||c.call(t,o),s&&((u=t.onRowHeightChanged)==null||u.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=r.getLeftColsForRow(t);break;case"right":s=r.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,a=u=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:p,borderTopWidth:m}=By(i),v=d+h+p+m,C=t.offsetHeight+v;if(u<5){const S=Is(o),x=!S||!S.contains(t),R=C==0;if(x||R){window.setTimeout(()=>a(u+1),0);return}}this.setRowAutoHeight(r,C,s)},l=()=>a(0);l();const c=wf(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(r,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},Tbe={moduleName:"RowAutoHeight",version:gt,beans:[Abe]},Dbe={moduleName:"AllCommunity",version:gt,dependsOn:[x0e,N0e,H0e,Wme,Tye,Dye,Iye,Nye,Lye,kye,Oye,Aye,Bve,Gve,zve,_ve,Vve,Uve,iCe,s0e,SCe,vfe,LCe,kCe,HCe,YCe,Zde,ebe,qye,sme,ube,mbe,dbe,Sbe,lme,X0e,Ebe,Rbe,Tbe,qde,M0e,abe]},MR=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yy=typeof window>"u"||"Deno"in globalThis;function Oa(){}function Ibe(e,t){return typeof e=="function"?e(t):e}function X_(e){return typeof e=="number"&&e>=0&&e!==1/0}function P7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cg(e,t){return typeof e=="function"?e(t):e}function Uc(e,t){return typeof e=="function"?e(t):e}function B3(e,t){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=e;if(o){if(i){if(t.queryHash!==O4(o,t.options))return!1}else if(!xE(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||r&&r!==t.state.fetchStatus||s&&!s(t))}function G3(e,t){const{exact:n,status:i,predicate:r,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(SE(t.options.mutationKey)!==SE(s))return!1}else if(!xE(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||r&&!r(t))}function O4(e,t){return((t==null?void 0:t.queryKeyHashFn)||SE)(e)}function SE(e){return JSON.stringify(e,(t,n)=>J_(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function xE(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>xE(e[n],t[n])):!1}function F7(e,t){if(e===t)return e;const n=z3(e)&&z3(t);if(n||J_(e)&&J_(t)){const i=n?e:Object.keys(e),r=i.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(i);let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&l.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=F7(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return r===o&&c===r?e:a}return t}function Q_(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function z3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function J_(e){if(!H3(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!H3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function H3(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nbe(e){return new Promise(t=>{setTimeout(t,e)})}function eB(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?F7(e,t):t}function Lbe(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function kbe(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var P4=Symbol();function _7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===P4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Obe(e,t){return typeof e=="function"?e(...t):!!e}var zv,qp,Ub,D8,Pbe=(D8=class extends MR{constructor(){super();Jt(this,zv);Jt(this,qp);Jt(this,Ub);xt(this,Ub,t=>{if(!yy&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ye(this,qp)||this.setEventListener(ye(this,Ub))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,qp))==null||t.call(this),xt(this,qp,void 0))}setEventListener(t){var n;xt(this,Ub,t),(n=ye(this,qp))==null||n.call(this),xt(this,qp,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){ye(this,zv)!==t&&(xt(this,zv,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ye(this,zv)=="boolean"?ye(this,zv):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zv=new WeakMap,qp=new WeakMap,Ub=new WeakMap,D8),F4=new Pbe,Wb,Zp,jb,I8,Fbe=(I8=class extends MR{constructor(){super();Jt(this,Wb,!0);Jt(this,Zp);Jt(this,jb);xt(this,jb,t=>{if(!yy&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){ye(this,Zp)||this.setEventListener(ye(this,jb))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,Zp))==null||t.call(this),xt(this,Zp,void 0))}setEventListener(t){var n;xt(this,jb,t),(n=ye(this,Zp))==null||n.call(this),xt(this,Zp,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Wb)!==t&&(xt(this,Wb,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return ye(this,Wb)}},Wb=new WeakMap,Zp=new WeakMap,jb=new WeakMap,I8),hN=new Fbe;function tB(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),e(r)},n.reject=r=>{i({status:"rejected",reason:r}),t(r)},n}function _be(e){return Math.min(1e3*2**e,3e4)}function B7(e){return(e??"online")==="online"?hN.isOnline():!0}var G7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function MF(e){return e instanceof G7}function z7(e){let t=!1,n=0,i=!1,r;const s=tB(),o=v=>{var y;i||(h(new G7(v)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>F4.isFocused()&&(e.networkMode==="always"||hN.isOnline())&&e.canRun(),u=()=>B7(e.networkMode)&&e.canRun(),d=v=>{var y;i||(i=!0,(y=e.onSuccess)==null||y.call(e,v),r==null||r(),s.resolve(v))},h=v=>{var y;i||(i=!0,(y=e.onError)==null||y.call(e,v),r==null||r(),s.reject(v))},p=()=>new Promise(v=>{var y;r=C=>{(i||c())&&v(C)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;r=void 0,i||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(i)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(d).catch(C=>{var T;if(i)return;const S=e.retry??(yy?0:3),x=e.retryDelay??_be,R=typeof x=="function"?x(n,C):x,A=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,C);if(t||!A){h(C);return}n++,(T=e.onFail)==null||T.call(e,n,C),Nbe(R).then(()=>c()?void 0:p()).then(()=>{t?h(C):m()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),s)}}var Bbe=e=>setTimeout(e,0);function Gbe(){let e=[],t=0,n=a=>{a()},i=a=>{a()},r=Bbe;const s=a=>{t?e.push(a):r(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var Qs=Gbe(),Hv,N8,H7=(N8=class{constructor(){Jt(this,Hv)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X_(this.gcTime)&&xt(this,Hv,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yy?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Hv)&&(clearTimeout(ye(this,Hv)),xt(this,Hv,void 0))}},Hv=new WeakMap,N8),$b,Yb,zl,Vv,Mo,hR,Uv,Hc,Lh,L8,zbe=(L8=class extends H7{constructor(t){super();Jt(this,Hc);Jt(this,$b);Jt(this,Yb);Jt(this,zl);Jt(this,Vv);Jt(this,Mo);Jt(this,hR);Jt(this,Uv);xt(this,Uv,!1),xt(this,hR,t.defaultOptions),this.setOptions(t.options),this.observers=[],xt(this,Vv,t.client),xt(this,zl,ye(this,Vv).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xt(this,$b,Hbe(this.options)),this.state=t.state??ye(this,$b),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,Mo))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,hR),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,zl).remove(this)}setData(t,n){const i=eB(this.state.data,t,this.options);return Fn(this,Hc,Lh).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Fn(this,Hc,Lh).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,r;const n=(i=ye(this,Mo))==null?void 0:i.promise;return(r=ye(this,Mo))==null||r.cancel(t),n?n.then(Oa).catch(Oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,$b))}isActive(){return this.observers.some(t=>Uc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>cg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!P7(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ye(this,Mo))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ye(this,Mo))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,zl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ye(this,Mo)&&(ye(this,Uv)?ye(this,Mo).cancel({revert:!0}):ye(this,Mo).cancelRetry()),this.scheduleGc()),ye(this,zl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fn(this,Hc,Lh).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ye(this,Mo))return ye(this,Mo).continueRetry(),ye(this,Mo).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xt(this,Uv,!0),i.signal)})},s=()=>{const h=_7(this.options,n),m=(()=>{const v={client:ye(this,Vv),queryKey:this.queryKey,meta:this.meta};return r(v),v})();return xt(this,Uv,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ye(this,Vv),state:this.state,fetchFn:s};return r(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),xt(this,Yb,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Fn(this,Hc,Lh).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var p,m,v,y;MF(h)&&h.silent||Fn(this,Hc,Lh).call(this,{type:"error",error:h}),MF(h)||((m=(p=ye(this,zl).config).onError)==null||m.call(p,h,this),(y=(v=ye(this,zl).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return xt(this,Mo,z7({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var p,m,v,y;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(C){l(C);return}(m=(p=ye(this,zl).config).onSuccess)==null||m.call(p,h,this),(y=(v=ye(this,zl).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{Fn(this,Hc,Lh).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Fn(this,Hc,Lh).call(this,{type:"pause"})},onContinue:()=>{Fn(this,Hc,Lh).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ye(this,Mo).start()}},$b=new WeakMap,Yb=new WeakMap,zl=new WeakMap,Vv=new WeakMap,Mo=new WeakMap,hR=new WeakMap,Uv=new WeakMap,Hc=new WeakSet,Lh=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...V7(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return MF(r)&&r.revert&&ye(this,Yb)?{...ye(this,Yb),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Qs.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ye(this,zl).notify({query:this,type:"updated",action:t})})},L8);function V7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hbe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rd,k8,U7=(k8=class extends MR{constructor(t={}){super();Jt(this,rd);this.config=t,xt(this,rd,new Map)}build(t,n,i){const r=n.queryKey,s=n.queryHash??O4(r,n);let o=this.get(s);return o||(o=new zbe({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){ye(this,rd).has(t.queryHash)||(ye(this,rd).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ye(this,rd).get(t.queryHash);n&&(t.destroy(),n===t&&ye(this,rd).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,rd).get(t)}getAll(){return[...ye(this,rd).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>B3(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>B3(t,i)):n}notify(t){Qs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rd=new WeakMap,k8),sd,Qo,Wv,od,Hp,O8,Vbe=(O8=class extends H7{constructor(t){super();Jt(this,od);Jt(this,sd);Jt(this,Qo);Jt(this,Wv);this.mutationId=t.mutationId,xt(this,Qo,t.mutationCache),xt(this,sd,[]),this.state=t.state||Ube(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,sd).includes(t)||(ye(this,sd).push(t),this.clearGcTimeout(),ye(this,Qo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xt(this,sd,ye(this,sd).filter(n=>n!==t)),this.scheduleGc(),ye(this,Qo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,sd).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Qo).remove(this))}continue(){var t;return((t=ye(this,Wv))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,d,h,p,m,v,y,C,S,x,R,A,T,L,O;const n=()=>{Fn(this,od,Hp).call(this,{type:"continue"})};xt(this,Wv,z7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,H)=>{Fn(this,od,Hp).call(this,{type:"failed",failureCount:F,error:H})},onPause:()=>{Fn(this,od,Hp).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Qo).canRun(this)}));const i=this.state.status==="pending",r=!ye(this,Wv).canStart();try{if(i)n();else{Fn(this,od,Hp).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=ye(this,Qo).config).onMutate)==null?void 0:o.call(s,t,this));const H=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));H!==this.state.context&&Fn(this,od,Hp).call(this,{type:"pending",context:H,variables:t,isPaused:r})}const F=await ye(this,Wv).start();return await((u=(c=ye(this,Qo).config).onSuccess)==null?void 0:u.call(c,F,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,F,t,this.state.context)),await((m=(p=ye(this,Qo).config).onSettled)==null?void 0:m.call(p,F,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,F,null,t,this.state.context)),Fn(this,od,Hp).call(this,{type:"success",data:F}),F}catch(F){try{throw await((S=(C=ye(this,Qo).config).onError)==null?void 0:S.call(C,F,t,this.state.context,this)),await((R=(x=this.options).onError)==null?void 0:R.call(x,F,t,this.state.context)),await((T=(A=ye(this,Qo).config).onSettled)==null?void 0:T.call(A,void 0,F,this.state.variables,this.state.context,this)),await((O=(L=this.options).onSettled)==null?void 0:O.call(L,void 0,F,t,this.state.context)),F}finally{Fn(this,od,Hp).call(this,{type:"error",error:F})}}finally{ye(this,Qo).runNext(this)}}},sd=new WeakMap,Qo=new WeakMap,Wv=new WeakMap,od=new WeakSet,Hp=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qs.batch(()=>{ye(this,sd).forEach(i=>{i.onMutationUpdate(t)}),ye(this,Qo).notify({mutation:this,type:"updated",action:t})})},O8);function Ube(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zh,Vc,fR,P8,Wbe=(P8=class extends MR{constructor(t={}){super();Jt(this,zh);Jt(this,Vc);Jt(this,fR);this.config=t,xt(this,zh,new Set),xt(this,Vc,new Map),xt(this,fR,0)}build(t,n,i){const r=new Vbe({mutationCache:this,mutationId:++sD(this,fR)._,options:t.defaultMutationOptions(n),state:i});return this.add(r),r}add(t){ye(this,zh).add(t);const n=vD(t);if(typeof n=="string"){const i=ye(this,Vc).get(n);i?i.push(t):ye(this,Vc).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,zh).delete(t)){const n=vD(t);if(typeof n=="string"){const i=ye(this,Vc).get(n);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&ye(this,Vc).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=vD(t);if(typeof n=="string"){const i=ye(this,Vc).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var i;const n=vD(t);if(typeof n=="string"){const r=(i=ye(this,Vc).get(n))==null?void 0:i.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qs.batch(()=>{ye(this,zh).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,zh).clear(),ye(this,Vc).clear()})}getAll(){return Array.from(ye(this,zh))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>G3(n,i))}findAll(t={}){return this.getAll().filter(n=>G3(t,n))}notify(t){Qs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qs.batch(()=>Promise.all(t.map(n=>n.continue().catch(Oa))))}},zh=new WeakMap,Vc=new WeakMap,fR=new WeakMap,P8);function vD(e){var t;return(t=e.options.scope)==null?void 0:t.id}function V3(e){return{onFetch:(t,n)=>{var u,d,h,p,m;const i=t.options,r=(h=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},C=_7(t.options,t.fetchOptions),S=async(x,R,A)=>{if(v)return Promise.reject();if(R==null&&x.pages.length)return Promise.resolve(x);const L=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:R,direction:A?"backward":"forward",meta:t.options.meta};return y(W),W})(),O=await C(L),{maxPages:F}=t.options,H=A?kbe:Lbe;return{pages:H(x.pages,O,F),pageParams:H(x.pageParams,R,F)}};if(r&&s.length){const x=r==="backward",R=x?jbe:U3,A={pages:s,pageParams:o},T=R(i,A);a=await S(A,T,x)}else{const x=e??s.length;do{const R=l===0?o[0]??i.initialPageParam:U3(i,a);if(l>0&&R==null)break;a=await S(a,R),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function U3(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function jbe(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var xr,Xp,Qp,Kb,qb,Jp,Zb,Xb,F8,$be=(F8=class{constructor(e={}){Jt(this,xr);Jt(this,Xp);Jt(this,Qp);Jt(this,Kb);Jt(this,qb);Jt(this,Jp);Jt(this,Zb);Jt(this,Xb);xt(this,xr,e.queryCache||new U7),xt(this,Xp,e.mutationCache||new Wbe),xt(this,Qp,e.defaultOptions||{}),xt(this,Kb,new Map),xt(this,qb,new Map),xt(this,Jp,0)}mount(){sD(this,Jp)._++,ye(this,Jp)===1&&(xt(this,Zb,F4.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,xr).onFocus())})),xt(this,Xb,hN.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,xr).onOnline())})))}unmount(){var e,t;sD(this,Jp)._--,ye(this,Jp)===0&&((e=ye(this,Zb))==null||e.call(this),xt(this,Zb,void 0),(t=ye(this,Xb))==null||t.call(this),xt(this,Xb,void 0))}isFetching(e){return ye(this,xr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,Xp).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ye(this,xr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ye(this,xr).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(cg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return ye(this,xr).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=ye(this,xr).get(i.queryHash),s=r==null?void 0:r.state.data,o=Ibe(t,s);if(o!==void 0)return ye(this,xr).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qs.batch(()=>ye(this,xr).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ye(this,xr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ye(this,xr);Qs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ye(this,xr);return Qs.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Qs.batch(()=>ye(this,xr).findAll(e).map(r=>r.cancel(n)));return Promise.all(i).then(Oa).catch(Oa)}invalidateQueries(e,t={}){return Qs.batch(()=>(ye(this,xr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Qs.batch(()=>ye(this,xr).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Oa)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Oa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ye(this,xr).build(this,t);return n.isStaleByTime(cg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Oa).catch(Oa)}fetchInfiniteQuery(e){return e.behavior=V3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Oa).catch(Oa)}ensureInfiniteQueryData(e){return e.behavior=V3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hN.isOnline()?ye(this,Xp).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,xr)}getMutationCache(){return ye(this,Xp)}getDefaultOptions(){return ye(this,Qp)}setDefaultOptions(e){xt(this,Qp,e)}setQueryDefaults(e,t){ye(this,Kb).set(SE(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Kb).values()],n={};return t.forEach(i=>{xE(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){ye(this,qb).set(SE(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,qb).values()],n={};return t.forEach(i=>{xE(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,Qp).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=O4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===P4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,Qp).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,xr).clear(),ye(this,Xp).clear()}},xr=new WeakMap,Xp=new WeakMap,Qp=new WeakMap,Kb=new WeakMap,qb=new WeakMap,Jp=new WeakMap,Zb=new WeakMap,Xb=new WeakMap,F8),La,_n,pR,Jo,jv,Qb,eg,tg,gR,Jb,ew,$v,Yv,ng,tw,fi,IM,nB,iB,rB,sB,oB,aB,lB,W7,_8,Ybe=(_8=class extends MR{constructor(t,n){super();Jt(this,fi);Jt(this,La);Jt(this,_n);Jt(this,pR);Jt(this,Jo);Jt(this,jv);Jt(this,Qb);Jt(this,eg);Jt(this,tg);Jt(this,gR);Jt(this,Jb);Jt(this,ew);Jt(this,$v);Jt(this,Yv);Jt(this,ng);Jt(this,tw,new Set);this.options=n,xt(this,La,t),xt(this,tg,null),xt(this,eg,tB()),this.options.experimental_prefetchInRender||ye(this,eg).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,_n).addObserver(this),W3(ye(this,_n),this.options)?Fn(this,fi,IM).call(this):this.updateResult(),Fn(this,fi,sB).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cB(ye(this,_n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cB(ye(this,_n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fn(this,fi,oB).call(this),Fn(this,fi,aB).call(this),ye(this,_n).removeObserver(this)}setOptions(t){const n=this.options,i=ye(this,_n);if(this.options=ye(this,La).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Uc(this.options.enabled,ye(this,_n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fn(this,fi,lB).call(this),ye(this,_n).setOptions(this.options),n._defaulted&&!Q_(this.options,n)&&ye(this,La).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,_n),observer:this});const r=this.hasListeners();r&&j3(ye(this,_n),i,this.options,n)&&Fn(this,fi,IM).call(this),this.updateResult(),r&&(ye(this,_n)!==i||Uc(this.options.enabled,ye(this,_n))!==Uc(n.enabled,ye(this,_n))||cg(this.options.staleTime,ye(this,_n))!==cg(n.staleTime,ye(this,_n)))&&Fn(this,fi,nB).call(this);const s=Fn(this,fi,iB).call(this);r&&(ye(this,_n)!==i||Uc(this.options.enabled,ye(this,_n))!==Uc(n.enabled,ye(this,_n))||s!==ye(this,ng))&&Fn(this,fi,rB).call(this,s)}getOptimisticResult(t){const n=ye(this,La).getQueryCache().build(ye(this,La),t),i=this.createResult(n,t);return qbe(this,i)&&(xt(this,Jo,i),xt(this,Qb,this.options),xt(this,jv,ye(this,_n).state)),i}getCurrentResult(){return ye(this,Jo)}trackResult(t,n){return new Proxy(t,{get:(i,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(i,r))})}trackProp(t){ye(this,tw).add(t)}getCurrentQuery(){return ye(this,_n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ye(this,La).defaultQueryOptions(t),i=ye(this,La).getQueryCache().build(ye(this,La),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return Fn(this,fi,IM).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,Jo)))}createResult(t,n){var F;const i=ye(this,_n),r=this.options,s=ye(this,Jo),o=ye(this,jv),a=ye(this,Qb),c=t!==i?t.state:ye(this,pR),{state:u}=t;let d={...u},h=!1,p;if(n._optimisticResults){const H=this.hasListeners(),W=!H&&W3(t,n),$=H&&j3(t,i,n,r);(W||$)&&(d={...d,...V7(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:y}=d;p=d.data;let C=!1;if(n.placeholderData!==void 0&&p===void 0&&y==="pending"){let H;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(H=s.data,C=!0):H=typeof n.placeholderData=="function"?n.placeholderData((F=ye(this,ew))==null?void 0:F.state.data,ye(this,ew)):n.placeholderData,H!==void 0&&(y="success",p=eB(s==null?void 0:s.data,H,n),h=!0)}if(n.select&&p!==void 0&&!C)if(s&&p===(o==null?void 0:o.data)&&n.select===ye(this,gR))p=ye(this,Jb);else try{xt(this,gR,n.select),p=n.select(p),p=eB(s==null?void 0:s.data,p,n),xt(this,Jb,p),xt(this,tg,null)}catch(H){xt(this,tg,H)}ye(this,tg)&&(m=ye(this,tg),p=ye(this,Jb),v=Date.now(),y="error");const S=d.fetchStatus==="fetching",x=y==="pending",R=y==="error",A=x&&S,T=p!==void 0,O={status:y,fetchStatus:d.fetchStatus,isPending:x,isSuccess:y==="success",isError:R,isInitialLoading:A,isLoading:A,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!x,isLoadingError:R&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:R&&T,isStale:_4(t,n),refetch:this.refetch,promise:ye(this,eg)};if(this.options.experimental_prefetchInRender){const H=Z=>{O.status==="error"?Z.reject(O.error):O.data!==void 0&&Z.resolve(O.data)},W=()=>{const Z=xt(this,eg,O.promise=tB());H(Z)},$=ye(this,eg);switch($.status){case"pending":t.queryHash===i.queryHash&&H($);break;case"fulfilled":(O.status==="error"||O.data!==$.value)&&W();break;case"rejected":(O.status!=="error"||O.error!==$.reason)&&W();break}}return O}updateResult(){const t=ye(this,Jo),n=this.createResult(ye(this,_n),this.options);if(xt(this,jv,ye(this,_n).state),xt(this,Qb,this.options),ye(this,jv).data!==void 0&&xt(this,ew,ye(this,_n)),Q_(n,t))return;xt(this,Jo,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!ye(this,tw).size)return!0;const o=new Set(s??ye(this,tw));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,Jo)).some(a=>{const l=a;return ye(this,Jo)[l]!==t[l]&&o.has(l)})};Fn(this,fi,W7).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fn(this,fi,sB).call(this)}},La=new WeakMap,_n=new WeakMap,pR=new WeakMap,Jo=new WeakMap,jv=new WeakMap,Qb=new WeakMap,eg=new WeakMap,tg=new WeakMap,gR=new WeakMap,Jb=new WeakMap,ew=new WeakMap,$v=new WeakMap,Yv=new WeakMap,ng=new WeakMap,tw=new WeakMap,fi=new WeakSet,IM=function(t){Fn(this,fi,lB).call(this);let n=ye(this,_n).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Oa)),n},nB=function(){Fn(this,fi,oB).call(this);const t=cg(this.options.staleTime,ye(this,_n));if(yy||ye(this,Jo).isStale||!X_(t))return;const i=P7(ye(this,Jo).dataUpdatedAt,t)+1;xt(this,$v,setTimeout(()=>{ye(this,Jo).isStale||this.updateResult()},i))},iB=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,_n)):this.options.refetchInterval)??!1},rB=function(t){Fn(this,fi,aB).call(this),xt(this,ng,t),!(yy||Uc(this.options.enabled,ye(this,_n))===!1||!X_(ye(this,ng))||ye(this,ng)===0)&&xt(this,Yv,setInterval(()=>{(this.options.refetchIntervalInBackground||F4.isFocused())&&Fn(this,fi,IM).call(this)},ye(this,ng)))},sB=function(){Fn(this,fi,nB).call(this),Fn(this,fi,rB).call(this,Fn(this,fi,iB).call(this))},oB=function(){ye(this,$v)&&(clearTimeout(ye(this,$v)),xt(this,$v,void 0))},aB=function(){ye(this,Yv)&&(clearInterval(ye(this,Yv)),xt(this,Yv,void 0))},lB=function(){const t=ye(this,La).getQueryCache().build(ye(this,La),this.options);if(t===ye(this,_n))return;const n=ye(this,_n);xt(this,_n,t),xt(this,pR,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},W7=function(t){Qs.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ye(this,Jo))}),ye(this,La).getQueryCache().notify({query:ye(this,_n),type:"observerResultsUpdated"})})},_8);function Kbe(e,t){return Uc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function W3(e,t){return Kbe(e,t)||e.state.data!==void 0&&cB(e,t,t.refetchOnMount)}function cB(e,t,n){if(Uc(t.enabled,e)!==!1&&cg(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&_4(e,t)}return!1}function j3(e,t,n,i){return(e!==t||Uc(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_4(e,n)}function _4(e,t){return Uc(t.enabled,e)!==!1&&e.isStaleByTime(cg(t.staleTime,e))}function qbe(e,t){return!Q_(e.getCurrentResult(),t)}var j7=I.createContext(void 0),Zbe=e=>{const t=I.useContext(j7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Xbe=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.jsx(j7.Provider,{value:e,children:t})),$7=I.createContext(!1),Qbe=()=>I.useContext($7);$7.Provider;function Jbe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ewe=I.createContext(Jbe()),twe=()=>I.useContext(ewe),nwe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iwe=e=>{I.useEffect(()=>{e.clearReset()},[e])},rwe=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(r&&e.data===void 0||Obe(n,[e.error,i])),swe=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>t(n(...i)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},owe=(e,t)=>e.isLoading&&e.isFetching&&!t,awe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$3=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function lwe(e,t,n){var d,h,p,m,v;const i=Qbe(),r=twe(),s=Zbe(),o=s.defaultQueryOptions(e);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",swe(o),nwe(o,r),iwe(r);const a=!s.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(s,o)),c=l.getOptimisticResult(o),u=!i&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(y=>{const C=u?l.subscribe(Qs.batchCalls(y)):Oa;return l.updateResult(),C},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),awe(o,c))throw $3(o,l,r);if(rwe({result:c,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,c),o.experimental_prefetchInRender&&!yy&&owe(c,i)){const y=a?$3(o,l,r):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Oa).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function bg(e,t){return lwe(e,Ybe)}class B4{constructor(t){wU(this,"error");const{detail:n}=t;this.error=(n==null?void 0:n[0].msg)||"Unknown error"}}var NM={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var cwe=NM.exports,Y3;function uwe(){return Y3||(Y3=1,function(e,t){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,h=2,p=4,m=1,v=2,y=1,C=2,S=4,x=8,R=16,A=32,T=64,L=128,O=256,F=512,H=30,W="...",$=800,Z=16,ie=1,oe=2,te=3,ae=1/0,ne=9007199254740991,Se=17976931348623157e292,q=NaN,re=4294967295,K=re-1,V=re>>>1,G=[["ary",L],["bind",y],["bindKey",C],["curry",x],["curryRight",R],["flip",F],["partial",A],["partialRight",T],["rearg",O]],se="[object Arguments]",Y="[object Array]",ue="[object AsyncFunction]",J="[object Boolean]",he="[object Date]",Te="[object DOMException]",ve="[object Error]",Re="[object Function]",ke="[object GeneratorFunction]",He="[object Map]",st="[object Number]",Dt="[object Null]",ot="[object Object]",dt="[object Promise]",Ue="[object Proxy]",qe="[object RegExp]",at="[object Set]",nt="[object String]",Fe="[object Symbol]",de="[object Undefined]",we="[object WeakMap]",Ge="[object WeakSet]",Le="[object ArrayBuffer]",Qe="[object DataView]",mt="[object Float32Array]",ln="[object Float64Array]",Mn="[object Int8Array]",Lt="[object Int16Array]",jt="[object Int32Array]",Vn="[object Uint8Array]",ls="[object Uint8ClampedArray]",jr="[object Uint16Array]",Ss="[object Uint32Array]",fc=/\b__p \+= '';/g,Qt=/\b(__p \+=) '' \+/g,Un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/&(?:amp|lt|gt|quot|#39);/g,$r=/[&<>"']/g,Fs=RegExp(In.source),bt=RegExp($r.source),fn=/<%-([\s\S]+?)%>/g,Mi=/<%([\s\S]+?)%>/g,sn=/<%=([\s\S]+?)%>/g,Wa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,th=/^\w*$/,ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/[\\^$.*+?()[\]{}|]/g,Yr=RegExp(Zi.source),bu=/^\s+/,fS=/\s/,OO=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,PO=/\{\n\/\* \[wrapped with (.+)\] \*/,B1=/,? & /,em=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pS=/[()=,{}\[\]\/\s]/,_f=/\\(\\)?/g,Bf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gf=/\w*$/,zf=/^[-+]0x[0-9a-f]+$/i,Kr=/^0b[01]+$/i,G1=/^\[object .+?Constructor\]$/,z1=/^0o[0-7]+$/i,nh=/^(?:0|[1-9]\d*)$/,Hf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u0=/($^)/,H1=/['\n\r\u2028\u2029\\]/g,tm="\\ud800-\\udfff",FO="\\u0300-\\u036f",d0="\\ufe20-\\ufe2f",h0="\\u20d0-\\u20ff",xl=FO+d0+h0,f0="\\u2700-\\u27bf",gS="a-z\\xdf-\\xf6\\xf8-\\xff",Vf="\\xac\\xb1\\xd7\\xf7",mS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vS="\\u2000-\\u206f",_O=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yS="A-Z\\xc0-\\xd6\\xd8-\\xde",Go="\\ufe0e\\ufe0f",CS=Vf+mS+vS+_O,bS="['’]",p0="["+tm+"]",wS="["+CS+"]",ih="["+xl+"]",V1="\\d+",fa="["+f0+"]",g0="["+gS+"]",SS="[^"+tm+CS+V1+f0+gS+yS+"]",nm="\\ud83c[\\udffb-\\udfff]",Uf="(?:"+ih+"|"+nm+")",xS="[^"+tm+"]",m0="(?:\\ud83c[\\udde6-\\uddff]){2}",wu="[\\ud800-\\udbff][\\udc00-\\udfff]",Wf="["+yS+"]",MS="\\u200d",ES="(?:"+g0+"|"+SS+")",RS="(?:"+Wf+"|"+SS+")",U1="(?:"+bS+"(?:d|ll|m|re|s|t|ve))?",W1="(?:"+bS+"(?:D|LL|M|RE|S|T|VE))?",im=Uf+"?",v0="["+Go+"]?",AS="(?:"+MS+"(?:"+[xS,m0,wu].join("|")+")"+v0+im+")*",jf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$f="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",TS=v0+im+AS,DS="(?:"+[fa,m0,wu].join("|")+")"+TS,j1="(?:"+[xS+ih+"?",ih,m0,wu,p0].join("|")+")",rm=RegExp(bS,"g"),pc=RegExp(ih,"g"),sm=RegExp(nm+"(?="+nm+")|"+j1+TS,"g"),om=RegExp([Wf+"?"+g0+"+"+U1+"(?="+[wS,Wf,"$"].join("|")+")",RS+"+"+W1+"(?="+[wS,Wf+ES,"$"].join("|")+")",Wf+"?"+ES+"+"+U1,Wf+"+"+W1,$f,jf,V1,DS].join("|"),"g"),Su=RegExp("["+MS+tm+xl+Go+"]"),IS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,y0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$1=-1,ai={};ai[mt]=ai[ln]=ai[Mn]=ai[Lt]=ai[jt]=ai[Vn]=ai[ls]=ai[jr]=ai[Ss]=!0,ai[se]=ai[Y]=ai[Le]=ai[J]=ai[Qe]=ai[he]=ai[ve]=ai[Re]=ai[He]=ai[st]=ai[ot]=ai[qe]=ai[at]=ai[nt]=ai[we]=!1;var Qn={};Qn[se]=Qn[Y]=Qn[Le]=Qn[Qe]=Qn[J]=Qn[he]=Qn[mt]=Qn[ln]=Qn[Mn]=Qn[Lt]=Qn[jt]=Qn[He]=Qn[st]=Qn[ot]=Qn[qe]=Qn[at]=Qn[nt]=Qn[Fe]=Qn[Vn]=Qn[ls]=Qn[jr]=Qn[Ss]=!0,Qn[ve]=Qn[Re]=Qn[we]=!1;var Y1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ao={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},C0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},am=parseFloat,BO=parseInt,b0=typeof oD=="object"&&oD&&oD.Object===Object&&oD,NS=typeof self=="object"&&self&&self.Object===Object&&self,or=b0||NS||Function("return this")(),Yf=t&&!t.nodeType&&t,xu=Yf&&!0&&e&&!e.nodeType&&e,K1=xu&&xu.exports===Yf,LS=K1&&b0.process,pa=function(){try{var be=xu&&xu.require&&xu.require("util").types;return be||LS&&LS.binding&&LS.binding("util")}catch{}}(),w0=pa&&pa.isArrayBuffer,q1=pa&&pa.isDate,Z1=pa&&pa.isMap,X1=pa&&pa.isRegExp,Q1=pa&&pa.isSet,J1=pa&&pa.isTypedArray;function lo(be,Ve,Ne){switch(Ne.length){case 0:return be.call(Ve);case 1:return be.call(Ve,Ne[0]);case 2:return be.call(Ve,Ne[0],Ne[1]);case 3:return be.call(Ve,Ne[0],Ne[1],Ne[2])}return be.apply(Ve,Ne)}function GO(be,Ve,Ne,vt){for(var $t=-1,Ln=be==null?0:be.length;++$t<Ln;){var wr=be[$t];Ve(vt,wr,Ne(wr),be)}return vt}function ga(be,Ve){for(var Ne=-1,vt=be==null?0:be.length;++Ne<vt&&Ve(be[Ne],Ne,be)!==!1;);return be}function zO(be,Ve){for(var Ne=be==null?0:be.length;Ne--&&Ve(be[Ne],Ne,be)!==!1;);return be}function eA(be,Ve){for(var Ne=-1,vt=be==null?0:be.length;++Ne<vt;)if(!Ve(be[Ne],Ne,be))return!1;return!0}function Ml(be,Ve){for(var Ne=-1,vt=be==null?0:be.length,$t=0,Ln=[];++Ne<vt;){var wr=be[Ne];Ve(wr,Ne,be)&&(Ln[$t++]=wr)}return Ln}function S0(be,Ve){var Ne=be==null?0:be.length;return!!Ne&&Kf(be,Ve,0)>-1}function kS(be,Ve,Ne){for(var vt=-1,$t=be==null?0:be.length;++vt<$t;)if(Ne(Ve,be[vt]))return!0;return!1}function Pi(be,Ve){for(var Ne=-1,vt=be==null?0:be.length,$t=Array(vt);++Ne<vt;)$t[Ne]=Ve(be[Ne],Ne,be);return $t}function gc(be,Ve){for(var Ne=-1,vt=Ve.length,$t=be.length;++Ne<vt;)be[$t+Ne]=Ve[Ne];return be}function OS(be,Ve,Ne,vt){var $t=-1,Ln=be==null?0:be.length;for(vt&&Ln&&(Ne=be[++$t]);++$t<Ln;)Ne=Ve(Ne,be[$t],$t,be);return Ne}function HO(be,Ve,Ne,vt){var $t=be==null?0:be.length;for(vt&&$t&&(Ne=be[--$t]);$t--;)Ne=Ve(Ne,be[$t],$t,be);return Ne}function PS(be,Ve){for(var Ne=-1,vt=be==null?0:be.length;++Ne<vt;)if(Ve(be[Ne],Ne,be))return!0;return!1}var VO=M0("length");function UO(be){return be.split("")}function WO(be){return be.match(em)||[]}function tA(be,Ve,Ne){var vt;return Ne(be,function($t,Ln,wr){if(Ve($t,Ln,wr))return vt=Ln,!1}),vt}function x0(be,Ve,Ne,vt){for(var $t=be.length,Ln=Ne+(vt?1:-1);vt?Ln--:++Ln<$t;)if(Ve(be[Ln],Ln,be))return Ln;return-1}function Kf(be,Ve,Ne){return Ve===Ve?KO(be,Ve,Ne):x0(be,qf,Ne)}function FS(be,Ve,Ne,vt){for(var $t=Ne-1,Ln=be.length;++$t<Ln;)if(vt(be[$t],Ve))return $t;return-1}function qf(be){return be!==be}function nA(be,Ve){var Ne=be==null?0:be.length;return Ne?R0(be,Ve)/Ne:q}function M0(be){return function(Ve){return Ve==null?n:Ve[be]}}function E0(be){return function(Ve){return be==null?n:be[Ve]}}function _S(be,Ve,Ne,vt,$t){return $t(be,function(Ln,wr,kn){Ne=vt?(vt=!1,Ln):Ve(Ne,Ln,wr,kn)}),Ne}function iA(be,Ve){var Ne=be.length;for(be.sort(Ve);Ne--;)be[Ne]=be[Ne].value;return be}function R0(be,Ve){for(var Ne,vt=-1,$t=be.length;++vt<$t;){var Ln=Ve(be[vt]);Ln!==n&&(Ne=Ne===n?Ln:Ne+Ln)}return Ne}function Mu(be,Ve){for(var Ne=-1,vt=Array(be);++Ne<be;)vt[Ne]=Ve(Ne);return vt}function jO(be,Ve){return Pi(Ve,function(Ne){return[Ne,be[Ne]]})}function rA(be){return be&&be.slice(0,GS(be)+1).replace(bu,"")}function zo(be){return function(Ve){return be(Ve)}}function A0(be,Ve){return Pi(Ve,function(Ne){return be[Ne]})}function Zf(be,Ve){return be.has(Ve)}function Xf(be,Ve){for(var Ne=-1,vt=be.length;++Ne<vt&&Kf(Ve,be[Ne],0)>-1;);return Ne}function Qf(be,Ve){for(var Ne=be.length;Ne--&&Kf(Ve,be[Ne],0)>-1;);return Ne}function $O(be,Ve){for(var Ne=be.length,vt=0;Ne--;)be[Ne]===Ve&&++vt;return vt}var T0=E0(Y1),sA=E0(ao);function oA(be){return"\\"+C0[be]}function BS(be,Ve){return be==null?n:be[Ve]}function Eu(be){return Su.test(be)}function aA(be){return IS.test(be)}function lA(be){for(var Ve,Ne=[];!(Ve=be.next()).done;)Ne.push(Ve.value);return Ne}function D0(be){var Ve=-1,Ne=Array(be.size);return be.forEach(function(vt,$t){Ne[++Ve]=[$t,vt]}),Ne}function cA(be,Ve){return function(Ne){return be(Ve(Ne))}}function Ru(be,Ve){for(var Ne=-1,vt=be.length,$t=0,Ln=[];++Ne<vt;){var wr=be[Ne];(wr===Ve||wr===u)&&(be[Ne]=u,Ln[$t++]=Ne)}return Ln}function I0(be){var Ve=-1,Ne=Array(be.size);return be.forEach(function(vt){Ne[++Ve]=vt}),Ne}function YO(be){var Ve=-1,Ne=Array(be.size);return be.forEach(function(vt){Ne[++Ve]=[vt,vt]}),Ne}function KO(be,Ve,Ne){for(var vt=Ne-1,$t=be.length;++vt<$t;)if(be[vt]===Ve)return vt;return-1}function Ho(be,Ve,Ne){for(var vt=Ne+1;vt--;)if(be[vt]===Ve)return vt;return vt}function El(be){return Eu(be)?dA(be):VO(be)}function ma(be){return Eu(be)?zS(be):UO(be)}function GS(be){for(var Ve=be.length;Ve--&&fS.test(be.charAt(Ve)););return Ve}var uA=E0(rh);function dA(be){for(var Ve=sm.lastIndex=0;sm.test(be);)++Ve;return Ve}function zS(be){return be.match(sm)||[]}function qO(be){return be.match(om)||[]}var Jf=function be(Ve){Ve=Ve==null?or:Au.defaults(or.Object(),Ve,Au.pick(or,y0));var Ne=Ve.Array,vt=Ve.Date,$t=Ve.Error,Ln=Ve.Function,wr=Ve.Math,kn=Ve.Object,N0=Ve.RegExp,hA=Ve.String,Vo=Ve.TypeError,L0=Ne.prototype,ZO=Ln.prototype,ep=kn.prototype,lm=Ve["__core-js_shared__"],cm=ZO.toString,Wn=ep.hasOwnProperty,ja=0,HS=function(){var w=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),_s=ep.toString,va=cm.call(kn),tp=or._,VS=N0("^"+cm.call(Wn).replace(Zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sh=K1?Ve.Buffer:n,$a=Ve.Symbol,np=Ve.Uint8Array,oh=sh?sh.allocUnsafe:n,um=cA(kn.getPrototypeOf,kn),dm=kn.create,ah=ep.propertyIsEnumerable,k0=L0.splice,co=$a?$a.isConcatSpreadable:n,lh=$a?$a.iterator:n,Bs=$a?$a.toStringTag:n,hm=function(){try{var w=Fu(kn,"defineProperty");return w({},"",{}),w}catch{}}(),O0=Ve.clearTimeout!==or.clearTimeout&&Ve.clearTimeout,ch=vt&&vt.now!==or.Date.now&&vt.now,US=Ve.setTimeout!==or.setTimeout&&Ve.setTimeout,ip=wr.ceil,mc=wr.floor,Tu=kn.getOwnPropertySymbols,P0=sh?sh.isBuffer:n,fm=Ve.isFinite,ya=L0.join,Ca=cA(kn.keys,kn),Ri=wr.max,Fi=wr.min,vc=vt.now,uh=Ve.parseInt,WS=wr.random,jS=L0.reverse,pm=Fu(Ve,"DataView"),Ir=Fu(Ve,"Map"),_i=Fu(Ve,"Promise"),Sn=Fu(Ve,"Set"),Ya=Fu(Ve,"WeakMap"),uo=Fu(kn,"create"),rp=Ya&&new Ya,ba={},fA=Rc(pm),pA=Rc(Ir),gm=Rc(_i),mm=Rc(Sn),gA=Rc(Ya),Du=$a?$a.prototype:n,dh=Du?Du.valueOf:n,Iu=Du?Du.toString:n;function X(w){if(Vi(w)&&!Xt(w)&&!(w instanceof pn)){if(w instanceof ho)return w;if(Wn.call(w,"__wrapped__"))return Lr(w)}return new ho(w)}var Uo=function(){function w(){}return function(M){if(!Gi(M))return{};if(dm)return dm(M);w.prototype=M;var N=new w;return w.prototype=n,N}}();function wa(){}function ho(w,M){this.__wrapped__=w,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=n}X.templateSettings={escape:fn,evaluate:Mi,interpolate:sn,variable:"",imports:{_:X}},X.prototype=wa.prototype,X.prototype.constructor=X,ho.prototype=Uo(wa.prototype),ho.prototype.constructor=ho;function pn(w){this.__wrapped__=w,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function vm(){var w=new pn(this.__wrapped__);return w.__actions__=Nr(this.__actions__),w.__dir__=this.__dir__,w.__filtered__=this.__filtered__,w.__iteratees__=Nr(this.__iteratees__),w.__takeCount__=this.__takeCount__,w.__views__=Nr(this.__views__),w}function F0(){if(this.__filtered__){var w=new pn(this);w.__dir__=-1,w.__filtered__=!0}else w=this.clone(),w.__dir__*=-1;return w}function hh(){var w=this.__wrapped__.value(),M=this.__dir__,N=Xt(w),_=M<0,j=N?w.length:0,ee=KA(0,j,this.__views__),le=ee.start,fe=ee.end,Me=fe-le,$e=_?fe:le-1,Ke=this.__iteratees__,tt=Ke.length,yt=0,Tt=Fi(Me,this.__takeCount__);if(!N||!_&&j==Me&&Tt==Me)return OA(w,this.__actions__);var Kt=[];e:for(;Me--&&yt<Tt;){$e+=M;for(var mn=-1,qt=w[$e];++mn<tt;){var Rn=Ke[mn],Pn=Rn.iteratee,el=Rn.type,Zo=Pn(qt);if(el==oe)qt=Zo;else if(!Zo){if(el==ie)continue e;break e}}Kt[yt++]=qt}return Kt}pn.prototype=Uo(wa.prototype),pn.prototype.constructor=pn;function Xi(w){var M=-1,N=w==null?0:w.length;for(this.clear();++M<N;){var _=w[M];this.set(_[0],_[1])}}function _0(){this.__data__=uo?uo(null):{},this.size=0}function mA(w){var M=this.has(w)&&delete this.__data__[w];return this.size-=M?1:0,M}function XO(w){var M=this.__data__;if(uo){var N=M[w];return N===l?n:N}return Wn.call(M,w)?M[w]:n}function QO(w){var M=this.__data__;return uo?M[w]!==n:Wn.call(M,w)}function JO(w,M){var N=this.__data__;return this.size+=this.has(w)?0:1,N[w]=uo&&M===n?l:M,this}Xi.prototype.clear=_0,Xi.prototype.delete=mA,Xi.prototype.get=XO,Xi.prototype.has=QO,Xi.prototype.set=JO;function gi(w){var M=-1,N=w==null?0:w.length;for(this.clear();++M<N;){var _=w[M];this.set(_[0],_[1])}}function $S(){this.__data__=[],this.size=0}function ym(w){var M=this.__data__,N=ap(M,w);if(N<0)return!1;var _=M.length-1;return N==_?M.pop():k0.call(M,N,1),--this.size,!0}function Cm(w){var M=this.__data__,N=ap(M,w);return N<0?n:M[N][1]}function YS(w){return ap(this.__data__,w)>-1}function sp(w,M){var N=this.__data__,_=ap(N,w);return _<0?(++this.size,N.push([w,M])):N[_][1]=M,this}gi.prototype.clear=$S,gi.prototype.delete=ym,gi.prototype.get=Cm,gi.prototype.has=YS,gi.prototype.set=sp;function fo(w){var M=-1,N=w==null?0:w.length;for(this.clear();++M<N;){var _=w[M];this.set(_[0],_[1])}}function eP(){this.size=0,this.__data__={hash:new Xi,map:new(Ir||gi),string:new Xi}}function vA(w){var M=fp(this,w).delete(w);return this.size-=M?1:0,M}function tP(w){return fp(this,w).get(w)}function yA(w){return fp(this,w).has(w)}function fh(w,M){var N=fp(this,w),_=N.size;return N.set(w,M),this.size+=N.size==_?0:1,this}fo.prototype.clear=eP,fo.prototype.delete=vA,fo.prototype.get=tP,fo.prototype.has=yA,fo.prototype.set=fh;function yc(w){var M=-1,N=w==null?0:w.length;for(this.__data__=new fo;++M<N;)this.add(w[M])}function B0(w){return this.__data__.set(w,l),this}function CA(w){return this.__data__.has(w)}yc.prototype.add=yc.prototype.push=B0,yc.prototype.has=CA;function Gs(w){var M=this.__data__=new gi(w);this.size=M.size}function bA(){this.__data__=new gi,this.size=0}function G0(w){var M=this.__data__,N=M.delete(w);return this.size=M.size,N}function KS(w){return this.__data__.get(w)}function wA(w){return this.__data__.has(w)}function z0(w,M){var N=this.__data__;if(N instanceof gi){var _=N.__data__;if(!Ir||_.length<r-1)return _.push([w,M]),this.size=++N.size,this;N=this.__data__=new fo(_)}return N.set(w,M),this.size=N.size,this}Gs.prototype.clear=bA,Gs.prototype.delete=G0,Gs.prototype.get=KS,Gs.prototype.has=wA,Gs.prototype.set=z0;function qS(w,M){var N=Xt(w),_=!N&&Ic(w),j=!N&&!_&&$u(w),ee=!N&&!_&&!j&&Ap(w),le=N||_||j||ee,fe=le?Mu(w.length,hA):[],Me=fe.length;for(var $e in w)(M||Wn.call(w,$e))&&!(le&&($e=="length"||j&&($e=="offset"||$e=="parent")||ee&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||Xa($e,Me)))&&fe.push($e);return fe}function op(w){var M=w.length;return M?w[Z0(0,M-1)]:n}function SA(w,M){return $m(Nr(w),qa(M,0,w.length))}function xA(w){return $m(Nr(w))}function Rl(w,M,N){(N!==n&&!bo(w[M],N)||N===n&&!(M in w))&&Ka(w,M,N)}function ph(w,M,N){var _=w[M];(!(Wn.call(w,M)&&bo(_,N))||N===n&&!(M in w))&&Ka(w,M,N)}function ap(w,M){for(var N=w.length;N--;)if(bo(w[N][0],M))return N;return-1}function Nu(w,M,N,_){return bc(w,function(j,ee,le){M(_,j,N(j),le)}),_}function Cc(w,M){return w&&mo(M,Pr(M),w)}function bm(w,M){return w&&mo(M,Xr(M),w)}function Ka(w,M,N){M=="__proto__"&&hm?hm(w,M,{configurable:!0,enumerable:!0,value:N,writable:!0}):w[M]=N}function wm(w,M){for(var N=-1,_=M.length,j=Ne(_),ee=w==null;++N<_;)j[N]=ee?n:ov(w,M[N]);return j}function qa(w,M,N){return w===w&&(N!==n&&(w=w<=N?w:N),M!==n&&(w=w>=M?w:M)),w}function xs(w,M,N,_,j,ee){var le,fe=M&d,Me=M&h,$e=M&p;if(N&&(le=j?N(w,_,j,ee):N(w)),le!==n)return le;if(!Gi(w))return w;var Ke=Xt(w);if(Ke){if(le=wx(w),!fe)return Nr(w,le)}else{var tt=Zr(w),yt=tt==Re||tt==ke;if($u(w))return fx(w,fe);if(tt==ot||tt==se||yt&&!j){if(le=Me||yt?{}:Sx(w),!fe)return Me?Om(w,bm(le,w)):nC(w,Cc(le,w))}else{if(!Qn[tt])return j?w:{};le=xx(w,tt,fe)}}ee||(ee=new Gs);var Tt=ee.get(w);if(Tt)return Tt;ee.set(w,le),zT(w)?w.forEach(function(qt){le.add(xs(qt,M,N,qt,w,ee))}):AC(w)&&w.forEach(function(qt,Rn){le.set(Rn,xs(qt,M,N,Rn,w,ee))});var Kt=$e?Me?oC:sC:Me?Xr:Pr,mn=Ke?n:Kt(w);return ga(mn||w,function(qt,Rn){mn&&(Rn=qt,qt=w[Rn]),ph(le,Rn,xs(qt,M,N,Rn,w,ee))}),le}function MA(w){var M=Pr(w);return function(N){return ZS(N,w,M)}}function ZS(w,M,N){var _=N.length;if(w==null)return!_;for(w=kn(w);_--;){var j=N[_],ee=M[j],le=w[j];if(le===n&&!(j in w)||!ee(le))return!1}return!0}function gh(w,M,N){if(typeof w!="function")throw new Vo(o);return gp(function(){w.apply(n,N)},M)}function Lu(w,M,N,_){var j=-1,ee=S0,le=!0,fe=w.length,Me=[],$e=M.length;if(!fe)return Me;N&&(M=Pi(M,zo(N))),_?(ee=kS,le=!1):M.length>=r&&(ee=Zf,le=!1,M=new yc(M));e:for(;++j<fe;){var Ke=w[j],tt=N==null?Ke:N(Ke);if(Ke=_||Ke!==0?Ke:0,le&&tt===tt){for(var yt=$e;yt--;)if(M[yt]===tt)continue e;Me.push(Ke)}else ee(M,tt,_)||Me.push(Ke)}return Me}var bc=vx(Ms),H0=vx(cp,!0);function XS(w,M){var N=!0;return bc(w,function(_,j,ee){return N=!!M(_,j,ee),N}),N}function Za(w,M,N){for(var _=-1,j=w.length;++_<j;){var ee=w[_],le=M(ee);if(le!=null&&(fe===n?le===le&&!Vs(le):N(le,fe)))var fe=le,Me=ee}return Me}function dn(w,M,N,_){var j=w.length;for(N=rn(N),N<0&&(N=-N>j?0:j+N),_=_===n||_>j?j:rn(_),_<0&&(_+=j),_=N>_?0:Pl(_);N<_;)w[N++]=M;return w}function Jn(w,M){var N=[];return bc(w,function(_,j,ee){M(_,j,ee)&&N.push(_)}),N}function xn(w,M,N,_,j){var ee=-1,le=w.length;for(N||(N=Mc),j||(j=[]);++ee<le;){var fe=w[ee];M>0&&N(fe)?M>1?xn(fe,M-1,N,_,j):gc(j,fe):_||(j[j.length]=fe)}return j}var lp=Sh(),mh=Sh(!0);function Ms(w,M){return w&&lp(w,M,Pr)}function cp(w,M){return w&&mh(w,M,Pr)}function ku(w,M){return Ml(M,function(N){return Qa(w[N])})}function Sa(w,M){M=Sc(M,w);for(var N=0,_=M.length;w!=null&&N<_;)w=w[qn(M[N++])];return N&&N==_?w:n}function EA(w,M,N){var _=M(w);return Xt(w)?_:gc(_,N(w))}function En(w){return w==null?w===n?de:Dt:Bs&&Bs in kn(w)?YA(w):JA(w)}function Sm(w,M){return w>M}function QS(w,M){return w!=null&&Wn.call(w,M)}function RA(w,M){return w!=null&&M in kn(w)}function AA(w,M,N){return w>=Fi(M,N)&&w<Ri(M,N)}function JS(w,M,N){for(var _=N?kS:S0,j=w[0].length,ee=w.length,le=ee,fe=Ne(ee),Me=1/0,$e=[];le--;){var Ke=w[le];le&&M&&(Ke=Pi(Ke,zo(M))),Me=Fi(Ke.length,Me),fe[le]=!N&&(M||j>=120&&Ke.length>=120)?new yc(le&&Ke):n}Ke=w[0];var tt=-1,yt=fe[0];e:for(;++tt<j&&$e.length<Me;){var Tt=Ke[tt],Kt=M?M(Tt):Tt;if(Tt=N||Tt!==0?Tt:0,!(yt?Zf(yt,Kt):_($e,Kt,N))){for(le=ee;--le;){var mn=fe[le];if(!(mn?Zf(mn,Kt):_(w[le],Kt,N)))continue e}yt&&yt.push(Kt),$e.push(Tt)}}return $e}function ex(w,M,N,_){return Ms(w,function(j,ee,le){M(_,N(j),ee,le)}),_}function vh(w,M,N){M=Sc(M,w),w=pp(w,M);var _=w==null?w:w[qn(Es(M))];return _==null?n:lo(_,w,N)}function V0(w){return Vi(w)&&En(w)==se}function po(w){return Vi(w)&&En(w)==Le}function Sr(w){return Vi(w)&&En(w)==he}function yh(w,M,N,_,j){return w===M?!0:w==null||M==null||!Vi(w)&&!Vi(M)?w!==w&&M!==M:xm(w,M,N,_,yh,j)}function xm(w,M,N,_,j,ee){var le=Xt(w),fe=Xt(M),Me=le?Y:Zr(w),$e=fe?Y:Zr(M);Me=Me==se?ot:Me,$e=$e==se?ot:$e;var Ke=Me==ot,tt=$e==ot,yt=Me==$e;if(yt&&$u(w)){if(!$u(M))return!1;le=!0,Ke=!1}if(yt&&!Ke)return ee||(ee=new Gs),le||Ap(w)?jA(w,M,N,_,j,ee):$A(w,M,Me,N,_,j,ee);if(!(N&m)){var Tt=Ke&&Wn.call(w,"__wrapped__"),Kt=tt&&Wn.call(M,"__wrapped__");if(Tt||Kt){var mn=Tt?w.value():w,qt=Kt?M.value():M;return ee||(ee=new Gs),j(mn,qt,N,_,ee)}}return yt?(ee||(ee=new Gs),qr(w,M,N,_,j,ee)):!1}function U0(w){return Vi(w)&&Zr(w)==He}function Mm(w,M,N,_){var j=N.length,ee=j,le=!_;if(w==null)return!ee;for(w=kn(w);j--;){var fe=N[j];if(le&&fe[2]?fe[1]!==w[fe[0]]:!(fe[0]in w))return!1}for(;++j<ee;){fe=N[j];var Me=fe[0],$e=w[Me],Ke=fe[1];if(le&&fe[2]){if($e===n&&!(Me in w))return!1}else{var tt=new Gs;if(_)var yt=_($e,Ke,Me,w,M,tt);if(!(yt===n?yh(Ke,$e,m|v,_,tt):yt))return!1}}return!0}function Al(w){if(!Gi(w)||hC(w))return!1;var M=Qa(w)?VS:G1;return M.test(Rc(w))}function W0(w){return Vi(w)&&En(w)==qe}function tx(w){return Vi(w)&&Zr(w)==at}function nx(w){return Vi(w)&&Ah(w.length)&&!!ai[En(w)]}function ix(w){return typeof w=="function"?w:w==null?De:typeof w=="object"?Xt(w)?Y0(w[0],w[1]):sx(w):On(w)}function j0(w){if(!mi(w))return Ca(w);var M=[];for(var N in kn(w))Wn.call(w,N)&&N!="constructor"&&M.push(N);return M}function TA(w){if(!Gi(w))return _u(w);var M=mi(w),N=[];for(var _ in w)_=="constructor"&&(M||!Wn.call(w,_))||N.push(_);return N}function $0(w,M){return w<M}function rx(w,M){var N=-1,_=kr(w)?Ne(w.length):[];return bc(w,function(j,ee,le){_[++N]=M(j,ee,le)}),_}function sx(w){var M=lC(w);return M.length==1&&M[0][2]?XA(M[0][0],M[0][1]):function(N){return N===w||Mm(N,w,M)}}function Y0(w,M){return uC(w)&&ZA(M)?XA(qn(w),M):function(N){var _=ov(N,w);return _===n&&_===M?Np(N,w):yh(M,_,m|v)}}function Em(w,M,N,_,j){w!==M&&lp(M,function(ee,le){if(j||(j=new Gs),Gi(ee))nP(w,M,le,N,Em,_,j);else{var fe=_?_(fC(w,le),ee,le+"",w,M,j):n;fe===n&&(fe=ee),Rl(w,le,fe)}},Xr)}function nP(w,M,N,_,j,ee,le){var fe=fC(w,N),Me=fC(M,N),$e=le.get(Me);if($e){Rl(w,N,$e);return}var Ke=ee?ee(fe,Me,N+"",w,M,le):n,tt=Ke===n;if(tt){var yt=Xt(Me),Tt=!yt&&$u(Me),Kt=!yt&&!Tt&&Ap(Me);Ke=Me,yt||Tt||Kt?Xt(fe)?Ke=fe:er(fe)?Ke=Nr(fe):Tt?(tt=!1,Ke=fx(Me,!0)):Kt?(tt=!1,Ke=gx(Me,!0)):Ke=[]:Ra(Me)||Ic(Me)?(Ke=fe,Ic(fe)?Ke=UT(fe):(!Gi(fe)||Qa(fe))&&(Ke=Sx(Me))):tt=!1}tt&&(le.set(Me,Ke),j(Ke,Me,_,ee,le),le.delete(Me)),Rl(w,N,Ke)}function ox(w,M){var N=w.length;if(N)return M+=M<0?N:0,Xa(M,N)?w[M]:n}function ax(w,M,N){M.length?M=Pi(M,function(ee){return Xt(ee)?function(le){return Sa(le,ee.length===1?ee[0]:ee)}:ee}):M=[De];var _=-1;M=Pi(M,zo(kt()));var j=rx(w,function(ee,le,fe){var Me=Pi(M,function($e){return $e(ee)});return{criteria:Me,index:++_,value:ee}});return iA(j,function(ee,le){return BA(ee,le,N)})}function DA(w,M){return K0(w,M,function(N,_){return Np(w,_)})}function K0(w,M,N){for(var _=-1,j=M.length,ee={};++_<j;){var le=M[_],fe=Sa(w,le);N(fe,le)&&dp(ee,Sc(le,w),fe)}return ee}function IA(w){return function(M){return Sa(M,w)}}function q0(w,M,N,_){var j=_?FS:Kf,ee=-1,le=M.length,fe=w;for(w===M&&(M=Nr(M)),N&&(fe=Pi(w,zo(N)));++ee<le;)for(var Me=0,$e=M[ee],Ke=N?N($e):$e;(Me=j(fe,Ke,Me,_))>-1;)fe!==w&&k0.call(fe,Me,1),k0.call(w,Me,1);return w}function lx(w,M){for(var N=w?M.length:0,_=N-1;N--;){var j=M[N];if(N==_||j!==ee){var ee=j;Xa(j)?k0.call(w,j,1):Dm(w,j)}}return w}function Z0(w,M){return w+mc(WS()*(M-w+1))}function NA(w,M,N,_){for(var j=-1,ee=Ri(ip((M-w)/(N||1)),0),le=Ne(ee);ee--;)le[_?ee:++j]=w,w+=N;return le}function cx(w,M){var N="";if(!w||M<1||M>ne)return N;do M%2&&(N+=w),M=mc(M/2),M&&(w+=w);while(M);return N}function cn(w,M){return Wm(Mx(w,M,De),w+"")}function up(w){return op(kp(w))}function X0(w,M){var N=kp(w);return $m(N,qa(M,0,N.length))}function dp(w,M,N,_){if(!Gi(w))return w;M=Sc(M,w);for(var j=-1,ee=M.length,le=ee-1,fe=w;fe!=null&&++j<ee;){var Me=qn(M[j]),$e=N;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return w;if(j!=le){var Ke=fe[Me];$e=_?_(Ke,Me,fe):n,$e===n&&($e=Gi(Ke)?Ke:Xa(M[j+1])?[]:{})}ph(fe,Me,$e),fe=fe[Me]}return w}var Rm=rp?function(w,M){return rp.set(w,M),w}:De,Am=hm?function(w,M){return hm(w,"toString",{configurable:!0,enumerable:!1,value:Ae(M),writable:!0})}:De;function LA(w){return $m(kp(w))}function Wo(w,M,N){var _=-1,j=w.length;M<0&&(M=-M>j?0:j+M),N=N>j?j:N,N<0&&(N+=j),j=M>N?0:N-M>>>0,M>>>=0;for(var ee=Ne(j);++_<j;)ee[_]=w[_+M];return ee}function kA(w,M){var N;return bc(w,function(_,j,ee){return N=M(_,j,ee),!N}),!!N}function Tm(w,M,N){var _=0,j=w==null?_:w.length;if(typeof M=="number"&&M===M&&j<=V){for(;_<j;){var ee=_+j>>>1,le=w[ee];le!==null&&!Vs(le)&&(N?le<=M:le<M)?_=ee+1:j=ee}return j}return Q0(w,M,De,N)}function Q0(w,M,N,_){var j=0,ee=w==null?0:w.length;if(ee===0)return 0;M=N(M);for(var le=M!==M,fe=M===null,Me=Vs(M),$e=M===n;j<ee;){var Ke=mc((j+ee)/2),tt=N(w[Ke]),yt=tt!==n,Tt=tt===null,Kt=tt===tt,mn=Vs(tt);if(le)var qt=_||Kt;else $e?qt=Kt&&(_||yt):fe?qt=Kt&&yt&&(_||!Tt):Me?qt=Kt&&yt&&!Tt&&(_||!mn):Tt||mn?qt=!1:qt=_?tt<=M:tt<M;qt?j=Ke+1:ee=Ke}return Fi(ee,K)}function ux(w,M){for(var N=-1,_=w.length,j=0,ee=[];++N<_;){var le=w[N],fe=M?M(le):le;if(!N||!bo(fe,Me)){var Me=fe;ee[j++]=le===0?0:le}}return ee}function J0(w){return typeof w=="number"?w:Vs(w)?q:+w}function go(w){if(typeof w=="string")return w;if(Xt(w))return Pi(w,go)+"";if(Vs(w))return Iu?Iu.call(w):"";var M=w+"";return M=="0"&&1/w==-ae?"-0":M}function wc(w,M,N){var _=-1,j=S0,ee=w.length,le=!0,fe=[],Me=fe;if(N)le=!1,j=kS;else if(ee>=r){var $e=M?null:UA(w);if($e)return I0($e);le=!1,j=Zf,Me=new yc}else Me=M?[]:fe;e:for(;++_<ee;){var Ke=w[_],tt=M?M(Ke):Ke;if(Ke=N||Ke!==0?Ke:0,le&&tt===tt){for(var yt=Me.length;yt--;)if(Me[yt]===tt)continue e;M&&Me.push(tt),fe.push(Ke)}else j(Me,tt,N)||(Me!==fe&&Me.push(tt),fe.push(Ke))}return fe}function Dm(w,M){return M=Sc(M,w),w=pp(w,M),w==null||delete w[qn(Es(M))]}function dx(w,M,N,_){return dp(w,M,N(Sa(w,M)),_)}function Im(w,M,N,_){for(var j=w.length,ee=_?j:-1;(_?ee--:++ee<j)&&M(w[ee],ee,w););return N?Wo(w,_?0:ee,_?ee+1:j):Wo(w,_?ee+1:0,_?j:ee)}function OA(w,M){var N=w;return N instanceof pn&&(N=N.value()),OS(M,function(_,j){return j.func.apply(j.thisArg,gc([_],j.args))},N)}function Nm(w,M,N){var _=w.length;if(_<2)return _?wc(w[0]):[];for(var j=-1,ee=Ne(_);++j<_;)for(var le=w[j],fe=-1;++fe<_;)fe!=j&&(ee[j]=Lu(ee[j]||le,w[fe],M,N));return wc(xn(ee,1),M,N)}function hx(w,M,N){for(var _=-1,j=w.length,ee=M.length,le={};++_<j;){var fe=_<ee?M[_]:n;N(le,w[_],fe)}return le}function eC(w){return er(w)?w:[]}function Lm(w){return typeof w=="function"?w:De}function Sc(w,M){return Xt(w)?w:uC(w,M)?[w]:Nl(jn(w))}var PA=cn;function Ou(w,M,N){var _=w.length;return N=N===n?_:N,!M&&N>=_?w:Wo(w,M,N)}var FA=O0||function(w){return or.clearTimeout(w)};function fx(w,M){if(M)return w.slice();var N=w.length,_=oh?oh(N):new w.constructor(N);return w.copy(_),_}function Ch(w){var M=new w.constructor(w.byteLength);return new np(M).set(new np(w)),M}function px(w,M){var N=M?Ch(w.buffer):w.buffer;return new w.constructor(N,w.byteOffset,w.byteLength)}function tC(w){var M=new w.constructor(w.source,Gf.exec(w));return M.lastIndex=w.lastIndex,M}function _A(w){return dh?kn(dh.call(w)):{}}function gx(w,M){var N=M?Ch(w.buffer):w.buffer;return new w.constructor(N,w.byteOffset,w.length)}function km(w,M){if(w!==M){var N=w!==n,_=w===null,j=w===w,ee=Vs(w),le=M!==n,fe=M===null,Me=M===M,$e=Vs(M);if(!fe&&!$e&&!ee&&w>M||ee&&le&&Me&&!fe&&!$e||_&&le&&Me||!N&&Me||!j)return 1;if(!_&&!ee&&!$e&&w<M||$e&&N&&j&&!_&&!ee||fe&&N&&j||!le&&j||!Me)return-1}return 0}function BA(w,M,N){for(var _=-1,j=w.criteria,ee=M.criteria,le=j.length,fe=N.length;++_<le;){var Me=km(j[_],ee[_]);if(Me){if(_>=fe)return Me;var $e=N[_];return Me*($e=="desc"?-1:1)}}return w.index-M.index}function mx(w,M,N,_){for(var j=-1,ee=w.length,le=N.length,fe=-1,Me=M.length,$e=Ri(ee-le,0),Ke=Ne(Me+$e),tt=!_;++fe<Me;)Ke[fe]=M[fe];for(;++j<le;)(tt||j<ee)&&(Ke[N[j]]=w[j]);for(;$e--;)Ke[fe++]=w[j++];return Ke}function GA(w,M,N,_){for(var j=-1,ee=w.length,le=-1,fe=N.length,Me=-1,$e=M.length,Ke=Ri(ee-fe,0),tt=Ne(Ke+$e),yt=!_;++j<Ke;)tt[j]=w[j];for(var Tt=j;++Me<$e;)tt[Tt+Me]=M[Me];for(;++le<fe;)(yt||j<ee)&&(tt[Tt+N[le]]=w[j++]);return tt}function Nr(w,M){var N=-1,_=w.length;for(M||(M=Ne(_));++N<_;)M[N]=w[N];return M}function mo(w,M,N,_){var j=!N;N||(N={});for(var ee=-1,le=M.length;++ee<le;){var fe=M[ee],Me=_?_(N[fe],w[fe],fe,N,w):n;Me===n&&(Me=w[fe]),j?Ka(N,fe,Me):ph(N,fe,Me)}return N}function nC(w,M){return mo(w,zm(w),M)}function Om(w,M){return mo(w,cC(w),M)}function bh(w,M){return function(N,_){var j=Xt(N)?GO:Nu,ee=M?M():{};return j(N,w,kt(_,2),ee)}}function wh(w){return cn(function(M,N){var _=-1,j=N.length,ee=j>1?N[j-1]:n,le=j>2?N[2]:n;for(ee=w.length>3&&typeof ee=="function"?(j--,ee):n,le&&Hs(N[0],N[1],le)&&(ee=j<3?n:ee,j=1),M=kn(M);++_<j;){var fe=N[_];fe&&w(M,fe,_,ee)}return M})}function vx(w,M){return function(N,_){if(N==null)return N;if(!kr(N))return w(N,_);for(var j=N.length,ee=M?j:-1,le=kn(N);(M?ee--:++ee<j)&&_(le[ee],ee,le)!==!1;);return N}}function Sh(w){return function(M,N,_){for(var j=-1,ee=kn(M),le=_(M),fe=le.length;fe--;){var Me=le[w?fe:++j];if(N(ee[Me],Me,ee)===!1)break}return M}}function zA(w,M,N){var _=M&y,j=xa(w);function ee(){var le=this&&this!==or&&this instanceof ee?j:w;return le.apply(_?N:this,arguments)}return ee}function jo(w){return function(M){M=jn(M);var N=Eu(M)?ma(M):n,_=N?N[0]:M.charAt(0),j=N?Ou(N,1).join(""):M.slice(1);return _[w]()+j}}function zs(w){return function(M){return OS(D(Nc(M).replace(rm,"")),w,"")}}function xa(w){return function(){var M=arguments;switch(M.length){case 0:return new w;case 1:return new w(M[0]);case 2:return new w(M[0],M[1]);case 3:return new w(M[0],M[1],M[2]);case 4:return new w(M[0],M[1],M[2],M[3]);case 5:return new w(M[0],M[1],M[2],M[3],M[4]);case 6:return new w(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new w(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var N=Uo(w.prototype),_=w.apply(N,M);return Gi(_)?_:N}}function HA(w,M,N){var _=xa(w);function j(){for(var ee=arguments.length,le=Ne(ee),fe=ee,Me=Mh(j);fe--;)le[fe]=arguments[fe];var $e=ee<3&&le[0]!==Me&&le[ee-1]!==Me?[]:Ru(le,Me);if(ee-=$e.length,ee<N)return yx(w,M,Qi,j.placeholder,n,le,$e,n,n,N-ee);var Ke=this&&this!==or&&this instanceof j?_:w;return lo(Ke,this,le)}return j}function xc(w){return function(M,N,_){var j=kn(M);if(!kr(M)){var ee=kt(N,3);M=Pr(M),N=function(fe){return ee(j[fe],fe,j)}}var le=w(M,N,_);return le>-1?j[ee?M[le]:le]:n}}function Tl(w){return Ai(function(M){var N=M.length,_=N,j=ho.prototype.thru;for(w&&M.reverse();_--;){var ee=M[_];if(typeof ee!="function")throw new Vo(o);if(j&&!le&&Gm(ee)=="wrapper")var le=new ho([],!0)}for(_=le?_:N;++_<N;){ee=M[_];var fe=Gm(ee),Me=fe=="wrapper"?aC(ee):n;Me&&dC(Me[0])&&Me[1]==(L|x|A|O)&&!Me[4].length&&Me[9]==1?le=le[Gm(Me[0])].apply(le,Me[3]):le=ee.length==1&&dC(ee)?le[fe]():le.thru(ee)}return function(){var $e=arguments,Ke=$e[0];if(le&&$e.length==1&&Xt(Ke))return le.plant(Ke).value();for(var tt=0,yt=N?M[tt].apply(this,$e):Ke;++tt<N;)yt=M[tt].call(this,yt);return yt}})}function Qi(w,M,N,_,j,ee,le,fe,Me,$e){var Ke=M&L,tt=M&y,yt=M&C,Tt=M&(x|R),Kt=M&F,mn=yt?n:xa(w);function qt(){for(var Rn=arguments.length,Pn=Ne(Rn),el=Rn;el--;)Pn[el]=arguments[el];if(Tt)var Zo=Mh(qt),tl=$O(Pn,Zo);if(_&&(Pn=mx(Pn,_,j,Tt)),ee&&(Pn=GA(Pn,ee,le,Tt)),Rn-=tl,Tt&&Rn<$e){var Fr=Ru(Pn,Zo);return yx(w,M,Qi,qt.placeholder,N,Pn,Fr,fe,Me,$e-Rn)}var Lc=tt?N:this,Th=yt?Lc[w]:w;return Rn=Pn.length,fe?Pn=Il(Pn,fe):Kt&&Rn>1&&Pn.reverse(),Ke&&Me<Rn&&(Pn.length=Me),this&&this!==or&&this instanceof qt&&(Th=mn||xa(Th)),Th.apply(Lc,Pn)}return qt}function Pm(w,M){return function(N,_){return ex(N,w,M(_),{})}}function hp(w,M){return function(N,_){var j;if(N===n&&_===n)return M;if(N!==n&&(j=N),_!==n){if(j===n)return _;typeof N=="string"||typeof _=="string"?(N=go(N),_=go(_)):(N=J0(N),_=J0(_)),j=w(N,_)}return j}}function Fm(w){return Ai(function(M){return M=Pi(M,zo(kt())),cn(function(N){var _=this;return w(M,function(j){return lo(j,_,N)})})})}function _m(w,M){M=M===n?" ":go(M);var N=M.length;if(N<2)return N?cx(M,w):M;var _=cx(M,ip(w/El(M)));return Eu(M)?Ou(ma(_),0,w).join(""):_.slice(0,w)}function VA(w,M,N,_){var j=M&y,ee=xa(w);function le(){for(var fe=-1,Me=arguments.length,$e=-1,Ke=_.length,tt=Ne(Ke+Me),yt=this&&this!==or&&this instanceof le?ee:w;++$e<Ke;)tt[$e]=_[$e];for(;Me--;)tt[$e++]=arguments[++fe];return lo(yt,j?N:this,tt)}return le}function Pu(w){return function(M,N,_){return _&&typeof _!="number"&&Hs(M,N,_)&&(N=_=n),M=Ol(M),N===n?(N=M,M=0):N=Ol(N),_=_===n?M<N?1:-1:Ol(_),NA(M,N,_,w)}}function xh(w){return function(M,N){return typeof M=="string"&&typeof N=="string"||(M=Aa(M),N=Aa(N)),w(M,N)}}function yx(w,M,N,_,j,ee,le,fe,Me,$e){var Ke=M&x,tt=Ke?le:n,yt=Ke?n:le,Tt=Ke?ee:n,Kt=Ke?n:ee;M|=Ke?A:T,M&=~(Ke?T:A),M&S||(M&=-4);var mn=[w,M,j,Tt,tt,Kt,yt,fe,Me,$e],qt=N.apply(n,mn);return dC(w)&&pC(qt,mn),qt.placeholder=_,gC(qt,w,M)}function iC(w){var M=wr[w];return function(N,_){if(N=Aa(N),_=_==null?0:Fi(rn(_),292),_&&fm(N)){var j=(jn(N)+"e").split("e"),ee=M(j[0]+"e"+(+j[1]+_));return j=(jn(ee)+"e").split("e"),+(j[0]+"e"+(+j[1]-_))}return M(N)}}var UA=Sn&&1/I0(new Sn([,-0]))[1]==ae?function(w){return new Sn(w)}:St;function Bm(w){return function(M){var N=Zr(M);return N==He?D0(M):N==at?YO(M):jO(M,w(M))}}function Dl(w,M,N,_,j,ee,le,fe){var Me=M&C;if(!Me&&typeof w!="function")throw new Vo(o);var $e=_?_.length:0;if($e||(M&=-97,_=j=n),le=le===n?le:Ri(rn(le),0),fe=fe===n?fe:rn(fe),$e-=j?j.length:0,M&T){var Ke=_,tt=j;_=j=n}var yt=Me?n:aC(w),Tt=[w,M,N,_,j,Ke,tt,ee,le,fe];if(yt&&Um(Tt,yt),w=Tt[0],M=Tt[1],N=Tt[2],_=Tt[3],j=Tt[4],fe=Tt[9]=Tt[9]===n?Me?0:w.length:Ri(Tt[9]-$e,0),!fe&&M&(x|R)&&(M&=-25),!M||M==y)var Kt=zA(w,M,N);else M==x||M==R?Kt=HA(w,M,fe):(M==A||M==(y|A))&&!j.length?Kt=VA(w,M,N,_):Kt=Qi.apply(n,Tt);var mn=yt?Rm:pC;return gC(mn(Kt,Tt),w,M)}function rC(w,M,N,_){return w===n||bo(w,ep[N])&&!Wn.call(_,N)?M:w}function Cx(w,M,N,_,j,ee){return Gi(w)&&Gi(M)&&(ee.set(M,w),Em(w,M,n,Cx,ee),ee.delete(M)),w}function WA(w){return Ra(w)?n:w}function jA(w,M,N,_,j,ee){var le=N&m,fe=w.length,Me=M.length;if(fe!=Me&&!(le&&Me>fe))return!1;var $e=ee.get(w),Ke=ee.get(M);if($e&&Ke)return $e==M&&Ke==w;var tt=-1,yt=!0,Tt=N&v?new yc:n;for(ee.set(w,M),ee.set(M,w);++tt<fe;){var Kt=w[tt],mn=M[tt];if(_)var qt=le?_(mn,Kt,tt,M,w,ee):_(Kt,mn,tt,w,M,ee);if(qt!==n){if(qt)continue;yt=!1;break}if(Tt){if(!PS(M,function(Rn,Pn){if(!Zf(Tt,Pn)&&(Kt===Rn||j(Kt,Rn,N,_,ee)))return Tt.push(Pn)})){yt=!1;break}}else if(!(Kt===mn||j(Kt,mn,N,_,ee))){yt=!1;break}}return ee.delete(w),ee.delete(M),yt}function $A(w,M,N,_,j,ee,le){switch(N){case Qe:if(w.byteLength!=M.byteLength||w.byteOffset!=M.byteOffset)return!1;w=w.buffer,M=M.buffer;case Le:return!(w.byteLength!=M.byteLength||!ee(new np(w),new np(M)));case J:case he:case st:return bo(+w,+M);case ve:return w.name==M.name&&w.message==M.message;case qe:case nt:return w==M+"";case He:var fe=D0;case at:var Me=_&m;if(fe||(fe=I0),w.size!=M.size&&!Me)return!1;var $e=le.get(w);if($e)return $e==M;_|=v,le.set(w,M);var Ke=jA(fe(w),fe(M),_,j,ee,le);return le.delete(w),Ke;case Fe:if(dh)return dh.call(w)==dh.call(M)}return!1}function qr(w,M,N,_,j,ee){var le=N&m,fe=sC(w),Me=fe.length,$e=sC(M),Ke=$e.length;if(Me!=Ke&&!le)return!1;for(var tt=Me;tt--;){var yt=fe[tt];if(!(le?yt in M:Wn.call(M,yt)))return!1}var Tt=ee.get(w),Kt=ee.get(M);if(Tt&&Kt)return Tt==M&&Kt==w;var mn=!0;ee.set(w,M),ee.set(M,w);for(var qt=le;++tt<Me;){yt=fe[tt];var Rn=w[yt],Pn=M[yt];if(_)var el=le?_(Pn,Rn,yt,M,w,ee):_(Rn,Pn,yt,w,M,ee);if(!(el===n?Rn===Pn||j(Rn,Pn,N,_,ee):el)){mn=!1;break}qt||(qt=yt=="constructor")}if(mn&&!qt){var Zo=w.constructor,tl=M.constructor;Zo!=tl&&"constructor"in w&&"constructor"in M&&!(typeof Zo=="function"&&Zo instanceof Zo&&typeof tl=="function"&&tl instanceof tl)&&(mn=!1)}return ee.delete(w),ee.delete(M),mn}function Ai(w){return Wm(Mx(w,n,yo),w+"")}function sC(w){return EA(w,Pr,zm)}function oC(w){return EA(w,Xr,cC)}var aC=rp?function(w){return rp.get(w)}:St;function Gm(w){for(var M=w.name+"",N=ba[M],_=Wn.call(ba,M)?N.length:0;_--;){var j=N[_],ee=j.func;if(ee==null||ee==w)return j.name}return M}function Mh(w){var M=Wn.call(X,"placeholder")?X:w;return M.placeholder}function kt(){var w=X.iteratee||Ht;return w=w===Ht?ix:w,arguments.length?w(arguments[0],arguments[1]):w}function fp(w,M){var N=w.__data__;return Ec(M)?N[typeof M=="string"?"string":"hash"]:N.map}function lC(w){for(var M=Pr(w),N=M.length;N--;){var _=M[N],j=w[_];M[N]=[_,j,ZA(j)]}return M}function Fu(w,M){var N=BS(w,M);return Al(N)?N:n}function YA(w){var M=Wn.call(w,Bs),N=w[Bs];try{w[Bs]=n;var _=!0}catch{}var j=_s.call(w);return _&&(M?w[Bs]=N:delete w[Bs]),j}var zm=Tu?function(w){return w==null?[]:(w=kn(w),Ml(Tu(w),function(M){return ah.call(w,M)}))}:GP,cC=Tu?function(w){for(var M=[];w;)gc(M,zm(w)),w=um(w);return M}:GP,Zr=En;(pm&&Zr(new pm(new ArrayBuffer(1)))!=Qe||Ir&&Zr(new Ir)!=He||_i&&Zr(_i.resolve())!=dt||Sn&&Zr(new Sn)!=at||Ya&&Zr(new Ya)!=we)&&(Zr=function(w){var M=En(w),N=M==ot?w.constructor:n,_=N?Rc(N):"";if(_)switch(_){case fA:return Qe;case pA:return He;case gm:return dt;case mm:return at;case gA:return we}return M});function KA(w,M,N){for(var _=-1,j=N.length;++_<j;){var ee=N[_],le=ee.size;switch(ee.type){case"drop":w+=le;break;case"dropRight":M-=le;break;case"take":M=Fi(M,w+le);break;case"takeRight":w=Ri(w,M-le);break}}return{start:w,end:M}}function bx(w){var M=w.match(PO);return M?M[1].split(B1):[]}function Hm(w,M,N){M=Sc(M,w);for(var _=-1,j=M.length,ee=!1;++_<j;){var le=qn(M[_]);if(!(ee=w!=null&&N(w,le)))break;w=w[le]}return ee||++_!=j?ee:(j=w==null?0:w.length,!!j&&Ah(j)&&Xa(le,j)&&(Xt(w)||Ic(w)))}function wx(w){var M=w.length,N=new w.constructor(M);return M&&typeof w[0]=="string"&&Wn.call(w,"index")&&(N.index=w.index,N.input=w.input),N}function Sx(w){return typeof w.constructor=="function"&&!mi(w)?Uo(um(w)):{}}function xx(w,M,N){var _=w.constructor;switch(M){case Le:return Ch(w);case J:case he:return new _(+w);case Qe:return px(w,N);case mt:case ln:case Mn:case Lt:case jt:case Vn:case ls:case jr:case Ss:return gx(w,N);case He:return new _;case st:case nt:return new _(w);case qe:return tC(w);case at:return new _;case Fe:return _A(w)}}function qA(w,M){var N=M.length;if(!N)return w;var _=N-1;return M[_]=(N>1?"& ":"")+M[_],M=M.join(N>2?", ":" "),w.replace(OO,`{
/* [wrapped with `+M+`] */
`)}function Mc(w){return Xt(w)||Ic(w)||!!(co&&w&&w[co])}function Xa(w,M){var N=typeof w;return M=M??ne,!!M&&(N=="number"||N!="symbol"&&nh.test(w))&&w>-1&&w%1==0&&w<M}function Hs(w,M,N){if(!Gi(N))return!1;var _=typeof M;return(_=="number"?kr(N)&&Xa(M,N.length):_=="string"&&M in N)?bo(N[M],w):!1}function uC(w,M){if(Xt(w))return!1;var N=typeof w;return N=="number"||N=="symbol"||N=="boolean"||w==null||Vs(w)?!0:th.test(w)||!Wa.test(w)||M!=null&&w in kn(M)}function Ec(w){var M=typeof w;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?w!=="__proto__":w===null}function dC(w){var M=Gm(w),N=X[M];if(typeof N!="function"||!(M in pn.prototype))return!1;if(w===N)return!0;var _=aC(N);return!!_&&w===_[0]}function hC(w){return!!HS&&HS in w}var Vm=lm?Qa:zP;function mi(w){var M=w&&w.constructor,N=typeof M=="function"&&M.prototype||ep;return w===N}function ZA(w){return w===w&&!Gi(w)}function XA(w,M){return function(N){return N==null?!1:N[w]===M&&(M!==n||w in kn(N))}}function QA(w){var M=ev(w,function(_){return N.size===c&&N.clear(),_}),N=M.cache;return M}function Um(w,M){var N=w[1],_=M[1],j=N|_,ee=j<(y|C|L),le=_==L&&N==x||_==L&&N==O&&w[7].length<=M[8]||_==(L|O)&&M[7].length<=M[8]&&N==x;if(!(ee||le))return w;_&y&&(w[2]=M[2],j|=N&y?0:S);var fe=M[3];if(fe){var Me=w[3];w[3]=Me?mx(Me,fe,M[4]):fe,w[4]=Me?Ru(w[3],u):M[4]}return fe=M[5],fe&&(Me=w[5],w[5]=Me?GA(Me,fe,M[6]):fe,w[6]=Me?Ru(w[5],u):M[6]),fe=M[7],fe&&(w[7]=fe),_&L&&(w[8]=w[8]==null?M[8]:Fi(w[8],M[8])),w[9]==null&&(w[9]=M[9]),w[0]=M[0],w[1]=j,w}function _u(w){var M=[];if(w!=null)for(var N in kn(w))M.push(N);return M}function JA(w){return _s.call(w)}function Mx(w,M,N){return M=Ri(M===n?w.length-1:M,0),function(){for(var _=arguments,j=-1,ee=Ri(_.length-M,0),le=Ne(ee);++j<ee;)le[j]=_[M+j];j=-1;for(var fe=Ne(M+1);++j<M;)fe[j]=_[j];return fe[M]=N(le),lo(w,this,fe)}}function pp(w,M){return M.length<2?w:Sa(w,Wo(M,0,-1))}function Il(w,M){for(var N=w.length,_=Fi(M.length,N),j=Nr(w);_--;){var ee=M[_];w[_]=Xa(ee,N)?j[ee]:n}return w}function fC(w,M){if(!(M==="constructor"&&typeof w[M]=="function")&&M!="__proto__")return w[M]}var pC=jm(Rm),gp=US||function(w,M){return or.setTimeout(w,M)},Wm=jm(Am);function gC(w,M,N){var _=M+"";return Wm(w,qA(_,eT(bx(_),N)))}function jm(w){var M=0,N=0;return function(){var _=vc(),j=Z-(_-N);if(N=_,j>0){if(++M>=$)return arguments[0]}else M=0;return w.apply(n,arguments)}}function $m(w,M){var N=-1,_=w.length,j=_-1;for(M=M===n?_:M;++N<M;){var ee=Z0(N,j),le=w[ee];w[ee]=w[N],w[N]=le}return w.length=M,w}var Nl=QA(function(w){var M=[];return w.charCodeAt(0)===46&&M.push(""),w.replace(ha,function(N,_,j,ee){M.push(j?ee.replace(_f,"$1"):_||N)}),M});function qn(w){if(typeof w=="string"||Vs(w))return w;var M=w+"";return M=="0"&&1/w==-ae?"-0":M}function Rc(w){if(w!=null){try{return cm.call(w)}catch{}try{return w+""}catch{}}return""}function eT(w,M){return ga(G,function(N){var _="_."+N[0];M&N[1]&&!S0(w,_)&&w.push(_)}),w.sort()}function Lr(w){if(w instanceof pn)return w.clone();var M=new ho(w.__wrapped__,w.__chain__);return M.__actions__=Nr(w.__actions__),M.__index__=w.__index__,M.__values__=w.__values__,M}function iP(w,M,N){(N?Hs(w,M,N):M===n)?M=1:M=Ri(rn(M),0);var _=w==null?0:w.length;if(!_||M<1)return[];for(var j=0,ee=0,le=Ne(ip(_/M));j<_;)le[ee++]=Wo(w,j,j+=M);return le}function tT(w){for(var M=-1,N=w==null?0:w.length,_=0,j=[];++M<N;){var ee=w[M];ee&&(j[_++]=ee)}return j}function nT(){var w=arguments.length;if(!w)return[];for(var M=Ne(w-1),N=arguments[0],_=w;_--;)M[_-1]=arguments[_];return gc(Xt(N)?Nr(N):[N],xn(M,1))}var Bi=cn(function(w,M){return er(w)?Lu(w,xn(M,1,er,!0)):[]}),vo=cn(function(w,M){var N=Es(M);return er(N)&&(N=n),er(w)?Lu(w,xn(M,1,er,!0),kt(N,2)):[]}),Ac=cn(function(w,M){var N=Es(M);return er(N)&&(N=n),er(w)?Lu(w,xn(M,1,er,!0),n,N):[]});function iT(w,M,N){var _=w==null?0:w.length;return _?(M=N||M===n?1:rn(M),Wo(w,M<0?0:M,_)):[]}function rT(w,M,N){var _=w==null?0:w.length;return _?(M=N||M===n?1:rn(M),M=_-M,Wo(w,0,M<0?0:M)):[]}function rP(w,M){return w&&w.length?Im(w,kt(M,3),!0,!0):[]}function Ex(w,M){return w&&w.length?Im(w,kt(M,3),!0):[]}function $o(w,M,N,_){var j=w==null?0:w.length;return j?(N&&typeof N!="number"&&Hs(w,M,N)&&(N=0,_=j),dn(w,M,N,_)):[]}function Ma(w,M,N){var _=w==null?0:w.length;if(!_)return-1;var j=N==null?0:rn(N);return j<0&&(j=Ri(_+j,0)),x0(w,kt(M,3),j)}function Rx(w,M,N){var _=w==null?0:w.length;if(!_)return-1;var j=_-1;return N!==n&&(j=rn(N),j=N<0?Ri(_+j,0):Fi(j,_-1)),x0(w,kt(M,3),j,!0)}function yo(w){var M=w==null?0:w.length;return M?xn(w,1):[]}function sT(w){var M=w==null?0:w.length;return M?xn(w,ae):[]}function Bu(w,M){var N=w==null?0:w.length;return N?(M=M===n?1:rn(M),xn(w,M)):[]}function Eh(w){for(var M=-1,N=w==null?0:w.length,_={};++M<N;){var j=w[M];_[j[0]]=j[1]}return _}function Tc(w){return w&&w.length?w[0]:n}function Ax(w,M,N){var _=w==null?0:w.length;if(!_)return-1;var j=N==null?0:rn(N);return j<0&&(j=Ri(_+j,0)),Kf(w,M,j)}function Tx(w){var M=w==null?0:w.length;return M?Wo(w,0,-1):[]}var Ll=cn(function(w){var M=Pi(w,eC);return M.length&&M[0]===w[0]?JS(M):[]}),oT=cn(function(w){var M=Es(w),N=Pi(w,eC);return M===Es(N)?M=n:N.pop(),N.length&&N[0]===w[0]?JS(N,kt(M,2)):[]}),mp=cn(function(w){var M=Es(w),N=Pi(w,eC);return M=typeof M=="function"?M:n,M&&N.pop(),N.length&&N[0]===w[0]?JS(N,n,M):[]});function Ym(w,M){return w==null?"":ya.call(w,M)}function Es(w){var M=w==null?0:w.length;return M?w[M-1]:n}function vp(w,M,N){var _=w==null?0:w.length;if(!_)return-1;var j=_;return N!==n&&(j=rn(N),j=j<0?Ri(_+j,0):Fi(j,_-1)),M===M?Ho(w,M,j):x0(w,qf,j,!0)}function aT(w,M){return w&&w.length?ox(w,rn(M)):n}var lT=cn(yp);function yp(w,M){return w&&w.length&&M&&M.length?q0(w,M):w}function cT(w,M,N){return w&&w.length&&M&&M.length?q0(w,M,kt(N,2)):w}function mC(w,M,N){return w&&w.length&&M&&M.length?q0(w,M,n,N):w}var uT=Ai(function(w,M){var N=w==null?0:w.length,_=wm(w,M);return lx(w,Pi(M,function(j){return Xa(j,N)?+j:j}).sort(km)),_});function sP(w,M){var N=[];if(!(w&&w.length))return N;var _=-1,j=[],ee=w.length;for(M=kt(M,3);++_<ee;){var le=w[_];M(le,_,w)&&(N.push(le),j.push(_))}return lx(w,j),N}function Dx(w){return w==null?w:jS.call(w)}function ei(w,M,N){var _=w==null?0:w.length;return _?(N&&typeof N!="number"&&Hs(w,M,N)?(M=0,N=_):(M=M==null?0:rn(M),N=N===n?_:rn(N)),Wo(w,M,N)):[]}function Ei(w,M){return Tm(w,M)}function vn(w,M,N){return Q0(w,M,kt(N,2))}function Nn(w,M){var N=w==null?0:w.length;if(N){var _=Tm(w,M);if(_<N&&bo(w[_],M))return _}return-1}function ti(w,M){return Tm(w,M,!0)}function Yo(w,M,N){return Q0(w,M,kt(N,2),!0)}function Gu(w,M){var N=w==null?0:w.length;if(N){var _=Tm(w,M,!0)-1;if(bo(w[_],M))return _}return-1}function Cp(w){return w&&w.length?ux(w):[]}function Ix(w,M){return w&&w.length?ux(w,kt(M,2)):[]}function Dc(w){var M=w==null?0:w.length;return M?Wo(w,1,M):[]}function Ji(w,M,N){return w&&w.length?(M=N||M===n?1:rn(M),Wo(w,0,M<0?0:M)):[]}function zu(w,M,N){var _=w==null?0:w.length;return _?(M=N||M===n?1:rn(M),M=_-M,Wo(w,M<0?0:M,_)):[]}function Rh(w,M){return w&&w.length?Im(w,kt(M,3),!1,!0):[]}function Nx(w,M){return w&&w.length?Im(w,kt(M,3)):[]}var Ea=cn(function(w){return wc(xn(w,1,er,!0))}),bp=cn(function(w){var M=Es(w);return er(M)&&(M=n),wc(xn(w,1,er,!0),kt(M,2))}),Km=cn(function(w){var M=Es(w);return M=typeof M=="function"?M:n,wc(xn(w,1,er,!0),n,M)});function Co(w){return w&&w.length?wc(w):[]}function Lx(w,M){return w&&w.length?wc(w,kt(M,2)):[]}function kx(w,M){return M=typeof M=="function"?M:n,w&&w.length?wc(w,n,M):[]}function wp(w){if(!(w&&w.length))return[];var M=0;return w=Ml(w,function(N){if(er(N))return M=Ri(N.length,M),!0}),Mu(M,function(N){return Pi(w,M0(N))})}function qm(w,M){if(!(w&&w.length))return[];var N=wp(w);return M==null?N:Pi(N,function(_){return lo(M,n,_)})}var Hu=cn(function(w,M){return er(w)?Lu(w,M):[]}),cs=cn(function(w){return Nm(Ml(w,er))}),Vu=cn(function(w){var M=Es(w);return er(M)&&(M=n),Nm(Ml(w,er),kt(M,2))}),Sp=cn(function(w){var M=Es(w);return M=typeof M=="function"?M:n,Nm(Ml(w,er),n,M)}),xp=cn(wp);function Ox(w,M){return hx(w||[],M||[],ph)}function Px(w,M){return hx(w||[],M||[],dp)}var dT=cn(function(w){var M=w.length,N=M>1?w[M-1]:n;return N=typeof N=="function"?(w.pop(),N):n,qm(w,N)});function Mp(w){var M=X(w);return M.__chain__=!0,M}function Fx(w,M){return M(w),w}function Rs(w,M){return M(w)}var hT=Ai(function(w){var M=w.length,N=M?w[0]:0,_=this.__wrapped__,j=function(ee){return wm(ee,w)};return M>1||this.__actions__.length||!(_ instanceof pn)||!Xa(N)?this.thru(j):(_=_.slice(N,+N+(M?1:0)),_.__actions__.push({func:Rs,args:[j],thisArg:n}),new ho(_,this.__chain__).thru(function(ee){return M&&!ee.length&&ee.push(n),ee}))});function Ko(){return Mp(this)}function fT(){return new ho(this.value(),this.__chain__)}function pT(){this.__values__===n&&(this.__values__=qo(this.value()));var w=this.__index__>=this.__values__.length,M=w?n:this.__values__[this.__index__++];return{done:w,value:M}}function oP(){return this}function Uu(w){for(var M,N=this;N instanceof wa;){var _=Lr(N);_.__index__=0,_.__values__=n,M?j.__wrapped__=_:M=_;var j=_;N=N.__wrapped__}return j.__wrapped__=w,M}function vC(){var w=this.__wrapped__;if(w instanceof pn){var M=w;return this.__actions__.length&&(M=new pn(this)),M=M.reverse(),M.__actions__.push({func:Rs,args:[Dx],thisArg:n}),new ho(M,this.__chain__)}return this.thru(Dx)}function _x(){return OA(this.__wrapped__,this.__actions__)}var Ep=bh(function(w,M,N){Wn.call(w,N)?++w[N]:Ka(w,N,1)});function gT(w,M,N){var _=Xt(w)?eA:XS;return N&&Hs(w,M,N)&&(M=n),_(w,kt(M,3))}function mT(w,M){var N=Xt(w)?Ml:Jn;return N(w,kt(M,3))}var vT=xc(Ma),Bx=xc(Rx);function Gx(w,M){return xn(Zm(w,M),1)}function aP(w,M){return xn(Zm(w,M),ae)}function lP(w,M,N){return N=N===n?1:rn(N),xn(Zm(w,M),N)}function yT(w,M){var N=Xt(w)?ga:bc;return N(w,kt(M,3))}function zx(w,M){var N=Xt(w)?zO:H0;return N(w,kt(M,3))}var CT=bh(function(w,M,N){Wn.call(w,N)?w[N].push(M):Ka(w,N,[M])});function Rp(w,M,N,_){w=kr(w)?w:kp(w),N=N&&!_?rn(N):0;var j=w.length;return N<0&&(N=Ri(j+N,0)),DC(w)?N<=j&&w.indexOf(M,N)>-1:!!j&&Kf(w,M,N)>-1}var yC=cn(function(w,M,N){var _=-1,j=typeof M=="function",ee=kr(w)?Ne(w.length):[];return bc(w,function(le){ee[++_]=j?lo(M,le,N):vh(le,M,N)}),ee}),bT=bh(function(w,M,N){Ka(w,N,M)});function Zm(w,M){var N=Xt(w)?Pi:rx;return N(w,kt(M,3))}function wT(w,M,N,_){return w==null?[]:(Xt(M)||(M=M==null?[]:[M]),N=_?n:N,Xt(N)||(N=N==null?[]:[N]),ax(w,M,N))}var ST=bh(function(w,M,N){w[N?0:1].push(M)},function(){return[[],[]]});function xT(w,M,N){var _=Xt(w)?OS:_S,j=arguments.length<3;return _(w,kt(M,4),N,j,bc)}function MT(w,M,N){var _=Xt(w)?HO:_S,j=arguments.length<3;return _(w,kt(M,4),N,j,H0)}function CC(w,M){var N=Xt(w)?Ml:Jn;return N(w,tv(kt(M,3)))}function ET(w){var M=Xt(w)?op:up;return M(w)}function RT(w,M,N){(N?Hs(w,M,N):M===n)?M=1:M=rn(M);var _=Xt(w)?SA:X0;return _(w,M)}function vi(w){var M=Xt(w)?xA:LA;return M(w)}function Hx(w){if(w==null)return 0;if(kr(w))return DC(w)?El(w):w.length;var M=Zr(w);return M==He||M==at?w.size:j0(w).length}function cP(w,M,N){var _=Xt(w)?PS:kA;return N&&Hs(w,M,N)&&(M=n),_(w,kt(M,3))}var AT=cn(function(w,M){if(w==null)return[];var N=M.length;return N>1&&Hs(w,M[0],M[1])?M=[]:N>2&&Hs(M[0],M[1],M[2])&&(M=[M[0]]),ax(w,xn(M,1),[])}),bC=ch||function(){return or.Date.now()};function uP(w,M){if(typeof M!="function")throw new Vo(o);return w=rn(w),function(){if(--w<1)return M.apply(this,arguments)}}function TT(w,M,N){return M=N?n:M,M=w&&M==null?w.length:M,Dl(w,L,n,n,n,n,M)}function Xm(w,M){var N;if(typeof M!="function")throw new Vo(o);return w=rn(w),function(){return--w>0&&(N=M.apply(this,arguments)),w<=1&&(M=n),N}}var Wu=cn(function(w,M,N){var _=y;if(N.length){var j=Ru(N,Mh(Wu));_|=A}return Dl(w,_,M,N,j)}),wC=cn(function(w,M,N){var _=y|C;if(N.length){var j=Ru(N,Mh(wC));_|=A}return Dl(M,_,w,N,j)});function Qm(w,M,N){M=N?n:M;var _=Dl(w,x,n,n,n,n,n,M);return _.placeholder=Qm.placeholder,_}function SC(w,M,N){M=N?n:M;var _=Dl(w,R,n,n,n,n,n,M);return _.placeholder=SC.placeholder,_}function ju(w,M,N){var _,j,ee,le,fe,Me,$e=0,Ke=!1,tt=!1,yt=!0;if(typeof w!="function")throw new Vo(o);M=Aa(M)||0,Gi(N)&&(Ke=!!N.leading,tt="maxWait"in N,ee=tt?Ri(Aa(N.maxWait)||0,M):ee,yt="trailing"in N?!!N.trailing:yt);function Tt(Fr){var Lc=_,Th=j;return _=j=n,$e=Fr,le=w.apply(Th,Lc),le}function Kt(Fr){return $e=Fr,fe=gp(Rn,M),Ke?Tt(Fr):le}function mn(Fr){var Lc=Fr-Me,Th=Fr-$e,CU=M-Lc;return tt?Fi(CU,ee-Th):CU}function qt(Fr){var Lc=Fr-Me,Th=Fr-$e;return Me===n||Lc>=M||Lc<0||tt&&Th>=ee}function Rn(){var Fr=bC();if(qt(Fr))return Pn(Fr);fe=gp(Rn,mn(Fr))}function Pn(Fr){return fe=n,yt&&_?Tt(Fr):(_=j=n,le)}function el(){fe!==n&&FA(fe),$e=0,_=Me=j=fe=n}function Zo(){return fe===n?le:Pn(bC())}function tl(){var Fr=bC(),Lc=qt(Fr);if(_=arguments,j=this,Me=Fr,Lc){if(fe===n)return Kt(Me);if(tt)return FA(fe),fe=gp(Rn,M),Tt(Me)}return fe===n&&(fe=gp(Rn,M)),le}return tl.cancel=el,tl.flush=Zo,tl}var kl=cn(function(w,M){return gh(w,1,M)}),Jm=cn(function(w,M,N){return gh(w,Aa(M)||0,N)});function dP(w){return Dl(w,F)}function ev(w,M){if(typeof w!="function"||M!=null&&typeof M!="function")throw new Vo(o);var N=function(){var _=arguments,j=M?M.apply(this,_):_[0],ee=N.cache;if(ee.has(j))return ee.get(j);var le=w.apply(this,_);return N.cache=ee.set(j,le)||ee,le};return N.cache=new(ev.Cache||fo),N}ev.Cache=fo;function tv(w){if(typeof w!="function")throw new Vo(o);return function(){var M=arguments;switch(M.length){case 0:return!w.call(this);case 1:return!w.call(this,M[0]);case 2:return!w.call(this,M[0],M[1]);case 3:return!w.call(this,M[0],M[1],M[2])}return!w.apply(this,M)}}function DT(w){return Xm(2,w)}var IT=PA(function(w,M){M=M.length==1&&Xt(M[0])?Pi(M[0],zo(kt())):Pi(xn(M,1),zo(kt()));var N=M.length;return cn(function(_){for(var j=-1,ee=Fi(_.length,N);++j<ee;)_[j]=M[j].call(this,_[j]);return lo(w,this,_)})}),Vx=cn(function(w,M){var N=Ru(M,Mh(Vx));return Dl(w,A,n,M,N)}),xC=cn(function(w,M){var N=Ru(M,Mh(xC));return Dl(w,T,n,M,N)}),NT=Ai(function(w,M){return Dl(w,O,n,n,n,M)});function LT(w,M){if(typeof w!="function")throw new Vo(o);return M=M===n?M:rn(M),cn(w,M)}function hP(w,M){if(typeof w!="function")throw new Vo(o);return M=M==null?0:Ri(rn(M),0),cn(function(N){var _=N[M],j=Ou(N,0,M);return _&&gc(j,_),lo(w,this,j)})}function Ux(w,M,N){var _=!0,j=!0;if(typeof w!="function")throw new Vo(o);return Gi(N)&&(_="leading"in N?!!N.leading:_,j="trailing"in N?!!N.trailing:j),ju(w,M,{leading:_,maxWait:M,trailing:j})}function Wx(w){return TT(w,1)}function fP(w,M){return Vx(Lm(M),w)}function pP(){if(!arguments.length)return[];var w=arguments[0];return Xt(w)?w:[w]}function nv(w){return xs(w,p)}function gP(w,M){return M=typeof M=="function"?M:n,xs(w,p,M)}function kT(w){return xs(w,d|p)}function yn(w,M){return M=typeof M=="function"?M:n,xs(w,d|p,M)}function jx(w,M){return M==null||ZS(w,M,Pr(M))}function bo(w,M){return w===M||w!==w&&M!==M}var $x=xh(Sm),OT=xh(function(w,M){return w>=M}),Ic=V0(function(){return arguments}())?V0:function(w){return Vi(w)&&Wn.call(w,"callee")&&!ah.call(w,"callee")},Xt=Ne.isArray,MC=w0?zo(w0):po;function kr(w){return w!=null&&Ah(w.length)&&!Qa(w)}function er(w){return Vi(w)&&kr(w)}function mP(w){return w===!0||w===!1||Vi(w)&&En(w)==J}var $u=P0||zP,PT=q1?zo(q1):Sr;function FT(w){return Vi(w)&&w.nodeType===1&&!Ra(w)}function EC(w){if(w==null)return!0;if(kr(w)&&(Xt(w)||typeof w=="string"||typeof w.splice=="function"||$u(w)||Ap(w)||Ic(w)))return!w.length;var M=Zr(w);if(M==He||M==at)return!w.size;if(mi(w))return!j0(w).length;for(var N in w)if(Wn.call(w,N))return!1;return!0}function li(w,M){return yh(w,M)}function Yx(w,M,N){N=typeof N=="function"?N:n;var _=N?N(w,M):n;return _===n?yh(w,M,n,N):!!_}function Or(w){if(!Vi(w))return!1;var M=En(w);return M==ve||M==Te||typeof w.message=="string"&&typeof w.name=="string"&&!Ra(w)}function vP(w){return typeof w=="number"&&fm(w)}function Qa(w){if(!Gi(w))return!1;var M=En(w);return M==Re||M==ke||M==ue||M==Ue}function RC(w){return typeof w=="number"&&w==rn(w)}function Ah(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=ne}function Gi(w){var M=typeof w;return w!=null&&(M=="object"||M=="function")}function Vi(w){return w!=null&&typeof w=="object"}var AC=Z1?zo(Z1):U0;function Kx(w,M){return w===M||Mm(w,M,lC(M))}function yP(w,M,N){return N=typeof N=="function"?N:n,Mm(w,M,lC(M),N)}function _T(w){return GT(w)&&w!=+w}function CP(w){if(Vm(w))throw new $t(s);return Al(w)}function BT(w){return w===null}function bP(w){return w==null}function GT(w){return typeof w=="number"||Vi(w)&&En(w)==st}function Ra(w){if(!Vi(w)||En(w)!=ot)return!1;var M=um(w);if(M===null)return!0;var N=Wn.call(M,"constructor")&&M.constructor;return typeof N=="function"&&N instanceof N&&cm.call(N)==va}var TC=X1?zo(X1):W0;function qx(w){return RC(w)&&w>=-ne&&w<=ne}var zT=Q1?zo(Q1):tx;function DC(w){return typeof w=="string"||!Xt(w)&&Vi(w)&&En(w)==nt}function Vs(w){return typeof w=="symbol"||Vi(w)&&En(w)==Fe}var Ap=J1?zo(J1):nx;function Ja(w){return w===n}function Zx(w){return Vi(w)&&Zr(w)==we}function HT(w){return Vi(w)&&En(w)==Ge}var VT=xh($0),iv=xh(function(w,M){return w<=M});function qo(w){if(!w)return[];if(kr(w))return DC(w)?ma(w):Nr(w);if(lh&&w[lh])return lA(w[lh]());var M=Zr(w),N=M==He?D0:M==at?I0:kp;return N(w)}function Ol(w){if(!w)return w===0?w:0;if(w=Aa(w),w===ae||w===-ae){var M=w<0?-1:1;return M*Se}return w===w?w:0}function rn(w){var M=Ol(w),N=M%1;return M===M?N?M-N:M:0}function Pl(w){return w?qa(rn(w),0,re):0}function Aa(w){if(typeof w=="number")return w;if(Vs(w))return q;if(Gi(w)){var M=typeof w.valueOf=="function"?w.valueOf():w;w=Gi(M)?M+"":M}if(typeof w!="string")return w===0?w:+w;w=rA(w);var N=Kr.test(w);return N||z1.test(w)?BO(w.slice(2),N?2:8):zf.test(w)?q:+w}function UT(w){return mo(w,Xr(w))}function Tp(w){return w?qa(rn(w),-ne,ne):w===0?w:0}function jn(w){return w==null?"":go(w)}var wP=wh(function(w,M){if(mi(M)||kr(M)){mo(M,Pr(M),w);return}for(var N in M)Wn.call(M,N)&&ph(w,N,M[N])}),WT=wh(function(w,M){mo(M,Xr(M),w)}),IC=wh(function(w,M,N,_){mo(M,Xr(M),w,_)}),SP=wh(function(w,M,N,_){mo(M,Pr(M),w,_)}),xP=Ai(wm);function MP(w,M){var N=Uo(w);return M==null?N:Cc(N,M)}var EP=cn(function(w,M){w=kn(w);var N=-1,_=M.length,j=_>2?M[2]:n;for(j&&Hs(M[0],M[1],j)&&(_=1);++N<_;)for(var ee=M[N],le=Xr(ee),fe=-1,Me=le.length;++fe<Me;){var $e=le[fe],Ke=w[$e];(Ke===n||bo(Ke,ep[$e])&&!Wn.call(w,$e))&&(w[$e]=ee[$e])}return w}),jT=cn(function(w){return w.push(n,Cx),lo(av,n,w)});function Dp(w,M){return tA(w,kt(M,3),Ms)}function rv(w,M){return tA(w,kt(M,3),cp)}function $T(w,M){return w==null?w:lp(w,kt(M,3),Xr)}function RP(w,M){return w==null?w:mh(w,kt(M,3),Xr)}function Ip(w,M){return w&&Ms(w,kt(M,3))}function sv(w,M){return w&&cp(w,kt(M,3))}function YT(w){return w==null?[]:ku(w,Pr(w))}function NC(w){return w==null?[]:ku(w,Xr(w))}function ov(w,M,N){var _=w==null?n:Sa(w,M);return _===n?N:_}function Xx(w,M){return w!=null&&Hm(w,M,QS)}function Np(w,M){return w!=null&&Hm(w,M,RA)}var KT=Pm(function(w,M,N){M!=null&&typeof M.toString!="function"&&(M=_s.call(M)),w[M]=N},Ae(De)),qT=Pm(function(w,M,N){M!=null&&typeof M.toString!="function"&&(M=_s.call(M)),Wn.call(w,M)?w[M].push(N):w[M]=[N]},kt),AP=cn(vh);function Pr(w){return kr(w)?qS(w):j0(w)}function Xr(w){return kr(w)?qS(w,!0):TA(w)}function TP(w,M){var N={};return M=kt(M,3),Ms(w,function(_,j,ee){Ka(N,M(_,j,ee),_)}),N}function DP(w,M){var N={};return M=kt(M,3),Ms(w,function(_,j,ee){Ka(N,j,M(_,j,ee))}),N}var IP=wh(function(w,M,N){Em(w,M,N)}),av=wh(function(w,M,N,_){Em(w,M,N,_)}),LC=Ai(function(w,M){var N={};if(w==null)return N;var _=!1;M=Pi(M,function(ee){return ee=Sc(ee,w),_||(_=ee.length>1),ee}),mo(w,oC(w),N),_&&(N=xs(N,d|h|p,WA));for(var j=M.length;j--;)Dm(N,M[j]);return N});function Qx(w,M){return Lp(w,tv(kt(M)))}var NP=Ai(function(w,M){return w==null?{}:DA(w,M)});function Lp(w,M){if(w==null)return{};var N=Pi(oC(w),function(_){return[_]});return M=kt(M),K0(w,N,function(_,j){return M(_,j[0])})}function LP(w,M,N){M=Sc(M,w);var _=-1,j=M.length;for(j||(j=1,w=n);++_<j;){var ee=w==null?n:w[qn(M[_])];ee===n&&(_=j,ee=N),w=Qa(ee)?ee.call(w):ee}return w}function ZT(w,M,N){return w==null?w:dp(w,M,N)}function XT(w,M,N,_){return _=typeof _=="function"?_:n,w==null?w:dp(w,M,N,_)}var Jx=Bm(Pr),eM=Bm(Xr);function tM(w,M,N){var _=Xt(w),j=_||$u(w)||Ap(w);if(M=kt(M,4),N==null){var ee=w&&w.constructor;j?N=_?new ee:[]:Gi(w)?N=Qa(ee)?Uo(um(w)):{}:N={}}return(j?ga:Ms)(w,function(le,fe,Me){return M(N,le,fe,Me)}),N}function QT(w,M){return w==null?!0:Dm(w,M)}function kC(w,M,N){return w==null?w:dx(w,M,Lm(N))}function kP(w,M,N,_){return _=typeof _=="function"?_:n,w==null?w:dx(w,M,Lm(N),_)}function kp(w){return w==null?[]:A0(w,Pr(w))}function nM(w){return w==null?[]:A0(w,Xr(w))}function iM(w,M,N){return N===n&&(N=M,M=n),N!==n&&(N=Aa(N),N=N===N?N:0),M!==n&&(M=Aa(M),M=M===M?M:0),qa(Aa(w),M,N)}function OC(w,M,N){return M=Ol(M),N===n?(N=M,M=0):N=Ol(N),w=Aa(w),AA(w,M,N)}function rM(w,M,N){if(N&&typeof N!="boolean"&&Hs(w,M,N)&&(M=N=n),N===n&&(typeof M=="boolean"?(N=M,M=n):typeof w=="boolean"&&(N=w,w=n)),w===n&&M===n?(w=0,M=1):(w=Ol(w),M===n?(M=w,w=0):M=Ol(M)),w>M){var _=w;w=M,M=_}if(N||w%1||M%1){var j=WS();return Fi(w+j*(M-w+am("1e-"+((j+"").length-1))),M)}return Z0(w,M)}var JT=zs(function(w,M,N){return M=M.toLowerCase(),w+(N?PC(M):M)});function PC(w){return E(jn(w).toLowerCase())}function Nc(w){return w=jn(w),w&&w.replace(Hf,T0).replace(pc,"")}function Yu(w,M,N){w=jn(w),M=go(M);var _=w.length;N=N===n?_:qa(rn(N),0,_);var j=N;return N-=M.length,N>=0&&w.slice(N,j)==M}function Ku(w){return w=jn(w),w&&bt.test(w)?w.replace($r,sA):w}function lv(w){return w=jn(w),w&&Yr.test(w)?w.replace(Zi,"\\$&"):w}var cv=zs(function(w,M,N){return w+(N?"-":"")+M.toLowerCase()}),qu=zs(function(w,M,N){return w+(N?" ":"")+M.toLowerCase()}),OP=jo("toLowerCase");function eD(w,M,N){w=jn(w),M=rn(M);var _=M?El(w):0;if(!M||_>=M)return w;var j=(M-_)/2;return _m(mc(j),N)+w+_m(ip(j),N)}function uv(w,M,N){w=jn(w),M=rn(M);var _=M?El(w):0;return M&&_<M?w+_m(M-_,N):w}function PP(w,M,N){w=jn(w),M=rn(M);var _=M?El(w):0;return M&&_<M?_m(M-_,N)+w:w}function tD(w,M,N){return N||M==null?M=0:M&&(M=+M),uh(jn(w).replace(bu,""),M||0)}function FC(w,M,N){return(N?Hs(w,M,N):M===n)?M=1:M=rn(M),cx(jn(w),M)}function nD(){var w=arguments,M=jn(w[0]);return w.length<3?M:M.replace(w[1],w[2])}var FP=zs(function(w,M,N){return w+(N?"_":"")+M.toLowerCase()});function _C(w,M,N){return N&&typeof N!="number"&&Hs(w,M,N)&&(M=N=n),N=N===n?re:N>>>0,N?(w=jn(w),w&&(typeof M=="string"||M!=null&&!TC(M))&&(M=go(M),!M&&Eu(w))?Ou(ma(w),0,N):w.split(M,N)):[]}var BC=zs(function(w,M,N){return w+(N?" ":"")+E(M)});function iD(w,M,N){return w=jn(w),N=N==null?0:qa(rn(N),0,w.length),M=go(M),w.slice(N,N+M.length)==M}function dv(w,M,N){var _=X.templateSettings;N&&Hs(w,M,N)&&(M=n),w=jn(w),M=IC({},M,_,rC);var j=IC({},M.imports,_.imports,rC),ee=Pr(j),le=A0(j,ee),fe,Me,$e=0,Ke=M.interpolate||u0,tt="__p += '",yt=N0((M.escape||u0).source+"|"+Ke.source+"|"+(Ke===sn?Bf:u0).source+"|"+(M.evaluate||u0).source+"|$","g"),Tt="//# sourceURL="+(Wn.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$1+"]")+`
`;w.replace(yt,function(qt,Rn,Pn,el,Zo,tl){return Pn||(Pn=el),tt+=w.slice($e,tl).replace(H1,oA),Rn&&(fe=!0,tt+=`' +
__e(`+Rn+`) +
'`),Zo&&(Me=!0,tt+=`';
`+Zo+`;
__p += '`),Pn&&(tt+=`' +
((__t = (`+Pn+`)) == null ? '' : __t) +
'`),$e=tl+qt.length,qt}),tt+=`';
`;var Kt=Wn.call(M,"variable")&&M.variable;if(!Kt)tt=`with (obj) {
`+tt+`
}
`;else if(pS.test(Kt))throw new $t(a);tt=(Me?tt.replace(fc,""):tt).replace(Qt,"$1").replace(Un,"$1;"),tt="function("+(Kt||"obj")+`) {
`+(Kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var mn=k(function(){return Ln(ee,Tt+"return "+tt).apply(n,le)});if(mn.source=tt,Or(mn))throw mn;return mn}function sM(w){return jn(w).toLowerCase()}function GC(w){return jn(w).toUpperCase()}function rD(w,M,N){if(w=jn(w),w&&(N||M===n))return rA(w);if(!w||!(M=go(M)))return w;var _=ma(w),j=ma(M),ee=Xf(_,j),le=Qf(_,j)+1;return Ou(_,ee,le).join("")}function _P(w,M,N){if(w=jn(w),w&&(N||M===n))return w.slice(0,GS(w)+1);if(!w||!(M=go(M)))return w;var _=ma(w),j=Qf(_,ma(M))+1;return Ou(_,0,j).join("")}function zC(w,M,N){if(w=jn(w),w&&(N||M===n))return w.replace(bu,"");if(!w||!(M=go(M)))return w;var _=ma(w),j=Xf(_,ma(M));return Ou(_,j).join("")}function f(w,M){var N=H,_=W;if(Gi(M)){var j="separator"in M?M.separator:j;N="length"in M?rn(M.length):N,_="omission"in M?go(M.omission):_}w=jn(w);var ee=w.length;if(Eu(w)){var le=ma(w);ee=le.length}if(N>=ee)return w;var fe=N-El(_);if(fe<1)return _;var Me=le?Ou(le,0,fe).join(""):w.slice(0,fe);if(j===n)return Me+_;if(le&&(fe+=Me.length-fe),TC(j)){if(w.slice(fe).search(j)){var $e,Ke=Me;for(j.global||(j=N0(j.source,jn(Gf.exec(j))+"g")),j.lastIndex=0;$e=j.exec(Ke);)var tt=$e.index;Me=Me.slice(0,tt===n?fe:tt)}}else if(w.indexOf(go(j),fe)!=fe){var yt=Me.lastIndexOf(j);yt>-1&&(Me=Me.slice(0,yt))}return Me+_}function g(w){return w=jn(w),w&&Fs.test(w)?w.replace(In,uA):w}var b=zs(function(w,M,N){return w+(N?" ":"")+M.toUpperCase()}),E=jo("toUpperCase");function D(w,M,N){return w=jn(w),M=N?n:M,M===n?aA(w)?qO(w):WO(w):w.match(M)||[]}var k=cn(function(w,M){try{return lo(w,n,M)}catch(N){return Or(N)?N:new $t(N)}}),U=Ai(function(w,M){return ga(M,function(N){N=qn(N),Ka(w,N,Wu(w[N],w))}),w});function Q(w){var M=w==null?0:w.length,N=kt();return w=M?Pi(w,function(_){if(typeof _[1]!="function")throw new Vo(o);return[N(_[0]),_[1]]}):[],cn(function(_){for(var j=-1;++j<M;){var ee=w[j];if(lo(ee[0],this,_))return lo(ee[1],this,_)}})}function ce(w){return MA(xs(w,d))}function Ae(w){return function(){return w}}function We(w,M){return w==null||w!==w?M:w}var Ye=Tl(),Ie=Tl(!0);function De(w){return w}function Ht(w){return ix(typeof w=="function"?w:xs(w,d))}function Bt(w){return sx(xs(w,d))}function ci(w,M){return Y0(w,xs(M,d))}var xe=cn(function(w,M){return function(N){return vh(N,w,M)}}),pe=cn(function(w,M){return function(N){return vh(w,N,M)}});function Ee(w,M,N){var _=Pr(M),j=ku(M,_);N==null&&!(Gi(M)&&(j.length||!_.length))&&(N=M,M=w,w=this,j=ku(M,Pr(M)));var ee=!(Gi(N)&&"chain"in N)||!!N.chain,le=Qa(w);return ga(j,function(fe){var Me=M[fe];w[fe]=Me,le&&(w.prototype[fe]=function(){var $e=this.__chain__;if(ee||$e){var Ke=w(this.__wrapped__),tt=Ke.__actions__=Nr(this.__actions__);return tt.push({func:Me,args:arguments,thisArg:w}),Ke.__chain__=$e,Ke}return Me.apply(w,gc([this.value()],arguments))})}),w}function je(){return or._===this&&(or._=tp),this}function St(){}function gn(w){return w=rn(w),cn(function(M){return ox(M,w)})}var It=Fm(Pi),Vt=Fm(eA),Qr=Fm(PS);function On(w){return uC(w)?M0(qn(w)):IA(w)}function Zu(w){return function(M){return w==null?n:Sa(w,M)}}var BP=Pu(),Mre=Pu(!0);function GP(){return[]}function zP(){return!1}function Ere(){return{}}function Rre(){return""}function Are(){return!0}function Tre(w,M){if(w=rn(w),w<1||w>ne)return[];var N=re,_=Fi(w,re);M=kt(M),w-=re;for(var j=Mu(_,M);++N<w;)M(N);return j}function Dre(w){return Xt(w)?Pi(w,qn):Vs(w)?[w]:Nr(Nl(jn(w)))}function Ire(w){var M=++ja;return jn(w)+M}var Nre=hp(function(w,M){return w+M},0),Lre=iC("ceil"),kre=hp(function(w,M){return w/M},1),Ore=iC("floor");function Pre(w){return w&&w.length?Za(w,De,Sm):n}function Fre(w,M){return w&&w.length?Za(w,kt(M,2),Sm):n}function _re(w){return nA(w,De)}function Bre(w,M){return nA(w,kt(M,2))}function Gre(w){return w&&w.length?Za(w,De,$0):n}function zre(w,M){return w&&w.length?Za(w,kt(M,2),$0):n}var Hre=hp(function(w,M){return w*M},1),Vre=iC("round"),Ure=hp(function(w,M){return w-M},0);function Wre(w){return w&&w.length?R0(w,De):0}function jre(w,M){return w&&w.length?R0(w,kt(M,2)):0}return X.after=uP,X.ary=TT,X.assign=wP,X.assignIn=WT,X.assignInWith=IC,X.assignWith=SP,X.at=xP,X.before=Xm,X.bind=Wu,X.bindAll=U,X.bindKey=wC,X.castArray=pP,X.chain=Mp,X.chunk=iP,X.compact=tT,X.concat=nT,X.cond=Q,X.conforms=ce,X.constant=Ae,X.countBy=Ep,X.create=MP,X.curry=Qm,X.curryRight=SC,X.debounce=ju,X.defaults=EP,X.defaultsDeep=jT,X.defer=kl,X.delay=Jm,X.difference=Bi,X.differenceBy=vo,X.differenceWith=Ac,X.drop=iT,X.dropRight=rT,X.dropRightWhile=rP,X.dropWhile=Ex,X.fill=$o,X.filter=mT,X.flatMap=Gx,X.flatMapDeep=aP,X.flatMapDepth=lP,X.flatten=yo,X.flattenDeep=sT,X.flattenDepth=Bu,X.flip=dP,X.flow=Ye,X.flowRight=Ie,X.fromPairs=Eh,X.functions=YT,X.functionsIn=NC,X.groupBy=CT,X.initial=Tx,X.intersection=Ll,X.intersectionBy=oT,X.intersectionWith=mp,X.invert=KT,X.invertBy=qT,X.invokeMap=yC,X.iteratee=Ht,X.keyBy=bT,X.keys=Pr,X.keysIn=Xr,X.map=Zm,X.mapKeys=TP,X.mapValues=DP,X.matches=Bt,X.matchesProperty=ci,X.memoize=ev,X.merge=IP,X.mergeWith=av,X.method=xe,X.methodOf=pe,X.mixin=Ee,X.negate=tv,X.nthArg=gn,X.omit=LC,X.omitBy=Qx,X.once=DT,X.orderBy=wT,X.over=It,X.overArgs=IT,X.overEvery=Vt,X.overSome=Qr,X.partial=Vx,X.partialRight=xC,X.partition=ST,X.pick=NP,X.pickBy=Lp,X.property=On,X.propertyOf=Zu,X.pull=lT,X.pullAll=yp,X.pullAllBy=cT,X.pullAllWith=mC,X.pullAt=uT,X.range=BP,X.rangeRight=Mre,X.rearg=NT,X.reject=CC,X.remove=sP,X.rest=LT,X.reverse=Dx,X.sampleSize=RT,X.set=ZT,X.setWith=XT,X.shuffle=vi,X.slice=ei,X.sortBy=AT,X.sortedUniq=Cp,X.sortedUniqBy=Ix,X.split=_C,X.spread=hP,X.tail=Dc,X.take=Ji,X.takeRight=zu,X.takeRightWhile=Rh,X.takeWhile=Nx,X.tap=Fx,X.throttle=Ux,X.thru=Rs,X.toArray=qo,X.toPairs=Jx,X.toPairsIn=eM,X.toPath=Dre,X.toPlainObject=UT,X.transform=tM,X.unary=Wx,X.union=Ea,X.unionBy=bp,X.unionWith=Km,X.uniq=Co,X.uniqBy=Lx,X.uniqWith=kx,X.unset=QT,X.unzip=wp,X.unzipWith=qm,X.update=kC,X.updateWith=kP,X.values=kp,X.valuesIn=nM,X.without=Hu,X.words=D,X.wrap=fP,X.xor=cs,X.xorBy=Vu,X.xorWith=Sp,X.zip=xp,X.zipObject=Ox,X.zipObjectDeep=Px,X.zipWith=dT,X.entries=Jx,X.entriesIn=eM,X.extend=WT,X.extendWith=IC,Ee(X,X),X.add=Nre,X.attempt=k,X.camelCase=JT,X.capitalize=PC,X.ceil=Lre,X.clamp=iM,X.clone=nv,X.cloneDeep=kT,X.cloneDeepWith=yn,X.cloneWith=gP,X.conformsTo=jx,X.deburr=Nc,X.defaultTo=We,X.divide=kre,X.endsWith=Yu,X.eq=bo,X.escape=Ku,X.escapeRegExp=lv,X.every=gT,X.find=vT,X.findIndex=Ma,X.findKey=Dp,X.findLast=Bx,X.findLastIndex=Rx,X.findLastKey=rv,X.floor=Ore,X.forEach=yT,X.forEachRight=zx,X.forIn=$T,X.forInRight=RP,X.forOwn=Ip,X.forOwnRight=sv,X.get=ov,X.gt=$x,X.gte=OT,X.has=Xx,X.hasIn=Np,X.head=Tc,X.identity=De,X.includes=Rp,X.indexOf=Ax,X.inRange=OC,X.invoke=AP,X.isArguments=Ic,X.isArray=Xt,X.isArrayBuffer=MC,X.isArrayLike=kr,X.isArrayLikeObject=er,X.isBoolean=mP,X.isBuffer=$u,X.isDate=PT,X.isElement=FT,X.isEmpty=EC,X.isEqual=li,X.isEqualWith=Yx,X.isError=Or,X.isFinite=vP,X.isFunction=Qa,X.isInteger=RC,X.isLength=Ah,X.isMap=AC,X.isMatch=Kx,X.isMatchWith=yP,X.isNaN=_T,X.isNative=CP,X.isNil=bP,X.isNull=BT,X.isNumber=GT,X.isObject=Gi,X.isObjectLike=Vi,X.isPlainObject=Ra,X.isRegExp=TC,X.isSafeInteger=qx,X.isSet=zT,X.isString=DC,X.isSymbol=Vs,X.isTypedArray=Ap,X.isUndefined=Ja,X.isWeakMap=Zx,X.isWeakSet=HT,X.join=Ym,X.kebabCase=cv,X.last=Es,X.lastIndexOf=vp,X.lowerCase=qu,X.lowerFirst=OP,X.lt=VT,X.lte=iv,X.max=Pre,X.maxBy=Fre,X.mean=_re,X.meanBy=Bre,X.min=Gre,X.minBy=zre,X.stubArray=GP,X.stubFalse=zP,X.stubObject=Ere,X.stubString=Rre,X.stubTrue=Are,X.multiply=Hre,X.nth=aT,X.noConflict=je,X.noop=St,X.now=bC,X.pad=eD,X.padEnd=uv,X.padStart=PP,X.parseInt=tD,X.random=rM,X.reduce=xT,X.reduceRight=MT,X.repeat=FC,X.replace=nD,X.result=LP,X.round=Vre,X.runInContext=be,X.sample=ET,X.size=Hx,X.snakeCase=FP,X.some=cP,X.sortedIndex=Ei,X.sortedIndexBy=vn,X.sortedIndexOf=Nn,X.sortedLastIndex=ti,X.sortedLastIndexBy=Yo,X.sortedLastIndexOf=Gu,X.startCase=BC,X.startsWith=iD,X.subtract=Ure,X.sum=Wre,X.sumBy=jre,X.template=dv,X.times=Tre,X.toFinite=Ol,X.toInteger=rn,X.toLength=Pl,X.toLower=sM,X.toNumber=Aa,X.toSafeInteger=Tp,X.toString=jn,X.toUpper=GC,X.trim=rD,X.trimEnd=_P,X.trimStart=zC,X.truncate=f,X.unescape=g,X.uniqueId=Ire,X.upperCase=b,X.upperFirst=E,X.each=yT,X.eachRight=zx,X.first=Tc,Ee(X,function(){var w={};return Ms(X,function(M,N){Wn.call(X.prototype,N)||(w[N]=M)}),w}(),{chain:!1}),X.VERSION=i,ga(["bind","bindKey","curry","curryRight","partial","partialRight"],function(w){X[w].placeholder=X}),ga(["drop","take"],function(w,M){pn.prototype[w]=function(N){N=N===n?1:Ri(rn(N),0);var _=this.__filtered__&&!M?new pn(this):this.clone();return _.__filtered__?_.__takeCount__=Fi(N,_.__takeCount__):_.__views__.push({size:Fi(N,re),type:w+(_.__dir__<0?"Right":"")}),_},pn.prototype[w+"Right"]=function(N){return this.reverse()[w](N).reverse()}}),ga(["filter","map","takeWhile"],function(w,M){var N=M+1,_=N==ie||N==te;pn.prototype[w]=function(j){var ee=this.clone();return ee.__iteratees__.push({iteratee:kt(j,3),type:N}),ee.__filtered__=ee.__filtered__||_,ee}}),ga(["head","last"],function(w,M){var N="take"+(M?"Right":"");pn.prototype[w]=function(){return this[N](1).value()[0]}}),ga(["initial","tail"],function(w,M){var N="drop"+(M?"":"Right");pn.prototype[w]=function(){return this.__filtered__?new pn(this):this[N](1)}}),pn.prototype.compact=function(){return this.filter(De)},pn.prototype.find=function(w){return this.filter(w).head()},pn.prototype.findLast=function(w){return this.reverse().find(w)},pn.prototype.invokeMap=cn(function(w,M){return typeof w=="function"?new pn(this):this.map(function(N){return vh(N,w,M)})}),pn.prototype.reject=function(w){return this.filter(tv(kt(w)))},pn.prototype.slice=function(w,M){w=rn(w);var N=this;return N.__filtered__&&(w>0||M<0)?new pn(N):(w<0?N=N.takeRight(-w):w&&(N=N.drop(w)),M!==n&&(M=rn(M),N=M<0?N.dropRight(-M):N.take(M-w)),N)},pn.prototype.takeRightWhile=function(w){return this.reverse().takeWhile(w).reverse()},pn.prototype.toArray=function(){return this.take(re)},Ms(pn.prototype,function(w,M){var N=/^(?:filter|find|map|reject)|While$/.test(M),_=/^(?:head|last)$/.test(M),j=X[_?"take"+(M=="last"?"Right":""):M],ee=_||/^find/.test(M);j&&(X.prototype[M]=function(){var le=this.__wrapped__,fe=_?[1]:arguments,Me=le instanceof pn,$e=fe[0],Ke=Me||Xt(le),tt=function(Rn){var Pn=j.apply(X,gc([Rn],fe));return _&&yt?Pn[0]:Pn};Ke&&N&&typeof $e=="function"&&$e.length!=1&&(Me=Ke=!1);var yt=this.__chain__,Tt=!!this.__actions__.length,Kt=ee&&!yt,mn=Me&&!Tt;if(!ee&&Ke){le=mn?le:new pn(this);var qt=w.apply(le,fe);return qt.__actions__.push({func:Rs,args:[tt],thisArg:n}),new ho(qt,yt)}return Kt&&mn?w.apply(this,fe):(qt=this.thru(tt),Kt?_?qt.value()[0]:qt.value():qt)})}),ga(["pop","push","shift","sort","splice","unshift"],function(w){var M=L0[w],N=/^(?:push|sort|unshift)$/.test(w)?"tap":"thru",_=/^(?:pop|shift)$/.test(w);X.prototype[w]=function(){var j=arguments;if(_&&!this.__chain__){var ee=this.value();return M.apply(Xt(ee)?ee:[],j)}return this[N](function(le){return M.apply(Xt(le)?le:[],j)})}}),Ms(pn.prototype,function(w,M){var N=X[M];if(N){var _=N.name+"";Wn.call(ba,_)||(ba[_]=[]),ba[_].push({name:M,func:N})}}),ba[Qi(n,C).name]=[{name:"wrapper",func:n}],pn.prototype.clone=vm,pn.prototype.reverse=F0,pn.prototype.value=hh,X.prototype.at=hT,X.prototype.chain=Ko,X.prototype.commit=fT,X.prototype.next=pT,X.prototype.plant=Uu,X.prototype.reverse=vC,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=_x,X.prototype.first=X.prototype.head,lh&&(X.prototype[lh]=oP),X},Au=Jf();xu?((xu.exports=Au)._=Au,Yf._=Au):or._=Au}).call(cwe)}(NM,NM.exports)),NM.exports}var dwe=uwe();function Y7(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Y7(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function K7(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Y7(e))&&(i&&(i+=" "),i+=t);return i}const G4="-",hwe=e=>{const t=pwe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const a=o.split(G4);return a[0]===""&&a.length!==1&&a.shift(),q7(a,t)||fwe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},q7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),r=i?q7(e.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const s=e.join(G4);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},K3=/^\[(.+)\]$/,fwe=e=>{if(K3.test(e)){const t=K3.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pwe=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const r in n)uB(n[r],i,r,t);return i},uB=(e,t,n,i)=>{e.forEach(r=>{if(typeof r=="string"){const s=r===""?t:q3(t,r);s.classGroupId=n;return}if(typeof r=="function"){if(gwe(r)){uB(r(i),t,n,i);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{uB(o,q3(t,s),n,i)})})},q3=(e,t)=>{let n=e;return t.split(G4).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},gwe=e=>e.isThemeGetter,mwe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},dB="!",hB=":",vwe=hB.length,ywe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=r=>{const s=[];let o=0,a=0,l=0,c;for(let m=0;m<r.length;m++){let v=r[m];if(o===0&&a===0){if(v===hB){s.push(r.slice(l,m)),l=m+vwe;continue}if(v==="/"){c=m;continue}}v==="["?o++:v==="]"?o--:v==="("?a++:v===")"&&a--}const u=s.length===0?r:r.substring(l),d=Cwe(u),h=d!==u,p=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}};if(t){const r=t+hB,s=i;i=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},Cwe=e=>e.endsWith(dB)?e.substring(0,e.length-1):e.startsWith(dB)?e.substring(1):e,bwe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(o=>{o[0]==="["||t[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},wwe=e=>({cache:mwe(e.cacheSize),parseClassName:ywe(e),sortModifiers:bwe(e),...hwe(e)}),Swe=/\s+/,xwe=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],a=e.trim().split(Swe);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!v,C=i(y?m.substring(0,v):m);if(!C){if(!y){l=u+(l.length>0?" "+l:l);continue}if(C=i(m),!C){l=u+(l.length>0?" "+l:l);continue}y=!1}const S=s(h).join(":"),x=p?S+dB:S,R=x+C;if(o.includes(R))continue;o.push(R);const A=r(C,y);for(let T=0;T<A.length;++T){const L=A[T];o.push(x+L)}l=u+(l.length>0?" "+l:l)}return l};function Mwe(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Z7(t))&&(i&&(i+=" "),i+=n);return i}const Z7=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=Z7(e[i]))&&(n&&(n+=" "),n+=t);return n};function Ewe(e,...t){let n,i,r,s=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=wwe(c),i=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=xwe(l,n);return r(l,u),u}return function(){return s(Mwe.apply(null,arguments))}}const us=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},X7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Q7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rwe=/^\d+\/\d+$/,Awe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Twe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Iwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,UC=e=>Rwe.test(e),Cn=e=>!!e&&!Number.isNaN(Number(e)),Fp=e=>!!e&&Number.isInteger(Number(e)),EF=e=>e.endsWith("%")&&Cn(e.slice(0,-1)),Dh=e=>Awe.test(e),Lwe=()=>!0,kwe=e=>Twe.test(e)&&!Dwe.test(e),J7=()=>!1,Owe=e=>Iwe.test(e),Pwe=e=>Nwe.test(e),Fwe=e=>!Mt(e)&&!Et(e),_we=e=>Iw(e,nY,J7),Mt=e=>X7.test(e),hv=e=>Iw(e,iY,kwe),RF=e=>Iw(e,Vwe,Cn),Z3=e=>Iw(e,eY,J7),Bwe=e=>Iw(e,tY,Pwe),yD=e=>Iw(e,rY,Owe),Et=e=>Q7.test(e),pM=e=>Nw(e,iY),Gwe=e=>Nw(e,Uwe),X3=e=>Nw(e,eY),zwe=e=>Nw(e,nY),Hwe=e=>Nw(e,tY),CD=e=>Nw(e,rY,!0),Iw=(e,t,n)=>{const i=X7.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Nw=(e,t,n=!1)=>{const i=Q7.exec(e);return i?i[1]?t(i[1]):n:!1},eY=e=>e==="position"||e==="percentage",tY=e=>e==="image"||e==="url",nY=e=>e==="length"||e==="size"||e==="bg-size",iY=e=>e==="length",Vwe=e=>e==="number",Uwe=e=>e==="family-name",rY=e=>e==="shadow",Wwe=()=>{const e=us("color"),t=us("font"),n=us("text"),i=us("font-weight"),r=us("tracking"),s=us("leading"),o=us("breakpoint"),a=us("container"),l=us("spacing"),c=us("radius"),u=us("shadow"),d=us("inset-shadow"),h=us("text-shadow"),p=us("drop-shadow"),m=us("blur"),v=us("perspective"),y=us("aspect"),C=us("ease"),S=us("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...R(),Et,Mt],T=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],O=()=>[Et,Mt,l],F=()=>[UC,"full","auto",...O()],H=()=>[Fp,"none","subgrid",Et,Mt],W=()=>["auto",{span:["full",Fp,Et,Mt]},Fp,Et,Mt],$=()=>[Fp,"auto",Et,Mt],Z=()=>["auto","min","max","fr",Et,Mt],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...O()],ae=()=>[UC,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],ne=()=>[e,Et,Mt],Se=()=>[...R(),X3,Z3,{position:[Et,Mt]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",zwe,_we,{size:[Et,Mt]}],K=()=>[EF,pM,hv],V=()=>["","none","full",c,Et,Mt],G=()=>["",Cn,pM,hv],se=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Cn,EF,X3,Z3],J=()=>["","none",m,Et,Mt],he=()=>["none",Cn,Et,Mt],Te=()=>["none",Cn,Et,Mt],ve=()=>[Cn,Et,Mt],Re=()=>[UC,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dh],breakpoint:[Dh],color:[Lwe],container:[Dh],"drop-shadow":[Dh],ease:["in","out","in-out"],font:[Fwe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dh],shadow:[Dh],spacing:["px",Cn],text:[Dh],"text-shadow":[Dh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",UC,Mt,Et,y]}],container:["container"],columns:[{columns:[Cn,Mt,Et,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Fp,"auto",Et,Mt]}],basis:[{basis:[UC,"full","auto",a,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Cn,UC,"auto","initial","none",Mt]}],grow:[{grow:["",Cn,Et,Mt]}],shrink:[{shrink:["",Cn,Et,Mt]}],order:[{order:[Fp,"first","last","none",Et,Mt]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[a,"screen",...ae()]}],"min-w":[{"min-w":[a,"screen","none",...ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,pM,hv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Et,RF]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",EF,Mt]}],"font-family":[{font:[Gwe,Mt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Et,Mt]}],"line-clamp":[{"line-clamp":[Cn,"none",Et,RF]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Et,Mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Et,Mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Cn,"from-font","auto",Et,hv]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[Cn,"auto",Et,Mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et,Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et,Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Se()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fp,Et,Mt],radial:["",Et,Mt],conic:[Fp,Et,Mt]},Hwe,Bwe]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Cn,Et,Mt]}],"outline-w":[{outline:["",Cn,pM,hv]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",u,CD,yD]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",d,CD,yD]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[Cn,hv]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",h,CD,yD]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[Cn,Et,Mt]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[Et,Mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Se()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Et,Mt]}],filter:[{filter:["","none",Et,Mt]}],blur:[{blur:J()}],brightness:[{brightness:[Cn,Et,Mt]}],contrast:[{contrast:[Cn,Et,Mt]}],"drop-shadow":[{"drop-shadow":["","none",p,CD,yD]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",Cn,Et,Mt]}],"hue-rotate":[{"hue-rotate":[Cn,Et,Mt]}],invert:[{invert:["",Cn,Et,Mt]}],saturate:[{saturate:[Cn,Et,Mt]}],sepia:[{sepia:["",Cn,Et,Mt]}],"backdrop-filter":[{"backdrop-filter":["","none",Et,Mt]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[Cn,Et,Mt]}],"backdrop-contrast":[{"backdrop-contrast":[Cn,Et,Mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Cn,Et,Mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Cn,Et,Mt]}],"backdrop-invert":[{"backdrop-invert":["",Cn,Et,Mt]}],"backdrop-opacity":[{"backdrop-opacity":[Cn,Et,Mt]}],"backdrop-saturate":[{"backdrop-saturate":[Cn,Et,Mt]}],"backdrop-sepia":[{"backdrop-sepia":["",Cn,Et,Mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Et,Mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Cn,"initial",Et,Mt]}],ease:[{ease:["linear","initial",C,Et,Mt]}],delay:[{delay:[Cn,Et,Mt]}],animate:[{animate:["none",S,Et,Mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Et,Mt]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Et,Mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et,Mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et,Mt]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[Cn,pM,hv,RF]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jwe=Ewe(Wwe);function Nt(...e){return jwe(K7(e))}function $we(e={},t){const n=dwe.reduce(e,(i,r,s)=>(r instanceof Array?(i.delete(s),r.forEach(o=>{i.append(s,o.toString())})):r!=null&&r!==""?i.set(s,r.toString()):i.delete(s),i),new URLSearchParams(t)).toString();return n===""?"":`?${n}`}const Q3=(e,t=2)=>{const n=[];for(let i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n};function sY(){const e=window.location.hash;return new URLSearchParams(e.split("?")[1]||"").get("token")}function Ywe(){return localStorage.getItem("iframe_token")}function oY(e){localStorage.setItem("iframe_token",e)}function Kwe(){const e=sY();return e?(oY(e),e):Ywe()}function qwe(){return B.jsx(B.Fragment,{children:B.jsx(I.Suspense,{fallback:null,children:B.jsx("section",{className:"h-full",style:void 0,children:B.jsx(qse,{})})})})}var Zwe=Object.defineProperty,aY=(e,t)=>{for(var n in t)Zwe(e,n,{get:t[n],enumerable:!0})},Je={};aY(Je,{error:()=>lY,errorOnce:()=>Jwe,log:()=>Xwe,logGroup:()=>tSe,reset:()=>eSe,table:()=>Qwe,warn:()=>z4,warnOnce:()=>ME});var fB=new Set;function Xwe(...e){console.log(...e)}function z4(e,...t){console.warn(`AG Charts - ${e}`,...t)}function lY(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function Qwe(...e){console.table(...e)}function cY(e,t,n){let i;e instanceof Error?i=e.message:typeof e=="string"?i=e:typeof e=="object"?i=JSON.stringify(e):i=String(e);const r=`${t}: ${i}`;fB.has(r)||(n(e),fB.add(r))}function ME(e,...t){cY(e,"Logger.warn",n=>z4(n,...t))}function Jwe(e,...t){cY(e,"Logger.error",n=>lY(n,...t))}function eSe(){fB.clear()}function tSe(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var ea={};aY(ea,{detectChartDefinition:()=>oSe,getAxisModule:()=>aSe,getPresetModule:()=>lSe,getSeriesModule:()=>cSe,hasModule:()=>rSe,listModulesByType:()=>sSe,register:()=>uY,registerMany:()=>nSe,reset:()=>iSe});var oI=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(oI||{}),Sd=new Map;function uY(e,t){const{def:n,version:i}=Sd.get(e.name)??{};if(!n){Sd.set(e.name,{def:e,version:t});return}if(!n.enterprise&&e.enterprise&&t===i){Sd.set(e.name,{def:e,version:t});return}if(i===t){z4([`AG Charts - Module '${e.name}' already registered,',
                'ignoring (version: ${i}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${e.name}' already registered with different version:`,`${i} vs ${t}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function nSe(e,t){for(const n of e)uY(n,t)}function iSe(){Sd.clear()}function rSe(e){return Sd.has(e)}function*sSe(e){for(const t of Sd.values())ER(e,t.def)&&(yield t.def)}function oSe(e){for(const t of Sd.values())if(ER("chart",t.def)&&t.def.detect(e))return t.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function aSe(e){const t=Sd.get(e);if(ER("axis",t==null?void 0:t.def))return t==null?void 0:t.def}function lSe(e){const t=Sd.get(e);if(ER("preset",t==null?void 0:t.def))return t==null?void 0:t.def}function cSe(e){const t=Sd.get(e);if(ER("series",t==null?void 0:t.def))return t==null?void 0:t.def}function ER(e,t){return(t==null?void 0:t.type)===e}var Og=class{constructor(){this.events=new Map}on(e,t){var n;return this.events.has(e)||this.events.set(e,new Set),(n=this.events.get(e))==null||n.add(t),()=>this.off(e,t)}off(e,t){const n=this.events.get(e);n&&(n.delete(t),n.size===0&&this.events.delete(e))}emit(e,t){var n;(n=this.events.get(e))==null||n.forEach(i=>i(t))}clear(e){e?this.events.delete(e):this.events.clear()}},kd={};typeof window<"u"?kd.window=window:typeof global<"u"&&(kd.window=global.window);typeof document<"u"?kd.document=document:typeof global<"u"&&(kd.document=global.document);function Od(e){var t;return e?(t=kd.document)==null?void 0:t[e]:kd.document}function si(e){var t;return e?(t=kd.window)==null?void 0:t[e]:kd.window}function uSe(e){kd.document=e}function dSe(e){kd.window=e}function an(e,t,n){const i=Od().createElement(e);if(typeof t=="object"&&(n=t,t=void 0),t)for(const r of t.split(" "))i.classList.add(r);return n&&Object.assign(i.style,n),i}function Ar(e){return Od().createElementNS("http://www.w3.org/2000/svg",e)}function hSe(e,t){const n=Od("body"),i=an("a",{display:"none"});i.href=e,i.download=t,n.appendChild(i),i.click(),setTimeout(()=>n.removeChild(i))}function di(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}var bD;function fSe(e){if(bD==null){const t=si("Option");bD=new t().style}return bD.color=e,bD.color||null}function QM(e){return e!=null}function Tn(e){return Array.isArray(e)}function pSe(e){return typeof e=="boolean"}function Lw(e){return e instanceof Date}function H4(e){return Lw(e)&&!isNaN(Number(e))}function gSe(e){return e instanceof RegExp}function xf(e){return typeof e=="function"}function rr(e){return typeof e=="object"&&e!==null&&!Tn(e)}function fN(e){return Tn(e)||zn(e)}function zn(e){var t;return typeof e=="object"&&e!==null&&((t=e.constructor)==null?void 0:t.name)==="Object"}function AF(e){if(typeof e!="object"||e===null)return!1;for(const t in e)return!1;return!0}function vs(e){return typeof e=="string"}function pN(e){return typeof e=="number"}function ii(e){return Number.isFinite(e)}function mSe(e){return typeof window<"u"&&e instanceof HTMLElement}function aI(e){return typeof e=="symbol"}function vSe(e){return vs(e)&&(e==="none"||fSe(e)!=null)}function J3(e,t,n){const{leading:i=!0,trailing:r=!0}=n??{};let s,o,a=!1;function l(){r&&o?(s=setTimeout(l,t),e(...o)):a=!1,o=null}function c(...u){a?o=u:(a=!0,s=setTimeout(l,t),i?e(...u):o=u)}return Object.assign(c,{cancel(){clearTimeout(s),a=!1,o=null}})}function dY(e,t,n=""){try{return e(...t)}catch(i){const r=n?` \`${n}\``:"";ME(`Uncaught exception in user callback${r}`,i)}}function EE(e,t="and",n=String,i=1/0){if(e.length===0)return"";if(e.length===1)return n(e[0]);e=e.map(n);const r=e.pop();if(e.length>=i){const s=e.length-(i-1);return`${e.slice(0,i-1).join(", ")}, and ${s} more ${t} ${r}`}return`${e.join(", ")} ${t} ${r}`}function V4(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const n=JSON.stringify(e)??typeof e;return n.length>t?`${n.slice(0,t)}... (+${n.length-t} characters)`:n}function ySe(e){let t=1;for(let n=0;n<e.length;n++)e.charCodeAt(n)===10&&t++;return t}function CSe(e,t){if(e===t)return 0;const[n,i]=e.length<t.length?[e,t]:[t,e],r=n.length,s=i.length;let o=new Array(r+1).fill(0).map((l,c)=>c),a=new Array(r+1);for(let l=1;l<=s;l++){a[0]=l;for(let c=1;c<=r;c++){const u=i[l-1]===n[c-1]?0:1;a[c]=Math.min(o[c]+1,a[c-1]+1,o[c-1]+u)}[o,a]=[a,o]}return o[r]}function bSe(e){return e.replace(wSe,(t,n)=>(n>0?"-":"")+t.toLowerCase())}var wSe=/[A-Z]+(?![a-z])|[A-Z]/g;function pB(e){return Tn(e)?e.map(t=>t.text).join(""):e??""}var vl=Symbol("description"),hY=Symbol("required"),gN=Symbol("marked"),fY=Symbol("undocumented"),mN=Symbol("union"),SSe=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((e,t)=>{for(const n of t)e.set(n.toLowerCase(),new Set(t.filter(i=>i!==n)));return e},new Map),U4=(e=>(e.Invalid="invalid",e.Required="required",e.Unknown="unknown",e))(U4||{});function RE(e,t){return ii(t)?`${e}[${t}]`:e?`${e}.${t}`:t}var ny=class{constructor(e,t,n,i,r){this.type=e,this.description=t,this.value=n,this.path=i,this.key=r}setUnionType(e,t){if(this.path.startsWith(t)){const n=this.path.slice(t.length);this.altPath=`${t}[type=${e}]${n}`}}getPrefix(){const{altPath:e=this.path,key:t}=this;return!e&&!t?"Value":`Option \`${t?RE(e,t):e}\``}toString(){const{description:e="unknown",type:t,value:n}=this;return t==="required"&&n==null?`${this.getPrefix()} is required and has not been provided; expecting ${e}, ignoring.`:`${this.getPrefix()} cannot be set to \`${V4(n,50)}\`; expecting ${e}, ignoring.`}},W4=class extends ny{constructor(e,t,n,i){super("unknown",void 0,t,n,i),this.suggestions=e,this.key=i}getPrefix(){return`Unknown option \`${RE(this.altPath??this.path,this.key)}\``}getPostfix(){const e=EE(xSe(this.key,this.suggestions),"or",t=>`\`${t}\``);return e?`; Did you mean ${e}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function To(e,t,n=""){if(!rr(e))return{cleared:null,invalid:[new ny("required","an object",e,n)]};const i={},r=[],s=new Set(Object.keys(e)),o=[];if(mN in t){const a=Object.keys(t),l=t[mN];if(e.type!=null&&a.includes(e.type)||e.type==null&&l!=null){const{type:c=l,...u}=e,d=To(u,t[c],n);Object.assign(i,{type:c},d.cleared);for(const h of d.invalid)h.setUnionType(c,n);r.push(...d.invalid)}else{const c=EE(a,"or",u=>`'${u}'`);r.push(new ny("required",`a keyword such as ${c}`,e.type,n,"type"))}return{cleared:i,invalid:r}}for(const a of Object.keys(t)){const l=t[a],c=l[hY],u=e[a];if(s.delete(a),typeof u>"u"&&(l[fY]||o.push(a),!c))continue;const d=RE(n,a);if(xf(l)){const p=l(u,{options:e,path:d});if(typeof p=="object"){if(r.push(...p.invalid),p.valid){i[a]=p.cleared;continue}else if(Nb(p.invalid,d))continue}else if(p){i[a]=u;continue}r.push(new ny(c?"required":"invalid",l[vl],u,n,a))}else{const h=To(u,l,d);h.cleared!=null&&(i[a]=h.cleared),r.push(...h.invalid)}}for(const a of s){const l=e[a];typeof l>"u"||r.push(new W4(o,l,n,a))}return{cleared:i,invalid:r}}function xSe(e,t,n=2){const i=[],r=e.toLowerCase(),s=SSe.get(r);for(const o of t){const a=o.toLowerCase();(s!=null&&s.has(o)||a.includes(r)||CSe(r,a)<=n)&&i.push(o)}return i}function Bn(e,t){if(xf(e)){let n=function(i,r){return e(i,r)};return n[vl]=t,n}else return{...e,[vl]:t}}function pt(e){return Object.assign(xf(e)?(t,n)=>e(t,n):Hr(e),{[hY]:!0,[vl]:e[vl]})}function Zt(e){return Object.assign(xf(e)?(t,n)=>e(t,n):Hr(e),{[fY]:!0,[vl]:e[vl]})}var Hr=(e,t="an object")=>Bn((n,i)=>{const r=To(n,e,i.path);return{valid:!Nb(r.invalid,i.path),cleared:r.cleared,invalid:r.invalid}},t),RR=(e,t,n)=>({...e,[vl]:t,[mN]:n}),Ii=(...e)=>Bn((t,n)=>{const i=[];for(const r of e){const s=r(t,n);if(typeof s=="object"){if(i.push(...s.invalid),!s.valid)return{valid:!1,cleared:t,invalid:i};t=s.cleared}else if(!s)return!1}return{valid:!0,cleared:t,invalid:i}},e.map(t=>t[vl]).filter(Boolean).join(" and ")),tn=(...e)=>Bn((t,n)=>{for(const i of e){const r=i(t,n);if(typeof r=="object"?r.valid:r)return r}return!1},e.map(t=>t[vl]).filter(Boolean).join(" or ")),vN=e=>ii(e)||H4(e),MSe=e=>Lw(e)||(ii(e)||vs(e))&&H4(new Date(e)),Ud=Bn(Tn,"an array"),me=Bn(pSe,"a boolean"),ni=Bn(xf,"a function"),ct=Bn(vSe,"a color string"),wg=Bn(MSe,"a date"),Pt=Bn(QM,"a defined value"),ze=Bn(ii,"a number"),kL=Bn(rr,"an object"),Pe=Bn(vs,"a string"),pY=Bn(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),Uy=(e,t=1/0)=>{let n;return t===1/0?n=`an array of at least ${e} items`:e===t?n=`an array of exactly ${e} items`:n=`an array of at least ${e} and no more than ${t} items`,Bn(i=>Tn(i)&&i.length>=e&&i.length<=t,n)},gY=(e,t=1/0)=>{let n;return t===1/0?n=`a string of at least ${e} characters`:e===t?n=`an string of exactly ${e} characters`:n=`an string of at least ${e} and no more than ${t} characters`,Bn(i=>vs(i)&&i.length>=e&&i.length<=t,n)},mY=(e,t=!0)=>Bn(n=>ii(n)&&(n>e||t&&n===e),`a number greater than ${t?"or equal to ":""}${e}`),ESe=(e,t)=>Bn(n=>ii(n)&&n>=e&&n<=t,`a number between ${e} and ${t} inclusive`),ge=mY(0),AE=mY(0,!1),wt=ESe(0,1),xd=e=>Bn((t,{options:n})=>!vN(t)||!vN(n[e])||t<n[e],`the value to be less than \`${e}\``),Md=e=>Bn((t,{options:n})=>!vN(t)||!vN(n[e])||t>n[e],`the value to be greater than \`${e}\``);function Ze(...e){rr(e[0])&&(e=Object.values(e[0]));const t=EE(e,"or",n=>`'${n}'`);return Bn(n=>e.includes(n),`a keyword such as ${t}`)}var Oi=e=>Bn(t=>e===t,`the value ${JSON.stringify(e)}`),Ft=(e,t,n=!0)=>Bn((i,r)=>{if(!Tn(i))return!1;let s=n;const o=[],a=[],l=c=>s=n?s&&c:s||c;if(i.length===0)return{valid:!0,cleared:o,invalid:a};for(let c=0;c<i.length;c++){const u=i[c],d=e(u,{options:u,path:`${r.path}[${c}]`});typeof d=="object"?(s=l(d.valid),a.push(...d.invalid),d.cleared!=null&&o.push(d.cleared)):(s=l(d),d&&o.push(u))}return{valid:s,cleared:s||!n?o:null,invalid:a}},t??`${e[vl]} array`),ro=(e,t="an object array")=>Bn((n,i)=>{if(!Tn(n))return!1;const r=[],s=[];for(let o=0;o<n.length;o++){const a=`${i.path}[${o}]`,l=To(n[o],e,a);Nb(l.invalid,a)||r.push(l.cleared),s.push(...l.invalid)}return{valid:!0,cleared:r,invalid:s}},t),Cy=(e,t)=>Bn((n,i)=>xf(n)?gN in n?!0:{valid:!0,cleared:Object.assign((...s)=>{const o=dY(n,s);if(o==null)return;const a=e(o,{options:o,path:""});if(typeof a=="object"){if(a.invalid.forEach(vY(i,e[vl])),a.valid)return a.cleared}else{if(a)return o;ME(`Callback \`${i.path}\` returned an invalid value \`${V4(o,50)}\`; expecting ${e[vl]}, ignoring.`)}},{[gN]:!0}),invalid:[]}:!1,"a function"),ki=(e,t="an object")=>Bn((n,i)=>xf(n)?gN in n?!0:{valid:!0,cleared:Object.assign((...s)=>{const o=dY(n,s,i.path);if(o==null)return;const a=To(o,e);return a.invalid.forEach(vY(i,t)),a.cleared},{[gN]:!0}),invalid:[]}:!1,"a function");function Nb(e,t){return e.some(n=>n.type==="required"&&n.path===t)}function vY(e,t){return n=>{if(n instanceof W4)return ME(`Callback \`${e.path}\` returned an unknown property \`${RE(n.path,n.key)}\`${n.getPostfix()}`);const i=V4(n.value,50);ME(n.key?`Callback \`${e.path}\` returned an invalid property \`${RE(n.path,n.key)}\`: \`${i}\`; expecting ${n.description}, ignoring.`:`Callback \`${e.path}\` returned an invalid value \`${i}\`; expecting ${t??n.description}, ignoring.`)}}var yN=e=>{if(!rr(e))return!1;const t=Object.keys(e);return t.length===1&&t[0].startsWith("$")},RSe=Hr({color:ct,stop:wt},""),yY=Bn(e=>{let t=-1/0;for(const n of e)if((n==null?void 0:n.stop)!=null){if(n.stop<t)return!1;t=n.stop}return!0},"color stops to be defined in ascending order"),j4=Ii(Uy(2),Ft(RSe),yY),$4=Ze("axis","item","series"),TF=Hr({type:pt(Oi("gradient")),colorStops:pt(j4),rotation:ze,gradient:Zt(Ze("linear","radial","conic")),bounds:Zt($4),reverse:Zt(me)},"a gradient object with color stops"),et={stroke:ct,strokeWidth:ge,strokeOpacity:wt},ASe=Hr({type:pt(Oi("gradient")),gradient:pt(Ze("linear","radial","conic")),bounds:pt($4),colorStops:pt(tn(j4,Ii(Uy(2),Ft(ct)))),rotation:pt(ze),reverse:pt(me)}),TSe=Hr({type:pt(Oi("pattern")),pattern:pt(Ze("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:gY(2),width:pt(ge),height:pt(ge),fill:pt(ct),fillOpacity:pt(wt),backgroundFill:pt(ct),backgroundFillOpacity:pt(wt),padding:pt(ge),rotation:pt(ze),scale:pt(ge),stroke:pt(ct),strokeWidth:pt(ge),strokeOpacity:pt(wt)}),DSe=Hr({type:pt(Oi("image")),url:Pe,width:ge,height:ge,rotation:pt(ze),backgroundFill:pt(ct),backgroundFillOpacity:wt,fit:pt(Ze("stretch","contain","cover")),repeat:pt(Ze("repeat","repeat-x","repeat-y","no-repeat"))}),ISe=RR({gradient:{colorStops:j4,rotation:ze,gradient:Zt(Ze("linear","radial","conic")),bounds:Zt($4),reverse:Zt(me)},pattern:{pattern:Ze("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:gY(2),width:ge,height:ge,rotation:ze,scale:ge,fill:ct,fillOpacity:wt,backgroundFill:ct,backgroundFillOpacity:wt,...et,padding:Zt(ge)},image:{url:pt(Pe),backgroundFill:ct,backgroundFillOpacity:wt,width:ge,height:ge,fit:Ze("stretch","contain","cover","none"),repeat:Ze("repeat","repeat-x","repeat-y","no-repeat"),rotation:ze}},"a color object"),nc=tn(ct,Hr(ISe,"a color object")),ft={fill:nc,fillOpacity:wt};ft.fillGradientDefaults=Zt(ASe);ft.fillPatternDefaults=Zt(TSe);ft.fillImageDefaults=Zt(DSe);var Ct={lineDash:Ft(ge),lineDashOffset:ze},Pd={...ft,...et,...Ct,opacity:wt,cornerRadius:ge},by={...et,...Ct,opacity:wt},Yi={...ft,...et,...Ct,opacity:wt};function CY(e){return{enabled:me,range:Ze("tooltip","node"),highlightedItem:e,unhighlightedItem:e}}function Tr(e,t){return{enabled:me,range:Ze("tooltip","node"),highlightedItem:e,unhighlightedItem:e,highlightedSeries:t,unhighlightedSeries:t,bringToFront:me}}var e5=Hr({googleFont:Pe},"google font"),gB=tn(Pe,yN,e5,Ft(tn(Pe,e5))),hi={color:ct,fontFamily:gB,fontSize:ge,fontStyle:Ze("normal","italic","oblique"),fontWeight:tn(ge,Ze("normal","bold","bolder","lighter"))},NSe=Hr({top:ze,right:ze,bottom:ze,left:ze},"padding object"),lI=tn(ze,NSe),cI={enabled:me,stroke:ct,strokeWidth:ge,strokeOpacity:wt},Yc={border:{...cI},cornerRadius:ze,padding:lI,...ft};function LSe(e,t,n=1/0){const i=t,r=n,s=e%180*(Math.PI/180),o=Math.abs(Math.sin(s)),a=Math.abs(Math.cos(s));if(o===0)return{width:i,height:r};if(a===0)return{width:r,height:i};if(!isFinite(r)){const c=a/o,u=i/(a+c*o);return{width:u,height:c*u}}const l=a*a-o*o;if(l===0){const c=Math.min(i,r)/Math.SQRT2;return{width:c,height:c}}return{width:Math.abs((i*a-r*o)/l),height:Math.abs((r*a-i*o)/l)}}function CN(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function kSe(e){return Array.from(new Set(e))}function Y4(e,t){return e.reduce((n,i)=>{const r=t(i);return n[r]??(n[r]=[]),n[r].push(i),n},{})}function Qh(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!Qh(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function cd(e,t,n=0){if(e.length===0)return[];const i=[];for(let r=0;r<t;r++)i.push(e.at((r+n)%e.length));return i}function OSe(e,t){const n=new Map;return t.forEach((i,r)=>{n.set(i,r)}),e.sort((i,r)=>{const s=n.get(i)??1/0,o=n.get(r)??1/0;return s-o})}function PSe(e,t){let n=0;for(;n<e.length&&t(e[n]);)n+=1;const i=n;i!==0&&e.splice(0,i)}function FSe(e,t){let n=e.length-1;for(;n>=0&&t(e[n]);)n-=1;const i=e.length-1-n;i!==0&&e.splice(e.length-i,i)}var t5=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const n=()=>{clearTimeout(r),t(!0)},r=setTimeout(()=>{const s=this.queue.indexOf(n);s<0||(this.queue.splice(s,1),t(!1))},e);this.queue.push(n)})}notify(){this.queue.splice(0).forEach(e=>e())}};function n5(e=0){return new Promise(t=>{setTimeout(t,e)})}function*mb(...e){for(const t of e)yield*t}function _Se(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function gM(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*Xc(e){const t=[void 0,void 0];for(const n of Object.keys(e))t[0]=n,t[1]=e[n],yield t}function _p(e){return e==="true"}function BSe(e){return Number(e)}function nl(e){return e}var DF={role:nl,"aria-checked":_p,"aria-controls":nl,"aria-describedby":nl,"aria-disabled":_p,"aria-expanded":_p,"aria-haspopup":nl,"aria-hidden":_p,"aria-label":nl,"aria-labelledby":nl,"aria-live":nl,"aria-orientation":nl,"aria-selected":_p,"data-focus-override":_p,"data-focus-visible-override":_p,"data-preventdefault":_p,class:nl,for:nl,id:nl,tabindex:BSe,title:nl,placeholder:nl};function An(e,t,n){n==null||n===""||n===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,n.toString())}function ow(e,t){if(t!=null)for(const[n,i]of Xc(t))n!=="class"&&An(e,n,i)}function Lb(e,t,n){var r;if(!(e instanceof HTMLElement))return;const i=e.getAttribute(t);return i===null?n:((r=DF[t])==null?void 0:r.call(DF,i))??void 0}function gd(e,t,n){e!=null&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n.toString()))}function GSe(e,t){for(const[n,i]of Xc(t))gd(e,n,i)}function bY(e,t,n,i,r){return t<e.x+e.width&&t+i>e.x&&n<e.y+e.height&&n+r>e.y}function K4(e,t,n,i=0,r=0){return t>=e.x&&t+i<=e.x+e.width&&n>=e.y&&n+r<=e.y+e.height}function zSe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ov(e,t,n){if(e>t)return;let i;for(;t>=e;){const r=Math.floor((t+e)/2);n(r)?(i=r,e=r+1):t=r-1}return i}function TE(e,t,n){if(e>t)return;let i;for(;t>=e;){const r=Math.floor((t+e)/2);n(r)?(i=r,t=r-1):e=r+1}return i}var HSe=class{constructor(e){this.getter=e}get(){var t;let e=(t=this.result)==null?void 0:t.deref();return e||(e=this.getter(),this.result=new WeakRef(e),e)}clear(){this.result=void 0}},sr=class{constructor(){this.callbacks=new Set}flush(){for(const e of this.callbacks)e();this.callbacks.clear()}merge(e){for(const t of e.callbacks)this.callbacks.add(t)}register(...e){for(const t of e)t&&this.callbacks.add(t)}};function VSe(e,t){const n=Math.max(e.length,t.length),i=new Set,r=new Set;for(let s=0;s<n;s++){const o=e[s],a=t[s];o!==a&&(r.has(a)?r.delete(a):a&&i.add(a),i.has(o)?i.delete(o):o&&r.add(o))}return{changed:i.size>0||r.size>0,added:i,removed:r}}function Gt(e,t,n){return Math.min(n,Math.max(e,t))}function USe(e,t,n=1e-10){return e>=t[0]-n&&e<=t[1]+n}function Ul(e,t,n=1e-10){return e===t||Math.abs(e-t)<n}function q4(e){return Math.sign(e)===-1||Object.is(e,-0)}function WSe(e){return e%1===0}function i5(e,t=2){const n=10**t;return Math.round(e*n)/n}function jSe(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function Z4(e){var r;if(Math.floor(e)===e)return 0;let t=String(e),n=0;if(e<1e-6||e>=1e21){let s;[t,s]=t.split("e"),s!=null&&(n=Number(s))}const i=((r=t.split(".")[1])==null?void 0:r.length)??0;return Math.max(i-n,0)}function wY(e){return Array.isArray(e)&&e.length>=2&&e.every(ii)}function uI(e){return Array.isArray(e)&&e.length>=2&&e.every(wY)}function $Se(e){const t=e[0],n=e[e.length-1];return Ul(t[0],n[0],.001)&&Ul(t[1],n[1],.001)}function r5(e){return Array.isArray(e)&&e.every(uI)&&e.every($Se)}function SY(e){if(e===null)return!0;if(!rr(e)||e.type==null)return!1;const{type:t,coordinates:n}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(SY);case"MultiPolygon":return Array.isArray(n)&&n.every(r5);case"Polygon":return r5(n);case"MultiLineString":return Array.isArray(n)&&n.every(uI);case"LineString":return uI(n);case"MultiPoint":return uI(n);case"Point":return wY(n);default:return!1}}function YSe(e){return rr(e)&&e.type==="Feature"&&SY(e.geometry)}function KSe(e){return rr(e)&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(YSe)}var qSe=Bn(KSe,"a GeoJSON object"),ZSe=class{constructor(e,t){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=e,this.processedEdge=t}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(e){const t=new XSe(e);return this._vertexCount++,t}addEdge(e,t,n){n===this.cachedNeighboursEdge?e.updateCachedNeighbours().set(t.value,t):n===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(e),this.pendingProcessingEdgesTo.push(t));const{edges:i}=e,r=i.get(n);r?r.indexOf(t)===-1&&r.push(t):i.set(n,[t])}removeVertex(e){this._vertexCount--;const t=e.edges;if(t){for(const[n,i]of t)this._vertexCount-=i.length;e.clear()}}removeEdge(e,t){for(const[n,i]of e.edges){const r=i.indexOf(t);i.splice(r,1),i.length===0&&e.edges.delete(n)}}removeEdges(e,t){e.edges.delete(t)}getVertexValue(e){return e.value}*neighbours(e){for(const[t,n]of e.edges)for(const i of n)yield i}*neighboursAndEdges(e){for(const[t,n]of e.edges)for(const i of n)yield[i,t]}neighboursWithEdgeValue(e,t){return e.edges.get(t)}findNeighbour(e,t){var n;return(n=e.edges.get(t))==null?void 0:n[0]}findNeighbourValue(e,t){const n=this.findNeighbour(e,t);if(n)return this.getVertexValue(n)}findNeighbourWithValue(e,t,n){const i=n==null?this.neighbours(e):this.neighboursWithEdgeValue(e,n);if(i){for(const r of i)if(this.getVertexValue(r)===t)return r}}findVertexAlongEdge(e,t,n){var r;if(n===this.cachedNeighboursEdge){let s;for(const o of t)if(s=(r=(s??e).readCachedNeighbours())==null?void 0:r.get(o),!s)return;return s}if(t.length===0)return;let i=e;for(const s of t){const o=i?this.neighboursWithEdgeValue(i,n):void 0;if(!o)return;i=o.find(a=>a.value===s)}return i}adjacent(e,t){for(const[n,i]of e.edges)if(i.includes(t))return!0;return!1}},XSe=class{constructor(e){this.value=e,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){var e;this.edges.clear(),(e=this._cachedNeighbours)==null||e.clear()}},s5=new Map,QSe=1;function cu(e){const t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);const i=(s5.get(n)??0)+1;return s5.set(n,i),`${n}-${i}`}function bN(){return`ag-charts-${QSe++}`}function IF(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??JSe()}function JSe(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let n=0;n<e.length;n++)(n===4||n===6||n===8||n===10)&&(t+="-"),t+=e[n].toString(16).padStart(2,"0");return t}var exe=(e,t,n)=>{let i=e,r=i;for(const s of t)if(i==null||n(i.value,s)>0)i={value:s,next:i},r=i;else{for(r=r;r.next!=null&&n(r.next.value,s)<=0;)r=r.next;r.next={value:s,next:r.next}}return i},xY=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,MY=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function txe(e){if(!vs(e))return!1;const t=MY.exec(e);return xY.test(t?t[2]:e)}function X4(e){let t,n;const i=MY.exec(e);i&&([,t,e,n]=i);const r=xY.exec(e);if(!r){Je.warnOnce(`The number formatter is invalid: ${e}`);return}const[,s,o,a,l,c,u,d,h,p,m]=r;return{fill:s,align:o,sign:a,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!p,type:m,prefix:t,suffix:n}}function EY(e){const t=typeof e=="string"?X4(e):e;if(t==null)return;const{fill:n,align:i,sign:r="-",symbol:s,zero:o,width:a,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t;let{trim:p}=t;const m=h==null||isNaN(h);let v;if(!c)v=Hl.g,p=!0;else if(c in Hl&&c in vb)v=m?vb[c]:Hl[c];else if(c in Hl)v=Hl[c];else if(c in vb)v=vb[c];else throw new Error(`The number formatter type is invalid: ${c}`);const y=c?6:12;let C;return m||(C=h),(S,x)=>{let R=v(S,C??x??y);return p&&(R=rxe(R)),l&&(R=sxe(R,l)),R=axe(S,R,r),s&&s!=="#"&&(R=`${s}${R}`),s==="#"&&c==="x"&&(R=`0x${R}`),c==="s"&&(R=`${R}${oxe(S)}`),(c==="%"||c==="p")&&(R=`${R}%`),a!=null&&!isNaN(a)&&(R=lxe(R,a,n??o,i)),R=`${u}${R}${d}`,R}}var vb={b:e=>wD(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>wD(e).toString(8),x:e=>wD(e).toString(16),X:e=>vb.x(e).toUpperCase(),n:e=>vb.d(e),"%":e=>`${wD(e*100).toFixed(0)}`},Hl={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Hl.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Hl.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>Hl.g(e,t).toUpperCase(),n:(e,t)=>Hl.g(e,t),p:(e,t)=>Hl.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),r=Math.floor(Math.log10(n))-(t-1);if(r<=0)return n.toFixed(-r);const s=10**r;return(Math.round(n/s)*s).toFixed()},s:(e,t)=>{const n=TY(e);return Hl.r(e/10**n,t)},"%":(e,t)=>Hl.f(e*100,t)},RY=-24,AY=24,nxe={[RY]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[AY]:"Y"},ixe="−";function wD(e){return Math.floor(Math.abs(e))}function rxe(e){if(!e.endsWith("0")||e.indexOf(".")===-1)return e;let t=e.length-1;for(;t>0;)if(e[t]=="0")t-=1;else if(e[t]=="."){t-=1;break}else break;return e.substring(0,t+1)}function sxe(e,t){let n=e.indexOf(".");n<0&&(n=e.length);const i=e.substring(0,n).split(""),r=e.substring(n);for(let s=i.length-3;s>0;s-=3)i.splice(s,0,t);return`${i.join("")}${r}`}function oxe(e){return nxe[TY(e)]}function TY(e){return Gt(RY,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,AY)}function axe(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;const i=n==="+"?"+":"";return`${e>=0?i:ixe}${t}`}function lxe(e,t,n=" ",i=">"){let r=e;if(i===">"||!i)r=r.padStart(t,n);else if(i==="<")r=r.padEnd(t,n);else if(i==="^"){const s=Math.max(0,t-r.length),o=Math.ceil(s/2),a=Math.floor(s/2);r=r.padStart(o+r.length,n),r=r.padEnd(a+r.length,n)}return r}var DY=Object.defineProperty,cxe=Object.getOwnPropertyDescriptor,Wd=(e,t)=>{for(var n in t)DY(e,n,{get:t[n],enumerable:!0})},P=(e,t,n,i)=>{for(var r=i>1?void 0:i?cxe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&DY(t,n,r),r},OL=class{constructor(){this.cleanup=new sr}destroy(){this.cleanup.flush()}},uxe=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const n=this.modules.find(i=>t.type===i.type&&("optionsKey"in t&&"optionsKey"in i?t.optionsKey===i.optionsKey:!0)&&t.identifier===i.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){const i=this.modules.indexOf(n);this.modules.splice(i,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,n=this.modules.filter(s=>e.includes(s.type)),i=s=>{const o=this.dependencies.get(s);return(o==null?void 0:o.flatMap(i).concat(o))??[]},r=[];for(const s of n){const o="optionsKey"in s?s.optionsKey:s.contextKey;if(!t.has(o)){for(const a of i(o)){if(t.has(a))continue;const l=this.modulesByOptionKey.get(a);if(!l){r.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield s,t.add(o)}}if(r.length>0)throw new Error(`Could not resolve module dependencies: ${r}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},Ed=new uxe,PL=Symbol("interpolate"),wN=e=>e[PL]!=null;function FL(e,t,n,i=1/0){const r={nearest:void 0,distanceSquared:i};for(const s of n){const o=s.distanceSquared(e,t);if(o===0)return{nearest:s,distanceSquared:0};o<r.distanceSquared&&(r.nearest=s,r.distanceSquared=o)}return r}function dxe(e,t,n,i=1/0){var a;const{x:r=e,y:s=t}=((a=n.transformPoint)==null?void 0:a.call(n,e,t))??{},o={nearest:void 0,distanceSquared:i};for(const l of n.children){const{nearest:c,distanceSquared:u}=l.nearestSquared(r,s,o.distanceSquared);if(u===0)return{nearest:c,distanceSquared:u};u<o.distanceSquared&&(o.nearest=c,o.distanceSquared=u)}return o}var DE=class eb{constructor(t,n,i,r){this.x=t,this.y=n,this.width=i,this.height=r}static fromDOMRect({x:t,y:n,width:i,height:r}){return new eb(t,n,i,r)}static merge(t){let n=1/0,i=1/0,r=-1/0,s=-1/0;for(const o of t)o.x<n&&(n=o.x),o.y<i&&(i=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>s&&(s=o.y+o.height);return new eb(n,i,r-n,s-i)}static nearestBox(t,n,i){return FL(t,n,i)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:n,width:i,height:r}=this;return new eb(t,n,i,r)}equals(t){return zSe(this,t)}containsPoint(t,n){return K4(this,t,n)}intersection(t){if(!this.collidesBBox(t))return;const n=Gt(t.x,this.x,t.x+t.width),i=Gt(t.y,this.y,t.y+t.height),r=Gt(t.x,this.x+this.width,t.x+t.width),s=Gt(t.y,this.y+this.height,t.y+t.height);return new eb(n,i,r-n,s-i)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;const i=t-Gt(this.x,t,this.x+this.width),r=n-Gt(this.y,n,this.y+this.height);return i*i+r*r}shrink(t,n){if(typeof t=="number")this.applyMargin(t,n);else for(const i of Object.keys(t)){const r=t[i];typeof r=="number"&&this.applyMargin(r,i)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,n){if(typeof t=="number")this.applyMargin(-t,n);else for(const i of Object.keys(t)){const r=t[i];typeof r=="number"&&this.applyMargin(-r,i)}return this}applyMargin(t,n){switch(n){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,n){return this.x+=t,this.y+=n,this}[PL](t,n){return new eb(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};DE.zero=Object.freeze(new DE(0,0,0,0));DE.NaN=Object.freeze(new DE(NaN,NaN,NaN,NaN));var ut=DE,hxe=2e3,o5=Date.now(),fxe=()=>{const e=Date.now()-o5;if(e>hxe){const t=(Math.floor(e/100)/10).toFixed(1);Je.log(`**** ${t}s since last log message ****`)}o5=Date.now()},on={create(...e){return Object.assign((...n)=>{on.check(...e)&&(typeof n[0]=="function"&&(n=CN(n[0]())),fxe(),Je.log(...n))},{check:()=>on.check(...e),group:(n,i)=>on.check(...e)?Je.logGroup(n,i):i()})},check(...e){return e.length===0&&e.push(!0),CN(si("agChartsDebug")).some(n=>e.includes(n))},inDevelopmentMode(e){if(on.check("dev"))return e()}};function IY({context:e,pixelRatio:t,width:n,height:i}){e.save();try{e.resetTransform(),e.clearRect(0,0,Math.ceil(n*t),Math.ceil(i*t))}finally{e.restore()}}function NY(e){if(on.check("canvas")){const t=e.save.bind(e),n=e.restore.bind(e);let i=0;Object.assign(e,{save(){t(),i++},restore(){if(i===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),i--},verifyDepthZero(){if(i!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${i}`)}})}}function a5(e,t,n){return[Math.floor(e*n),Math.floor(t*n)]}var Q4=class{constructor(e){const{width:t,height:n,pixelRatio:i,willReadFrequently:r=!1}=e;this.width=t,this.height=n,this.pixelRatio=i;const[s,o]=a5(t,n,i);this.canvas=new OffscreenCanvas(s,o),this.context=this.canvas.getContext("2d",{willReadFrequently:r}),this.context.setTransform(i,0,0,i,0,0),NY(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.canvas,t,n)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,n){if(!(e>0&&t>0))return;const{canvas:i,context:r}=this;if(e!==this.width||t!==this.height||n!==this.pixelRatio){const[s,o]=a5(e,t,n);i.width=s,i.height=o}r.setTransform(n,0,0,n,0,0),this.width=e,this.height=t,this.pixelRatio=n}clear(){IY(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},mB=Symbol("BREAK"),JM="__decorator_config",SD="__decorator_accessors";function pxe(e,t){J4(e,t).optional=!0}function J4(e,t){var c;if(Object.getOwnPropertyDescriptor(e,JM)==null&&Object.defineProperty(e,JM,{value:{}}),Object.getOwnPropertyDescriptor(e,SD)==null){const u=(c=Object.getPrototypeOf(e))==null?void 0:c[SD],d=(u==null?void 0:u.slice())??[];Object.defineProperty(e,SD,{value:d})}const n=e[JM],i=t.toString();if(n[i]!=null)return n[i];n[i]={setters:[],getters:[],observers:[]};const r=Object.getOwnPropertyDescriptor(e,t);let s=r==null?void 0:r.get,o=r==null?void 0:r.set;if(s==null||o==null){const u=e[SD];let d=u.indexOf(t);d===-1&&(d=u.push(t)-1),s??(s=function(){let h=this.__accessors;return h==null&&(h=u.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:h})),h[d]}),o??(o=function(h){let p=this.__accessors;p==null&&(p=u.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:p})),p[d]=h})}return Object.defineProperty(e,t,{set:function(u){const{setters:d,observers:h}=n[i];let p;d.some(m=>m.length>2)&&(p=s.call(this));for(const m of d)if(u=m(this,t,u,p),u===mB)return;o.call(this,u);for(const m of h)m(this,u,p)},get:function(){let u=s.call(this);for(const d of n[i].getters)if(u=d(this,t,u),u===mB)return;return u},enumerable:!0,configurable:!1}),n[i]}function wy(e,t,n){return(i,r)=>{const s=J4(i,r);s.setters.push(e),t&&s.getters.unshift(t),n&&Object.assign(s,n)}}function LY(e){return(t,n)=>{J4(t,n).observers.push(e)}}function _L(e){return typeof e<"u"&&JM in e}function ug(e){const t=new Set;for(;_L(e);)t.add(e==null?void 0:e[JM]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function kY(e){return ug(e).reduce((t,n)=>(t[String(n)]=e[n]??null,t),{})}function aa(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((n,i)=>aa(n,t[i])):zn(e)?zn(t)?ez(e,t,aa):!1:e===t}function ez(e,t,n){if(Object.is(e,t))return!0;for(const i of Object.keys(t))if(!(i in e))return!1;for(const i of Object.keys(e))if(!(i in t)||!n(e[i],t[i]))return!1;return!0}function Gn(...e){const t={};for(const n of e){if(!rr(n))continue;const i=_L(n)?ug(n):Object.keys(n);for(const r of i)zn(t[r])&&zn(n[r])?t[r]=Gn(t[r],n[r]):t[r]??(t[r]=n[r])}return t}function IE(...e){const t={};for(const n of e){if(!rr(n))continue;const i=_L(n)?ug(n):Object.keys(n);for(const r of i)zn(t[r])&&zn(n[r])?t[r]=IE(t[r],n[r]):r in t||(t[r]??(t[r]=n[r]))}return t}function OY(e,...t){return t&&Tn(e)?e.map(n=>Gn(n,...t)):e}function PY(e,t){const n={};for(const[i,r]of Xc(e))n[i]=t(r,i,e);return n}function lt(e,t){const n={...e};for(const i of t)delete n[i];return n}function vB(e,t){if(e==null)return;const n={};for(const i of t)Object.hasOwn(e,i)&&(n[i]=e[i]);return n}function tz(e,t){return(Tn(t)?t:t.split(".")).reduce((i,r)=>i[r],e)}var nz=new Set(["__proto__","constructor","prototype"]);function iz(e,t,n){const i=Tn(t)?t.slice():t.split("."),r=i.pop();if(i.some(o=>nz.has(o)))return;const s=i.reduce((o,a)=>o[a],e);return s[r]=n,s[r]}function yB(e,t,n){if(n===void 0)return t;for(const i of e){const r=n[i];r!==void 0&&(t[i]=r)}return t}function Uh(e){return e==null||typeof e!="object"||!zn(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t];n!==null&&(typeof n=="object"||typeof n=="function")&&!Object.isFrozen(n)&&Uh(n)})),e}function FY(e,t){return zn(e)&&t in e}function gxe(e,t){return FY(e,t)&&typeof e[t]=="string"}var _Y=(e,t)=>e===t;function Xe(e){return function(t,n){const i=`__${n}`;t[n]||mxe(t,n,i,e)}}function BY(e){return Xe(e)}function Cl(e){return Xe(e)}function rz(e){const t=e??{};return t.equals=Qh,Xe(e)}function mxe(e,t,n,i){const{changeCb:r,convertor:s,checkDirtyOnAssignment:o=!1}=i??{},a={changeCb:r,checkDirtyOnAssignment:o,convertor:s},l=Cxe(n,yxe(vxe(bxe(n,a),a),a),a);Object.defineProperty(e,t,{set:l,get:function(){return this[n]},enumerable:!0,configurable:!0})}function vxe(e,t){const{convertor:n}=t;return n?function(i){e.call(this,n(i))}:e}var GY=Symbol("no-change");function yxe(e,t){const{changeCb:n}=t;return n?function(i){const r=e.call(this,i);return r!==GY&&n.call(this,this),r}:e}function Cxe(e,t,n){const{checkDirtyOnAssignment:i}=n;return i?function(r){const s=t.call(this,r);return(r==null?void 0:r._dirty)===!0&&this.markDirty(e),s}:t}function bxe(e,t){const{equals:n=_Y}=t;return function(i){const r=this[e];return n(i,r)?GY:(this[e]=i,this.onChangeDetection(e),i)}}var NF=(e,t)=>Math.sign(e-t);function zY(e,t){if(typeof e=="number"&&typeof t=="number")return NF(e,t);const n=typeof e=="number"?[e]:e,i=typeof t=="number"?[t]:t,r=Math.min(n.length,i.length);for(let s=0;s<r;s+=1){const o=NF(n[s],i[s]);if(o!==0)return o}return NF(n.length,i.length)}var HY=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(HY||{}),wxe=5,AR=class CB{constructor(t){this.serialNumber=CB._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=cu(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0,this.scene=t==null?void 0:t.scene,((t==null?void 0:t.debugDirty)??CB._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,n,i){var o,a;const r=t==null?void 0:t.toSVG();if(r==null||!r.elements.length&&!((o=r.defs)!=null&&o.length))return;const s=Ar("svg");if(s.setAttribute("width",String(n)),s.setAttribute("height",String(i)),s.setAttribute("viewBox",`0 0 ${n} ${i}`),s.setAttribute("overflow","visible"),(a=r.defs)!=null&&a.length){const l=Ar("defs");l.append(...r.defs),s.append(l)}return s.append(...r.elements),s.outerHTML}static*extractBBoxes(t,n){for(const i of t)if(!n||i.visible&&!i.transitionOut){const r=i.getBBox();r&&(yield r)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){var t;return(t=this.scene)==null?void 0:t.layersManager}get imageLoader(){var t;return(t=this.scene)==null?void 0:t.imageLoader}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,n=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(t){t.ctx.save();try{this.render(t)}catch(n){const i=n.errorCount??1;if(i>=wxe)throw n.errorCount=i,n;Je.warnOnce("Error during rendering",n,n.stack)}finally{t.ctx.restore()}}render(t){const{stats:n}=t;if(this.debugDirtyProperties(),t.debugNodeSearch){const i=this.name??this.id;t.debugNodeSearch.some(r=>typeof r=="string"?r===i:r.test(i))&&(t.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(t){this.scene=t}*traverseUp(t){let n=this;for(t&&(yield n);n=n.parentNode;)yield n}isRoot(){return!this.parentNode}removeChild(t){throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`)}remove(){var t;(t=this.parentNode)==null||t.removeChild(this)}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}batchedUpdate(t){this.batchLevel++,t(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(t){return this.batchLevel++,Object.assign(this,t),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(t,n){return!1}pickNode(t,n){if(this.containsPoint(t,n))return this}pickNodes(t,n,i=[]){return this.containsPoint(t,n)&&i.push(this),i}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(t){this.markDirty(t)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(t){var n;if(this.batchLevel>0){this.batchDirty=!0;return}t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),this.cachedBBox=void 0,(n=this.parentNode)==null||n.markDirty()}markDebugProperties(t){var r,s,o;const n=((r=this._debugDirtyProperties)==null?void 0:r.get(t))??[],i=((s=new Error().stack)==null?void 0:s.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`)))??"unknown";n.push(i[0].replace(" at ","").trim()),(o=this._debugDirtyProperties)==null||o.set(t,n)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,n)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${n} (${t.length}x)`),t.forEach(i=>console.log(i)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){var t;(t=this.parentNode)==null||t.markDirtyChildrenOrder()}toSVG(){}};AR._nextSerialNumber=0;AR._debugEnabled=!1;P([Xe()],AR.prototype,"visible",2);P([Cl({changeCb:e=>e.onZIndexChange()})],AR.prototype,"zIndex",2);var cf=AR,Kl=Math.PI*2,mM=Math.PI/2;function Br(e){return e%=Kl,e+=Kl,e%=Kl,e}function Sxe(e){return e%=Kl,e+=Kl,e!==Kl&&(e%=Kl),e}function SN(e){return e%=Kl,e<-Math.PI?e+=Kl:e>=Math.PI&&(e-=Kl),e}function Pv(e,t,n){const i=Br(e),r=Br(t),s=Br(n);return r<s?r<=i&&i<=s:r>s?r<=i||i<=s:t!==n}function to(e){return e/180*Math.PI}function xxe(e){return e/Math.PI*180}function BL(e,t){return e=Br(e),t=Br(t),t-e+(e>t?Kl:0)}function VY(e){const t=Br(e);return t<=mM?t/mM:t<=Math.PI?(Math.PI-t)/mM:t<=1.5*Math.PI?(t-Math.PI)/mM:(Kl-t)/mM}function bB(e,t,n){const i=VY(n);return e*i+t*Math.abs(1-i)}function uf(e){return e?Br(to(e)):0}var fv=(e,t,n)=>e*(1-n)+t*n,LF=e=>{const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},kF=e=>{const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},UY=class Yn{constructor(t,n,i,r=1){this.r=Gt(0,t||0,1),this.g=Gt(0,n||0,1),this.b=Gt(0,i||0,1),this.a=Gt(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Yn.parseHex(t):t.indexOf("rgb")>=0?!!Yn.stringToRgba(t):Yn.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return Yn.fromHexString(t);const n=Yn.nameToHex.get(t.toLowerCase());if(n)return Yn.fromHexString(n);if(t.indexOf("rgb")>=0)return Yn.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:n=t.split("").map(i=>parseInt(i,16)).map(i=>i+i*16);break}if((n==null?void 0:n.length)>=3&&n.every(i=>i>=0))return n.length===3&&n.push(255),n}static fromHexString(t){const n=Yn.parseHex(t);if(n){const[i,r,s,o]=n;return new Yn(i/255,r/255,s/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,i=-1;for(let a=0;a<t.length;a++){const l=t[a];if(n===-1&&l==="(")n=a;else if(l===")"){i=a;break}}if(n===-1||i===-1)return;const s=t.substring(n+1,i).split(","),o=[];for(let a=0;a<s.length;a++){const l=s[a];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=Gt(0,c,100),c/=100):a===3?c=Gt(0,c,1):(c=Gt(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(t){const n=Yn.stringToRgba(t);if(n){if(n.length===3)return new Yn(n[0],n[1],n[2]);if(n.length===4)return new Yn(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Yn(t[0],t[1],t[2],t[3]);if(t.length===3)return new Yn(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,i,r=1){const s=Yn.HSBtoRGB(t,n,i);return new Yn(s[0],s[1],s[2],r)}static fromHSL(t,n,i,r=1){const s=Yn.HSLtoRGB(t,n,i);return new Yn(s[0],s[1],s[2],r)}static fromOKLCH(t,n,i,r=1){const s=Yn.OKLCHtoRGB(t,n,i);return new Yn(s[0],s[1],s[2],r)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Yn.padHex(Math.round(this.r*255).toString(16))+Yn.padHex(Math.round(this.g*255).toString(16))+Yn.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Yn.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],i=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*i)/i),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Yn.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,i){const r=LF(t),s=LF(n),o=LF(i),a=Math.cbrt(.4122214708*r+.5363325363*s+.0514459929*o),l=Math.cbrt(.2119034982*r+.6806995451*s+.1073969566*o),c=Math.cbrt(.0883024619*r+.2817188376*s+.6299787005*o),u=.2104542553*a+.793617785*l-.0040720468*c,d=1.9779984951*a-2.428592205*l+.4505937099*c,h=.0259040371*a+.7827717662*l-.808675766*c,p=Math.atan2(h,d)*180/Math.PI,m=u,v=Math.hypot(d,h),y=p>=0?p:p+360;return[m,v,y]}static OKLCHtoRGB(t,n,i){const r=t,s=n*Math.cos(i*Math.PI/180),o=n*Math.sin(i*Math.PI/180),a=(r+.3963377774*s+.2158037573*o)**3,l=(r-.1055613458*s-.0638541728*o)**3,c=(r-.0894841775*s-1.291485548*o)**3,u=4.0767416621*a-3.3077115913*l+.2309699292*c,d=-1.2684380046*a+2.6097574011*l-.3413193965*c,h=-.0041960863*a-.7034186147*l+1.707614701*c,p=kF(u),m=kF(d),v=kF(h);return[p,m,v]}static RGBtoHSL(t,n,i){const r=Math.min(t,n,i),s=Math.max(t,n,i),o=(s+r)/2;let a,l;if(s===r)a=0,l=0;else{const c=s-r;l=o>.5?c/(2-s-r):c/(s+r),s===t?a=(n-i)/c+(n<i?6:0):s===n?a=(i-t)/c+2:a=(t-n)/c+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,n,i){if(t=(t%360+360)%360,n===0)return[i,i,i];const r=i<.5?i*(1+n):i+n-i*n,s=2*i-r;function o(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?s+(r-s)*6*u:u<1/2?r:u<2/3?s+(r-s)*(2/3-u)*6:s}const a=o(t/360+1/3),l=o(t/360),c=o(t/360-1/3);return[a,l,c]}static RGBtoHSB(t,n,i){const r=Math.min(t,n,i),s=Math.max(t,n,i),o=s===0?0:(s-r)/s;let a=0;if(r!==s){const l=s-r,c=(s-t)/l,u=(s-n)/l,d=(s-i)/l;t===s?a=d-u:n===s?a=2+c-d:a=4+u-c,a/=6,a<0&&(a=a+1)}return[a*360,o,s]}static HSBtoRGB(t,n,i){t=(t%360+360)%360/360;let r=0,s=0,o=0;if(n===0)r=s=o=i;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),c=i*(1-n),u=i*(1-n*l),d=i*(1-n*(1-l));switch(a>>0){case 0:r=i,s=d,o=c;break;case 1:r=u,s=i,o=c;break;case 2:r=c,s=i,o=d;break;case 3:r=c,s=u,o=i;break;case 4:r=d,s=c,o=i;break;case 5:r=i,s=c,o=u;break}}return[r,s,o]}static mix(t,n,i){return new Yn(fv(t.r,n.r,i),fv(t.g,n.g,i),fv(t.b,n.b,i),fv(t.a,n.a,i))}static lighten(t,n){const i=Yn.RGBtoOKLCH(t.r,t.g,t.b);return Yn.fromOKLCH(Gt(0,i[0]+n,1),i[1],i[2])}static darken(t,n){const i=Yn.RGBtoOKLCH(t.r,t.g,t.b);return Yn.fromOKLCH(Gt(0,i[0]-n,1),i[1],i[2])}static interpolate(t,n){const i=1/(t.length-1),r=t.map(s=>Yn.RGBtoOKLCH(s.r,s.g,s.b));return Array.from({length:n},(s,o)=>{const a=o/(n-1),l=t.length<=2?0:Math.min(Math.floor(a*(t.length-1)),t.length-2),c=(a-l*i)/i,u=r[l],d=r[l+1];return Yn.fromOKLCH(fv(u[0],d[0],c),fv(u[1],d[1],c),fv(u[2],d[2],c))})}};UY.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var Ci=UY,WY=(e=>(e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing",e[e.Interpolate=2]="Interpolate",e))(WY||{}),GL=class{ticks(e,t,n){}niceDomain(e,t=this.domain){return t}get bandwidth(){}get step(){}get inset(){}},TR=(e,t)=>{const n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(i){this[n]!==i&&(this[n]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},l5=e=>{const t=Ci.fromString(e),[n,i,r]=Ci.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:r,a:t.a}},OF=1e-6,c5=e=>e.c<OF||e.l<OF||e.l>1-OF,Mxe=(e,t,n)=>{n=Gt(0,n,1);let i;if(c5(e))i=t.h;else if(c5(t))i=e.h;else{const a=e.h;let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),i=a*(1-n)+l*n}const r=e.c*(1-n)+t.c*n,s=e.l*(1-n)+t.l*n,o=e.a*(1-n)+t.a*n;return Ci.fromOKLCH(s,r,i,o)},kw=class extends GL{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(l5)}update(){const{domain:e,range:t}=this;e.length<2&&(Je.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];if(i>r){Je.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((s,o)=>s-o);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(l5)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:n,parsedRange:i}=this,r=t[0],s=t.at(-1),o=n[0],a=n[n.length-1];if(e<=r)return o;if(e>=s)return a;let l,c;if(t.length===2){const h=(e-r)/(s-r),p=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(h*(n.length-1)),n.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const h=t[l],p=t[l+1];c=(e-h)/(p-h)}const u=i[l],d=i[l+1];return Mxe(u,d,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Je.warnOnce("Expected update to not invalidate scale"))}};P([TR],kw.prototype,"domain",2);P([TR],kw.prototype,"range",2);var zL=class{constructor(e,t=[],n){this.colorSpace=e,this.stops=t,this.bbox=n,this._cache=void 0}createGradient(e,t,n){const i=this.bbox??t;if(!i.isFinite())return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:r,colorSpace:s}=this;if(r.length===0)return;if(r.length===1)return r[0].color;let o=this.createCanvasGradient(e,i,n);if(o==null)return;const a=s==="oklch",l=.05;let c=r[0];o.addColorStop(c.stop,c.color);for(let u=1;u<r.length;u+=1){const d=r[u];if(a){const h=new kw;h.domain=[c.stop,d.stop],h.range=[c.color,d.color];for(let p=c.stop+l;p<d.stop;p+=l)o.addColorStop(p,h.convert(p))}o.addColorStop(d.stop,d.color),c=d}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:i,gradient:o},o}toSvg(e){const t=this.bbox??e,n=this.createSvgGradient(t);return this.stops.forEach(({stop:i,color:r})=>{const s=Ar("stop");s.setAttribute("offset",`${i}`),s.setAttribute("stop-color",`${r}`),n.appendChild(s)}),n}},jY=class extends zL{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}createCanvasGradient(e,t,n){const{angle:r}=this,s=uf(r+-90),o=(n==null?void 0:n.centerX)??t.x+t.width*.5,a=(n==null?void 0:n.centerY)??t.y+t.height*.5;return e.createConicGradient(s,o,a)}createSvgGradient(e){return Ar("linearGradient")}},$Y=class extends zL{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}getGradientPoints(e){const{angle:n}=this,i=uf(n+90),r=Math.cos(i),s=Math.sin(i),o=e.width,a=e.height,l=e.x+o*.5,c=e.y+a*.5,u=Math.sqrt(a*a+o*o)/2,d=Math.atan2(a,o);let h;i<Math.PI/2?h=i:i<Math.PI?h=Math.PI-i:i<1.5*Math.PI?h=i-Math.PI:h=2*Math.PI-i;const p=u*Math.abs(Math.cos(h-d));return{x0:l+r*p,y0:c+s*p,x1:l-r*p,y1:c-s*p}}createCanvasGradient(e,t){const{x0:n,y0:i,x1:r,y1:s}=this.getGradientPoints(t);if(!(isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)))return e.createLinearGradient(n,i,r,s)}createSvgGradient(e){const{x0:t,y0:n,x1:i,y1:r}=this.getGradientPoints(e),s=Ar("linearGradient");return s.setAttribute("x1",String(t)),s.setAttribute("y1",String(n)),s.setAttribute("x2",String(i)),s.setAttribute("y2",String(r)),s.setAttribute("gradientUnits","userSpaceOnUse"),s}},Exe=class extends zL{constructor(e,t,n){super(e,t,n)}createCanvasGradient(e,t,n){const i=(n==null?void 0:n.centerX)??t.x+t.width*.5,r=(n==null?void 0:n.centerY)??t.y+t.height*.5,s=(n==null?void 0:n.innerRadius)??0,o=(n==null?void 0:n.outerRadius)??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(i,r,s,i,r,o)}createSvgGradient(e){const t=e.x+e.width*.5,n=e.y+e.height*.5,i=Ar("radialGradient");return i.setAttribute("cx",String(t)),i.setAttribute("cy",String(n)),i.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),i.setAttribute("gradientUnits","userSpaceOnUse"),i}},z=pxe,Wt=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(e==null)return this.clear(),this;if(typeof e!="object")return Je.warn(`unable to set ${t} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const i of ug(this))if(n.has(i)){const r=e[i],s=this;if(iy(s[i]))if(s[i]instanceof DR){const o=s[i].reset(r);o==null?Je.warn(`unable to set [${String(i)}] - expecting a properties array`):s[i]=o}else s[i].set(r);else zn(r)?s[i]=IE(r,s[i]??{}):s[i]=r;n.delete(i)}this.handleUnknownProperties(n,e);for(const i of n)Je.warn(`unable to set [${String(i)}] in ${t} - property is unknown`);return this}clear(){for(const e of ug(this)){const t=this[e];iy(t)?t.clear():this[e]=void 0}return this}toJson(){return ug(this).reduce((e,t)=>{const n=this[t];return e[String(t)]=iy(n)?n.toJson():n,e},{})}},DR=class YY extends Array{constructor(t,...n){super(n.length);const r=(s=>{var o,a;return!!((a=(o=s==null?void 0:s.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?s=>new t().set(s):t;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(Tn(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){if(Array.isArray(t))return new YY(this.itemFactory,...t)}toJson(){return this.map(t=>{var n;return((n=t==null?void 0:t.toJson)==null?void 0:n.call(t))??t})}};function iy(e){return e instanceof Wt||e instanceof DR}var sz=class extends Wt{constructor(){super(...arguments),this.color="black"}};P([z],sz.prototype,"stop",2);P([z],sz.prototype,"color",2);function Rxe(e){let t;for(const n of e)if((n==null?void 0:n.stop)!=null){if(t!=null&&n.stop<t)return!1;t=n.stop}return!0}function KY(e){return e.flatMap((t,n)=>{var s;const{stop:i}=t,r=(s=e.at(n+1))==null?void 0:s.color;return r!=null?[t,{stop:i,color:r}]:[t]})}function Axe(e,t){const n=t==="discrete"?1:0,i=e.map((r,s,{length:o})=>({stop:(s+n)/(o-1+n),color:r}));return t==="discrete"?KY(i):i}function qY(e,t,n,i="continuous"){var m,v,y,C;const r=e.map(S=>typeof S=="string"?{color:S}:S);if(r.length===0)return Axe(t,i);if(!Rxe(r))return Je.warnOnce("[fills] must have the stops defined in ascending order"),[];const s=Math.min(...n),o=Math.max(...n),a=i==="discrete",l=new Float64Array(r.length);let c=0,u=-1;for(let S=0;S<r.length;S+=1){const x=r[S];if(S>=u){u=r.length-1;for(let A=S+1;A<r.length;A+=1)if(((m=r[A])==null?void 0:m.stop)!=null){u=A;break}}let R=x==null?void 0:x.stop;if(R==null){const A=(v=r[c])==null?void 0:v.stop,T=(y=r[u])==null?void 0:y.stop,L=A??s,O=T??o,F=a&&A==null?1:0;R=L+(O-L)*(S-c+F)/(u-c+F)}else c=S;l[S]=Math.max(0,Math.min(1,(R-s)/(o-s)))}let d=(C=r.find(S=>S.color!=null))==null?void 0:C.color,h;const p=r.map((S,x)=>{let R=S==null?void 0:S.color;const A=l[x];return R!=null?d=R:d!=null?R=d:(h==null&&(h=new kw,h.domain=[0,1],h.range=t),R=h.convert(A)),{stop:A,color:R}});return i==="discrete"?KY(p):p}var Txe=class{constructor(e,t){this.imageLoader=e,this._cache=void 0,this.url=t.url,this.backgroundFill=t.backgroundFill??"black",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.repeat=t.repeat??"no-repeat",this.width=t.width,this.height=t.height,this.fit=t.fit??"stretch",this.rotation=t.rotation??0}createCanvasImage(e,t,n,i){if(!t)return null;const[r,s]=this.getSize(t.width,t.height,n,i);return r<1||s<1?(Je.warnOnce("Image fill is too small to render, ignoring."),null):e.createPattern(t,this.repeat)}getSize(e,t,n,i){const{fit:r}=this;let s=e,o=t,a=1;const l=n/i,c=e/t;return r==="stretch"||e===0||t===0?(s=n,o=i):r==="contain"?a=c>l?n/e:i/t:r==="cover"&&(a=c>l?i/t:n/e),[Math.max(1,s*a),Math.max(1,o*a)]}setImageTransform(e,t){var R;if(typeof e=="string")return;const{url:n,rotation:i,width:r,height:s}=this,o=(R=this.imageLoader)==null?void 0:R.loadImage(n);if(!o)return;const a=uf(i),l=Math.cos(a),c=Math.sin(a),[u,d]=this.getSize(o.width,o.height,r??t.width,s??t.height),h=u/o.width,p=d/o.height,m=t.x+t.width/2,v=t.y+t.height/2,y=l*u-c*d,C=c*u+l*d,S=y/2,x=C/2;e==null||e.setTransform(new DOMMatrix([l*h,c*p,-c*h,l*p,m-S,v-x]))}createPattern(e,t,n,i){var c;const r=this.width??t,s=this.height??n,o=this._cache;if(o!=null&&o.ctx===e&&o.width===r&&o.height===s)return o.pattern;const a=(c=this.imageLoader)==null?void 0:c.loadImage(this.url,i),l=this.createCanvasImage(e,a,r,s);if(l!=null)return this._cache={ctx:e,pattern:l,width:r,height:s},l}toSvg(e,t){const{url:n,rotation:i,backgroundFill:r,backgroundFillOpacity:s}=this,{x:o,y:a,width:l,height:c}=e,u=Ar("pattern");u.setAttribute("viewBox",`0 0 ${l} ${c}`),u.setAttribute("x",String(o)),u.setAttribute("y",String(a)),u.setAttribute("width",String(l)),u.setAttribute("height",String(c)),u.setAttribute("patternUnits","userSpaceOnUse");const d=Ar("rect");d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("fill",r),d.setAttribute("fill-opacity",String(s)),u.appendChild(d);const h=Ar("image");return h.setAttribute("href",n),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(l)),h.setAttribute("height",String(c)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("transform",`scale(${1/t}) rotate(${i}, ${l/2}, ${c/2})`),u.appendChild(h),u}};function u5(e,t,n,i){const r=e-n,s=t-i;return r*r+s*s}function xN(e,t,n,i,r,s,o){if(n===r&&i===s)return Math.min(o,u5(e,t,n,i));const a=r-n,l=s-i,c=Math.max(0,Math.min(1,((e-n)*a+(t-i)*l)/(a*a+l*l))),u=n+c*a,d=i+c*l;return Math.min(o,u5(e,t,u,d))}var Dxe=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,Ti=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,Ixe=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,d5=/^[01]/,Nxe={z:[],h:[Ti],v:[Ti],m:[Ti,Ti],l:[Ti,Ti],t:[Ti,Ti],s:[Ti,Ti,Ti,Ti],q:[Ti,Ti,Ti,Ti],c:[Ti,Ti,Ti,Ti,Ti,Ti],a:[Ti,Ti,Ti,d5,d5,Ti,Ti]};function Lxe(e){if(!e)return;const t=[];let n=0,i;for(;n<e.length;){const r=Dxe.exec(e.slice(n));let s;if(r==null){if(!i){Je.warnOnce(`Invalid SVG path, error at index ${n}: Missing command.`);return}s=i}else s=r[1],n+=r[0].length;const o=kxe(s,e,n);if(!o)return;n=o[0],i=s,t.push(o[1])}return t}function kxe(e,t,n){const i=Nxe[e.toLocaleLowerCase()],r={command:e,params:[]};for(const s of i){const o=t.slice(n),a=s.exec(o);if(a!=null){r.params.push(parseFloat(a[0])),n+=a[0].length;const l=Ixe.exec(o.slice(a[0].length));l!=null&&(n+=l[0].length)}else{if(r.params.length===1)return[n,r];Je.warnOnce(`Invalid SVG path, error at index ${n}: No path segment parameters for command [${e}]`);return}}return[n,r]}function Oxe(e,t){const n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function Pxe(e,t,n,i=1e-6){if(Math.abs(e)<i)return Oxe(t,n);const r=t*t-4*e*n,s=[];if(Math.abs(r)<i){const o=-t/(2*e);o>=0&&o<=1&&s.push(o)}else if(r>0){const o=Math.sqrt(r),a=(-t-o)/(2*e),l=(-t+o)/(2*e);a>=0&&a<=1&&s.push(a),l>=0&&l<=1&&s.push(l)}return s}function Fxe(e,t,n,i,r=1e-6){if(Math.abs(e)<r)return Pxe(t,n,i,r);const s=t/e,o=n/e,a=i/e,l=(3*o-s*s)/9,c=(9*s*o-27*a-2*s*s*s)/54,u=l*l*l+c*c,d=1/3,h=[];if(u>=0){const p=Math.sqrt(u),m=Math.sign(c+p)*Math.pow(Math.abs(c+p),d),v=Math.sign(c-p)*Math.pow(Math.abs(c-p),d),y=Math.abs(Math.sqrt(3)*(m-v)/2),C=-d*s+(m+v);if(C>=0&&C<=1&&h.push(C),Math.abs(y)<r){const S=-d*s-(m+v)/2;S>=0&&S<=1&&h.push(S)}}else{const p=Math.acos(c/Math.sqrt(-l*l*l)),m=d*s,v=2*Math.sqrt(-l),y=v*Math.cos(d*p)-m,C=v*Math.cos(d*(p+2*Math.PI))-m,S=v*Math.cos(d*(p+4*Math.PI))-m;y>=0&&y<=1&&h.push(y),C>=0&&C<=1&&h.push(C),S>=0&&S<=1&&h.push(S)}return h}function eE(e,t,n,i,r,s,o,a){const l=(n-e)*(a-s)-(i-t)*(o-r);if(l===0)return 0;const c=((o-r)*(t-s)-(e-r)*(a-s))/l,u=((n-e)*(t-s)-(i-t)*(e-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function _xe(e,t,n,i,r,s,o,a,l,c,u,d){let h=0;const p=c-d,m=u-l,v=l*(d-c)-c*(u-l),y=h5(e,n,r,o),C=h5(t,i,s,a),S=p*y[0]+m*C[0],x=p*y[1]+m*C[1],R=p*y[2]+m*C[2],A=p*y[3]+m*C[3]+v,T=Fxe(S,x,R,A);for(const L of T){const O=L*L,F=L*O,H=y[0]*F+y[1]*O+y[2]*L+y[3],W=C[0]*F+C[1]*O+C[2]*L+C[3];let $;l===u?$=(W-c)/(d-c):$=(H-l)/(u-l),$>=0&&$<=1&&h++}return h}function h5(e,t,n,i){return[-e+3*t-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function aw(e,t,n,i,r){return(1-r)**3*e+3*(1-r)**2*r*t+3*(1-r)*r**2*n+r**3*i}function MN(e,t,n,i,r){if(r<=Math.min(e,i))return e<i?0:1;if(r>=Math.max(e,i))return e<i?1:0;let s=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(s+o)/2,aw(e,t,n,i,a)<r?s=a:o=a;return a}function NE(e,t,n,i,r,s,o,a,l){const c=(1-l)*e+l*n,u=(1-l)*t+l*i,d=(1-l)*n+l*r,h=(1-l)*i+l*s,p=(1-l)*r+l*o,m=(1-l)*s+l*a,v=(1-l)*c+l*d,y=(1-l)*u+l*h,C=(1-l)*d+l*p,S=(1-l)*h+l*m,x=(1-l)*v+l*C,R=(1-l)*y+l*S;return[[{x:e,y:t},{x:c,y:u},{x:v,y},{x,y:R}],[{x,y:R},{x:C,y:S},{x:p,y:m},{x:o,y:a}]]}function f5(e,t,n,i){const r=-e+3*t-3*n+i,s=2*(e-2*t+n),o=-e+t;if(r===0){if(s!==0){const l=-o/s;if(l>0&&l<1)return[l]}return[]}const a=s*s-4*r*o;if(a>=0){const l=Math.sqrt(a),c=(-s+l)/(2*r),u=(-s-l)/(2*r);return[c,u].filter(d=>d>0&&d<1)}return[]}function ZY(e,t,n,i,r,s,o,a){const l=f5(e,n,r,o),c=f5(t,i,s,a);return[...l,...c]}function PF(e,t,n){const i=aw(e[0].x,e[1].x,e[2].x,e[3].x,.5),r=aw(e[0].y,e[1].y,e[2].y,e[3].y,.5),s=Math.hypot(i-t,r-n),o=Math.min(Math.hypot(e[0].x-t,e[0].y-n),Math.hypot(e[1].x-t,e[1].y-n),Math.hypot(e[2].x-t,e[2].y-n),Math.hypot(e[3].x-t,e[3].y-n));return{points:e,distance:s,minDistance:o}}function XY(e,t,n,i,r,s,o,a,l,c,u=1){let h={value:PF([{x:e,y:t},{x:n,y:i},{x:r,y:s},{x:o,y:a}],l,c),next:null},p;for(;h!=null;){const{points:m,distance:v,minDistance:y}=h.value;if(h=h.next,(p==null||v<p.distance)&&(p={distance:v,minDistance:y}),p!=null&&p.distance-y<=u)continue;const[C,S]=NE(m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,.5),x=[PF(C,l,c),PF(S,l,c)].sort(p5);h=exe(h,x,p5)}return(p==null?void 0:p.distance)??1/0}var p5=(e,t)=>t.minDistance-e.minDistance,lw=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.sx=e,this.sy=t,this.cx=e,this.cy=t,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.cx=e,this.cy=t,this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}cubicCurveTo(e,t,n,i,r,s){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,i,r,s),this.commands.push(2),this.params.push(e,t,n,i,r,s)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,r){r=Math.min(r,n/2,i/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,1.5*Math.PI),this.lineTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+r),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,Math.PI/2),this.lineTo(e+n-r,t+i),this.lineTo(e+r,t+i),this.arc(e+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+i-r),this.closePath()}ellipse(e,t,n,i,r,s,o,a=!1){const l=n,c=i/n,u=Math.cos(r),d=Math.sin(r),h=-c*d,p=c*u,m=l*Math.cos(s),v=l*Math.sin(s),y=e+u*m+h*v,C=t+d*m+p*v,S=(y-this.cx)**2+(C-this.cy)**2;this.openedPath?S>1e-6&&this.lineTo(y,C):this.moveTo(y,C);let x=a?-Br(s-o):Br(o-s);Math.abs(Math.abs(o-s)-2*Math.PI)<1e-6&&x<2*Math.PI&&(x+=2*Math.PI*(a?-1:1));const R=Math.max(Math.ceil(Math.abs(x)/(Math.PI/2)),1),A=x/R,T=4/3*Math.tan(A/4);for(let L=0;L<R;L+=1){const O=s+A*(L+0),F=s+A*(L+1),H=l*Math.sin(O),W=l*Math.cos(O),$=l*Math.sin(F),Z=l*Math.cos(F),ie=W-T*H,oe=H+T*W,te=Z+T*$,ae=$-T*Z,ne=Z,Se=$;this.cubicCurveTo(e+u*ie+h*oe,t+d*ie+p*oe,e+u*te+h*ae,t+d*te+p*ae,e+u*ne+h*Se,t+d*ne+p*Se)}}arc(e,t,n,i,r,s){this.ellipse(e,t,n,n,0,i,r,s)}appendSvg(e){const t=Lxe(e);if(t==null)return!1;let n=0,i=0,r,s,o=0,a=0;for(const{command:l,params:c}of t){r??(r=c[0]),s??(s=c[1]);const u=l===l.toLowerCase(),d=u?r:0,h=u?s:0;switch(l.toLowerCase()){case"m":this.moveTo(d+c[0],h+c[1]),r=d+c[0],s=h+c[1],n=r,i=s;break;case"c":this.cubicCurveTo(d+c[0],h+c[1],d+c[2],h+c[3],d+c[4],h+c[5]),o=d+c[2],a=h+c[3],r=d+c[4],s=h+c[5];break;case"s":this.cubicCurveTo(r+r-o,s+s-a,d+c[0],h+c[1],d+c[2],h+c[3]),o=d+c[0],a=h+c[1],r=d+c[2],s=h+c[3];break;case"q":this.cubicCurveTo((d+2*c[0])/3,(h+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),o=c[0],a=c[1],r=c[2],s=c[3];break;case"t":this.cubicCurveTo((r+2*(r+r-o))/3,(s+2*(s+s-a))/3,(2*(r+r-o)+c[0])/3,(2*(s+s-a)+c[1])/3,c[0],c[1]),o=r+r-o,a=s+s-a,r=c[0],s=c[1];break;case"a":this.svgEllipse(r,s,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],d+c[5],h+c[6]),r=d+c[5],s=h+c[6];break;case"h":this.lineTo(d+c[0],s),r=d+c[0];break;case"l":this.lineTo(d+c[0],h+c[1]),r=d+c[0],s=h+c[1];break;case"v":this.lineTo(r,h+c[0]),s=h+c[0];break;case"z":this.closePath(),r=n,s=i;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(e,t,n,i,r,s,o,a,l){n=Math.abs(n),i=Math.abs(i);const c=(e-a)/2,u=(t-l)/2,d=Math.sin(r),h=Math.cos(r),p=h*c+d*u,m=-d*c+h*u,v=p/n,y=m/i;let C=v*v+y*y,S=(e+a)/2,x=(t+l)/2,R=0,A=0;C>=1?(C=Math.sqrt(C),n*=C,i*=C):(C=Math.sqrt(1/C-1),s===o&&(C=-C),R=C*n*y,A=-C*i*v,S+=h*R-d*A,x+=d*R+h*A);const T=Math.atan2((m-A)/i,(p-R)/n),L=Math.atan2((-m-A)/i,(-p-R)/n)-T,O=T+L,F=!!(1-o);this.ellipse(S,x,n,i,r,T,O,F)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const n=this.commands,i=this.params,r=n.length,s=-1e4,o=-1e4;let a=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<r;h++)switch(n[h]){case 0:d+=eE(a,l,c,u,s,o,e,t),c=i[p++],a=c,u=i[p++],l=u;break;case 1:d+=eE(c,u,i[p++],i[p++],s,o,e,t),c=i[p-2],u=i[p-1];break;case 2:d+=_xe(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],s,o,e,t),c=i[p-2],u=i[p-1];break;case 3:d+=eE(a,l,c,u,s,o,e,t);break}return d%2===1}distanceSquared(e,t){let n=1/0;const i=this.commands,r=this.params,s=i.length;let o=NaN,a=NaN,l=0,c=0;for(let u=0,d=0;u<s;u++)switch(i[u]){case 0:l=o=r[d++],c=a=r[d++];break;case 1:{const S=l,x=c;l=r[d++],c=r[d++],n=xN(e,t,S,x,l,c,n);break}case 2:const h=l,p=c,m=r[d++],v=r[d++],y=r[d++],C=r[d++];l=r[d++],c=r[d++],n=XY(h,p,m,v,y,C,l,c,e,t)**2;break;case 3:n=xN(e,t,l,c,o,a,n);break}return n}toSVG(e=(t,n)=>({x:t,y:n})){const t=[],{commands:n,params:i}=this,r=(o,a)=>{t.push(o);for(let l=0;l<a;l+=2){const{x:c,y:u}=e(i[s++],i[s++]);t.push(c,u)}};let s=0;for(const o of n)switch(o){case 0:r("M",2);break;case 1:r("L",2);break;case 2:r("C",6);break;case 3:r("Z",0);break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[n,i,r,s]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,c]=[NaN,NaN];const u=(h,p)=>{n=Math.min(p,n),i=Math.min(h,i),r=Math.max(h,r),s=Math.max(p,s),o=h,a=p};let d=0;for(const h of e)switch(h){case 0:u(t[d++],t[d++]),l=o,c=a;break;case 1:u(t[d++],t[d++]);break;case 2:{const p=o,m=a,v=t[d++],y=t[d++],C=t[d++],S=t[d++],x=t[d++],R=t[d++];ZY(p,m,v,y,C,S,x,R).forEach(T=>{const L=aw(p,v,C,x,T),O=aw(m,y,S,R,T);u(L,O)}),u(x,R);break}case 3:u(l,c),l=NaN,c=NaN;break}return new ut(i,n,r-i,s-n)}};function ps(e,t,n){const i=Math.round(t*e)/e;return n==null?i:n===0?0:n<1?Math.ceil(n*e)/e:Math.round((n+t)*e)/e-i}function g5(e,t){return Math.floor(t*e)/e}function FF(e,t,n){const{width:i,height:r,padding:s,strokeWidth:o}=t,a=i/2,l=r/2,c=Math.max(1,i-s-o/2),u=Math.max(1,r-s-o/2);let d=!1;for(const[h,p]of n){const m=a+(h-.5)*c,v=l+(p-.5)*u;d?e.lineTo(m,v):e.moveTo(m,v),d=!0}e.closePath()}var m5={circles(e,{width:t,strokeWidth:n,padding:i}){const r=t/2,s=Math.max(1,r-i-n/2);e.arc(r,r,s,0,Math.PI*2)},squares(e,{width:t,height:n,pixelRatio:i,padding:r,strokeWidth:s}){const o=r+s/2;e.moveTo(ps(i,o),ps(i,o)),e.lineTo(ps(i,t-o),ps(i,o)),e.lineTo(ps(i,t-o),ps(i,n-o)),e.lineTo(ps(i,o),ps(i,n-o)),e.closePath()},triangles(e,t){FF(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){FF(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:n,padding:i}){const s=Math.max(1,(t-i)/2),o=s/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?s:o,u=l*Math.PI/5-a,d=t/2+Math.cos(u)*c,h=n/2+Math.sin(u)*c;e.lineTo(d,h)}e.closePath()},hearts(e,{width:t,height:n,padding:i}){const r=Math.max(1,t/4-i/2),s=t/2,o=n/2+r/2;e.arc(s-r,o-r,r,to(130),to(330)),e.arc(s+r,o-r,r,to(220),to(50)),e.lineTo(s,o+r),e.closePath()},crosses(e,t){FF(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:r}){const s=ps(i,t/2)-r%2/2;e.moveTo(s,0),e.lineTo(s,n)},"horizontal-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:r}){const s=ps(i,n/2)-r%2/2;e.moveTo(0,s),e.lineTo(t,s)},"forward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){const r=Math.atan2(n,t),s=i*Math.cos(r),o=i*Math.sin(r);e.moveTo(-s,o),e.lineTo(s,-o),e.moveTo(-s,n+o),e.lineTo(t+s,-o),e.moveTo(t-s,n+o),e.lineTo(t+s,n-o)},"backward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){const r=Math.atan2(n,t),s=i*Math.cos(r),o=i*Math.sin(r);e.moveTo(t-s,-o),e.lineTo(t+s,o),e.moveTo(-s,-o),e.lineTo(t+s,n+o),e.moveTo(-s,n-o),e.lineTo(s,n+o)}},Bxe=class{constructor(e){this._cache=void 0,this.width=Math.max((e==null?void 0:e.width)??10,1),this.height=Math.max((e==null?void 0:e.height)??10,1),this.fill=e.fill??"none",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"none",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0,this.scale=e.scale??1,this.path=e.path}getPath(e){const{pattern:t,width:n,height:i,padding:r,strokeWidth:s,path:o}=this,a=new lw;let l=m5[t]!=null;return o&&l&&(l=!a.appendSvg(o)),l&&m5[t](a,{width:n,height:i,pixelRatio:e,strokeWidth:s,padding:r}),a}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r}=this;i&&(t.strokeStyle=n,t.lineWidth=i,t.globalAlpha=r,t.stroke(e))}renderFill(e,t){const{fill:n,fillOpacity:i}=this;n!=="none"&&(t.fillStyle=n,t.globalAlpha=i,t.fill(e))}createCanvasPattern(e,t){const{width:n,height:i,scale:r,backgroundFill:s,backgroundFillOpacity:o}=this;if(n*r<1||i*r<1)return Je.warnOnce("Pattern fill is too small to render, ignoring."),null;const a=new Q4({width:n,height:i,pixelRatio:t*r}),l=a.context;s!=="none"&&(l.fillStyle=s,l.globalAlpha=o,l.fillRect(0,0,n,i));const c=this.getPath(t).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);const u=e.createPattern(a.canvas,"repeat");return this.setPatternTransform(u,t),a.destroy(),u}setPatternTransform(e,t,n=0,i=0){if(e==null)return;const r=uf(this.rotation),s=1/t,o=Math.cos(r)*s,a=Math.sin(r)*s;e.setTransform(new DOMMatrix([o,a,-a,o,n,i]))}createPattern(e,t){if(this._cache!=null&&this._cache.ctx===e&&this._cache.pixelRatio===t)return this._cache.pattern;const n=this.createCanvasPattern(e,t);if(n!=null)return this._cache={ctx:e,pattern:n,pixelRatio:t},n}toSvg(){const{width:e,height:t,fill:n,fillOpacity:i,backgroundFill:r,backgroundFillOpacity:s,stroke:o,strokeWidth:a,strokeOpacity:l,rotation:c,scale:u}=this,d=Ar("pattern");d.setAttribute("viewBox",`0 0 ${e} ${t}`),d.setAttribute("width",String(e)),d.setAttribute("height",String(t)),d.setAttribute("patternUnits","userSpaceOnUse");const h=Ar("rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(e)),h.setAttribute("height",String(t)),h.setAttribute("fill",r),h.setAttribute("fill-opacity",String(s)),d.appendChild(h);const p=Ar("path");return p.setAttribute("fill",n),p.setAttribute("fill-opacity",String(i)),p.setAttribute("stroke-opacity",String(l)),p.setAttribute("stroke",o),p.setAttribute("stroke-width",String(a)),p.setAttribute("transform",`rotate(${c}) scale(${u})`),p.setAttribute("d",this.getPath(1).toSVG()),d.appendChild(p),d}};function tu(e){return rr(e)&&e.type=="gradient"}function Gxe(e){return Tn(e)&&e.every(t=>typeof t=="string")}function Sg(e){return e!==null&&rr(e)&&e.type=="pattern"}function Sy(e){return e!==null&&rr(e)&&e.type=="image"}function zxe(e){return tu(e)||Sg(e)}function v5(e,t){const{fontStyle:n,fontWeight:i,fontSize:r,fontFamily:s}=t;n&&e.setAttribute("font-style",n),i&&e.setAttribute("font-weight",String(i)),r!=null&&e.setAttribute("font-size",String(r)),s&&e.setAttribute("font-family",s)}function Hxe(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r}=t;n&&e.setAttribute("stroke",n),i!=null&&e.setAttribute("stroke-width",String(i)),r!=null&&e.setAttribute("stroke-opacity",String(r))}function Vxe(e,t){const{lineDash:n,lineDashOffset:i}=t;if(n!=null&&n.some(r=>r!==0)){const r=n.length%2===1?[...n,...n]:n;e.setAttribute("stroke-dasharray",r.join(" ")),i!=null&&e.setAttribute("stroke-dashoffset",String(i))}}var Ur=class extends cf{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(e){if(tu(e))return this.createGradient(e)}createGradient(e){const{colorSpace:t="rgb",gradient:n="linear",colorStops:i,rotation:r=0,reverse:s=!1}=e;if(i==null)return;let o=qY(i,["black"],[0,1]);switch(s&&(o=o.map(a=>({color:a.color,stop:1-a.stop})).reverse()),n){case"linear":return new $Y(t,o,r);case"radial":return new Exe(t,o);case"conic":return new jY(t,o,r)}}getPattern(e){if(Sg(e))return this.createPattern(e)}createPattern(e){return new Bxe(e)}getImage(e){if(Sy(e))return this.createImage(e)}createImage(e){return new Txe(this.imageLoader,e)}onFillChange(){typeof this.fill=="object"&&aa(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,t){var n,i;return ps(((i=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:i.pixelRatio)??1,e,t)}markDirty(e){super.markDirty(e),this.cachedDefaultGradientFillBBox=void 0}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){const{fill:n,fillOpacity:i,fillImage:r}=this;if(n!=null&&n!=="none"&&i>0){const{globalAlpha:s}=e;r&&(e.globalAlpha=r.backgroundFillOpacity,e.fillStyle=r.backgroundFill,this.executeFill(e,t),e.globalAlpha=s),this.applyFillAndAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=s,e.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(e,t){t?e.fill(t):e.fill()}applyFillAndAlpha(e){var a,l;const{fill:t,fillGradient:n,fillPattern:i,fillImage:r,fillOpacity:s=1,opacity:o=1}=this;if(e.globalAlpha*=o*s,n){const{fillBBox:c=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:u}=this;e.fillStyle=n.createGradient(e,c,u)??"black"}else if(i){const{x:c,y:u}=this.getBBox(),d=((l=(a=this.layerManager)==null?void 0:a.canvas)==null?void 0:l.pixelRatio)??1,h=i.createPattern(e,d);i.setPatternTransform(h,d,c,u),h?e.fillStyle=h:(e.fillStyle=i.fill,e.globalAlpha*=i.fillOpacity)}else if(r){const c=this.getBBox(),u=r.createPattern(e,c.width,c.height,this);r.setImageTransform(u,c),e.fillStyle=u??"transparent"}else e.fillStyle=typeof t=="string"?t:"black"}applyStrokeAndAlpha(e){const{stroke:t,strokeOpacity:n=1,strokeGradient:i,opacity:r=1}=this;e.strokeStyle=(i==null?void 0:i.createGradient(e,this.getBBox()))??(typeof t=="string"?t:void 0)??"black",e.globalAlpha*=r*n}applyShadow(e){var i;const t=((i=this.layerManager)==null?void 0:i.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t)}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,lineCap:a,lineJoin:l,miterLimit:c}=this;if(n!=null&&n!=="none"&&i>0&&r>0){const{globalAlpha:u}=e;this.applyStrokeAndAlpha(e),e.lineWidth=i,s&&e.setLineDash(s),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),c!=null&&(e.miterLimit=c),this.executeStroke(e,t),e.globalAlpha=u}}executeStroke(e,t){t?e.stroke(t):e.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(e,t){return this.isPointInPath(e,t)}applySvgFillAttributes(e,t){var r,s;const{fill:n,fillOpacity:i}=this;if(typeof n=="string")e.setAttribute("fill",n);else if(tu(n)&&this.fillGradient){t??(t=[]);const o=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),a=IF();o.setAttribute("id",a),t.push(o),e.setAttribute("fill",`url(#${a})`)}else if(Sg(n)&&this.fillPattern){t??(t=[]);const o=this.fillPattern.toSvg(),a=IF();o.setAttribute("id",a),t.push(o),e.setAttribute("fill",`url(#${a})`)}else if(Sy(n)&&this.fillImage){t??(t=[]);const o=((s=(r=this.layerManager)==null?void 0:r.canvas)==null?void 0:s.pixelRatio)??1,a=this.fillImage.toSvg(this.getBBox(),o),l=IF();a.setAttribute("id",l),t.push(a),e.setAttribute("fill",`url(#${l})`)}else e.setAttribute("fill","none");return e.setAttribute("fill-opacity",String(i)),t}applySvgStrokeAttributes(e){const{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:r,lineDashOffset:s}=this;Hxe(e,{stroke:vs(t)?t:void 0,strokeOpacity:n,strokeWidth:i}),Vxe(e,{lineDash:r,lineDashOffset:s})}};P([Xe()],Ur.prototype,"fillOpacity",2);P([Xe()],Ur.prototype,"strokeOpacity",2);P([Cl({changeCb:e=>e.onFillChange()})],Ur.prototype,"fill",2);P([Cl({changeCb:e=>e.onStrokeChange()})],Ur.prototype,"stroke",2);P([Xe()],Ur.prototype,"strokeWidth",2);P([rz()],Ur.prototype,"lineDash",2);P([Xe()],Ur.prototype,"lineDashOffset",2);P([Xe()],Ur.prototype,"lineCap",2);P([Xe()],Ur.prototype,"lineJoin",2);P([Xe()],Ur.prototype,"miterLimit",2);P([Xe({convertor:e=>Gt(0,e??1,1)})],Ur.prototype,"opacity",2);P([Cl({checkDirtyOnAssignment:!0})],Ur.prototype,"fillShadow",2);P([Cl({changeCb:e=>e.onFillChange()})],Ur.prototype,"fillBBox",2);P([Cl({changeCb:e=>e.onFillChange()})],Ur.prototype,"fillParams",2);var QY=[1,0,0,1,0,0],df=class dI{get e(){return[...this.elements]}constructor(t=QY){this.elements=[...t]}setElements(t){const n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){const t=this.elements;return Ul(t[0],1)&&Ul(t[1],0)&&Ul(t[2],0)&&Ul(t[3],1)&&Ul(t[4],0)&&Ul(t[5],0)}AxB(t,n,i){const r=t[0]*n[0]+t[2]*n[1],s=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];i=i??t,i[0]=r,i[1]=s,i[2]=o,i[3]=a,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const n=new Array(6);return t instanceof dI?this.AxB(this.elements,t.elements,n):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],n),new dI(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let n=t[0],i=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(n*s-i*r);return n*=l,i*=l,r*=l,s*=l,new dI([s,-i,-r,n,r*a-s*o,i*o-n*a])}invertSelf(){const t=this.elements;let n=t[0],i=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(n*s-i*r);return n*=l,i*=l,r*=l,s*=l,t[0]=s,t[1]=-i,t[2]=-r,t[3]=n,t[4]=r*a-s*o,t[5]=i*o-n*a,this}transformPoint(t,n){const i=this.elements;return{x:t*i[0]+n*i[2]+i[4],y:t*i[1]+n*i[3]+i[5]}}transformBBox(t,n){const i=this.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=t.width*.5,c=t.height*.5,u=t.x+l,d=t.y+c,h=Math.abs(l*r)+Math.abs(c*o),p=Math.abs(l*s)+Math.abs(c*a);return n??(n=new ut(0,0,0,0)),n.x=u*r+d*o+i[4]-h,n.y=u*s+d*a+i[5]-p,n.width=h+h,n.height=p+p,n}toContext(t){if(this.identity)return;const n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static updateTransformMatrix(t,n,i,r,s,o,a){const l=n,c=i;let u,d;l===1&&c===1?(u=0,d=0):(u=(a==null?void 0:a.scalingCenterX)??0,d=(a==null?void 0:a.scalingCenterY)??0);const h=r,p=Math.cos(h),m=Math.sin(h);let v,y;h===0?(v=0,y=0):(v=(a==null?void 0:a.rotationCenterX)??0,y=(a==null?void 0:a.rotationCenterY)??0);const C=s,S=o,x=u*(1-l)-v,R=d*(1-c)-y;return t.setElements([p*l,m*l,-m*c,p*c,p*x-m*R+v+C,m*x+p*R+y+S]),t}};function Bp(e){return eK(e.constructor)}var JY=Symbol("isMatrixTransform");function eK(e){return e[JY]===!0}function oz(e){var t,n;const i=e;if(eK(e))return e;const r=Symbol("matrix_combined_transform");class s extends i{constructor(){super(...arguments),this[n]=new df,this._dirtyTransform=!0}onChangeDetection(a){super.onChangeDetection(a),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[r].setElements(QY),this.updateMatrix(this[r]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNode(a,l)}pickNodes(a,l,c){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNodes(a,l,c)}render(a){this.computeTransformMatrix();const{ctx:l}=a,c=this[r];let u=!1;try{c.identity||(l.save(),u=!0,c.toContext(l)),super.render(a)}finally{u&&l.restore()}}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),l=this[r];if(l.identity||a==null)return a;const c=Ar("g");c.append(...a.elements);const[u,d,h,p,m,v]=l.e;return c.setAttribute("transform",`matrix(${u} ${d} ${h} ${p} ${m} ${v})`),{elements:[c],defs:a.defs}}}return t=JY,n=r,s[t]=!0,s}function Ow(e){var t;const n=e,i=Symbol("matrix_rotation");class r extends oz(n){constructor(){super(...arguments),this[t]=new df,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;a!==0&&(df.updateTransformMatrix(this[i],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[i]))}}return t=i,P([Xe()],r.prototype,"rotationCenterX",2),P([Xe()],r.prototype,"rotationCenterY",2),P([Xe()],r.prototype,"rotation",2),r}function az(e){var t;const n=e,i=Symbol("matrix_scale");class r extends oz(n){constructor(){super(...arguments),this[t]=new df,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:u}=this;a===1&&l===1||(df.updateTransformMatrix(this[i],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:u}),o.multiplySelf(this[i]))}}return t=i,P([Xe()],r.prototype,"scalingX",2),P([Xe()],r.prototype,"scalingY",2),P([Xe()],r.prototype,"scalingCenterX",2),P([Xe()],r.prototype,"scalingCenterY",2),r}function Pw(e){var t;const n=e,i=Symbol("matrix_translation");class r extends oz(n){constructor(){super(...arguments),this[t]=new df,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;a===0&&l===0||(df.updateTransformMatrix(this[i],1,1,0,a,l),o.multiplySelf(this[i]))}}return t=i,P([Xe()],r.prototype,"translationX",2),P([Xe()],r.prototype,"translationY",2),r}var mr=class{static fromCanvas(e,t){const n=[];for(const i of e.traverseUp())Bp(i)&&n.unshift(i);for(const i of n)t=i.fromParent(t);return Bp(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Bp(e)&&(t=e.toParent(t));for(const n of e.traverseUp())Bp(n)&&(t=n.toParent(t));return t}static fromCanvasPoint(e,t,n){const i=[];for(const r of e.traverseUp())Bp(r)&&i.unshift(r);for(const r of i)({x:t,y:n}=r.fromParentPoint(t,n));return Bp(e)&&({x:t,y:n}=e.fromParentPoint(t,n)),{x:t,y:n}}static toCanvasPoint(e,t,n){Bp(e)&&({x:t,y:n}=e.toParentPoint(t,n));for(const i of e.traverseUp())Bp(i)&&({x:t,y:n}=i.toParentPoint(t,n));return{x:t,y:n}}},vM,lz=class LM extends cf{constructor(t){super(t),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof LM}static computeChildrenBBox(t,n=!0){return ut.merge(cf.extractBBoxes(t,n))}static compareChildren(t,n){return zY(t.zIndex,n.zIndex)||t.serialNumber-n.serialNumber}containsPoint(t,n){return!0}computeBBox(){return LM.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const n=this.computeBBox();if((n==null?void 0:n.isFinite())!==!0)return;let i=0;const r=4;for(const h of this.descendants())h instanceof Ur&&(i=Math.max(i,h.strokeWidth));const s=Math.max(1,i/2*r),{x:o,y:a}=mr.toCanvasPoint(this,0,0),l=g5(t,o+n.x-s)-o,c=g5(t,a+n.y-s)-a,u=Math.ceil(n.x+n.width-l+s),d=Math.ceil(n.y+n.height-c+s);return new ut(l,c,u,d)}prepareSharedCanvas(t,n,i){return vM==null||vM.pixelRatio!==i?vM=new Q4({width:t,height:n,pixelRatio:i}):vM.resize(t,n,i),vM}setScene(t){var n;super.setScene(t),this.layer&&((n=this.scene)==null||n.layersManager.removeLayer(this.layer),this.layer=void 0);for(const i of this.children())i.setScene(t)}markDirty(t){this.dirty=!0,super.markDirty(t)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(t){var n;for(const i of _Se(t))(n=i.parentNode)==null||n.removeChild(i),this.childNodes.add(i),i.parentNode=this,i.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var n;if(!((n=this.childNodes)!=null&&n.delete(t)))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);t.parentNode=void 0,t.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){var t;for(const n of this.children())delete n.parentNode,n.setScene();(t=this.childNodes)==null||t.clear(),this.markDirty()}pickNode(t,n){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))){if(this.childNodes!=null&&this.childNodes.size!==0){const i=[...this.children()];for(let r=i.length-1;r>=0;r--){const o=i[r].pickNode(t,n);if(o!=null)return o}}else if(!this.isContainerNode)return this}}pickNodes(t,n,i=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return i;this.isContainerNode||i.push(this);for(const r of this.children())r.pickNodes(t,n,i);return i}isDirty(t){const{width:n,height:i,devicePixelRatio:r}=t,{dirty:s,layer:o}=this,a=o!=null&&(this._lastWidth!==n||this._lastHeight!==i),l=this._lastDevicePixelRatio!==r;return this._lastWidth=n,this._lastHeight=i,this._lastDevicePixelRatio=r,s||a||l}preRender(t){var i,r;let n;if(this.dirty){n=super.preRender(t,0);for(const s of this.children()){const o=s.preRender(t);n.groups+=o.groups,n.nonGroups+=o.nonGroups,n.complexity+=o.complexity}n.groups+=1,n.nonGroups-=1}else n=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(i=this.layerManager)==null?void 0:i.addLayer({name:this.name})):this.layer!=null&&((r=this.layerManager)==null||r.removeLayer(this.layer),this.layer=void 0),n}render(t){const{layer:n,renderToOffscreenCanvas:i}=this,r={...t},s=this.isDirty(t);if(this.dirty=!1,!i){this.renderInContext(r),super.render(r);return}const{ctx:o,stats:a,devicePixelRatio:l}=t;let{image:c}=this;if(s){c==null||c.bitmap.close(),c=void 0;const d=n?void 0:this.computeSafeClippingBBox(l),h=(p,...m)=>{var y;const v=p.context;r.ctx=v,p.clear(),v.save();try{v.setTransform(...m),v.globalAlpha=1,this.renderInContext(r)}finally{v.restore(),(y=v.verifyDepthZero)==null||y.call(v)}};if(n)h(n,o.getTransform());else if(d){const{x:p,y:m,width:v,height:y}=d,C=this.prepareSharedCanvas(v,y,l);h(C,l,0,0,l,-p*l,-m*l),c={bitmap:C.transferToImageBitmap(),x:p,y:m,width:v,height:y}}this.image=c,a&&a.layersRendered++}else a&&a.layersSkipped++;const{globalAlpha:u}=o;if(o.globalAlpha=u*this.opacity,n){o.save();try{o.resetTransform(),n.drawImage(o)}finally{o.restore()}}else if(c){const{bitmap:d,x:h,y:p,width:m,height:v}=c;o.drawImage(d,0,0,m*l,v*l,h,p,m,v)}o.globalAlpha=u,super.render(r)}applyClip(t,n){const{x:i,y:r,width:s,height:o}=n;t.beginPath(),t.rect(i,r,s,o),t.clip()}renderInContext(t){const{ctx:n,stats:i}=t;this.dirtyZIndex&&(this.sortChildren(LM.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),t.clipBBox=mr.toCanvas(this,this.clipRect));for(const r of this.children()){if(!r.visible){i&&(i.nodesSkipped+=r.childNodeCounts.nonGroups+r.childNodeCounts.groups,i.opsSkipped+=r.childNodeCounts.complexity);continue}r.isolatedRender(t)}}finally{n.restore()}}sortChildren(t){if(!this.childNodes)return;const n=[...this.childNodes].sort(t);this.childNodes.clear();for(const i of n)this.childNodes.add(i)}*children(){yield*this.childNodes}*excludeChildren(t){for(const n of this.children())(t.instance&&!(n instanceof t.instance)||t.name&&n.name!==t.name)&&(yield n)}*descendants(){for(const t of this.children())yield t,t instanceof LM&&(yield*t.descendants())}setClipRect(t){this.clipRect=t?mr.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],n=[];for(const i of this.children()){const r=i.toSVG();r!=null&&(n.push(...r.elements),r.defs!=null&&t.push(...r.defs))}return{elements:n,defs:t}}};lz.className="Group";P([Xe({convertor:e=>Gt(0,e,1)})],lz.prototype,"opacity",2);var nn=lz,Uxe=class extends az(nn){},Wxe=class extends Ow(nn){},Io=class extends Pw(nn){},tb=class extends Ow(Pw(nn)){};function jxe(e,t){return"context"in e}function y5(e,t){return e!=null&&jxe(e)&&t[0]!=null&&typeof t[0]=="object"&&t[0].context===void 0?(t[0].context=e.context,!0):!1}function nu(e,t,...n){if(Array.isArray(e)){for(const i of e)if(y5(i,n))break}else y5(e,n);return t(...n)}var tK=class{constructor(){this.cache=new WeakMap}call(e,t,...n){let i,r=this.cache.get(t);try{i=JSON.stringify(n)}catch{return this.invoke(e,t,r,void 0,...n)}return r==null&&(r=new Map,this.cache.set(t,r)),r.has(i)?r.get(i):this.invoke(e,t,r,i,...n)}invoke(e,t,n,i,...r){try{const s=nu(e,t,...r);return n&&i!=null&&n.set(i,s),s}catch(s){Je.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}};function EN(e,t){if(!e)return;const{x:n,y:i,width:r,height:s}=Yxe(t);xD(e.style,"width",r),xD(e.style,"height",s),xD(e.style,"left",n),xD(e.style,"top",i)}function nK(e){const t=parseFloat(e.style.width)||e.offsetWidth,n=parseFloat(e.style.height)||e.offsetHeight,i=parseFloat(e.style.left)||e.offsetLeft,r=parseFloat(e.style.top)||e.offsetTop;return{x:i,y:r,width:t,height:n}}function $xe(e){var i;if(e.focus({preventScroll:!0}),((i=e.lastChild)==null?void 0:i.textContent)==null)return;const t=Od().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const n=si().getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function iK(){const e=si("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function HL(e){return`ag-charts-icon ag-charts-icon-${e}`}function Yxe(e){let{x:t,y:n,width:i,height:r}=e;return(i==null||i>0)&&(r==null||r>0)?e:(t!=null&&i!=null&&i<0&&(i=-i,t=t-i),n!=null&&r!=null&&r<0&&(r=-r,n=n-r),{x:t,y:n,width:i,height:r})}function xD(e,t,n){n==null?e.removeProperty(t):e.setProperty(t,`${n}px`)}var wB="class-instance";function hf(e,t,n){if(Tn(t)){if(!Tn(e)||e.length!==t.length||t.some((i,r)=>hf(e[r],i,n)!=null))return t}else if(zn(t)){if(!zn(e))return t;const i={},r=new Set([...Object.keys(e),...Object.keys(t)]);for(const s of r)if(e[s]!==t[s])if(n!=null&&n.has(s))i[s]=t[s];else if(typeof e[s]==typeof t[s]){const o=hf(e[s],t[s],n);o!==null&&(i[s]=o)}else i[s]=t[s];return Object.keys(i).length?i:null}else if(e!==t)return t;return null}function rK(e,t){for(const n of Object.keys(e))if(e[n]!==(t==null?void 0:t[n]))return!1;return!0}function tr(e,t){return Tn(e)?Kxe(e,t):zn(e)?qxe(e,t):e instanceof Map?new Map(tr(Array.from(e))):cz(e)}function Kxe(e,t){const n=[],i=t==null?void 0:t.seen;for(const r of e){if(typeof r=="object"&&(i!=null&&i.includes(r))){Je.warn("cycle detected in array",r);continue}i==null||i.push(r),n.push(tr(r,t)),i==null||i.pop()}return n}function qxe(e,t){var i,r;const n={};for(const s of Object.keys(e))(i=t==null?void 0:t.assign)!=null&&i.has(s)?n[s]=e[s]:(r=t==null?void 0:t.shallow)!=null&&r.has(s)?n[s]=cz(e[s]):n[s]=tr(e[s],t);return n}function cz(e){return Tn(e)?e.slice(0):zn(e)?{...e}:Lw(e)?new Date(e):gSe(e)?new RegExp(e.source,e.flags):e}function dg(e,t,n,i,r,s){if(Tn(e)){s=t(e,i,r,s);let o=0;for(const a of e)s=dg(a,t,n,i==null?void 0:i[o],r,s),o++}else if(zn(e)){s=t(e,i,r,s);for(const o of Object.keys(e)){if(n!=null&&n.has(o))continue;const a=e[o];s=dg(a,t,n,i==null?void 0:i[o],r,s)}}return s}function tE(e,t,n={}){const{path:i,matcherPath:r=i==null?void 0:i.replace(/(\[[0-9+]+])/i,"[]"),skip:s=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${i??"<root>"}`);if(t==null)return e;if(iy(e))return e.set(t);const o=e,a=_F(e);for(const l of Object.keys(t)){if(nz.has(l))continue;const c=`${r?r+".":""}${l}`;if(s.includes(c))continue;const u=t[l],d=`${i?i+".":""}${l}`,h=o.constructor,p=o[l];try{const m=_F(p),v=_F(u);if(a===wB&&!(l in e||l==="context")){if(u===void 0)continue;Je.warn(`unable to set [${d}] in ${h==null?void 0:h.name} - property is unknown`);continue}if(m!=null&&v!=null&&v!==m&&(m!==wB||v!=="object")){Je.warn(`unable to set [${d}] in ${h==null?void 0:h.name} - can't apply type of [${v}], allowed types are: [${m}]`);continue}if(iy(p))u===void 0?p.clear():p.set(u);else if(v==="object"&&l!=="context"){if(!(l in o)){Je.warn(`unable to set [${d}] in ${h==null?void 0:h.name} - property is unknown`);continue}p==null?o[l]=u:tE(p,u,{...n,path:d,matcherPath:c})}else o[l]=u}catch(m){Je.warn(`unable to set [${d}] in [${h==null?void 0:h.name}]; nested error is: ${m.message}`)}}return e}function _F(e){return e==null?null:mSe(e)||Lw(e)?"primitive":Tn(e)?"array":rr(e)?zn(e)?"object":wB:xf(e)?"function":"primitive"}var Zxe=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>Je.errorOnce(n))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(n){Je.error("mutex callback error",n),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},sK=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const n=this.eventListeners.get(e);n!=null&&(n.delete(t),n.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(n=>n(e))}},Wy=class extends Wt{constructor(e=0,t=e,n=e,i=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=i}};P([z],Wy.prototype,"top",2);P([z],Wy.prototype,"right",2);P([z],Wy.prototype,"bottom",2);P([z],Wy.prototype,"left",2);function bs(e,t){const n=Tn(e)?e:e.split(".");if(n.length===1){const[i]=n;return wy((r,s,o)=>r[i]=o,r=>r[i],t)}return wy((i,r,s)=>iz(i,n,s),i=>tz(i,n),t)}function Xxe(e){return wy((t,n,i)=>t[e]=i)}function Dr(e,t){return wy((n,i,r)=>n[e][t??i]=r)}function Po(e){const{newValue:t,oldValue:n,changeValue:i}=e;return wy((r,s,o,a)=>(o!==a&&(a!==void 0&&(n==null||n.call(r,a)),o!==void 0&&(t==null||t.call(r,o)),i==null||i.call(r,o,a)),o))}function Pg(e){return LY(e)}function Qxe(e){return oK((t,n)=>si().requestAnimationFrame(t),e)}function Jxe(e){return oK((t,n=0)=>{n===0?queueMicrotask(t):setTimeout(t,n)},e)}function oK(e,t){let n=0,i=!1,r,s;const o=()=>i,a=()=>{i=!1,s==null||s(),s=void 0,r=void 0,n>0&&e(l)},l=()=>{const c=n;n=0,i=!0;const u=t({count:c});if(!u){a();return}u.then(a,a)};return{schedule(c){n===0&&!o()&&e(l,c),n++},async await(){if(o())for(r??(r=new Promise(c=>{s=c}));o();)await r}}}var uz=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function WC(e,t,n){const{offsetX:i,offsetY:r,clientX:s,clientY:o}=t,{currentX:a,currentY:l}=Jh.calcCurrentXY(n,t);return{type:e,device:"mouse",offsetX:i,offsetY:r,clientX:s,clientY:o,currentX:a,currentY:l,sourceEvent:t}}function MD(e,t,n){return{type:e,sourceEvent:t}}var eMe={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>WC("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>WC("click",e,t),dblclick:(e,t)=>WC("dblclick",e,t),mouseenter:(e,t)=>WC("mouseenter",e,t),mousemove:(e,t)=>WC("mousemove",e,t),mouseleave:(e,t)=>WC("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:n,clientX:i,clientY:r}=e,s=e.deltaMode===0?.01:1,o=e.deltaX*s,a=e.deltaY*s;return{type:"wheel",offsetX:t,offsetY:n,clientX:i,clientY:r,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>MD("touchstart",e),touchmove:(e,t)=>MD("touchmove",e),touchend:(e,t)=>MD("touchend",e),touchcancel:(e,t)=>MD("touchcancel",e)},Jh=class{static alloc(e,t,n){return eMe[e](t,n)}static isHTMLEvent(e){return uz.includes(e)}static calcCurrentXY(e,t){const n=e.getBoundingClientRect();return{currentX:t.clientX-n.x,currentY:t.clientY-n.y}}},tMe=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var n;if(!(e in(this.sourceListeners??{}))){const i=s=>{const o=Jh.alloc(e,s,t.getElement());this.dispatch(e,t,o)},r={};e.startsWith("touch")&&(r.passive=!1),this.initSourceHandler(e,i),t.getElement().addEventListener(e,i,r)}return this.widgetListeners??(this.widgetListeners={}),(n=this.widgetListeners)[e]??(n[e]=[]),this.widgetListeners[e]}add(e,t,n){this.lazyGetWidgetListeners(e,t).push(n)}remove(e,t,n){const i=this.lazyGetWidgetListeners(e,t),r=i.indexOf(n);r>-1&&i.splice(r,1)}destroy(e){if(this.widgetListeners=void 0,this.sourceListeners){for(const[t,n]of Xc(this.sourceListeners))e.getElement().removeEventListener(t,n);this.sourceListeners=void 0}}dispatch(e,t,n){var i;for(const r of((i=this.widgetListeners)==null?void 0:i[e])??[])r(n,t)}},nMe=class{constructor(e,t,n,i){this.glob=e,this.self=t,this.window=si(),this.cleanup=new sr,this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var c;l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mousemove(l)},this.mouseup=l=>{var c;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mouseup(l),this.destroy())};const{window:r,mousegeneral:s,mousemove:o,mouseup:a}=this;this.cleanup.register(di(r,"mousedown",s,{capture:!0}),di(r,"mouseenter",s,{capture:!0}),di(r,"mouseleave",s,{capture:!0}),di(r,"mouseout",s,{capture:!0}),di(r,"mouseover",s,{capture:!0}),di(r,"mousemove",o,{capture:!0}),di(r,"mouseup",a,{capture:!0})),t.mouseDragger=this,e.globalMouseDragCallbacks=n,e.globalMouseDragCallbacks.mousedown(i),i.stopPropagation(),i.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function iMe(e,t,n,i){if(e.globalMouseDragCallbacks==null)return new nMe(e,t,n,i)}var rMe=500,sMe=100;function oMe(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return n*n+i*i}var SB=!1,aMe=class{constructor(e,t,n,i,r){this.glob=e,this.self=t,this.initialTouch=i,this.target=r,this.cleanup=new sr,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){const c=new sr;a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),SB=!0;const u=v=>v.preventDefault(),d=v=>{SB=!1,v.preventDefault(),c.flush()};c.register(di(a,"touchmove",u,{passive:!1}),di(a,"touchend",d,{passive:!1}),di(a,"touchcancel",d,{passive:!1}));const{clientX:h,clientY:p}=l,m=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:si(),clientX:h,clientY:p,pointerType:"touch"});a.dispatchEvent(m)}},this.touchmove=a=>{var h;const{glob:l,self:c,initialTouch:u}=this,d=this.findInitialFinger(a.targetTouches);d!=null&&(this.longTapInterrupted=this.longTapInterrupted||oMe(u,d)>sMe,c.dragTouchEnabled&&((h=l.globalTouchDragCallbacks)==null||h.touchmove(a,d)))},this.touchend=a=>{var c;this.longTapInterrupted=!0;const l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&((c=this.glob.globalTouchDragCallbacks)==null||c.touchend(a,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,rMe);const{touchmove:s,touchend:o}=this;this.cleanup.register(di(r,"touchmove",s,{passive:!1}),di(r,"touchstart",o,{passive:!1}),di(r,"touchend",o,{passive:!1}),di(r,"touchcancel",o,{passive:!1})),t.touchDragger=this,e.globalTouchDragCallbacks=n}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(n=>Array.from(n)).flat();return Array.from(t).find(n=>n.identifier===this.initialTouch.identifier)}};function lMe(e,t,n,i,r){if(!(e.globalTouchDragCallbacks!=null||SB))return new aMe(e,t,n,i,r)}function BF(e,t,n,i){const{currentX:r,currentY:s}=Jh.calcCurrentXY(e.getElement(),i),o=i.pageX-n.pageX,a=i.pageY-n.pageY;return{type:t,device:"mouse",offsetX:n.offsetX+o,offsetY:n.offsetY+a,clientX:i.clientX,clientY:i.clientY,currentX:r,currentY:s,originDeltaX:o,originDeltaY:a,sourceEvent:i}}function cMe(e,{pageX:t,pageY:n}){const{x:i,y:r}=e.getElement().getBoundingClientRect();return{offsetX:t-i,offsetY:n-r}}function GF(e,t,n,i,r){const{currentX:s,currentY:o}=Jh.calcCurrentXY(e.getElement(),r),a=r.pageX-n.pageX,l=r.pageY-n.pageY;return{type:t,device:"touch",offsetX:n.offsetX+a,offsetY:n.offsetY+l,clientX:r.clientX,clientY:r.clientY,currentX:s,currentY:o,originDeltaX:a,originDeltaY:l,sourceEvent:i}}var C5={},b5=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,n,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,(t=this.listeners)==null||t.clear(),(n=this.mouseDragger)==null||n.destroy(),(i=this.touchDragger)==null||i.destroy()}getListenerSet(e){this.listeners??(this.listeners=new Map);let t=this.listeners.get(e);return t===void 0&&(t=new Set,this.listeners.set(e,t)),t}add(e,t,n){switch(this.getListenerSet(e).add(n),e){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(t);break}}}remove(e,t,n){this.getListenerSet(e).delete(n)}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=e.getElement(),n=new sr;n.register(di(t,"mousedown",i=>this.triggerMouseDrag(e,i)),di(t,"touchstart",i=>this.triggerTouchDrag(e,i),{passive:!1})),this.dragTriggerRemover=()=>n.flush()}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const n={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};yB(["pageX","pageY","offsetX","offsetY"],n,t);const i={mousedown:r=>{const s=BF(e,"drag-start",n,r);this.dispatch("drag-start",e,s)},mousemove:r=>{const s=BF(e,"drag-move",n,r);this.dispatch("drag-move",e,s)},mouseup:r=>{const s=BF(e,"drag-end",n,r);this.dispatch("drag-end",e,s),this.endDrag(e,s)}};this.mouseDragger=iMe(C5,this,i,t)}endDrag(e,{sourceEvent:t,clientX:n,clientY:i}){var o;const r=e.getElement(),s=r.getBoundingClientRect();K4(s,n,i)||(r.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const n=t.targetTouches[0];t.targetTouches.length===1&&n!=null&&this.startOneFingerTouch(e,t,n)}startOneFingerTouch(e,t,n){const i={pageX:NaN,pageY:NaN,...cMe(e,n)};yB(["pageX","pageY"],i,n);const r={touchmove:(a,l)=>{const c=GF(e,"drag-move",i,a,l);this.dispatch("drag-move",e,c)},touchend:(a,l)=>{const c=GF(e,"drag-end",i,a,l);this.dispatch("drag-end",e,c)}},s=e.getElement();this.touchDragger=lMe(C5,this,r,n,s);const o=GF(e,"drag-start",i,t,n);this.dispatch("drag-start",e,o)}dispatch(e,t,n){for(const i of this.getListenerSet(e))i(n,t);this.dispatchCallback(e,n)}},uMe=class{constructor(e){this.elem=e}setBounds(e){EN(this.elemContainer??this.elem,e)}getBounds(){return nK(this.elemContainer??this.elem)}static setElementContainer(e,t){const n=e.getBounds();EN(t,n),GSe(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},jd=class extends uMe{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(e){An(this.elem,"id",e)}get id(){return Lb(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,n,i;(e=this.destroyListener)==null||e.call(this),this.destroyListener=void 0,(t=this.parent)==null||t.removeChild(this),this.children.forEach(r=>{r.parent=void 0,r.destroy()}),this.children.length=0,this.destructor(),this.remove(),(n=this.internalListener)==null||n.destroy(),(i=this.htmlListener)==null||i.destroy(this)}remove(){var e;this.elem.remove(),(e=this.elemContainer)==null||e.remove()}setHidden(e){gd(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=si())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){gd(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){An(this.elem,"aria-describedby",e)}setAriaHidden(e){An(this.elem,"aria-hidden",e)}setAriaLabel(e){An(this.elem,"aria-label",e)}setAriaExpanded(e){An(this.elem,"aria-expanded",e)}setAriaControls(e){An(this.elem,"aria-controls",e)}setAriaHasPopup(e){An(this.elem,"aria-haspopup",e)}setInnerHTML(e){this.elem.innerHTML=e}setPointerEvents(e){gd(this.elem,"pointer-events",e)}isDisabled(){return Lb(this.elem,"aria-disabled",!1)}hasPopup(){const e=Lb(this.elem,"aria-haspopup");return e!==void 0&&e!=="false"}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(e){this.elem.focus(e)}setFocusOverride(e){An(this.elem,"data-focus-override",e)}setPreventsDefault(e){An(this.elem,"data-preventdefault",e)}setTabIndex(e){An(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(n=>n===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,n)=>!t||n.domIndex<t.domIndex?n:t,void 0)}addListener(e,t){return Jh.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new tMe),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new b5(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var n,i;Jh.isHTMLEvent(e)?(n=this.htmlListener)==null||n.remove(e,this,t):this.htmlListener!=null&&((i=this.internalListener)==null||i.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new b5(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){var i;if(!((i=t.sourceEvent)!=null&&i.bubbles))return;let{parent:n}=this;for(;n!=null;){const{internalListener:r}=n;if(r!=null){const s={...t,...Jh.calcCurrentXY(n.getElement(),t)};r.dispatch(e,n,s)}n=n.parent}}static addWindowEvent(e,t){const n=i=>{i.persisted||t()};return di(si(),"pagehide",n)}};function dMe(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var dz=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const n=this.store.keys();let i=this.store.size-this.maxCacheSize;for(;i>0;){const r=n.next();r.done||this.store.delete(r.value),i--}}return t}clear(){this.store.clear()}},Fg=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=ui.toFontString(e.font),n=`${t}-${e.textAlign??"start"}-${e.textBaseline??"top"}`;return this.instanceMap.get(n)??this.createFontMeasurer(t,e,n)}static clear(){this.instanceMap.clear()}static createFontMeasurer(e,t,n){const i=dMe();i.font=e,i.textAlign=t.textAlign??"start",i.textBaseline=t.textBaseline??"top";const r=new aK(i,t);return this.instanceMap.set(n,r),r}};Fg.instanceMap=new dz(10);var aK=class{constructor(e,t){this.ctx=e,this.measureMap=new dz(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=ui.toFontString(t.font),this.textMeasurer=new hz(n=>this.cachedCtxMeasureText(n),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},ui=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:n,fontFamily:i}){let r="";return t&&t!=="normal"&&(r+=`${t} `),n&&n!=="normal"&&n!==400&&(r+=`${n} `),r+=`${e}px`,r+=` ${i}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getHorizontalModifier(e){switch(e){case"left":case"start":return 0;case"center":return .5;case"right":case"end":return 1;default:return 0}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};ui.EllipsisChar="…";ui.defaultLineHeight=1.15;ui.lineSplitter=/\r?\n/g;var hz=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent}}getMultilineMetrics(e){let t=0,n=0,i=0,r=0,s=0,o=0;const a=ui.getVerticalModifier(this.textBaseline),l=[];let c=0;const u=e.length;for(const d of e){const h=this.measureTextFn(d);h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),t<h.width&&(t=h.width),r<h.actualBoundingBoxLeft&&(r=h.actualBoundingBoxLeft),c===0?(n+=h.actualBoundingBoxAscent,i+=h.actualBoundingBoxAscent,o=h.alphabeticBaseline):s+=h.fontBoundingBoxAscent,c===u-1?n+=h.actualBoundingBoxDescent:s+=h.fontBoundingBoxDescent,l.push({text:d,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}),c++}return n+=s,i+=s*a,{width:t,height:n,offsetTop:i,offsetLeft:r,alphabeticBaseline:o,lineMetrics:l}}textWidth(e,t){if(t){let n=0;for(let i=0;i<e.length;i++)n+=this.textWidth(e.charAt(i));return n}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(ui.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function hMe(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function fMe(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:n}=performance.memory,i=[];for(const r of[t,e,n])typeof r=="number"&&i.push(hMe(r));return`Heap ${i.join(" / ")}`}function w5(e,t,n,i,r={},s=ut.zero){if(!on.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:u=0,opsSkipped:d=0}=i??{},h=performance.now(),{start:p,...m}=t,v=Object.entries(m).map(([F,H])=>S5(F,H)).filter(F=>F!=null).join(" + "),y=Object.entries(r).map(([F,H])=>`${F}: ${JSON.stringify(H)}`).join(" ; "),C=on.check("scene:stats:verbose"),S=fMe(),x=[`${S5("⏱️",p,h)} (${v})`,`${y}`,`Layers: ${C?zF(o,a):e.size}`,C?`Nodes: ${zF(l,c)}`:null,C?`Ops: ${zF(u,d)}`:null,C&&S?S:null].filter(vs),R=new hz(F=>n.measureText(F)),A=new Map(x.map(F=>[F,R.measureLines(F)])),T=Math.max(...Array.from(A.values(),F=>F.width)),L=CMe(A.values(),F=>F.height),O=2+s.x;n.save();try{n.fillStyle="white",n.fillRect(O,0,T,L),n.fillStyle="black";let F=0;for(const[H,W]of A.entries())F+=W.height,n.fillText(H,O,F)}catch(F){Je.warnOnce("Error during debug stats rendering",F)}finally{n.restore()}}function pMe(e){const t=CN(si("agChartsSceneDebug")),n=[];for(const i of t)i==="layout"?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(i);e.debugNodeSearch=n}function gMe(e,t){e.save();try{for(const[n,i]of Object.entries(t)){const r=mr.toCanvas(i);if(!r){Je.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,r.x,r.y,r.width),e.fillText(n,r.x,r.y,r.width)}}catch(n){Je.warnOnce("Error during debug rendering",n)}finally{e.restore()}}var mMe=new Set,vMe=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function yMe(e){const{...t}=e;for(const n of Object.keys(t))vMe.has(n)||typeof t[n]!="number"&&typeof t[n]!="string"&&typeof t[n]!="boolean"&&(mMe.add(n),delete t[n]);return t}function hI(e,t){if(!on.check(!0,"scene"))return{};let n=0;return{node:t==="json"?yMe(e):e,name:e.name??e.id,dirty:e instanceof nn?e.dirty:void 0,...Array.from(e instanceof nn?e.children():[],i=>hI(i,t)).reduce((i,r)=>{let{name:s}=r;const{node:{visible:o,opacity:a,zIndex:l,translationX:c,translationY:u,rotation:d,scalingX:h,scalingY:p},node:m}=r;(!o||a<=0)&&(s=`(${s})`),nn.is(m)&&m.renderToOffscreenCanvas&&(s=`*${s}*`);const v=Array.isArray(l)?`(${l.join(", ")})`:l,y=[`${(n++).toString().padStart(3,"0")}|`,`${s??"<unknown>"}`,`z: ${v}`,c&&`x: ${c}`,u&&`y: ${u}`,d&&`r: ${d}`,h!=null&&h!==1&&`sx: ${h}`,p!=null&&p!==1&&`sy: ${p}`].filter(x=>!!x).join(" ");let C=y,S=1;for(;i[C]!=null&&S<100;)C=`${y} (${S++})`;return i[C]=r,i},{})}}function lK(e){const t=e instanceof nn?e.dirty:void 0;if(!t)return{dirtyTree:{},paths:[]};const n=Array.from(e instanceof nn?e.children():[],s=>lK(s)).filter(s=>s.paths.length>0),i=nn.is(e)?e.name??e.id:e.id,r=n.length?n.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:e,dirty:t,...n.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,o)=>(s[o.name??"<unknown>"]=o,s),{})},paths:r}}function zF(e,t){const n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function S5(e,t,n){const i=n!=null?n-t:t;return`${e}: ${Math.round(i*100)/100}ms`}function CMe(e,t){let n=0;for(const i of e)n+=t(i);return n}var kM=(e,{x0:t,y0:n,x1:i,y1:r,cx:s,cy:o},a,l)=>{if(l&&e.moveTo(t,n),t!==i||n!==r){const c=Math.atan2(n-o,t-s),u=Math.atan2(r-o,i-s);e.arc(s,o,a,c,u)}else e.lineTo(t,n)},Fo=class extends Ur{constructor(){super(...arguments),this.path=new lw,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(e){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(e))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var n,i;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();try{const r=this.strokeWidth/2;this._clipPath??(this._clipPath=new lw),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),t.clip((n=this._clipPath)==null?void 0:n.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t)}finally{t.restore()}}else this._clipPath=void 0,this.drawPath(t);(i=this.fillShadow)==null||i.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Ar("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};Fo.className="Path";P([Xe()],Fo.prototype,"clip",2);P([Xe()],Fo.prototype,"clipX",1);P([Xe()],Fo.prototype,"clipY",1);var x5=1e-6,ED=(e,t,n,i,r)=>{let s=!1,o=!1,a=i-Math.sqrt(Math.max(r**2-n**2,0)),l=0,c=0,u=n-Math.sqrt(Math.max(r**2-i**2,0));return a>e?(s=!0,a=e,l=n-Math.sqrt(Math.max(r**2-(i-e)**2))):a<x5&&(a=0),u>t?(o=!0,c=i-Math.sqrt(Math.max(r**2-(n-t)**2)),u=t):u<x5&&(u=0),{leading0:a,leading1:l,trailing0:c,trailing1:u,leadingClipped:s,trailingClipped:o}},fI=(e,t,n,i,r,s,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:u}=s;const d=Math.max(a+u,l+c),h=Math.max(a+l,u+c);if(d<=0&&h<=0){o==null?e.rect(t,n,i,r):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===c&&a===u){e.roundRect(t,n,i,r,a);return}if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(n+=r,r=Math.abs(r)),i<=0||r<=0)return;if(o==null)o=new ut(t,n,i,r);else{const L=Math.max(t,o.x),O=Math.min(t+i,o.x+o.width),F=Math.max(n,o.y),H=Math.min(n+r,o.y+o.height);o=new ut(L,F,O-L,H-F)}const p=Math.max(d/r,h/i,1);p>1&&(a/=p,l/=p,c/=p,u/=p);let m=!0,v=!0,y=!0,C=!0,S,x,R,A;if(m){const L=ED(o.height,o.width,Math.max(t+a-o.x,0),Math.max(n+a-o.y,0),a);L.leadingClipped&&(C=!1),L.trailingClipped&&(v=!1);const O=Math.max(o.x+L.leading1,o.x),F=Math.max(o.y+L.leading0,o.y),H=Math.max(o.x+L.trailing1,o.x),W=Math.max(o.y+L.trailing0,o.y),$=t+a,Z=n+a;S={x0:O,y0:F,x1:H,y1:W,cx:$,cy:Z}}if(v){const L=ED(o.width,o.height,Math.max(n+l-o.y,0),Math.max(o.x+o.width-(t+i-l),0),l);L.leadingClipped&&(m=!1),L.trailingClipped&&(y=!1);const O=Math.min(o.x+o.width-L.leading0,o.x+o.width),F=Math.max(o.y+L.leading1,o.y),H=Math.min(o.x+o.width-L.trailing0,o.x+o.width),W=Math.max(o.y+L.trailing1,o.y),$=t+i-l,Z=n+l;x={x0:O,y0:F,x1:H,y1:W,cx:$,cy:Z}}if(y){const L=ED(o.height,o.width,Math.max(o.x+o.width-(t+i-c),0),Math.max(o.y+o.height-(n+r-c),0),c);L.leadingClipped&&(v=!1),L.trailingClipped&&(C=!1);const O=Math.min(o.x+o.width-L.leading1,o.x+o.width),F=Math.min(o.y+o.height-L.leading0,o.y+o.height),H=Math.min(o.x+o.width-L.trailing1,o.x+o.width),W=Math.min(o.y+o.height-L.trailing0,o.y+o.height),$=t+i-c,Z=n+r-c;R={x0:O,y0:F,x1:H,y1:W,cx:$,cy:Z}}if(C){const L=ED(o.width,o.height,Math.max(o.y+o.height-(n+r-u),0),Math.max(t+u-o.x,0),u);L.leadingClipped&&(y=!1),L.trailingClipped&&(m=!1);const O=Math.max(o.x+L.leading0,o.x),F=Math.min(o.y+o.height-L.leading1,o.y+o.height),H=Math.max(o.x+L.trailing0,o.x),W=Math.min(o.y+o.height-L.trailing1,o.y+o.height),$=t+u,Z=n+r-u;A={x0:O,y0:F,x1:H,y1:W,cx:$,cy:Z}}let T=!1;m&&S!=null&&(kM(e,S,a,!T),T||(T=!0)),v&&x!=null&&(kM(e,x,l,!T),T||(T=!0)),y&&R!=null&&(kM(e,R,c,!T),T||(T=!0)),C&&A!=null&&kM(e,A,u,!T),e.closePath()},os=class extends Fo{constructor(){super(...arguments),this.borderPath=new lw,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var y;const{path:e,borderPath:t,crisp:n,topLeftCornerRadius:i,topRightCornerRadius:r,bottomRightCornerRadius:s,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:c,height:u,strokeWidth:d,clipBBox:h}=this;const m=1/(((y=this.layerManager)==null?void 0:y.canvas.pixelRatio)??1);let v=1;if(e.clear(!0),t.clear(!0),c===0||u===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(n&&(c<=m&&(v*=c/m),u<=m&&(v*=u/m),c=this.align(a,c),u=this.align(l,u),a=this.align(a),l=this.align(l),h=h!=null?new ut(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),d)if(c<m){const C=a+m/2;t.moveTo(C,l),t.lineTo(C,l+u),d=m,this.borderClipPath=void 0}else if(u<m){const C=l+m/2;t.moveTo(a,C),t.lineTo(a+c,C),d=m,this.borderClipPath=void 0}else if(d<c&&d<u){const C=d/2;a+=C,l+=C,c-=d,u-=d;const S=h==null?void 0:h.clone().shrink(C),x={topLeft:i>0?i-d:0,topRight:r>0?r-d:0,bottomRight:s>0?s-d:0,bottomLeft:o>0?o-d:0};this.borderClipPath=void 0,c>0&&u>0&&(S==null||(S==null?void 0:S.width)>0&&(S==null?void 0:S.height)>0)&&(fI(e,a,l,c,u,x,S),fI(t,a,l,c,u,x,S))}else this.borderClipPath=this.borderClipPath??new lw,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,c,u),t.rect(a,l,c,u);else{const C={topLeft:i,topRight:r,bottomRight:s,bottomLeft:o};this.borderClipPath=void 0,fI(e,a,l,c,u,C,h)}if([i,r,s,o].every(C=>C===0)){const C=this.getBBox();this.hittester=C.containsPoint.bind(C),this.distanceSquared=(S,x)=>this.getBBox().distanceSquared(S,x)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=v}computeBBox(){const{x:e,y:t,width:n,height:i,clipBBox:r}=this;return(r==null?void 0:r.clone())??new ut(e,t,n,i)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAndAlpha(e){super.applyFillAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(e){super.applyStrokeAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}renderStroke(e){const{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){const{globalAlpha:i}=e,{lineDash:r,lineDashOffset:s,lineCap:o,lineJoin:a,borderPath:l,borderClipPath:c}=this;c&&e.clip(c.getPath2D()),this.applyStrokeAndAlpha(e),e.lineWidth=n,r&&e.setLineDash(r),s&&(e.lineDashOffset=s),o&&(e.lineCap=o),a&&(e.lineJoin=a),e.stroke(l.getPath2D()),e.globalAlpha=i}}};os.className="Rect";P([Xe()],os.prototype,"x",2);P([Xe()],os.prototype,"y",2);P([Xe()],os.prototype,"width",2);P([Xe()],os.prototype,"height",2);P([Xe()],os.prototype,"topLeftCornerRadius",2);P([Xe()],os.prototype,"topRightCornerRadius",2);P([Xe()],os.prototype,"bottomRightCornerRadius",2);P([Xe()],os.prototype,"bottomLeftCornerRadius",2);P([Cl({})],os.prototype,"clipBBox",2);P([Xe()],os.prototype,"crisp",2);var HF=!1,Va=class nb extends Ur{constructor(t){super(t),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=nb.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=(t==null?void 0:t.trimText)??!0}onTextChange(){var t,n,i;if((t=this.richText)==null||t.clear(),(n=this.textMap)==null||n.clear(),Tn(this.text))this.lines=[],this.richText??(this.richText=new nn),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new nb({trimText:!1})));else{const r=((i=this.text)==null?void 0:i.split(`
`))??[];this.lines=this.trimText?r.map(s=>s.trim()):r}}static computeBBox(t,n,i,r,s=!0){const{font:o,font:{fontSize:a},textAlign:l,textBaseline:c,lineHeight:u=s?ui.getLineHeight(a):void 0}=r,{width:d,alphabeticBaseline:h,offsetLeft:p,offsetTop:m,height:v}=Fg.measureLines(t,s?{font:o,lineHeight:u,textAlign:"start",textBaseline:"top"}:r),y=u==null?v:u*t.length;let C;u==null?C=m:c==="alphabetic"?C=(u-a)/2-h:C=ui.getVerticalModifier(c)*y;const S=s?d*ui.getHorizontalModifier(l):p;return new ut(n-S,i-C,d,y)}computeBBox(t=HF){var c;if(this.generateTextMap(),(c=this.textMap)!=null&&c.size){const u=ut.merge(this.textMap.values());return u.x=this.x,u.y=this.y,u}const{x:n,y:i,lines:r,textBaseline:s,textAlign:o,lineHeight:a}=this,l=nb.computeBBox(r,n,i,{font:this,textBaseline:s,textAlign:o,lineHeight:a},t);return this.boxing!=null&&l.grow(this.boxPadding),l}getBBox(t=!0){if(t){HF=!0;const n=this.computeBBox(!0);return HF=!1,n}return super.getBBox()}getPlainText(){return pB(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(t,n){var i;return((i=this.getBBox())==null?void 0:i.containsPoint(t,n))??!1}setScene(t){var n;(n=this.richText)==null||n.setScene(t),super.setScene(t)}generateTextMap(){var o;if(!Tn(this.text)||(o=this.textMap)!=null&&o.size)return;this.textMap??(this.textMap=new Map);let t=0,n=0,i=0;const r={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(const a of this.richText.children()){const{color:l,...c}=this.text[t++];a.x=0,a.y=0,a.setProperties(Gn({fill:l},c,r));const u=a.getBBox();this.textMap.set(a,u),i=Math.max(i,u.y+u.height/2+(a.lineHeight??ui.getLineHeight(a.fontSize))),n+=u.x+u.width}let s=this.x-n/2;for(const[a,l]of this.textMap)a.x+=s,a.y+=i,s+=l.width}render(t){var r;const{ctx:n,stats:i}=t;if(!this.text||!this.layerManager)return i&&(i.nodesSkipped+=1),super.render(t);if(Tn(this.text)){this.generateTextMap();const{width:s}=this.richText.getBBox();let o=0;switch(this.textAlign){case"left":case"start":o=s/2;break;case"right":case"end":o=s/-2}n.save(),n.translate(o,this.y),this.richText.render(t),n.restore()}else this.renderText(t);if(nb.debug.check()&&!((r=this.textMap)!=null&&r.size)){const s=this.getBBox(!0);n.strokeStyle="red",n.lineWidth=1,n.strokeRect(s.x,s.y,s.width,s.height)}super.render(t)}markDirty(t){var n;return(n=this.textMap)==null||n.clear(),super.markDirty(t)}renderText(t){const{fill:n,stroke:i,strokeWidth:r}=this;if(!n&&!(i&&r)||!this.layerManager)return super.render(t);const{ctx:s}=t,o=ui.toFontString(this);s.font!==o&&(s.font=o);const{fontSize:a,lineHeight:l=ui.getLineHeight(a),textAlign:c,textBaseline:u}=this;if(s.textAlign=c,s.textBaseline=u,this.boxing){const d={font:this,textBaseline:u,textAlign:c,lineHeight:l},h=nb.computeBBox(this.lines,this.x,this.y,d);if(h.width!==0&&h.height!==0){const{x:p,y:m,width:v,height:y}=h.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=p,this.boxing.y=m,this.boxing.width=v,this.boxing.height=y,this.boxing.preRender(t),this.boxing.render(t)}}this.fillStroke(s)}executeFill(t){const{fontSize:n,lineHeight:i=ui.getLineHeight(n),textBaseline:r,lines:s}=this,o=r==="alphabetic"?0:ui.getVerticalModifier(r)*i*(1-s.length);this.renderLines(o,i,(a,l,c)=>t.fillText(a,l,c))}executeStroke(t){const{fontSize:n,lineHeight:i=ui.getLineHeight(n),textBaseline:r,lines:s}=this,o=r==="alphabetic"?0:ui.getVerticalModifier(r)*i*(1-s.length);this.renderLines(o,i,(a,l,c)=>t.strokeText(a,l,c))}renderLines(t,n,i){const{lines:r,x:s,y:o}=this;if(!(!Number.isFinite(s)||!Number.isFinite(o)||!Number.isFinite(t)||!Number.isFinite(n)))for(const a of r)i(a,s,o+t),t+=n}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}setBoxing(t){var i,r,s,o;const n=(i=t.border)!=null&&i.enabled?(r=t.border)==null?void 0:r.stroke:void 0;t.fill!=null||n!=null?(this.boxing??(this.boxing=new os({scene:this.scene})),this.boxing.fill=t.fill,this.boxing.fillOpacity=t.fillOpacity??1,this.boxing.cornerRadius=t.cornerRadius??0,this.boxing.stroke=n,this.boxing.strokeWidth=((s=t.border)==null?void 0:s.strokeWidth)??0,this.boxing.strokeOpacity=((o=t.border)==null?void 0:o.strokeOpacity)??1,this.boxPadding=t.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){const{fill:t,fillOpacity:n,cornerRadius:i,stroke:r,strokeWidth:s,strokeOpacity:o}=this.boxing??{};return{border:{enabled:r!=null,stroke:r,strokeWidth:s,strokeOpacity:o},cornerRadius:i,fill:t,fillOpacity:n,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;const t=Ar("text");if(vs(this.text))this.applySvgFillAttributes(t),v5(t,this),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",this.textBaseline),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text;else for(const n of this.text){const i=Ar("tspan");v5(i,{fontSize:n.fontSize??this.fontSize,fontFamily:n.fontFamily??this.fontFamily,fontWeight:n.fontWeight??this.fontWeight,fontStyle:n.fontStyle??this.fontStyle}),this.applySvgFillAttributes(i),i.textContent=n.text,t.append(i)}return{elements:[t]}}};Va.className="Text";Va.debug=on.create(!0,"scene:text");Va.defaultFontSize=10;P([Xe()],Va.prototype,"x",2);P([Xe()],Va.prototype,"y",2);P([BY({changeCb:e=>e.onTextChange()})],Va.prototype,"text",2);P([Xe()],Va.prototype,"fontStyle",2);P([Xe()],Va.prototype,"fontWeight",2);P([Xe()],Va.prototype,"fontSize",2);P([Xe()],Va.prototype,"fontFamily",2);P([Xe()],Va.prototype,"textAlign",2);P([Xe()],Va.prototype,"textBaseline",2);P([Xe()],Va.prototype,"lineHeight",2);var cl=Va,cK=class extends Ow(cl){},cw=class extends Ow(Pw(cl)){},IR=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const n=this.textWrap(e,t);return t.overflow==="hide"&&n.some(i=>i.endsWith(ui.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+ui.EllipsisChar}static truncateLine(e,t,n,i){const r=t.textWidth(ui.EllipsisChar);let s=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(s+a>n)break;s+=a}if(e.length===o&&(!i||s+r<=n))return i?e+ui.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+r>n;)e=e.slice(0,-1).trimEnd();return e+ui.EllipsisChar}static textWrap(e,t){const n=e.split(ui.lineSplitter),i=Fg.getMeasurer(t);if(t.textWrap==="never")return n.map(a=>this.truncateLine(a.trimEnd(),i,t.maxWidth));const r=[],s=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of n){let l=a.trimEnd();if(l===""){r.push(l);continue}let c=0,u=0,d=0;for(;c<l.length;){const h=l.charAt(c);if(u+=i.textWidth(h),h===" "&&(d=c),u>t.maxWidth){if(c===0)break;const p=i.textWidth(l.slice(0,c+1));if(p<=t.maxWidth){u=p,c++;continue}if(d){const y=this.getWordAt(l,d+1),C=i.textWidth(y);if(C<=t.maxWidth){r.push(l.slice(0,d).trimEnd()),l=l.slice(d).trimStart(),c=0,u=0,d=0;continue}else o&&C>t.maxWidth&&r.push(l.slice(0,d).trimEnd(),this.truncateLine(l.slice(d).trimStart(),i,t.maxWidth,!0))}else o&&r.push(this.truncateLine(l,i,t.maxWidth,!0));if(o){l="";break}const m=s?"-":"";let v=l.slice(0,c).trim();for(;v.length&&i.textWidth(v+m)>t.maxWidth;)v=v.slice(0,-1).trimEnd();if(r.push(v+m),!v.length){l="";break}l=l.slice(v.length).trimStart(),c=-1,u=0,d=0}c++}l&&r.push(l)}return this.avoidOrphans(r,i,t),this.clipLines(r,i,t)}static getWordAt(e,t){const n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;const{height:i,lineMetrics:r}=t.measureLines(e);if(i<=n.maxHeight)return e;for(let s=0,o=0;s<r.length;s++){const{lineHeight:a}=r[s];if(o+=a,o>n.maxHeight){if(n.overflow==="hide")return[];const l=e.slice(0,s||1),c=l.pop();return l.concat(this.truncateLine(c,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(n.avoidOrphans===!1||e.length<2)return;const{length:i}=e,r=e[i-1],s=e[i-2];if(s.length<r.length)return;const o=s.lastIndexOf(" ");if(o===-1||o===s.indexOf(" ")||r.includes(" "))return;const a=s.slice(o+1);t.textWidth(r+a)<=n.maxWidth&&(e[i-2]=s.slice(0,o),e[i-1]=a+" "+r)}},uK={};Wd(uK,{BASE_FONT_SIZE:()=>Bh,CARTESIAN_AXIS_TYPE:()=>hK,CARTESIAN_POSITION:()=>dK,FONT_SIZE:()=>fz,FONT_SIZE_RATIO:()=>ul,POLAR_AXIS_SHAPE:()=>pK,POLAR_AXIS_TYPE:()=>fK});var fz=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(fz||{}),Bh=12,ul=(e=>(e[e.SMALLEST=8/Bh]="SMALLEST",e[e.SMALLER=10/Bh]="SMALLER",e[e.SMALL=12/Bh]="SMALL",e[e.MEDIUM=13/Bh]="MEDIUM",e[e.LARGE=14/Bh]="LARGE",e[e.LARGEST=17/Bh]="LARGEST",e))(ul||{}),dK=(e=>(e.TOP="top",e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.BOTTOM="bottom",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e))(dK||{}),hK=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.UNIT_TIME="unit-time",e.TIME="time",e.NUMBER="number",e.LOG="log",e))(hK||{}),fK=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(fK||{}),pK=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(pK||{}),nr=class extends Wt{constructor(){super(...arguments),this.id=cu(this),this.node=new cK({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.eventsHub.on("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:n,padding:i,wrapping:r}=this;if(Tn(n))return;const s=Math.min(this.maxWidth??1/0,e)-i*2,o=this.maxHeight??t-i*2;if(!isFinite(s)&&!isFinite(o)){this.node.text=n;return}const a=IR.wrapText(n??"",{maxWidth:s,maxHeight:o,font:this,textWrap:r});this.node.text=a,this.truncated=a.includes(ui.EllipsisChar)}updateA11yText(e,t){var i;const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const r=mr.toCanvas(this.node);if(r){const{id:s}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:s,where:t})),this.proxyText.textContent=pB(this.text),this.proxyText.setBounds(r),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(i=this.proxyText)==null||i.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.truncated){const{x:n,y:i}=mr.toCanvas(this.node),r=t.sourceEvent.offsetX+n,s=t.sourceEvent.offsetY+i;e.tooltipManager.updateTooltip(this.id,{canvasX:r,canvasY:s,showArrow:!1},[{type:"structured",title:pB(this.text)}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};nr.SMALL_PADDING=10;P([z,Dr("node","visible")],nr.prototype,"enabled",2);P([z,Dr("node")],nr.prototype,"text",2);P([z,Dr("node")],nr.prototype,"textAlign",2);P([z,Dr("node")],nr.prototype,"fontStyle",2);P([z,Dr("node")],nr.prototype,"fontWeight",2);P([z,Dr("node")],nr.prototype,"fontSize",2);P([z,Dr("node")],nr.prototype,"fontFamily",2);P([z,Dr("node","fill")],nr.prototype,"color",2);P([z],nr.prototype,"spacing",2);P([z],nr.prototype,"maxWidth",2);P([z],nr.prototype,"maxHeight",2);P([z],nr.prototype,"wrapping",2);P([z],nr.prototype,"padding",2);P([z],nr.prototype,"layoutStyle",2);var pz=(e=>(e.X="x",e.Y="y",e.Angle="angle",e.Radius="radius",e))(pz||{});function bMe(e){switch(e){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var VL=class{constructor(){this.title=new nr,this.subtitle=new nr,this.footnote=new nr}positionCaptions(e){const{title:t,subtitle:n,footnote:i}=this,r=e.layoutBox.height/10;t.enabled&&(this.positionCaption("top",t,e.layoutBox,r),this.shrinkLayoutByCaption("top",t,e.layoutBox)),n.enabled&&(this.positionCaption("top",n,e.layoutBox,r),this.shrinkLayoutByCaption("top",n,e.layoutBox)),i.enabled&&(this.positionCaption("bottom",i,e.layoutBox,r),this.shrinkLayoutByCaption("bottom",i,e.layoutBox))}positionAbsoluteCaptions(e){const{title:t,subtitle:n,footnote:i}=this,{rect:r}=e.series;for(const s of[t,n,i])if(s.layoutStyle==="overlay"){if(s.textAlign==="left")s.node.x=r.x+s.padding;else if(s.textAlign==="right"){const o=s.node.getBBox();s.node.x=r.x+r.width-o.width-s.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,n,i){const r=Math.max(ui.getLineHeight(t.fontSize),i);t.node.x=this.computeX(t.textAlign,n)+t.padding,t.node.y=n.y+(e==="top"?0:n.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(n.width,r)}shrinkLayoutByCaption(e,t,n){if(t.layoutStyle==="block"){const i=t.node.getBBox(),{spacing:r=0}=t;e==="bottom"&&Tn(t.text)&&(t.node.y-=i.height,i.y-=i.height),n.shrink(Math.ceil(e==="top"?i.y-n.y+i.height+r:n.y+n.height-i.y+r),e)}}};P([z],VL.prototype,"title",2);P([z],VL.prototype,"subtitle",2);P([z],VL.prototype,"footnote",2);var wMe=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],SMe=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,n;let e=(n=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:n.chartType;return e??(e="candlestick"),e}guardMemento(e){return e==null||wMe.includes(e)}restoreMemento(e,t,n){var r;if(n==null)return;const i={chartType:n};(r=this.chartService.publicApi)==null||r.updateDelta(i).catch(s=>Je.error("error restoring state",s))}},LE="12.1.1",M5=Symbol("previous-memento-not-found"),xMe=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=on.create(!0,"history"),this.cleanup=new sr,this.cleanup.register(e.on("series:undo",this.undo.bind(this)),e.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const n=new Map;for(const i of t){if(!this.originators.has(i.mementoOriginatorKey))throw new Error(`Originator [${i.mementoOriginatorKey}] has not been added to the HistoryManager.`);n.set(i.mementoOriginatorKey,i.createMemento())}this.history.push({label:e,mementos:n}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const n=this.findPreviousMemento(t);if(n===M5)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,n)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,n]of e.mementos.entries())this.restoreMemento(t,n);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):M5}restoreMemento(e,t){var n;(n=this.originators.get(e))==null||n.restoreMemento(LE,LE,t)}debugEvent(...e){this.debug(...e,this.history.map((t,n)=>n===this.historyIndex?`** ${t.label} **`:t.label))}},gK=class xB{constructor(t){this.version=t.split("-")[0]}save(...t){const n={version:this.version};for(const i of Object.values(t))n[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return n}restore(t,...n){if(typeof t!="object"){Je.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){Je.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){Je.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const i of n){const r=this.decode(i,t[i.mementoOriginatorKey]),s=[];if(!i.guardMemento(r,s)){const o=s.length>0?`

${s.join(`

`)}

`:"";Je.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,r);return}i.restoreMemento(this.version,t.version,r)}}encode(t,n){try{return JSON.parse(JSON.stringify(n,xB.encodeTypes))}catch(i){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(t,n){if(n==null)return n;try{return JSON.parse(JSON.stringify(n),xB.decodeTypes)}catch(i){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}static encodeTypes(t,n){return Lw(this[t])?{__type:"date",value:this[t].toISOString()}:n}static decodeTypes(t,n){return rr(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):n}},MMe=class{constructor(){this.caretaker=new gK(LE),this.state=new Map}setState(e,t){aa(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;const i=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:i},e)}},EMe=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,gz=class{constructor(){this.cleanup=new sr,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},RMe=class pI{constructor(t,n,i){this.element=t,this.topTabGuard=n,this.bottomTabGuard=i,this.cleanup=new sr,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",r=>this.onBlur(r),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(t,n){this.cleanup.register(di(t,"focus",()=>this.onTab(t,n)))}setGuardIndices(t){const n=t;An(this.topTabGuard,"tabindex",n),An(this.bottomTabGuard,"tabindex",n)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:n,bottomTabGuard:i}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==n&&t!==i&&this.setGuardIndices(this.guardTabIndex)}onTab(t,n){if(this.guardTabIndex!==0){let i;t.tabIndex===0?(i=this.findExitTarget(!n),this.setGuardIndices(this.guardTabIndex)):i=this.findEnterTarget(n),i==null||i.focus()}}static queryFocusable(t,n){const i=si();return Array.from(t.querySelectorAll(n)).filter(r=>{if(r instanceof HTMLElement){const s=i.getComputedStyle(r);return s.display!=="none"&&s.visibility!=="none"}return!1})}findEnterTarget(t){const n=pI.queryFocusable(this.element,'[tabindex="0"]'),i=t?n.length-1:0;return n[i]}findExitTarget(t){const n=pI.queryFocusable(Od(),"[tabindex]").filter(s=>s.tabIndex>0).sort((s,o)=>s.tabIndex-o.tabIndex),{before:i,after:r}=pI.findBeforeAndAfter(n,this.guardTabIndex);return t?i:r}static findBeforeAndAfter(t,n){let i=0,r=t.length-1,s,o;for(;i<=r;){const a=Math.floor((i+r)/2),l=t[a].tabIndex;if(l===n){s=t[a-1]||void 0,o=t[a+1]||void 0;break}else l<n?(s=t[a],i=a+1):(o=t[a],r=a-1)}return{before:s,after:o}}};function UL(e,t,n=["Escape"]){return di(e,"keydown",i=>{WL(i,...n)&&t(i)})}function mz(e,t){const n=di(si(),"mousedown",i=>{[0,2].includes(i.button)&&!mK(e,i)&&(t(),n())});return n}function vz(e,t){const n=di(si(),"touchstart",i=>{Array.from(i.targetTouches).some(s=>!mK(e,s))&&(t(),n())});return n}function mK(e,t){return t.target instanceof Element&&t.target.shadowRoot!=null?!0:t.target instanceof Node&&e.contains(t.target)}function yz(e,t,n){const i=r=>{for(const s of t)An(s,"data-focus-visible-override",r)};return i(n),di(e,"keydown",()=>i(!0),{once:!0})}function NR(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function WL(e,...t){return NR(e)&&t.some(n=>e.key===n)}function E5(e,t,n){return di(e,"keydown",i=>{WL(i,n)&&t.focus()})}var kb={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function vK(e){const{orientation:t,buttons:n,wrapAround:i=!1,onEscape:r,onFocus:s,onBlur:o}=e,{nextKey:a,prevKey:l}=kb[t],c=p=>{p.target&&"tabIndex"in p.target&&(n.forEach(m=>m.tabIndex=-1),p.target.tabIndex=0)},[u,d]=i?[n.length,n.length]:[0,1/0],h=new sr;for(let p=0;p<n.length;p++){const m=n[(u+p-1)%d],v=n[p],y=n[(u+p+1)%d];h.register(di(v,"focus",c),s&&di(v,"focus",s),o&&di(v,"blur",o),r&&UL(v,r),m&&E5(v,m,l),y&&E5(v,y,a),di(v,"keydown",C=>{WL(C,a,l)&&C.preventDefault()})),v.tabIndex=p===0?0:-1}return h}var AMe=class{constructor(e,t,n){this.lastFocus=t,this.closeCallback=n,this.cleanup=new sr,this.cleanup.register(mz(e,()=>this.close(!0)),vz(e,()=>this.close(!0)))}close(e){this.cleanup.flush(),this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.cleanup.flush(),An(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function yK(e){var p;const{sourceEvent:t,orientation:n,menu:i,buttons:r,closeCallback:s,overrideFocusVisible:o}=e,{nextKey:a,prevKey:l}=kb[n],c=$L(t);An(c,"aria-expanded",!0);const u=new AMe(i,c,s),d=()=>u.close(),{cleanup:h}=u;return i.role="menu",i.ariaOrientation=n,h.merge(vK({orientation:n,buttons:r,onEscape:d,wrapAround:!0})),i.tabIndex=-1,h.register(UL(i,d),di(i,"keydown",m=>{var v;m.target===i&&(m.key===a||m.key===l)&&(m.preventDefault(),(v=r[0])==null||v.focus())})),(p=r[0])==null||p.focus({preventScroll:!0}),o!==void 0&&h.register(yz(i,r,o)),u}function TMe(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function jL(e){return"button"in e?e.button===0:NR(e)&&(e.code==="Space"||e.key==="Enter")}function $L(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function CK(e){return di(e,"keydown",t=>{if(t.defaultPrevented)return;Lb(t.target,"data-preventdefault",!0)&&WL(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()})}var DMe=class{constructor(e){this.callback=e,this.devicePixelRatio=si("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=si("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=si("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},bK=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([n,i])=>this.observe(n,i)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(n=>{for(const{target:i,contentRect:{width:r,height:s}}of n){const o=this.elements.get(i);this.checkSize(o,i,r,s)}}));let e;this.pixelRatioObserver=new DMe(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Od("readyState")==="complete",this.documentReady?this.observeWindow():(t=si())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,n;(e=si())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(n=this.pixelRatioObserver)==null||n.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[n,i]of this.elements)if(i.size!=null&&i.size.pixelRatio!==e){const{width:r,height:s}=i.size;i.size={width:r,height:s,pixelRatio:e},i.cb(i.size,n)}}checkSize(e,t,n,i){var r,s,o;if(e&&(n!==((r=e.size)==null?void 0:r.width)||i!==((s=e.size)==null?void 0:s.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:n,height:i,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var i;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(i=this.resizeObserver)==null||i.observe(e);const n={cb:t};this.elements.set(e,n)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},uw=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},IMe='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',NMe=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],LMe=new Set(["styles","canvas-container","canvas","tooltip-container"]),R5={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},kMe=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function OMe(e,t){if(typeof IntersectionObserver>"u")return;const n=new IntersectionObserver(i=>{for(const r of i)r.target===e&&t(r.intersectionRatio)},{root:e});return n.observe(e),n}var wK={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return wK}};function A5(e,t){const n=an("div");return n.className="ag-charts-tab-guard",e.insertAdjacentElement(t,n),n}var Cz=class Av extends gz{constructor(t,n,i,r,s="normal"){super(),this.eventsHub=t,this.chart=n,this.styleContainer=r,this.mode=s,this.anchorName=`--${cu(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new bK,this.cursorState=new uw("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let o=!1;if(this.observer=OMe(this.element,a=>{a===0&&!o&&this.eventsHub.emit("dom:hidden",null),o=a===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",EMe),this.setContainer(i),this.cleanup.register(CK(this.element)),this.mode==="normal"){const a=this.rootElements["canvas-center"].element;if(a==null)throw new Error("Error initializing tab guards");const l=A5(a,"beforebegin"),c=A5(a,"afterend");this.tabGuards=new RMe(a,l,c)}}initDOM(){if(this.mode==="normal"){const i=an("div");return i.innerHTML=IMe,i.firstChild}const t=an("div");t.role="presentation",t.dataset.agCharts="",t.classList.add("ag-charts-wrapper");const n=an("div");return t.appendChild(n),n.role="presentation",n.classList.add("ag-charts-series-area"),t}initRootElements(){const{mode:t,element:n}=this,i={};for(const r of NMe){const s=`ag-charts-${r}`;let o;if(t==="normal"?o=n.classList.contains(s)?n:n.getElementsByClassName(s)[0]:LMe.has(r)?o=n:o=n.getElementsByClassName(s)[0]??an("div"),o==null)throw new Error(`AG Charts - unable to find DOM element ${s}`);i[r]={element:o,children:new Map,listeners:[]}}return i}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(n=>{n.children.forEach(i=>i.remove()),n.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(Av.batchedUpdateContainer.length===0&&si().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),Av.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of Av.batchedUpdateContainer)t.destroyed||t.updateContainer();Av.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,n=300,i,r){const{style:s}=this.element;s.width=`${i??t}px`,s.height=`${r??n}px`,this.minWidth=i??t,this.minHeight=r??n,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const n of this.rootElements.styles.children.keys())this.removeChild("styles",n);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=t.isConnected;for(const[n,i]of this.styles)this.addStyles(n,i);t.appendChild(this.element),this.sizeMonitor.observe(t,n=>{this.containerSize=n,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(t){const n="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(n)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}setThemeParameters(t){for(const[n,i]of Xc(t)){let r=`${i}`;n.endsWith("Size")||n.endsWith("Radius")?r=`${i}px`:n.endsWith("Border")&&typeof i=="boolean"&&(r=i?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${bSe(n)}`,r)}}updateCanvasLabel(t){An(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,n){return["focus","blur","keydown","keyup"].includes(n)?this.rootElements["series-area"].element:t}addEventListener(t,n,i){const r=this.getEventElement(this.element,t);return di(r,t,n,i)}removeEventListener(t,n,i){this.getEventElement(this.element,t).removeEventListener(t,n,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var r;const t=si(),n=new ut(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect();return((r=n.intersection(i))==null?void 0:r.toDOMRect())??wK}getRawOverlayClientRect(){var s,o,a;let t=this.element;const n=(s=this.element.getRootNode())==null?void 0:s.fullscreenElement;for(;t!=null;){let l;if(n!=null&&t===n)l=!0;else{const c=(o=t.computedStyleMap)==null?void 0:o.call(t),u=(a=c==null?void 0:c.get("overflow-y"))==null?void 0:a.toString();l=u==="auto"||u==="scroll"}if(l)return ut.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return ut.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:i,innerHeight:r}=si();return new ut(0,0,i,r)}getShadowDocumentRoot(t=this.container){var i;const n=((i=t==null?void 0:t.ownerDocument)==null?void 0:i.body)??Od("body");for(;t!=null;){if(t===n)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:n}=this.rootElements[t],i=[];for(const r of n.values())i.push(ut.fromDOMRect(r.getBoundingClientRect()));return ut.merge(i)}isManagedChildDOMElement(t,n,i){const{children:r}=this.rootElements[n],s=r==null?void 0:r.get(i);return s!=null&&t.contains(s)}contains(t,n){return n==null?this.element.contains(t):this.rootElements[n].element.contains(t)}addStyles(t,n){const i="data-ag-charts";if(this.styles.set(t,n),this.container==null)return;const r=a=>a.getAttribute(i)===t,s=a=>{const l=new Set(["TITLE","META"]);let c=!0,u;for(const h of a.children){if(c&&l.has(h.tagName)){u=h;continue}if(c=!1,r(h))return;h.hasAttribute(i)&&(u=h)}const d=an("style");return this.chart.styleNonce!=null&&(d.nonce=this.chart.styleNonce),u==null?a.prepend(d):a.insertBefore(d,u.nextSibling),d};let o;this.styleContainer?o=s(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",t):this.documentRoot==null&&!Av.headStyles.has(t)?(o=s(Od("head")),Av.headStyles.add(t)):this.documentRoot!=null&&(o=this.addChild("styles",t)),!(o==null||r(o))&&(o.setAttribute(i,t),o.innerHTML=n)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,n){this.cursorState.set(t,n),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,n,i,r){const{element:s,children:o,listeners:a}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(n))return o.get(n);const{childElementType:l="div"}=kMe.get(t)??{};if(i&&i.tagName.toLowerCase()!==l.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const c=i??an(l);for(const[u,d,h]of a)c.addEventListener(u,d,h);if(o.set(n,c),l==="style"&&this.chart.styleNonce!=null&&(c.nonce=this.chart.styleNonce),r){const u=s.querySelector(r.query);if(u==null)throw new Error(`AG Charts - addChild query failed ${r.query}`);u.insertAdjacentElement(r.where,c)}else s==null||s.appendChild(c);return c}removeChild(t,n){var r;const{children:i}=this.rootElements[t];i&&((r=i.get(n))==null||r.remove(),i.delete(n))}incrementDataCounter(t){const{dataset:n}=this.element;n[t]??(n[t]="0"),n[t]=String(Number(n[t])+1)}setDataBoolean(t,n){this.element.dataset[t]=String(n)}updateContainerClassName(){const{element:t,containerSize:n,minWidth:i,minHeight:r}=this;t.classList.toggle(R5.safeHorizontal,i>=((n==null?void 0:n.width)??1/0)),t.classList.toggle(R5.safeVertical,r>=((n==null?void 0:n.height)??1/0))}};Cz.batchedUpdateContainer=[];Cz.headStyles=new Set;var SK=Cz,PMe=class extends jd{constructor(){super(an("div")),this.textElement=Ar("text"),this.textElement.role="presentation",this.svgElement=Ar("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var i;this.textElement.textContent=e;const t=this.textElement,n=(i=t.getBBox)==null?void 0:i.call(t);n&&this.svgElement.setAttribute("viewBox",`${n.x} ${n.y} ${n.width} ${n.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},xK=class extends jd{constructor(e,t){super(e),An(this.elem,"role",t),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:n})=>{var i;jL(n)&&(n.preventDefault(),(i=this.htmlListener)==null||i.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:n}))})}destructor(){}setEnabled(e){An(this.elem,"aria-disabled",!e)}addListener(e,t){return super.addListener(e,(n,i)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(n,i)})}},LR=class extends xK{constructor(){super(an("button"))}},FMe=class extends jd{constructor(){super(an("div")),An(this.elem,"role","group")}destructor(){}},bz=class extends jd{constructor(e,t){super(an("div")),this.focusedChildIndex=0,this.onChildFocus=(n,i)=>{const r=this.children[this.focusedChildIndex];this.focusedChildIndex=i.index,r==null||r.setTabIndex(-1),i.setTabIndex(0)},this.onChildKeyDown=(n,i)=>{var l;const r=this.orientation,[s,o]=r==="both"?[kb.horizontal,kb.vertical]:[kb[r],void 0];let a=-1;if(NR(n.sourceEvent)){const c=n.sourceEvent.key;c===s.nextKey||c===(o==null?void 0:o.nextKey)?a=i.index+1:(c===s.prevKey||c===(o==null?void 0:o.prevKey))&&(a=i.index-1)}(l=this.children[a])==null||l.focus()},An(this.elem,"role",t),this.orientation=e}get orientation(){return Lb(this.elem,"aria-orientation")??"both"}set orientation(e){An(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}clear(){this.focusedChildIndex=0;for(const e of this.children)this.removeChildListeners(e),e.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown)}removeChildListeners(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}onChildAdded(e){this.addChildListeners(e),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){this.removeChildListeners(e);const{focusedChildIndex:t,children:n}=this,i=t===e.index;for(let r=0;r<n.length;r++){const s=n[r];s.index===t&&(this.focusedChildIndex=r),s.index=r}if(i){const r=n[t]??n[t-1];r?(this.focusedChildIndex=r.index,r.setTabIndex(0)):this.focusedChildIndex=0}}},_Me=class extends bz{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const n=an("div");An(n,"role","listitem"),gd(n,"position","absolute"),jd.setElementContainer(e,n),this.appendOrInsert(n,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},dw=class extends jd{constructor(e){super(e)}destructor(){}},BMe=new Intl.NumberFormat("en-US",{style:"percent"});function hw(e,t=2){return typeof e=="number"?EK(e,t):typeof e=="string"?e:String(e??"")}function MK(e){return BMe.format(e)}var T5=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function EK(e,t){let n=T5.get(t);return n||(n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),T5.set(t,n)),n.format(e)}var wz=class OM extends jd{constructor(){super(an("input")),this._step=OM.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var n;if(t!==((n=this._keyboardStep)==null?void 0:n.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const i=()=>this.getElement().step=t.attributeValue,r=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:i,onKeyUp:r,onBlur:r},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return Lb(this.elem,"aria-orientation")??"both"}set orientation(t){An(this.elem,"aria-orientation",t!=="both"?t:void 0),OM.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,n){const i=this.getValueRatio(),r=Gt(t,i,n);return r!==i&&this.setValueRatio(r),r}setValueRatio(t,n){const{divider:i}=this.step,r=Math.round(t*1e4)/i,{ariaValueText:s=MK(r/i)}=n??{},o=this.getElement();o.value=`${r}`,o.ariaValueText=s}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(t,n){n==="both"?t.removeListener("keydown",OM.onKeyDown):t.addListener("keydown",OM.onKeyDown)}static onKeyDown(t,n){let i=[];const{orientation:r}=n;r==="horizontal"?i=["ArrowUp","ArrowDown"]:r==="vertical"&&(i=["ArrowLeft","ArrowRight"]),i.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};wz.STEP_ONE={attributeValue:"1",divider:1};wz.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var Sz=wz,GMe=class extends LR{constructor(){super(),An(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){An(this.elem,"aria-checked",e)}},YL=class extends bz{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function jC(e,t){var n;return((n=t.params)==null?void 0:n.type)===e}function zMe(e){if(e==="button")return new LR;if(e==="slider")return new Sz;if(e==="toolbar")return new YL;if(e==="group")return new FMe;if(e==="list")return new _Me;if(e==="region")return new dw(an("div"));if(e==="text")return new PMe;if(e==="listswitch")return new GMe;throw Error("AG Charts - error allocating meta")}function D5(e){const t={params:e,result:void 0};return t.result=zMe(t.params.type),t}var RK=class{constructor(e,t,n){this.eventsHub=e,this.localeManager=t,this.domManager=n,this.cleanup=new sr}destroy(){this.cleanup.flush()}addLocalisation(e){e(),this.cleanup.register(this.eventsHub.on("locale:change",e))}createProxyContainer(e){const t=D5(e),{params:n,result:i}=t,r=i.getElement();return this.domManager.addChild("canvas-proxy",n.domManagerId,r),r.classList.add(...n.classList,"ag-charts-proxy-container"),r.role=n.type,jC("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),i}createProxyElement(e){const t=D5(e);if(jC("button",t)){const{params:n,result:i}=t,r=i.getElement();if(this.initInteract(n,i),typeof n.textContent=="string")r.textContent=n.textContent;else{const{textContent:s}=n;this.addLocalisation(()=>{r.textContent=this.localeManager.t(s.id,s.params)})}this.setParent(t.params,t.result)}if(jC("slider",t)){const{params:n,result:i}=t,r=i.getElement();this.initInteract(n,i),r.type="range",r.role="presentation",r.style.margin="0px",this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),this.setParent(t.params,t.result)}if(jC("text",t)){const{params:n,result:i}=t;this.initElement(n,i),this.setParent(t.params,t.result)}if(jC("listswitch",t)){const{params:n,result:i}=t;this.initInteract(n,i),i.setTextContent(n.textContent),i.setChecked(n.ariaChecked),i.setAriaDescribedBy(n.ariaDescribedBy),this.setParent(t.params,t.result)}if(jC("region",t)){const{params:n,result:i}=t,r=i.getElement();this.initInteract(n,i),r.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const n=t.getElement();return gd(n,"cursor",e.cursor),n.classList.toggle("ag-charts-proxy-elem",!0),n}initInteract(e,t){const{tabIndex:n,domIndex:i}=e,r=this.initElement(e,t);n!==void 0&&(r.tabIndex=n),i!==void 0&&(t.domIndex=i)}setParent(e,t){var n;if("parent"in e)(n=e.parent)==null||n.addChild(t);else{const i={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),i),t.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",e.domManagerId)}}}},HMe={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},VMe=/\$\{(\w+)}(?:\[(\w+)])?/gi,VF={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},UMe=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(VMe,(n,i,r)=>{const s=t[i],o=r!=null?VF[r]:null;return r!=null&&o==null&&Je.warnOnce(`Format style [${r}] is not supported`),o!=null?o.format(s):typeof s=="number"?VF.number.format(s):s instanceof Date?VF.datetime.format(s):String(s)}),WMe=class{constructor(e){this.eventsHub=e,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.eventsHub.emit("locale:change",null))}t(e,t={}){const{localeText:n=HMe,getLocaleText:i}=this,r=n[e];return(i==null?void 0:i({key:e,defaultValue:r,variables:t}))??UMe({defaultValue:r,variables:t})??e}},xz=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:n,canvasElement:i,willReadFrequently:r=!1}=e;this.pixelRatio=e.pixelRatio??si("devicePixelRatio")??1,this.element=i??an("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(t??0,n??0,this.pixelRatio),NY(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,n){if(!(e>0&&t>0))return;const{element:i,context:r}=this;i.width=Math.round(e*n),i.height=Math.round(t*n),r.setTransform(n,0,0,n,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=n}clear(){IY(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){var e,t;this.context.reset(),(t=(e=this.context).verifyDepthZero)==null||t.call(e)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};P([Pg(e=>e.onEnabledChange())],xz.prototype,"enabled",2);var jMe=class extends Og{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(e,t){const n=this.cache.get(e);if(n!=null&&n.image)return n.image;if(n!=null&&t){n.nodes.add(t);return}if(!t)return;const i={image:void 0,nodes:new Set([t])},r=new Image;return this.imageLoadingCount++,r.onload=()=>{i.image=r;for(const s of i.nodes)s.markDirty();i.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:e})},r.onerror=()=>{this.imageLoadingCount--,i.nodes.clear(),this.emit("image-error",{uri:e})},r.src=e,this.cache.set(e,i),i.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(e=>{e.nodes.clear()}),this.cache.clear()}},$Me=class{constructor(e){this.canvas=e,this.debug=on.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,n){this.canvas.resize(e,t,n),this.layersMap.forEach(({canvas:i})=>i.resize(e,t,n))}addLayer(e){const{width:t,height:n,pixelRatio:i}=this.canvas,{name:r}=e,s=new Q4({width:t,height:n,pixelRatio:i});return this.layersMap.set(s,{id:this.nextLayerId++,name:r,canvas:s}),this.debug("Scene.addLayer() - layers",this.layersMap),s}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}},KL=class extends Og{constructor(e){super(),this.debug=on.create(!0,"scene"),this.id=cu(this),this.imageLoader=new jMe,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new sr,this.updateDebugFlags(),this.canvas=new xz(e),this.layersManager=new $Me(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:t})=>{Je.warnOnce(`Unable to load image ${t}`)}))}waitingForUpdate(){var e;return((e=this.imageLoader)==null?void 0:e.waitingToLoad())??!1}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var n;const{element:t}=this.canvas;return(n=t.parentElement)==null||n.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t.setScene(),this.root=e,e&&(e.visible=!0,e.setScene(this)),this)}updateDebugFlags(){on.inDevelopmentMode(()=>cf._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){hSe(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,n){return e=Math.round(e),t=Math.round(t),n??(n=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||n!==this.pixelRatio)?(this.pendingSize=[e,t,n],this.isDirty=!0,!0):!1}render(e){var y;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:n,seriesRect:i}=e??{},{canvas:r,canvas:{context:s}={},root:o,pendingSize:a,width:l,height:c,pixelRatio:u}=this;if(!s)return;const d=performance.now();let h=!1;if(a&&(h=!0,this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}let p;if(o instanceof nn&&(p=o.dirty),o!=null&&p===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:hI(o,"console")}),w5(this.layersManager,t,s,void 0,n,i);return}const m={ctx:s,width:l,height:c,devicePixelRatio:u,debugNodes:{}};on.check("scene:stats:verbose")&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),pMe(m);let v=!1;if((p!==!1||h)&&(v=!0,r.clear()),o&&on.check("scene:dirtyTree")){const{dirtyTree:C,paths:S}=lK(o);on.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:C,paths:S})}if(o&&v){if(o.visible&&o.preRender(m),this.debug.check()){const C=hI(o,"console");this.debug("Scene.render() - before",{canvasCleared:v,tree:C})}if(o.visible)try{s.save(),o.render(m),s.restore()}catch(C){throw this.canvas.reset(),C}}t["✍️"]=performance.now()-d,(y=s.verifyDepthZero)==null||y.call(s),this.isDirty=!1,w5(this.layersManager,t,s,m.stats,n,i),gMe(s,m.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:hI(o,"console"),canvasCleared:v})}toSVG(){const{root:e,width:t,height:n}=this;if(e!=null)return cf.toSVG(e,t,n)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};KL.className="Scene";var YMe=class{constructor(e,t,n){this.eventsHub=e,this.annotationRoot=t,this.fireChartEvent=n,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||Tn(e)}restoreMemento(e,t,n){this.annotations=this.cleanData(n??[]).map(i=>{const r=this.getAnnotationTypeStyles(i.type);return Gn(i,r)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:tr([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},AK=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",e[e.AXIS_GRID=2]="AXIS_GRID",e[e.AXIS=3]="AXIS",e[e.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",e[e.ZOOM_SELECTION=5]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=7]="SERIES_LAYER",e[e.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=12]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=14]="STATUS_BAR",e[e.SERIES_LABEL=15]="SERIES_LABEL",e[e.LEGEND=16]="LEGEND",e[e.NAVIGATOR=17]="NAVIGATOR",e[e.FOREGROUND=18]="FOREGROUND",e))(AK||{}),KMe=class{constructor(e,t){this.eventsHub=e,this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new nn({name:"Axes-Grids",zIndex:2}),this.axisGroup=new nn({name:"Axes",zIndex:3}),this.axisLabelGroup=new nn({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new nn({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new nn({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new nn({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var i;const n={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const r of e)t.includes(r)||(r.detachAxis(n),r.destroy());for(const r of t)e!=null&&e.includes(r)||r.attachAxis(n);this.axes.clear();for(const r of t){const s=r.createAxisContext();this.axes.has(s.direction)?(i=this.axes.get(s.direction))==null||i.push(s):this.axes.set(s.direction,[s])}this.eventsHub.emit("axis:change",null)}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},nE=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",e[e.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=5]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=7]="SCENE_RENDER",e[e.NONE=8]="NONE",e))(nE||{}),qL=class{constructor(e,t,n){this.eventsHub=e,this.caller=t,this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=on.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(e){var n,i,r,s;const{pendingData:t}=this;if(t!=null&&((n=t.params.windowStart)==null?void 0:n.valueOf())===((i=e.windowStart)==null?void 0:i.valueOf())&&((r=t.params.windowEnd)==null?void 0:r.valueOf())===((s=e.windowEnd)==null?void 0:s.valueOf())){const o=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(o,t.data);return}this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}async getData(){const{latestRequest:e}=this;if(!e)return;const{params:t,fetchRequest:n}=e,i=await n;return{params:t,data:i}}restoreData(e){this.pendingData=e}createThrottledFetch(e){return J3(t=>this.fetch(t).catch(n=>Je.error("callback failed",n)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return J3((t,n)=>this.dispatch(t,n),e,{leading:!0,trailing:!0})}dispatch(e,t){this.debug(`DataService - dispatching 'data-load' | ${e}`),this.eventsHub.emit("data:load",{data:t})}async fetch(e){"context"in this.caller&&(e.context=this.caller.context);const t=Promise.resolve().then(async()=>{if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const n=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`);let r;try{r=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-n}ms | ${i}`)}catch(o){this.debug(`DataService - request failed | ${i}`),Je.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.indexOf(t);return s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${i}`),r):(this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(i,r):this.eventsHub.emit("data:error",null),r)});this.latestRequest={params:e,fetchRequest:t},this.freshRequests.push(t),await t}};P([Po({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],qL.prototype,"dispatchThrottle",2);P([Po({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],qL.prototype,"requestThrottle",2);var qMe=class{constructor(e,t){this.domManager=e,this.updateService=t,this.observers=[]}updateFonts(e){!e||e.size===0||(this.loadFonts(e),e.forEach(t=>{this.observeFontStatus(t)}))}destroy(){for(const e of this.observers)e.disconnect();this.observers=[]}loadFonts(e){const t=Array.from(e).map(s=>encodeURIComponent(s)),n=":wght@100;200;300;400;500;600;700;800;900",i=`${n}&family=`,r=`@import url('https://fonts.googleapis.com/css2?family=${t.join(i)}${n}&display=swap');
`;this.domManager.addStyles(`google-font-${t.join("-")}`,r)}observeFontStatus(e){const t=window.document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0"),t.style.setProperty("margin","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("visibility","hidden"),t.style.setProperty("width","auto"),t.style.setProperty("max-width","none"),t.style.setProperty("font-synthesis","none"),t.style.setProperty("font-family",e),t.style.setProperty("font-size","16px"),t.style.setProperty("white-space","nowrap"),t.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(e)}`,t);const n=new ResizeObserver(i=>{var s,o;const r=(o=(s=i==null?void 0:i.at(0))==null?void 0:s.contentBoxSize.at(0))==null?void 0:o.inlineSize;r!=null&&r>0&&(Fg.clear(),this.updateService.update(4))});n.observe(t),this.observers.push(n)}},TK=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[t,n]of this.registeredListeners.entries()){const i=n.findIndex(r=>r.symbol===e);if(i>=0){n.splice(i,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const n of this.getListenersByType(e))try{n.handler(...t)}catch(i){Je.errorOnce(i)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},yM=new WeakMap;function kE(e,t){var i,r,s;const n=JSON.stringify(e,null,0);return yM.has(t)||yM.set(t,new Map),(i=yM.get(t))!=null&&i.has(n)||(r=yM.get(t))==null||r.set(n,t(e)),(s=yM.get(t))==null?void 0:s.get(n)}var UF=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function kR(e,t){let n=new UF;const i=(...r)=>{let s=n;for(const o of r){const a=typeof o=="object"||typeof o=="symbol"?s.weak:s.strong;let l=a.get(o);l==null&&(l=new UF,a.set(o,l)),s=l}if(s.set)return t==null||t("hit",e,r),s.value;{const o=e(...r);return s.set=!0,s.value=o,t==null||t("miss",e,r),o}};return i.reset=()=>{n=new UF},i}function Xs(e,t){const n=new Map,i=(...o)=>o.map(a=>typeof a=="object"||typeof a=="symbol"?a:(n.has(a)||n.set(a,{v:a}),n.get(a))),r={},s=new WeakMap;return(...o)=>{const a=o.length===0?[r]:i(...o);let l=s;for(const d of a.slice(0,-1))l.has(d)||l.set(d,new WeakMap),l=l.get(d);const c=a.at(-1);let u=l.get(c);return u?t==null||t("hit",e,o):(u=e(...o),l.set(c,u),t==null||t("miss",e,o)),u}}var RD={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Mz(e,t=new Date(e.getFullYear(),0,1)){const n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+n*6e4,r=36e5*24;return Math.floor(i/r)}function I5(e,t){const i=new Date(e.getFullYear(),0,1).getDay(),r=(t-i+7)%7,s=new Date(e.getFullYear(),0,r+1);return s<=e?Math.floor(Mz(e,s)/7)+1:0}var ZMe=0,DK=1,N5=4;function IK(e,t=e.getFullYear()){const i=new Date(t,0,1).getDay(),r=(N5-i+7)%7,s=new Date(t,0,r-(N5-DK)+1);return s<=e?Math.floor(Mz(e,s)/7)+1:IK(e,t-1)}function XMe(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${qs(Math.floor(n/60),2,"0")}${qs(Math.floor(n%60),2,"0")}`}var QMe={a:e=>RD.shortDays[e.getDay()],A:e=>RD.days[e.getDay()],b:e=>RD.shortMonths[e.getMonth()],B:e=>RD.months[e.getMonth()],c:"%x, %X",d:(e,t)=>qs(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>qs(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>qs(e.getHours(),2,t??"0"),I:(e,t)=>{const n=e.getHours()%12;return n===0?"12":qs(n,2,t??"0")},j:(e,t)=>qs(Mz(e)+1,3,t??"0"),m:(e,t)=>qs(e.getMonth()+1,2,t??"0"),M:(e,t)=>qs(e.getMinutes(),2,t??"0"),L:(e,t)=>qs(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>qs(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>qs(I5(e,ZMe),2,t??"0"),V:(e,t)=>qs(IK(e),2,t??"0"),w:(e,t)=>qs(e.getDay(),2,t??"0"),W:(e,t)=>qs(I5(e,DK),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>qs(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>qs(e.getFullYear(),4,t??"0"),Z:e=>XMe(e),"%":()=>"%"},JMe={_:" ",0:"0","-":""};function qs(e,t,n){const i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function xy(e){const t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){const a=n>0?e.substring(0,n):e;t.push(a)}if(n<0)break;const i=e[n+1],r=JMe[i];r!=null&&n++;const s=e[n+1],o=QMe[s];if(typeof o=="function")t.push([o,r]);else if(typeof o=="string"){const a=xy(o);t.push([a,r])}else t.push(`${r??""}${s}`);e=e.substring(n+2)}return n=>{const i=typeof n=="number"?new Date(n):n;return t.map(r=>typeof r=="string"?r:r[0](i,r[1])).join("")}}var nd={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},eEe={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},So={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},tEe=/%[-_0]?L/,nEe=/%[-_0]?S/,iEe=/%[-_0]?M/,rEe=/%[-_0]?[HI]/,sEe=/^%[-_0]?[de]$/,oEe=/^%[-_0]?[Bbm]$/,aEe=/^%[-_0]?[Yy]$/;function NK(e,t,n){if(typeof e=="string")return e;e??(e=nd);const{millisecond:i=nd.millisecond,second:r=nd.second,minute:s=nd.minute,hour:o=nd.hour,day:a=nd.day,month:l=nd.month,year:c=nd.year}=e,u=So[t],d=eEe[t],h=n?So[n]:-1;if(h<So.year&&u>=So.year&&!aEe.test(c)||h<So.month&&u>=So.month&&!oEe.test(l)||h<So.day&&u>=So.day&&!sEe.test(a))return d;let p;switch(t){case"year":return c;case"month":return h<So.year?`${l} ${c}`:l;case"day":return h<So.year?`${l} ${a} ${c}`:`${l} ${a}`;case"hour":p=o;break;case"minute":p=s;break;case"second":p=r;break;case"millisecond":p=i;break;default:return d}if(u>=So.hour&&!rEe.test(p)||u>=So.minute&&!iEe.test(p)||u>=So.second&&!nEe.test(p)||u>=So.millisecond&&!tEe.test(p))return d;let m;return h<So.year?m=`${l} ${a} ${c}`:h<So.month&&(m=`${l} ${a}`),m?`${p} ${m}`:p}var fw=class gI extends TK{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=kR((t,n,i,r,s)=>{const o=gI.mergeSpecifiers(t,n)??nd;return gI.getFormatter("date",o,i,r,{truncateDate:s})}),this.formatter=void 0}static mergeSpecifiers(...t){let n;for(const i of t)typeof i=="string"?n=i:zn(i)&&(n=zn(n)?{...n,...i}:i);return n}static getFormatter(t,n,i,r="long",{truncateDate:s}={}){if(zn(n)){if(t!=="date"){Je.warn("Date formatter configuration is not supported for non-date types.");return}i??(i="millisecond");const o=r==="component"?(n==null?void 0:n[i])??nd[i]:NK(n,i,s);return xy(o)}switch(t){case"number":{const o=X4(n);return o==null?void 0:EY(o)}case"date":return xy(n);case"category":return o=>n.replace("%s",String(o))}}setFormatter(t){this.formatter!==t&&(this.formatter=t,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(t,n,{specifier:i,truncateDate:r}={}){if(n.value==null)return;const{formatter:s}=this;if(s==null)return;if(typeof s=="function"){const c=t(s,n);return c!=null?String(c):void 0}const o=s[n.property];if(o==null)return;if(typeof o=="function"){const c=t(o,n);return c!=null?String(c):void 0}else if(n.type==="date"){const{unit:c,style:u}=n,d=this.dateFormatter(o,i,c,u,r);return d==null?void 0:d(n.value)}const a=i??o;if(typeof a!="string")return;let l=this.formats.get(a);return l==null&&(l=gI.getFormatter(n.type,a),this.formats.set(a,l)),l==null?void 0:l(n.value,n.type==="number"?n.fractionDigits:void 0)}defaultFormat(t,{specifier:n,truncateDate:i}={}){const{formatter:r}=this,s=typeof r=="function"||r==null?void 0:r[t.property];switch(t.type){case"date":{const{unit:o,style:a}=t,l=s!=null&&typeof s!="function"?s:void 0,c=this.dateFormatter(l,n,o,a,i);return(c==null?void 0:c(t.value))??String(t.value)}case"number":return hw(t.value,t.fractionDigits);case"category":return Array.isArray(t.value)?t.value.join(" - "):typeof t.value=="string"?t.value:typeof t.value=="number"?hw(t.value):String(t.value)}}};function lEe(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function LK(e,t){if(typeof e=="string")try{e=Ci.fromString(e)}catch{e=Ci.fromArray([0,0,0])}if(typeof t=="string")try{t=Ci.fromString(t)}catch{t=Ci.fromArray([0,0,0])}return n=>Ci.mix(e,t,n).toRgbaString()}var MB={};Wd(MB,{easeIn:()=>cEe,easeInOut:()=>uEe,easeInOutQuad:()=>fEe,easeInQuad:()=>dEe,easeOut:()=>OE,easeOutQuad:()=>hEe,inverseEaseOut:()=>OK,linear:()=>kK});var kK=e=>e,cEe=e=>1-Math.cos(e*Math.PI/2),OE=e=>Math.sin(e*Math.PI/2),uEe=e=>-(Math.cos(e*Math.PI)-1)/2,dEe=e=>e*e,hEe=e=>1-(1-e)**2,fEe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,OK=e=>2*Math.asin(e)/Math.PI,RN=.2,ib=["initial","remove","update","add","trailing","end","none"],PE={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:RN,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+RN,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},PK=(e=>(e.Loop="loop",e.Reverse="reverse",e))(PK||{});function pEe(e){return e.every(t=>t instanceof cf)}function ZL(e){return pEe(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function EB(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,i)=>EB(n,t[i])):wN(e)&&wN(t)?e.equals(t):zn(e)&&zn(t)?ez(e,t,EB):!1}var FK=class{constructor(t){var i,r,s;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??kK,this.phase=t.phase;const n=t.duration??PE[this.phase].animationDuration;this.duration=n*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((i=this.onUpdate)==null||i.call(this,t.to,!1,this),(r=this.onStop)==null||r.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,n){return EB(t.from,t.to)?0:n}play(t=!1){var n,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(n=this.onPlay)==null||n.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var s,o;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const n=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(s=this.onUpdate)==null||s.call(this,i,!1,this);const r=this.delay+this.duration;return this.elapsed>=r?(this.stop(),this.isComplete=!0,(o=this.onComplete)==null||o.call(this,this),t-(r-n)):0}get delta(){return this.ease(Gt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,n){if(typeof n!="object"||wN(n))return this.interpolateValue(t,n);const i=[];for(const r of Object.keys(n)){const s=this.interpolateValue(t[r],n[r]);s!=null&&i.push([r,s])}return r=>{const s={};for(const[o,a]of i)s[o]=a(r);return s}}interpolateValue(t,n){if(!(t==null||n==null)){if(wN(t))return i=>t[PL](n,i);try{switch(typeof t){case"number":return lEe(t,n);case"string":return LK(t,n);case"boolean":if(t===n)return()=>t;break;case"object":return()=>t;default:throw new Error(`Unable to interpolate values: ${t}, ${n}`)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${n}`)}}},L5=class{constructor(e){this.maxAnimationTime=e,this.debug=on.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(ib.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(ib[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var n;if(e.isComplete)return;if(ib.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(n=this.phases.get(e.phase))==null||n.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),n=t==null?void 0:t.indexOf(e);n!=null&&n>=0&&(t==null||t.splice(n,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const n=()=>{const c=ib[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:PE[c]}};let{phase:i,phaseControllers:r,phaseMeta:s}=n();const o=()=>ib[this.currentPhase]==null,a=()=>{for({phase:i,phaseControllers:r,phaseMeta:s}=n();!o()&&r.length===0;)this.currentPhase++,{phase:i,phaseControllers:r,phaseMeta:s}=n(),this.debug(`AnimationBatch - phase changing to ${i}`,{unusedTime:t},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${i} with ${r==null?void 0:r.length} of ${l}`);do{const c=t,u=s.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let d=0;for(const h of r)u?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(d++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${r.length} controllers; ${d} completed`,r),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&PE[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Je.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(e){if(!this.isActive())return 0;let t=0;for(const[n,i]of this.phases)i.length!==0&&(e!=null&&e!==n||(t+=Math.max(...i.map(r=>r.isComplete?0:r.delay+r.duration-(r.elapsed??0)))));return t}destroy(){this.stop(),this.controllers.clear()}},_K=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(_K||{}),BK=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function k5(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var GK=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new L5(this.defaultDuration*1.5),this.debug=on.create(!0,"animation"),this.events=new Og,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const i=this.isSkipped()||e.phase==="none";i&&this.debug("AnimationManager - skipping animation");const{delay:r,duration:s}=e;if(!k5(r))throw new Error(`Animation delay of ${r} is unsupported (${n})`);if(!k5(s))throw new Error(`Animation duration of ${s} is unsupported (${n})`);const o=new FK({...e,id:n,skip:i,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(e){return this.batch.getRemainingTime(e)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=si().requestAnimationFrame(t=>{e(t).catch(n=>Je.error(n))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async n=>{await this.debug.group("AnimationManager.onAnimationFrame()",async()=>{const i=()=>{const r=n-(e??n);e=n,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(2);try{this.batch.progress(r)}catch(s){this.failsafeOnError(s)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:r})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(i):await this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))})};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Je.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new L5(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},gEe=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},mEe=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},zK=class{constructor(){this.items=new gEe,this.lists=new mEe}},HK=class{constructor(e){this.eventsHub=e,this.builtins=new zK,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(e,t){return t.showOn==e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,i){const{widgetEvent:r}=t;if(r.sourceEvent.defaultPrevented)return;const s=(i==null?void 0:i.x)??t.canvasX,o=(i==null?void 0:i.y)??t.canvasY,a={showOn:e,x:s,y:o,context:n,widgetEvent:r};this.eventsHub.emit("context-menu:setup",a),this.eventsHub.emit("context-menu:complete",a)}isVisible(e){return!this.hiddenActions.has(e)}setVisible(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}},VK=class{constructor(e){this.eventsHub=e,this.highlightStates=new uw}updateHighlight(e,t){const n=this.getActiveHighlight();this.highlightStates.set(e,t);const i=this.getActiveHighlight();this.isEqual(i,n)||this.eventsHub.emit("highlight:change",{callerId:e,currentHighlight:i,previousHighlight:n})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function O5(e,t){if(e==null||t.length===0)return[!1,!1];const n=e.valueOf(),i=t[0],r=t[t.length-1];if(typeof i=="string")return[n===i,n===r];let s=i.valueOf(),o=r.valueOf();return s>o&&([s,o]=[o,s]),[n===s,n===o]}function hg(e,t,n,i,r,s){const[o,a]=O5(t,s),[l,c]=O5(e,r);return{xKey:n,yKey:i,xValue:e,yValue:t,first:l,last:c,min:o,max:a}}function UK(e,t,[n,i],r){let s=TE(0,t-1,a=>{var u;const l=e===1?a:t-a,c=((u=r(l))==null?void 0:u[1])??NaN;return!Number.isFinite(c)||c>n})??0,o=Ov(0,t-1,a=>{var u;const l=e===1?a:t-a,c=((u=r(l))==null?void 0:u[0])??NaN;return!Number.isFinite(c)||c<i})??t-1;return e===-1&&([s,o]=[t-o,t-s]),s=Math.max(s,0),o=Math.min(o+1,t),[s,o]}function Ez(e,t,n){var r,s;if(n){const{x:o,y:a,width:l,height:c}=n;return{canvasX:o+l/2,canvasY:a+c/2}}const i=((r=t.yBar)==null?void 0:r.upperPoint)??t.midPoint??((s=e.datumMidPoint)==null?void 0:s.call(e,t));if(i){const{x:o,y:a}=mr.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(o),canvasY:Math.round(a)}}}function WK(e,t,n,i,r){let s=-1,o=0,a=0,l=!1;for(;o<i&&s<=t-e;){s+=1;const c=n+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),c<e||c>t){l=!0;continue}r(c)&&(o+=1)}return o}var AN=class{constructor(e,t,n,i){this.domManager=n,this.tooltip=i,this.stateTracker=new uw,this.suppressState=new uw(!1),this.appliedState=null,this.cleanup=new sr,this.cleanup.register(i.setup(t,n),e.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(e,t,n,i){var r;n??(n=(r=this.stateTracker.get(e))==null?void 0:r.content),this.stateTracker.set(e,{meta:t,content:n,pagination:i}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){var r,s;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const n=this.domManager.getBoundingClientRect(),i=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(aa((r=this.appliedState)==null?void 0:r.content,t==null?void 0:t.content)&&aa((s=this.appliedState)==null?void 0:s.pagination,t==null?void 0:t.pagination)){const o=this.tooltip.isVisible();this.tooltip.show(i,n,t==null?void 0:t.meta,null,void 0,o)}else this.tooltip.show(i,n,t==null?void 0:t.meta,t==null?void 0:t.content,t==null?void 0:t.pagination);this.appliedState=t}static makeTooltipMeta(e,t,n,i){var p;const{canvasX:r,canvasY:s}=e,o=t.properties.tooltip,{placement:a,anchorTo:l,xOffset:c,yOffset:u}=o.position,d=Ez(t,n,i);return{canvasX:r,canvasY:s,nodeCanvasX:(d==null?void 0:d.canvasX)??r,nodeCanvasY:(d==null?void 0:d.canvasY)??s,enableInteraction:((p=o.interaction)==null?void 0:p.enabled)??!1,showArrow:o.showArrow,position:{placement:a,anchorTo:l,xOffset:c,yOffset:u}}}},P5=3,vEe=505,F5=30;function WF(e,t){const{device:n,offsetX:i,offsetY:r,clientX:s,clientY:o,currentX:a,currentY:l,sourceEvent:c}=t;return{type:e,device:n,offsetX:i,offsetY:r,clientX:s,clientY:o,currentX:a,currentY:l,sourceEvent:c}}function _5(e,t){const n=e*e+t*t,i=P5*P5;return n>=i}function yEe(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY,r=n*n+i*i,s=F5*F5;return r<s}var jK=class{constructor(e){this.cleanup=new sr,this.events=new Og,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=n}onTouchMove(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-n),this.touch.clientX=t,this.touch.clientY=n}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.events.emit("mousemove",e)}onDblClick(e){this.events.emit("dblclick",e)}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&_5(e.originDeltaX,e.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",{...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",e)}onDragEnd(e){if(this.isDragging){this.events.emit("drag-end",e),this.isDragging=!1;return}if(e.device==="mouse"){const t=WF("click",e);this.events.emit("click",t)}else if(e.sourceEvent.type==="touchend"){if(_5(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=WF("click",e);this.events.emit("click",t);const n=Date.now();if(this.lastClick!==void 0&&n-this.lastClick.time<=vEe&&yEe(this.lastClick,e)){const i=WF("dblclick",e);this.events.emit("dblclick",i),this.lastClick=void 0}else this.lastClick={time:n,clientX:e.clientX,clientY:e.clientY}}}},jF=class extends dw{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},CEe=class{constructor(e,t){this.seriesWidget=new jF(e.getParent("series-area")),this.chartWidget=new jF(e.getParent("canvas-proxy")),this.containerWidget=new jF(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),t.withDragInterpretation&&(this.seriesDragInterpreter=new jK(this.seriesWidget))}destroy(){var e;(e=this.seriesDragInterpreter)==null||e.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function FE(e,t){const[n,i]=ms(t);return Gt(n,e,i)}function ms(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const n of e)n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n);return t}function pw(e){const[t,n]=ms(e);return n-t}function bEe(e){return e=e|0,e<=0?1:e===1?2:1<<32-Math.clz32(e-1)}function RB(e){return e=e|0,e<=0?0:e===1?1:1<<31-Math.clz32(e)}var $K=class AB extends GL{constructor(t=[],n=[]){super(),this.domain=t,this.range=n,this.defaultTickCount=AB.defaultTickCount,this.defaultClamp=!1}static is(t){return t instanceof AB}normalizeDomains(...t){return Rz(...t)}calcBandwidth(t=1,n=1){const{domain:i}=this,r=this.getPixelRange();if(i.length===0)return r;let o=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1;if(n!==0){const a=Math.floor(r);o=Math.min(o,a)}return r/Math.max(1,o)}convert(t,n){const{domain:i}=this;if(!i||i.length<2||t==null)return NaN;const{range:r}=this,s=(n==null?void 0:n.clamp)??this.defaultClamp;let o=i[0].valueOf(),a=i[1].valueOf(),l=t.valueOf();if(this.transform&&(o=this.transform(o),a=this.transform(a),l=this.transform(l)),s){const[u,d]=ms([o,a]);if(l<u)return r[0];if(l>d)return r[1]}if(o===a)return(r[0]+r[1])/2;if(l===o)return r[0];if(l===a)return r[1];const c=r[0];return c+(l-o)/(a-o)*(r[1]-c)}invert(t,n){const{domain:i}=this;if(i.length<2)return;let r=i[0].valueOf(),s=i[1].valueOf();this.transform&&(r=this.transform(r),s=this.transform(s));const{range:o}=this,[a,l]=o;let c;return a===l?c=this.toDomain((r+s)/2):c=this.toDomain(r+(t-a)/(l-a)*(s-r)),this.transformInvert?this.transformInvert(c):c}getPixelRange(){const[t,n]=this.range;return Math.abs(n-t)}};$K.defaultTickCount=5;var wi=$K;function Rz(...e){let t,n=1/0,i,r=-1/0;for(const s of e)for(const o of s){const a=o.valueOf();a<n&&(n=a,t=o),a>r&&(r=a,i=o)}return t!=null&&i!=null?{domain:[t,i],animatable:!0}:{domain:[],animatable:!1}}var Az=class YK extends GL{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof YK}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Gt(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=Gt(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=Gt(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Je.warnOnce("Expected update to not invalidate scale"))}convert(t,n){this.refresh();const i=this.findIndex(t,n==null?void 0:n.alignment);return i==null||i<0||i>=this.bands.length?NaN:this.ordinalRange(i)}invertNearestIndex(t){this.refresh();const n=this.bands.length;if(n===0)return-1;let i=0,r=n-1,s=1/0,o=0;for(;i<=r;){const a=(r+i)/2|0,l=this.ordinalRange(a),c=Math.abs(l-t);if(c===0)return a;c<s&&(s=c,o=a),l<t?i=a+1:r=a-1}return o}update(){const[t,n]=this.range;let{_paddingInner:i}=this;const{_paddingOuter:r,round:s,bands:o}=this,a=o.length;if(a===0)return;const l=n-t;let c;a===1?(i=0,c=l*(1-r*2)):c=l/Math.max(1,a-i+r*2);const u=s?Math.floor(c):c;let d=t+(l-u*(a-i))/2,h=u*(1-i);s&&(d=Math.round(d),h=Math.round(h)),this._step=u,this._inset=d,this._bandwidth=h,this._rawBandwidth=c*(1-i)}ordinalRange(t){const{_inset:n,_step:i,range:r}=this,s=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return Gt(s,n+i*t,o)}};P([TR],Az.prototype,"range",2);P([TR],Az.prototype,"round",2);var Mf=Az,Qc=class KK extends Mf{static is(t){return t instanceof KK}toDomain(t){return new Date(t)}convert(t,n){t instanceof Date||(t=new Date(t));const{domain:i,bands:r}=this;if(i.length<=0)return NaN;const s=this.ordinalRange(0),o=this.ordinalRange(r.length-1);if(r.length===0)return s;if((n==null?void 0:n.clamp)===!0){const{range:S}=this;if(t<r[0])return S[0];if(t>r[r.length-1])return S[1]}const a=(n==null?void 0:n.alignment)??0,l=i[0].valueOf()>i[i.length-1].valueOf();if(a!==2){const S=super.convert(t,n);return l?o-(S-s):S}const c=t.valueOf();let u=this.findIndex(t)??0,d;l?(u=Math.min(Math.max(u,1),r.length-1),d=-1):(u=Math.min(Math.max(u,0),r.length-2),d=1);const h=r[u].valueOf(),p=r[u+d].valueOf(),m=this.ordinalRange(u),v=this.ordinalRange(u+d),C=(c-h)/(p-h)*(v-m)+m;return l?o-(C-s):C}invert(t,n=!1){this.refresh();const{domain:i,bands:r}=this;if(i.length<=0)return;const s=i[0].valueOf()>i[i.length-1].valueOf();let o;return n?o=this.invertNearestIndex(t-this.bandwidth/2):o=TE(0,r.length-1,l=>this.ordinalRange(l)>=t)??r.length-1,r[s?r.length-1-o:o]}findIndex(t,n=0){const{bands:i}=this,r=t.valueOf();return n===1?TE(0,i.length-1,s=>i[s].valueOf()>=r):Ov(0,i.length-1,s=>i[s].valueOf()<=r)}},_E={bottomCenter:EEe,center:MEe,clone:DEe,collides:IEe,end:SEe,from:NEe,height:AEe,round:TEe,start:wEe,topCenter:xEe,origin:LEe,width:REe};function wEe(e){return{x:e.x1,y:e.y1}}function SEe(e){return{x:e.x2,y:e.y2}}function xEe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function MEe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function EEe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function REe(e){return Math.abs(e.x2-e.x1)}function AEe(e){return Math.abs(e.y2-e.y1)}function TEe(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function DEe(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function IEe(e,t){const n=TB(e),i=TB(t);return n.x1<=i.x2&&n.x2>=i.x1&&n.y1<=i.y2&&n.y2>=i.y1}function TB(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function NEe(e,t,n,i){if(typeof e=="number")return{x1:e,y1:t,x2:n,y2:i};if("width"in e)return TB({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${n}] [${i}]`)}function LEe(){return{x1:0,y1:0,x2:0,y2:0}}function AD(e,t,n,i,r){return t+(i-t)*((r-e)/(n-e))}function B5(e,t,n,i,r){return e+(r-t)*((n-e)/(i-t))}function G5(e,t,n){return[B5(e,n.min,t,n.max,0),B5(e,n.min,t,n.max,1)]}function kEe(e,t,n){const[i,r]=G5(e.x1,e.x2,t),[s,o]=G5(e.y1,e.y2,n);return{x1:i,x2:r,y1:s,y2:o}}function z5(e,t,n,i,r,s){if(n<=r&&s<=i)return n;const o=r-n,a=s-i,l=Math.abs(o)<Math.abs(a)?o:a;return Gt(e,n+l,t)}function OEe(e,t,n){const{x:i={min:0,max:1},y:r={min:0,max:1}}=t,s=_E.from(n),o=_E.from(e),a=kEe(o,i,r),l=z5(a.x1,a.x2,o.x1,o.x2,s.x1,s.x2),c=z5(a.y1,a.y2,o.y1,o.y2,s.y1,s.y2),u={x:{min:AD(o.x1,i.min,o.x2,i.max,l),max:AD(o.x1,i.min,o.x2,i.max,l+e.width)},y:{min:AD(o.y1,r.min,o.y2,r.max,c),max:AD(o.y1,r.min,o.y2,r.max,c+e.height)}},d=u.x.max-u.x.min,h=u.y.max-u.y.min;return u.x.min=Gt(0,u.x.min,1-d),u.x.max=u.x.min+d,u.y.min=Gt(0,u.y.min,1-h),u.y.max=u.y.min+h,u}function qK(e,t){const n=e==null?void 0:e.valueOf(),i=t==null?void 0:t.valueOf();return typeof n!="number"||typeof i!="number"?[void 0,void 0]:n<i?[0,1]:[1,0]}var PEe=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},H5=e=>Bn((t,{options:n})=>!wi.is(e==null?void 0:e.scale)&&!Qc.is(e==null?void 0:e.scale)||t==null||n.end==null?!0:t<n.end,"to be less than end"),ZK=class extends gz{constructor(e,t){super(),this.eventsHub=e,this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new uw(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new PEe,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(e.on("layout:complete",()=>{this.didLayoutAxes=!0;const{pendingMemento:n}=this;n&&this.restoreMemento(n.version,n.mementoVersion,n.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!rr(e))return!1;const n=this.getPrimaryAxis("x"),i=this.getPrimaryAxis("y"),r={rangeX:{start:H5(n),end:Pt},rangeY:{start:H5(i),end:Pt},ratioX:{start:Pt,end:Pt},ratioY:{start:Pt,end:Pt},autoScaledAxes:Pt},{invalid:s}=To(e,r);return s.length>0?(t.push(...s.map(String)),!1):!0}restoreMemento(e,t,n){var a;const{independentAxes:i}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:n};return}this.pendingMemento=void 0;const r=this.getDefinedZoom();if(n!=null&&n.rangeX?r.x=this.rangeToRatio(n.rangeX,"x")??{min:0,max:1}:n!=null&&n.ratioX?r.x={min:n.ratioX.start??0,max:n.ratioX.end??1}:r.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(a=n==null?void 0:n.autoScaledAxes)==null?void 0:a.includes("y");if(n!=null&&n.rangeY)l??(l=!1),r.y=this.rangeToRatio(n.rangeY,"y")??{min:0,max:1};else if(n!=null&&n.ratioY)l??(l=!1),r.y={min:n.ratioY.start??0,max:n.ratioY.end??1};else{l??(l=!0);const c=l?this.getAutoScaleYZoom(r.x):void 0;r.y=c??{min:0,max:1}}r.autoScaleYAxis=l}if(this.lastRestoredState=r,i!==!0){this.updateZoom("zoom-manager",r);return}const s=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[s,o])l&&this.updateAxisZoom("zoom-manager",l.id,r[l.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(const n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new FEe(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t,e&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(Je.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(Je.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const i=this.state.stateId();(i==="initial"||i===e)&&this.state.set(e,t);return}this.state.set(e,t);const n=t==null?void 0:t.autoScaleYAxis;n!=null&&(this.autoScaleYAxis.manuallyAdjusted=!n),this.axisZoomManagers.forEach(i=>{i.updateZoom(e,t==null?void 0:t[i.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){var i;(i=this.axisZoomManagers.get(t))==null||i.updateZoom(e,n),this.applyChanges(e)}resetZoom(e){var n,i,r,s;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((n=t==null?void 0:t.x)==null?void 0:n.min)??0,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??1},y:{min:((r=t==null?void 0:t.y)==null?void 0:r.min)??0,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const n=this.axisZoomManagers.get(t),i=n==null?void 0:n.getDirection();if(i==null)return;const r=this.getRestoredZoom();if(i==="y"){const s=(r==null?void 0:r.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!s}for(const s of this.axes)s.direction===i&&this.updateAxisZoom(e,s.id,(r==null?void 0:r[i])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var i;((i=this.axisZoomManagers.get(t))==null?void 0:i.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,n){const i=this.getPrimaryAxis(t);i&&this.updateAxisZoom(e,i.id,n)}panToBBox(e,t,n){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const i=this.getZoom();if(i===void 0||!i.x&&!i.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(n.width)<=Math.abs(t.width)&&Math.abs(n.height)<=Math.abs(t.height)))return Je.warnOnce("cannot pan to target BBox - chart too small?"),!1;const s=OEe(t,i,n);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",s.x),this.updatePrimaryAxisZoom(e,"y",s.y)):this.updateZoom(e,s),!0}fireZoomPanStartEvent(e){this.eventsHub.emit("zoom:pan-start",{callerId:e})}extendToEnd(e,t,n){return this.extendWith(e,t,i=>Number(i)-n)}extendWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const r=this.getDomainExtents(i);if(!r)return;const[,s]=r,o=n(s),a=this.rangeToRatio({start:o,end:s},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const r=this.getDomainExtents(i);if(!r)return;let[s,o]=r;[s,o]=n(s,o);const a=this.rangeToRatio({start:s,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const{autoScaleYAxis:n}=this,i=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y");let s;if(this.independentAxes){const c=new Set((i==null?void 0:i.boundSeries)??[]),u=new Set((r==null?void 0:r.boundSeries)??[]);s=new Set;for(const d of c)u.has(d)&&s.add(d)}else s=new Set([...(i==null?void 0:i.boundSeries)??[],...(r==null?void 0:r.boundSeries)??[]]);const o=[e.x.min,e.x.max],a=n.enabled&&!n.manuallyAdjusted?void 0:[e.y.min,e.y.max];let l=0;for(const c of s){const u=t-(l??0),d=c.getVisibleItems(o,a,u);if(l+=d,l>=t)return!0}return s.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}getAutoScaleYZoom(e){if(!this.isZoomEnabled())return;const{independentAxes:t,autoScaleYAxis:n}=this;if(!n.enabled||n.manuallyAdjusted)return;const{padding:i}=n;return(e==null?void 0:e.min)===0&&(e==null?void 0:e.max)===1?{min:0,max:1}:t?this.primaryAxisZoom("y",e,{padding:i}):this.combinedAxisZoom("y",e,{padding:i})}autoScaleYZoom(e,t=!0){const{independentAxes:n}=this,i=this.getZoom();if((i==null?void 0:i.x)==null)return;const r=this.getAutoScaleYZoom(i.x);if(!(r==null||aa(i.y,r))){if(n){const s=this.getPrimaryAxis("y"),o=s==null?void 0:this.axisZoomManagers.get(s.id);o==null||o.updateZoom("zoom-manager",r)}else for(const s of this.axisZoomManagers.values())s.getDirection()==="y"&&s.updateZoom("zoom-manager",r);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),i=>i.applyChanges()).includes(!0))return;const n={};for(const[i,r]of this.axisZoomManagers.entries())n[i]=r.getZoom();this.eventsHub.emit("zoom:change",{...this.getZoom(),axes:n,callerId:e}),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent({type:"zoom",...this.getMementoRanges()}),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(e,t){const n=this.getPrimaryAxis(t);if(!n||!wi.is(n.scale)&&!Qc.is(n.scale))return;const i=this.getDomainPixelExtents(n);if(!i)return;const[r,s]=i;let o,a;return r<=s?(o=n.scale.invert(0),a=n.scale.invert(r+(s-r)*e.max)):(o=n.scale.invert(r-(r-s)*e.min),a=n.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var S,x;const n=this.getPrimaryAxis(t);if(!n)return;const i=this.getDomainPixelExtents(n);if(!i)return;const[r,s]=i,{scale:o}=n,{start:a,end:l}=e,[c=0,u=1]=qK(a,l);let d=e.start==null?r:o.convert(e.start,{alignment:c}),h=e.end==null?s:o.convert(e.end,{alignment:u})+(o.bandwidth??0);if(!ii(d)||!ii(h))return;const[p,m]=[Math.min(r,s),Math.max(r,s)];if(d<p||d>m){Je.warnOnce(`Invalid range start [${e.start}], expecting a value between [${o.invert(r)}] and [${(S=o.invert)==null?void 0:S.call(o,s)}], ignoring.`);return}if(h<p||h>m){Je.warnOnce(`Invalid range end [${e.end}], expecting a value between [${o.invert(r)}] and [${(x=o.invert)==null?void 0:x.call(o,s)}], ignoring.`);return}d=Math.min(m,Math.max(p,d)),h=Math.min(m,Math.max(p,h));const v=s-r,y=Math.abs((d-r)/v),C=Math.abs((h-r)/v);return{min:y,max:C}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(n=>n.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,n=t.at(0),i=t.at(-1);if(!(n==null||i==null))return[n,i]}getDomainPixelExtents(e){const[t,n]=e.scale.range;if(!(!ii(t)||!ii(n)))return[t,n]}getDefinedZoom(){var t,n,i,r;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((n=e==null?void 0:e.x)==null?void 0:n.max)??1},y:{min:((i=e==null?void 0:e.y)==null?void 0:i.min)??0,max:((r=e==null?void 0:e.y)==null?void 0:r.max)??1}}}zoomBounds(e,t,n,i){const r=e.scale,s=r.range;r.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let l=1,c=!1,u=0,d=!1;for(const m of t.boundSeries){if(!m.visible)continue;const{connectsToYAxis:v}=m,y=m.getRange("y",[n.min,n.max]);for(const C of y){const S=o.convert(C);Number.isFinite(S)&&(S<l&&(l=S,c=!v||C<0),S>u&&(u=S,d=!v||C>0))}}if(ii(t.min)&&(l=0),ii(t.max)&&(u=1),r.range=s,o.range=a,l>=u)return;const h=(c?i:0)+(d?i:0),p=Math.min((u-l)*(1+h),1);if(!(p<=0)){if(c&&d){const m=(u+l)/2;l=m-p/2,u=m+p/2}else!c&&d?u=l+p:c&&!d&&(l=u-p);return l<0?(u+=-l,l=0):u>1&&(l-=u-1,u=1),{min:l,max:u}}}primaryAxisZoom(e,t,{padding:n=0}={}){const i=e==="x"?"y":"x",r=this.getPrimaryAxis(i),s=this.getPrimaryAxis(e);if(!(r==null||s==null))return this.zoomBounds(r,s,t,n)}combinedAxisZoom(e,t,{padding:n=0}={}){const i=e==="x"?"y":"x",r=new Map;for(const l of this.axes)if(l.direction===i)for(const c of l.boundSeries)r.set(c,l);let s=1,o=0;for(const l of this.axes)if(l.direction===e)for(const c of l.boundSeries){const u=r.get(c);if(u==null)continue;const d=this.zoomBounds(u,l,t,n);if(d==null)return;s=Math.min(s,d.min),o=Math.max(o,d.max)}const a=1e-6;if(s<a&&(s=0),o>1-a&&(o=1),!(s>o))return{min:s,max:o}}},FEe=class{constructor(e){this.axis=e;const[t=0,n=1]=e.visibleRange;this.state=new uw({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return tr(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},Tz=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(Tz||{}),XK=class{constructor(e){this.eventsHub=e,this.elements=new Map}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var n;return(n=this.elements.get(e))==null?void 0:n.delete(t)}}createContext(e,t){var i;const n=new _Ee(e,t);for(const r of Object.values(Tz))typeof r=="number"&&((i=this.elements.get(r))==null||i.forEach(s=>s(n)));return n}emitLayoutComplete(e,t){const{width:n,height:i}=e;this.eventsHub.emit("layout:complete",{axes:t.axes??[],chart:{width:n,height:i},clipSeries:t.clipSeries??!1,series:t.series})}},_Ee=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new ut(0,0,e,t)}};function BEe({point:e,anchor:t},n,i,r,s){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<n?l=n:o>n+r&&(l=n+r);let c=a;a<i?c=i:a>i+s&&(c=i+s);const u=o-l,d=a-c;return Math.sqrt(u*u+d*d)<=e.size*.5}function GEe(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var zEe={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function HEe(e,t,n=5){var a;const i=new Map,r=[],s=new Map([...e.entries()].map(([l,c])=>[l,c.toSorted((u,d)=>d.point.size-u.point.size)])),o=[...s.values()].flat();for(const[l,c]of s.entries()){const u=[];if((a=c[0])!=null&&a.label){for(let d=0,h=c.length;d<h;d++){const p=c[d],{point:m,label:v,anchor:y}=p,{text:C,width:S,height:x}=v,R=m.size*.5;let A=0,T=0;if(R>0&&p.placement!=null){const Z=zEe[p.placement];A=(S*.5+R+n)*Z.x,T=(x*.5+R+n)*Z.y}const L=m.x-S*.5+A-(((y==null?void 0:y.x)??.5)-.5)*m.size,O=m.y-x*.5+T-(((y==null?void 0:y.y)??.5)-.5)*m.size;if(!K4(t,L,O,S,x)||o.some(Z=>BEe(Z,L,O,S,x))||r.some(Z=>bY(Z,L,O,S,x)))continue;const $={index:d,text:C,x:L,y:O,width:S,height:x,datum:p};u.push($),r.push($)}i.set(l,u)}}return i}var VEe=class{constructor(){this.labelData=new Map}updateLabels(e,t,n=ut.zero){var o;const i={x:-t.left,y:-t.top,width:n.width+t.left+t.right,height:n.height+t.top+t.bottom},r=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())r.has(a)||this.labelData.delete(a);for(const a of e){const l=a.getLabelData();l.every(GEe)&&this.labelData.set(a.id,l)}const s=HEe(this.labelData,i,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,s.get(a.id)??[])}},UEe=class{constructor(e){this.eventsHub=e,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:n,legendItemName:i})=>({visible:e,seriesId:t,itemId:n,legendItemName:i}))}guardMemento(e){return e==null||Tn(e)}restoreMemento(e,t,n){n==null||n.forEach(i=>{const{seriesId:r,data:s}=this.getRestoredData(i)??{};!r||!s||this.updateData(r,s)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:n,legendItemName:i,visible:r}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const l=a.seriesId===t&&(!n||a.itemId===n);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?{...a,enabled:r}:a});return{seriesId:t,data:o}}if(!(n==null&&i==null))for(const s of this.getData()){if(n!=null&&s.itemId!==n||i!=null&&s.legendItemName!==i)continue;if(s.isFixed){this.warnFixed(s.seriesId,n);return}const o=(this.legendDataMap.get(s.seriesId)??[]).map(a=>a.itemId===n||a.legendItemName===i?{...a,enabled:r}:a);return{seriesId:s.seriesId,data:o}}}warnFixed(e,t){Je.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.eventsHub.emit("legend:change",{legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,n,i){if(i){this.getData().forEach(a=>{const l=(this.legendDataMap.get(a.seriesId)??[]).map(c=>c.legendItemName===i?{...c,enabled:e}:c);this.updateData(a.seriesId,l)});return}const r=this.getData(t),s=r.length===1,o=r.map(a=>n==null&&s||a.itemId===n?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[n,i])=>t.concat(i),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(n=>n.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(n=>n.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var n;return((n=this.getDatum({seriesId:e,itemId:t}))==null?void 0:n.enabled)??!0}},WEe=class{constructor(){this.groups=new Map}registerSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){if(!t)return;let r=this.groups.get(i);r==null&&(r=new Map,this.groups.set(i,r)),r.set(e,{grouping:t,visible:n})}updateSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){var s;if(!t)return;const r=(s=this.groups.get(i))==null?void 0:s.get(e);r&&(r.grouping=t,r.visible=n)}deregisterSeries({internalId:e,type:t}){const n=this.groups.get(t);n!=null&&(n.delete(e),n.size===0&&this.groups.delete(t))}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const i=new Set,r=new Set,s=this.groups.get(e);for(const a of(s==null?void 0:s.values())??[])a.visible&&(i.add(a.grouping.groupIndex),a.grouping.groupIndex===t.groupIndex&&r.add(a.grouping.stackIndex));const o=Array.from(i);return o.sort((a,l)=>a-l),{visibleGroupCount:o.length,visibleSameStackCount:r.size,index:o.indexOf(t.groupIndex)}}},QK=class{constructor(e){this.updateCallback=e,this.events=new Og}addListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.events.emit("update-complete",{type:"update-complete",apiUpdate:e})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},jEe=class{constructor(e,t){this.eventsHub=new Og,this.callbackCache=new tK,this.highlightManager=new VK(this.eventsHub),this.formatManager=new fw,this.layoutManager=new XK(this.eventsHub),this.localeManager=new WMe(this.eventsHub),this.seriesStateManager=new WEe,this.stateManager=new MMe,this.seriesLabelLayoutManager=new VEe,this.cleanup=new sr,this.contextModules=[];const{scene:n,root:i,syncManager:r,container:s,fireEvent:o,updateCallback:a,updateMutex:l,styleContainer:c,chartType:u,domMode:d,withDragInterpretation:h}=t;this.chartService=e,this.syncManager=r,this.domManager=new SK(this.eventsHub,this.chartService,s,c,d),this.widgets=new CEe(this.domManager,{withDragInterpretation:h});const p=this.domManager.addChild("canvas","scene-canvas",n==null?void 0:n.canvas.element);this.scene=n??new KL({canvasElement:p}),this.scene.setRoot(i),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new KMe(this.eventsHub,i),this.legendManager=new UEe(this.eventsHub),this.annotationManager=new YMe(this.eventsHub,e.annotationRoot,o),this.chartTypeOriginator=new SMe(e),this.interactionManager=new BK,this.contextMenuRegistry=new HK(this.eventsHub),this.updateService=new QK(a),this.proxyInteractionService=new RK(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new qMe(this.domManager,this.updateService),this.historyManager=new xMe(this.eventsHub),this.animationManager=new GK(this.interactionManager,l),this.dataService=new qL(this.eventsHub,e,this.animationManager),this.tooltipManager=new AN(this.eventsHub,this.localeManager,this.domManager,e.tooltip),this.zoomManager=new ZK(this.eventsHub,o);for(const m of Ed.byType("context")){if(!m.chartTypes.includes(u))continue;const v=m.moduleFactory(this);this.contextModules.push(v),this[m.contextKey]=v}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy()),this.cleanup.flush()}},JK=class extends Wt{constructor(){super(...arguments),this.range="tooltip"}};P([z],JK.prototype,"range",2);function $Ee(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function YEe(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[n,i]of e){const r=t.get(n);if(r==null||!$Ee(i,r))return!1}return!0}function KEe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const{type:i,idsMap:r,scopes:s,data:o,...a}=e[n],{type:l,idsMap:c,scopes:u,data:d,...h}=t[n];if(i!==l||s&&u&&!Qh(s,u)||o&&d&&o!==d||!aa(a,h)||!YEe(r,c))return!1}return!0}function qEe(e,t){const{props:n,...i}=e,{props:r,...s}=t;return aa(i,s)&&KEe(n,r)}function ZEe(e,t,n,i){return t===e.data&&Qh(n,e.ids)&&qEe(i,e.opts)}var V5=class eq{constructor(){this.domain=new Set}static is(t){return t instanceof eq}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},Vp=class tq{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof tq}static extendDomain(t,n=[1/0,-1/0]){for(const i of t)typeof i=="number"&&(n[0]>i&&(n[0]=i),n[1]<i&&(n[1]=i));return n}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},$C=0,YC=1,Qu=2,XEe=class{constructor(e){const t=e.reduce((s,o)=>Math.max(s,o.length),0);let i=1<<32-Math.clz32(t);t===i/2&&(i=i>>>1),this.maxLevelSize=i;const r=new Float64Array((i*2-1)*2).fill(NaN);for(const s of e)for(let o=0;o<s.length;o+=1){const a=Number(s[o]),l=i+o-1,c=(l*Qu|0)+$C,u=(l*Qu|0)+YC,d=r[c],h=r[u];(!Number.isFinite(d)||a<d)&&(r[c]=a),(!Number.isFinite(h)||a>h)&&(r[u]=a)}for(let s=i/2|0;s>=1;s=s/2|0){const o=s-1|0,a=o+s|0;for(let l=0;l<s;l+=1){const c=o+l,u=a+l*2,d=u+1,h=r[(u*Qu|0)+$C],p=r[(d*Qu|0)+$C];r[(c*Qu|0)+$C]=!Number.isFinite(p)||h<p?h:p;const m=r[(u*Qu|0)+YC],v=r[(d*Qu|0)+YC];r[(c*Qu|0)+YC]=!Number.isFinite(v)||m>v?m:v}}this.buffer=r}computeRangeInto(e,t,n,i,r,s,o){const a=r+s-1;if(a<t||r>=n)return o;if(r>=t&&a<n){const l=e[(i*Qu|0)+$C],c=e[(i*Qu|0)+YC];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(c)&&(o[1]=Math.max(o[1],c))}else s>1&&(i=i*2|0,s=s/2|0,this.computeRangeInto(e,t,n,i+1|0,r,s,o),this.computeRangeInto(e,t,n,i+2|0,r+s,s,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:n,buffer:i}=this,r=[1/0,-1/0];return this.computeRangeInto(i,e,t,0,0,n,r),r}get range(){const{buffer:e}=this;return[e[$C],e[YC]]}};function QEe(e){if(e.length<=1)return 1;let t=0,n=e[0];for(let i=1;i<e.length;i++){const r=e[i];if(r==null)continue;if(typeof r.valueOf()!="number")return;const o=Math.sign(r-n);if(o!==0){if(t!==0&&t!==o)return;t=o}n=r}return t===0?1:t}var U5=Symbol("key-sort-orders"),W5=Symbol("column-sort-orders"),j5=Symbol("domain-ranges");function JEe(e){return e.map(t=>rr(t)?JSON.stringify(t):t).join("-")}function hl(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function nq(e,t){return(t==null?void 0:t.get(e.id))??0}function eRe(e){return"scopes"in e&&Array.isArray(e.scopes)}function $F(e,t){const n=[];for(let i=0;i<e;i+=1)n[i]=t;return n}function TN(e,t,n){var r;const i=[];for(const s of e){const o=(r=s.get(t))==null?void 0:r[n];if(o==null)return;i.push(o)}return i}function iq(e){const t=[];let n=0,i;const r=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;i=r.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const s=i[1].trim();if(s.startsWith("."))t.push(s.slice(1).trim());else if(s.startsWith("[")){const o=s.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(s)}if(n===e.length)return t}function tRe(e){return t=>{let n=t;for(const i of e)n=n[i];return n}}var rq=class{constructor(e,t="standalone",n=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=n,this.debug=on.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,c,u,d){for(const h of l)d.has(h)||d.set(h,$F(c.length,!1)),d.get(h)[u]=!0};let i=!0;for(const l of e.props){if(l.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&i&&(i=!1)}const r=({matchGroupIds:l=[]})=>{for(const c of l)if(this.values.every(u=>u.groupId!==c))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${c}).`)},s=new Set,o=new Set;for(const l of e.props){const c=l.type==="key"?s:o;switch(eRe(l)&&((a=l.scopes)==null||a.forEach(u=>c.add(u))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":r(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":r(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(s.forEach(c=>l.delete(c)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(e,t){var i;const n=(i=this.scopeCache.get(e.id))==null?void 0:i.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,n){const i=this.resolveProcessedDataIndexById(e,t),r=n.keys[i];if(r==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return r.get(e.id)}hasColumnById(e,t){var n;return((n=this.scopeCache.get(e.id))==null?void 0:n.get(t))!=null}resolveColumnById(e,t,n){var s;const i=this.resolveProcessedDataIndexById(e,t),r=(s=n.columns)==null?void 0:s[i];if(r==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return r}*forEachDatum(e,t,n){const i=t.columnScopes.findIndex(r=>r.has(e.id));for(const r of n.datumIndices[i]??[])yield t.columns[i][r]}*forEachGroupDatum(e,t){const n=t.columnScopes.findIndex(s=>s.has(e.id)),i={groupIndex:0,columnIndex:n},r=[];for(const s of t.groups){i.group=s;for(const o of s.datumIndices[n]??r)i.datumIndex=o,yield i;i.groupIndex++}}*forEachGroupDatumTuple(e,t){const i={columnIndex:t.columnScopes.findIndex(r=>r.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const r of this.forEachGroupDatum(e,t))i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=r.group,i.nextGroupIndex=r.groupIndex,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=r.datumIndex,i.group!=null&&i.datumIndexes[1]!=null&&(yield i);i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=void 0,i.nextGroupIndex=void 0,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=void 0,i.group!=null&&i.datumIndexes[1]!=null&&(yield i)}getDomain(e,t,n,i){const r=this.getDomainsByType(n??"value",i);return(r==null?void 0:r[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[n,i],r){const s=t.map(c=>this.resolveProcessedDataIndexById(e,c)),o=s.join(":"),a=r[j5];let l=a.get(o);if(l==null){const c=s.map(u=>r.columns[u]);l=new XEe(c),a.set(o,l)}return l.rangeBetween(n,i)}getSortOrder(e,t,n){let i=n.get(t);return i==null&&(i={sortOrder:QEe(e)},n.set(t,i)),i.sortOrder}getKeySortOrder(e,t,n){var s;const i=this.resolveProcessedDataIndexById(e,t),r=(s=n.keys[i])==null?void 0:s.get(e.id);return r?this.getSortOrder(r,i,n[U5]):void 0}getColumnSortOrder(e,t,n){const i=this.resolveProcessedDataIndexById(e,t);return this.getSortOrder(n.columns[i],i,n[W5])}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:n},aggregates:i,groupProcessors:r,reducers:s,processors:o,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let c=this.extractData(e);t?c=this.groupData(c):n&&(c=this.groupData(c,n(c))),r.length>0&&c.type==="grouped"&&this.postProcessGroups(c),i.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):i.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),a.length>0&&this.postProcessProperties(c),s.length>0&&this.reduceData(c),o.length>0&&this.postProcessData(c),this.warnDataMissingProperties(e);const u=performance.now();return c.time=u-l,this.debug.check()&&nRe(c),this.processScopeCache(),c}warnDataMissingProperties(e){var t;if(e.size!==0)for(const n of mb(this.keys,this.values))for(const[i,r]of n.missing){if(r<(((t=e.get(i))==null?void 0:t.length)??1/0))continue;const s=i==null?"":` for ${i}`;Je.warnOnce(`the key '${n.property}' was not found in any data element${s}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of mb(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[n,i]of t.idsMap)for(const r of i)if(!this.scopeCache.has(n))this.scopeCache.set(n,new Map([[r,t]]));else{if((e=this.scopeCache.get(n))!=null&&e.has(r))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(n).set(r,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[n,i]of this.values.entries())(!e||i.groupId&&e.includes(i.groupId))&&t.push(n);return t}valueIdxLookup(e,t){const n=e==null||e.length===0,i=typeof t=="string"?t:t.id,r=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(i))return!0}return!1},s=this.values.reduce((o,a,l)=>((a.scopes==null||n&&!a.scopes.length||a.scopes.some(u=>e==null?void 0:e.includes(u)))&&(a.property===i||a.id===i||r(a))&&o.push(l),o),[]);if(s.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return s}extractData(e){const{dataDomain:t,processValue:n,allScopesHaveSameDefs:i}=this.initDataDomainProcessor(),{keys:r,values:s}=this,{invalidData:o,invalidKeys:a,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(r,e,n),{columns:u,columnScopes:d,partialValidDataCount:h,maxDataLength:p}=this.extractValues(o,s,e,a,n),m=v=>{const y=t.get(v),C=y.getDomain();return Vp.is(y)&&C[0]>C[1]?[]:C};return{type:"ungrouped",input:{count:p},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...c.values()],columns:u,columnScopes:d,invalidKeys:a,invalidKeyCount:l,invalidData:o,domain:{keys:r.map(m),values:s.map(m)},defs:{allScopesHaveSameDefs:i,keys:r,values:s},partialValidDataCount:h,time:0,[j5]:new Map,[U5]:new Map,[W5]:new Map}}extractKeys(e,t,n){const i=new Map,r=new Map,s=new Map,o=new Map;let a,l;const c=(u,d)=>{const h=l.get(u);a.set(d,a.get(h)),i.has(h)&&(i.set(d,i.get(h)),r.set(d,r.get(h)))};for(const u of e){const{invalidValue:d,scopes:h}=u;a=new Map,l=new Map,o.set(u,a);for(const p of h??[]){const m=t.get(p)??[];if(l.has(m)){c(m,p);continue}const v=[];a.set(p,v),l.set(m,p);let y,C,S=0;for(let x=0;x<m.length;x++){if(m[x]==null||typeof m[x]!="object")continue;const R=n(u,m[x],x,p);if(R.valid){v.push(R.value);continue}v.push(d),y??(y=$F(m.length,!1)),C??(C=$F(m.length,!1)),S+=1,y[x]=!0,C[x]=!0}y&&C&&(i.set(p,y),r.set(p,C),s.set(p,S))}}return{invalidData:r,invalidKeys:i,invalidKeyCount:s,allKeyMappings:o}}extractValues(e,t,n,i,r){let s=0;const o=[],a=[];let l=0;for(const c of t){const{invalidValue:u}=c;if(new Set(c.scopes.map(C=>n.get(C))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);const h=new Set(c.scopes),p=gM(c.scopes),m=n.get(p),v=new Array,y=i.get(p);for(let C=0;C<m.length;C++){if(m[C]==null||typeof m[C]!="object")continue;const S=m[C],x=y!=null?y[C]:!1,R=r(c,S,C,c.scopes);let A=R.value;(x||!R.valid)&&this.markScopeDatumInvalid(c.scopes,m,C,e),x?A=u:R.valid||(s+=1,A=u),v[C]=A}o.push(v),a.push(h),l=Math.max(l,v.length)}return{columns:o,columnScopes:a,partialValidDataCount:s,maxDataLength:l}}groupData(e,t){var n;const{keys:i,columns:r,columnScopes:s,invalidKeys:o,invalidData:a}=e,l=e.scopes,c=[],u=[],d=new Set,h=l.size!==1||t!=null?new Map:void 0;for(const p of l){const m=r.map((R,A)=>A).filter(R=>!d.has(R)&&s[R].has(p));if(m.length===0)continue;for(const R of m)d.add(R);const v=new Set;for(const R of m)for(const A of s[R])v.add(A);const y=i.map(R=>R.get(p)).filter(R=>R!=null),C=r[gM(m)],S=a==null?void 0:a.get(p),x=o==null?void 0:o.get(p);for(let R=0;R<C.length;R++){if((x==null?void 0:x[R])===!0)continue;const A=y.map(F=>F[R]);if(A==null||A.length===0)throw new Error("AG Charts - no keys found for scope: "+p);const T=(t==null?void 0:t(A))??A,L=h!=null?JEe(T):void 0;let O=h==null?void 0:h.get(L);if(O==null&&(O={keys:T,datumIndices:[],aggregation:[],validScopes:l},h==null||h.set(L,O),c.push(O.keys),u.push(O)),(S==null?void 0:S[R])===!0){O.validScopes===l&&(O.validScopes=new Set(l.values()));for(const F of v)O.validScopes.delete(F)}for(const F of m)(n=O.datumIndices)[F]??(n[F]=[]),O.datumIndices[F].push(R)}}return{...e,type:"grouped",domain:{...e.domain,groups:c},groups:u}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:n,columns:i,dataSources:r}=e,s=gM(r.keys()),o=r.get(s);e.aggregation=o==null?void 0:o.map((a,l)=>{var u,d,h;const c=[];for(const[p,m]of this.aggregates.entries()){const v=this.valueGroupIdxLookup(m);let y=((u=m.groupAggregateFunction)==null?void 0:u.call(m))??[1/0,-1/0];const C=v.map(A=>i[A][l]),S=TN(n,s,l),x=S!=null?m.aggregateFunction(C,S):void 0;x&&(y=((d=m.groupAggregateFunction)==null?void 0:d.call(m,x,y))??Vp.extendDomain(x,y));const R=((h=m.finalFunction)==null?void 0:h.call(m,y))??y;c[p]=R,Vp.extendDomain(R,t[p])}return c})}aggregateGroupedData(e){var i,r,s;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:n}=e;for(const[o,a]of this.aggregates.entries()){const l=this.valueGroupIdxLookup(a);for(const c of e.groups){c.aggregation??(c.aggregation=[]);const u=c.keys;let d=((i=a.groupAggregateFunction)==null?void 0:i.call(a))??[1/0,-1/0];const h=Math.max(...l.map(m=>{var v;return((v=c.datumIndices[m])==null?void 0:v.length)??0}));for(let m=0;m<h;m++){const v=l.map(C=>{var S;return n[C][(S=c.datumIndices[C])==null?void 0:S[m]]}),y=a.aggregateFunction(v,u);y&&(d=((r=a.groupAggregateFunction)==null?void 0:r.call(a,y,d))??Vp.extendDomain(y,d))}const p=((s=a.finalFunction)==null?void 0:s.call(a,d))??d;c.aggregation[o]=p,Vp.extendDomain(p,t[o])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:n,columns:i,invalidData:r}=e;for(const s of t){const o=this.valueGroupIdxLookup(s),a=s.adjust()();for(const l of e.groups)a(i,o,l);for(const l of o){const u=this.values[l].valueType==="category",d=i[l],h=gM(n[l]),p=r==null?void 0:r.get(h),m=u?new V5:new Vp;for(let v=0;v<d.length;v+=1)(p==null?void 0:p[v])!==!0&&m.extend(d[v]);e.domain.values[l]=m.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:n,scopes:i}of this.propertyProcessors)for(const r of this.valueIdxLookup(i,n))t()(e,r)}reduceData(e){var i;e.reduced??(e.reduced={});const{dataSources:t,keys:n}=e;for(const r of this.reducers){const s=r.reducer();let o=r.initialValue;if(e.type==="grouped")for(const a of e.groups)o=s(o,a.keys);else{const a=gM(t.keys()),l=n.map(d=>d.get(a)).filter(d=>d!=null),c=l.map(()=>{}),u=t.get(a);for(let d=0;d<u.length;d+=1){for(let h=0;h<c.length;h++)c[h]=(i=l[h])==null?void 0:i[d];o=s(o,c)}}e.reduced[r.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,n=new Set;for(const u of t)if(u.scopes)for(const d of u.scopes)n.add(d);const i=new Map,r=new Map;let s=!0;const o=()=>{var u;for(const d of mb(e,t))d.valueType==="category"?i.set(d,new V5):(i.set(d,new Vp),s&&(s=(((u=d.scopes)==null?void 0:u.length)??0)===n.size))};o();const a=this.buildAccessors(mb(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:i,processValue:(u,d,h,p)=>{var C,S;let m,v;if(a.has(u.property)){try{v=a.get(u.property)(d)}catch{}m=v!=null}else m=u.property in d,v=m?d[u.property]:u.missingValue;u.forceValue!=null&&(v=m&&q4(v)?-1*u.forceValue:u.forceValue,m=!0),l.missing=!m;const y="missingValue"in u;if(!m&&!y)if(typeof p=="string"){const x=u.missing.get(p)??0;u.missing.set(p,x+1)}else for(const x of p){const R=u.missing.get(x)??0;u.missing.set(x,R+1)}if(i.has(u)||o(),m&&((C=u.validation)==null?void 0:C.call(u,v,d,h))===!1)if(l.valid=!1,"invalidValue"in u)v=u.invalidValue;else return this.mode!=="integrated"&&Je.warnOnce(`invalid value of type [${typeof v}] for [${u.scopes} / ${u.id}] ignored:`,`[${v}]`),l.value=void 0,l;else l.valid=!0;if(u.processor){let x=r.get(u);x==null&&(x=u.processor(),r.set(u,x)),v=x(v,h)}return(S=i.get(u))==null||S.extend(v),l.value=v,l},initDataDomain:o,scopes:n,allScopesHaveSameDefs:s}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;const r=iq(n.property);if(r==null){Je.warnOnce("Invalid property path [%s]",n.property);continue}const s=tRe(r);t.set(n.property,s)}return t}};function nRe(e){const t=(n,i)=>{i.length>0&&(Je.log(`DataModel.processData() - ${n}`),Je.table(i))};Je.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var Dz=class ed{constructor(t,n){this.mode=t,this.suppressFieldDotNotation=n,this.debug=on.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,n,i){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,s)=>{this.requested.push({id:t,opts:i,data:n,resolve:r,reject:s})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const i=this.mergeRequested(n);this.debug("DataController.execute() - merged",i),this.debug.check()&&(si().processedData=[]);const r=[];for(const{data:s,ids:o,opts:a,resolves:l,rejects:c}of i){const u=t==null?void 0:t.find(p=>ZEe(p,s,o,a));let d,h;if(u==null)try{d=new rq(a,this.mode,this.suppressFieldDotNotation);const p=new Map(n.map(m=>[m.id,m.data]));h=d.processData(p)}catch(p){c.forEach(m=>m(p));continue}else({dataModel:d,processedData:h}=u);r.push({opts:a,data:s,ids:o,dataModel:d,processedData:h}),this.debug.check()&&si("processedData").push(h),(h==null?void 0:h.partialValidDataCount)===0?l.forEach(p=>p({dataModel:d,processedData:h})):h?this.splitResult(d,h,o,l):c.forEach(p=>p(new Error("AG Charts - no processed data generated")))}return r}validateRequests(t){const n=[];for(const[i,r]of t.entries())i>0&&r.data.length!==t[0].data.length&&r.opts.groupByData===!1&&r.opts.groupByKeys===!1?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(r);return n}mergeRequested(t){const n=[];for(const i of t){const r=n.find(ed.groupMatch(i));r?r.push(i):n.push([i])}return n.map(ed.mergeRequests)}splitResult(t,n,i,r){for(let s=0;s<i.length;s++){const o=r[s];o({dataModel:t,processedData:n})}}static groupMatch({data:t,opts:n}){function i(c){return c.filter(u=>u.type==="key").map(u=>u.property).join(";")}const{groupByData:r,groupByKeys:s=!1,groupByFn:o,props:a}=n,l=i(a);return([c])=>(r===!1||c.data===t)&&(c.opts.groupByKeys??!1)===s&&c.opts.groupByFn===o&&i(c.opts.props)===l}static mergeRequests(t){var o;const n={ids:[],rejects:[],resolves:[],data:t[0].data,opts:{...t[0].opts,props:[]}},i=new Map,r=new Map;let s=0;for(const a of t){const{id:l,data:c,resolve:u,reject:d,opts:{props:h,...p}}=a;n.ids.push(l),n.rejects.push(d),n.resolves.push(u),n.data??(n.data=c),n.opts??(n.opts={...p,props:[]});for(const m of h){const v={...m,scopes:[l],data:c};ed.createIdsMap(l,v);let y;ed.crossScopeMergableTypes.has(v.type)?y=-1:r.has(c)?y=r.get(c):(y=s++,r.set(c,y));const C=`${v.type}-${y}-${v.groupId}`,S=i.get(C),x=S==null?void 0:S.find(R=>ed.deepEqual(R,v));if(S==null){n.opts.props.push(v),i.set(C,[v]);continue}else if(x==null){n.opts.props.push(v),S.push(v);continue}v.scopes!=null&&(x.scopes??(x.scopes=[]),x.scopes.push(...v.scopes)),(x.type==="key"||x.type==="value")&&((o=v.idsMap)!=null&&o.size)&&(x.idsMap??(x.idsMap=new Map),ed.mergeIdsMap(v.idsMap,x.idsMap))}}return n}static mergeIdsMap(t,n){for(const[i,r]of t){const s=n.get(i);if(s==null)n.set(i,new Set(r));else for(const o of r)s.add(o)}}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let i,r;if(Array.isArray(t)){if(r=t.length,r!==n.length)return!1;for(i=r-1;i>=0;i--)if(!ed.deepEqual(t[i],n[i]))return!1;return!0}const s=Object.keys(t);if(r=s.length,r!==Object.keys(n).length)return!1;for(i=r-1;i>=0;i--){const o=s[i];if(!ed.skipKeys.has(o)&&(!Object.hasOwn(n,o)||!ed.deepEqual(t[o],n[o])))return!1}return!0}return!1}};Dz.crossScopeMergableTypes=new Set(["key","group-value-processor"]);Dz.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var sq=Dz,iRe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const n=this.axesMap.get(e);if(n)return n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},ry=new iRe,OR=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function XL(e){var t;return(t=OR.find(n=>n.type==="series"&&n.identifier===e))==null?void 0:t.chartTypes}function rRe(e){var n;return((n=XL(e))==null?void 0:n.find(i=>i==="cartesian"))==="cartesian"}function sRe(e){var n;return((n=XL(e))==null?void 0:n.find(i=>i==="polar"))==="polar"}function oRe(e){var n;return((n=XL(e))==null?void 0:n.find(i=>i==="topology"))==="topology"}function aRe(e){var n;return((n=XL(e))==null?void 0:n.find(i=>i==="standalone"))==="standalone"}function lRe(e){return e.packageType==="enterprise"}function cRe(e){if(!lRe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=OR.find(n=>n.type===e.type&&("optionsKey"in n&&"optionsKey"in e?n.optionsKey===e.optionsKey:!0)&&("contextKey"in n&&"contextKey"in e?n.contextKey===e.contextKey:!0)&&n.identifier===e.identifier&&e.chartTypes.every(i=>n.chartTypes.includes(i)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function uRe(){return OR.filter(({useCount:e})=>e==null||e===0)}var dRe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:n,themeTemplate:i}){this.legendMap.set(e,{optionsKey:t,moduleFactory:n}),this.themeTemplates.set(t,i)}create(e,t){var i;const n=(i=this.legendMap.get(e))==null?void 0:i.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},Iz=new dRe,oq=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isTopology(e){return this.get(e)==="topology"}isStandalone(e){return this.get(e)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}},hRe=class extends Map{set(e,t){return super.set(e,Gn(t,this.get(e)))}},gs=new oq,fRe=new oq,DB=new hRe,pRe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:n,defaultAxes:i,themeTemplate:r,solo:s,stackable:o,groupable:a,stackedByDefault:l,hidden:c}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:n,defaultAxes:i,solo:s,stackable:o,groupable:a,stackedByDefault:l}),gs.set(e,t),c||fRe.set(e,t)}create(e,t){var i;const n=(i=this.seriesMap.get(e))==null?void 0:i.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var n;const t=(n=this.seriesMap.get(e))==null?void 0:n.defaultAxes;return t==null?null:{axes:tr(t)}}setThemeTemplate(e,t){const n=this.themeTemplates.get(e);this.themeTemplates.set(e,Gn(t,n))}getThemeTemplate(e){return this.themeTemplates.get(e)}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},Wc=new pRe,Nz=class kh{constructor(t){this.chart=t}subscribe(t=kh.DEFAULT_GROUP){let n=this.get(t);return n||(n={members:new Set},kh.chartsGroups.set(t,n)),n.members.add(this.chart),this}unsubscribe(t=kh.DEFAULT_GROUP){var i,r,s,o,a,l;const n=this.get(t);return n==null||n.members.delete(this.chart),(s=(r=(i=n==null?void 0:n.domains)==null?void 0:i.x)==null?void 0:r.sources)==null||delete s[this.chart.id],(l=(a=(o=n==null?void 0:n.domains)==null?void 0:o.y)==null?void 0:a.sources)==null||delete l[this.chart.id],this}getChart(){return this.chart}getGroupState(t=kh.DEFAULT_GROUP){return this.get(t)}getGroupMembers(t=kh.DEFAULT_GROUP){const n=this.get(t);return n?Array.from(n.members):[]}getGroupSiblings(t=kh.DEFAULT_GROUP){return this.getGroupMembers(t).filter(n=>n!==this.chart)}getGroupSyncMode(t=kh.DEFAULT_GROUP){return this.getGroupMembers(t).some(n=>n.series.length>1)?"multi-series":"single-series"}get(t){return kh.chartsGroups.get(t)}};Nz.chartsGroups=new Map;Nz.DEFAULT_GROUP=Symbol("sync-group-default");var gRe=Nz,Lz=class extends Wt{constructor(){super(...arguments),this.enabled=!1}};P([z],Lz.prototype,"enabled",2);P([z],Lz.prototype,"tabIndex",2);var aq={};Wd(aq,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Kc,fromToMotion:()=>ns,staticFromToMotion:()=>Ef});var Kc={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function ns(e,t,n,i,r,s,o){const{fromFn:a,toFn:l,applyFn:c=(m,v)=>m.setProperties(v)}=r,{nodes:u,selections:d}=ZL(i),h=(m,v)=>{let y,C=0,S=0;for(const x of v){const R=m[C]===x,A={last:S>=v.length-1,lastLive:C>=m.length-1,prev:v[S-1],prevFromProps:y,prevLive:m[C-1],next:v[S+1],nextLive:m[C+(R?1:0)]},T=`${e}_${t}_${x.id}`;n.stopByAnimationId(T);let L="unknown";R?s&&o&&(L=mRe(x,x.datum,s,o)):L="removed",x.transitionOut=L==="removed";const{phase:O,start:F,finish:H,delay:W,duration:$,...Z}=a(x,x.datum,L,A),{phase:ie,start:oe,finish:te,delay:ae,duration:ne,...Se}=l(x,x.datum,L,A),q=H==null;n.animate({id:T,groupId:e,phase:O??ie??"update",duration:$??ne,delay:W??ae,from:Z,to:Se,ease:OE,collapsable:q,onPlay:()=>{const re={...F,...oe,...Z};c(x,re,"start")},onUpdate(re){c(x,re,"update")},onStop:()=>{const re={...F,...oe,...Z,...Se,...H,...te};c(x,re,"end")}}),R&&C++,S++,y=Z}};let p=0;for(const m of d){const v=m.nodes(),y=v.filter(C=>!m.isGarbage(C));h(y,v),n.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:OE,onStop(){m.cleanup()}}),p++}h(u,u)}function Ef(e,t,n,i,r,s,o){const{nodes:a,selections:l}=ZL(i),{start:c,finish:u,phase:d}=o;n.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:r,to:s,ease:OE,onPlay:()=>{if(c){for(const h of a)h.setProperties(c);for(const h of l)for(const p of h.nodes())p.setProperties(c)}},onUpdate(h){for(const p of a)p.setProperties(h);for(const p of l)for(const m of p.nodes())m.setProperties(h)},onStop:()=>{for(const h of a)h.setProperties({...s,...u});for(const h of l){for(const p of h.nodes())p.setProperties({...s,...u});h.cleanup()}}})}function mRe(e,t,n,i){const r=n(e,t);return i.added.has(r)?"added":i.removed.has(r)?"removed":e.previousDatum==null&&e.datum!=null?"added":e.previousDatum!=null&&e.datum==null?"removed":"updated"}var lq={};Wd(lq,{resetMotion:()=>Js});function Js(e,t){const{nodes:n,selections:i}=ZL(e);for(const r of i){for(const s of r.nodes()){const o=t(s,s.datum);s.setProperties(o)}r.cleanup()}for(const r of n){const s=t(r,r.datum);r.setProperties(s)}}var No=class Tv{constructor(t,n,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=on.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(cf,n)?()=>new n:n}static select(t,n,i=!0){return new Tv(t,n,i)}static selectAll(t,n){const i=[],r=s=>{if(n(s)&&i.push(s),s instanceof nn)for(const o of s.children())r(o)};return r(t),i}static selectByClass(t,...n){return Tv.selectAll(t,i=>n.some(r=>i instanceof r))}static selectByTag(t,n){return Tv.selectAll(t,i=>i.tag===n)}createNode(t,n,i){const r=this.nodeFactory(t);return r.datum=t,n==null||n(r),i==null?this._nodes.push(r):this._nodes.splice(i,0,r),this.parentNode.appendChild(r),r}update(t,n,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),i){const r=new Map,s=new Map;for(let o=0;o<t.length;o++){const a=t[o];let l=i(a);if(r.has(l)){const c=(s.get(l)??0)+1;s.set(l,c),l=`${l}:${c}`}r.set(l,o)}for(const[o,a]of this._nodesMap.entries()){const l=r.get(a);l==null?this.garbageBin.add(o):(o.datum=t[l],this.garbageBin.delete(o),r.delete(a))}for(const[o,a]of r.entries()){const l=t[a];this._nodesMap.set(this.createNode(l,n,a),o)}}else{const r=Math.max(t.length,this.data.length);for(let s=0;s<r;s++)s>=t.length?this.garbageBin.add(this._nodes[s]):s>=this._nodes.length?this.createNode(t[s],n):(this._nodes[s].datum=t[s],this.garbageBin.delete(this._nodes[s]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t];yield{node:n,datum:n.datum,index:t}}}select(t){return Tv.selectAll(this.parentNode,t)}selectByClass(t){return Tv.selectByClass(this.parentNode,t)}selectByTag(t){return Tv.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},fl=class extends Ur{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new ut(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:n,y1:i,x2:r,y2:s}=this;return xN(e,t,n,i,r,s,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:n}=e;let{x1:i,y1:r,x2:s,y2:o}=this;if(i===s){const{strokeWidth:l}=this,c=Math.round(i*n)/n+Math.trunc(l*n)%2/(n*2);i=c,s=c}else if(r===o){const{strokeWidth:l}=this,c=Math.round(r*n)/n+Math.trunc(l*n)%2/(n*2);r=c,o=c}t.beginPath(),t.moveTo(i,r),t.lineTo(s,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Ar("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};fl.className="Line";P([Xe()],fl.prototype,"x1",2);P([Xe()],fl.prototype,"y1",2);P([Xe()],fl.prototype,"x2",2);P([Xe()],fl.prototype,"y2",2);var YF="color: green",KF="color: grey";function vRe(){return LY(()=>{})}function IB(e,t){const n=ug(t);if(n.length===0)return;const i=kY(e);for(const r of n)r in i&&(t[r]=i[r])}var cq=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},kz=class Na extends cq{constructor(t,n,i){super(),this.defaultState=t,this.states=n,this.enterEach=i,this.debug=on.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,YF)}transition(t,n){var u,d,h,p;if(!this.transitionChild(t,n)||this.state===Na.child||this.state===Na.parent)return;const r=this.state,s=this.states[this.state];let o=s[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(m=>{if(!m.guard)return!0;const v=m.guard(n);return v||this.debug(`${a} (guarded)`,m.target,KF),v});else if(typeof o=="object"&&!(o instanceof Na)&&o.guard&&!o.guard(n)){this.debug(`${a} (guarded)`,o.target,KF);return}if(!o){this.debug(`${a} ${this.state}`,KF);return}const l=this.getDestinationState(o),c=l===this.state?void 0:s.onExit;this.debug(`${a} ${l}`,YF),this.state=l,typeof o=="function"?o(n):typeof o=="object"&&!(o instanceof Na)&&((u=o.action)==null||u.call(o,n)),c==null||c(),(d=this.enterEach)==null||d.call(this,r,l),l!==r&&l!==Na.child&&l!==Na.parent&&((p=(h=this.states[l]).onEnter)==null||p.call(h,r,n))}transitionAsync(t,n){setTimeout(()=>{this.transition(t,n)},0)}is(t){return this.state===Na.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){var i,r;return this.state!==Na.child||!this.childState||(IB(this,this.childState),this.childState.transition(t,n),!this.childState.is(Na.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,YF),this.state=this.defaultState,(r=(i=this.states[this.state]).onEnter)==null||r.call(i),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof Na?(this.childState=t,this.childState.parent=this,n=Na.child):typeof t=="object"&&(t.target instanceof Na?(this.childState=t.target,this.childState.parent=this,n=Na.child):t.target!=null&&(n=t.target)),n}};kz.child="__child";kz.parent="__parent";var PR=kz,yRe=class extends cq{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const n of this.stateMachines)IB(this,n),n.transition(e,t)}transitionAsync(e,t){for(const n of this.stateMachines)IB(this,n),n.transitionAsync(e,t)}},Ob=1e3,ig=Ob*60,sy=ig*60,My=sy*24,uq=My*7,Oz=My*30,BE=My*365,KC=new Date().getTimezoneOffset()*ig,FR={millisecond:{milliseconds:1,hierarchy:"day",encode(e){return e.getTime()},decode(e){return new Date(e)}},second:{milliseconds:Ob,hierarchy:"day",encode(e,t){const n=t?0:KC;return Math.floor((e.getTime()-n)/Ob)},decode(e,t){const n=t?0:KC;return new Date(n+e*Ob)}},minute:{milliseconds:ig,hierarchy:"day",encode(e,t){const n=t?0:KC;return Math.floor((e.getTime()-n)/ig)},decode(e,t){const n=t?0:KC;return new Date(n+e*ig)}},hour:{milliseconds:sy,hierarchy:"day",encode(e,t){const n=t?0:KC;return Math.floor((e.getTime()-n)/sy)},decode(e,t){const n=t?0:KC;return new Date(n+e*sy)}},day:{milliseconds:My,hierarchy:"month",encode(e,t){const n=t?0:e.getTimezoneOffset()*ig;return Math.floor((e.getTime()-n)/My)},decode(e,t){let n;return t?(n=new Date(0),n.setUTCDate(n.getUTCDate()+e),n.setUTCHours(0,0,0,0)):(n=new Date(1970,0,1),n.setDate(n.getDate()+e)),n}},month:{milliseconds:Oz,hierarchy:"year",encode(e,t){return t?e.getUTCFullYear()*12+e.getUTCMonth():e.getFullYear()*12+e.getMonth()},decode(e,t){if(t){const n=Math.floor(e/12),i=e-n*12;return new Date(Date.UTC(n,i,1))}else{const n=Math.floor(e/12),i=e-n*12;return new Date(n,i,1)}}},year:{milliseconds:BE,hierarchy:void 0,encode(e,t){return t?e.getUTCFullYear():e.getFullYear()},decode(e,t){let n;return t?(n=new Date,n.setUTCFullYear(e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)):n=new Date(e,0,1,0,0,0,0),n}}};function _R(e){return typeof e=="string"?{unit:e,step:1,epoch:void 0,utc:!1}:{unit:e.unit,step:e.step??1,epoch:e.epoch,utc:e.utc??!1}}function BR(e,t,n,i){if(n==null)return 0;const r=FR[e];return Math.floor(r.encode(new Date(n),i))%t}function gw(e,t,n,i,r){const s=FR[t];return Math.floor((s.encode(new Date(e),i)-r)/n)}function GR(e,t,n,i,r){return FR[t].decode(e*n+r,i)}function DN(e,t,n,i,r){const s=new Date(e),o=gw(s,t,n,i,r);return GR(o,t,n,i,r)}function IN(e,t,n,i,r){const s=new Date(Number(e)-1),o=gw(s,t,n,i,r);return GR(o+1,t,n,i,r)}function Wl(e,t){const{unit:n,step:i,epoch:r,utc:s}=_R(e),o=BR(n,i,r,s);return DN(t,n,i,s,o)}function dq(e,t){const{unit:n,step:i,epoch:r,utc:s}=_R(e),o=BR(n,i,r,s);return IN(t,n,i,s,o)}function hq(e,t){const{unit:n,step:i,epoch:r,utc:s}=_R(e),o=BR(n,i,r,s);return GR(gw(IN(t,n,i,s,o),n,i,s,o)-1,n,i,s,o)}function fq(e,t){const{unit:n,step:i,epoch:r,utc:s}=_R(e),o=BR(n,i,r,s);return GR(gw(DN(t,n,i,s,o),n,i,s,o)+1,n,i,s,o)}function Pz(e,t,n){if(e.valueOf()>t.valueOf()&&([e,t]=[t,e],n!=null&&(n=[1-n[1],1-n[0]])),n!=null){const i=t.valueOf()-e.valueOf(),r=e.valueOf();e=new Date(r+n[0]*i),t=new Date(r+n[1]*i)}return[new Date(e),new Date(t)]}function NN(e,t,n,{extend:i=!1,visibleRange:r=[0,1],limit:s,defaultAlignment:o="start"}={}){const a=_R(e),{unit:l,step:c,utc:u}=a;let d;a.epoch!=null?d=a.epoch:o==="interval"?d=void 0:t.valueOf()>n.valueOf()?d=n:d=t;const h=BR(a.unit,a.step,d,a.utc);let[p,m]=Pz(t,n,r);p=i?DN(p,l,c,u,h):IN(p,l,c,u,h),m=i?IN(m,l,c,u,h):DN(m,l,c,u,h);const v=gw(p,l,c,u,h);let y=gw(m,l,c,u,h);return s!=null&&y-v>s&&(y=v+s),{range:[v,y],unit:l,step:c,utc:u,offset:h}}function Fz(e,t,n,i){const{range:[r,s]}=NN(e,t,n,i);return Math.abs(s-r)}function ic(e,t,n,i){const{range:[r,s],unit:o,step:a,utc:l,offset:c}=NN(e,t,n,i),u=[];for(let d=r;d<=s;d+=1){const h=GR(d,o,a,l,c);u.push(h)}return u}function QL(e,t,n,{extend:i,visibleRange:r,limit:s,defaultAlignment:o}={}){const{range:[a]}=NN(e,t,n,{extend:i,visibleRange:r,limit:s,defaultAlignment:o}),{range:[l]}=NN(e,t,n,{extend:i,limit:s,defaultAlignment:o});return a-l}function Rd(e){return typeof e=="string"?e:e.unit}function xg(e){return typeof e=="string"?1:e.step??1}function GE(e){return typeof e=="string"?void 0:e.epoch}function zE(e){return FR[Rd(e)].hierarchy}function na(e){return xg(e)*FR[Rd(e)].milliseconds}var jy=class{constructor(){this.enabled=!0}};P([z],jy.prototype,"enabled",2);P([z],jy.prototype,"stroke",2);P([z],jy.prototype,"strokeWidth",2);P([z],jy.prototype,"strokeOpacity",2);var yr=class extends Wt{constructor(){super(...arguments),this.enabled=!0,this.border=new jy,this._cachedFormatter=void 0}formatValue(e,t,n,i){var a;const{formatter:r,format:s}=this;let o;if(r!=null&&(o??(o=e(r,i))),s!=null){let l=this._cachedFormatter;(l==null||l.type!==t||l.format!==s)&&(l={type:t,format:s,formatter:fw.getFormatter(t,s)},this._cachedFormatter=l),o??(o=(a=l.formatter)==null?void 0:a.call(l,n))}return o!=null?String(o):void 0}};P([z],yr.prototype,"enabled",2);P([z],yr.prototype,"border",2);P([z],yr.prototype,"color",2);P([z],yr.prototype,"cornerRadius",2);P([z],yr.prototype,"fill",2);P([z],yr.prototype,"fillOpacity",2);P([z],yr.prototype,"fontStyle",2);P([z],yr.prototype,"fontWeight",2);P([z],yr.prototype,"fontSize",2);P([z],yr.prototype,"fontFamily",2);P([z],yr.prototype,"formatter",2);P([z],yr.prototype,"format",2);P([z],yr.prototype,"padding",2);P([z],yr.prototype,"itemStyler",2);function mw(e){const{enabled:t=!1,stroke:n}=(e==null?void 0:e.border)??{},r=(e==null?void 0:e.fill)!=null||t&&n!=null?e==null?void 0:e.padding:null;if(r==null)return{bottom:0,left:0,right:0,top:0};if(typeof r=="number")return{bottom:r,left:r,right:r,top:r};{const{bottom:s=0,left:o=0,right:a=0,top:l=0}=r;return{bottom:s,left:o,right:a,top:l}}}function CRe(e,t,n=0,i=0){const r=uf(e),s=!r&&i>=0&&i<=Math.PI?-1:1,o=!r&&n>=0&&n<=Math.PI?-1:1;let a=0;return t?a=s*Math.PI/2:o===-1&&(a=Math.PI),{configuredRotation:r,defaultRotation:a,parallelFlipFlag:s,regularFlipFlag:o}}function bRe(e,t){return e??(t?0:10)}function wRe(e,t,n,i){return e&&!t?n*i===-1?"top":"bottom":"middle"}function SRe(e,t,n,i,r){const s=t>0&&t<=Math.PI,o=n>0&&n<=Math.PI,a=s||o?-1:1;if(e)if(t||n){if(i*a===-1)return"end"}else return"center";else if(i*r===-1)return"end";return"start"}function NB(e,t){if(e!=null){if(typeof e=="string")return e;if(zn(e)&&t!=null)return e[Rd(t)]}}function xRe(e,t,n,i,r){const s=NB(e.format,i)??(typeof e.format=="string"?e.format:void 0);if(s==null)return{width:0,height:0};const o=xy(s),a=i?zE(i):void 0,l=NB(t==null?void 0:t.format,a),c=l?xy(l):o,u=new Date(n[0]),d=new Date(n[n.length-1]),h=a?ic(a,new Date(n[0]),new Date(n[n.length-1]),{extend:!0}):void 0;let p=0,m=0;if(o!=null){const v=mw(e),y=v.left+v.right,C=v.top+v.bottom;let S,x;h!=null&&h.length>1?(S=h[0],x=h[1]):(S=u,x=d);const R=ic(i,S,x,{limit:50});for(const A of R){const T=o(A),{width:L,height:O}=r.measureLines(T);p=Math.max(p,L+y),m=Math.max(m,O+C)}}if(c!=null&&h!=null){const v=mw(t),y=v.left+v.right,C=v.top+v.bottom;for(const S of h){const x=c(S),{width:R,height:A}=r.measureLines(x);p=Math.max(p,R+y),m=Math.max(m,A+C)}}return{width:Math.ceil(p),height:Math.ceil(m)}}function MRe(e,t,n,i,r){const s=mw(r),o=s.left+s.right,a=s.top+s.bottom,l=[];for(const{tickLabel:c,translation:u}of e){if(!c)continue;const{x:d,y:h}=n.transformBBox(new ut(t,u,0,0)),p=i.measureLines(c),m=p.width+o,v=p.height+a;l.push({point:{x:d,y:h},label:{text:c,width:m,height:v}})}return l}function ERe({width:e,height:t,spacing:n},i,r){const s=[];for(const o of[0,n]){const{x:a,y:l}=r.transformBBox(new ut(i,o,0,0));s.push({point:{x:a,y:l},label:{text:void 0,width:e,height:t}})}return s}var _z=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var n;const t=vs(e)?e:e.optionsKey;(n=this.moduleMap.get(t))==null||n.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(vs(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(vs(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},$d=class extends Ur{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new ut(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var m;const{ctx:t}=e;let{x1:n,y1:i,x2:r,y2:s}=this;n=this.align(n),i=this.align(i),r=this.align(r),s=this.align(s);const{fill:o,horizontal:a}=this,{globalAlpha:l}=t;o!=null&&(this.applyFillAndAlpha(t),t.beginPath(),t.moveTo(n,i),t.lineTo(r,i),t.lineTo(r,s),t.lineTo(n,s),t.closePath(),t.fill(),t.globalAlpha=l);const{stroke:c,strokeWidth:u,startLine:d,endLine:h}=this;if(!!((d||h)&&c&&u)){const{lineDash:v,lineDashOffset:y,lineCap:C,lineJoin:S}=this;this.applyStrokeAndAlpha(t),t.lineWidth=u,v&&t.setLineDash([...v]),y&&(t.lineDashOffset=y),C&&(t.lineCap=C),S&&(t.lineJoin=S),t.beginPath(),d&&(t.moveTo(n,i),a?t.lineTo(n,s):t.lineTo(r,i)),h&&(t.moveTo(r,s),a?t.lineTo(r,i):t.lineTo(n,s)),t.stroke(),t.globalAlpha=l}(m=this.fillShadow)==null||m.markClean(),super.render(e)}};$d.className="Range";P([Xe()],$d.prototype,"x1",2);P([Xe()],$d.prototype,"y1",2);P([Xe()],$d.prototype,"x2",2);P([Xe()],$d.prototype,"y2",2);P([Xe()],$d.prototype,"startLine",2);P([Xe()],$d.prototype,"endLine",2);P([Xe()],$d.prototype,"horizontal",2);function RRe(e){return e!=null&&Object.hasOwn(e,"toString")&&vs(e.toString())}function ARe(e){return e!=null&&Object.hasOwn(e,"valueOf")&&ii(e.valueOf())}function JL(e){return ii(e)||H4(e)||ARe(e)}function TRe(e,t){return e!=null&&(!t||JL(e))}function LB(e){return RRe(e)&&Object.hasOwn(e,"id")?e.id:e}function pq(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function gq(e,t){const n=pq(e);if(n==null)return!1;const i=wi.is(t)||Qc.is(t),r=s=>TRe(s,i)&&!isNaN(t.convert(s,{clamp:!0}));if(e.type==="range"){const[s,o]=n;return r(s)&&r(o)}else return r(n)}var DRe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},IRe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},NRe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},LRe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},sc=class extends Wt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};P([z],sc.prototype,"enabled",2);P([z],sc.prototype,"text",2);P([z],sc.prototype,"fontStyle",2);P([z],sc.prototype,"fontWeight",2);P([z],sc.prototype,"fontSize",2);P([z],sc.prototype,"fontFamily",2);P([z],sc.prototype,"padding",2);P([z],sc.prototype,"color",2);P([z],sc.prototype,"position",2);P([z],sc.prototype,"rotation",2);P([z],sc.prototype,"parallel",2);var ua=class extends Wt{constructor(){super(),this.id=cu(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new sc,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new nn({name:this.id}),this.lineGroup=new nn({name:this.id}),this.labelGroup=new nn({name:this.id}),this.crossLineRange=new $d,this.crossLineLabel=new cw,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(e){const{enabled:t,type:n,data:i,scale:r}=this;if(!r||!t||!e||!gq(this,r)||i==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const s=n==="range";s!==this._isRange&&(s?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=s}calculateLayout(e){if(this.data=void 0,!e)return;const{type:t,range:n,value:i,scale:r,clippedRange:s,strokeWidth:o=0}=this;if(!r)return;const a=r.bandwidth??0,l=r.step??0,c=r instanceof Mf?(l-a)/2:0;let[u,d]=ms(s);u-=a,d+=a;let h,p,m,v;if(t==="line"){const y=a/2;if(h=r.convert(i)+y,p=NaN,m=r.convert(i,{clamp:!0})+y,v=NaN,m>=d||m<=u)return}else if(n){const[y,C]=n,[S,x]=qK(y,C);if(h=r.convert(y,{alignment:S}),p=r.convert(C,{alignment:x}),m=r.convert(y,{clamp:!0,alignment:S}),v=r.convert(C,{clamp:!0,alignment:x}),m>v&&([m,v]=[v,m],[h,p]=[p,h]),m>=d||v<=u)return;Number.isFinite(h)&&(m-=c),Number.isFinite(p)&&(p+=a,v+=a+c)}else return;m=FE(m,s),v=FE(v,s),h-c>=m&&(h-=c),p+c<=v&&(p+=c),this.startLine=o>0&&h>=m&&h<=m+c,this.endLine=o>0&&p>=v-a-c&&p<=v,this.data=[m,v],this.label.enabled===!1||this.label.text}updateNodes(){const{position:e,data:[t,n]=[0,0],gridLength:i}=this,r=Number.isFinite(n)?n-t:0;let s;switch(e){case"top":case"bottom":s=new ut(t,e==="top"?0:-i,r,i);break;case"left":case"right":s=new ut(e==="left"?0:-i,t,i,r)}this.updateRangeNode(s);const{label:o}=this;o.enabled!==!1&&o.text&&(this.updateLabel(),this.positionLabel(s))}updateRangeNode(e){const{type:t,position:n,crossLineRange:i,startLine:r,endLine:s,fill:o,fillOpacity:a,stroke:l,strokeWidth:c,strokeOpacity:u,lineDash:d}=this;i.x1=e.x,i.x2=e.x+e.width,i.y1=e.y,i.y2=e.y+e.height,i.horizontal=n==="top"||n==="bottom",i.startLine=r,i.endLine=s,i.fill=t==="range"?o:void 0,i.fillOpacity=a??1,i.stroke=l,i.strokeWidth=c??1,i.strokeOpacity=u??1,i.lineDash=d}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}get anchor(){const e=this.position==="left"||this.position==="right",t=this.type==="range",{position:n=this.defaultLabelPosition}=this.label;return t?(e?NRe:LRe)[n]:(e?DRe:IRe)[n]}positionLabel(e){const{crossLineLabel:t,label:n,anchor:i}=this;t.rotation=to(n.rotation??0),t.textBaseline="middle",t.textAlign="center";const r=t.getBBox();if(!r)return;const{width:s,height:o}=r,a=n.padding+s/2,l=n.padding+o/2,c=e.x+e.width*(i.rangeH+1)/2-a*i.labelH,u=e.y+e.height*(i.rangeV+1)/2-l*i.labelV;t.x=c,t.y=u,t.rotationCenterX=c,t.rotationCenterY=u}computeLabelSize(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new cw;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text,t.rotation=to(e.rotation??0),t.textBaseline="middle",t.textAlign="center";const n=t.getBBox();if(!n)return;const{width:i,height:r}=n;return{width:i,height:r}}calculatePadding(e){const{label:t,anchor:n}=this,i=this.computeLabelSize();if(!i)return;const{width:r,height:s}=i,o=t.padding+r,a=t.padding+s,l=this.position==="left"||this.position==="right";l&&(n.rangeH===-1&&n.labelH===1?e.left=Math.max(e.left??0,o):n.rangeH===1&&n.labelH===-1&&(e.right=Math.max(e.right??0,o))),l||(n.rangeV===-1&&n.labelV===1?e.top=Math.max(e.top??0,a):n.rangeV===1&&n.labelV===-1&&(e.bottom=Math.max(e.bottom??0,a)))}};ua.className="CrossLine";P([z],ua.prototype,"enabled",2);P([z],ua.prototype,"type",2);P([z],ua.prototype,"range",2);P([z],ua.prototype,"value",2);P([z],ua.prototype,"defaultColorRange",2);P([z],ua.prototype,"fill",2);P([z],ua.prototype,"fillOpacity",2);P([z],ua.prototype,"stroke",2);P([z],ua.prototype,"strokeWidth",2);P([z],ua.prototype,"strokeOpacity",2);P([z],ua.prototype,"lineDash",2);P([z],ua.prototype,"label",2);var ek=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};P([z],ek.prototype,"enabled",2);P([z],ek.prototype,"width",2);P([z],ek.prototype,"style",2);var $y=class extends Wt{};P([z],$y.prototype,"placement",2);P([z],$y.prototype,"step",2);P([z],$y.prototype,"values",2);P([z],$y.prototype,"minSpacing",2);P([z],$y.prototype,"maxSpacing",2);var Hi=class extends Wt{constructor(){super(...arguments),this.enabled=!0,this.border=new jy,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(e,t,n,i={dateStyle:"long",truncateDate:void 0}){var p;const{formatter:r,format:s}=this,{type:o,value:a,domain:l,boundSeries:c}=t,u=t.type==="number"?t.fractionDigits:void 0,d=t.type==="date"?t.unit:void 0;let h;if(r!=null){const m=t.type==="date"?t.step:void 0;h=e(r,{value:a,index:n,domain:l,fractionDigits:u,unit:d,step:m,boundSeries:c})}if(s!=null&&h==null){const{specifier:m,dateStyle:v,truncateDate:y}=i,C=`${v}:${y??"none"}`;let S=this._formatters[C];const x=fw.mergeSpecifiers(m,s);(S==null||S.type!==o||S.unit!==d||!aa(S.mergedFormat,x))&&(S={type:o,mergedFormat:x,unit:d,formatter:fw.getFormatter(o,x,d,v,i)},this._formatters[C]=S),h=(p=S.formatter)==null?void 0:p.call(S,a,u)}return h!=null?String(h):void 0}};P([z],Hi.prototype,"enabled",2);P([z],Hi.prototype,"border",2);P([z],Hi.prototype,"cornerRadius",2);P([z],Hi.prototype,"fill",2);P([z],Hi.prototype,"fillOpacity",2);P([z],Hi.prototype,"fontStyle",2);P([z],Hi.prototype,"fontWeight",2);P([z],Hi.prototype,"fontSize",2);P([z],Hi.prototype,"fontFamily",2);P([z],Hi.prototype,"wrapping",2);P([z],Hi.prototype,"truncate",2);P([z],Hi.prototype,"spacing",2);P([z],Hi.prototype,"minSpacing",2);P([z],Hi.prototype,"color",2);P([z],Hi.prototype,"rotation",2);P([z],Hi.prototype,"avoidCollisions",2);P([z],Hi.prototype,"mirrored",2);P([z],Hi.prototype,"padding",2);P([z],Hi.prototype,"parallel",2);P([z],Hi.prototype,"itemStyler",2);P([z],Hi.prototype,"formatter",2);P([z],Hi.prototype,"format",2);var tk=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};P([z],tk.prototype,"enabled",2);P([z],tk.prototype,"width",2);P([z],tk.prototype,"stroke",2);var Yy=class extends Wt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};P([z],Yy.prototype,"enabled",2);P([z],Yy.prototype,"width",2);P([z],Yy.prototype,"size",2);P([z],Yy.prototype,"stroke",2);var uu=class extends Wt{constructor(){super(...arguments),this.caption=new nr,this.enabled=!1,this.spacing=nr.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};P([z],uu.prototype,"enabled",2);P([z],uu.prototype,"text",2);P([z],uu.prototype,"spacing",2);P([z],uu.prototype,"fontStyle",2);P([z],uu.prototype,"fontWeight",2);P([z],uu.prototype,"fontSize",2);P([z],uu.prototype,"fontFamily",2);P([z],uu.prototype,"color",2);P([z],uu.prototype,"wrapping",2);P([z],uu.prototype,"formatter",2);var mq=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(mq||{});function vq(e){const[t,n]=ms(e.range),i=Math.floor(t),r=Math.ceil(n);return{min:i,max:r,visible:i!==r}}var kB=Math.PI*2,kRe=kB/2;function ORe(e,t){return Math.abs(t-e)<kRe?t:e>t?t+kB:t-kB}function yq(e){const{min:t,max:n}=e,i=l=>l<t||l>n;return{tick:{fromFn(l,c,u){let{x1:d,x2:h,y1:p,y2:m}=l,v=l.opacity;return(u==="added"||i(c.offset))&&({x1:d,x2:h,y1:p,y2:m}=c,v=0),{x1:d,x2:h,y1:p,y2:m,opacity:v,phase:Kc[u]}},toFn(l,c,u){const{x1:d,x2:h,y1:p,y2:m}=c;let v=1;return u==="removed"&&(v=0),{x1:d,x2:h,y1:p,y2:m,opacity:v}},applyFn(l,c){l.setProperties(c),l.visible=!i(l.y)}},line:{fromFn(l,c){const{x1:u,x2:d,y1:h,y2:p}=l.previousDatum??c;return{x1:u,x2:d,y1:h,y2:p,phase:Kc.updated}},toFn(l,c){const{x1:u,x2:d,y1:h,y2:p}=c;return{x1:u,x2:d,y1:h,y2:p}}},label:{fromFn(l,c,u){const d=l.previousDatum??c;let{x:h,y:p,rotationCenterX:m,rotationCenterY:v,rotation:y}=d,C=l.opacity;return u==="removed"||i(d.y)?y=c.rotation:(u==="added"||i(l.datum.y))&&({x:h,y:p,rotationCenterX:m,rotationCenterY:v,rotation:y}=c,C=0),{x:h,y:p,rotationCenterX:m,rotationCenterY:v,rotation:y,opacity:C,phase:Kc[u]}},toFn(l,c,u){var C;const{x:d,y:h,rotationCenterX:p,rotationCenterY:m}=c;let v=0,y=1;return u==="added"?v=c.rotation:u==="removed"?(y=0,v=c.rotation):v=ORe(((C=l.previousDatum)==null?void 0:C.rotation)??c.rotation,c.rotation),{x:d,y:h,rotationCenterX:p,rotationCenterY:m,rotation:v,opacity:y,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){const{translationX:u,translationY:d}=l;return{translationX:u,translationY:d,phase:Kc.updated}},toFn(l,c){const{translationX:u,translationY:d}=c;return{translationX:u,translationY:d}}}}}function Cq(){return(e,t)=>({translationX:t.translationX,translationY:t.translationY})}function LN(){return(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})}function OB(){return(e,t)=>{const{x1:n,x2:i,y1:r,y2:s}=t;return{x1:n,x2:i,y1:r,y2:s}}}function bq(){return(e,t)=>{const{x1:n,x2:i,y1:r,y2:s}=t;return{x:n,y:r,width:i-n,height:s-r}}}var wq=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(wq||{});function $5(e,t){var n,i,r,s;return e.domain===t.domain&&e.rangeExtent===t.rangeExtent&&e.nice===t.nice&&e.gridLength===t.gridLength&&e.visibleRange[0]===t.visibleRange[0]&&e.visibleRange[1]===t.visibleRange[1]&&((n=e.initialPrimaryTickCount)==null?void 0:n.unzoomed)===((i=t.initialPrimaryTickCount)==null?void 0:i.unzoomed)&&((r=e.initialPrimaryTickCount)==null?void 0:r.zoomed)===((s=t.initialPrimaryTickCount)==null?void 0:s.zoomed)}var Rf=class Sq{constructor(t,n){this.moduleCtx=t,this.scale=n,this.id=cu(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new $y,this.dataDomain={domain:[],clipped:!1},this.title=new uu,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new nn({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new tb({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new tb({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new nn({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new Io({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new nn({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new nn({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new tb({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new tb({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new tb({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=No.select(this.tickLabelGroup,cw,!1),this.line=new tk,this.tick=new Yy,this.gridLine=new ek,this.label=this.createLabel(),this.defaultTickMinSpacing=Sq.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new sr,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new HSe(()=>{const{direction:i,boundSeries:r}=this;return Uh(r.flatMap(s=>s.getFormatterContext(i)))}),this.moduleMap=new _z,this.range=this.scale.range.slice(),this.crossLines.forEach(i=>this.initCrossLine(i)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",i=>this.onMouseMove(i)))}set crossLines(t){const{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(i=>this.detachCrossLine(i)),this._crossLines=t.map(i=>{const r=new n;return r.set(i),r}),this._crossLines.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(t){}onMouseMove(t){const n=this.tickLabelGroup.pickNode(t.currentX,t.currentY),i=n==null?void 0:n.datum,{textUntruncated:r=void 0}=i??{};r!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:t.currentX,canvasY:t.currentY,showArrow:!1},[{type:"structured",title:r}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(t){const{range:n,scale:i}=this,r=(n[1]-n[0])/(t[1]-t[0]),s=r*t[0],o=n[0]-s;i.range=[o,o+r]}updateScale(){const{range:[t,n]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(i=>{i.clippedRange=[t,n]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,n=0){const[i,r]=ms(this.range);return t>=i-n&&t<=r+n}getRangeOverflow(t){const{range:n,visibleRange:i}=this,r=(n[1]-n[0])/(i[1]-i[0]),[s,o]=ms([n[0]-r*i[0],n[0]-r*i[0]+r]);return t<s?t-s:t>o?t-o:0}createDatumFormatter(t,n){}onGridLengthChange(t,n){n^t&&this.onGridVisibilityChange(),this.crossLines.forEach(i=>this.initCrossLine(i))}onGridVisibilityChange(){}createLabel(){return new Hi}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(t,n,i=this.label){const r={border:i.border,color:i.color,cornerRadius:i.cornerRadius,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,padding:i.padding,spacing:i.spacing};let s;i.itemStyler&&(s=this.cachedCallWithContext(i.itemStyler,{...t,...r}));const o=Gn(s,n,r);return{border:o.border,color:o.color,cornerRadius:o.cornerRadius,fill:o.fill,fillOpacity:o.fillOpacity,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,padding:o.padding,spacing:o.spacing}}getTickSize(t=this.tick){return t.enabled?t.size:0}processData(){this.invalidateLayoutCache();const{includeInvisibleDomains:t,boundSeries:n,direction:i}=this,s=(t?n:n.filter(o=>o.isEnabled())).map(o=>o.getDomain(i));this.setDomains(...s)}setDomains(...t){let n,i;t.length>0?{domain:n,animatable:i}=this.scale.normalizeDomains(...t):(n=[],i=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=i}calculateDomain(t){const{dataDomain:{domain:n},range:i,nice:r,scale:s,gridLength:o}=this,a=pw(i),l=[0,1];this.updateScale();const{unzoomedTickLayoutCache:c}=this;let u;if(c==null||!$5(c,{domain:n,rangeExtent:a,nice:r,gridLength:o,visibleRange:l,initialPrimaryTickCount:t})){const d=s.range;this.setScaleRange([0,1]);const h=r?0:2;u=this.calculateTickLayout(n,h,[0,1],t),s.range=d,this.unzoomedTickLayoutCache={domain:n,rangeExtent:a,nice:r,gridLength:o,visibleRange:l,initialPrimaryTickCount:t,tickLayout:u}}else u=c.tickLayout;return this.updateScale(),s.domain=u.niceDomain,{unzoomedTickLayout:u,domain:s.domain}}calculateLayout(t,n){this.chartLayout=n;const{visibleRange:i,nice:r}=this,s=i[0]===0&&i[1]===1,{unzoomedTickLayout:o,domain:a}=this.calculateDomain(t);let l;if(s)l=o;else{const{range:m,gridLength:v}=this,y=pw(m),C=r?1:2,{tickLayoutCache:S}=this;S==null||!$5(S,{domain:a,rangeExtent:y,nice:r,gridLength:v,visibleRange:i,initialPrimaryTickCount:t})?(l=this.calculateTickLayout(a,C,i,t),this.tickLayoutCache={domain:a,rangeExtent:y,nice:r,gridLength:v,visibleRange:i,initialPrimaryTickCount:t,tickLayout:l}):l=S.tickLayout}const{rawTickCount:c=0,fractionDigits:u,bbox:d}=l,h=o.rawTickCount??0,p=c!==0&&h!==0?{zoomed:c,unzoomed:h}:void 0;return this.tickLayout=l.layout,this.layout.label={fractionDigits:u,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:p,bbox:d}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.update(t)})}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:n,crossLineLabelGroup:i,gridGroup:r,translation:s}=this,o=Math.floor(s.x),a=Math.floor(s.y);r.setProperties({translationX:o,translationY:a}),t.setProperties({translationX:o,translationY:a}),n.setProperties({translationX:o,translationY:a}),i.setProperties({translationX:o,translationY:a})}tickFormatter(t,n,i,r,s,o="long"){const{moduleCtx:a,label:l}=this,{formatManager:c}=a,u=i?this.primaryLabel:void 0,d=this.tickFormatParams(t,n,r,s),h=this.formatterBoundSeries.get();let p,m,v;if(d.type==="number")p=d.fractionDigits;else if(d.type==="date"){const{unit:A,step:T,epoch:L}=d;m={unit:A,step:T,epoch:L},v=d.truncateDate}const y=this.uncachedCallWithContext.bind(this),C={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:t,boundSeries:h},S=u??l,x=i?l.format:void 0,R={specifier:fw.mergeSpecifiers(u==null?void 0:u.format,l.format),truncateDate:v};return(A,T)=>{const L=this.datumFormatParams(A,C,p,m,o);return L.value=A,S.formatValue(y,L,T,{specifier:x,dateStyle:o,truncateDate:v})??c.format(y,L,R)??c.defaultFormat(L,R)}}formatDatum(t,n,i,r,s,o,a,l,c,u){if(n==null)return"";const{moduleCtx:d,direction:h,dataDomain:p}=this;l??(l=p.domain);const{formatManager:m}=d,v=this.formatterBoundSeries.get();let y;switch(i){case"crosshair":case"annotation-label":y=this.layout.label.fractionDigits+1;break;case"series-label":y=2;break;case"tooltip":y=3;break;case"legend-label":y=void 0;break}const C=this.datumFormatParams(n,{source:i,datum:o,seriesId:r,legendItemName:s,key:a,property:h,domain:l,boundSeries:v},y,void 0,"long"),{type:S,value:x}=C,R=this.createCallWithContext(t),A=(c==null?void 0:c.formatValue(R,S,x,u??C))??m.format(R,C)??this.label.formatValue(R,C,NaN)??m.defaultFormat(C);return String(A)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(t=>t.isEnabled())}clipTickLines(t,n,i,r){this.tickLineGroup.setClipRect(new ut(t,n,i,r))}clipGrid(t,n,i,r){this.gridGroup.setClipRect(new ut(t,n,i,r))}getTitleFormatterParams(t){var r;const{direction:n}=this,i=this.formatterBoundSeries.get();return{domain:t,direction:n,boundSeries:i,defaultValue:(r=this.title)==null?void 0:r.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:wi.is(t)||Qc.is(t),getCanvasBounds:()=>mr.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,i)=>(i.getKeyProperties(this.direction).forEach(s=>n.add(s)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleInvert:n=>t.invert(n,!0),scaleInvertNearest:n=>t.invert(n,!0),formatScaleValue:(n,i,r)=>this.formatDatum(void 0,n,i,void 0,void 0,void 0,void 0,void 0,r),attachLabel:n=>this.attachLabel(n),inRange:(n,i)=>this.inRange(n,i),getRangeOverflow:n=>this.getRangeOverflow(n),pickBand:n=>this.pickBand(n)}}pickBand(t){if(!Mf.is(this.scale))return;const{scale:n,range:i}=this,r=n.invert(this.isVertical()?t.y:t.x,!0),s=n.bandwidth??0,a=((n.step??0)-s)/2,l=n.convert(r),c=l-a,u=l+s+a;return{id:this.id,value:r,band:[FE(c,i),FE(u,i)],position:l}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(t,...n){const{callbackCache:i,chartService:r}=this.moduleCtx;return i.call([this,r],t,...n)}uncachedCallWithContext(t,...n){const{chartService:i}=this.moduleCtx;return nu([this,i],t,...n)}createCallWithContext(t){const{chartService:n}=this.moduleCtx;return(i,...r)=>nu([t,this,n],i,...r)}};Rf.defaultTickMinSpacing=50;Rf.CrossLineConstructor=ua;P([z],Rf.prototype,"nice",2);P([z],Rf.prototype,"reverse",2);P([z],Rf.prototype,"keys",2);P([z],Rf.prototype,"interval",2);P([z],Rf.prototype,"title",2);P([Pg((e,t,n)=>e.onGridLengthChange(t,n))],Rf.prototype,"gridLength",2);var Bz=Rf;function dl(e){return e instanceof Date?e.getTime():e}function zR(e){return e<Ob?"millisecond":e<ig?"second":e<sy?"minute":e<sy*23?"hour":e<28*My?"day":e<BE?"month":"year"}function Gz(e){if(e.length===0)return"millisecond";if(e.length===1)return nk(e[0]);let t=1/0;for(let n=1;n<e.length;n++)t=Math.min(t,Math.abs(e[n].valueOf()-e[n-1].valueOf()));return zR(t)}function nk(e){return Wl("second",e)<e?"millisecond":Wl("minute",e)<e?"second":Wl("hour",e)<e?"minute":Wl("day",e)<e?"hour":Wl("month",e)<e?"day":Wl("year",e)<e?"month":"year"}function zz(e){const[t,n]=e.length===0?[0,0]:ms([e[0].valueOf(),e[e.length-1].valueOf()]),i=new Date(t).getFullYear(),r=new Date(n).getFullYear();if(i!==r)return;const s=new Date(t).getMonth(),o=new Date(n).getMonth();if(s!==o)return"year";const a=new Date(t).getDate(),l=new Date(n).getDate();return a!==l?"month":"day"}function xq(e,t,n){if(n==null||n[0]===0&&n[1]===1)return{ticks:e,count:e.length,firstTickIndex:0};const i=Gt(0,Math.floor(n[0]*e.length),e.length),r=Gt(0,Math.ceil(n[1]*e.length),e.length),s=t?e.length-r:i,o=t?e.length-i:r;return{ticks:e.slice(s,o),count:e.length,firstTickIndex:s}}var Fw=class Mq extends Mf{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(t){return t instanceof Mq}set domain(t){this._domain!==t&&(this.invalid=!0,this._domain=t,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...t){let n;const i=new Set;let r=!0;for(const s of t)i.has(s)||(i.add(s),n==null?n=Y5(s):(r&&(r=PRe(s,n)),n=Y5([...n,...s])));return n??(n=[]),{domain:n,animatable:r}}toDomain(t){}invert(t,n=!1){this.refresh();const i=n?this.bandwidth/2:0,r=this.invertNearestIndex(Math.max(0,t-i));return n||t===this.ordinalRange(r)?this.domain[r]:void 0}ticks(t,n=this.domain,i){const{bands:r}=this;let{tickCount:s}=t;if(s===0){const v=r.length>1?1:0;return{ticks:[r[v]],count:void 0,firstTickIndex:v}}let o=s!=null&&s!==0?r.length/s|0:1;if(o=RB(o),o<=1)return xq(n,!1,i);s=r.length/o|0;const a=o*s,l=RB((r.length-a)/2|0),c=Gt(0,Math.floor(((i==null?void 0:i[0])??0)*r.length),r.length),u=Gt(0,Math.ceil(((i==null?void 0:i[1])??1)*r.length),r.length),d=Math.floor((c-l)/o)*o+l,h=Math.ceil((u-l)/o)*o+l,p=[];for(let v=d;v<h;v+=o)v>=0&&v<r.length&&p.push(r[v]);let m=p.length>0?this.findIndex(p[0]):void 0;return m!=null&&(m=Math.floor((m-l)/o)),{ticks:p,count:void 0,firstTickIndex:m}}findIndex(t){const{index:n,indexInitialized:i}=this;if(!i){const{domain:r}=this;for(let s=0;s<r.length;s++)n.set(dl(r[s]),s);this.indexInitialized=!0}return n.get(dl(t))}};function Y5(e){let t;const n=new Set;for(const i of e){const r=dl(i),s=n.size;n.add(r),n.size!==s?t==null||t.push(i):t??(t=e.slice(0,n.size))}return t??e}function PRe(e,t){let n=-1;for(const i of e){const r=t.indexOf(i);if(r===-1)n=1/0;else{if(r<=n)return!1;n=r}}return!0}function Hz(e,t){return e.valueOf()-t.valueOf()}function FRe(e){let t=NaN;const n=[];for(const i of e){const r=i.valueOf();t!==r&&n.push(i),t=r}return n}function PB(e){const t=e.slice().sort(Hz);return Vz(t)==null?FRe(t):t}function Vz(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let n=-1/0*t;for(const i of e){const r=i.valueOf();if(Math.sign(r-n)!==t)return;n=r}return t}var ar=(e,t)=>({duration:na(e)*t,timeInterval:e,step:t}),FB=[ar({unit:"second"},1),ar({unit:"second"},5),ar({unit:"second"},15),ar({unit:"second"},30),ar({unit:"minute"},1),ar({unit:"minute"},5),ar({unit:"minute"},15),ar({unit:"minute"},30),ar({unit:"hour"},1),ar({unit:"hour"},3),ar({unit:"hour"},6),ar({unit:"hour"},12),ar({unit:"day"},1),ar({unit:"day"},2),ar({unit:"day",step:7},1),ar({unit:"day",step:7},2),ar({unit:"day",step:7},3),ar({unit:"month"},1),ar({unit:"month"},2),ar({unit:"month"},3),ar({unit:"month"},4),ar({unit:"month"},6),ar({unit:"year"},1)],Eq=[1,2,5,10];function K5(e,t){return Math.abs(Math.round(e)-e)<t}function Rq(e,t,n){return Math.abs(t-e)>=n?Math.abs(t-e)/n+1:1}function HR(e,t,n,i,r,s){if(e===t)return{ticks:[e],count:1,firstTickIndex:0};if(n<2)return{ticks:[e,t],count:2,firstTickIndex:0};const o=HE(e,t,n,i,r);if(!Number.isFinite(o))return{ticks:[],count:0,firstTickIndex:void 0};let a=e,l=t;if(K5(a/o,1e-12)||(a=Math.ceil(a/o)*o),K5(l/o,1e-12)||(l=Math.floor(l/o)*o),s!=null){const d=l-a,h=t-e,p=e+h*s[0],m=e+h*s[1];s=[(p-a)/d,(m-a)/d]}const{ticks:c}=rk(a,l,o,s),u=c.at(0);return{ticks:c,count:Rq(a,l,o),firstTickIndex:u==null?void 0:Math.round((u-a)/o)}}var _Re=Math.floor(2*uq/Oz*10)/10;function q5({timeInterval:e,step:t}){const n=na(e)*t,i=zE(e),r=i?na(i):void 0;return n<=(r??1/0)*_Re}function Aq(e,{weekStart:t}){if(e.unit==="day"&&e.step===7)return t}function ik(e,t,n,i,r,{weekStart:s,primaryOnly:o=!1,targetInterval:a}){if(n<=0)return;const l=a??Math.abs(t-e)/Math.max(n,1),c=FB.findLast(p=>(!o||q5(p))&&l>p.duration),u=FB.find(p=>(!o||q5(p))&&l<=p.duration);if(c==null)return{unit:"millisecond",step:Math.max(HE(e,t,n,i,r),1)};if(u==null)return{unit:"year",step:a==null?HE(e/BE,t/BE,n,i,r):1};const{timeInterval:d,step:h}=l-c.duration<u.duration-l?c:u;return{unit:d.unit,step:xg(d)*h,epoch:Aq(d,{weekStart:s})}}function HE(e,t,n,i=0,r=1/0){if(e===t)return Gt(1,i,r);if(n<1)return NaN;const s=Math.abs(t-e),o=10**Math.floor(Math.log10(s/n));let a=NaN,l=1/0,c=!1;for(const u of Eq){const d=Math.ceil(s/(u*o)),h=d>=i&&d<=r;if(c&&!h)continue;const p=Math.abs(d-n);(l>p||c!==h)&&(c||(c=h),l=p,a=u)}return a*o}function Z5(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function Tq(e,t){const n=X4(t??",f");if(n==null)return;(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r))return 0;const[s,o]=r.toExponential((n.type?6:12)-1).split(/[.e]/g);return(s!=="1"&&s!=="-1"?1:0)+Z5(o)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r)||r===0)return 0;const s=Math.floor(Math.log10(Math.abs(r))),o=n.type?6:12,a=r.toExponential(o-1).split(/[.e]/g)[1],l=Z5(a);return Math.max(0,l-s)}))));const i=EY(n);return r=>i(Number(r))}function rk(e,t,n,i){if(!Number.isFinite(n)||n<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(e===t)return{ticks:[e],count:1,firstTickIndex:0};const r=10**Z4(n),s=Math.min(e,t),o=Math.max(e,t);let a,l;if(i!=null&&(i[0]!==0||i[1]!==1)){const d=t-e,h=e+d*i[0],p=t-d*(1-i[1]);a=Math.min(h,p),l=Math.max(h,p)}else a=s,l=o;a=Math.floor(a*r)/r,l=Math.ceil(l*r)/r;const c=[];for(let d=0;;d+=1){const h=Math.round((s+n*d)*r)/r;if(h>o)break;h>=a&&h<=l&&c.push(h)}const u=c.at(0);return{ticks:c,count:Rq(s,o,n),firstTickIndex:u==null?void 0:Math.round((u-s)/n)}}function vw(e,t){return e>=t?(Je.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function Dq(e,t){const n=Math.abs(t-e),i=10**Math.floor(Math.log10(n));let r=1/0,s=[e,t];for(const o of Eq){const a=o*i,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,u=1-n/Math.abs(c-l);r>u&&(r=u,s=[l,c])}return s}function Iq(e,t,n,i,r,s){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};s=Math.max(s,e/(r+1)),n??(n=s),i??(i=e),n>i&&(n===s?n=i:i=n),n=Math.max(n,1);const o=Math.max(1,Math.floor(e/(t*n))),a=Math.min(o,Math.ceil(e/(t*i))),l=Gt(a,Math.floor(r/t),o);return{minTickCount:a,maxTickCount:o,tickCount:l}}var sk=new Date(1970,0,4),yb=class Nq extends wi{constructor(){super([],[0,1]),this.type="time"}static is(t){return t instanceof Nq}toDomain(t){return new Date(t)}convert(t,n){return super.convert((t==null?void 0:t.valueOf())??NaN,n)}invert(t){return new Date(super.invert(t))}niceDomain(t,n=this.domain){if(n.length<2)return[];let[i,r]=n;const s=4,o=this.getPixelRange();for(let a=0;a<s;a++){const[l,c]=GRe(i,r,t,o);if(dl(i)===dl(l)&&dl(r)===dl(c))break;i=l,r=c}return[i,r]}ticks(t,n=this.domain,i=[0,1],{extend:r=!1}={}){const{nice:s,interval:o,tickCount:a=wi.defaultTickCount,minTickCount:l,maxTickCount:c}=t;if(n.length<2)return;const u=n.map(dl),d=u[0],h=u[u.length-1];if(o!=null){const y=this.getPixelRange();return{ticks:Uz({start:d,stop:h,interval:o,availableRange:y,visibleRange:i,extend:r})??BRe({start:d,stop:h,tickCount:a,minTickCount:l,maxTickCount:c,visibleRange:i,extend:r}),count:void 0}}else{if(s&&a===2)return{ticks:n,count:void 0};if(s&&a===1)return{ticks:n.slice(0,1),count:void 0}}const p=ik(d,h,a,l,c,{weekStart:sk});if(p==null)return;const m=ic(p,new Date(d),new Date(h),{visibleRange:i,extend:r}),v=QL(p,new Date(d),new Date(h),{visibleRange:i,extend:r});return{ticks:m,count:void 0,firstTickIndex:v,timeInterval:p}}};function BRe({start:e,stop:t,tickCount:n,minTickCount:i,maxTickCount:r,visibleRange:s,extend:o}){const a=ik(e,t,n,i,r,{weekStart:sk});return a?ic(a,new Date(e),new Date(t),{visibleRange:s,extend:o}):[]}function Uz({start:e,stop:t,interval:n,availableRange:i,visibleRange:r,extend:s}){if(!n)return[];if(zn(n)||typeof n=="string"){const d=ic(n,new Date(e),new Date(t),{visibleRange:r,extend:s});return vw(d.length,i)?void 0:d}const o=Math.abs(n);if(vw(Math.abs(t-e)/o,i))return;const a=FB.findLast(d=>o%d.duration===0);if(a){const{timeInterval:d,step:h,duration:p}=a,m={...d,step:h*xg(d)*Math.round(o/p),epoch:Aq(d,{weekStart:sk})};return ic(m,new Date(e),new Date(t),{visibleRange:r,extend:s})}let l=new Date(Math.min(e,t));const c=new Date(Math.max(e,t)),u=[];for(;l<=c;)u.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+o);return u}function GRe(e,t,n,i){const{interval:r}=n,s=Math.min(dl(e),dl(t)),o=Math.max(dl(e),dl(t));let a;if(zn(r)||typeof r=="string")a=r;else{let d;typeof r=="number"&&(d=(o-s)/Math.max(r,1),vw(d,i)&&(d=void 0)),d??(d=n.tickCount??wi.defaultTickCount),a=ik(s,o,d,n.minTickCount,n.maxTickCount,{weekStart:sk})}if(a==null)return[e,t];const l=ic(a,new Date(s),new Date(o),{extend:!0});if(l==null||l.length<2)return[e,t];const c=l[0],u=l[l.length-1];return e<=t?[c,u]:[u,c]}var rb=class Lq extends Qc{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=wi.defaultTickCount,this._domain=[],this.isReversed=!1}static is(t){return t instanceof Lq}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this._bands=void 0,this.isReversed=X5(t))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...t){const n=t.filter(i=>i.length>0);if(n.length===0)return{domain:[],animatable:!1};if(n.length===1){let i=n[0];const r=Vz(i);return r===-1?i=i.slice().reverse():r==null&&(i=PB(i.slice())),{domain:i,animatable:!0}}return{domain:PB(n.flat()),animatable:!0}}ticks(t,n,i=[0,1],{extend:r=!1,dropInitial:s=!1}={}){const{interval:o,maxTickCount:a,tickCount:l=a}=t,{bands:c}=this;if(!c.length)return;if(this.refresh(),o==null){const{ticks:S,tickOffset:x,tickEvery:R}=this.getDefaultTicks(n,l,i,r);let A=S.length>0?this.findIndex(S[0]):void 0;return A=A!=null?Math.floor((A-x)/R):void 0,{ticks:S,count:void 0,firstTickIndex:A}}let u,d;n&&n.length>=2?(u=n[0].valueOf(),d=n[n.length-1].valueOf()):(u=c[0].valueOf(),d=c[c.length-1].valueOf());const[h,p]=this.range,m=Math.abs(p-h),v=Uz({start:u,stop:d,interval:o,availableRange:m,visibleRange:i,extend:r})??this.getDefaultTicks(n,l,i,r).ticks,y=[];let C=-1;for(const S of v){const x=this.findIndex(S,1)??-1,R=x===C;C=x,!(s&&x===0)&&x!==-1&&!R&&y.push(c[x])}return{ticks:y,count:void 0,firstTickIndex:void 0}}stepTicks(t,n,i=[0,1],r=!0){const s=n?this.bandDomainIndices(n):void 0,o=this.ticksEvery(s,i,t,0,!1),a=o.at(-1),l=r&&t>1?s==null?void 0:s[1]:void 0,c=l!=null&&a!=null?this.findIndex(a):void 0;return c!=null&&l!=null&&l-c<t&&o.pop(),o}bandCount(t=[0,1]){const{domain:n}=this,i=Math.floor(t[0]*n.length);return Math.ceil(t[1]*n.length)-i}getDefaultTicks(t,n,i,r){const{bands:s}=this,o=Math.ceil(s.length/n),a=Math.floor(o/2),l=t?this.bandDomainIndices(t):void 0;return{ticks:this.ticksEvery(l,i,o,a,r),tickOffset:a,tickEvery:o}}bandDomainIndices(t){const n=X5(t),i=this.findIndex(t[n?t.length-1:0],1)??0,r=this.findIndex(t[n?0:t.length-1],1)??this.bands.length-1;return[i,r]}ticksEvery([t,n]=[0,this.bands.length],i,r,s,o){const{bands:a}=this,l=t,c=n-t+1;let u=l+Math.floor(i[0]*c),d=l+Math.ceil(i[1]*c);o&&(u-=r,d+=r),u=Math.max(u,0),d=Math.min(d,a.length);let h;if(r<=1)h=a.slice(u,d);else{h=[];for(let p=u;p<d;p+=1)(p-l+s)%r===0&&h.push(a[p])}return h}};function X5(e){return e.length>0&&e[0]>e[e.length-1]}var kq=5e7,Kp=class Oq extends Qc{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(t){return t instanceof Oq}static supportsInterval(t,n){return Q5(t,n)}set domain(t){t!==this._domain&&(this._domain=t,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(t){this._interval!==t&&(this._interval=t,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...t){return Rz(...t)}convert(t,n){t instanceof Date||(t=new Date(t));const{domain:i,interval:r}=this;if(i.length<2)return NaN;if((n==null?void 0:n.clamp)!==!0&&r!=null){const s=t.valueOf(),[o,a]=mI(i,r),l=Math.min(o.valueOf(),a.valueOf()),c=Math.max(o.valueOf(),a.valueOf());if(s<l||s>=c+na(r))return NaN}return super.convert(t,n)}calculateBands(t,n,i=!1){if(t===this.domain&&n[0]===0&&n[1]===1&&!i&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(t.length<2)return{bands:[],firstBandIndex:void 0};const{interval:r}=this;if(r==null)return{bands:[],firstBandIndex:void 0};const s={visibleRange:n,extend:i};if(!Q5(t,r,s))return{bands:[],firstBandIndex:void 0};const[o,a]=mI(t,r);if(Fz(r,o,a,s)>kq)return Je.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};const l=ic(r,o,a,s),c=QL(r,o,a,s);return{bands:l,firstBandIndex:c}}ticks({interval:t},n=this.domain,i=[0,1],{extend:r=!1}={}){if(n.length<2)return;const{bands:s,firstBandIndex:o}=this.calculateBands(n,i,r),a=this.interval?na(this.interval):1/0;if(t==null)return{ticks:s,count:void 0,firstTickIndex:o};const l=Math.min(n[0].valueOf(),n[1].valueOf()),c=Math.max(n[0].valueOf(),n[1].valueOf());let u,d,h;zn(t)||typeof t=="string"?(u=ic(t,n[0],n[1],{extend:!0,visibleRange:i}),d=0,h=u.length-1):(u=s,d=Ov(0,s.length-1,x=>s[x].valueOf()<=l)??0,h=Ov(0,s.length-1,x=>s[x].valueOf()<=c)??s.length-1);const p=[];let m;for(let x=d;x<=h;x++){const R=u[x].valueOf(),A=Ov(0,s.length-1,L=>s[L].valueOf()<=R),T=A!=null&&A!=m?s[A]:void 0;m=A,T!=null&&R-T.getTime()<=a&&p.push(T)}let v,y;if(this.interval){const x=mI([new Date(l),new Date(c)],this.interval);v=x[0].valueOf(),y=x[1].valueOf()}else v=l,y=c;let C=TE(0,p.length-1,x=>p[x].valueOf()>=v)??0,S=Ov(0,p.length-1,x=>p[x].valueOf()<=y)??p.length-1;return r&&(C=Math.max(C-1,0),S=Math.min(S+1,p.length-1)),{ticks:p.slice(C,S+1),count:p.length,firstTickIndex:o}}};function Q5(e,t,n){const[i,r]=mI(e,t);return Fz(t,i,r,n)<=kq}function mI(e,t){const n=Wl(t,e[0]),i=Wl(t,e[1]);return[n,i]}function zRe(e,t,n,i,r){let[s,o]=ms(t.map(Number));const a=Math.floor(n.unzoomed);if(a<=1){const[C,S]=HRe(s,o),x=5*Math.pow(2,-Math.ceil(Math.log2(r[1]-r[0]))),{ticks:R}=HR(C,S,x,void 0,void 0,r),A=[e.toDomain(C),e.toDomain(S)];return i&&A.reverse(),{domain:A,ticks:R}}if(s===o){const C=Math.floor(Math.log10(s)),S=Math.pow(10,C),x=Math.min(S,1),R=a-1;s-=x*Math.floor(R/2),o=s+x*R}let l=s,c=o;l=VRe(l,c,a);const u=WRe(l,c,a),d=a-1;c=l+d*u;const h=Math.floor(l/u)*u,p=Math.floor(c/u)*u;h<=s&&p>=o&&(l=h,c=p);const m=[e.toDomain(l),e.toDomain(c)];i&&m.reverse();const v=u*((n.unzoomed-1)/(n.zoomed-1)),y=URe(l,v,Math.floor(n.zoomed));return{domain:m,ticks:y}}function HRe(e,t){let n=e,i=t,r=0;do{[n,i]=Dq(n,i);const{ticks:s}=HR(n,i,5);if(s.length%2===1)return[n,i];n-=1,i+=1}while(r++<10);return[e,t]}function VRe(e,t,n){e=Math.floor(e);const i=Math.abs(t-e)/(n-1),r=Math.floor(Math.log10(i)),s=Math.pow(10,r);return Math.floor(e/s)*s}function URe(e,t,n){const i=Z4(t),r=Math.pow(10,i),s=[];for(let o=0;o<n;o++){const a=e+t*o;s.push(Math.round(a*r)/r)}return s}function WRe(e,t,n){const i=n-1,r=(t-e)/i;return jRe(r)}function jRe(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n;return i>0&&i<=1?n:i>1&&i<=2?2*n:i>2&&i<=5?5*n:i>5&&i<=10?10*n:e}function Wz(){const e=new Map;return t=>{const n=e.get(t);return n?(e.set(t,n+1),`${t}_${n}`):(e.set(t,1),t)}}var $Re=18,YRe=[1,2,3,4,6,8,9,10,12],KRe=new Date(1970,0,4),Pq=class{constructor(e){this.axis=e}estimateTickCount(e,t,n,i,r,s){const{scale:o,label:a}=this.axis,{defaultTickCount:l}=o,c=pw(t),u=pw(n);if(Fw.is(o)){const d=e.length;let h=Math.ceil(c/(u*a.fontSize));return h=Math.min(h,d),{minTickCount:0,maxTickCount:d,tickCount:h}}return Iq(c,u,r,s,l,i)}generateTicks({range:e,domain:t,reverse:n,primaryTickCount:i,defaultTickMinSpacing:r,visibleRange:s,niceMode:o,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:u,removeOverflowLabels:d,removeOverflowThreshold:h=0,sizeLimit:p}){const{label:m,primaryLabel:v,interval:{minSpacing:y,maxSpacing:C}}=this.axis,{parallel:S,fontFamily:x,fontSize:R,fontStyle:A,fontWeight:T}=m,L=i!==void 0,{defaultRotation:O,configuredRotation:F,parallelFlipFlag:H,regularFlipFlag:W}=CRe(m.rotation,S,l,a),{maxTickCount:$}=this.estimateTickCount(t,e,s,r,y,C),Z=Number.isFinite($)?$:10,ie=wRe(S,F,u,H),oe={fontFamily:x,fontSize:R,fontStyle:A,fontWeight:T},te=Fg.getMeasurer({font:oe}),ae=m.enabled&&m.avoidCollisions,ne=F+O,Se=new df,q=ve=>{const Re=ne+ve;df.updateTransformMatrix(Se,1,1,Re,0,0)},re=({ticks:ve},Re)=>(q(Re),MRe(ve,c,Se,te,m)),K=(ve,Re)=>{const{niceDomain:ke,ticks:He,timeInterval:st}=ve;if(st==null)return[];q(Re);const Dt=ZRe(He),{width:ot,height:dt}=xRe(m,v,ke??t,st,te);return ERe({width:ot,height:dt,spacing:Dt},c,Se)},V=(ve,Re)=>{if(!ae)return!1;const ke=F!==0||Re!==0,He=bRe(m.minSpacing,ke);return J5(K(ve,Re),He)||J5(re(ve,Re),He)};let G={tickDomain:[],niceDomain:t,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},se=0,Y=0,ue=!0,J=!1;for(;!J&&ue&&se<=Z;){Y=0;for(const ve of this.getTickStrategies({domain:t,range:e,reverse:n,niceMode:o,secondaryAxis:L,sizeLimit:p}))({tickData:G,index:se,autoRotation:Y,terminate:J}=ve({index:se,tickData:G,terminate:J,primaryTickCount:i,defaultTickMinSpacing:r,visibleRange:s,labelsOverlap(){return V(G,Y)}}));ue=V(G,Y)}const he=SRe(S,F,Y,u,W),Te=F+Y;if(d&&G.ticks.length>2){const ve=re(G,Y),Re=G.ticks.at(-1),ke=ve.at(-1);Re!=null&&ke!=null&&Re.translation+ke.label.width/2>e[1]+h&&(Re.tickLabel=void 0,s[0]===0&&s[1]===1&&(G.ticks[0].tickLabel=void 0))}return{tickData:G,rotation:Te,textBaseline:ie,textAlign:he}}getTickStrategies({domain:e,range:t,reverse:n,niceMode:i,secondaryAxis:r,sizeLimit:s}){const{label:o,interval:a}=this.axis,l=o.enabled&&o.avoidCollisions,c=o.autoRotate===!0&&o.rotation===void 0,u=[];let d;a.values?d=2:r?d=1:d=0;const h=({index:p,tickData:m,primaryTickCount:v,defaultTickMinSpacing:y,visibleRange:C,terminate:S})=>this.createTickData(e,t,n,i,C,v,y,d,p,m,S,s);if(u.push(h),l&&c){const p=({index:m,tickData:v,labelsOverlap:y,terminate:C})=>({index:m,tickData:v,autoRotation:y()?uf(o.autoRotateAngle):0,terminate:C});u.push(p)}return u}createTickData(e,t,n,i,r,s,o,a,l,c,u,d){const{interval:h}=this.axis,{step:p,values:m,minSpacing:v,maxSpacing:y}=h,{maxTickCount:C,minTickCount:S,tickCount:x}=this.estimateTickCount(e,t,r,o,v,y),R=x-S,A=K=>Math.max(x-K,S),T=c.rawTicks,L=p==null&&m==null&&A(l)>S,O={domain:e,reverse:n,niceMode:i,visibleRange:r,primaryTickCount:s,tickGenerationType:a,minTickCount:S,maxTickCount:C,tickCount:0};O.tickCount=A(l);let F=this.getTicks(O);if(L&&eW(F.rawTicks,T)){let K=l,V=R;for(;K<=V;){l=(K+V)/2|0,O.tickCount=A(l);const G=this.getTicks(O);eW(G.rawTicks,T)?K=l+1:(F=G,V=l-1)}}const{tickDomain:H,niceDomain:W,rawTicks:$,rawTickCount:Z,rawFirstTickIndex:ie,generatePrimaryTicks:oe,primaryTicksIndices:te,alignment:ae,fractionDigits:ne,timeInterval:Se}=F,q=this.formatTicks({range:t,niceDomain:W,rawTicks:$,rawFirstTickIndex:ie,generatePrimaryTicks:oe,primaryTicksIndices:te,alignment:ae,fractionDigits:ne,timeInterval:Se,sizeLimit:d}),re={tickDomain:H,niceDomain:W,rawTicks:$,rawTickCount:Z,timeInterval:Se,fractionDigits:ne,ticks:q};return l+=1,u||(u=p!=null||m!=null),{tickData:re,index:l,autoRotation:0,terminate:u}}getTimeIntervalTicks(e,t,n,i,r,s){const o=zE(r);if(o==null)return;const{scale:a}=this.axis;if(!yb.is(a)&&!Qc.is(a))return;s&&(e=[1-e[1],1-e[0]]);const l=Math.min(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf()),c=Math.max(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf());let[u,d]=Pz(new Date(l),new Date(c),e);u=Wl(o,u),u.valueOf()>=l&&(u=hq(o,u)),d=dq(o,d),d.valueOf()<=c&&(d=fq(o,d));const h=ic(o,u,d),p=na(r);let m=new Set;const v=rb.is(a),y=[],C={...i,interval:r};let S,x,R=0;if(rb.is(a)){const T=this.axis.minimumTimeGranularity,L=Rd(r);S=T!=null&&na(T)>=na(L)?2:3,x=1;const O=t/n,F=a.bandCount(e)/(O*$Re);R=YRe.findLast(H=>F>=H)??1}else Kp.is(a)&&(a.interval==null||na(a.interval)>=p)?S=1:(S=0,x=2);for(let T=0;T<h.length-1;T+=1){const L=h[T],O=h[T+1],F=T===0,H=T===h.length-2,W=O.valueOf()-L.valueOf(),$=[Math.max((l-L.valueOf())/W,0),Math.min((c-L.valueOf())/W,1)];let Z;switch(S){case 0:Z=qRe(C.interval,[L,O],$,!0).ticks;break;case 1:case 3:const ae=a.ticks(C,[L,O],$,{extend:!0,dropInitial:!0});Z=(ae==null?void 0:ae.ticks)??[];break;case 2:Z=a.stepTicks(R,[L,O],void 0,!H);break}if(PSe(Z,ae=>ae.valueOf()<L.valueOf()),H||FSe(Z,ae=>{switch(S){case 0:case 3:return ae.valueOf()+p>O.valueOf();case 1:case 2:return ae.valueOf()>=O.valueOf()}}),Z.length===0)continue;const ie=Z[0],oe=Hz(ie,L);(S===0?oe===0:oe<=p)&&(!v||!F)&&m.add(y.length),y.push(...Z)}return(m.size===0||m.size===1&&m.has(0))&&(m=void 0),{ticks:y,tickCount:void 0,firstTickIndex:void 0,primaryTicksIndices:m,alignment:x}}getTicks({domain:e,reverse:t,niceMode:n,visibleRange:i,tickGenerationType:r,tickCount:s,minTickCount:o,maxTickCount:a,primaryTickCount:l}){const{axis:c}=this,{primaryLabel:u,scale:d,interval:h}=c,p={nice:n===0,interval:h.step,tickCount:s,minTickCount:o,maxTickCount:a},m={...p,nice:n===0||n===1};let v;r===1&&l!=null&&wi.is(d)&&(v=zRe(d,e,l,t,i));const y=n===0?(v==null?void 0:v.domain)??d.niceDomain(p,e):e;let C=y,S,x,R,A,T,L;const O=(u==null?void 0:u.enabled)===!0&&m.interval==null,F=d.domain;switch(d.domain=y,r){case 2:if(C=h.values,S=h.values,x=S.length,rb.is(d)?L=1:Kp.is(d)&&(L=2),wi.is(d)){const[W,$]=ms(y.map(Number));S=S.filter(Z=>Number(Z)>=W&&Number(Z)<=$).sort((Z,ie)=>Number(Z)-Number(ie))}break;case 1:if(v)S=v.ticks,x=v.ticks.length;else{const W=d.ticks(m,y,i);S=(W==null?void 0:W.ticks)??[],x=W==null?void 0:W.count}break;default:{if(y.length>0&&m.interval==null&&(Kp.is(d)||O&&(yb.is(d)||rb.is(d)))){const Z=y,ie=Math.min(Z[0].valueOf(),Z[Z.length-1].valueOf()),oe=Math.max(Z[0].valueOf(),Z[Z.length-1].valueOf());A=ik(ie,oe,s,o,a,{weekStart:u==null?KRe:void 0,primaryOnly:!0})}let W;rb.is(d)?W=c.minimumTimeGranularity:Kp.is(d)&&(W=d.interval),W!=null&&A!=null&&na(W)>=na(A)&&(A=W);const $=A?this.getTimeIntervalTicks(i,s,a,m,A,t):void 0;if($)({ticks:S,tickCount:x,firstTickIndex:R,primaryTicksIndices:T,alignment:L}=$);else{const Z=Kp.is(d)&&m.interval==null&&A!=null?{...m,interval:A}:m,ie=d.ticks(Z,y,i);if(S=(ie==null?void 0:ie.ticks)??[],x=ie==null?void 0:ie.count,R=ie==null?void 0:ie.firstTickIndex,yb.is(d)||Qc.is(d)){const oe=m,te=typeof oe.interval=="number"?zR(oe.interval):oe.interval;A??(A=te??(ie==null?void 0:ie.timeInterval))}}}}const H=S.reduce((W,$)=>Math.max(W,typeof $=="number"?Z4($):0),0);return O||(T=void 0),d.domain=F,{tickDomain:C,niceDomain:y,rawTicks:S,rawTickCount:x,rawFirstTickIndex:R,generatePrimaryTicks:O,primaryTicksIndices:T,alignment:L,fractionDigits:H,timeInterval:A}}formatTicks({niceDomain:e,range:t,rawTicks:n,rawFirstTickIndex:i=0,generatePrimaryTicks:r,primaryTicksIndices:s,alignment:o,fractionDigits:a,timeInterval:l,sizeLimit:c=1/0}){const{axis:u}=this,{label:d,scale:h}=u,p=h.domain;h.domain=e;const m=r?"component":"long",v=d.enabled?u.tickFormatter(e,n,!1,a,l,m):void 0,y=l!=null?zE(l):void 0,C=r?u.tickFormatter(e,n,!0,a,y,m):void 0,S=(h.bandwidth??0)/2,x=[],R=yb.is(h)||Qc.is(h),A=Wz(),T=u.direction==="y",L=(Mf.is(h)?h.bandwidth:null)??1/0,O={font:d,maxWidth:T?c:L,maxHeight:T?L:c,overflow:d.truncate?"ellipsis":"hide",textWrap:d.wrapping};for(let F=0;F<n.length;F++){const H=n[F],W=h.convert(H,{alignment:o})+S;if(t.length>0&&!u.inRange(W,.001))continue;const $=(s==null?void 0:s.has(F))??!1;let Z=$?C==null?void 0:C(H,F):v==null?void 0:v(H,F);const ie=Z??String(H);d.avoidCollisions&&(Z=IR.wrapText(ie,O)||Z);let oe;const te=R?H==null?void 0:H.valueOf():void 0;Number.isFinite(te)?oe=A(`v:${te}`):oe=A(`l:${Z}`),x.push({index:F+i,tick:H,tickId:oe,tickLabel:Z,textUntruncated:Z!=null&&ie!==Z?ie:void 0,translation:Math.floor(W),primary:$})}return h.domain=p,x}};function J5(e,t=0){const n=[];for(const i of e){const{x:r,y:s}=i.point;let{width:o,height:a}=i.label;if(o+=t,a+=t,n.some(l=>bY(l,r,s,o,a)))return!0;n.push({x:r,y:s,width:o,height:a})}return!1}function qRe(e,t,n,i){if(e==null)return{ticks:t,firstTickIndex:void 0};const r=t[0].valueOf(),s=t[1].valueOf();if(typeof e!="number"){const a=t[0],l=typeof e=="string"?{unit:e,epoch:a}:{...e,epoch:a},c=ic(l,t[0],t[1],{visibleRange:n,extend:i}),u=QL(l,t[0],t[1],{visibleRange:n,extend:i});return{ticks:c,firstTickIndex:u}}const o=[];for(let a=r;a<=s;a+=e)o.push(new Date(a));return{ticks:o,firstTickIndex:void 0}}function eW(e,t){var n,i;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(((n=e[r])==null?void 0:n.valueOf())!==((i=t[r])==null?void 0:i.valueOf()))return!1;return!0}function ZRe(e){if(e.length<2)return 1/0;let t=0,n=e[0].translation;for(let i=1;i<e.length;i++){const r=e[i].translation,s=Math.abs(r-n);t=Math.max(t,s),n=r}return t}var jz=class extends Hi{constructor(){super(...arguments),this.autoRotateAngle=335}};P([z],jz.prototype,"autoRotate",2);P([z],jz.prototype,"autoRotateAngle",2);var ok=class Fq extends Bz{constructor(t,n){super(t,n),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new Io({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new Io({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new fl({zIndex:1})),this.tickLineGroupSelection=No.select(this.tickLineGroup,fl,!1),this.gridLineGroupSelection=No.select(this.gridLineGroup,fl,!1),this.gridFillGroupSelection=No.select(this.gridFillGroup,os,!1),this.tempText=new cw({debugDirty:!1}),this.tempCaption=new nr,this.tickGenerator=new Pq(this),this.animationManager=t.animationManager,this.animationState=new PR("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let i;this.cleanup.register(t.eventsHub.on("layout:complete",r=>{const s=[r.chart.width,r.chart.height];i!=null&&!Qh(s,i)&&this.animationState.transition("resize"),i=s}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof Fq}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new jz}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t,n){return this.updateDirection(),super.calculateLayout(t,n)}layoutCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{var i;(i=n.calculateLayout)==null||i.call(n,t)})}calculateTickLayout(t,n,i,r){var q,re;const s=this.label.getSideFlag(),o=this.horizontal?-.5*Math.PI:0,a=Br(o),l=Br(o-Math.PI/2),c=s*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(n===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){const{bbox:K,spacing:V}=this.tickBBox(t,[],[]);return{ticks:[],rawTickCount:0,tickDomain:t,niceDomain:t,fractionDigits:0,timeInterval:void 0,bbox:K,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:V}}}const{range:u,reverse:d,defaultTickMinSpacing:h}=this,p=this.label.avoidCollisions&&this.horizontal&&(wi.is(this.scale)||Qc.is(this.scale)),m=this.tickGenerator.generateTicks({domain:t,range:u,reverse:d,niceMode:n,visibleRange:i,primaryTickCount:r,defaultTickMinSpacing:h,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:s,sizeLimit:(q=this.chartLayout)==null?void 0:q.sizeLimit,removeOverflowLabels:p,removeOverflowThreshold:(re=this.chartLayout)==null?void 0:re.padding.right}),{tickData:v}=m,{ticks:y,tickDomain:C,rawTicks:S,rawTickCount:x,fractionDigits:R,timeInterval:A,niceDomain:T}=v,L=y.map(K=>this.getTickLabelProps(K,m)),{position:O,gridPadding:F,gridLength:H}=this,W=O==="bottom"||O==="right"?-1:1,$=W*F,Z=W*(H+F),ie=this.calculateGridLines(y,$,Z),oe=this.calculateGridFills(y,$,Z),te=this.calculateTickLines(y,W),{bbox:ae,spacing:ne}=this.tickBBox(C,y,L);return{ticks:S,rawTickCount:x,tickDomain:C,niceDomain:T,fractionDigits:R,timeInterval:A,bbox:ae,layout:{ticks:y,gridLines:ie,gridFills:oe,tickLines:te,labels:L,spacing:ne}}}calculateGridLines(t,n,i){return t.map((r,s)=>this.calculateGridLine(r,s,n,i,t))}calculateGridLine({index:t,tickId:n,translation:i},r,s,o,a){const{gridLine:l,horizontal:c}=this,[u,d,h,p]=c?[i,s,i,o]:[s,i,o,i],{style:m}=l,{stroke:v,strokeWidth:y=0,lineDash:C}=m[t%m.length]??{};return{tickId:n,offset:i,x1:u,y1:d,x2:h,y2:p,stroke:v,strokeWidth:y,lineDash:C}}calculateGridFills(t,n,i){const{horizontal:r,range:s,type:o}=this,a=[];if(t.length==0)return a;let l=0;const c=!r&&o==="unit-time";if(c&&t[0].translation<s[0]||!c&&t[0].translation>s[0]){const d={tickId:`before:${t[0].tickId}`,translation:s[0]};a.push(this.calculateGridFill(d,-1,t[0].index,n,i,t)),l=1}return a.push(...t.map((d,h)=>this.calculateGridFill(d,h,d.index+l,n,i,t))),a}calculateGridFill({tickId:t,translation:n},i,r,s,o,a){const{gridLine:l,horizontal:c,range:u}=this,d=a[i+1],h=n,p=d?d.translation:u[1],[m,v,y,C]=c?[h,Math.max(s,o),p,Math.min(s,o)]:[Math.min(s,o),Math.min(h,p),Math.max(s,o),Math.max(h,p)],{fill:S,fillOpacity:x}=l.style[r%l.style.length]??{};return{tickId:t,x1:m,y1:v,x2:y,y2:C,fill:S,fillOpacity:x}}calculateTickLines(t,n){return t.map(i=>this.calculateTickLine(i,i.index,n,t))}calculateTickLine({primary:t,tickId:n,translation:i},r,s,o){const{horizontal:a,tick:l,primaryTick:c}=this,u=t&&(c!=null&&c.enabled)?c:l,d=-s*this.getTickSize(u),[h,p,m,v]=a?[i,0,i,d]:[0,i,d,i],{stroke:y,width:C}=u;return{tickId:n,offset:i,x1:h,y1:p,x2:m,y2:v,stroke:y,strokeWidth:C,lineDash:void 0}}update(){var o,a;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),l=>l.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(((o=this.primaryTick)==null?void 0:o.enabled)??!1),this.tickLabelGroup.visible=this.label.enabled||(((a=this.primaryTick)==null?void 0:a.enabled)??!1);const{tickLayout:n}=this;if(this.updateTitle(this.scale.domain,(n==null?void 0:n.spacing)??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),n){const{ticks:l}=n;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const c=l.map(d=>d.tickId),u=VSe(t,c);this.animationState.transition("update",u)}}const{enabled:i,stroke:r,width:s}=this.line;this.lineNode.setProperties({stroke:r,strokeWidth:i?s:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();const t=this.getAxisTransform();this.tickLineGroup.datum=t,this.tickLabelGroup.datum=t,this.lineNodeGroup.datum=t,this.headingLabelGroup.datum=t}getAxisLineCoordinates(){const{horizontal:t}=this,[n,i]=ms(this.range);return t?{x1:n,x2:i,y1:0,y2:0}:{x1:0,x2:0,y1:n,y2:i}}getTickLineBBox(t){const{translation:n}=t,{position:i,primaryTick:r}=this;let s=this.getTickSize();switch(r!=null&&r.enabled&&(s=Math.max(s,this.getTickSize(r))),i){case"top":return new ut(n,-s,n,s);case"bottom":return new ut(n,0,n,s);case"left":return new ut(-s,n,s,n);case"right":return new ut(0,n,s,n)}}lineNodeBBox(){const{position:t,seriesAreaPadding:n}=this,{y1:i,y2:r}=this.getAxisLineCoordinates(),s=r-i;switch(t){case"top":return new ut(i,-n,s,n);case"bottom":return new ut(i,0,s,n);case"left":return new ut(-n,i,n,s);case"right":return new ut(0,i,n,s)}}titleBBox(t,n){const{tempCaption:i}=this;return i.node.setProperties(this.titleProps(i,t,n)),i.node.getBBox()}tickBBox(t,n,i){const{tick:r,primaryTick:s,label:o,primaryLabel:a,title:l,position:c,horizontal:u,seriesAreaPadding:d}=this,h=[];if(h.push(this.lineNodeBBox()),r.enabled||s!=null&&s.enabled)for(const y of n)h.push(this.getTickLineBBox(y));const{tempText:p}=this;if(o.enabled)for(const y of i){if(!y.visible)continue;p.setProperties(y);const C=p.getBBox(!1);C&&h.push(C)}if(a!=null&&a.enabled&&c==="bottom"&&(h.push(new ut(0,ui.getLineHeight(o.fontSize)+2,1,this.getTickSize(r)+o.spacing+d)),a.format!=null)){const{format:C}=a,x=(zn(C)?Object.values(C):[C]).reduce((R,A)=>Math.max(R,ySe(A)),0);h.push(new ut(0,this.getTickSize(s??r)+a.spacing+d,1,x*ui.getLineHeight(a.fontSize)+2))}let m=0;if(l.enabled){const y=ut.merge(h);m=u?y.height:y.width,h.push(this.titleBBox(t,m))}return{bbox:ut.merge(h),spacing:m}}titleProps(t,n,i){const{title:r}=this;if(!r.enabled)return t.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};t.enabled=!0,t.color=r.color,t.fontFamily=r.fontFamily,t.fontSize=r.fontSize,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.wrapping=r.wrapping;const s=(r.spacing??0)+i,{range:o}=this,a=(o[0]+o[1])/2;let l,c,u,d;switch(this.position){case"top":l=a,c=-s,u=0,d="bottom";break;case"bottom":l=a,c=s,u=0,d="top";break;case"left":l=-s,c=a,u=-.5*Math.PI,d="bottom";break;case"right":l=s,c=a,u=.5*Math.PI,d="bottom";break}const{formatter:h=m=>m.defaultValue}=r,p=this.cachedCallWithContext(h,this.getTitleFormatterParams(n));return t.text=p,{visible:!0,text:p,textBaseline:d,x:l,y:c,rotationCenterX:l,rotationCenterY:c,rotation:u}}getLabelBorderOffset(t){const n=mw(t);function i(r){return r}switch(this.position){case"top":return n.bottom;case"right":return n.left;case"bottom":return n.top;case"left":return n.right;default:this.position}}getTickLabelProps(t,n){const{horizontal:i,primaryLabel:r,primaryTick:s,seriesAreaPadding:o,scale:a}=this,{tickId:l,tickLabel:c="",translation:u,primary:d,textUntruncated:h}=t,p=d&&(r!=null&&r.enabled)?r:this.label,m=d&&(s!=null&&s.enabled)?s:this.tick,{rotation:v,textBaseline:y,textAlign:C}=n,{range:S}=a,x=this.label.getSideFlag(),R=-this.getLabelBorderOffset(p),A=x*(this.getTickSize(m)+p.spacing+o)+R,T=c!=="",L=i?u:A,O=i?-A:u;return{...this.getLabelStyles({value:c},void 0,p),tickId:l,rotation:v,text:c,textAlign:C,textBaseline:y,textUntruncated:h,visible:T,x:L,y:O,rotationCenterX:L,rotationCenterY:O,range:S}}updateSelections(){if(!this.tickLayout)return;const t=this.getAxisLineCoordinates(),{tickLines:n,gridLines:i,gridFills:r,labels:s}=this.tickLayout,o=a=>a.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLine.enabled?i:[],void 0,o),this.gridFillGroupSelection.update(this.gridLine.enabled?r:[],void 0,o),this.tickLineGroupSelection.update(n,void 0,o),this.tickLabelGroupSelection.update(s,void 0,o)}updateGridLines(){this.gridLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((t,n)=>{t.fill=n.fill,t.fillOpacity=n.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateTitle(t,n){const{caption:i}=this.title,r=this.titleProps(i,t,n);i.node.visible=r.visible,i.node.text=r.text,i.node.textBaseline=r.textBaseline,i.node.datum=r}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,n)=>{t.fill=n.color,t.text=n.text,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign??"center",t.pointerEvents=n.textUntruncated==null?1:0,t.setFont(n),t.setBoxing(n)})}animateReadyUpdate(t){const{animationManager:n}=this.moduleCtx,i=vq(this),r=yq(i);ns(this.id,"axis-group",n,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],r.group),ns(this.id,"line",n,[this.lineNode],r.line),ns(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(s,o)=>o.tickId,t),ns(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(s,o)=>o.tickId,t),ns(this.id,"title",n,[this.title.caption.node],r.label,(s,o)=>o.tickId,t)}resetSelectionNodes(){Js([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],Cq()),Js([this.gridLineGroupSelection,this.tickLineGroupSelection],OB()),Js([this.gridFillGroupSelection],bq()),Js([this.tickLabelGroupSelection],LN()),Js([this.title.caption.node],LN()),Js([this.lineNode],OB())}};P([z],ok.prototype,"thickness",2);P([z],ok.prototype,"maxThicknessRatio",2);P([z],ok.prototype,"position",2);var VR=ok,_q=["top","right","bottom","left"];function XRe(e){return typeof e=="string"&&_q.includes(e)}function QRe(e){const t=[],n=[],i=[..._q];for(const r of e)r instanceof VR&&(XRe(r.position)?n.push(r.position):t.push(r));for(const r of t){let s;do s=i.pop();while(s&&n.includes(s));if(s==null)break;r.position=s}}var JRe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function e1e(e,t,n){var c,u;const i=(d,h,p)=>{const m=[d];for(const v of JRe)v in h&&h[v]!=null&&m.push(`${v}=${h[v]}`);return p!=null&&p.seriesGrouping&&m.push(`seriesGrouping.groupId=${p==null?void 0:p.seriesGrouping.groupId}`),m.join(";")},r=new Map;let s=0;for(const d of e){const h=i(d.type,d.properties,n==null?void 0:n[s]);r.has(h)||r.set(h,[]),(c=r.get(h))==null||c.push([d,s++])}const o=new Map;s=0;for(const d of t){const h=i(d.type,d,d);o.has(h)||o.set(h,[]),(u=o.get(h))==null||u.push([d,s++])}if(![...r.keys()].some(d=>o.has(d)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:o.keys()};const l=[];for(const[d,h]of o.entries())for(const[p,m]of h){const v=r.get(d);if(v==null||v.length<1){l.push({opts:p,targetIdx:m,idx:m,status:"add"}),r.delete(d);continue}const[y,C]=v.shift(),S=(n==null?void 0:n[C])??{},x=hf(S,p??{}),{groupIndex:R,stackIndex:A}=(x==null?void 0:x.seriesGrouping)??{};R!=null||A!=null?l.push({opts:p,series:y,diff:x,targetIdx:m,idx:C,status:"series-grouping"}):x?l.push({opts:p,series:y,diff:x,targetIdx:m,idx:C,status:"update"}):l.push({opts:p,series:y,targetIdx:m,idx:C,status:"no-op"}),v.length===0&&r.delete(d)}for(const d of r.values())for(const[h,p]of d)l.push({series:h,idx:p,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function ak(e){var n;const{series:t}=e;return((n=t==null?void 0:t[0])==null?void 0:n.type)??"line"}function Bq(e){const t=ak(e);return gs.isCartesian(t)||rRe(t)}function t1e(e){const t=ak(e);return gs.isPolar(t)||sRe(t)}function Gq(e){const t=ak(e);return gs.isTopology(t)||oRe(t)}function zq(e){const t=ak(e);return gs.isStandalone(t)||aRe(t)}var n1e=class extends _z{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&iy(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},_B="ag-charts-overlay",tW="ag-charts-dark-overlay",Fv=class extends Wt{constructor(t,n){super(),this.className=t,this.defaultMessageId=n,this.enabled=!0}getText(t){return Tn(this.text)?this.text.map(n=>n.text).join(""):t.t(this.text??this.defaultMessageId)}getElement(t,n,i,r){var s;if((s=this.content)==null||s.remove(),this.focusBox=r,this.renderer){const o={},a=nu(t,this.renderer,o);if(a instanceof HTMLElement)this.content=a;else{const l=an("div");l.innerHTML=a;const{firstElementChild:c}=l;c instanceof HTMLElement&&l.childElementCount===1?this.content=c:this.content=l}}else{const o=an("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(Tn(this.text)){const a=an("div");for(const l of this.text){const c=an("span",{color:l.color,fontSize:`${l.fontSize}px`,fontFamily:l.fontFamily??"inherit",fontWeight:String(l.fontWeight),fontStyle:l.fontStyle});c.innerText=l.text,a.appendChild(c)}o.appendChild(a)}else o.innerText=this.getText(i);this.content=o,n==null||n.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){o.style.opacity=String(a)},onStop(){o.style.opacity="1"}})}return this.content}removeElement(t=()=>{var i;return(i=this.content)==null?void 0:i.remove()},n){if(this.content){if(n){const{content:i}=this;n.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(r){i.style.opacity=String(r)},onStop(){t==null||t()}})}else t==null||t();this.content=void 0,this.focusBox=void 0}}};P([z],Fv.prototype,"enabled",2);P([z],Fv.prototype,"text",2);P([z],Fv.prototype,"renderer",2);var _w=class extends Wt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Fv("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Fv("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Fv("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Fv("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};P([z],_w.prototype,"darkTheme",2);P([z],_w.prototype,"loading",2);P([z],_w.prototype,"noData",2);P([z],_w.prototype,"noVisibleSeries",2);P([z],_w.prototype,"unsupportedBrowser",2);function i1e(e,t){const{animationDuration:n}=PE.add,i=n*t,r=an("div",`${_B}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i}ms linear 50ms both`}),s=an("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=an("p",{marginTop:"1em"});o.innerText=e;const a=an("div",`${_B}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=an("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,s,o,a),r}var Hq=(e=>(e[e.None=0]="None",e[e.Item=1]="Item",e[e.Series=2]="Series",e[e.OtherSeries=3]="OtherSeries",e[e.OtherItem=4]="OtherItem",e))(Hq||{}),Af=class extends Wt{};P([z],Af.prototype,"fill",2);P([z],Af.prototype,"fillOpacity",2);P([z],Af.prototype,"stroke",2);P([z],Af.prototype,"strokeWidth",2);P([z],Af.prototype,"strokeOpacity",2);P([z],Af.prototype,"lineDash",2);P([z],Af.prototype,"lineDashOffset",2);var Tf=class extends Wt{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(e){switch(e){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(e){switch(e){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(e){return Gn(this.getItemHighlightStyle(e),this.getSeriesHighlightStyle(e))}};P([z],Tf.prototype,"enabled",2);P([z],Tf.prototype,"range",2);P([z],Tf.prototype,"bringToFront",2);P([z],Tf.prototype,"highlightedItem",2);P([z],Tf.prototype,"unhighlightedItem",2);P([z],Tf.prototype,"highlightedSeries",2);P([z],Tf.prototype,"unhighlightedSeries",2);var lk=class extends Wt{};P([z],lk.prototype,"strokeWidth",2);P([z],lk.prototype,"dimOpacity",2);P([z],lk.prototype,"enabled",2);var Vq=class extends Wt{constructor(){super(...arguments),this.color="black"}};P([z],Vq.prototype,"color",2);var oc=class extends Wt{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};P([z],oc.prototype,"type",2);P([z],oc.prototype,"colorStops",2);P([z],oc.prototype,"bounds",2);P([z],oc.prototype,"gradient",2);P([z],oc.prototype,"rotation",2);P([z],oc.prototype,"reverse",2);var Ki=class extends Wt{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};P([z],Ki.prototype,"type",2);P([z],Ki.prototype,"colorStops",2);P([z],Ki.prototype,"bounds",2);P([z],Ki.prototype,"gradient",2);P([z],Ki.prototype,"rotation",2);P([z],Ki.prototype,"scale",2);P([z],Ki.prototype,"reverse",2);P([z],Ki.prototype,"path",2);P([z],Ki.prototype,"pattern",2);P([z],Ki.prototype,"width",2);P([z],Ki.prototype,"height",2);P([z],Ki.prototype,"padding",2);P([z],Ki.prototype,"fill",2);P([z],Ki.prototype,"fillOpacity",2);P([z],Ki.prototype,"backgroundFill",2);P([z],Ki.prototype,"backgroundFillOpacity",2);P([z],Ki.prototype,"stroke",2);P([z],Ki.prototype,"strokeOpacity",2);P([z],Ki.prototype,"strokeWidth",2);var Ua=class extends Wt{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};P([z],Ua.prototype,"type",2);P([z],Ua.prototype,"url",2);P([z],Ua.prototype,"rotation",2);P([z],Ua.prototype,"scale",2);P([z],Ua.prototype,"backgroundFill",2);P([z],Ua.prototype,"backgroundFillOpacity",2);P([z],Ua.prototype,"repeat",2);P([z],Ua.prototype,"fit",2);var UR=class extends Wt{constructor(e=!0){super(),this.deprecated=e,this.item=new Af,this.series=new lk,this.text=new Vq}set(e){return this.deprecated&&Je.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(e)}};P([z],UR.prototype,"item",2);P([z],UR.prototype,"series",2);P([z],UR.prototype,"text",2);var ac=class extends Wt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Tf,this.highlightStyle=new UR}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};P([z],ac.prototype,"id",2);P([z],ac.prototype,"visible",2);P([z],ac.prototype,"focusPriority",2);P([z],ac.prototype,"showInLegend",2);P([z],ac.prototype,"cursor",2);P([z],ac.prototype,"nodeClickRange",2);P([z],ac.prototype,"highlight",2);P([z],ac.prototype,"highlightStyle",2);var Uq=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(Uq||{}),Wq=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(Wq||{});function Pb(e,t,n,i){if(tu(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(Sg(e)){const r=e.pattern??n.pattern;let s=e.strokeWidth;r==="backward-slanted-lines"||r==="forward-slanted-lines"||r==="horizontal-lines"||r==="vertical-lines"?s??(s=n.strokeWidth):s??(s=0);const o=e.width??e.height??n.width,a=e.height??e.width??n.height;return{type:"pattern",pattern:r,width:o,height:a,path:e.path,padding:e.padding??n.padding,fill:e.fill??n.fill,fillOpacity:e.fillOpacity??n.fillOpacity,backgroundFill:e.backgroundFill??n.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??n.backgroundFillOpacity,stroke:e.stroke??n.stroke,strokeOpacity:e.strokeOpacity??n.strokeOpacity,strokeWidth:s,rotation:e.rotation??n.rotation,scale:e.scale??n.scale}}return Sy(e)?{type:"image",url:e.url,width:e.width,height:e.height,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,rotation:e.rotation??i.rotation,repeat:e.repeat??i.repeat,fit:e.fit??i.fit}:e}function Ad(e,t,n,i){return!tu(e==null?void 0:e.fill)&&!Sg(e==null?void 0:e.fill)&&!Sy(e==null?void 0:e.fill)?e:{...e,fill:Pb(e.fill,t,n,i)}}function jq(e,t,n,i){n==null||!tu(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=n[t.bounds],e.fillParams=i}function ef(e,t,n,i){const r=(t==null?void 0:t.opacity)??1;e.fill=t==null?void 0:t.fill,jq(e,e.fill,n,i),e.fillOpacity=((t==null?void 0:t.fillOpacity)??1)*r,e.stroke=t==null?void 0:t.stroke,e.strokeOpacity=((t==null?void 0:t.strokeOpacity)??1)*r,e.strokeWidth=(t==null?void 0:t.strokeWidth)??0,e.lineDash=t==null?void 0:t.lineDash,e.lineDashOffset=(t==null?void 0:t.lineDashOffset)??0}var $q=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))($q||{}),r1e=.25,s1e=.125,ck=class{constructor(e,t,n,i){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=n.datum,this.seriesId=i.id}preventDefault(){this.defaultPrevented=!0}},kN=class{constructor(e,t){this.series=e,this.seriesGrouping=t,this.type="groupingChanged"}};function nW(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function qF(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var uk=class extends sK{constructor(e){var a;super(),this.cleanup=new sr,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=ck,this.internalId=cu(this),this.contentGroup=new Io({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Io({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Io({name:`${this.internalId}-annotation`}),this.labelGroup=new Io({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new _z,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new Og,this._pickNodeCache=new dz,this.fireEventWrapper=l=>super.fireEvent(l);const{moduleCtx:t,pickModes:n,propertyKeys:i={},propertyNames:r={},canHaveAxes:s=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.propertyKeys=i,this.propertyNames=r,this.canHaveAxes=s,this.usesPlacedLabels=o,this.pickModes=n,this.cleanup.register((a=this.ctx)==null?void 0:a.eventsHub.on("highlight:change",l=>this.onChangeHighlight(l)))}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return(e=this.properties.tooltip)==null?void 0:e.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:n,type:i,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new kN(this,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,n){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),n==null||n.appendChild(this.annotationGroup)}detachSeries(e,t,n){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),n==null||n.removeChild(this.annotationGroup)}setSeriesIndex(e,t=!1){const n=this.bringToFront();return!t&&e===this.declarationOrder&&n===this._broughtToFront?!1:(this.declarationOrder=e,this._broughtToFront=n,this.setZIndex(n?Number.MAX_VALUE:e),this.fireEvent(new kN(this,this.seriesGrouping)),!0)}setZIndex(e){this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(e,t){const n=nW(e),i=n!=null?qF(this.resolveKeyDirection(n)):e,r=t==null?void 0:t[i],s=[];if(!r)return s;const o=(...a)=>{for(const l of a)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):s.push(l)};return o(...r.map(a=>this.properties[a])),s}getKeys(e){return this.getPropertyValues(qF(e),this.propertyKeys)}getKeyProperties(e){return this.propertyKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getPropertyValues(qF(e),this.propertyNames)}getFormatterContext(e){const{id:t}=this,n=this.getPropertyValues(e,this.propertyKeys),i=this.getPropertyValues(e,this.propertyNames),r=[];for(let s=0;s<n.length;s++)r.push({seriesId:t,key:n[s],name:i[s]});return r}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(i=>i.getDomain(e)).flat();return n.length!==0?t.concat(n):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,n){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;const{opacity:t=1}=this.getHighlightStyle();return t}getHighlightState(e,t,n,i){if(t)return 1;if((e==null?void 0:e.series)==null)return 0;if(this.isSeriesHighlighted(e,i)){const r=this.isItemHighlighted(e,n);return r==null||r?2:4}return 3}getHighlightStateString(e,t,n,i){switch(this.getHighlightState(e,t,n,i)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:default:return"none"}}onChangeHighlight(e){const t=e.previousHighlight,n=e.currentHighlight,i=this.getHighlightState(n),r=this.getHighlightState(t);if(this.setSeriesIndex(this.declarationOrder),i===r){this.hasChangesOnHighlight=!1;return}const{highlightedSeries:s,unhighlightedItem:o,unhighlightedSeries:a}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!AF(s)||!AF(o)||!AF(a)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(e,t){return(e==null?void 0:e.series)===this}isItemHighlighted(e,t){if(!((e==null?void 0:e.datumIndex)==null||t==null))return e.datumIndex===t}getHighlightStyle(e,t,n){var s;const i=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight(),r=this.getHighlightState(i,e,t,n);return this.properties.highlight.getStyle(r)}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,n=!1){const{pickModes:i,pickModeAxis:r,visible:s,contentGroup:o}=this;if(!s||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:h}=this.properties;a=typeof h.range=="number"?h.range:1/0,n||(n=h.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:h}=this.properties;a=typeof h=="number"?h:1/0,n||(n=h==="exact")}const l=i.filter(h=>!n||h===0),{x:c,y:u}=e,d=JSON.stringify({x:c,y:u,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(const h of l){let p;switch(h){case 0:{const m=this.pickNodesExactShape(e);p=m.length===0?void 0:{datums:m,distance:0};break}case 1:{const m=this.pickNodeClosestDatum(e),v=(m==null?void 0:m.distance)===0?this.pickNodesExactShape(e):void 0;v!=null&&v.length!==0?p={datums:v,distance:0}:m?p={datums:[m.datum],distance:m.distance}:p=void 0;break}case 2:{const m=r!=null?this.pickNodeMainAxisFirst(e,r==="main-category"):void 0;p=m!=null?{datums:[m.datum],distance:m.distance}:void 0;break}}if(p&&p.distance<=a)return this._pickNodeCache.set(d,{pickMode:h,datums:p.datums,distance:p.distance})}return this._pickNodeCache.set(d,void 0)}pickNodesExactShape(e){const t=[];for(const n of this.contentGroup.pickNodes(e.x,e.y)){const i=n.closestDatum();i!=null&&i.missing!==!0&&t.push(i)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){var r;const n=FL(e.x,e.y,t),i=(r=n.nearest)==null?void 0:r.closestDatum();if(i!=null&&i.missing!==!0)return{datum:i,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireEvent(e){nu([this.properties,this.ctx.chartService],this.fireEventWrapper,e)}fireNodeClickEvent(e,t){const n=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}fireNodeDoubleClickEvent(e,t){const n=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:n=!0,itemId:i,legendItemName:r}=t??{};this.toggleSeriesItem(n,e,i,r)}onLegendItemClick(e){const{enabled:t,itemId:n,series:i,legendType:r}=e,s="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=s!=null&&s===e.legendItemName;(i.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,r,n,s,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:n,series:i,numVisibleItems:r,legendType:s}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;i.id===this.id||l||a!=null?this.toggleSeriesItem(!0,s,n,o,e):t&&r===1?this.toggleSeriesItem(!0,s,void 0,o):this.toggleSeriesItem(!1,s,void 0,o)}toggleSeriesItem(e,t,n,i,r){const s=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:s,itemId:n,legendItemName:(r==null?void 0:r.legendItemName)??i,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem(e,s,n,i)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getAxisValueText(e,t,n,i,r,s){const{id:o,properties:a}=this;return e.formatDatum(a,n,t,o,s,i,r)}getLabelText(e,t,n,i,r,s,o){if(e==null)return"";const{axes:a,canHaveAxes:l,ctx:c,id:u,properties:d}=this,h="series-label",p="legendItemName"in d?d.legendItemName:void 0,m={seriesId:this.id,...o},v=l?nW(i):void 0,y=v!=null?a[this.resolveKeyDirection(v)]:void 0;if(y!=null)return y.formatDatum(d,e,h,u,p,t,n,r,s,m);const{formatManager:C}=c,S=this.callWithContext.bind(this),x=A=>s.formatValue(S,A.type,A.value,m)??C.format(S,A)??String(e),R=this.getFormatterContext(i);switch(i){case"y":case"color":case"size":return x({type:"number",value:e,datum:t,seriesId:u,legendItemName:p,key:n,source:h,property:i,domain:r,boundSeries:R,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return x({type:"category",value:e,datum:t,seriesId:u,legendItemName:p,key:n,source:h,property:i,domain:r,boundSeries:R})}}getMarkerStyle(e,{datumIndex:t,datum:n,point:i},r,s=!1,o={size:(i==null?void 0:i.size)??e.size??0},a,l=!0){var y;const{itemStyler:c,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:h}=e,p=l?this.getHighlightStyle(s,t):void 0,m=Gn(p,o,e.getStyle(),a);let v=Ad(m,u,d,h);if(c&&r){const C=(y=this.ctx.highlightManager)==null?void 0:y.getActiveHighlight(),S=this.getHighlightStateString(C,s,t),x=this.cachedCallWithContext(c,{seriesId:this.id,...v,...r,highlighted:s,highlightState:S,datum:n});v=Ad(Gn(x,v),u,d,h)}return v}applyMarkerStyle(e,t,n,i,{applyTranslation:r=!0,selected:s=!0}={}){const{shape:o,size:a=0}=e,l=this.visible&&a>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(ef(t,e,i),r?t.setProperties({visible:l,shape:o,size:a,x:n==null?void 0:n.x,y:n==null?void 0:n.y,scalingCenterX:n==null?void 0:n.x,scalingCenterY:n==null?void 0:n.y}):t.setProperties({visible:l,shape:o,size:a}),s||(t.fillOpacity*=r1e,t.strokeOpacity*=s1e),typeof o=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const c=t.getBBox();if(n!=null&&c.isFinite()){const u=c.computeCenter(),[d,h]=["x","y"].map(p=>(e.strokeWidth??0)+Math.abs(u[p]-n[p]));n.focusSize=Math.max(c.width+d,c.height+h)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=hf(this.nodeDataDependencies,i)!=null;return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:n}=this,i=n.get(e);if(i!=null)return i;try{const r=t();return n.set(e,r),r}catch(r){Je.error(String(r))}}cachedCallWithContext(e,...t){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],e,...t)}callWithContext(e,...t){return nu([this.properties,this.ctx.chartService],e,...t)}formatTooltipWithContext(e,t,n){return e.formatTooltip([this.properties,this.ctx.chartService],t,n)}minTimeInterval(){}};P([Po({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],uk.prototype,"seriesGrouping",2);var o1e=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=an("div"),this.svg=Ar("svg"),this.outerPath=Ar("path"),this.innerPath=Ar("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=an("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,n){if(t!=null)if(e instanceof Fo){const i=(s,o)=>{let{x:a,y:l}=mr.toCanvasPoint(e,s,o);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},r=e.svgPathData(i);this.outerPath.setAttribute("d",r),this.innerPath.setAttribute("d",r),this.show(this.svg)}else{let i;if(n){const r=Math.max(e.x-t.x,0),s=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);i=new ut(r,s,o-r,a-s)}else i=new ut(e.x-t.x,e.y-t.y,e.width,e.height);EN(this.div,i),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},n=this.element.parentElement;n==null||n.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&si().getComputedStyle(t).opacity==="1"}},a1e=class{constructor(e,t,n,i){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=r=>(gd(r.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",r)),this.onFocus=r=>(gd(r.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",r)),An(this.label1,"id",bN()),An(this.label2,"id",bN()),gd(this.label1,"display","none"),gd(this.label2,"display","none"),this.label1.textContent=i,this.label2.textContent=i,this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),An(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(i)}createAnnouncer(e){const t=an("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(n=>n(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],ow(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),ow(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},l1e={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function c1e(e,t){for(const n of t)if("code"in n){if(n.code===e.code)return!0}else if(n.key===e.key&&(n.shift===void 0||n.shift===e.shiftKey)&&(n.ctrlOrMeta===void 0||n.ctrlOrMeta===e.ctrlKey||n.ctrlOrMeta===e.metaKey))return!0;return!1}function u1e(e){for(const[t,{activatesFocusIndicator:n=!0,bindings:i}]of Xc(l1e))if(c1e(e,i))return{name:t,activatesFocusIndicator:n}}function d1e(e,t,n){const i=Ez(e,n.datum,n.movedBounds);if(i!=null)return{x:i.canvasX,y:i.canvasY};const r=n.bounds;if(r!=null){if(r instanceof ut){const{x:s,y:o}=r.computeCenter();return{x:t.x+s,y:t.y+o}}return mr.toCanvas(r).computeCenter()}}function h1e({bounds:e}){return e instanceof ut?e:e!=null?mr.toCanvas(e):ut.NaN}function f1e(e,t,n){const{x:i,y:r}=d1e(e,t,n)??{};if(i!==void 0&&r!==void 0)return{type:"keyboard",canvasX:i,canvasY:r}}function Yq(e,t,n,i){let{top:r,right:s,bottom:o,left:a,width:l,height:c}=i;return a!=null?l!=null?s=n.width-a+l:s!=null&&(l=n.width-a-s):s!=null&&l!=null&&(a=n.width-s-l),r!=null?c!=null?o=n.height-r-c:o!=null&&(c=n.height-o-r):o!=null&&c!=null&&(r=n.height-o-c),l==null?c==null?(c=t,l=e):l=Math.ceil(e*c/t):c??(c=Math.ceil(t*l/e)),a==null&&(s==null?a=Math.floor((n.width-l)/2):a=n.width-s-l),r==null&&(o==null?r=Math.floor((n.height-c)/2):r=n.height-c-o),{x:a,y:r,width:l,height:c}}var iW=.1,rW=200,sW=12,p1e=.5,g1e=class{constructor(){this.events=new Og,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:n}=this,i=Date.now(),r=i-n;this.t0=i;const s=.001,o=Math.ceil(r/(s*1e3))|0;let{x:a,y:l,vx:c,vy:u}=this;for(let d=0;d<o;d+=1){const h=a-e,p=l-t,m=-(rW*h+sW*c)/iW,v=-(rW*p+sW*u)/iW;c+=m*s,u+=v*s,a+=c*s,l+=u*s}Math.hypot(a-e,l-t)<p1e?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=c,this.vy=u,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},TD=null;function iE(e){return e===""?"":(TD??(TD=an("div")),TD.textContent=String(e),TD.innerHTML.replace(/\n/g,"<br>"))}function PM(e,t){const{path:n,size:i}=e,{x:r,y:s}=e;n.clear();let o=!1;for(const[a,l]of t){const c=r+(a-.5)*i,u=s+(l-.5)*i;o?n.lineTo(c,u):n.moveTo(c,u),o=!0}n.closePath()}var m1e={circle({path:e,x:t,y:n,size:i}){const r=i/2;e.arc(t,n,r,0,Math.PI*2),e.closePath()},cross(e){PM(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){PM(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:n,size:i}){const r=i/4;n=n+r/2,e.arc(t-r,n-r,r,to(130),to(330)),e.arc(t+r,n-r,r,to(220),to(50)),e.lineTo(t,n+r),e.closePath()},pin({path:e,x:t,y:n,size:i}){e.moveTo(t+(.15625-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.15625-.5)*i,n+(.151491-.5)*i,t+(.307741-.5)*i,n+(0-.5)*i,t+(.5-.5)*i,n+(0-.5)*i),e.cubicCurveTo(t+(.692259-.5)*i,n+(0-.5)*i,t+(.84375-.5)*i,n+(.151491-.5)*i,t+(.84375-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.84375-.5)*i,n+(.493824-.5)*i,t+(.784625-.5)*i,n+(.600181-.5)*i,t+(.716461-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.699009-.5)*i,n+(.719769-.5)*i,t+(.681271-.5)*i,n+(.743104-.5)*i,t+(.663785-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.611893-.5)*i,n+(.834367-.5)*i,t+(.562228-.5)*i,n+(.899699-.5)*i,t+(.528896-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.524075-.5)*i,n+(.992358-.5)*i,t+(.512663-.5)*i,n+(1-.5)*i,t+(.5-.5)*i,n+(1-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.437772-.5)*i,n+(.899699-.5)*i,t+(.388107-.5)*i,n+(.834367-.5)*i,t+(.336215-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.318729-.5)*i,n+(.743104-.5)*i,t+(.300991-.5)*i,n+(.719769-.5)*i,t+(.283539-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.215375-.5)*i,n+(.600181-.5)*i,t+(.15625-.5)*i,n+(.493824-.5)*i,t+(.15625-.5)*i,n+(.34375-.5)*i),e.closePath()},plus(e){PM(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:n,size:i,pixelRatio:r}){const s=i/2;e.moveTo(ps(r,t-s),ps(r,n-s)),e.lineTo(ps(r,t+s),ps(r,n-s)),e.lineTo(ps(r,t+s),ps(r,n+s)),e.lineTo(ps(r,t-s),ps(r,n+s)),e.closePath()},star({path:e,x:t,y:n,size:i}){const s=i/2,o=s/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?s:o,u=l*Math.PI/5-a,d=t+Math.cos(u)*c,h=n+Math.sin(u)*c;e.lineTo(d,h)}e.closePath()},triangle(e){PM(e,[[.5,0],[1,.87],[0,.87]])}},WR=class extends Fo{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(e,t){return this.distanceSquared(e,t)<=0}distanceSquared(e,t){const n=ss.anchor(this.shape);return Math.max(Math.hypot(e-this.x+(n.x-.5)*this.size,t-this.y+(n.y-.5)*this.size)-this.size/2,0)}updatePath(){var l,c;const{path:e,shape:t,x:n,y:i,size:r}=this,s=((c=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:c.pixelRatio)??1,o=ss.anchor(t),a={path:e,x:n-(o.x-.5)*r,y:i-(o.y-.5)*r,size:r,pixelRatio:s};e.clear(),typeof t=="string"?m1e[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:n}=this,i=ss.anchor(this.shape);return new ut(e-n*i.x,t-n*i.y,n,n)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};P([Cl({})],WR.prototype,"shape",2);P([Xe()],WR.prototype,"x",2);P([Xe()],WR.prototype,"y",2);P([Xe({convertor:Math.abs})],WR.prototype,"size",2);var ss=class extends Ow(az(Pw(WR))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function Kq(e,t,n=t*(5/3)){var l;const i=new nn,r=Math.min(e.marker.strokeWidth??1,2),s=Math.min(((l=e.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:n),a=Math.max(e.marker.enabled===!1?0:t,s);if(e.line!=null){const{stroke:c,strokeOpacity:u,lineDash:d}=e.line,h=new fl;h.x1=0,h.y1=a/2,h.x2=o,h.y2=a/2,h.stroke=c,h.strokeOpacity=u,h.strokeWidth=s,h.lineDash=d,i.append(h)}if(e.marker.enabled!==!1){const{shape:c,fill:u,fillOpacity:d,stroke:h,strokeOpacity:p,lineDash:m,lineDashOffset:v}=e.marker,y=new ss;y.shape=c??"square",y.size=t,y.fill=u,y.fillOpacity=d??1,y.stroke=h,y.strokeOpacity=p??1,y.strokeWidth=r,y.lineDash=m,y.lineDashOffset=v??0;const C=ss.anchor(c),S=o/2+(C.x-.5)*t,x=a/2+(C.y-.5)*t,R=t/(t+r);y.x=S,y.y=x,y.scalingCenterX=S,y.scalingCenterY=x,y.scalingX=R,y.scalingY=R,i.append(y)}return nn.toSVG(i,o,a)}var Ns="ag-charts-tooltip",qq="ag-charts-tooltip--dark";function Zq(e){const t=[],n=new Map;for(const i of e)if(i.type==="structured"){const{heading:r}=i,s=r!=null?n.get(r):void 0,o={type:"structured",heading:r,items:[i]};s==null?(n.set(r,o),t.push(o)):s.items.push(i)}else t.push(i);return t}function Xq(e){const t=Zq(e),n=[];return t.forEach(i=>{if(i.type==="raw")return"";i.heading!=null&&n.push(i.heading),i.items.forEach(r=>{var s;r.title!=null&&n.push(r.title),(s=r.data)==null||s.forEach(o=>{n.push(o.label??o.fallbackLabel,o.value)})})}),n.join("; ")}function BB(e,t,n){let i="";e==null?i+=`<span class="${Ns}-label">${iE(t)}</span>`:(i+=`<span class="${Ns}-label">${iE(e)}</span>`,i+=" ",i+=`<span class="${Ns}-value">${iE(t)}</span>`);const r=[`${Ns}-row`];return n&&r.push(`${Ns}-row--inline`),i=`<div class="${r.join(" ")}">${i}</div>`,i}function v1e(e){var r,s,o,a;let t="";if((r=e.data)!=null&&r.length&&e.data.every(l=>l.value==null||l.value===""))return t;const n=e.title==null&&((s=e.data)==null?void 0:s.length)===1,i=e.symbol==null?void 0:Kq(e.symbol,12);return i!=null&&(e.title!=null||(o=e.data)!=null&&o.length)&&(t+=`<span class="${Ns}-symbol">${i}</span>`),e.title!=null&&(t+=`<span class="${Ns}-title">${iE(e.title)}</span>`,t+=" "),(a=e.data)==null||a.forEach(l=>{t+=BB(l.label??l.fallbackLabel,l.value,n),t+=" "}),t}function Qq(e,t){if(e==null||t.length===1)return;const n=e==null?void 0:e.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${Ns}-footer">${n}</div>`}function oW(e,t,n,i){var u,d;const r=t.items.length===1?t.items[0]:void 0;let s,o,a;switch(n){case"compact":s=!0,o=r==null?void 0:r.title;break;case"single":s=r!=null&&(t.heading==null||r.title==null)&&((u=r.data)==null?void 0:u.length)===1&&r.data[0].label==null&&r.data[0].value!=null,a=t.heading??(r==null?void 0:r.title);break;case"shared":s=!1}let l="";if(s&&r!=null?(o!=null&&(l+=BB(void 0,o,!1)),(d=r.data)==null||d.forEach(h=>{l+=BB(h.label??a,h.value,!1),l+=" "})):(t.heading!=null&&(l+=`<span class="${Ns}-heading">${iE(t.heading)}</span>`,l+=" "),t.items.forEach(h=>{l+=v1e(h)})),l.length===0)return;const c=n!=="compact"&&i!=null?Qq(e,i):void 0;return c+null&&(l+=c),l=`<div class="${Ns}-content">${l.trimEnd()}</div>`,l}function y1e(e,t){const n=t==null?void 0:Qq(e,t);return n==null?"":`<div class="${Ns}-content">${n}</div>`}function Jq(e,t,n,i){const r=Zq(t);if(r.length!==0){if(r.length===1&&r[0].type==="structured")return oW(e,r[0],n,i);{const s=r.map(o=>o.type==="structured"?oW(e,o,n):o.rawHtmlString);return i!=null&&s.push(y1e(e,i)??""),s.join("")}}}var C1e={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},b1e={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},w1e={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},aW={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},S1e={pointer:"top",node:"top",chart:"top-left"},Ky=class extends Wt{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};P([z],Ky.prototype,"xOffset",2);P([z],Ky.prototype,"yOffset",2);P([z],Ky.prototype,"anchorTo",2);P([z],Ky.prototype,"placement",2);var lc=class extends Wt{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Ky,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new sr,this.springAnimation=new g1e,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new bK,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t,n){return"togglePopover"in si().HTMLElement.prototype&&(this.element=n.addChild("tooltip-container",Ns),this.element.setAttribute("popover","manual"),this.element.className=Ns,this.element.style.positionAnchor=n.anchorName,this.sizeMonitor.observe(this.element,i=>{this._elementSize=i,this.updateTooltipPosition()})),this.localeManager=t,()=>{n.removeChild("tooltip-container",Ns),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(t){var n;return((n=this.element)==null?void 0:n.contains(t))??!1}updateTooltipPosition(){var F,H,W,$;const{element:t,_elementSize:n,positionParams:i}=this;if(t==null||n==null||i==null)return;const{canvasRect:r,relativeRect:s,meta:o}=i,{x:a,y:l}=this.springAnimation,c=((F=o.position)==null?void 0:F.anchorTo)??"pointer";let u=((H=o.position)==null?void 0:H.placement)??S1e[c];Array.isArray(u)||(u=[u]);const d=((W=o.position)==null?void 0:W.xOffset)??0,h=(($=o.position)==null?void 0:$.yOffset)??0,p=s.x,m=s.y,v=s.width-n.width-1+p,y=s.height-n.height+m;let C=0,S,x,R=!1;do{S=u[C],C+=1;const Z=this.getTooltipBounds({elementSize:n,placement:S,anchorTo:c,canvasX:a,canvasY:l,yOffset:h,xOffset:d,canvasRect:r});x=Yq(n.width,n.height,s,Z),R=!1,aW[S]&1&&(R||(R=x.x<p||x.x>v)),aW[S]&2&&(R||(R=x.y<m||x.y>y))}while(C<u.length&&R);const A=Gt(p,x.x,v),T=Gt(m,x.y,y);R||(R=A!==x.x||T!==x.y);const L=c!=="chart"&&!R&&!d&&!h,O=o.showArrow??this.showArrow??L;this.arrowPosition=O?w1e[S]:void 0,this.updateClassModifiers(),t.style.translate=`${A}px ${T}px`}show(t,n,i,r,s,o=!1){var u;const{element:a}=this;if(a!=null&&r!=null&&r.length!==0){const d=Jq(this.localeManager,r,this.mode,this.pagination?s:void 0);if(d==null){this.toggle(!1);return}a.innerHTML=d}else if(a==null||a.innerHTML===""){this.toggle(!1);return}const l={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height};switch(this.positionParams={canvasRect:n,relativeRect:l,meta:i},((u=i.position)==null?void 0:u.anchorTo)??"pointer"){case"node":this.springAnimation.update(i.nodeCanvasX??i.canvasX,i.nodeCanvasY??i.canvasY);break;case"pointer":this.springAnimation.update(i.canvasX,i.canvasY);break;case"chart":this.springAnimation.reset()}i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden"),a.tabIndex=-1):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")),a.style.setProperty("--top",`${n.top}px`),a.style.setProperty("--left",`${n.left}px`),this.updateClassModifiers(),this.toggle(!0,o)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:t},n){const{interactive:i,interactiveLeave:r,enabled:s,element:o}=this;if(o==null)return!1;if(r)return!0;const a=i&&s&&this.isVisible()&&t instanceof Node&&this.contains(t);return a&&(this.interactiveLeave={callback:n,listener:l=>{(l.relatedTarget==null||l.relatedTarget instanceof Node&&!this.contains(l.relatedTarget))&&this.popInteractiveLeaveCallback()}},o.addEventListener("focusout",this.interactiveLeave.listener),o.addEventListener("mouseout",this.interactiveLeave.listener)),a}popInteractiveLeaveCallback(){const{interactiveLeave:t,element:n}=this;this.interactiveLeave=void 0,t&&(n&&(n.removeEventListener("focusout",t.listener),n.removeEventListener("mouseout",t.listener)),t.callback())}toggle(t,n=!1){const{delay:i}=this;t&&i>0&&!n?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},i)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(t))}toggleCallback(t){var n;(n=this.element)!=null&&n.isConnected&&this._visible!==t&&(this._visible=t,this.element.togglePopover(t),t?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){var i;if(!((i=this.element)!=null&&i.isConnected))return;const{classList:t}=this.element,n=(r,s)=>t.toggle(`${Ns}--${r}`,s);n("no-interaction",!this.enableInteraction),n("arrow-top",this.arrowPosition===1),n("arrow-right",this.arrowPosition===3),n("arrow-bottom",this.arrowPosition===2),n("arrow-left",this.arrowPosition===0),n("compact",this.mode==="compact"),t.toggle(qq,this.darkTheme);for(const r of this.wrapTypes)t.toggle(`${Ns}--wrap-${r}`,r===this.wrapping)}getTooltipBounds(t){const{elementSize:n,anchorTo:i,placement:r,canvasX:s,canvasY:o,yOffset:a,xOffset:l,canvasRect:c}=t,{width:u,height:d}=n,h={width:u,height:d};if(i==="node"||i==="pointer"){const p=C1e[r],m=b1e[r];return h.top=o+a+d*(m-1)/2+8*m,h.left=s+l+u*(p-1)/2+8*p,h}switch(r){case"top":return h.top=a,h.left=c.width/2-u/2+l,h;case"right":return h.top=c.height/2-d/2+a,h.left=c.width-u/2+l,h;case"left":return h.top=c.height/2-d/2+a,h.left=l,h;case"bottom":return h.top=c.height-d+a,h.left=c.width/2-u/2+l,h;case"top-left":return h.top=a,h.left=l,h;case"top-right":return h.top=a,h.left=c.width-u+l,h;case"bottom-right":return h.top=c.height-d+a,h.left=c.width-u+l,h;case"bottom-left":return h.top=c.height-d+a,h.left=l,h}return h}};P([z],lc.prototype,"enabled",2);P([z],lc.prototype,"mode",2);P([z],lc.prototype,"showArrow",2);P([z],lc.prototype,"delay",2);P([z],lc.prototype,"range",2);P([z],lc.prototype,"wrapping",2);P([z],lc.prototype,"position",2);P([z],lc.prototype,"pagination",2);P([z],lc.prototype,"darkTheme",2);P([z],lc.prototype,"bounds",2);function GB(e,t){return e.series===t.series&&aa(e.datumIndex,t.datumIndex)}var x1e=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let n=t!=null?e.findIndex(i=>GB(i,t)):-1;return n===-1&&(n=0),this.active=e[n],{current:this.active,index:n,length:e.length}}next(){const{candidates:e,active:t}=this,n=t==null?-1:e.findIndex(r=>GB(r,t));if(n===-1)return;let i=n+1;return i>=e.length&&(i=0),this.active=e[i],{current:this.active,index:i,length:this.candidates.length}}},M1e=class extends gz{constructor(e){super(),this.chart=e,this.id=cu(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=Qxe(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new x1e;const t=e.ctx.localeManager.t("ariaInitSeriesArea"),n=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new a1e(n,i,"img",t),this.swapChain.addListener("blur",a=>this.onBlur(a)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new o1e(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:r,seriesWidget:s,containerWidget:o}=e.ctx.widgets;s.setTabIndex(-1),this.cleanup.register(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),s.addListener("mousemove",a=>this.onHover(a,s)),s.addListener("wheel",a=>this.onWheel(a)),s.addListener("mouseleave",a=>this.onLeave(a)),s.addListener("keydown",a=>this.onKeyDown(a)),s.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),o.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),o.addListener("click",(a,l)=>this.onClick(a,l)),o.addListener("dblclick",(a,l)=>this.onClick(a,l)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),e.ctx.eventsHub.on("highlight:change",a=>this.changeHighlightDatum(a)),e.ctx.eventsHub.on("layout:complete",a=>this.layoutComplete(a)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),e.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),r&&this.cleanup.register(r.events.on("drag-move",a=>this.onDragMove(a,s)),r.events.on("click",a=>this.onClick(a,s)),r.events.on("dblclick",a=>this.onClick(a,s)))}get bbox(){return(this.seriesRect??ut.zero).clone()}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;var e;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),(t=this.focusIndicator)==null||t.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){var e;this.isState(34)&&((e=this.focusIndicator)!=null&&e.isFocusVisible())&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,n)=>{let i=t.properties.focusPriority??1/0,r=n.properties.focusPriority??1/0;return i===r&&([i,r]=[t.declarationOrder,n.declarationOrder]),i<r?-1:i>r?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){var l;const{sourceEvent:n}=e;if(n.currentTarget!=t.getElement())return;if(n.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:c,currentY:u}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:e,canvasX:c,canvasY:u},void 0)}return}let i,r;if((l=this.focusIndicator)!=null&&l.isFocusVisible())i=this.chart.ctx.highlightManager.getActiveHighlight(),i&&this.seriesRect&&i.midPoint&&(r=mr.toCanvasPoint(i.series.contentGroup,i.midPoint.x,i.midPoint.y));else if(this.isState(36)){const c=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");c&&(this.chart.ctx.highlightManager.updateHighlight(this.id),i=c.matches[0].datum)}const s=i==null?void 0:i.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();s&&i?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:e,canvasX:o,canvasY:a},{pickedSeries:s,pickedNode:i},r):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:e,canvasX:o,canvasY:a},void 0,r)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.maybeEnterInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e,t){var n;this.isState(41)&&((n=this.focusIndicator)==null||n.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t))}onHover(e,t){this.isState(41)&&this.onHoverLikeEvent(e,t)}onHoverLikeEvent(e,t){var n;if(!this.isIgnoredTouch(e)&&(e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),t===this.chart.ctx.widgets.seriesWidget&&((e.device==="touch"||E1e(e,"drag-move"))&&(this.tooltip.lastHover=e),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32)))){const{currentX:i,currentY:r}=e,s=(n=this.pickNodes({x:i,y:r},"event"))==null?void 0:n.matches,o=s==null?void 0:s[0];o!=null&&o.series.hasEventListener("seriesNodeClick")||o!=null&&o.series.hasEventListener("seriesNodeDoubleClick")||s!=null&&s.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){var i;if(e.device==="keyboard"||(t===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if((i=this.focusIndicator)==null||i.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(5),e.sourceEvent.preventDefault();return}const n={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(n)}onFocus(){var e;this.isState(34)&&(this.hoverDevice=(e=this.focusIndicator)!=null&&e.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){var t;this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(e)||this.clearAll(),(t=this.focusIndicator)==null||t.overrideFocusVisible(void 0))}onKeyDown(e){var n;if(!this.isState(43))return;const t=u1e(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&((n=this.focusIndicator)==null||n.overrideFocusVisible(this.previousInputDevice==="keyboard")),t==null?void 0:t.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:e});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:e});case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,n){var i;this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",(i=this.focusIndicator)==null||i.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),n.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:n}=this.focus,i=e.sourceEvent;t!=null&&n!=null?t.fireNodeClickEvent(i,n):this.chart.fireEvent({type:"click",event:i}),i.preventDefault()}checkSeriesNodeClick(e){var a,l,c;var t;const n=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(n==null||n.matches.length===0)return;const i=this.chart.tooltip.pagination?(a=this.tooltipCandidates.update(n.matches,this.tooltipCandidates.current))==null?void 0:a.current:void 0,{series:r,datum:s}=i??n.matches[0],o=i==null?n.distance:0;if(e.type==="click"){const d=r.fireNodeClickEvent(e.sourceEvent,s)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(d!=null){e.sourceEvent.preventDefault();const{currentX:h,currentY:p}=e,m=h+(((l=this.hoverRect)==null?void 0:l.x)??0),v=p+(((c=this.hoverRect)==null?void 0:c.y)??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(d.current,m,v,{index:d.index,length:d.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=o===0,r.fireNodeDoubleClickEvent(e.sourceEvent,s),!0):!1}handleFocus(e,t){var i;const n=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);n==null?this.handleSeriesFocus(e,t)===0?this.announceMode="when-changed":this.announceMode="always":((i=this.focusIndicator)==null||i.update(n.rect,this.seriesRect,!1),this.swapChain.update(n.text),this.announceMode="always")}handleSeriesFocus(e,t){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(e,t);const{focus:n}=this,i=n.sortedSeries.filter(l=>l.visible&&l.focusable);if(i.length===0)return 1;const r=n.datumIndex-t,s=n.seriesIndex-e;n.seriesIndex=Gt(0,n.seriesIndex,i.length-1),n.series=i[n.seriesIndex];const o=this.focus.datumIndex,a=this.focus.seriesIndex;return this.updatePickedFocus(o,t,r,a,e,s)}handleSoloSeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,i=this.focus.seriesIndex,r=this.focus.datumIndex-t,s=this.focus.seriesIndex-e;return this.updatePickedFocus(n,t,r,i,e,s)}updatePickedFocus(e,t,n,i,r,s){var h,p,m;const{focus:o,hoverRect:a,seriesRect:l}=this;if(o.series==null||a==null)return 1;const c=(h=o==null?void 0:o.series)==null?void 0:h.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:i,otherIndexDelta:r,seriesRect:l});if(!c)return 2;const{datum:u}=c;if(o.datum=u,o.datumIndex=c.datumIndex,c.otherIndex!=null&&(o.seriesIndex=c.otherIndex),(p=this.focusIndicator)!=null&&p.isFocusVisible()){this.chart.ctx.animationManager.reset();const v=h1e(c),{x:y,y:C}=v.computeCenter();if(!a.containsPoint(y,C)&&this.chart.ctx.zoomManager.panToBBox(this.id,a,v))return 3;const{x1:S,x2:x,y1:R,y2:A}=_E.from(v),T=a.containsPoint(S,R),L=a.containsPoint(x,R),O=a.containsPoint(S,A),F=a.containsPoint(x,A);if(!(T||L||O||F)){const H=_E.from(a);c.movedBounds=v.clone(),S<H.x1&&x<H.x1?(c.movedBounds.x=H.x1-2,c.movedBounds.width=4):S>H.x2&&x>H.x2&&(c.movedBounds.x=H.x2-2,c.movedBounds.width=4),R<H.y1&&A<H.y1?(c.movedBounds.y=H.y1-2,c.movedBounds.height=4):R>H.y2&&A>H.y2&&(c.movedBounds.y=H.y2-2,c.movedBounds.height=4)}}(m=this.focusIndicator)==null||m.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);const d=f1e(o.series,a,c);if(d!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const v=this.getTooltipContent(o.series,u.datumIndex,u,"aria-label"),y=AN.makeTooltipMeta(d,o.series,u,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,u),this.isTooltipEnabled(o.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,y,v),this.maybeAnnouncePickedFocus(t,n,r,s,c,v)}return 0}maybeAnnouncePickedFocus(e,t,n,i,r,s){const{focus:o}=this;let a;this.announceMode==="when-changed"?e===0&&n===0||t!==r.datumIndex||i!==(r.otherIndex??o.seriesIndex)?a="always":a="never":a=this.announceMode,a==="always"&&this.swapChain.update(this.getDatumAriaText(r.datum,s))}getDatumAriaText(e,t){var i,r;const n=t==null?"":Xq(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((r=(i=e.series).getDatumAriaText)==null?void 0:r.call(i,e,n))??n})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){var e;this.clearHighlight(),this.clearTooltip(),(e=this.focusIndicator)==null||e.clear()}handleHoverHighlight(e){var h,p,m;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:n,currentY:i}=t,r=t.currentX+(((h=this.hoverRect)==null?void 0:h.x)??0),s=t.currentY+(((p=this.hoverRect)==null?void 0:p.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((m=this.hoverRect)!=null&&m.containsPoint(r,s))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:n,y:i},a);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:c}=this.tooltipCandidates,u=c==null?void 0:l.matches.find(v=>GB(v,c)),d=(u==null?void 0:u.datum)??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.hoverDevice="pointer"}handleHoverTooltip(e,t){var c,u,d;const{current:n}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:i,currentY:r}=e,s=i+(((c=this.hoverRect)==null?void 0:c.x)??0),o=r+(((u=this.hoverRect)==null?void 0:u.y)??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((d=this.hoverRect)!=null&&d.containsPoint(s,o))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",Ns))return;const l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){const{current:h,index:p,length:m}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?n:void 0);this.showTooltip(h,s,o,{index:p,length:m})}else this.showTooltip(l.matches[0],s,o)}showTooltip({series:e,datum:t,datumIndex:n},i,r,s){const o=this.getTooltipContent(e,n,t,"tooltip");if(o!=null){const l=AN.makeTooltipMeta({type:"pointermove",canvasX:i,canvasY:r},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,l,o,s)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(e){return this.chart.tooltip.maybeEnterInteractiveTooltip(e,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(e){var i,r,s,o;const t=(i=e.previousHighlight)==null?void 0:i.series,n=(r=e.currentHighlight)==null?void 0:r.series;t!=null&&t.properties.cursor&&((s=e.previousHighlight)!=null&&s.datum)&&this.chart.ctx.domManager.updateCursor(t.id),n!=null&&n.properties.cursor&&n.properties.cursor!=="default"&&((o=e.currentHighlight)!=null&&o.datum)&&this.chart.ctx.domManager.updateCursor(n.id,n.properties.cursor),n==null||t==null?this.update(5):this.update(5,{seriesToUpdate:new Set([t,n].filter(Boolean))})}pickNodes(e,t,n){const i=[...this.series].reverse();let r;for(const s of i){if(!s.visible||!s.contentGroup.visible)continue;const o=s.pickNodes(e,t,n);if(o==null||o.datums.length===0)continue;const{datums:a,distance:l}=o;if(o.datums.length!==0){if(l===0){(r==null?void 0:r.distance)!==0&&(r={matches:[],distance:0});for(const c of a){const{datumIndex:u}=c;r.matches.push({series:s,datum:c,datumIndex:u})}}else if(r==null||r.distance>l){const[c]=a,{datumIndex:u}=c;r={matches:[{series:s,datum:c,datumIndex:u}],distance:l}}}}return r}isTooltipEnabled(e){return e.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(e,t,n,i){let r;if(i==="aria-label"||this.isTooltipEnabled(e)){const{cachedTooltipContent:s}=this;if(s!=null&&s.series===e&&s.datumIndex===t)r=s.content;else{const o=this.chart.getTooltipContent(e,t,n);this.cachedTooltipContent={series:e,datumIndex:t,content:o},r=o}}else this.cachedTooltipContent=void 0;return r}};function E1e(e,t){return e.type!==t}var lW=30,R1e=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}getGroupIndex(e){const{internalId:t,seriesGrouping:n}=e;return(n==null?void 0:n.groupIndex)??t}getGroupType(e,t){return t?"top":e.type}requestGroup(e){const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),s=this.getGroupIndex(e),o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=lW?"aggressive-grouping":"normal");let a=this.groups.get(r);a==null&&(a=new Map,this.groups.set(r,a));const l=this.lookupIdx(s);let c=a.get(l);return c==null&&(c={type:r,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new nn({name:`${e.contentGroup.name??r}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,c)),this.series.set(t,{layerState:c,seriesConfig:e,bringToFront:i}),c.seriesIds.push(t),c.group.appendChild(n),c.group}changeGroup(e){var u;const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),s=this.series.get(t),o=s?this.getGroupType(s.seriesConfig,s.bringToFront):void 0,a=this.getGroupIndex(e),l=this.lookupIdx(a),c=(u=this.groups.get(r))==null?void 0:u.get(l);if(!(o===r&&(c==null?void 0:c.seriesIds.includes(t))===!0))return this.series.has(t)&&this._releaseGroup({internalId:t,contentGroup:n,type:o}),this.requestGroup(e)}releaseGroup(e){const{internalId:t,contentGroup:n}=e,i=this.getGroupType(e,e.bringToFront());this._releaseGroup({internalId:t,contentGroup:n,type:i})}_releaseGroup(e){var s,o,a;const{internalId:t,contentGroup:n,type:i}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const r=(s=this.series.get(t))==null?void 0:s.layerState;r&&(r.seriesIds=r.seriesIds.filter(l=>l!==t),r.group.removeChild(n)),(r==null?void 0:r.seriesIds.length)===0?(this.seriesRoot.removeChild(r.group),(o=this.groups.get(r.type))==null||o.delete(r.id),(a=this.groups.get(i))==null||a.delete(t)):r!=null&&r.seriesIds.length>0&&(r.group.zIndex=this.getLowestSeriesZIndex(r.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:n,seriesIds:i}=t;let r;if(i.length===0)r=!1;else if(i.length>1)r=!0;else{const s=this.series.get(i[0]);r=(s==null?void 0:s.seriesConfig.renderToOffscreenCanvas())===!0}n.renderToOffscreenCanvas=r,n.zIndex=this.getLowestSeriesZIndex(i)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!Number.isFinite(e))?0:Math.floor(Gt(0,e/this.expectedSeriesCount,1)*lW)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){let t;for(const n of e){const i=this.series.get(n),r=(i==null?void 0:i.seriesConfig.contentGroup.zIndex)??1;if(t==null||r==null){t=r;continue}t=zY(t,r)<=0?t:r}return t??1}},eZ=class extends Wt{constructor(){super(...arguments),this.dragAction="drag"}};P([z],eZ.prototype,"dragAction",2);var A1e=class{constructor(e,t,n,i,r,s){this.chart=e,this.eventsHub=t,this.dataService=n,this.updateService=i,this.zoomManager=r,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new sr,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",o=>this.onUpdateComplete(o)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(e){!e.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(e)}onZoomChange(){this.dirtyZoom=!0}updateWindow(e){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let n,i=!0;if(t){const r=this.zoomManager.getAxisZoom(t.id);(r.min!==0||r.max!==1)&&(n=this.getAxisWindow(t,r)),i=this.shouldRefresh(e,t,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:n==null?void 0:n.min,windowEnd:n==null?void 0:n.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t,n){if(e.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&n.min===i.min&&n.max===i.max?!1:(this.lastAxisZooms.set(t.id,n),!0)}getAxisWindow(e,t){const{domain:n}=e.scale;if(!t||n.length===0||isNaN(Number(n[0])))return;const i=Number(n[1])-Number(n[0]),r=new Date(Number(n[0])+i*t.min),s=new Date(Number(n[0])+i*t.max);return{min:r,max:s}}},T1e=/^((?!chrome|android).)*safari/i,D1e=/Version\/(\d+(\.\d+)?)/,I1e=/Chrome/,N1e=/Chrome\/(\d+)/,L1e=/Edg/,k1e=/OPR/;function O1e(){const{userAgent:e}=si("navigator");if(T1e.test(e)){const t=D1e.exec(e);if(t==null)return!1;const n=parseFloat(t[1]),i=Math.floor(n)>16;return i||Je.warnOnce(`Unsupported Safari version: ${n}; ${e}`),!i}else if(I1e.test(e)&&!L1e.test(e)&&!k1e.test(e)){const t=N1e.exec(e);if(t==null)return!1;const n=parseInt(t[1],10),i=n>126;return i||Je.warnOnce(`Unsupported Chrome version: ${n}; ${e}`),!i}return!1}var P1e=new Set(["map-shape-background","map-line-background"]),F1e=class{constructor(e,t,n,i,r,s,o){this.chartLike=e,this.overlays=t,this.eventsHub=n,this.dataService=i,this.localeManager=r,this.animationManager=s,this.domManager=o,this.cleanup=new sr,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(_B),this.cleanup.register(this.eventsHub.on("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),n=this.chartLike.series.some(c=>c.hasData),i=this.chartLike.series.some(c=>c.visible&&!P1e.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(tW):this.overlayElem.classList.remove(tW),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const r=t,s=!t&&!n,o=n&&!i,a=this.overlays.unsupportedBrowser.enabled&&O1e();r?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),s?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const l=r||s||o||a;An(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;const n=e.getElement(this.chartLike,this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=" "},this.animationManager)}},Fl=on.create(!0,"opts"),vr=class tZ extends sK{constructor(t,n){var i;super(),this.id=cu(this),this.seriesRoot=new Io({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new Io({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new nn({name:"titles",zIndex:15}),this.debug=on.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new t5,this.chartCaptions=new VL,this.padding=new Wy(20),this.keyboard=new Lz,this.touch=new eZ,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new sr,this.chartAnimationPhase="initial",this.modulesManager=new n1e,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=u=>super.fireEvent(u),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new t5,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Zxe,this.updateRequestors={},this.performUpdateTrigger=Jxe(({count:u})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(u)}catch(d){Je.error("update error",d,d.stack)}}).catch(d=>Je.errorOnce(d))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=u=>{this.fireEvent(u)},this.onSeriesNodeDoubleClick=u=>{this.fireEvent(u)},this.onSeriesVisibilityChange=u=>{this.fireEvent(u)},this.seriesGroupingChanged=u=>{if(!(u instanceof kN))return;const{series:d,seriesGrouping:h}=u;if(d.contentGroup.isRoot())return;const p=this.seriesLayerManager.changeGroup({internalId:d.internalId,type:d.type,contentGroup:d.contentGroup,bringToFront:()=>d.bringToFront(),renderToOffscreenCanvas:()=>d.renderToOffscreenCanvas(),seriesGrouping:h});p!=null&&d.attachSeries(p,this.seriesRoot,this.annotationRoot)},this.chartOptions=t;const r=n==null?void 0:n.scene,s=(n==null?void 0:n.container)??t.processedOptions.container??void 0,o=(n==null?void 0:n.styleContainer)??t.specialOverrides.styleContainer;r&&(this._firstAutoSize=!1,this._lastAutoSize=[r.width,r.height,r.pixelRatio]);const a=new nn({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new lc,this.seriesLayerManager=new R1e(this.seriesRoot),this.mode=t.userOptions.mode??this.mode,this.styleNonce=t.processedOptions.styleNonce;const l=this.ctx=new jEe(this,{chartType:this.getChartType(),scene:r,root:a,container:s,styleContainer:o,domMode:t.optionMetadata.domMode,withDragInterpretation:t.optionMetadata.withDragInterpretation??!0,syncManager:new gRe(this),fireEvent:u=>this.fireEvent(u),updateCallback:(u,d)=>this.update(u,d),updateMutex:this.updateMutex});this.cleanup.register(l.eventsHub.on("dom:resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new _w,(i=this.overlays.loading).renderer??(i.renderer=()=>i1e(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new A1e(this,l.eventsHub,l.dataService,l.updateService,l.zoomManager,l.animationManager),new F1e(this,this.overlays,l.eventsHub,l.dataService,l.localeManager,l.animationManager,l.domManager)],this.highlight=new JK,this.container=s;const c=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new M1e(this.initSeriesAreaDependencies()),this.cleanup.register(l.layoutManager.registerElement(0,u=>{u.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(u)}),l.eventsHub.on("layout:complete",u=>this.chartCaptions.positionAbsoluteCaptions(u)),l.eventsHub.on("data:load",u=>{this.data=u.data}),this.title.registerInteraction(c,"beforebegin"),this.subtitle.registerInteraction(c,"beforebegin"),this.footnote.registerInteraction(c,"afterend"),jd.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(7)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.eventsHub.on("zoom:change",()=>{this.series.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.transition("updateData")});const u=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return tZ.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){var n;(n=this.seriesAreaManager.focusIndicator)==null||n.overrideFocusVisible(t)}fireEvent(t){nu(this,this.fireEventWrapper,t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:n,highlight:i,overlays:r,seriesRoot:s,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(d,h,p)=>this.getTooltipContent(d,h,p),chartType:a,ctx:t,tooltip:n,highlight:i,overlays:r,seriesRoot:s,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(t,n,i){const r=t.properties.tooltip.enabled!==!1?t.getTooltipContent(n,i):void 0,s=r==null?[]:[r];if(this.tooltip.mode!=="shared"||this.series.length===1)return s;const o=t.getCategoryValue(n);return o==null?s:this.series.flatMap(a=>{if(a===t)return s;if(!a.isEnabled()||a.properties.tooltip.enabled===!1)return[];const l=a.datumIndexForCategoryValue(o),c=l==null?void 0:a.getTooltipContent(l,void 0);return c==null?[]:[c]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(t){if(this.destroyed)return;const n=t==null?void 0:t.keepTransferableResources;let i;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(r=>r.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(n=>Je.errorOnce(n)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,n){if(this.destroyed)return;const{forceNodeDataRefresh:i=!1,skipAnimations:r,seriesToUpdate:s=this.series,newAnimationBatch:o,apiUpdate:a=!1}=n??{};this.apiUpdate=a,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),i&&this.series.forEach(l=>l.markNodeDataDirty());for(const l of s)this.seriesToUpdate.add(l);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let l=new Error().stack??"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n==null?void 0:n.backOffMs))}async performUpdate(t){const{performUpdateType:n,extraDebugStats:i,_performUpdateSplits:r,ctx:s}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<7&&(s.animationManager.startBatch(this._performUpdateSkipAnimations),s.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",nE[n]);let a=performance.now();r.start??(r.start=a);const l=u=>{r[u]??(r[u]=0),r[u]+=performance.now()-a,a=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("⬇️");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("🏭");case 3:if(this.checkUpdateShortcut(3))break;await this.processDomains(),l("⛰️");case 4:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;await this.processLayout(),l("⌖");case 5:{if(this.checkUpdateShortcut(5))break;await this.updateSeries(o),l("🤔"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;s.updateService.dispatchPreSceneRender(),l("↖");case 7:if(this.checkUpdateShortcut(7))break;s.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,s.scene.render({debugSplitTimes:r,extraDebugStats:i,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const u of Object.keys(r))delete r[u];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,s.animationManager.endBatch()}this.destroyed||(s.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((c-r.start)*100)/100,count:t,performUpdateType:nE[n]})}updateThemeClassName(){const t="ag-charts-theme-",n=[`${t}default`,`${t}default-dark`];let i=n[0],r=!1,{theme:s}=this.chartOptions.processedOptions;for(;typeof s!="string"&&s!=null;)s=s.baseTheme;typeof s=="string"&&(i=s.replace("ag-",t),r=s.includes("-dark")),n.includes(i)||(i=r?n[1]:n[0]),this.ctx.domManager.setThemeClass(i)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(Je.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){var r,s;const i=(n==null?void 0:n.filter(o=>!t.includes(o)))??[];this.destroySeries(i),(r=this.seriesLayerManager)==null||r.setSeriesCount(t.length);for(const o of t){if(n!=null&&n.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(s=this.seriesAreaManager)==null||s.seriesChanged(t)}destroySeries(t){t==null||t.forEach(n=>{n.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),n.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)}assignAxesToSeries(){const t=Y4(this.axes,n=>n.direction);for(const n of this.series)for(const i of n.directions){const r=t[i];if(!r){Je.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=n.getKeys(i),o=r.find(a=>!a.keys.length||s.some(l=>a.keys.includes(l)));if(!o){Je.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}n.axes[i]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:i}=t;const{pixelRatio:r}=t;if(n=Math.floor(n),i=Math.floor(i),n===0&&i===0)return;const[s=0,o=0,a=1]=this._lastAutoSize??[];s===n&&o===i&&a===r||(this._lastAutoSize=[n,i,r],this.resize("SizeMonitor",{}))}resize(t,n){var p,m,v;const{scene:i,animationManager:r}=this.ctx,{inWidth:s,inHeight:o,inMinWidth:a,inMinHeight:l,inOverrideDevicePixelRatio:c}=n;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,s??this.width,o??this.height);const u=s??this.width??((p=this._lastAutoSize)==null?void 0:p[0]),d=o??this.height??((m=this._lastAutoSize)==null?void 0:m[1]),h=c??this.overrideDevicePixelRatio??((v=this._lastAutoSize)==null?void 0:v[2]);if(this.debug(`Chart.resize() from ${t}`,{width:u,height:d,pixelRatio:h,stack:new Error().stack}),!(u==null||d==null||!ii(u)||!ii(d))&&i.resize(u,d,h)){r.reset();let y=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(y=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:y}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(n=>n.setChartData(this.data));const t=this.modulesManager.mapModules(n=>{var i;return(i=n.updateData)==null?void 0:i.call(n,this.data)});await Promise.all(t)}async processData(){this.series.some(r=>r.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new sq(this.mode,this.suppressFieldDotNotation),n=this.series.map(r=>r.processData(t)),i=this.modulesManager.mapModules(r=>{var s;return(s=r.processData)==null?void 0:s.call(r,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...n,...i]),this.updateLegends()}async processDomains(){for(const t of this.axes)t.processData();for(const t of this.series)t.updatedDomains()}updateLegends(t){for(const{legend:n,legendType:i}of this.modulesManager.legends())i==="category"?this.setCategoryLegendData(t):this.setLegendData(i,n)}setCategoryLegendData(t){var n;const{ctx:{legendManager:i,stateManager:r}}=this;t&&this.series.forEach(o=>{const a=t.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",a)});const s=this.series.flatMap(o=>{const a=o.getLegendData("category");return i.updateData(o.id,a),a});if(t){r.setStateAndRestore(i,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:c},label:u}of s.filter(d=>!d.hideInLegend)){if(c.fill==null)continue;const d=a.get(l),h=o[d]??(o[d]={});h[n=u.text]??(h[n]=c.fill),h[u.text]!==c.fill&&Je.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}i.update()}setLegendData(t,n){n.data=this.series.filter(i=>i.properties.showInLegend).flatMap(i=>i.getLegendData(t))}async processLayout(){var s;const t=this.animationRect,{width:n,height:i}=this.ctx.scene,r=this.ctx.layoutManager.createContext(n,i);await this.performLayout(r),t&&!((s=this.animationRect)!=null&&s.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:n}=this;await Promise.all(t.map(i=>i.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(i=>i.visible&&i.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t,n){const i=si("agChartsDebugTimeout");i==null?(t??(t=1e5),n??(n=!1)):(t=i,n??(n=!0));const r=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==8||this.runningUpdateType!==8)&&await this._performUpdateNotify.await(),performance.now()-r>t){const s=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(s);Je.warnOnce(s)}iK()&&await n5(),this.ctx.scene.waitingForUpdate()&&await n5(50)}}filterMiniChartSeries(t){return t==null?void 0:t.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){var y,C,S,x,R;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0){Fl("Chart.applyOptions() - no delta, forcing re-layout",i),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}const r=this.firstApply?{}:this.chartOptions.processedOptions,s=t.processedOptions;Fl("Chart.applyOptions() - applying delta",i);const o=this.applyModules(s),a=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];i.listeners&&this.registerListeners(this,i.listeners),tE(this,i,{skip:a});let l=!1,c="no-op";i.series!=null&&(c=this.applySeries(this,i.series,r==null?void 0:r.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,r,c,[])&&(l=!0),i.data&&(this.data=i.data),(y=i.legend)!=null&&y.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(C=i.locale)!=null&&C.localeText&&(this.modulesManager.getModule("locale").localeText=(S=i.locale)==null?void 0:S.localeText),this.chartOptions=t;const u=this.modulesManager.getModule("navigator"),d=this.modulesManager.getModule("zoom");!(u!=null&&u.enabled)&&!(d!=null&&d.enabled)&&this.ctx.zoomManager.updateZoom("chart");const h=u==null?void 0:u.miniChart,p=((R=(x=s.navigator)==null?void 0:x.miniChart)==null?void 0:R.series)??s.series;(h==null?void 0:h.enabled)===!0&&p!=null?this.applyMiniChartOptions(h,p,s,r):(h==null?void 0:h.enabled)===!1&&(h.series=[],h.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(i,c));const v=l||o?0:4;if(this.maybeResetAnimations(c),this.shouldClearLegendData(s,r,c)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),this.ctx.formatManager.setFormatter(s.formatter),Fl("Chart.applyOptions() - update type",nE[v],{seriesStatus:c,forceNodeDataRefresh:l}),t.optionsProcessingTime!==void 0){this._performUpdateSplits["⚙️"]=t.optionsProcessingTime;const A=performance.now()-t.optionsProcessingTime;this._performUpdateSplits.start=A}this.update(v,{apiUpdate:!0,forceNodeDataRefresh:l,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var l,c,u;const{annotationManager:n,chartTypeOriginator:i,historyManager:r,stateManager:s,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((l=t.annotations)!=null&&l.enabled)&&(a==null?void 0:a.annotations)!=null){const d=a.annotations.map(h=>{const p=n.getAnnotationTypeStyles(h.type);return Gn(h,p)});s.setState(n,d)}(a==null?void 0:a.chartType)!=null&&s.setState(i,a.chartType),((c=t.navigator)!=null&&c.enabled||(u=t.zoom)!=null&&u.enabled)&&(a==null?void 0:a.zoom)!=null&&s.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&r.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,n){const i=!!t.data||n==="data-change"||n==="replaced",r=Iz.getKeys(),s=Object.values(r).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null||t.formatter!=null;return i||s||o}shouldClearLegendData(t,n,i){var o,a,l;const r=i==="replaced"||i==="series-grouping-change"||i==="updated"&&(((o=t.series)==null?void 0:o.length)!==((a=n.series)==null?void 0:a.length)||!((l=t.series)!=null&&l.every((c,u)=>{var d;return c.type===((d=n.series)==null?void 0:d[u].type)}))),s=n.legend!=null&&t.legend==null;return r||s}applyMiniChartOptions(t,n,i,r){var u,d,h,p;const s=((d=(u=r==null?void 0:r.navigator)==null?void 0:u.miniChart)==null?void 0:d.series)??(r==null?void 0:r.series),o=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(s));this.applyAxes(t,i,r,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const m of a)m.properties.id=void 0;const l=t.axes,c=l.find(m=>m.direction==="x");for(const m of l)m.nice=!1,m.gridLine.enabled=!1,m.label.enabled=m===c,m.tick.enabled=!1,m.interactionEnabled=!1;if(c!=null){const m=(h=i.navigator)==null?void 0:h.miniChart,v=m==null?void 0:m.label,y=(p=m==null?void 0:m.label)==null?void 0:p.interval;if(c.line.enabled=!1,c.label.set(lt(v,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),c.type==="grouped-category"){c.label.enabled=!1,c.label.rotation=0;const{depthOptions:C}=c;if(C.length===0)C.set([{label:{enabled:!0}}]);else for(let S=1;S<C.length;S++)C[S].label.enabled=!1}else(c.type==="time"||c.type==="unit-time"||c.type==="ordinal-time")&&(c.parentLevel.enabled=!1);c.interval.step=y==null?void 0:y.step,c.interval.values=y==null?void 0:y.values,c.interval.minSpacing=y==null?void 0:y.minSpacing,c.interval.maxSpacing=y==null?void 0:y.maxSpacing}}applyModules(t){var r;const{type:n}=this.constructor;let i=!1;for(const s of Ed.byType("root","legend")){const a=t[s.optionsKey]!=null&&s.chartTypes.includes(n);a!==this.modulesManager.isEnabled(s)&&(a?(this.modulesManager.addModule(s,l=>l.moduleFactory(this.getModuleContext())),s.type==="legend"&&((r=this.modulesManager.getModule(s))==null||r.attachLegend(this.ctx.scene)),this[s.optionsKey]=this.modulesManager.getModule(s)):(this.modulesManager.removeModule(s),delete this[s.optionsKey]),i=!0)}return i}initSeriesDeclarationOrder(t){for(let n=0;n<t.length;n++)t[n].setSeriesIndex(n)}applySeries(t,n,i){var u;if(!n)return"no-change";const r=e1e(t.series,n,i);if(r.status==="no-overlap"){Fl(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r);const d=n.map(h=>this.createSeries(h));return this.initSeriesDeclarationOrder(d),t.series=d,"replaced"}Fl("Chart.applySeries() - matchResult",r);const s=[];let o=!1,a=!1,l=!1;const c=r.changes.toSorted((d,h)=>d.targetIdx-h.targetIdx);for(const d of c)switch(a||(a=d.status==="series-grouping"),o||(o=((u=d.diff)==null?void 0:u.data)!=null),l||(l=d.status!=="no-op"),d.status){case"add":{const h=this.createSeries(d.opts);s.push(h),Fl("Chart.applySeries() - created new series",h);break}case"remove":Fl(`Chart.applySeries() - removing series at previous idx ${d.idx}`,d.series);break;case"no-op":s.push(d.series),Fl(`Chart.applySeries() - no change to series at previous idx ${d.idx}`,d.series);break;case"series-grouping":case"update":default:{const{series:h,diff:p,idx:m}=d;Fl(`Chart.applySeries() - applying series diff previous idx ${m}`,p,h),this.applySeriesValues(h,p),h.markNodeDataDirty(),s.push(h)}}return this.initSeriesDeclarationOrder(s),Fl("Chart.applySeries() - final series instances",s),t.series=s,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,n,i,r,s=[]){if(!("axes"in n)||!n.axes)return!1;s=["axes[].type",...s];const o=n.axes;return!(r==="replaced")&&t.axes.length===o.length&&t.axes.every((c,u)=>c.type===o[u].type)&&Bq(i)?(t.axes.forEach((c,u)=>{var m;const d=((m=i.axes)==null?void 0:m[u])??{},h=hf(d,o[u]);Fl(`Chart.applyAxes() - applying axis diff idx ${u}`,h);const p=`axes[${u}]`;tE(c,h,{path:p,skip:s})}),!0):(Fl(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(o,s),!0)}createSeries(t){const n=Wc.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){const i=t.createModuleContext(),r=t.getModuleMap();for(const s of Ed.byType("series-option"))s.optionsKey in n&&s.seriesTypes.includes(t.type)&&r.addModule(s,o=>o.moduleFactory(i))}applySeriesValues(t,n){const i=t.getModuleMap(),{type:r,data:s,listeners:o,seriesGrouping:a,showInMiniChart:l,...c}=n;for(const u of OR)if(u.type==="series-option"&&u.optionsKey in c){const d=i.getModule(u.optionsKey);if(d){const h=c[u.optionsKey];delete c[u.optionsKey],d.properties.set(h)}}c.visible!=null&&(t.visible=c.visible),t.properties.set(c),"data"in n&&t.setOptionsData(s),o&&this.registerListeners(t,o),"seriesGrouping"in n&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,n){const i=[],r=this.getModuleContext();for(let s=0;s<t.length;s++){const o=t[s],a=ry.create(o.type,r);this.applyAxisModules(a,o),tE(a,o,{path:`axes[${s}]`,skip:n}),i.push(a)}return QRe(i),i}applyAxisModules(t,n){const i=t.createModuleContext(),r=t.getModuleMap();for(const s of Ed.byType("axis-option")){const o=n[s.optionsKey]!=null;o!==r.isEnabled(s)&&(o?(r.addModule(s,a=>a.moduleFactory(i)),t[s.optionsKey]=r.getModule(s)):(r.removeModule(s),delete t[s.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(const[i,r]of Xc(n))t.addEventListener(i,r)}};vr.chartsInstances=new WeakMap;P([Po({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),vr.chartsInstances.set(e,this))},oldValue(e){vr.chartsInstances.delete(e)}})],vr.prototype,"container",2);P([Po({newValue(e){this.resize("width option",{inWidth:e})}})],vr.prototype,"width",2);P([Po({newValue(e){this.resize("height option",{inHeight:e})}})],vr.prototype,"height",2);P([Po({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],vr.prototype,"minWidth",2);P([Po({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],vr.prototype,"minHeight",2);P([Po({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],vr.prototype,"overrideDevicePixelRatio",2);P([z],vr.prototype,"padding",2);P([z],vr.prototype,"keyboard",2);P([z],vr.prototype,"touch",2);P([z],vr.prototype,"mode",2);P([z],vr.prototype,"styleNonce",2);P([bs("chartCaptions.title")],vr.prototype,"title",2);P([bs("chartCaptions.subtitle")],vr.prototype,"subtitle",2);P([bs("chartCaptions.footnote")],vr.prototype,"footnote",2);P([z],vr.prototype,"formatter",2);P([z],vr.prototype,"suppressFieldDotNotation",2);P([z],vr.prototype,"loadGoogleFonts",2);P([Po({changeValue(e,t){this.onAxisChange(e,t)}})],vr.prototype,"axes",2);P([Po({changeValue(e,t){this.onSeriesChange(e,t)}})],vr.prototype,"series",2);var dk=vr;function cW(e,t){var o,a,l,c,u,d;let n=[];const i=(a=(o=e==null?void 0:e.series)==null?void 0:o[0])==null?void 0:a.type,r=i==="linear-gauge"||i==="radial-gauge",s=i?gs.get(i):"unknown";for(const h of OR)if(!(s!=="unknown"&&!h.chartTypes.includes(s))){if(h.type==="root"||h.type==="legend"){const p=e[h.optionsKey];if(p==null)continue;h.optionsInnerKey?p[h.optionsInnerKey]&&(n.push(`${h.optionsKey}.${h.optionsInnerKey}`),delete p[h.optionsInnerKey]):(n.push(h.optionsKey),delete e[h.optionsKey])}else if(h.type==="axis"){if(!("axes"in e)||!Tn(e.axes)||!((l=e.axes)!=null&&l.some(p=>p.type===h.identifier)))continue;n.push(`axis[type=${h.identifier}]`),e.axes=e.axes.filter(p=>p.type!==h.identifier)}else if(h.type==="axis-option"){if(!("axes"in e)||!Tn(e.axes)||!((c=e.axes)!=null&&c.some(p=>p[h.optionsKey])))continue;n.push(`axis.${h.optionsKey}`),e.axes.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}else if(h.type==="series"){if(h.community||!Tn(e.series)||!((u=e.series)!=null&&u.some(p=>p.type===h.identifier)))continue;n.push(`series[type=${h.identifier}]`),e.series=e.series.filter(p=>p.type!==h.identifier)}else if(h.type==="series-option"){if(!Tn(e.series)||!((d=e.series)!=null&&d.some(p=>p[h.optionsKey])))continue;n.push(`series.${h.optionsKey}`),e.series.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}}if(n.length&&!t){r&&(n=["AgCharts.createGauge"]);let h="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(h="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Je.warnOnce([`unable to use these enterprise features as '${h}' has not been loaded:`,"",...n,"",`See: ${p}`].join(`
`))}}function _1e(e){const t="mode"in e&&e.mode==="integrated";for(const n of Ed.byType("root","legend")){const i=e[n.optionsKey],r=i!=null&&i.enabled===!1,s=!("removable"in n)||n.removable===!0||n.removable==="standalone-only"&&!t;r&&s&&delete e[n.optionsKey]}}function nZ(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var _r={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Ph={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},$z={};Wd($z,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>YR,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>ZR,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>XR,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>UE,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>WE,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>KR,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>qR,DEFAULT_CAPTION_ALIGNMENT:()=>sg,DEFAULT_CAPTION_LAYOUT_STYLE:()=>rg,DEFAULT_FIBONACCI_STROKES:()=>VE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>is,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>pr,DEFAULT_GRIDLINE_ENABLED:()=>jc,DEFAULT_POLAR_SERIES_STROKE:()=>yk,DEFAULT_SEPARATION_LINES_COLOUR:()=>jR,DEFAULT_SHADOW_COLOUR:()=>_g,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Ck,DEFAULT_TEXTBOX_COLOR:()=>e1,DEFAULT_TEXTBOX_FILL:()=>QR,DEFAULT_TEXTBOX_STROKE:()=>JR,DEFAULT_TEXT_ANNOTATION_COLOR:()=>$R,DEFAULT_TOOLBAR_POSITION:()=>t1,IS_DARK_THEME:()=>Fb,PALETTE_ALT_DOWN_FILL:()=>Zz,PALETTE_ALT_DOWN_STROKE:()=>Kz,PALETTE_ALT_NEUTRAL_FILL:()=>Xz,PALETTE_ALT_NEUTRAL_STROKE:()=>Qz,PALETTE_ALT_UP_FILL:()=>qz,PALETTE_ALT_UP_STROKE:()=>Yz,PALETTE_DOWN_FILL:()=>gk,PALETTE_DOWN_STROKE:()=>fk,PALETTE_NEUTRAL_FILL:()=>vk,PALETTE_NEUTRAL_STROKE:()=>mk,PALETTE_UP_FILL:()=>pk,PALETTE_UP_STROKE:()=>hk});var Fb=Symbol("is-dark-theme"),jR=Symbol("default-separation-lines-colour"),_g=Symbol("default-shadow-colour"),rg=Symbol("default-caption-layout-style"),sg=Symbol("default-caption-alignment"),hk=Symbol("palette-up-stroke"),fk=Symbol("palette-down-stroke"),pk=Symbol("palette-up-fill"),gk=Symbol("palette-down-fill"),mk=Symbol("palette-neutral-stroke"),vk=Symbol("palette-neutral-fill"),Yz=Symbol("palette-alt-up-stroke"),Kz=Symbol("palette-alt-down-stroke"),qz=Symbol("palette-alt-up-fill"),Zz=Symbol("palette-alt-down-fill"),Xz=Symbol("palette-gray-fill"),Qz=Symbol("palette-gray-stroke"),yk=Symbol("default-polar-series-stroke"),Ck=Symbol("default-sparkline-crosshair-stroke"),pr=Symbol("default-financial-charts-annotation-stroke"),VE=Symbol("default-hierarchy-strokes"),$R=Symbol("default-text-annotation-color"),is=Symbol("default-financial-charts-annotation-background-fill"),YR=Symbol("default-annotation-handle-fill"),KR=Symbol("default-annotation-statistics-fill"),qR=Symbol("default-annotation-statistics-stroke"),ZR=Symbol("default-annotation-statistics-color"),XR=Symbol("default-annotation-statistics-divider-stroke"),UE=Symbol("default-annotation-statistics-fill"),WE=Symbol("default-annotation-statistics-stroke"),QR=Symbol("default-textbox-fill"),JR=Symbol("default-textbox-stroke"),e1=Symbol("default-textbox-color"),t1=Symbol("default-toolbar-position"),jc=Symbol("default-gridline-enabled"),iZ=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],B1e={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},Jz={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},bk={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},G1e={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},Bw={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},z1e={...Bw,colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]},H1e=e=>({...Bw,colorStops:{$if:[{$or:[{$isGradient:{$palette:`${e}.fill`}},{$isPattern:{$palette:`${e}.fill`}},{$isImage:{$palette:`${e}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]}}),wk={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},n1={...wk,reverse:!0},V1e={...wk,bounds:"series"},U1e={...wk,bounds:"series",reverse:!0},W1e={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},ff={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:bk,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},j1e={...ff,fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}},qy={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function bl(e){return PY(e,t=>{const n=Ci.fromString(t);return[Ci.darken(n,.15).toString(),t,Ci.lighten(n,.15).toString()]})}var eH={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},rZ={...eH,fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}},Ql={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function Bg(e=!0){return{enabled:!0,highlightedItem:e?rZ:eH,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function sZ(e=!0){return{enabled:!0,highlightedItem:e?rZ:eH,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var oZ={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},ZF="white",$1e={get cartesian(){return{seriesTypes:gs.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:gs.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:gs.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:gs.standaloneTypes,commonOptions:[]}}},Y1e={"radial-gauge":!0,"linear-gauge":!0};function K1e(e){return Y1e[e]===!0}var il=class FM{static getDefaultColors(){return{fills:_r,fillsFallback:Object.values(_r),strokes:Ph,sequentialColors:bl(_r),divergingColors:[_r.ORANGE,_r.YELLOW,_r.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:Ci.interpolate([Ci.fromHexString(_r.BLUE),Ci.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[_r.GREEN,_r.YELLOW,_r.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:_r.GREEN,stroke:Ph.GREEN},down:{fill:_r.RED,stroke:Ph.RED},neutral:{fill:_r.GRAY,stroke:Ph.GRAY},altUp:{fill:_r.BLUE,stroke:Ph.BLUE},altDown:{fill:_r.ORANGE,stroke:Ph.ORANGE},altNeutral:{fill:_r.GRAY,stroke:Ph.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:ZF,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:Bh,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(t,{title:n,time:i}){return Gn(t,n&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ul.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},i&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ul.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:rg,textAlign:sg},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ul.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:rg,textAlign:sg},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:ul.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:rg,textAlign:sg},legend:{...oZ,enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:ul.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}},tooltip:{enabled:!0,darkTheme:Fb,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:Fb},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(t={}){const{overrides:n,palette:i,params:r}=tr(t),s=this.createChartConfigPerChartType(this.getDefaults()),o={};n&&this.processOverrides(o,n);const{fills:a,strokes:l,sequentialColors:c,...u}=this.getDefaultColors();this.palette=Uh(Gn(i,{fills:Object.values(a),strokes:Object.values(l),sequentialColors:Object.values(c),...u})),this.paletteType=nZ(i),this.params=Gn(r,this.getPublicParameters()),this.config=Uh(tr(s)),this.overrides=Uh(n),this.presets=Uh(o)}processOverrides(t,n){gs.seriesTypes.forEach(i=>{const r=i,s=n[r];K1e(r)&&(t[r]=s,delete n[r])})}createChartConfigPerChartType(t){for(const[n,{seriesTypes:i}]of Xc($1e)){const r=DB.get(n);for(const s of i)t[s]??(t[s]=tr(r))}return t}getDefaults(){const t=(n,i)=>{const r={},s={axes:{},...Iz.getThemeTemplates(),...this.getChartDefaults(),...DB.get(n)};for(const o of i){r[o]=Gn(Wc.getThemeTemplate(o),r[o]??tr(s));const{axes:a}=r[o];for(const l of ry.keys())a[l]=Gn(a[l],ry.getThemeTemplate(l),FM.axisDefault[l]);(o==="map-shape-background"||o==="map-line-background")&&delete r[o].series.tooltip}return r};return Gn(t("cartesian",gs.cartesianTypes),t("polar",gs.polarTypes),t("topology",gs.topologyTypes),t("standalone",gs.standaloneTypes))}static applyTemplateTheme(t,n,i){if(Tn(t))for(let r=0;r<t.length;r++){const s=t[r];typeof s=="symbol"&&(i!=null&&i.has(s))&&(t[r]=i.get(s))}else for(const r of Object.keys(t)){const s=t[r];typeof s=="symbol"&&(i!=null&&i.has(s))&&(t[r]=i.get(s))}}templateTheme(t,n=!0){const i=n?tr(t):t,r=this.getTemplateParameters();return dg(i,FM.applyTemplateTheme,void 0,void 0,r),i}getDefaultColors(){return FM.getDefaultColors()}getPublicParameters(){return FM.getDefaultPublicParameters()}getTemplateParameters(){var i,r,s,o,a,l,c,u,d,h,p,m;const t=new Map;t.set(Fb,!1),t.set(jR,"#d9d9d9"),t.set(_g,"#00000080"),t.set(Ck,"#aaa"),t.set(rg,"block"),t.set(sg,"center"),t.set(VE,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),t.set(yk,ZF),t.set(pr,_r.BLUE),t.set(is,_r.BLUE),t.set($R,_r.BLUE),t.set(YR,ZF),t.set(KR,"#fafafa"),t.set(qR,"#ddd"),t.set(ZR,"#000"),t.set(XR,"#181d1f"),t.set(UE,"#e35c5c"),t.set(WE,"#e35c5c"),t.set(QR,"#fafafa"),t.set(JR,"#ddd"),t.set(e1,"#000"),t.set(t1,"top"),t.set(jc,!1);const n=this.getDefaultColors();return t.set(hk,((i=this.palette.up)==null?void 0:i.stroke)??n.up.stroke),t.set(pk,((r=this.palette.up)==null?void 0:r.fill)??n.up.fill),t.set(fk,((s=this.palette.down)==null?void 0:s.stroke)??n.down.stroke),t.set(gk,((o=this.palette.down)==null?void 0:o.fill)??n.down.fill),t.set(mk,((a=this.palette.neutral)==null?void 0:a.stroke)??n.neutral.stroke),t.set(vk,((l=this.palette.neutral)==null?void 0:l.fill)??n.neutral.fill),t.set(Yz,((c=this.palette.altUp)==null?void 0:c.stroke)??n.up.stroke),t.set(qz,((u=this.palette.altUp)==null?void 0:u.fill)??n.up.fill),t.set(Kz,((d=this.palette.altDown)==null?void 0:d.stroke)??n.down.stroke),t.set(Zz,((h=this.palette.altDown)==null?void 0:h.fill)??n.down.fill),t.set(Xz,((p=this.palette.altNeutral)==null?void 0:p.fill)??n.altNeutral.fill),t.set(Qz,((m=this.palette.altNeutral)==null?void 0:m.stroke)??n.altNeutral.stroke),t}};il.axisDefault={number:il.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:il.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:il.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:jc},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":il.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:jR},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:il.getAxisDefaults({keys:[],gridLine:{enabled:jc},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":il.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:jc},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":il.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:jc},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":il.getAxisDefaults({label:{spacing:5},gridLine:{enabled:jc},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":il.getAxisDefaults({label:{spacing:5},gridLine:{enabled:jc}},{title:!1,time:!1}),"radius-category":il.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":il.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var iu=il,XF="#192232",Us={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},pv={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Gw=class extends iu{getDefaultColors(){return{fills:Us,fillsFallback:Object.values(Us),strokes:pv,sequentialColors:bl(Us),divergingColors:[Us.ORANGE,Us.YELLOW,Us.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Us.GREEN,Us.YELLOW,Us.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:Us.GREEN,stroke:pv.GREEN},down:{fill:Us.RED,stroke:pv.RED},neutral:{fill:Us.GRAY,stroke:pv.GRAY},altUp:{fill:Us.BLUE,stroke:pv.BLUE},altDown:{fill:Us.ORANGE,stroke:pv.ORANGE},altNeutral:{fill:Us.GRAY,stroke:pv.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:.737},backgroundColor:XF,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Fb,!0),e.set(yk,XF),e.set(jR,"#7f8389"),e.set(pr,Us.BLUE),e.set($R,"#fff"),e.set(is,Us.BLUE),e.set(YR,XF),e.set(KR,"#28313e"),e.set(qR,"#4b525d"),e.set(ZR,"#fff"),e.set(XR,"#fff"),e.set(QR,"#28313e"),e.set(JR,"#4b525d"),e.set(e1,"#fff"),e}constructor(e){super(e)}},Da={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},gv={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},q1e=class extends Gw{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Da},fillsFallback:Object.values({...Da}),strokes:{...gv},sequentialColors:bl(Da),divergingColors:[Da.GREEN,Da.BLUE,Da.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Da.GREEN,stroke:gv.GREEN},down:{fill:Da.RED,stroke:gv.RED},neutral:{fill:Da.BLUE,stroke:gv.BLUE},altUp:{fill:Da.GREEN,stroke:gv.GREEN},altDown:{fill:Da.RED,stroke:gv.RED},altNeutral:{fill:Da.GRAY,stroke:gv.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,Da.BLUE),e.set(is,Da.BLUE),e.set(rg,"overlay"),e.set(sg,"left"),e.set(t1,"bottom"),e.set(jc,!0),e}},Ia={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},mv={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Z1e=class extends iu{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Ia},fillsFallback:Object.values({...Ia}),strokes:{...mv},sequentialColors:bl(Ia),divergingColors:[Ia.GREEN,Ia.BLUE,Ia.RED],up:{fill:Ia.GREEN,stroke:mv.GREEN},down:{fill:Ia.RED,stroke:mv.RED},neutral:{fill:Ia.BLUE,stroke:mv.BLUE},altUp:{fill:Ia.GREEN,stroke:mv.GREEN},altDown:{fill:Ia.RED,stroke:mv.RED},altNeutral:{fill:Ia.GRAY,stroke:mv.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,Ia.BLUE),e.set(is,Ia.BLUE),e.set(rg,"overlay"),e.set(sg,"left"),e.set(t1,"bottom"),e.set(jc,!0),e}},Ws={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},vv={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},X1e=class extends Gw{getDefaultColors(){return{...super.getDefaultColors(),fills:Ws,fillsFallback:Object.values(Ws),strokes:vv,sequentialColors:bl(Ws),divergingColors:[Ws.ORANGE,Ws.YELLOW,Ws.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[Ws.GREEN,Ws.YELLOW,Ws.RED],up:{fill:Ws.GREEN,stroke:vv.GREEN},down:{fill:Ws.RED,stroke:vv.RED},neutral:{fill:Ws.GRAY,stroke:vv.GRAY},altUp:{fill:Ws.BLUE,stroke:vv.BLUE},altDown:{fill:Ws.RED,stroke:vv.RED},altNeutral:{fill:Ws.GRAY,stroke:vv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,Ws.BLUE),e.set(is,Ws.BLUE),e}},js={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},yv={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Q1e=class extends iu{getDefaultColors(){return{...super.getDefaultColors(),fills:js,fillsFallback:Object.values(js),strokes:yv,sequentialColors:bl(js),divergingColors:[js.ORANGE,js.YELLOW,js.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[js.GREEN,js.YELLOW,js.RED],up:{fill:js.GREEN,stroke:yv.GREEN},down:{fill:js.RED,stroke:yv.RED},neutral:{fill:js.GRAY,stroke:yv.GRAY},altUp:{fill:js.BLUE,stroke:yv.BLUE},altDown:{fill:js.RED,stroke:yv.RED},altNeutral:{fill:js.GRAY,stroke:yv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,js.BLUE),e.set(is,js.BLUE),e}},lr={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Cv={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},J1e=class extends Gw{getDefaultColors(){return{fills:lr,fillsFallback:Object.values(lr),strokes:Cv,sequentialColors:bl(lr),divergingColors:[lr.BLUE,lr.RED],hierarchyColors:[],secondSequentialColors:[lr.BLUE,lr.PURPLE,lr.MAGENTA,lr.PINK,lr.RED,lr.ORANGE,lr.YELLOW,lr.GREEN],secondDivergingColors:[lr.BLUE,lr.RED],secondHierarchyColors:[],up:{fill:lr.GREEN,stroke:Cv.GREEN},down:{fill:lr.RED,stroke:Cv.RED},neutral:{fill:lr.GRAY,stroke:Cv.GRAY},altUp:{fill:lr.BLUE,stroke:Cv.BLUE},altDown:{fill:lr.RED,stroke:Cv.RED},altNeutral:{fill:lr.GRAY,stroke:Cv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,lr.BLUE),e.set(is,lr.BLUE),e}},cr={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},bv={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},eAe=class extends iu{getDefaultColors(){return{...super.getDefaultColors(),fills:cr,fillsFallback:Object.values(cr),strokes:bv,sequentialColors:bl(cr),divergingColors:[cr.BLUE,cr.RED],hierarchyColors:[],secondSequentialColors:[cr.BLUE,cr.PURPLE,cr.MAGENTA,cr.PINK,cr.RED,cr.ORANGE,cr.YELLOW,cr.GREEN],secondDivergingColors:[cr.BLUE,cr.RED],secondHierarchyColors:[],up:{fill:cr.GREEN,stroke:bv.GREEN},down:{fill:cr.RED,stroke:bv.RED},neutral:{fill:cr.GRAY,stroke:bv.GRAY},altUp:{fill:cr.BLUE,stroke:bv.BLUE},altDown:{fill:cr.RED,stroke:bv.RED},altNeutral:{fill:cr.GRAY,stroke:bv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,cr.BLUE),e.set(is,cr.BLUE),e}},Jr={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Gp={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},tAe=class extends Gw{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Jr,RED:Jr.ORANGE},fillsFallback:Object.values({...Jr,RED:Jr.ORANGE}),strokes:{...Gp,RED:Gp.ORANGE},sequentialColors:bl({...Jr,RED:Jr.ORANGE}),divergingColors:[Jr.ORANGE,Jr.YELLOW,Jr.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Jr.GREEN,Jr.YELLOW,Jr.ORANGE],up:{fill:Jr.GREEN,stroke:Gp.GREEN},down:{fill:Jr.ORANGE,stroke:Gp.ORANGE},neutral:{fill:Jr.GRAY,stroke:Gp.GRAY},altUp:{fill:Jr.BLUE,stroke:Gp.BLUE},altDown:{fill:Jr.ORANGE,stroke:Gp.ORANGE},altNeutral:{fill:Jr.GRAY,stroke:Gp.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,Jr.BLUE),e.set(is,Jr.BLUE),e}},ds={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Ih={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},nAe=class extends iu{getDefaultColors(){return{...super.getDefaultColors(),fills:{...ds,RED:ds.ORANGE},fillsFallback:Object.values({...ds,RED:ds.ORANGE}),strokes:{...Ih,RED:Ih.ORANGE},sequentialColors:bl({...ds,RED:ds.ORANGE}),divergingColors:[ds.ORANGE,ds.YELLOW,ds.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[ds.GREEN,ds.YELLOW,ds.ORANGE],secondHierarchyColors:[],up:{fill:ds.GREEN,stroke:Ih.GREEN},down:{fill:ds.ORANGE,stroke:Ih.ORANGE},neutral:{fill:Ih.GRAY,stroke:Ih.GRAY},altUp:{fill:ds.BLUE,stroke:Ih.BLUE},altDown:{fill:ds.ORANGE,stroke:Ih.ORANGE},altNeutral:{fill:ds.GRAY,stroke:Ih.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,ds.BLUE),e.set(is,ds.BLUE),e}},zB=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],iAe={floating:me,placement:Ze(...zB),xOffset:ze,yOffset:ze},uW=Bn((e,t)=>{let n;if(typeof e=="string")zB.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new ny(U4.Invalid,`a legend placement string: ["${zB.join('", "')}"]`,e,t.path)));else{const{cleared:i,invalid:r}=To(e,iAe);n={valid:r.length===0,cleared:i,invalid:r}}return n},"a legend position object or placement string"),ON=tn(Ze("circle","cross","diamond","heart","plus","pin","square","star","triangle"),ni),aZ=Ze("never","always","hyphenate","on-space"),PN=Ze("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),Sk=tn(ge,Ze("exact","nearest")),tH=tn(Pe,ro({text:pt(Pe),...hi},"text segments array")),dW=Ze("pointer","start","middle","end"),vI={enabled:me,text:tH,textAlign:Ze("left","center","right"),wrapping:Ze("never","always","hyphenate","on-space"),spacing:ge,maxWidth:ge,maxHeight:ge,...hi};vI.padding=Zt(ge);var DD={enabled:me,text:tH,renderer:Cy(tn(Pe,pY))},QF=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],lZ={type:Ze("action","separator"),showOn:Ze("always","series-area","series-node","legend-item"),label:pt(Pe),enabled:me,action:ni,items:(e,t)=>cZ(e,t)};lZ.iconUrl=Zt(Pe);var rAe=Hr(lZ),sAe=Bn((e,t)=>{let n;return typeof e=="string"?QF.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new ny(U4.Invalid,`a context menu item string alias: ["${QF.join('", "')}"]`,e,t.path))):n=rAe(e,t),n},`a context menu item object or string alias: [${QF.join(", ")}]`),cZ=Ft(sAe,"a menu items array",!1),_v={label:Pe,ariaLabel:Pe,tooltip:Pe,icon:Ze("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},kc=tn(Pe,Cy(Pe)),uZ=Hr({x:kc,y:kc,angle:kc,radius:kc,size:kc,color:kc,label:kc,secondaryLabel:kc,sectorLabel:kc,calloutLabel:kc,legendItem:kc}),du=Bn(txe,"a valid number format string"),Yt={width:ge,height:ge,minWidth:ge,minHeight:ge,suppressFieldDotNotation:me,title:vI,subtitle:vI,footnote:vI,padding:{top:ge,right:ge,bottom:ge,left:ge},seriesArea:{border:cI,clip:me,cornerRadius:ze,padding:lI},legend:{enabled:me,position:uW,orientation:Ze("horizontal","vertical"),maxWidth:ge,maxHeight:ge,spacing:ge,border:cI,cornerRadius:ze,padding:lI,fill:nc,fillOpacity:wt,preventHidingAll:me,reverseOrder:me,toggleSeries:me,item:{marker:{size:ge,shape:ON,padding:ge,strokeWidth:ge},line:{length:ge,strokeWidth:ge},label:{maxLength:ge,formatter:ni,...hi},maxWidth:ge,paddingX:ge,paddingY:ge,showSeriesStroke:me},pagination:{marker:{size:ge,shape:ON,padding:ge},activeStyle:{...ft,...et},inactiveStyle:{...ft,...et},highlightStyle:{...ft,...et},label:hi},listeners:{legendItemClick:ni,legendItemDoubleClick:ni}},gradientLegend:{enabled:me,position:uW,spacing:ge,reverseOrder:me,border:cI,cornerRadius:ze,padding:lI,fill:nc,fillOpacity:wt,gradient:{preferredLength:ge,thickness:ge},scale:{label:{...hi,minSpacing:ge,format:du,formatter:ni},padding:ge,interval:{step:ze,values:Ud,minSpacing:Ii(ge,xd("maxSpacing")),maxSpacing:Ii(ge,Md("minSpacing"))}}},listeners:{seriesNodeClick:ni,seriesNodeDoubleClick:ni,seriesVisibilityChange:ni,click:ni,doubleClick:ni,annotations:ni,zoom:ni},loadGoogleFonts:me,highlight:{range:Ze("tooltip","node")},overlays:{loading:DD,noData:DD,noVisibleSeries:DD,unsupportedBrowser:DD},tooltip:{enabled:me,showArrow:me,pagination:me,delay:ge,range:Sk,wrapping:aZ,mode:Ze("single","shared","compact"),position:{anchorTo:Ze("pointer","node","chart"),placement:tn(PN,Ft(PN)),xOffset:ze,yOffset:ze}},animation:{enabled:me,duration:ge},contextMenu:{enabled:me,items:cZ},context:()=>!0,dataSource:{getData:ni},keyboard:{enabled:me,tabIndex:ze},touch:{dragAction:Ze("none","drag","hover")},ranges:{enabled:me,buttons:ro({..._v,value:tn(ze,Ii(Ft(tn(ze,wg)),Uy(2,2)),ni)},"range button options array")},locale:{localeText:kL,getLocaleText:Cy(Pe)},background:{visible:me,fill:ct,image:{url:pt(Pe),top:ze,right:ze,bottom:ze,left:ze,width:ge,height:ge,opacity:wt}},styleNonce:Pe,sync:{enabled:me,groupId:Pe,axes:Ze("x","y","xy"),nodeInteraction:me,zoom:me},zoom:{enabled:me,enableAxisDragging:me,enableAxisScrolling:me,enableDoubleClickToReset:me,enablePanning:me,enableScrolling:me,enableSelecting:me,enableTwoFingerZoom:me,keepAspectRatio:me,anchorPointX:dW,anchorPointY:dW,axisDraggingMode:Ze("pan","zoom"),axes:Ze("x","y","xy"),deceleration:tn(Ze("off","short","long"),wt),minVisibleItems:ge,panKey:Ze("alt","ctrl","meta","shift"),scrollingStep:wt,autoScaling:{enabled:me,padding:wt},buttons:{enabled:me,buttons:ro({..._v,value:Ze("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:Pe},"zoom button options array"),visible:Ze("always","zoomed","hover")}},formatter:tn(Cy(Pe),uZ)};Yt.dataSource.requestThrottle=Zt(ge);Yt.dataSource.updateThrottle=Zt(ge);Yt.dataSource.updateDuringInteraction=Zt(me);Yt.zoom.enableIndependentAxes=Zt(me);Yt.statusBar=Zt(Pt);Yt.foreground=Zt({visible:me,text:Pe,image:{url:Pe,top:ze,right:ze,bottom:ze,left:ze,width:ge,height:ge,opacity:wt},...ft});Yt.overrideDevicePixelRatio=Zt(ze);Yt.sync.domainMode=Zt(Ze("direction","position","key"));var Dn={cursor:Pe,context:()=>!0,showInLegend:me,nodeClickRange:Sk,listeners:{seriesNodeClick:ni,seriesNodeDoubleClick:ni},highlightStyle:{item:{...ft,...et},series:{enabled:me,dimOpacity:wt,strokeWidth:ge}},highlight:CY(Yi)},hu={...Dn,id:Pe,visible:me,context:()=>!0,data:Ud};hu.seriesGrouping=Zt(Pt);var Df={enabled:me,shape:ON,size:ge,itemStyler:ki({...ft,...et,...Ct,shape:ON,size:ge}),...ft,...et,...Ct},pi={enabled:me,formatter:ni,format:du,itemStyler:Zt(ki({enabled:me,...Yc,...hi})),...Yc,...hi},Mg={...pi,lineHeight:ge,minimumFontSize:ge,wrapping:aZ,overflowStrategy:Ze("ellipsis","hide")},i1={visible:me,cap:{visible:me,length:ge,lengthRatio:wt,...et,...Ct},...et,...Ct},xk={...i1,xLowerKey:Pe,xUpperKey:Pe,yLowerKey:Pe,yUpperKey:Pe,xLowerName:Pe,xUpperName:Pe,yLowerName:Pe,yUpperName:Pe,itemStyler:ki({visible:me,...et,...Ct,cap:{visible:me,length:ge,lengthRatio:wt,...et,...Ct}})},Hn={enabled:me,showArrow:me,range:Sk,renderer:Cy(tn(Pe,Hr({heading:Pe,title:Pe,data:ro({label:pt(Pe),value:pt(Pe)})},"tooltip renderer result object"))),position:{anchorTo:Ze("node","pointer","chart"),placement:tn(PN,Ft(PN)),xOffset:ze,yOffset:ze},interaction:{enabled:me}},Yd={enabled:me,xOffset:ze,yOffset:ze,blur:ge,color:ct},Mk=RR({linear:{},smooth:{tension:wt},step:{position:Ze("start","middle","end")}},"interpolation line options"),jE={fills:Ii(Uy(2),Ft(Hr({color:ct,stop:ze},"")),yY),fillMode:Ze("continuous","discrete")},Ek={value:pt(ze),text:Pe,shape:tn(Ze("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),ni),placement:Ze("before","after","middle"),spacing:ge,size:ge,rotation:ze,...ft,...et,...Ct},Rk={value:pt(ze),text:Pe,shape:tn(Ze("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),ni),placement:Ze("inside","outside","middle"),spacing:ge,size:ge,rotation:ze,label:{...pi,spacing:ge},...ft,...et,...Ct},FN={direction:Ze("horizontal","vertical"),cornerMode:Ze("container","item"),cornerRadius:ge,thickness:ge,segmentation:{enabled:me,spacing:ge,interval:{values:Ft(ze),step:ze,count:ze}},bar:{enabled:me,thickness:ge,thicknessRatio:wt,...jE,...ft,...et,...Ct},label:{...Mg,text:Pe,spacing:ge,avoidCollisions:me,placement:Ze("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")},tooltip:Hn,...lt(Dn,["listeners"])},Eg={...FN,...lt(hu,["listeners"]),type:pt(Oi("linear-gauge")),value:pt(ze),scale:{min:Ii(ze,xd("max")),max:Ii(ze,Md("min")),label:{enabled:me,formatter:ni,rotation:ze,spacing:ge,minSpacing:ge,placement:Ze("before","after"),avoidCollisions:me,format:du,...hi},interval:{values:Ft(ze),step:ze},...jE,...ft,...et,...Ct},targets:ro(Ek,"target options array")};Eg.margin=Zt(ze);Eg.defaultColorRange=Zt(Ft(ct));Eg.defaultTarget=Zt({...Ek,value:ze,label:{...pi,spacing:ze}});Eg.defaultScale=Zt(Eg.scale);Eg.scale.defaultFill=Zt(ct);var _N={outerRadius:ge,innerRadius:ge,outerRadiusRatio:wt,innerRadiusRatio:wt,startAngle:ze,endAngle:ze,spacing:ge,cornerMode:Ze("container","item"),cornerRadius:ge,scale:{min:Ii(ze,xd("max")),max:Ii(ze,Md("min")),label:{enabled:me,formatter:ni,rotation:ze,spacing:ge,minSpacing:ge,avoidCollisions:me,format:du,...hi},interval:{values:Ft(ze),step:ze},...jE,...ft,...et,...Ct},segmentation:{enabled:me,spacing:ge,interval:{values:Ft(ze),step:ze,count:ze}},bar:{enabled:me,...jE,...ft,...et,...Ct},needle:{enabled:me,spacing:ge,radiusRatio:wt,...ft,...et,...Ct},label:{text:Pe,spacing:ge,...Mg},secondaryLabel:{text:Pe,...Mg},tooltip:Hn,...Dn},r1={..._N,...hu,type:pt(Oi("radial-gauge")),value:pt(ze),targets:ro(Rk,"target options array")};r1.defaultColorRange=Zt(Ft(ct));r1.defaultTarget=Zt({...Rk,value:ze,label:{...pi,spacing:ze}});r1.scale.defaultFill=Zt(ct);var s1=Ze("millisecond","second","minute","hour","day","month","year"),dZ={unit:pt(s1),step:AE,epoch:wg,utc:me};dZ.every=ni;var Ak=Hr(dZ,"a time interval object"),Ey={enabled:me,text:Pe,padding:ze,...hi},md=Bn({enabled:me,type:pt(Ze("line","range")),range:Ii(Bn((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),Ft(Pt),Uy(2,2)),value:Ii(Bn((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),Pt),label:Ey,fill:ct,fillOpacity:wt,...et,...Ct},"cross-line options"),Fh={...md,label:{...Ey,position:Ze("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:ze}},If={enabled:me,rotation:ze,avoidCollisions:me,minSpacing:ge,spacing:ge,formatter:ni,itemStyler:Zt(ki({...hi,...Yc,spacing:ze})),...hi,...Yc},o1={autoRotate:me,autoRotateAngle:ze,wrapping:Ze("never","always","hyphenate","on-space"),truncate:me,...If},nH={format:du,...o1},a1={format:tn(Pe,kL),...o1},hZ={enabled:me,width:ge,size:ge,stroke:ct},Tk={enabled:me,label:a1,tick:hZ},iH={values:Ft(Pt),minSpacing:ge},Zy={reverse:me,gridLine:{enabled:me,width:ge,style:ro({fill:ct,fillOpacity:ge,stroke:tn(ct,yN),strokeWidth:ge,lineDash:Ft(ge)},"a grid-line style object array")},interval:iH,label:If,line:{enabled:me,width:ge,stroke:ct},tick:hZ,context:()=>!0};Zy.layoutConstraints=Zt({stacked:pt(me),align:pt(Ze("start","end")),unit:pt(Ze("percent","px")),width:pt(ge)});var Nf={...Zy,keys:Ft(Pe),crossLines:ro(Fh,"a cross-line options array"),position:Ze("top","right","bottom","left"),thickness:ge,maxThicknessRatio:wt,title:{enabled:me,text:Pe,spacing:ge,formatter:ni,...hi}};Nf.title._enabledFromTheme=Zt(me);var l1={enabled:me,...ft,...et,...Ct};function Gg(e,t){const n={enabled:me,xOffset:ze,yOffset:ze,formatter:Cy(Pe),renderer:Cy(tn(Pe,Hr({text:Pe,color:ct,backgroundColor:ct,opacity:wt},"crosshair label renderer result object")))};let i;return e&&(i={...n,format:t?tn(Pe,Hr({millisecond:Pe,second:Pe,hour:Pe,day:Pe,month:Pe,year:Pe})):Pe}),{enabled:me,snap:me,label:i??n,...et,...Ct}}function zw(e,t){return{min:Ii(e,xd("max")),max:Ii(e,Md("min")),nice:me,interval:{step:t?tn(AE,s1,Ak):AE,values:Ft(e),minSpacing:Ii(ge,xd("maxSpacing")),maxSpacing:Ii(ge,Md("minSpacing"))}}}var rH={step:tn(AE,s1,Ak),values:Ft(tn(ze,wg)),minSpacing:Ii(ge,xd("maxSpacing")),maxSpacing:Ii(ge,Md("minSpacing")),placement:Ze("on","between")},Hw=class fZ extends VR{constructor(t,n=new Fw,i=!0){super(t,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=i,this.nice=!1}static is(t){return t instanceof fZ}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:n}=this;if(!ii(t)||!ii(n)){const i=this.reduceBandScalePadding();t??(t=i.inner),n??(n=i.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=n??0}calculateGridLines(t,n,i){const r=super.calculateGridLines(t,n,i);return this.interval.placement==="between"&&t.length>0&&r.push(super.calculateGridLine({index:t.at(-1).index+1,tickId:`after:${t.at(-1).tickId}`,translation:this.range[1]},t.length,n,i,t)),r}calculateGridLine({index:t,tickId:n,translation:i},r,s,o,a){const{gridLine:l,horizontal:c,interval:u,scale:d}=this;if(u.placement!=="between")return super.calculateGridLine({index:t,tickId:n,translation:i},r,s,o,a);const h=i<d.step?Math.floor(d.step/2):d.step/2,p=i-h,[m,v,y,C]=c?[p,Math.max(s,o),p,Math.min(s,o)]:[Math.min(s,o),p,Math.max(s,o),p],{style:S}=l,{stroke:x,strokeWidth:R=0,lineDash:A}=S[t%S.length]??{};return{tickId:n,offset:p,x1:m,y1:v,x2:y,y2:C,stroke:x,strokeWidth:R,lineDash:A}}calculateGridFills(t,n,i){const{horizontal:r,range:s,scale:o}=this;if(this.interval.placement!=="between")return super.calculateGridFills(t,n,i);const a=[];if(t.length==0)return a;const l=t[0],c=l.translation>s[0]+o.step/2,u=t[t.length-1],d=r&&u.translation<s[1]-o.step/2;if(c){const h={tickId:`before:${l.tickId}`,translation:l.translation-o.step};a.push(this.calculateGridFill(h,-1,l.index-1,n,i,t))}if(a.push(...t.map((h,p)=>this.calculateGridFill(h,p,h.index,n,i,t))),d){const h={tickId:`after:${u.tickId}`,translation:u.translation+o.step};a.push(this.calculateGridFill(h,t.length,u.index+1,n,i,t))}return a}calculateGridFill({tickId:t,translation:n},i,r,s,o,a){const{gridLine:l,horizontal:c,interval:u,scale:d}=this;if(u.placement!=="between")return super.calculateGridFill({tickId:t,translation:n},i,r,s,o,a);const h=n-d.step/2,p=n+d.step/2,[m,v,y,C]=c?[h,Math.max(s,o),p,Math.min(s,o)]:[Math.min(s,o),h,Math.max(s,o),p],{fill:S,fillOpacity:x}=l.style[r%l.style.length]??{};return{tickId:t,x1:m,y1:v,x2:y,y2:C,fill:S,fillOpacity:x}}calculateTickLines(t,n){var r;const i=super.calculateTickLines(t,n);return this.interval.placement==="between"&&t.length>0&&i.push(super.calculateTickLine({primary:!1,tickId:`after:${(r=t.at(-1))==null?void 0:r.tickId}`,translation:this.range[1]},t.length,n,t)),i}calculateTickLine({primary:t,tickId:n,translation:i},r,s,o){const{horizontal:a,interval:l,primaryTick:c,scale:u,tick:d}=this;if(l.placement!=="between")return super.calculateTickLine({primary:t,tickId:n,translation:i},r,s,o);const h=t&&(c!=null&&c.enabled)?c:d,p=-s*this.getTickSize(h),m=i<u.step?Math.floor(u.step/2):u.step/2,v=i-m,[y,C,S,x]=a?[v,0,v,p]:[0,v,p,v],{stroke:R,width:A}=h;return{tickId:n,offset:v,x1:y,y1:C,x2:S,y2:x,stroke:R,strokeWidth:A,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((t,n)=>{var r;const i=(r=n.getBandScalePadding)==null?void 0:r.call(n);return i&&(t.inner>i.inner&&(t.inner=i.inner),t.outer<i.outer&&(t.outer=i.outer)),t},{inner:1/0,outer:-1/0})}tickFormatParams(t,n,i,r){return{type:"category"}}datumFormatParams(t,n,i,r,s){const{datum:o,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p}=n;return Array.isArray(t)&&t.some(m=>typeof m!="string")?t=t.map(String):!Array.isArray(t)&&typeof t!="string"&&typeof t!="number"&&!(t instanceof Date)&&(t=String(t)),{type:"category",value:t,datum:o,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p}}};Hw.className="CategoryAxis";Hw.type="category";P([z],Hw.prototype,"groupPaddingInner",2);P([z],Hw.prototype,"paddingInner",2);P([z],Hw.prototype,"paddingOuter",2);var Vw=Hw,hW=class pZ extends Fw{static is(t){return t instanceof pZ}normalizeDomains(...t){const{domain:n}=super.normalizeDomains(...t);return{domain:n,animatable:!1}}findIndex(t){return super.findIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const n=JSON.stringify(t),i=this._domain.find(r=>JSON.stringify(r)===n);if(i!=null)return super.findIndex(i)}};function zg(e){if(e.length===0)return null;let t=1/0,n=-1/0;for(const r of e){const s=r instanceof Date?r.getTime():r;typeof s=="number"&&(s<t&&(t=s),s>n&&(n=s))}const i=[t,n];return i.every(isFinite)?i:null}function sH(e,t,n){let i=!1;const r=zg(e);if(r==null)return{extent:t!=null&&n!=null&&t<=n?[t,n]:[],clipped:!1};let[s,o]=r;return t!=null&&(i||(i=t>s),s=t),n!=null&&(i||(i=n<o),o=n),s>o?{extent:[],clipped:!1}:{extent:[s,o],clipped:i}}function Dk(e,t=[0,0]){for(const n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function oAe(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>Dk(i)}}function gZ(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:n=>Dk(n),groupAggregateFunction:(n,i=[0,0])=>(i[0]+=(n==null?void 0:n[0])??0,i[1]+=(n==null?void 0:n[1])??0,i)}}function aAe(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>Vp.extendDomain(i)}}function HB(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,n=[0,0])=>(n[0]+=(t==null?void 0:t[0])??0,n[1]+=(t==null?void 0:t[1])??0,n)}}function mZ(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:i=>Dk(i),groupAggregateFunction:(i,r=[0,0,-1])=>(r[0]+=(i==null?void 0:i[0])??0,r[1]+=(i==null?void 0:i[1])??0,r[2]++,r),finalFunction:(i=[0,0,0])=>{const r=i[0]+i[1];return r>=0?[0,r/i[2]]:[r/i[2],0]}}}function VB(e,t,n){const i={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(r,s=[])=>{const o=s[1]-s[0];return t.aggregateFunction(r).map(a=>a/o)}};return t.groupAggregateFunction&&(i.groupAggregateFunction=t.groupAggregateFunction),i}function vZ(e){return()=>{let t=0;return n=>ii(n)?(t+=e?Math.max(0,n):n,t):n}}function yZ(){return()=>{let e=0;return t=>{if(!ii(t))return t;const n=e;return e+=t,n}}}var lAe=1e3;function Uw(e){return e.input.count<=lAe}function CZ(e){return e!=null&&JL(e)}function cAe(e){return e!=null}function bZ(e){switch(e){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return CZ;default:return cAe}}function wZ(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function fg(e,t,n={}){return{property:e,type:"key",valueType:wZ(t),validation:bZ(t),...n}}function Di(e,t,n={}){return{property:e,type:"value",valueType:wZ(t),validation:bZ(t),...n}}function SZ(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var uAe=function(e){return e};function xZ(...e){const t=e.filter(n=>n!=null);return t.length===0?()=>uAe:t.length===1?t[0]:()=>{const n=t.map(i=>i());return(i,r)=>n.reduce((s,o)=>o(s,r),i)}}function MZ(e,t={}){const{min:n=-1/0,max:i=1/0,processor:r,...s}=t;return{type:"value",property:e,valueType:"range",validation:CZ,processor:xZ(r,()=>o=>ii(o)?Gt(n,o,i):o),...s}}function UB(e,t,n={}){const{onlyPositive:i,processor:r,...s}=n;return{...Di(e,t,s),processor:xZ(r,vZ(i))}}function dAe(e,t,n={}){return{...Di(e,t,n),processor:yZ()}}function pg(e,t,n,i,r){return[Di(e,r,i),DZ(i.groupId,t,n,i.separateNegative),...i.rangeId!=null?[aAe(i.rangeId,i.groupId)]:[]]}function EZ(e,t,n){return[Di(e,t,n),IZ(n.groupId)]}var RZ={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{const i=typeof n[0]=="number"?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r<t?r:t}}},AZ={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{const i=typeof n[0]=="number"?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r>t?r:t}}},TZ={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,n)=>{for(let i=0;i<t.length;i++){const r=t[i]-n[i];if(r!==0)return r}return 0})};function hAe({normaliseTo:e}){const t=(n,i)=>{if(i===0)return null;const r=(n??0)*e/i;return r>=0?Math.min(e,r):Math.max(-e,r)};return()=>()=>(n,i,r)=>{const s=fAe(n,i,r);for(const o of i){const a=r.datumIndices[o];if(a!=null)for(const l of a){const c=n[o],u=c[l];if(u==null){c[l]=void 0;continue}c[l]=typeof u=="number"?t(u,s):u.map(d=>t(d,s))}}}}function fAe(e,t,n){const i=[0,0];for(const r of t){const s=e[r],o=n.datumIndices[r];if(o!=null)for(const a of o){const l=s[a];if(l==null)continue;const c=typeof l=="number"?l:Math.max(...l.map(d=>d??0)),u=c<0?0:1;u===0?i[u]=Math.min(i[u],c):i[u]=Math.max(i[u],c)}}return Math.max(Math.abs(i[0]),i[1])}function Ik(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:kE({normaliseTo:t},hAe)}}function pAe({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:i}){const r=e[1]-e[0],s=(o,a,l)=>{const c=e[0]+(o-a)/l*r;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];n!=null&&(l=n),i!=null&&(c=i);const u=c-l;o.domain.values[a]=[e[0],e[1]];const d=o.columns[a];for(let h=0;h<d.length;h+=1)d[h]=s(d[h],l,u)}}function yI(e,t,n,i,r){return{type:"property-value-processor",property:e,adjust:kE({normaliseTo:t,rangeMin:i,rangeMax:r,zeroDomain:n},pAe)}}var rE=1,BN=2;function fW(e,t,n,i){var o,a;let r=rE|BN;if(t.valueType==="category")return n.length<e&&(r&=~rE),r;let s=(o=i[0])==null?void 0:o.valueOf();for(let l=1;r!==0&&l<i.length;l++){const c=(a=i[l])==null?void 0:a.valueOf();(!Number.isFinite(c)||s>c)&&(r&=~BN),Number.isFinite(c)&&s===c&&(r&=~rE),s=c}return r}function c1(e){return{type:"processor",property:"animationValidation",calculate(t){if(!Uw(t))return;const{keys:n,values:i}=t.defs,{input:r,domain:{keys:s,values:o},keys:a,columns:l,invalidKeyCount:c}=t;let u=rE|BN;if(r.count!==0){for(let d=0;u!==0&&d<n.length;d++)for(const h of n[d].scopes){const p=a[d].get(h),m=(c==null?void 0:c.get(h))??0,v=p.length-m;u&=fW(v,n[d],s[d],p)}for(let d=0;u!==0&&d<i.length;d++){const h=i[d];e!=null&&e.includes(h.id)&&(u&=fW(0,h,o[d],l[d]))}}return{uniqueKeys:(u&rE)!==0,orderedKeys:(u&BN)!==0}}}}function gAe({mode:e,separateNegative:t}){return()=>()=>(n,i,r)=>{const s=[0,0];for(const o of i){const a=r.datumIndices[o];if(a!=null)for(const l of a){const c=n[o],u=c[l],d=q4(u)&&t?0:1;ii(u)&&(e==="normal"&&(s[d]+=u),c[l]=s[d],e==="trailing"&&(s[d]+=u))}}}}function mAe({mode:e,sum:t}){return()=>{const n=[];let i=!0;return()=>(r,s,o)=>{let a=0;for(const l of s){const c=r[l],u=o.datumIndices[l];if(u!=null)for(const d of u){const h=c[d],p=i&&t==="current"?0:n[l];n[l]=h;const m=t==="current"?h:p;if(!ii(h)||!ii(p)){c[d]=a;continue}e==="normal"&&(a+=m),c[d]=a,e==="trailing"&&(a+=m)}}i=!1}}}function DZ(e,t,n,i=!1){let r;if(t.startsWith("window")){const s=t.endsWith("-trailing")?"trailing":"normal";r=kE({mode:s,sum:n},mAe)}else r=kE({mode:t,separateNegative:i},gAe);return{type:"group-value-processor",matchGroupIds:[e],adjust:r}}function vAe(){return()=>(e,t,n)=>{const i=new Float64Array(t.length);let r=0;for(const s of t){const o=e[s],a=n.datumIndices[s];if(a!=null)for(const l of a){const c=o[l];i[r]=Number.isFinite(c)?c:NaN,r+=1,o[l]=i.subarray(0,r)}}}}function IZ(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:vAe}}function pW(e){return e.id??e.property}function yAe(e,t,n){var a,l;const i=new Map,r=t.defs.values;for(let c=0;c<r.length;c+=1){const u=r[c];if(((a=u.scopes)==null?void 0:a.includes(e))===!1)continue;const d=pW(u);if(i.has(d))return;i.set(d,c)}const s=[],o=n.defs.values;for(let c=0;c<o.length;c+=1){const u=o[c];if(((l=u.scopes)==null?void 0:l.includes(e))===!1)continue;const d=pW(u),h=i.get(d);if(h==null)return;i.delete(d),s.push({previousIndex:h,nextIndex:c})}if(i.size===0)return s}function JF(e,t,n,i,r){for(const{previousIndex:s,nextIndex:o}of n){const a=e[s],l=t[o],c=a[i],u=l[r];if(c!==u)return!1}return!0}function u1(e,t,n=!0){return{type:"processor",property:"diff",calculate(i,r){if(!Uw(i))return;const s=new Map,o=new Map,a=new Map,l=new Map,c=t.keys,u=i.keys,d=t.columns,h=i.columns,p=yAe(e,t,i);if(p==null)return r;const m=Math.max(t.input.count,i.input.count);for(let C=0;C<m;C++){const S=C<t.input.count,x=C<i.input.count,R=S?TN(c,e,C):void 0,A=R!=null?tf(R):"",T=x?TN(u,e,C):void 0,L=T!=null?tf(T):"";if(x&&S&&A===L){JF(d,h,p,C,C)||a.set(L,C);continue}const O=l.get(L);O!=null?((n||!JF(d,h,p,O,C))&&(a.set(L,C),s.set(L,C)),l.delete(L)):x&&o.set(L,C);const F=o.get(A);F!=null?((n||!JF(d,h,p,F,C))&&(a.set(A,C),s.set(A,C)),o.delete(A)):S&&(a.delete(A),l.set(A,C))}const y={changed:o.size>0||a.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(s.keys())};return{...r,[e]:y}}}}function tf(e,...t){let n;return Tn(e)?n=e.map(r=>LB(r)).join("___"):n=LB(e),(typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n instanceof Date)&&t.length>0&&(n+=`___${t.join("___")}`),n}var CAe=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},bAe=class NZ{constructor(t="",n,i){this.label=t,this.parent=n,this.refId=i,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=n?n.depth+1:0}insertTick(t,n){let i=this;for(let r=0;r<t.length;r++){const s=t[r],o=r!==t.length-1,{children:a}=i,l=a.find(c=>c.label===s);if(l&&o)i=l;else{const c=new NZ(s,i,n);c.index=a.length,a.push(c),o&&(i=c)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((n,i)=>i!==this.index))??[]}};function wAe(e){const t=e.reduce((i,r)=>i<r.length?r.length:i,0),n=new bAe;for(let i=0;i<e.length;i++){const r=e[i];for(;r.length<t;)r.push("");n.insertTick(r,i)}return n}function SAe(e,t,n){const i=t.index-e.index,r=n/i;t.change-=r,t.shift+=n,e.change+=r,t.prelim+=n,t.mod+=n}function xAe(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function MAe({children:e}){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const r=e[i];r.prelim+=t,r.mod+=t,n+=r.change,t+=r.shift+n}}function EAe(e,t){const n=e.getLeftSibling();if(n){let i=e,r=e,s=n,o=r.getLeftmostSibling(),a=r.mod,l=i.mod,c=s.mod,u=o.mod;for(;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),o=o.nextLeft(),i=i.nextRight(),i.ancestor=e;const d=s.prelim+c-(r.prelim+a)+1;d>0&&(SAe(xAe(s,e,t),e,d),a+=d,l+=d),c+=s.mod,a+=r.mod,u+=o.mod,l+=i.mod}s.nextRight()&&!i.nextRight()?i.mod+=c-l:(r.nextLeft()&&!o.nextLeft()&&(o.mod+=a-u),t=e)}return t}function LZ(e){const{children:t}=e;if(t.length){let[n]=t;for(const s of t)LZ(s),n=EAe(s,n);MAe(e);const i=(t[0].prelim+t.at(-1).prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+1,e.mod=e.prelim-i):e.prelim=i}else{const n=e.getLeftSibling();e.prelim=n?n.prelim+1:0}}function kZ(e,t,n){e.position=e.prelim+t,n.insertNode(e);for(const i of e.children)kZ(i,t+e.mod,n)}function OZ(e){const{children:t}=e;let n=0;for(const i of t)OZ(i),i.children.length?n+=i.leafCount:n++;e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.position=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.position,e.subtreeRight=e.position)}function RAe(e){const t=new AAe,n=wAe(e);return LZ(n),kZ(n,-n.prelim,t),OZ(n),t}var AAe=class{constructor(){this.dimensions=new CAe,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.position,e.depth),this.nodes.push(e)}scaling(e,t){let n=1;if(e>0){const{left:i,right:r}=this.dimensions;r!==i&&(n=e/(r-i))}return t&&(n*=-1),n}},_o=class extends Wt{constructor(){super(...arguments),this.enabled=!0,this.border=new jy}};P([z],_o.prototype,"enabled",2);P([z],_o.prototype,"avoidCollisions",2);P([z],_o.prototype,"border",2);P([z],_o.prototype,"color",2);P([z],_o.prototype,"cornerRadius",2);P([z],_o.prototype,"spacing",2);P([z],_o.prototype,"rotation",2);P([z],_o.prototype,"wrapping",2);P([z],_o.prototype,"truncate",2);P([z],_o.prototype,"fill",2);P([z],_o.prototype,"fontStyle",2);P([z],_o.prototype,"fontWeight",2);P([z],_o.prototype,"fontSize",2);P([z],_o.prototype,"fontFamily",2);P([z],_o.prototype,"padding",2);var Nk=class extends Wt{constructor(){super(...arguments),this.enabled=!0}};P([z],Nk.prototype,"enabled",2);P([z],Nk.prototype,"width",2);P([z],Nk.prototype,"stroke",2);var oH=class extends Wt{constructor(){super(...arguments),this.label=new _o,this.tick=new Nk}};P([z],oH.prototype,"label",2);P([z],oH.prototype,"tick",2);var Xy=class extends Vw{constructor(e){super(e,new hW),this.tickScale=new hW,this.depthOptions=new DR(oH),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:n,inset:i,bandwidth:r}=this.scale,s=Math.abs(t[1]-t[0])-n,o=this.tickTreeLayout.scaling(s,t[0]>t[1]),a=i+r/2;let l=0;for(const c of e){const u=c.position*o;l>u&&(l=u),c.screen=u+a}for(const c of e)c.screen-=l}getDepthOptionsMap(e){var s,o,a,l,c,u;const t=[],{depthOptions:n,label:i}=this,r=this.horizontal?0:-90;for(let d=0;d<e;d++)t.push(((s=n[d])==null?void 0:s.label.enabled)??i.enabled?{enabled:!0,spacing:((o=n[d])==null?void 0:o.label.spacing)??i.spacing,wrapping:((a=n[d])==null?void 0:a.label.wrapping)??i.wrapping,truncate:((l=n[d])==null?void 0:l.label.truncate)??i.truncate,rotation:((c=n[d])==null?void 0:c.label.rotation)??(d?r:i.rotation),avoidCollisions:((u=n[d])==null?void 0:u.label.avoidCollisions)??i.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>{e.fill=t.color,e.text=t.text,e.textBaseline=t.textBaseline,e.textAlign=t.textAlign??"center",e.setFont(t),e.setBoxing(t)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var F;this.updateDirection(),this.updateScale();const{step:e}=this.scale,{title:t,label:n,range:i,depthOptions:r,horizontal:s,line:o}=this;if(this.lineNode.datum=s?{x1:i[0],x2:i[1],y1:0,y2:0}:{x1:0,x2:0,y1:i[0],y2:i[1]},this.lineNode.setProperties({stroke:o.stroke,strokeWidth:o.enabled?o.width:0}),this.resizeTickTree(),!((F=this.tickTreeLayout)!=null&&F.depth))return{bbox:ut.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};const{depth:a,nodes:l}=this.tickTreeLayout,c=s?-n.getSideFlag():n.getSideFlag(),u=[],d=new Map,h=new cw,p=this.getDepthOptionsMap(a),m=c*p[0].spacing,v=this.tickFormatter(this.scale.domain,this.scale.domain,!1),y=(H,W)=>{var oe,te;const $=a-H.depth;if(!((oe=p[$])!=null&&oe.enabled)||!USe(H.screen,i))return!1;let Z=v(H.label,W-1);const ie=this.getLabelStyles({value:Z,depth:$},(te=r[$])==null?void 0:te.label);if(n.avoidCollisions){const ae=p[$].rotation;let ne=(H.leafCount||1)*e,Se=this.thickness;if(ae!=null){const q=LSe(ae,ne,Se);ne=q.width,Se=q.height}Z=IR.wrapText(Z,{font:ie,textWrap:p[$].wrapping,overflow:p[$].truncate?"ellipsis":"hide",maxWidth:ne,maxHeight:Se})||Z}return h.x=s?H.screen:m,h.y=s?m:H.screen,h.rotation=0,h.lineHeight=ui.getLineHeight(ie.fontSize),h.fill=ie.color,h.text=Z,h.textAlign="center",h.textBaseline=n.parallel?"top":"bottom",h.setFont(ie),h.setBoxing(ie),!0},C={};l.forEach((H,W)=>{var ae;const $=a-H.depth;if(C[$]??(C[$]=0),!y(H,W)||!h.getBBox())return;d.set(W,h.getBBox()),h.rotation=uf((ae=p[$])==null?void 0:ae.rotation);const{width:ie,height:oe}=h.getBBox(),te=s?oe:ie;C[$]<te&&(C[$]=te)});const S=Wz(),x=new Map,R=H=>{if(H===0)return 0;let W=C[0];for(let $=1;$<=H;$++)W+=p[$].spacing,$!==H&&(W+=C[$]);return W};l.forEach((H,W)=>{var re;if(W===0)return;const $=y(H,W),Z=!H.children.length,ie=a-H.depth;if(H.parent){const K=Z?H.position:H.position-(H.leafCount-1)/2;if(!x.has(K)){const V=(re=this.depthOptions[ie])==null?void 0:re.tick;let G=C[0];for(let se=0;se<=ie;se++)G+=p[se].spacing,se!==0&&(G+=C[se]);x.set(K,{tickSize:G,tickStroke:V==null?void 0:V.stroke,tickWidth:(V==null?void 0:V.enabled)!==!1?V==null?void 0:V.width:0})}}if(!$)return;const oe=uf(p[ie].rotation),{width:te,height:ae}=d.get(W),ne=R(ie);if(h.textAlign="center",h.textBaseline="middle",h.rotation=oe,s?(h.y+=(ne+bB(te/2,ae/2,oe))*c,h.rotationCenterX=H.screen,h.rotationCenterY=h.y):(h.x+=ne*c+bB((p[ie].spacing*c+te)/2,n.mirrored?te:0,oe)-te/2,h.rotationCenterX=h.x,h.rotationCenterY=H.screen),p[ie].avoidCollisions){const{width:K,height:V}=h.getBBox(),G=s?K:V,se=Z?e:H.leafCount*e;if(G>se){d.delete(W);return}}const Se=h.getPlainText(),q=h.getBoxingProperties();u.push({text:Se,visible:!0,tickId:S(Se),range:this.scale.range,border:q.border,color:h.fill,cornerRadius:q.cornerRadius,fill:q.fill,fontFamily:h.fontFamily,fontSize:h.fontSize,fontStyle:h.fontStyle,fontWeight:h.fontWeight,padding:q.padding,rotation:h.rotation,rotationCenterX:h.rotationCenterX,rotationCenterY:h.rotationCenterY,textAlign:h.textAlign,textBaseline:h.textBaseline,x:h.x,y:h.y}),d.set(W,mr.toCanvas(h))});const A=[...x.values()];A.push(A[0]);const T=[this.lineNodeBBox(),ut.merge(d.values()),new ut(0,0,A[0].tickSize*c,0)];let L=0;if(t.enabled){const H=ut.merge(T);L=s?H.height:H.width,T.push(this.titleBBox(this.scale.domain,L))}const O=ut.merge(T);return this.layoutCrossLines(),{bbox:O,spacing:L,separatorLayout:A,tickLabelLayout:u}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,tick:t,gridLine:n,gridLength:i}=this,{separatorLayout:r,spacing:s}=this.computedLayout,{position:o,horizontal:a,gridPadding:l}=this,c=o==="bottom"||o==="right"?-1:1,u=l,d=c*i-l,h=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((p,m)=>({index:m,tickId:tf(p,m),translation:Math.round(e.convert(p))}));this.gridLineGroupSelection.update(n.enabled&&i?this.calculateGridLines(h,u,d):[]),this.gridFillGroupSelection.update(n.enabled&&i?this.calculateGridFills(h,u,d):[]),this.tickLineGroupSelection.update(t.enabled?h.map(({tickId:p,translation:m},v)=>{const{tickSize:y=this.getTickSize(),tickStroke:C=t.stroke,tickWidth:S=t.width}=r[v]??{},x=-c*y,[R,A,T,L]=a?[m,m,0,x]:[0,x,m,m];return{tickId:p,offset:m,x1:R,y1:T,x2:A,y2:L,stroke:C,strokeWidth:S,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,s),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,spacing:n,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t,spacing:n},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(r=>r.visible).flatMap(r=>r.getDomain(e));this.dataDomain={domain:zg(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const n=this.dataDomain.domain.map(r=>CN(rr(r)&&"value"in r?r.value:r));this.tickTreeLayout=RAe(n);const i=[];for(const r of this.tickTreeLayout.nodes)r.leafCount||r.refId==null||i.push(this.dataDomain.domain[r.refId]);this.scale.domain=OSe(this.dataDomain.domain,i),this.tickScale.domain=n.concat([[""]])}filterDuplicateArrays(e){const t=new Set;return e.filter(n=>{const i=Tn(n)?JSON.stringify(n):n;return t.has(i)?!1:(t.add(i),!0)})}};Xy.className="GroupedCategoryAxis";Xy.type="grouped-category";P([z],Xy.prototype,"depthOptions",2);var TAe={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},DAe=(e,t)=>Math.log(t)/Math.log(e);function e2(e,t,n){const i=Math.min(...t),r=TAe[e]??DAe;return i>=0?r(e,n):-r(e,-n)}var IAe={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},NAe=(e,t)=>e**t;function t2(e,t,n){const i=Math.min(...t),r=IAe[e]??NAe;return i>=0?r(e,n):-r(e,-n)}var aH=class PZ extends wi{constructor(t=[1,10],n=[0,1]){super(t,n),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>e2(this.base,this.domain,i),this.pow=i=>t2(this.base,this.domain,i)}static is(t){return t instanceof PZ}transform(t){const[n,i]=ms(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[n,i]=ms(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.exp(t):-Math.exp(-t)}toDomain(t){return t}niceDomain(t,n=this.domain){if(n.length<2)return[];const{base:i}=this,[r,s]=n,o=r>s?Math.ceil:Math.floor,a=r>s?Math.floor:Math.ceil,l=t2(i,n,o(e2(i,n,r))),c=t2(i,n,a(e2(i,n,s)));return[l,c]}ticks({interval:t,tickCount:n=wi.defaultTickCount},i=this.domain,r){if(!i||i.length<2||n<1)return;const s=this.base,[o,a]=i,l=Math.min(o,a),c=Math.max(o,a);let u=this.log(l),d=this.log(c);if(t){const y=T=>T>=l&&T<=c,C=Math.min(Math.abs(t),Math.abs(d-u)),{ticks:S,count:x,firstTickIndex:R}=rk(u,d,C,r),A=S.map(this.pow).filter(y);if(!vw(A.length,this.getPixelRange()))return{ticks:A,count:x,firstTickIndex:R}}if(!WSe(s)||d-u>=n){const y=Math.min(d-u,n),{ticks:C,count:S,firstTickIndex:x}=HR(u,d,y,void 0,void 0,r);return{ticks:C.map(this.pow),count:S,firstTickIndex:x}}const h=[],p=l>0;u=Math.floor(u)-1,d=Math.round(d)+1;const m=pw(this.range)/n;let v=1/0;for(let y=u;y<=d;y++){const C=this.convert(this.pow(y+1));for(let S=1;S<s;S++){const x=p?S:s-S+1,R=this.pow(y)*x,A=this.convert(R),T=Math.abs(v-A),L=Math.abs(A-C),O=T>=m&&L>=m;R>=l&&R<=c&&(S===1||O||h.length===0)&&(h.push(R),v=A)}}return xq(h,p,r)}},oy=class WB extends wi{constructor(){super([0,1],[0,1]),this.type="number"}static is(t){return t instanceof WB}static getTickStep(t,n,i){const{interval:r,tickCount:s=wi.defaultTickCount,minTickCount:o,maxTickCount:a}=i;return r??HE(t,n,s,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:n=wi.defaultTickCount,minTickCount:i,maxTickCount:r},s=this.domain,o){if(!s||s.length<2||n<1||!s.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};const[a,l]=s;if(t){const c=Math.abs(t);if(!vw((l-a)/c,this.getPixelRange()))return rk(a,l,c,o)}return HR(a,l,n,i,r,o)}niceDomain(t,n=this.domain){if(n.length<2)return[];const{tickCount:i=wi.defaultTickCount}=t;let[r,s]=n;if(i===1)[r,s]=Dq(r,s);else if(i>1){const o=r>s?Math.ceil:Math.floor,a=r>s?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){const u=r,d=s,h=WB.getTickStep(r,s,t),[p,m]=n;if(r=o(p/h)*h,s=a(m/h)*h,r===u&&s===d)break}}return[r,s]}},Kd=class extends VR{constructor(e,t=new oy){super(e,t)}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=sH(e,t,n);return{domain:i,clipped:r}}createDatumFormatter(e,t){const{format:n}=this.label;return typeof n=="number"?Tq(t,n):void 0}tickFormatParams(e,t,n){return{type:"number",fractionDigits:n}}datumFormatParams(e,t,n){const{datum:i,seriesId:r,legendItemName:s,key:o,source:a,property:l,domain:c,boundSeries:u}=t;return{type:"number",value:e,datum:i,seriesId:r,legendItemName:s,key:o,source:a,property:l,domain:c,boundSeries:u,fractionDigits:n}}};Kd.className="NumberAxis";Kd.type="number";P([z],Kd.prototype,"min",2);P([z],Kd.prototype,"max",2);var Ww=class extends Kd{normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=sH(e,t,n);return i[0]<0&&i[1]>0||e[0]<0&&e[1]>0?(Je.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:r}):i[0]===0||i[1]===0||e[0]===0||e[1]===0?(Je.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:r}):{domain:i,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new aH)}};Ww.className="LogAxis";Ww.type="log";var jw=class extends Wt{constructor(){super(...arguments),this.enabled=!1,this.label=new Hi,this.tick=new Yy}};P([z],jw.prototype,"enabled",2);P([z],jw.prototype,"label",2);P([z],jw.prototype,"tick",2);var qd=class extends VR{constructor(e){super(e,new yb),this.parentLevel=new jw,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(e){Je.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(e){return lH(e,this.min,this.max)}processData(){super.processData();const{boundSeries:e,direction:t,min:n,max:i}=this;this.minimumTimeGranularity=FZ(e,t,n,i)}tickFormatParams(e,t,n,i){i??(i=Gz(t));const r=zz(e),s=Rd(i),o=xg(i),a=GE(i);return{type:"date",unit:s,step:o,epoch:a,truncateDate:r}}datumFormatParams(e,t,n,i,r){if(typeof e=="number"&&(e=new Date(e)),i==null){const{minimumTimeGranularity:y}=this,C=nk(e);y!=null&&na(y)<na(C)?i=y:i=C}const{datum:s,seriesId:o,legendItemName:a,key:l,source:c,property:u,domain:d,boundSeries:h}=t,p=Rd(i),m=xg(i),v=GE(i);return{type:"date",value:e,datum:s,seriesId:o,legendItemName:a,key:l,source:c,property:u,domain:d,boundSeries:h,unit:p,step:m,epoch:v,style:r}}};qd.className="TimeAxis";qd.type="time";P([z],qd.prototype,"parentLevel",2);P([z],qd.prototype,"min",2);P([z],qd.prototype,"max",2);P([z,Dr("_unit")],qd.prototype,"unit",2);function FZ(e,t,n,i){var s;const r=e.reduce((o,a)=>Math.min(a.minTimeInterval()??1/0,o),1/0);return Number.isFinite(r)?zR(r):(s=_Z(e,t,n,i))==null?void 0:s.unit}function _Z(e,t,n,i){let r=1/0,s=-1/0,o,a=0;const l=[];for(const h of e){if(!h.visible)continue;const{domain:p}=lH(h.getDomain(t),void 0,void 0);if(p.length===0)continue;const m=p[0].valueOf(),v=p[p.length-1].valueOf();l.push(m,v),r=Math.min(r??1/0,m,v),s=Math.max(s??-1/0,m,v);const y=Math.abs(v-m);if(y===0)continue;const C=h.dataCount();if(a=Math.max(a,C),C<=1)continue;const S=y/(C-1);o=Math.min(o??1/0,S)}if(r=Math.min(r,(n==null?void 0:n.valueOf())??1/0,(i==null?void 0:i.valueOf())??1/0),s=Math.max(s,(n==null?void 0:n.valueOf())??-1/0,(i==null?void 0:i.valueOf())??-1/0),!Number.isFinite(r)||!Number.isFinite(s))return;o??(o=Math.abs(s-r)),o=Math.min(o,LAe(l));const c=zR(o);let u=o/na(c);a<=2?u=Math.floor(u):u=Math.round(u),u=Math.max(u,1);const d=u===1?void 0:Wl(c,r);return{unit:c,step:u,epoch:d}}function LAe(e){e.sort((n,i)=>n-i);let t=1/0;for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];r-i>0&&(t=Math.min(t,Math.abs(r-i)))}return t}function lH(e,t,n){var a;let i=!1;typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n));const r=(a=zg(e))==null?void 0:a.map(l=>new Date(l));if(r==null)return{domain:t!=null&&n!=null&&t.valueOf()<=n.valueOf()?[t,n]:[],clipped:!1};let[s,o]=r;return t instanceof Date&&(i||(i=t>s),s=t),n instanceof Date&&(i||(i=n<o),o=n),s>o?{domain:[],clipped:!1}:{domain:[s,o],clipped:i}}var BZ=class extends Vw{calculateGridLine({index:e,tickId:t,translation:n},i,r,s,o){const{gridLine:a,horizontal:l,interval:c,range:u}=this;if(c.placement!=="between")return super.calculateGridLine({index:e,tickId:t,translation:n},i,r,s,o);const d=o[i-1],h=d?n-(n-d.translation)/2:u[0],[p,m,v,y]=l?[h,Math.max(r,s),h,Math.min(r,s)]:[Math.min(r,s),h,Math.max(r,s),h],{style:C}=a,{stroke:S,strokeWidth:x=0,lineDash:R}=C[e%C.length]??{};return{tickId:t,offset:h,x1:p,y1:m,x2:v,y2:y,stroke:S,strokeWidth:x,lineDash:R}}calculateGridFills(e,t,n){return this.interval.placement!=="between"?super.calculateGridFills(e,t,n):e.map((i,r)=>this.calculateGridFill(i,r,i.index,t,n,e))}calculateGridFill({tickId:e,translation:t},n,i,r,s,o){const{gridLine:a,horizontal:l,interval:c,range:u}=this;if(c.placement!=="between")return super.calculateGridFill({tickId:e,translation:t},n,i,r,s,o);const d=o[n-1],h=o[n+1],p=d?t-(t-d.translation)/2:u[0],m=h?t+(h.translation-t)/2:u[1],[v,y,C,S]=l?[p,Math.max(r,s),m,Math.min(r,s)]:[Math.min(r,s),p,Math.max(r,s),m],{fill:x,fillOpacity:R}=a.style[i%a.style.length]??{};return{tickId:e,x1:v,y1:y,x2:C,y2:S,fill:x,fillOpacity:R}}calculateTickLine({primary:e,tickId:t,translation:n},i,r,s){const{horizontal:o,interval:a,primaryTick:l,range:c,tick:u}=this;if(a.placement!=="between")return super.calculateTickLine({primary:e,tickId:t,translation:n},i,r,s);const d=e&&(l!=null&&l.enabled)?l:u,h=-r*this.getTickSize(d),p=s[i-1],m=p?n-(n-p.translation)/2:c[0],[v,y,C,S]=o?[m,0,m,h]:[0,m,h,m],{stroke:x,width:R}=d;return{tickId:t,offset:m,x1:v,y1:y,x2:C,y2:S,stroke:x,strokeWidth:R,lineDash:void 0}}},Hg=class extends BZ{constructor(e){super(e,new Kp,!1),this.parentLevel=new jw,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!0}processData(){super.processData();let e;const{domain:t}=this.dataDomain;if(t.length===2&&t[0].valueOf()===t[1].valueOf())e=nk(t[0]);else{const{boundSeries:n,direction:i,min:r,max:s}=this;e=_Z(n,i,r,s)}aa(this.defaultUnit,e)||(this.defaultUnit=e)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(e){return lH(e,this.min,this.max)}createDatumFormatter(e,t){const n=this.scale.interval,{format:i}=this.label;if(i==null)return;const r=NB(n!=null?NK(i,Rd(n)):i,n);if(r!=null)return xy(r)}tickFormatParams(e,t,n,i){i??(i=Gz(t));const r=zz(e),s=Rd(i),o=xg(i),a=GE(i);return{type:"date",unit:s,step:o,epoch:a,truncateDate:r}}datumFormatParams(e,t,n,i,r){const s=this.unit??this.defaultUnit??"millisecond";e=Wl(s,e),typeof e=="number"&&(e=new Date(e)),i??(i=s);const{datum:o,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p}=t,m=Rd(i),v=xg(i),y=GE(i);return{type:"date",value:e,datum:o,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p,unit:m,step:v,epoch:y,style:r}}};Hg.className="UnitTimeAxis";Hg.type="unit-time";P([z],Hg.prototype,"parentLevel",2);P([z],Hg.prototype,"min",2);P([z],Hg.prototype,"max",2);P([z],Hg.prototype,"unit",2);var sb={...Nf,...zw(ze),type:pt(Oi("number")),label:nH,crosshair:Gg(!0)},ob={...Nf,...zw(ze),type:pt(Oi("log")),base:Ii(AE,Bn(e=>e!==1,"not equal to 1")),label:nH,crosshair:Gg(!0)},ab={...Nf,...zw(tn(ze,wg),!0),type:pt(Oi("time")),label:a1,parentLevel:Tk,crosshair:Gg(!0,!0)},lb={...Nf,type:pt(Oi("category")),label:o1,paddingInner:wt,paddingOuter:wt,groupPaddingInner:wt,crosshair:Gg(),bandHighlight:l1,interval:{...iH,placement:Ze("on","between")}},cb={...Nf,type:pt(Oi("grouped-category")),label:o1,crosshair:Gg(),bandHighlight:l1,paddingInner:wt,groupPaddingInner:wt,depthOptions:ro({label:{enabled:me,avoidCollisions:me,wrapping:Ze("never","always","hyphenate","on-space"),truncate:me,rotation:ze,spacing:ze,...hi,...Yc},tick:{enabled:me,stroke:ct,width:ge}},"depth options objects array")},ub={...Nf,type:pt(Oi("unit-time")),unit:tn(Ak,s1),label:a1,parentLevel:Tk,paddingInner:wt,paddingOuter:wt,groupPaddingInner:wt,crosshair:Gg(!0,!0),bandHighlight:l1,min:Ii(tn(ze,wg),xd("max")),max:Ii(tn(ze,wg),Md("min")),interval:rH},kAe={type:"axis",name:"number",chartType:"cartesian",options:sb,create:e=>new Kd(e)},OAe={type:"axis",name:"log",chartType:"cartesian",options:ob,create:e=>new Ww(e)},PAe={type:"axis",name:"time",chartType:"cartesian",options:ab,create:e=>new qd(e)},FAe={type:"axis",name:"category",chartType:"cartesian",options:lb,create:e=>new Vw(e)},_Ae={type:"axis",name:"grouped-category",chartType:"cartesian",options:cb,create:e=>new Xy(e)},BAe={type:"axis",name:"unit-time",chartType:"cartesian",options:ub,create:e=>new Hg(e)},db={...Nf,type:pt(Oi("ordinal-time")),paddingInner:wt,paddingOuter:wt,groupPaddingInner:wt,label:a1,parentLevel:Tk,interval:rH,crosshair:Gg(!0,!0),bandHighlight:l1},GZ={...Zy,...zw(ze),type:pt(Oi("angle-number")),crossLines:ro(md),startAngle:ze,endAngle:ze,label:{...If,orientation:Ze("fixed","parallel","perpendicular"),format:du}},GAe={innerRadiusRatio:wt},zZ={...Zy,...GAe,type:pt(Oi("angle-category")),shape:Ze("polygon","circle"),crossLines:ro(md),startAngle:ze,endAngle:ze,paddingInner:wt,groupPaddingInner:wt,label:{...If,orientation:Ze("fixed","parallel","perpendicular")}},HZ={...Zy,...zw(ze),type:pt(Oi("radius-number")),shape:Ze("polygon","circle"),positionAngle:ze,innerRadiusRatio:wt,crossLines:ro({...md,label:{...Ey,positionAngle:ze}},"cross-line options"),title:{enabled:me,text:Pe,spacing:ge,formatter:ni,...hi},label:{...If,format:du}},VZ={...Zy,type:pt(Oi("radius-category")),positionAngle:ze,innerRadiusRatio:wt,paddingInner:wt,paddingOuter:wt,groupPaddingInner:wt,label:If,crossLines:ro({...md,label:{...Ey,positionAngle:ze}},"cross-line options"),title:{enabled:me,text:Pe,spacing:ge,formatter:ni,...hi}},UZ=Tr(Yi,Yi),WZ={showInMiniChart:me,connectMissingData:me,interpolation:Mk,label:pi,marker:Df,tooltip:Hn,shadow:Yd,...Dn,...ft,...et,...Ct,highlight:UZ},jZ={...WZ,...hu,highlight:UZ,type:pt(Oi("area")),xKey:pt(Pe),yKey:pt(Pe),xName:Pe,yName:Pe,stacked:me,stackGroup:Pe,normalizedTo:ze},$Z=Tr(Pd,Pd),cH={direction:Ze("horizontal","vertical"),showInMiniChart:me,cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),crisp:me,label:{...pi,placement:Ze("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:ge},errorBar:i1,shadow:Yd,tooltip:Hn,...Dn,highlight:$Z,...ft,...et,...Ct};cH.sparklineMode=Zt(me);var Lk={...cH,...hu,highlight:$Z,type:pt(Oi("bar")),xKey:pt(Pe),yKey:pt(Pe),xName:Pe,yName:Pe,direction:Ze("horizontal","vertical"),grouped:me,stacked:me,stackGroup:Pe,normalizedTo:ze,legendItemName:Pe,errorBar:xk};Lk.pickOutsideVisibleMinorAxis=Zt(me);Lk.focusPriority=Zt(ze);var YZ={title:Pe,domain:Ft(ze),maxSize:ge,showInMiniChart:me,label:{placement:Ze("top","right","bottom","left"),...pi},tooltip:Hn,maxRenderedItems:ze,...Dn,...lt(Df,["enabled"]),highlight:Tr(Yi,Yi)},zAe={...YZ,...hu,type:pt(Oi("bubble")),xKey:pt(Pe),yKey:pt(Pe),sizeKey:pt(Pe),labelKey:Pe,xName:Pe,yName:Pe,sizeName:Pe,labelName:Pe,highlight:Tr(Yi,Yi)},KZ={showInMiniChart:me,cornerRadius:ge,label:pi,tooltip:Hn,shadow:Yd,...Dn,...ft,...et,...Ct,highlight:Tr(Yi,Yi)},HAe={...hu,...KZ,type:pt(Oi("histogram")),xKey:pt(Pe),yKey:Pe,xName:Pe,yName:Pe,areaPlot:me,aggregation:Ze("count","sum","mean"),bins:Ft(Ft(ze)),binCount:ge},qZ=Tr(Yi,by),uH={title:Pe,showInMiniChart:me,connectMissingData:me,interpolation:Mk,label:pi,marker:Df,tooltip:Hn,errorBar:i1,...Dn,...et,...Ct,highlight:qZ};uH.sparklineMode=Zt(me);var kk={...uH,...hu,highlight:qZ,type:pt(Oi("line")),xKey:pt(Pe),yKey:pt(Pe),xName:Pe,yName:Pe,stacked:me,stackGroup:Pe,normalizedTo:ze,legendItemName:Pe,errorBar:xk};kk.pickOutsideVisibleMinorAxis=Zt(me);kk.focusPriority=Zt(ze);var ZZ={title:Pe,showInMiniChart:me,label:{placement:Ze("top","right","bottom","left"),...pi},tooltip:Hn,errorBar:i1,maxRenderedItems:ze,...Dn,...lt(Df,["enabled"]),highlight:Tr(Yi,Yi)},VAe={...ZZ,...hu,type:pt(Oi("scatter")),xKey:pt(Pe),yKey:pt(Pe),labelKey:Pe,xName:Pe,yName:Pe,labelName:Pe,errorBar:xk,highlight:Tr(Yi,Yi)},XZ=Tr(Yi,Yi),dH={...Dn,radiusMin:ge,radiusMax:ge,rotation:ze,outerRadiusOffset:ze,outerRadiusRatio:wt,hideZeroValueSectorsInLegend:me,sectorSpacing:ge,cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),title:{enabled:me,text:Pe,showInLegend:me,spacing:ge,...hi},calloutLabel:{enabled:me,offset:ze,minAngle:ge,avoidCollisions:me,formatter:ni,format:Pe,itemStyler:ki({enabled:me,...Yc,...hi}),...Yc,...hi},sectorLabel:{enabled:me,positionOffset:ze,positionRatio:wt,formatter:ni,format:Pe,itemStyler:ki({enabled:me,...Yc,...hi}),...Yc,...hi},calloutLine:{colors:Ft(ct),length:ge,strokeWidth:ge},fills:Ft(nc),strokes:Ft(ct),tooltip:Hn,shadow:Yd,highlight:XZ,...Ct,...lt(ft,["fill"]),...lt(et,["stroke"])},Qy={...dH,...hu,type:pt(Oi("pie")),angleKey:pt(Pe),radiusKey:Pe,calloutLabelKey:Pe,sectorLabelKey:Pe,legendItemKey:Pe,angleName:Pe,radiusName:Pe,calloutLabelName:Pe,sectorLabelName:Pe,highlight:XZ};Qy.defaultColorRange=Zt(Ft(Ft(ct)));Qy.defaultPatternFills=Zt(Ft(ct));Qy.title._enabledFromTheme=Zt(me);Qy.calloutLabel._enabledFromTheme=Zt(me);Qy.sectorLabel._enabledFromTheme=Zt(me);var QZ={...dH,innerRadiusOffset:ze,innerRadiusRatio:wt,innerCircle:{fill:Pe,fillOpacity:wt},innerLabels:{spacing:ge,...hi,...Yc}},UAe={...QZ,...Qy,type:pt(Oi("donut")),innerLabels:ro({text:pt(Pe),spacing:ge,...hi,...Yc},"inner label options array")},$w={lineStyle:Ze("solid","dashed","dotted"),...Ct},Jy={...ft,...et,...Ct},d1={visible:me,locked:me,handle:Jy,...hi},Ok={position:Ze("top","center","bottom"),alignment:Ze("left","center","right"),...hi},JZ={position:Ze("top","inside","bottom"),alignment:Ze("left","center","right"),...hi},WAe={enabled:me,cornerRadius:ge,formatter:ni,...hi,...ft,...et,...Ct},jAe={visible:me,...$w,...et},eX={divider:et,...ft,...et,...hi},gW={handle:Jy,statistics:eX,...$w,...ft,...et},GN={visible:me,locked:me,extendStart:me,extendEnd:me,handle:Jy,text:Ok,...$w,...et},jB={visible:me,locked:me,axisLabel:WAe,handle:Jy,text:Ok,...$w,...et},hH={visible:me,locked:me,extendStart:me,extendEnd:me,handle:Jy,text:JZ,background:ft,...$w,...et},tX={...hH},nX={...hH,middle:jAe},$B={label:hi,showFill:me,isMultiColor:me,strokes:Ft(ct),rangeStroke:ct,bands:Ze(4,6,10),...GN},iX={...ft,...et,...d1},rX={...ft,...et,...d1},sX={...ft,...et,...d1,background:{...ft,...et}},YB={visible:me,locked:me,handle:Jy,...ft},CI={visible:me,locked:me,extendStart:me,extendEnd:me,handle:Jy,text:Ok,background:ft,statistics:eX,...$w,...et},oX={visible:me,up:gW,down:gW},Yw={enabled:me,axesButtons:{enabled:me,axes:Ze("x","y","xy")},toolbar:{enabled:me,padding:ge,buttons:ro({..._v,value:Ze("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")},"annotation toolbar buttons array")},optionsToolbar:{enabled:me,buttons:Ft(tn(Hr({..._v,value:pt(Ze("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))}),Hr({..._v,value:pt(Ze("lock")),checkedOverrides:_v})))}};Yw.data=Zt(Ud);Yw.xKey=Zt(Pe);Yw.volumeKey=Zt(Pe);Yw.snap=Zt(me);var fH={...ft,...et,...Ct,cornerRadius:ge,whisker:{...et,...Ct},cap:{lengthRatio:wt}},KB={...fH,opacity:wt},aX={direction:Ze("horizontal","vertical"),showInMiniChart:me,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge,whisker:{...et,...Ct},cap:{lengthRatio:wt}}),tooltip:Hn,...Dn,...fH,highlight:Tr(KB,KB)},qB={cornerRadius:ge,wick:{...et,...Ct},...ft,...et,...Ct},mW={...qB,opacity:wt},lX={item:{up:qB,down:qB},itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge,wick:{...et,...Ct}}),showInMiniChart:me,tooltip:Hn,...Dn,highlight:Tr(mW,mW)},cX={fills:Ft(nc),strokes:Ft(ct),label:{spacing:ge,maxWidth:ge,...pi},link:{tension:wt,itemStyler:ki({...ft,...et,...Ct,tension:wt}),...ft,...et,...Ct},node:{width:ge,spacing:ge,itemStyler:ki({...ft,...et,...Ct}),...ft,...et,...Ct},tooltip:Hn,...Dn},uX={direction:Ze("horizontal","vertical"),fills:Ft(nc),strokes:Ft(ct),label:{spacing:ge,placement:Ze("before","middle","after"),...pi},stageLabel:{placement:Ze("before","after"),format:du,...If},tooltip:Hn,...lt(Dn,["showInLegend"]),...lt(ft,["fill"]),...lt(et,["stroke"]),...Ct,highlight:CY(by)},dX={direction:Ze("horizontal","vertical"),fills:Ft(nc),strokes:Ft(ct),itemStyler:ki({...ft,...et,...Ct}),spacingRatio:wt,crisp:me,dropOff:{enabled:me,...ft,...et,...Ct},stageLabel:{placement:Ze("before","after"),format:du,...If},label:pi,tooltip:Hn,shadow:Yd,...lt(Dn,["showInLegend"]),...lt(ft,["fill"]),...lt(et,["stroke"]),...Ct},hX={title:Pe,textAlign:Ze("left","center","right"),verticalAlign:Ze("top","middle","bottom"),itemPadding:ge,itemStyler:ki({...ft,...et}),showInMiniChart:me,label:Mg,tooltip:Hn,...Dn,...et},fX={showInMiniChart:me,itemStyler:ki({...et,...Ct}),item:{up:{...et,...Ct},down:{...et,...Ct}},tooltip:Hn,...Dn,highlight:Tr(by,by)},pX={maxStrokeWidth:ge,itemStyler:ki({...et,...Ct}),sizeDomain:Ft(ge),label:pi,tooltip:Hn,...Dn,...et,...Ct,highlightStyle:{...Dn.highlightStyle,...et},highlight:Tr(by,by)},gX={...et,...Ct},mX={colorRange:Ft(ct),maxSize:ge,sizeDomain:Ft(ge),label:{placement:Ze("top","bottom","left","right"),...pi},tooltip:Hn,...Dn,...lt(Df,["enabled"]),highlightStyle:{...Dn.highlightStyle,...ft,...et},highlight:Tr(Yi,Yi)},vX={colorRange:Ft(ct),padding:ge,itemStyler:ki({...ft,...et,...Ct}),label:Mg,tooltip:Hn,...Dn,...ft,...et,...Ct,highlightStyle:{...Dn.highlightStyle,...ft,...et},highlight:Tr(Yi,Yi)},yX={...Dn,...ft,...et,...Ct},CX={cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),label:pi,tooltip:Hn,...Dn,...ft,...et,...Ct,highlight:Tr(Pd,Pd)},bX={direction:Ze("horizontal","vertical"),aspectRatio:ge,spacing:ge,reverse:me,itemStyler:ki({...ft,...et,...Ct}),fills:Ft(nc),strokes:Ft(ct),label:pi,stageLabel:{spacing:ge,placement:Ze("before","after"),...pi},tooltip:Hn,shadow:Yd,...Dn,...lt(ft,["fill"]),...lt(et,["stroke"]),...Ct},wX={connectMissingData:me,marker:Df,label:pi,tooltip:Hn,...Dn,...ft,...et,...Ct,highlight:Tr(Yi,Yi)},SX={connectMissingData:me,marker:Df,label:pi,tooltip:Hn,...Dn,...et,...Ct,highlight:Tr(Yi,by)},xX={cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),label:pi,tooltip:Hn,...Dn,...ft,...et,...Ct,highlight:Tr(Pd,Pd)},MX={cornerRadius:ge,columnWidthRatio:wt,maxColumnWidthRatio:wt,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),label:pi,tooltip:Hn,...Dn,...ft,...et,...Ct,highlight:Tr(Pd,Pd)},EX={showInMiniChart:me,connectMissingData:me,interpolation:Mk,label:{...pi,placement:Ze("inside","outside"),spacing:ge},marker:Df,tooltip:Hn,shadow:Yd,...Dn,...ft,...et,...Ct,highlight:Tr(Yi,Yi)},RX={direction:Ze("horizontal","vertical"),grouped:me,showInMiniChart:me,cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),label:{...pi,placement:Ze("inside","outside"),spacing:ge},tooltip:Hn,shadow:Yd,...Dn,...ft,...et,...Ct,highlight:Tr(Pd,Pd)},AX={fills:Ft(nc),strokes:Ft(ct),label:{...pi,spacing:ge},link:{itemStyler:ki({...ft,...et,...Ct}),...ft,...et,...Ct},node:{width:ge,spacing:ge,alignment:Ze("left","center","right","justify"),itemStyler:ki({...ft,...et,...Ct}),...ft,...et,...Ct},tooltip:Hn,...Dn},TX={fills:Ft(nc),strokes:Ft(ct),colorRange:Ft(ct),sectorSpacing:ge,cornerRadius:ge,padding:ge,itemStyler:ki({...ft,...et}),label:{spacing:ge,...Mg},secondaryLabel:Mg,tooltip:Hn,...lt(Dn,["highlight","showInLegend"]),...lt(ft,["fill"]),...lt(et,["stroke"]),highlightStyle:{label:{color:ct},secondaryLabel:{color:ct},...ft,...et}},DX={fills:Ft(nc),strokes:Ft(ct),colorRange:Ft(ct),itemStyler:ki({...ft,...et}),group:{gap:ge,padding:ge,cornerRadius:ge,textAlign:Ze("left","center","right"),interactive:me,label:{...pi,spacing:ge},...ft,...et},tile:{gap:ge,padding:ge,cornerRadius:ge,textAlign:Ze("left","center","right"),verticalAlign:Ze("top","middle","bottom"),label:{...pi,spacing:ge,lineHeight:ge,minimumFontSize:ge,wrapping:Ze("never","always","hyphenate","on-space"),overflowStrategy:Ze("ellipsis","hide")},secondaryLabel:{...pi,lineHeight:ge,minimumFontSize:ge,wrapping:Ze("never","always","hyphenate","on-space"),overflowStrategy:Ze("ellipsis","hide")},...ft,...et},tooltip:Hn,...lt(Dn,["highlight","showInLegend"]),highlightStyle:{group:{label:{color:ct},...ft,...et},tile:{label:{color:ct},secondaryLabel:{color:ct},...ft,...et}}},n2={name:Pe,cornerRadius:ge,itemStyler:ki({...ft,...et,...Ct,cornerRadius:ge}),label:{...pi,placement:Ze("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:ge},tooltip:Hn,shadow:Yd,...ft,...et,...Ct},IX={direction:Ze("horizontal","vertical"),showInMiniChart:me,item:{positive:n2,negative:n2,total:n2},line:{enabled:me,...et,...Ct},tooltip:Hn,...Dn},ID=Hr({__type:pt(Oi("date")),value:tn(Pe,ze)},"a serializable date object"),vW={width:ge,height:ge,grip:me,fill:ct,stroke:ct,strokeWidth:ge,cornerRadius:ge},$n={enabled:me,height:ge,spacing:ge,cornerRadius:ze,mask:{fill:ct,fillOpacity:wt,stroke:ct,strokeWidth:ge},minHandle:vW,maxHandle:vW,miniChart:{enabled:me,padding:{top:ge,bottom:ge},label:{enabled:me,avoidCollisions:me,spacing:ge,format:du,formatter:ni,interval:{minSpacing:ge,maxSpacing:ge,values:Ud,step:ze},...hi},series:Pt}},xo={number:{...lt(sb,["type","crossLines"]),top:lt(sb,["type","crossLines","position"]),right:lt(sb,["type","crossLines","position"]),bottom:lt(sb,["type","crossLines","position"]),left:lt(sb,["type","crossLines","position"]),crossLines:lt(Fh,["type"])},log:{...lt(ob,["type","crossLines"]),top:lt(ob,["type","crossLines","position"]),right:lt(ob,["type","crossLines","position"]),bottom:lt(ob,["type","crossLines","position"]),left:lt(ob,["type","crossLines","position"]),crossLines:lt(Fh,["type"])},category:{...lt(lb,["type","crossLines"]),top:lt(lb,["type","crossLines","position"]),right:lt(lb,["type","crossLines","position"]),bottom:lt(lb,["type","crossLines","position"]),left:lt(lb,["type","crossLines","position"]),crossLines:lt(Fh,["type"])},time:{...lt(ab,["type","crossLines"]),top:lt(ab,["type","crossLines","position"]),right:lt(ab,["type","crossLines","position"]),bottom:lt(ab,["type","crossLines","position"]),left:lt(ab,["type","crossLines","position"]),crossLines:lt(Fh,["type"])},"unit-time":{...lt(ub,["type","crossLines"]),top:lt(ub,["type","crossLines","position"]),right:lt(ub,["type","crossLines","position"]),bottom:lt(ub,["type","crossLines","position"]),left:lt(ub,["type","crossLines","position"]),crossLines:lt(Fh,["type"])},"grouped-category":{...lt(cb,["type"]),top:lt(cb,["type","position"]),right:lt(cb,["type","position"]),bottom:lt(cb,["type","position"]),left:lt(cb,["type","position"]),crossLines:lt(Fh,["type"])},"ordinal-time":{...lt(db,["type","crossLines"]),top:lt(db,["type","crossLines","position"]),right:lt(db,["type","crossLines","position"]),bottom:lt(db,["type","crossLines","position"]),left:lt(db,["type","crossLines","position"]),crossLines:lt(Fh,["type"])}},qC={"angle-category":{...lt(zZ,["type","crossLines"]),crossLines:lt(md,["type"])},"angle-number":{...lt(GZ,["type","crossLines"]),crossLines:lt(md,["type"])},"radius-category":{...lt(VZ,["type","crossLines"]),crossLines:{...lt(md,["type"]),label:{...Ey,positionAngle:ze}}},"radius-number":{...lt(HZ,["type","crossLines"]),crossLines:{...lt(md,["type"]),label:{...Ey,positionAngle:ze}}}},Zn={visible:me},$Ae={common:{...Yt,navigator:$n,axes:{...xo,...qC},annotations:{...Yw,line:GN,"horizontal-line":jB,"vertical-line":jB,"disjoint-channel":tX,"parallel-channel":nX,"fibonacci-retracement":$B,"fibonacci-retracement-trend-based":$B,callout:iX,comment:rX,note:sX,text:d1,arrow:GN,"arrow-up":YB,"arrow-down":YB,"date-range":CI,"price-range":CI,"date-price-range":CI,"quick-date-price-range":oX},chartToolbar:{enabled:me},initialState:{legend:ro({visible:me,seriesId:Pe,itemId:Pe,legendItemName:Pe},"legend state array"),zoom:{rangeX:{start:tn(ze,ID),end:tn(ze,ID)},rangeY:{start:tn(ze,ID),end:tn(ze,ID)},ratioX:{start:wt,end:wt},ratioY:{start:wt,end:wt},autoScaledAxes:Ft(Oi("y"))}}},line:{...Yt,axes:xo,series:uH,navigator:$n,...Zn},scatter:{...Yt,axes:xo,series:ZZ,navigator:$n,...Zn},bubble:{...Yt,axes:xo,series:YZ,navigator:$n,...Zn},area:{...Yt,axes:xo,series:WZ,navigator:$n,...Zn},bar:{...Yt,axes:xo,series:cH,navigator:$n,...Zn},"box-plot":{...Yt,axes:xo,series:aX,navigator:$n,...Zn},candlestick:{...Yt,axes:xo,series:lX,navigator:$n,...Zn},"cone-funnel":{...Yt,axes:xo,series:uX,navigator:$n,...Zn},funnel:{...Yt,axes:xo,series:dX,navigator:$n,...Zn},ohlc:{...Yt,axes:xo,series:fX,navigator:$n,...Zn},histogram:{...Yt,axes:lt(xo,["category","grouped-category","unit-time","ordinal-time"]),series:KZ,navigator:$n,...Zn},heatmap:{...Yt,axes:xo,series:hX,navigator:$n,...Zn},waterfall:{...Yt,axes:xo,series:IX,navigator:$n,...Zn},"range-bar":{...Yt,axes:xo,series:RX,navigator:$n,...Zn},"range-area":{...Yt,axes:xo,series:EX,navigator:$n,...Zn},donut:{...Yt,series:QZ,navigator:$n,...Zn},pie:{...Yt,series:dH,navigator:$n,...Zn},"radar-line":{...Yt,axes:qC,series:SX,navigator:$n,...Zn},"radar-area":{...Yt,axes:qC,series:wX,navigator:$n,...Zn},"radial-bar":{...Yt,axes:qC,series:xX,navigator:$n,...Zn},"radial-column":{...Yt,axes:qC,series:MX,navigator:$n,...Zn},nightingale:{...Yt,axes:qC,series:CX,navigator:$n,...Zn},sunburst:{...Yt,series:TX,navigator:$n,...Zn},treemap:{...Yt,series:DX,navigator:$n,...Zn},"map-shape":{...Yt,series:vX,navigator:$n,...Zn},"map-line":{...Yt,series:pX,navigator:$n,...Zn},"map-marker":{...Yt,series:mX,navigator:$n,...Zn},"map-shape-background":{...Yt,series:yX,navigator:$n,...Zn},"map-line-background":{...Yt,series:gX,navigator:$n,...Zn},sankey:{...Yt,series:AX,navigator:$n,...Zn},chord:{...Yt,series:cX,navigator:$n,...Zn},pyramid:{...Yt,series:bX,navigator:$n,...Zn},"radial-gauge":{...Yt,..._N,targets:lt(Rk,["value"]),tooltip:{..._N.tooltip,...Yt.tooltip}},"linear-gauge":{...Yt,...FN,targets:lt(Ek,["value"]),tooltip:{...FN.tooltip,...Yt.tooltip}}};function ND(e,t){const n={};for(const i of Reflect.ownKeys(e))n[i]=t(e[i],i,e);return n}var YAe=ND($Ae,function e(t,n){if(aI(n))return t;if(xf(t))return tn(t,yN,aI);if(rr(t))return tn(Hr(mN in t?ND(t,i=>rr(i)?ND(i,e):i):ND(t,e)),yN,aI);throw new Error(`Invalid theme override value: ${String(t)}`)}),$s={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},wv={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},KAe=class extends Gw{getDefaultColors(){return{fills:$s,fillsFallback:Object.values($s),strokes:wv,sequentialColors:bl($s),divergingColors:[$s.ORANGE,$s.YELLOW,$s.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[$s.GREEN,$s.YELLOW,$s.RED],secondHierarchyColors:[],up:{fill:$s.GREEN,stroke:wv.GREEN},down:{fill:$s.RED,stroke:wv.RED},neutral:{fill:$s.GRAY,stroke:wv.GRAY},altUp:{fill:$s.BLUE,stroke:wv.BLUE},altDown:{fill:$s.ORANGE,stroke:wv.ORANGE},altNeutral:{fill:$s.GRAY,stroke:wv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,$s.BLUE),e.set(is,$s.BLUE),e}},Ys={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Sv={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},qAe=class extends iu{getDefaultColors(){return{...super.getDefaultColors(),fills:Ys,fillsFallback:Object.values(Ys),strokes:Sv,sequentialColors:bl(Ys),divergingColors:[Ys.ORANGE,Ys.YELLOW,Ys.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Ys.GREEN,Ys.YELLOW,Ys.RED],secondHierarchyColors:[],up:{fill:Ys.GREEN,stroke:Sv.GREEN},down:{fill:Ys.RED,stroke:Sv.RED},neutral:{fill:Ys.GRAY,stroke:Sv.GRAY},altUp:{fill:Ys.BLUE,stroke:Sv.BLUE},altDown:{fill:Ys.ORANGE,stroke:Sv.ORANGE},altNeutral:{fill:Ys.GRAY,stroke:Sv.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(pr,Ys.BLUE),e.set(is,Ys.BLUE),e}},ZB=Xs(()=>new iu),ZAe=on.create(!0,"perf"),Fc=(e,t,n)=>{ZAe("[CACHE] ChartTheme",e,t.name,n)},pH={"ag-default-dark":Xs(()=>new Gw),"ag-sheets-dark":Xs(()=>new tAe,Fc),"ag-polychroma-dark":Xs(()=>new J1e,Fc),"ag-vivid-dark":Xs(()=>new KAe,Fc),"ag-material-dark":Xs(()=>new X1e,Fc),"ag-financial-dark":Xs(()=>new q1e,Fc),"ag-default":ZB,"ag-sheets":Xs(()=>new nAe,Fc),"ag-polychroma":Xs(()=>new eAe,Fc),"ag-vivid":Xs(()=>new qAe,Fc),"ag-material":Xs(()=>new Q1e,Fc),"ag-financial":Xs(()=>new Z1e,Fc)},zN=Xs(XAe,Fc);function XAe(e){if(e instanceof iu)return e;if(!tTe(e))return ZB();if(e==null||typeof e=="string"){const r=pH[e??"ag-default"];if(r)return r();throw new Error(`Cannot find theme \`${e}\`.`)}const{cleared:t,invalid:n}=To(QAe(e),JAe,"theme");for(const r of n)Je.warnOnce(String(r));const i=t!=null&&t.baseTheme?zN(t.baseTheme):ZB();return t?new i.constructor(t):i}function QAe(e){if(!rr(e)||!rr(e.baseTheme))return e;let t=e,n,i;const r=[];for(;typeof t=="object";)n??(n=t.palette),i??(i=t.params),t.overrides&&r.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Gn(...r),params:i,palette:n}}var JAe={baseTheme:tn(Pe,kL),overrides:YAe,params:{accentColor:ct,axisColor:ct,backgroundColor:ct,borderColor:ct,borderRadius:ze,chartBackgroundColor:ct,chartPadding:ze,focusShadow:Pe,foregroundColor:ct,fontFamily:gB,fontSize:ze,fontWeight:tn(Pe,ze),gridLineColor:ct,popupShadow:Pe,subtleTextColor:ct,textColor:ct,chromeBackgroundColor:ct,chromeFontFamily:gB,chromeFontSize:ze,chromeFontWeight:tn(Pe,ze),chromeSubtleTextColor:ct,chromeTextColor:ct,buttonBackgroundColor:ct,buttonBorder:me,buttonFontWeight:ze,buttonTextColor:ct,inputBackgroundColor:ct,inputBorder:me,inputTextColor:ct,menuBackgroundColor:ct,menuBorder:me,menuTextColor:ct,panelBackgroundColor:ct,panelSubtleTextColor:ct,tooltipBackgroundColor:ct,tooltipBorder:me,tooltipTextColor:ct,tooltipSubtleTextColor:ct,crosshairLabelBackgroundColor:ct,crosshairLabelTextColor:ct},palette:{fills:Ft(nc),strokes:Ft(ct),up:{fill:tn(ct,TF),stroke:ct},down:{fill:tn(ct,TF),stroke:ct},neutral:{fill:tn(ct,TF),stroke:ct}}},eTe=Ze("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function tTe(e){const{invalid:t}=To({theme:e},{theme:tn(eTe,kL)});for(const n of t)Je.warnOnce(String(n));return t.length===0}var ka={isEnterprise:!1},fs="path",Oc="pathArray",hs="default",Bc="override",Cb="user",CM="operation",bM="operationValue",gH="dependency",i2="autoEnable",yW="autoEnableValue";function mH(e){return pN(e)&&e>=0&&e<=1}function wM(e,t){let n=e;for(const i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return!1;n=n[i]}return!0}function zc(e,t){let n=e;for(const i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return;n=n[i]}return n}function r2(e,t,n){const i=t.length;if(i===0)return;let r=e;const s=i-1,o=t[s];for(let a=0;a<s;a++){const l=t[a],c=t[a+1];let u=r[l];(u==null||!fN(u))&&(u=isNaN(Number(c))?{}:[],r[l]=u),r=u}r[o]=n}var nTe=/^\d+$/;function NX(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(nTe.test(n))return t}return-1}function $E(e){const t=NX(e);return Number(e[t])}function e0(e,t,n){const i=t.split("/");let r=[...e];t.startsWith("/")&&(r=[],i.shift());let s=!1;for(const o of i){if(o==="..")r.pop(),s||r.pop();else if(o===".")r.pop();else if(o==="$index"){const a=$E(e);if(isNaN(a))return Td;r.push(`${a}`)}else if(o==="$prevIndex"){const a=$E(e);if(isNaN(a)||Number(a)<=0)return Td;r.push(`${Number(a)-1}`)}else if(o.startsWith("$")){const a=n==null?void 0:n[o.slice(1)];if(a==null)return Td;r.push(a)}else o.length!==0&&r.push(o);s=o===".."}return r}var Td=Symbol("unresolvable-path"),Rg=Symbol("resolved-to-branch");function _b(e,t){if(e==null||typeof e!="object"||Array.isArray(e)||(t??(t=Object.keys(e)),t.length===0))return;const n=t[0];if(kX.has(n))return{operation:n,values:Array.isArray(e[n])?e[n]:[e[n]]}}function iTe(e,t,n){const i=_b(e.getVertexValue(n));switch(i==null?void 0:i.operation){case"$path":{const[r]=i.values,s=e.getPathArray(t),o=e0(s,r);return o===Td?void 0:e.findVertexAtPath(o)}case"$value":return t}}var rTe={$hasSeriesType:{dependencies:s2,resolve:sTe},$isChartType:{dependencies:s2,resolve:aTe},$isSeriesType:{dependencies:s2,resolve:oTe}};function s2(e,t,n){const i=e.findVertexAtPath(["series","0","type"]);i&&e.addEdge(t,i,gH)}function sTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),s=e.getResolvedPath(["series"]);if(!Array.isArray(s))return!1;for(const o of s)if(o.type===r)return!0;return!1}function oTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return e.getResolvedPath(["series","0","type"])===r}function aTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),s=e.getResolvedPath(["series","0","type"]);if(typeof s!="string")return!1;switch(r){case"cartesian":return gs.isCartesian(s);case"polar":return gs.isPolar(s);case"standalone":return gs.isStandalone(s)}return!1}var lTe={$foregroundBackgroundMix:cTe,$foregroundOpacity:uTe,$interpolate:dTe,$isGradient:hTe,$isImage:fTe,$isPattern:pTe,$mix:gTe};function cTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),s=e.getParamValue("foregroundColor"),o=e.getParamValue("backgroundColor");if(typeof s=="string"&&typeof o=="string"&&mH(r))return Ci.mix(Ci.fromString(s),Ci.fromString(o),1-r).toString();on.inDevelopmentMode(()=>Je.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function uTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),s=e.getParamValue("foregroundColor");if(typeof s=="string"&&mH(r)){const o=Ci.fromString(s);return new Ci(o.r,o.g,o.b,r).toString()}on.inDevelopmentMode(()=>Je.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function dTe(e,t,n){const[i,r]=n,s=e.resolveVertexValue(t,i),o=e.resolveVertexValue(t,r);if(!(!Tn(s)||!pN(o)))return Ci.interpolate(s.map(a=>Ci.fromString(a)),o).map(a=>a.toString())}function hTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return tu(r)}function fTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return Sy(r)}function pTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return Sg(r)}function gTe(e,t,n){const[i,r,s]=n,o=e.resolveVertexValue(t,i),a=e.resolveVertexValue(t,r),l=e.resolveVertexValue(t,s),c=e.getPathArray(t),u=`\`$mix\` json operation failed on [${String(o)}, ${String(a)}, ${String(l)}] at [${c.join(".")}], expecting`,d=`${u} two colors and a number between 0 and 1.`;if(typeof a!="string"||!mH(l)){on.inDevelopmentMode(()=>Je.warnOnce(d));return}if(typeof o=="string")try{return Ci.mix(Ci.fromString(o),Ci.fromString(a),l).toString()}catch{on.inDevelopmentMode(()=>Je.warnOnce(d));return}if(!tu(o)){on.inDevelopmentMode(()=>Je.warnOnce(d));return}let h=o.colorStops;try{h=h==null?void 0:h.map(p=>{let m;return typeof p.color=="string"&&(m=Ci.mix(Ci.fromString(p.color),Ci.fromString(a),l).toString()),{...p,color:m}})}catch{on.inDevelopmentMode(()=>Je.warnOnce(`${u} a gradient, a color and a number between 0 and 1.`));return}return{...o,colorStops:h}}var mTe={$rem:vTe};function vTe(e,t,n){const[i]=n,r=e.getVertexValue(i),s=e.getParamValue("fontSize");if(typeof s=="number"&&typeof r=="number")return Math.round(r*s);on.inDevelopmentMode(()=>Je.warnOnce(`\`$rem\` json operation failed on [${String(r)}] at [${e.getPathArray(t).join(".")}], expecting a number.`))}var yTe={$and:CTe,$eq:bTe,$greaterThan:wTe,$if:STe,$lessThan:xTe,$not:MTe,$or:ETe,$switch:RTe};function CTe(e,t,n){for(const i of n)if(!e.resolveVertexValue(t,i))return!1;return!0}function bTe(e,t,n){let i,r=!0;for(const s of n){const o=e.resolveVertexValue(t,s);if(r)i=o,r=!1;else if(o!==i)return!1}return!0}function wTe(e,t,n){const[i,r]=n;return e.resolveVertexValue(t,i)>e.resolveVertexValue(t,r)}function STe(e,t,n){const[i,r,s]=n,a=e.resolveVertexValue(t,i)?r:s,l=e.neighboursWithEdgeValue(a,fs);if(l)for(const c of l)e.addEdge(t,c,fs);return e.resolveVertexValue(t,a)}function xTe(e,t,n){const[i,r]=n;return e.resolveVertexValue(t,i)<e.resolveVertexValue(t,r)}function MTe(e,t,n){for(const i of n)return!e.resolveVertexValue(t,i)}function ETe(e,t,n){for(const i of n)if(e.resolveVertexValue(t,i))return!0;return!1}function RTe(e,t,n){const[i,r,...s]=n,o=e.resolveVertexValue(t,i);for(const a of s){const l=e.getVertexValue(a);if(!Array.isArray(l))continue;const[c,u]=l;if(o===c||Array.isArray(c)&&c.includes(o))return u}return e.getVertexValue(r)}var ATe={$isUserOption:TTe,$isThemeOverride:DTe,$palette:ITe,$mapPalette:NTe,$path:{dependencies:bW,resolve:LTe},$pathString:{dependencies:bW,resolve:kTe},$ref:OTe};function TTe(e,t,n){const[i,r,s]=n,o=e.neighboursWithEdgeValue(i,fs);if(o)for(const a of o){const l=e.findNeighbour(a,hs);if(l&&CW(e,t,l))return e.resolveVertexValue(t,r)}else if(CW(e,t,i))return e.resolveVertexValue(t,r);return e.resolveVertexValue(t,s)}function CW(e,t,n){const i=e.resolveVertexValue(t,n);if(!vs(i))throw new Error(`\`$isUserOption\` json operation failed on [${String(i)}], expecting a string.`);const r=e.getPathArray(t),s=e0(r,i);return s===Td?!1:e.hasUserOption(s)}function DTe(e,t,n){const[i,r,s]=n,o=e.resolveVertexValue(t,i);if(!vs(o))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(o)}], expecting a string.`);const a=e.getPathArray(t),l=e0(a,o);if(l!==Td)return e.hasThemeOverride(l)?e.resolveVertexValue(t,r):e.resolveVertexValue(t,s)}var LX=new Set(["fill","fillFallback","stroke","gradient","range2"]);function ITe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);if(!vs(r))return;if(LX.has(r)){const o=e.getPathArray(t),a=$E(o);if(isNaN(a))return;switch(r){case"fill":return cd(e.palette.fills,1,a)[0];case"fillFallback":return cd(e.palette.fillsFallback,1,a)[0];case"stroke":return cd(e.palette.strokes,1,a)[0];case"gradient":return cd(e.palette.sequentialColors,1,a)[0];case"range2":return cd(e.palette.fills,2,a)}return}if(r==="gradients")return e.palette.sequentialColors;const s=zc(e.palette,r.split("."));return Array.isArray(s)?[...s]:typeof s=="object"?{...s}:s}function NTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);if(!vs(r))return;if(LX.has(r)){const o=e.getPathArray(t);let a=$E(o),l=0;const c=["series","0","type"];for(let u=0;u<a;u++){c[1]=`${u}`;const d=e.getResolvedPath(c);(d==="map-shape-background"||d==="map-line-background")&&l++}if(a-=l,isNaN(a))return;switch(r){case"fill":return cd(e.palette.fills,1,a)[0];case"fillFallback":return cd(e.palette.fillsFallback,1,a)[0];case"stroke":return cd(e.palette.strokes,1,a)[0];case"gradient":return cd(e.palette.sequentialColors,1,a)[0];case"range2":return cd(e.palette.fills,2,a)}return}if(r==="gradients")return e.palette.sequentialColors;const s=zc(e.palette,r.split("."));return Array.isArray(s)?[...s]:typeof s=="object"?{...s}:s}function bW(e,t,n){const[i]=n,r=e.getVertexValue(i);if(vs(r)){const s=e.getPathArray(t),o=e0(s,r);if(o===Td)return;const a=e.findVertexAtPath(o);a&&e.addEdge(t,a,gH)}}function LTe(e,t,n){const i=n.length>1,r=n.length>2,[s,o,a]=n,l=e.resolveVertexValue(t,s),c=r?e.resolveVertexValue(t,a):null;if(!vs(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);const u=e.getPathArray(t),d=e0(u,l);if(d===Td)return;const h=c?zc(c,d):e.getResolvedPath(d);if(h!=null)return h;if(i)return e.resolveVertexValue(t,o)}function kTe(e,t,n){const[i,r]=n,s=e.resolveVertexValue(t,i);if(!vs(s))throw new Error(`\`$path\` json operation failed on [${String(s)}], expecting a string.`);let o;r&&(o=e.graftAndResolveOrphan(t,r));const a=e.getPathArray(t),l=e0(a,s,o);if(l===Td)throw new Error(`Unresolvable path [${s}] at [${a.join(".")}]`);return l}function OTe(e,t,n){const[i]=n,r=e.getVertexValue(i);return e.getParamValue(r)}var PTe={$apply:FTe,$applyTheme:_Te,$findFirstSiblingNotOperation:BTe,$map:GTe,$merge:zTe,$omit:HTe,$size:VTe,$shallow:UTe,$value:WTe};function FTe(e,t,n){const[i,r,s,o]=n,a=e.getVertexValue(i);if(!zn(a))return;const l=r?e.getVertexValue(r):void 0,c=e.neighboursWithEdgeValue(t,fs),u=s?e.resolveVertexValue(t,s):void 0,d=o?e.resolveVertexValue(t,o):void 0;if((!c||c.length===0)&&l!=null)if(_b(l)){const h=e.resolveVertexValue(t,r);zn(h)&&e.graftObject(t,h,[u,d])}else e.graftObject(t,l,[u,d]);if(!c)return Rg;for(const h of c){const p=e.neighboursWithEdgeValue(h,fs);if(!p||p.length===0){const m=e.addVertex({});e.addEdge(h,m,hs)}else e.graftObject(h,a,[u,d])}return Rg}function _Te(e,t,n){const[i,r,s]=n;let o=e.getVertexValue(i);if(typeof o=="string"&&(o=[o]),!Array.isArray(o))return;const a=e.neighboursWithEdgeValue(t,fs),l=s?e.getVertexValue(s):[],c=Array.isArray(l)?new Set(l):new Set;if(!a)return Rg;for(const u of a){const d=e.graftAndResolveOrphan(u,r);for(const h of o){const p=e0([],h,d);p!==Td&&e.graftConfig(u,p,c)}}return Rg}function BTe(e,t,n){const[i]=n,r=e.getPathArray(t),s=NX(r);if(s<0)return e.resolveVertexValue(t,i);const o=r.slice(0,s),a=e.findVertexAtPath(o);if(!a)return e.resolveVertexValue(t,i);const l=e.neighboursWithEdgeValue(a,fs);if(l)for(let c=0;c<l.length;c++){if(`${c}`===r[s])continue;const u=o.concat([`${c}`,...r.slice(s+1)]),d=e.findVertexAtPath(u);if(!d)continue;const h=e.findNeighbourValue(d,Cb);if(h!=null)return h;const p=e.findNeighbourValue(d,Bc);if(p!=null)return p}return e.resolveVertexValue(t,i)}function GTe(e,t,n){const[i,r]=n,s=e.getVertexValue(i),o=e.resolveVertexValue(t,r);if(!Array.isArray(o))return;if(!_b(s))return o.map(()=>s);let a=0;for(const l of o)e.graftValue(t,`${a}`,s,l),a++;return Rg}function zTe(e,t,n){for(const i of n){const r=e.resolveVertexValue(t,i);zn(r)&&e.graftObject(t,r)}return Rg}function HTe(e,t,n){const[i,r]=n;let s=e.getVertexValue(i);if(!Array.isArray(s)){const a=iTe(e,t,r);if(!a)return;s=e.resolveVertexValue(a,i)}const o=e.resolveVertexValue(t,r);if(!(!Array.isArray(s)||!zn(o)))return lt(o,s)}function VTe(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return fN(r)?Object.keys(r).length:0}function UTe(e,t,n){const i=[];for(const r of n)i.push(e.getVertexValue(r));return i}function WTe(e,t,n){const[i]=n,r=e.getVertexValue(i),s=e.getPathArray(t);if(r==="$index")return $E(s);if(r==="$1")return e.resolveValue$1(s)}var jTe={$isEven:$Te,$mul:YTe,$round:KTe};function $Te(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return isNaN(Number(r))?!1:Number(r)%2===0}function YTe(e,t,n){let i;for(const r of n){const s=e.resolveVertexValue(t,r);i==null?i=Number(s):i*=Number(s)}return i}function KTe(e,t,n){for(const i of n)return Math.round(Number(e.resolveVertexValue(t,i)))}var _M={...rTe,...lTe,...mTe,...ATe,...yTe,...jTe,...PTe},kX=new Set(Object.keys(_M));function SM(e){return kX.has(e)}var qTe=Xs(ZTe);function ZTe(e,t){return new OX(e.config,t,e.params,e.palette,e.overrides,e.getTemplateParameters())}var h1=class _c extends ZSe{constructor(t={},n={},i=void 0,r=void 0,s={},o=new Map){var S,x,R,A,T,L,O;super(fs,CM),this.config=t,this.userOptions=n,this.overrides=s,this.internalParams=o,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=t,this.overrides=s,this.internalParams=o,this.palette=r?tr(r):{},this.palette.type=rr(n==null?void 0:n.theme)?nZ((S=n.theme)==null?void 0:S.palette):"inbuilt";const l=((R=(x=n.series)==null?void 0:x[0])==null?void 0:R.type)??"line",c=Wc.cloneDefaultAxes(l);n.axes??(n.axes=(c==null?void 0:c.axes)??[]),this.buildGraphFromObject(this.root,Cb,lt(n,["theme"])),this.buildGraphFromObject(this.root,hs,lt(t[l],_c.COMPLEX_KEYS));const u=s?lt(s[l],_c.COMPLEX_KEYS):{};Object.keys(u).length>0&&this.buildGraphFromObject(this.root,Bc,u);const d=s?lt(s.common,_c.COMPLEX_KEYS):{};Object.keys(d).length>0&&this.buildGraphFromObject(this.root,Bc,gs.isCartesian(l)?d:lt(d,["zoom","navigator"])),i&&this.buildGraphFromObject(this.params,hs,i);const h=this.findNeighbourWithValue(this.root,"axes",fs),p=this.findNeighbourWithValue(this.root,"series",fs);h&&this.buildGraphFromObject(h,hs,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),p&&this.buildGraphFromObject(p,hs,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});const m=lt(((A=t[l])==null?void 0:A.annotations)??{},_c.ANNOTATIONS_OPTIONS_KEYS);Object.keys(m).length>0&&this.buildGraphFromObject(this.annotations,hs,m);const v=lt(((T=s==null?void 0:s.common)==null?void 0:T.annotations)??{},_c.ANNOTATIONS_OPTIONS_KEYS);Object.keys(v).length>0&&this.buildGraphFromObject(this.annotations,Bc,v);const y=vB(((L=t[l])==null?void 0:L.annotations)??{},_c.ANNOTATIONS_OPTIONS_KEYS);Object.keys(y).length>0&&this.buildGraphFromObject(this.root,hs,{annotations:y});const C=vB(((O=s==null?void 0:s.common)==null?void 0:O.annotations)??{},_c.ANNOTATIONS_OPTIONS_KEYS);Object.keys(C).length>0&&this.buildGraphFromObject(this.root,Bc,{annotations:C}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(t){const n=t.join(".");if(this.cachedPathVertices.has(n))return this.cachedPathVertices.get(n);const i=this.findVertexAlongEdge(this.root,t,fs);if(i)return this.cachedPathVertices.set(n,i),i}hasUserOption(t){return wM(this.userOptions,t)}hasThemeOverride(t){if(t[0]==="axes"&&t.length>1){const n=this.getResolvedPath(["axes",t[1],"type"]);if(wM(this.overrides,["common","axes",n,...t.slice(2)]))return!0;const i=this.getResolvedPath(["series","0","type"]);return wM(this.overrides,[i,"axes",n,...t.slice(2)])}if(t[0]==="series"&&t.length>1){const n=this.getResolvedPath(["series",t[1],"type"]);return wM(this.overrides,[n,"series",...t.slice(2)])}return wM(this.overrides,t)}getParamValue(t){if(this.resolvedParams[t]!=null)return this.resolvedParams[t];const n=this.findVertexAlongEdge(this.params,[t],fs);if(!n)return;const i=this.findNeighbour(n,hs);if(!i)return;const r=this.resolveVertexValue(n,i);return this.resolvedParams[t]=r,r}getPathArray(t){return this.findNeighbourValue(t,Oc)??[]}getResolvedPath(t){return zc(this.resolved,t)}resolveVertexValue(t,n){this.resolveVertexDependencies(n);const i=this.findNeighbourValue(n,CM);if(i&&SM(i)){const s=this.neighboursWithEdgeValue(n,bM),o=_M[i],a=typeof o=="function"?o:o.resolve,l=a==null?void 0:a(this,t,s??[]);return l===Rg?void 0:l}let r=this.getVertexValue(n);if(Array.isArray(r)){const s={};this.resolveVertexChildren(n,s),r=zc(s,this.getPathArray(t))}return this.resolveValueOrSymbol(r)}resolveValue$1(t){return zc(this.value$1,t)}graftConfig(t,n,i){const r=zc(this.config,n),s=this.findNeighbour(t,Oc);if(zn(r)&&this.buildGraphFromObject(t,hs,r,s,void 0,i),this.overrides){const o=zc(this.overrides,n);zn(o)&&this.buildGraphFromObject(t,Bc,o,s,void 0,i);const a=zc(this.overrides,["common",...n.slice(1)]);zn(a)&&this.buildGraphFromObject(t,Bc,a,s,void 0,i)}this.buildDependencyGraph()}graftObject(t,n,i){const r=this.findNeighbour(t,Oc);if(this.buildGraphFromObject(t,hs,n,r),this.overrides&&i)for(const s of i){if(s==null)continue;const o=zc(this.overrides,s);o&&this.buildGraphFromObject(t,Bc,o,r)}this.buildDependencyGraph()}graftValue(t,n,i,r){const s=[...this.getPathArray(t),n];r2(this.value$1,s,r);const o=this.findVertexAtPath(s)??this.addVertex(n);this.buildGraphFromValue(t,o,hs,s,i),this.buildDependencyGraph()}graftAndResolveOrphan(t,n){const i={},r=this.addVertex(i),s=this.getPathArray(t);return this.graftAndResolveChildren(n,r,s,[]),this.resolveVertex(r,i),zc(i,s)}buildGraphFromObject(t,n,i,r,s=_c.SHALLOW_KEYS,o){const a=Object.keys(i),l=_b(i,a);if(l){const m=this.addVertex(i);this.addEdge(t,m,n),this.buildGraphFromOperation(m,n,l,r);return}if(a.length===0){this.addEdge(t,this.addVertex(Array.isArray(i)?[]:{}),n),this.buildGraphAutoEnable(t,n,i,void 0);return}const c=this.getVertexChildrenByKey(t),u=r?this.getVertexValue(r):[];let d;const h=[...u],p=u.length;for(const m of a){if(o!=null&&o.has(m))continue;const v=(c==null?void 0:c.get(m))??this.addVertex(m);h[p]=m,s!=null&&s.has(m)?this.buildShallowGraphFromValue(t,v,n,h,i[m]):this.buildGraphFromValue(t,v,n,h,i[m],s),m==="enabled"&&(d=v)}this.buildGraphAutoEnable(t,n,i,d)}buildGraphAutoEnable(t,n,i,r){if(n===hs&&!r||n===Cb&&r||n!==hs&&n!==Cb&&n!==Bc)return;let s=this.findNeighbour(t,i2);s||(s=this.addVertex(i2),this.addEdge(t,s,i2)),r&&this.addEdge(r,s,yW);const{enabled:o,_enabledFromTheme:a}=i;this.addEdge(s,this.addVertex({enabled:o,_enabledFromTheme:a,keys:Object.keys(i).length}),n)}getVertexChildrenByKey(t){const n=this.neighboursWithEdgeValue(t,fs);if(!n)return;const i=new Map;for(const r of n)i.set(this.getVertexValue(r),r);return i}buildGraphFromValue(t,n,i,r,s,o){this.addEdge(t,n,fs);let a=this.findNeighbour(n,Oc);a||(a=this.addVertex([...r]),this.addEdge(n,a,Oc));const l=_b(s);if(l){const c=this.addVertex(s);this.addEdge(n,c,i),this.addEdge(c,a,Oc),this.buildGraphFromOperation(c,i,l,a)}else if(fN(s))this.buildGraphFromObject(n,i,s,a,o);else{const c=this.addVertex(s);this.addEdge(n,c,i)}}buildShallowGraphFromValue(t,n,i,r,s){this.addEdge(t,n,fs);let o=this.findNeighbour(n,Oc);o||(o=this.addVertex([...r]),this.addEdge(n,o,Oc));const a=this.addVertex(s);this.addEdge(n,a,i)}buildGraphFromOperation(t,n,i,r){const s=this.addVertex(i.operation);this.addEdge(t,s,CM);for(const o of i.values)this.buildGraphFromOperationValue(t,o,n,r)}buildGraphFromOperationValue(t,n,i,r=this.EMPTY_PATH_ARRAY_VERTEX){const s=this.addVertex(n);this.addEdge(t,r,Oc),this.addEdge(t,s,bM);const o=_b(n);o?this.buildGraphFromOperation(s,i,o,r):fN(n)&&this.buildGraphFromObject(s,i,n,r)}buildDependencyGraph(){for(let t=0;t<this.pendingProcessingEdgesFrom.length;t++){const n=this.pendingProcessingEdgesFrom[t],i=this.pendingProcessingEdgesTo[t],r=this.getVertexValue(i);if(!SM(r))continue;const s=this.neighboursWithEdgeValue(n,bM),o=_M[r],a=typeof o=="function"?void 0:o.dependencies;a==null||a(this,n,s??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(t,n=this.resolved){const i=this.getPathArray(t);this.resolveVertexInEdgePriority(t,n,i),this.resolveVertexAutoEnable(t,n,i),this.resolveVertexChildren(t,n)}resolveVertexInEdgePriority(t,n,i){const r=this.neighboursWithEdgeValue(t,fs),[s]=_c.EDGE_PRIORITY;for(const o of _c.EDGE_PRIORITY){const a=this.findNeighbour(t,o);if(a==null)continue;const l=this.resolveVertexValueInternal(t,a);if(!(l==null&&o!==s)&&!(r&&r.length>0&&Array.isArray(l)&&o!==s)){if(i.length===0){if(l==null)continue;this.resolved=l}else r2(n,i,l);break}}}resolveVertexValueInternal(t,n){this.resolveVertexDependencies(n);const i=this.findNeighbourValue(n,CM);if(i&&SM(i)){const r=this.neighboursWithEdgeValue(n,bM),s=_M[i],o=typeof s=="function"?s:s.resolve,a=o==null?void 0:o(this,t,r??[]);return a===Rg?void 0:a}return this.resolveValueOrSymbol(this.getVertexValue(n))}resolveVertexAutoEnable(t,n,i){var l;const r=(l=this.neighboursWithEdgeValue(t,yW))==null?void 0:l[0];if(!r)return;const s=this.findNeighbourValue(r,hs),o=this.findNeighbourValue(r,Bc),a=this.findNeighbourValue(r,Cb);a&&a.enabled==null&&!(s!=null&&s._enabledFromTheme)&&!(o!=null&&o._enabledFromTheme)&&r2(n,i,!0)}resolveVertexChildren(t,n){const i=this.neighboursWithEdgeValue(t,fs);if(i)for(const r of i){const s=this.getVertexValue(r);i.length>1&&SM(s)||s!=="_enabledFromTheme"&&this.resolveVertex(r,n)}}resolveVertexDependencies(t){const n=this.neighboursWithEdgeValue(t,gH);if(n)for(const i of n)this.resolveVertex(i)}graftAndResolveChildren(t,n,i,r){const s=this.neighboursWithEdgeValue(t,fs);if(s)for(const o of s){const a=this.getVertexValue(o),l=[...i,a],c=[...r,a],u=this.addVertex(a),d=this.findNeighbourValue(o,hs);this.addEdge(n,u,fs);const h=this.addVertex(l);if(this.addEdge(u,h,Oc),zn(d)){this.buildGraphFromObject(u,hs,d,h);const p=this.findNeighbour(u,hs);this.addEdge(p,this.addVertex(l),Oc);const m=this.findNeighbourValue(p,CM);if(SM(m)){const v=this.neighboursWithEdgeValue(p,bM),y=_M[m],C=typeof y=="function"?void 0:y.dependencies;C==null||C(this,p,v??[])}}this.graftAndResolveChildren(o,u,l,c)}}resolveValueOrSymbol(t){var n;return typeof t=="symbol"&&((n=this.internalParams)!=null&&n.has(t))?this.internalParams.get(t):t}};h1.EDGE_PRIORITY=[Cb,Bc,hs];h1.SHALLOW_KEYS=new Set(["context","data","topology"]);h1.COMPLEX_KEYS=["annotations","axes","series"];h1.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"];var OX=h1,wW=e=>`'${e}'`,t0=class As{constructor(t,n,i,r,s,o,a=!1,l){this.themeParameters={},this.optionMetadata=s??{},this.processedOverrides=i??{};let c=null;t instanceof As?(c=t,this.specialOverrides=c.specialOverrides,o===void 0&&(o=hf(c.userOptions,n,As.JSON_DIFF_OPTS)),this.userOptions=tr(IE(o,c.userOptions),{...As.OPTIONS_CLONE_OPTS_SLOW,seen:[]})):(this.userOptions=tr(t??n,{...As.OPTIONS_CLONE_OPTS_SLOW,seen:[]}),this.specialOverrides=this.specialOverridesDefaults({...r})),a&&this.removeLeftoverSymbols(this.userOptions);let u,d,h,p,m,v;if(!a&&o!==void 0&&As.isFastPathDelta(o)&&c!=null?({activeTheme:u,processedOptions:d,fastDelta:h}=this.fastSetup(o,c),p=c.themeParameters,m=c.annotationThemes):(As.perfDebug("ChartOptions.slowSetup()"),{activeTheme:u,processedOptions:d,themeParameters:p,annotationThemes:m,googleFonts:v}=this.slowSetup(i,o,a)),this.activeTheme=u,this.processedOptions=d,this.fastDelta=h??void 0,this.themeParameters=p,this.annotationThemes=m,this.googleFonts=v,l!==void 0&&typeof l=="number"&&!isNaN(l)){const y=performance.now();this.optionsProcessingTime=y-l}on.inDevelopmentMode(()=>Uh(this))}static isFastPathDelta(t){for(const n of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(n))return As.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",n),!1;return As.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,n){const{activeTheme:i,processedOptions:r}=n,{presetType:s}=this.optionMetadata;if(s!=null&&(t==null?void 0:t.data)!=null){const a=ea.getPresetModule(s);if(a!=null&&a.processData){const{series:l,data:c}=a.processData(t.data);t=Gn({series:l,data:c},t)}}this.fastSeriesSetup(t,r);const o=Gn(t,r);return As.debug("ChartOptions.fastSetup() - processed options",o),{activeTheme:i,processedOptions:o,fastDelta:t}}fastSeriesSetup(t,n){var i;t!=null&&t.series&&((i=t.series)!=null&&i.every((r,s)=>{var o;return rK(r,((o=n.series)==null?void 0:o[s])??{})})?delete t.series:t.series=t.series.map((r,s)=>{var o;return IE(r,((o=n.series)==null?void 0:o[s])??{})}))}slowSetup(t,n,i=!1){let r=tr(this.userOptions,As.OPTIONS_CLONE_OPTS_FAST);n&&(r=Gn(n,r),i&&this.removeLeftoverSymbols(r));const{presetType:s}=this.optionMetadata;if(s!=null){const p=ea.getPresetModule(s);if(p){const{validate:m=To}=p,v=r,y=r.type,C=y!=null?zN(r.theme).presets[y]:void 0,{cleared:S,invalid:x}=m(v,p.options,"");x.forEach(R=>Je.warn(R)),Nb(x,"")?r={}:(As.debug(">>> AgCharts.createOrUpdate() - applying preset",S),r=p.create(S,C,()=>this.activeTheme))}}this.soloSeriesIntegrity(r),ka.isEnterprise||cW(r);const o=zN(r.theme);if(s!=null&&o.templateTheme(r,!1),this.validateSeriesOptions(r),this.chartDef=ea.detectChartDefinition(r),!this.chartDef.placeholder){const{validate:p=To}=this.chartDef,{cleared:m,invalid:v}=p(r,this.chartDef.options,"");v.forEach(y=>Je.warn(y)),r=m}this.validateAxesOptions(r),this.removeDisabledOptions(r);let a=this.processFonts(o.params);a=this.processFonts(r,a),this.processSeriesOptions(r);const l=qTe(o,r),c=l.resolve(),u=l.resolveParams(),d=l.resolveAnnotationThemes();l.clear();const h=Gn(t,c);return _1e(h),ka.isEnterprise||cW(h,!0),this.validateSeriesOptions(h),this.validateAxesOptions(h),this.validatePluginOptions(h),this.processMiniChartSeriesOptions(h),h.loadGoogleFonts||a.clear(),As.debug(()=>["ChartOptions.slowSetup() - processed options",tr(h)]),{activeTheme:o,processedOptions:h,themeParameters:u,annotationThemes:d,googleFonts:a}}validatePluginOptions(t){var n;for(const i of ea.listModulesByType(oI.Plugin)){const r=i.name;if(r in t&&(!i.chartType||i.chartType===((n=this.chartDef)==null?void 0:n.name))){const{cleared:s,invalid:o}=To(t[r],i.options,i.name);o.forEach(a=>Je.warn(a)),t[r]=s}}}validateSeriesOptions(t){var o,a;const n=(o=this.chartDef)==null?void 0:o.name,i=[],r=((a=t.series)==null?void 0:a.length)??0;let s;for(let l=0;l<r;l++){const c=`series[${l}]`,u=t.series[l],d=ea.getSeriesModule(u.type);if(d==null){s??(s=EE(Array.from(ea.listModulesByType(oI.Series)).filter(v=>!n||v.chartType===n).map(v=>v.name),"or",wW)),Je.warn(u.type==null?`Option \`${c}.type\` is required and has not been provided; expecting ${s}, ignoring.`:`Unknown type \`${u.type}\` at \`${c}.type\`; expecting ${s}, ignoring.`);continue}else if(n&&d.chartType!==n){Je.warn(`Series type \`${d.name}\` at \`${c}.type\` is not supported by chart type \`${n}\`, ignoring.`);continue}const{validate:h=To}=d,{cleared:p,invalid:m}=h(u,d.options,c);m.forEach(v=>Je.warn(v)),Nb(m,c)||i.push(p)}t.series=i}validateAxesOptions(t){var o;if(!("axes"in t)||!t.axes)return;const n=(o=this.chartDef)==null?void 0:o.name,i=[],r=t.axes.length??0;let s;for(let a=0;a<r;a++){const l=`axes[${a}]`,c=t.axes[a],u=ea.getAxisModule(c.type);if(u==null){s??(s=EE(Array.from(ea.listModulesByType(oI.Axis)).filter(m=>m.chartType===n).map(m=>m.name),"or",wW)),Je.warn(`Unknown type \`${c.type}\` at  \`${l}.type\`; expecting one of ${s}, ignoring all axes options.`),delete t.axes;break}else if(u.chartType!==n){Je.warn(`Axis type \`${u.name}\` at  \`${l}.type\` is not supported by chart type \`${n}\`, ignoring.`);break}const{validate:d=To}=u,{cleared:h,invalid:p}=d(c,u.options,l);p.forEach(m=>Je.warn(m)),Nb(p,l)||i.push(h)}t.axes=i}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??hf(t.processedOptions,this.processedOptions,As.JSON_DIFF_OPTS)}optionsType(t){var n,i;return((i=(n=t.series)==null?void 0:n[0])==null?void 0:i.type)??"line"}processSeriesOptions(t){var i;const n=(i=t.series)==null?void 0:i.map(r=>{r.type??(r.type="line");const s=ea.getSeriesModule(r.type),o=!!(s!=null&&s.options.visible);return Gn(this.getSeriesGroupingOptions(r),r,o&&{visible:!0})});t.series=this.setSeriesGroupingOptions(n??[])}processMiniChartSeriesOptions(t){var i,r;const n=(r=(i=t.navigator)==null?void 0:i.miniChart)==null?void 0:r.series;n!=null&&(t.navigator.miniChart.series=this.setSeriesGroupingOptions(n))}getSeriesGroupingOptions(t){const n=Wc.isGroupable(t.type),i=Wc.isStackable(t.type),r=Wc.isStackedByDefault(t.type);t.grouped&&!n&&Je.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!i&&Je.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:s,stacked:o}=t;return o??(o=(r||t.stackGroup!=null)&&!(n&&s)),s??(s=!0),{stacked:i&&o,grouped:n&&s&&!(i&&o)}}setSeriesGroupingOptions(t){const n=this.getSeriesGrouping(t);As.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",n);const i={},r=n.reduce((s,o)=>{var a;return o.groupType==="default"||(s[a=o.seriesType]??(s[a]=0),s[o.seriesType]+=o.groupType==="stack"?1:o.series.length),s},{});return n.flatMap(s=>{var o;switch(i[o=s.seriesType]??(i[o]=0),s.groupType){case"stack":{const a=i[s.seriesType]++;return s.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:s.groupId,groupIndex:a,groupCount:r[s.seriesType],stackIndex:c,stackCount:s.series.length}}))}case"group":return s.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:s.groupId,groupIndex:i[s.seriesType]++,groupCount:r[s.seriesType],stackIndex:0,stackCount:0}}))}return s.series}).map(({stacked:s,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const n=new Map;return t.reduce((i,r)=>{const s=r.type;if(!r.stacked&&!r.grouped)i.push({groupType:"default",seriesType:s,series:[r],groupId:"__default__"});else{const o=this.getSeriesGroupId(r);if(!n.has(o)){const l={groupType:r.stacked?"stack":"group",seriesType:s,series:[],groupId:o};n.set(o,l),i.push(l)}n.get(o).series.push(r)}return i},[])}soloSeriesIntegrity(t){if(!Tn(t.series))return;const n=t.series;if(n&&n.length>1&&n.some(i=>Wc.isSolo(i.type))){const i=this.optionsType(t);if(Wc.isSolo(i))Je.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=n.slice(0,1);else{const{solo:r,nonSolo:s}=Y4(n,a=>Wc.isSolo(a.type)?"solo":"nonSolo"),o=kSe(r.map(a=>a.type)).join(", ");Je.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=s}}}static processFontOptions(t,n,i,r=new Set){if(typeof t=="object"&&"fontFamily"in t)if(Array.isArray(t.fontFamily)){const s=[];for(const o of t.fontFamily)typeof o=="object"&&"googleFont"in o?(s.push(o.googleFont),r==null||r.add(o.googleFont)):s.push(o);t.fontFamily=s.join(", ")}else typeof t.fontFamily=="object"&&"googleFont"in t.fontFamily&&(t.fontFamily=t.fontFamily.googleFont,r==null||r.add(t.fontFamily));return r}processFonts(t,n=new Set){return dg(t,As.processFontOptions,new Set(["data","theme"]),void 0,void 0,n)}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})}removeDisabledOptions(t){dg(t,As.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!rr(t)))for(const n of Object.keys(t)){const i=t[n];aI(i)&&delete t[n]}}removeLeftoverSymbols(t){dg(t,As.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=si():dSe(t.window),t.document==null?t.document=Od():uSe(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};t0.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};t0.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};t0.JSON_DIFF_OPTS=new Set(["data"]);t0.perfDebug=on.create(!0,"perf");t0.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);t0.debug=on.create(!0,"opts");var sE=t0,SW=on.create(!0,"opts"),xv="AG Charts - Chart was destroyed, cannot perform request.",oE=class{constructor(t,n,i){this.factoryApi=n,this.licenseManager=i,this.chart=t}async update(t){if(!this.chart)throw new Error(xv);return SW.group("AgChartInstance.update()",async()=>{var i;const n=on.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(t,this,void 0,n),await((i=this.chart)==null?void 0:i.waitForUpdate())})}async updateDelta(t){if(!this.chart)throw new Error(xv);return SW.group("AgChartInstance.updateDelta()",async()=>{var i;const n=on.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,t,n),await((i=this.chart)==null?void 0:i.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(xv);const t=tr(this.chart.getOptions(),sE.OPTIONS_CLONE_OPTS_FAST);for(const n of Object.keys(t))n.startsWith("_")&&delete t[n];return t}waitForUpdate(){if(!this.chart)throw new Error(xv);return this.chart.waitForUpdate()}async download(t){var i;if(!this.chart)throw new Error(xv);const n=await this.prepareResizedChart(this,this.chart,t);try{(i=n.chart)==null||i.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{n.destroy()}}async __toSVG(t){var i;if(!this.chart)throw new Error(xv);const n=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return(i=n==null?void 0:n.chart)==null?void 0:i.toSVG()}finally{n==null||n.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(xv);const n=await this.prepareResizedChart(this,this.chart,t);try{return n.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{n.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:n}=this;if(!n)return;const i=this.getEnabledOriginators();if(!i.includes(n.ctx.legendManager)){await this.setStateOriginators(t,i);return}await this.setStateOriginators(t,i.filter(r=>r!==n.ctx.zoomManager)),await this.setStateOriginators(t,[n.ctx.zoomManager])}resetAnimations(){var t;(t=this.chart)==null||t.resetAnimations()}skipAnimations(){var t;(t=this.chart)==null||t.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,n,i={}){var v,y,C,S,x,R,A;const r=i.width??n.width??n.ctx.scene.canvas.width,s=i.height??n.height??n.ctx.scene.canvas.height,o=t.getState(),a=Ed.hasEnterpriseModules(),l={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:r,height:s};i.width!=null&&i.height!=null&&(l.overrideDevicePixelRatio=1);const c=n.getOptions();a&&(l.animation={enabled:!1},(v=this.licenseManager)!=null&&v.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const u={...n.chartOptions.specialOverrides},d={...n.chartOptions.optionMetadata},h=await((y=this.chart)==null?void 0:y.ctx.dataService.getData()),p=this.factoryApi.create(c,l,u,d,h);await p.setState(o),(C=p.chart)==null||C.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),(S=p.chart)==null||S.ctx.legendManager.clearData(),(x=p.chart)==null||x.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((T,L)=>{p.chart.series[L].visible=T.visible});const m=[];for(const T of n.modulesManager.legends())m.push(((R=T.legend.pagination)==null?void 0:R.currentPage)??0);for(const T of p.chart.modulesManager.legends()){const L=m.shift()??0;T.legend.pagination&&T.legend.pagination.setPage(L)}return(A=p.chart)==null||A.update(0,{forceNodeDataRefresh:!0}),await p.waitForUpdate(),p}getEnabledOriginators(){var c,u,d;if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:n},ctx:{annotationManager:i,chartTypeOriginator:r,zoomManager:s,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((c=t.annotations)!=null&&c.enabled)&&a.push(i),n.presetType==="price-volume"&&a.push(r),((u=t.navigator)!=null&&u.enabled||(d=t.zoom)!=null&&d.enabled)&&a.push(s),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,n){var i,r;this.factoryApi.caretaker.restore(t,...n),(i=this.chart)==null||i.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await((r=this.chart)==null?void 0:r.waitForUpdate())}};oE.chartInstances=new WeakMap;P([Po({oldValue(e){e.destroyed||(e.publicApi=void 0),oE.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,oE.chartInstances.set(e,this))}})],oE.prototype,"chart",2);var xW=oE,vH=class extends OL{constructor(e){super(),this.ctx=e,this.localeText=void 0}};P([Pg(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),z],vH.prototype,"localeText",2);P([Pg(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),z],vH.prototype,"getLocaleText",2);var XTe={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new vH(e)},Kw=class extends OL{constructor(e){super(),this.ctx=e,this.rectNode=new os,this.textNode=new cl,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new nn({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};P([z,Dr("node","visible")],Kw.prototype,"visible",2);P([z,Dr("rectNode","fill")],Kw.prototype,"fill",2);P([z],Kw.prototype,"image",2);P([z,Dr("textNode")],Kw.prototype,"text",2);var PX={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Kw(e)},n0=class extends Wt{constructor(e){super(),this.node=e,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};P([Po({changeValue(e){e?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),z],n0.prototype,"enabled",2);P([Dr("node","stroke"),z],n0.prototype,"stroke",2);P([Dr("node","strokeOpacity"),z],n0.prototype,"strokeOpacity",2);P([Po({changeValue(e){this.enabled?this.node.strokeWidth=e:this.node.strokeWidth=0}}),z],n0.prototype,"strokeWidth",2);function QTe({orientation:e,bboxes:t,maxHeight:n,maxWidth:i,itemPaddingY:r=0,itemPaddingX:s=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?i:n,fn:a?h=>h.width:h=>h.height,padding:a?s:r},c={max:a?n:i,fn:a?h=>h.height:h=>h.width,padding:a?r:s};let u=0;const d=[];for(;u<t.length;){const h=t.slice(u),p=JTe(h,u,l,c,o);if(!p)return;u+=p.processedBBoxCount,d.push(p.pageIndices)}return tDe(d,e,t,r,s)}function JTe(e,t,n,i,r){let o=iDe(e,n);if(o<1){if(!r)return;o=1}let a=o;for(;a>=1;){const l=eDe(e,t,a,n,i,r);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function eDe(e,t,n,i,r,s){const o=[];let a=0,l=0,c=[];const u=[];for(let d=0;d<e.length;d++){const h=(d+n)%n;h===0&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);const p=i.fn(e[d])+i.padding;u[h]=Math.max(u[h]??0,p),l=Math.max(l,r.fn(e[d])+r.padding);const m=a+l,v=!s||o.length>0;if(m>r.max&&v){c=[];break}if(u.reduce((C,S)=>C+S,0)>i.max&&!s)return u.length<n?u.length:void 0;c.push(d+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}function tDe(e,t,n,i,r){let s=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=nDe(l));let c=0;const u=l.map(p=>{const m=p.map(C=>(c=Math.max(C,c),n[C]));let v=0,y=0;return m.forEach(C=>{v+=C.height+i,y=Math.max(y,C.width+r)}),{indices:p,bboxes:m,columnHeight:Math.ceil(v),columnWidth:Math.ceil(y)}});let d=0,h=0;return u.forEach(p=>{d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),s=Math.max(d,s),o=Math.max(h,o),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:s,maxPageHeight:o}}function nDe(e){const t=[];for(const n of e[0])t.push([]);return e.forEach((n,i)=>{n.forEach((r,s)=>{t[s][i]=r})}),t}function iDe(e,t){const n=e.length;let i=0;for(let r=0;r<n;r++)if(i+=t.fn(e[r])+t.padding,i>t.max)return n/r<2?Math.ceil(n/2):r;return n}var qw=class extends Wt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};P([z],qw.prototype,"color",2);P([z],qw.prototype,"fontStyle",2);P([z],qw.prototype,"fontWeight",2);P([z],qw.prototype,"fontSize",2);P([z],qw.prototype,"fontFamily",2);var nf=class extends Wt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};P([z],nf.prototype,"size",2);P([z],nf.prototype,"fill",2);P([z],nf.prototype,"fillOpacity",2);P([z],nf.prototype,"stroke",2);P([z],nf.prototype,"strokeWidth",2);P([z],nf.prototype,"strokeOpacity",2);var Pk=class extends Wt{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};P([Po({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Pk.prototype,"shape",2);P([z],Pk.prototype,"size",2);P([z],Pk.prototype,"padding",2);var i0=class extends Wt{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=cu(this),this.marker=new Pk(this),this.activeStyle=new nf,this.inactiveStyle=new nf,this.highlightStyle=new nf,this.label=new qw,this.group=new Io({name:"pagination"}),this.labelNode=new cl,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new ss,this.previousButton=new ss,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:n,label:{color:i,fontStyle:r,fontWeight:s,fontSize:o,fontFamily:a}}=this;n.text=`${e+1} / ${t}`,n.fill=i,n.fontStyle=r,n.fontWeight=s,n.fontSize=o,n.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:i,activeStyle:r,inactiveStyle:s,highlightStyle:o,highlightActive:a}=this,l=(c,u)=>u?s:c===a?o:r;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",i))}updateMarker(e,t){const{shape:n,size:i}=this.marker;e.shape=n,e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,n=t===0,i=e===t-1,r=e===0;this.nextButtonDisabled=i||n,this.previousButtonDisabled=r||n}setPage(e){e=Gt(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=mr.toCanvas(this.previousButton),t=mr.toCanvas(this.nextButton);return{prev:e,next:t}}};i0.className="Pagination";P([z],i0.prototype,"marker",2);P([z],i0.prototype,"activeStyle",2);P([z],i0.prototype,"inactiveStyle",2);P([z],i0.prototype,"highlightStyle",2);P([z],i0.prototype,"label",2);var rDe=class{constructor(e,t){this.dirty=!0,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=an("p"),this.itemDescription.style.display="none",this.itemDescription.id=bN(),this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:n,datumReader:i,itemListener:r}=e,s=t.localeManager,o=n.length;n.each((a,l,c)=>{var d;(d=a.proxyButton)==null||d.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(s,i.getItemLabel(l),c,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const u=a.proxyButton;u.addListener("click",h=>r.onClick(h.sourceEvent,a.datum,u)),u.addListener("dblclick",h=>r.onDoubleClick(h.sourceEvent,a.datum)),u.addListener("mouseenter",h=>r.onHover(h.sourceEvent,a)),u.addListener("mouseleave",()=>r.onLeave()),u.addListener("contextmenu",h=>r.onContextClick(h,a)),u.addListener("blur",()=>r.onLeave()),u.addListener("focus",h=>r.onHover(h.sourceEvent,a)),u.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:n,interactive:i}){const r=mr.toCanvas(t);this.itemList.setBounds(r);const s=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const l=o.pageIndex===n.currentPage,{x:c,y:u,height:d,width:h}=mr.toCanvas(o),p=(s-d)/2,m={x:c-r.x,y:u-p-r.y,height:s,width:h},v=i&&l;o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(v),o.proxyButton.setPointerEvents(v?void 0:"none"),o.proxyButton.setBounds(m)}})}updatePaginationProxyButtons(e,t){var i,r;const{pagination:n}=e;if(this.paginationGroup.setHidden(!n.visible),t&&"ctx"in e){const{ctx:s,oldPages:o,newPages:a}=e,l=((o==null?void 0:o.length)??a.length)>1,c=a.length>1;l!==c&&(c?(this.prevButton=s.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",u=>this.onPageButton(e,u,"previous")),this.prevButton.addListener("mouseenter",()=>n.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>n.onMouseHover(void 0)),this.nextButton??(this.nextButton=s.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",u=>this.onPageButton(e,u,"next")),this.nextButton.addListener("mouseenter",()=>n.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>n.onMouseHover(void 0))):((i=this.nextButton)==null||i.destroy(),(r=this.prevButton)==null||r.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(c?void 0:!0)}if(this.prevButton&&this.nextButton){const{prev:s,next:o}=n.computeCSSBounds(),a=ut.merge([s,o]);s.x-=a.x,s.y-=a.y,o.x-=a.x,o.y-=a.y,this.paginationGroup.setBounds(a),this.prevButton.setBounds(s),this.nextButton.setBounds(o),this.prevButton.setEnabled(n.currentPage!==0),this.nextButton.setEnabled(n.currentPage!==n.totalPages-1),this.nextButton.setCursor(n.getCursor("next")),this.prevButton.setCursor(n.getCursor("previous"))}}onPageButton(e,t,n){e.pagination.onClick(t.sourceEvent,n),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((n,i,r)=>{const[s,o]=[t[i],e[i]];return s.id!==o.id})}onLocaleChanged(e,t,n){const i=t.length;t.each(({proxyButton:r},s,o)=>{const a=r==null?void 0:r.getElement();if(a!=null){const l=n.getItemLabel(s);a.textContent=this.getItemAriaText(e,l,o,i)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,n,i){return n>=0&&t?(n++,e.t("ariaLabelLegendItem",{label:t,index:n,count:i})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function MW(e,{itemId:t,seriesId:n,label:{text:i}},r){const s={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:n,text:i,event:r,preventDefault:()=>s.defaultPrevented=!0}};return s}var cc=class extends Io{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new nn({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new cl),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new ss({zIndex:1})),this.line=this.symbolsGroup.appendChild(new fl({zIndex:0}));const{label:e,line:t,symbolsGroup:n}=this;t.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),ut.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:n,isCustomMarker:i}=this;let r=0,s=0;if(e.visible){const{size:o}=e,a=ss.anchor(e.shape);r=(a.x-.5)*o+n/2,s=(a.y-.5)*o,i?(e.x=0,e.y=0,e.translationX=r,e.translationY=s):(e.x=r,e.y=s,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=n,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};cc.className="MarkerLabel";P([Dr("label")],cc.prototype,"text",2);P([Dr("label")],cc.prototype,"fontStyle",2);P([Dr("label")],cc.prototype,"fontWeight",2);P([Dr("label")],cc.prototype,"fontSize",2);P([Dr("label")],cc.prototype,"fontFamily",2);P([Dr("label","fill")],cc.prototype,"color",2);P([Pg(e=>e.layoutLabel())],cc.prototype,"spacing",2);P([Pg(e=>e.layoutLabel())],cc.prototype,"length",2);P([Xe()],cc.prototype,"isCustomMarker",2);function bI(e){const{placement:t="bottom",floating:n=!1,xOffset:i=0,yOffset:r=0}=typeof e=="string"?{placement:e,floating:!1}:e;return{placement:t,floating:n,xOffset:i,yOffset:r}}var Vg=class extends Wt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};P([z],Vg.prototype,"maxLength",2);P([z],Vg.prototype,"color",2);P([z],Vg.prototype,"fontStyle",2);P([z],Vg.prototype,"fontWeight",2);P([z],Vg.prototype,"fontSize",2);P([z],Vg.prototype,"fontFamily",2);P([z],Vg.prototype,"formatter",2);var Zw=class extends Wt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};P([z],Zw.prototype,"shape",2);P([z],Zw.prototype,"size",2);P([z],Zw.prototype,"padding",2);P([z],Zw.prototype,"strokeWidth",2);P([z],Zw.prototype,"enabled",2);var yH=class extends Wt{};P([z],yH.prototype,"strokeWidth",2);P([z],yH.prototype,"length",2);var Ug=class extends Wt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Zw,this.label=new Vg,this.line=new yH}};P([z],Ug.prototype,"maxWidth",2);P([z],Ug.prototype,"paddingX",2);P([z],Ug.prototype,"paddingY",2);P([z],Ug.prototype,"showSeriesStroke",2);P([z],Ug.prototype,"marker",2);P([z],Ug.prototype,"label",2);P([z],Ug.prototype,"line",2);var CH=class extends Wt{};P([z],CH.prototype,"legendItemClick",2);P([z],CH.prototype,"legendItemDoubleClick",2);var EW={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},RW={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},AW={backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain"},Wr=class extends Wt{constructor(e){super(),this.ctx=e,this.id=cu(this),this.group=new Io({name:"legend",zIndex:16}),this.itemSelection=No.select(this.group,cc),this.containerNode=this.group.appendChild(new os({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Ug,this.listeners=new CH,this.enabled=!0,this.position="bottom",this.border=new n0(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new sr,this.size=[0,0],this._visible=!0,this.pagination=new i0(n=>e.updateService.update(n),n=>this.updatePageNumber(n)),this.pagination.attachPagination(this.group);const{items:t}=e.contextMenuRegistry.builtins;t["toggle-series-visibility"].action=n=>this.contextToggleVisibility(n),t["toggle-other-series"].action=n=>this.contextToggleOtherSeries(n),this.cleanup.register(e.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),e.layoutManager.registerElement(1,n=>this.positionLegend(n)),e.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete t["toggle-series-visibility"].action,()=>delete t["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new rDe(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){aa(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{formatter:t}=this.item.label;if(t){const n=e.datum;return this.cachedCallWithContext(t,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:n,paddingY:i,label:r,maxWidth:s,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,d=[...this.data];this.reverseOrder&&d.reverse(),this.itemSelection.update(d);const h=[],p=Fg.getMeasurer({font:r}),v=s??e*.8,{markerWidth:y,anyLineEnabled:C}=this.calculateMarkerWidth();if(this.itemSelection.each((H,W)=>{H.fontStyle=a,H.fontWeight=l,H.fontSize=c,H.fontFamily=u;const $=this.updateMarkerLabel(H,W,y,C),Z=W.itemId??W.id,oe=(this.getItemLabel(W)??"<unknown>").replace(/\r?\n/g," ");H.text=this.truncate(oe,o,v,$,p,Z),h.push(H.getTextMeasureBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};[e,t]=this.updateContainer(e,t);const S=this.size,x=this.oldSize;S[0]=e,S[1]=t,(S[0]!==x[0]||S[1]!==x[1])&&(x[0]=S[0],x[1]=S[1]);const{pages:R,maxPageHeight:A,maxPageWidth:T}=this.updatePagination(h,e,t),L=this.pages;this.pages=R,this.maxPageSize=[T-n,A-i];const O=this.pagination.currentPage,F=this.pages[O];return this.pages.length<1||!F?(this.visible=!1,{oldPages:L}):(this.visible=!0,this.updatePositions(O),this.update(),{oldPages:L})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:n}=this.item,i=!!n.enabled||!t||(e.marker.enabled??!0),r=!!(e.line&&t),s=this.isCustomMarker(i,e.marker.shape);return{markerEnabled:i,lineEnabled:r,isCustomMarker:s}}calcSymbolsLengths(e,t,n){const{marker:i,line:r}=this.item;let s;const{shape:o}=e.marker;if(this.isCustomMarker(t,o)){const c=new ss;c.shape=o,c.updatePath();const u=c.getBBox();s=Math.max(u.width,u.height)}const a=t?i.size:0,l=n?r.length??25:0;return{markerLength:a,lineLength:l,customMarkerSize:s}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((n,i)=>{const{symbol:r}=i,{lineEnabled:s,markerEnabled:o}=this.calcSymbolsEnabled(r),{markerLength:a,lineLength:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(r,o,s);e=Math.max(e,l,c,a),t||(t=s)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,n,i){const{marker:r,paddingX:s}=this.item,{symbol:o}=t;let a=s;const{markerEnabled:l,isCustomMarker:c}=this.calcSymbolsEnabled(o),u=r.padding;(l||i)&&(a+=u+n);const{marker:d,line:h}=e;return d.visible=l,d.visible&&(d.shape=r.shape??o.marker.shape??"square",d.size=r.size,ef(d,this.getMarkerStyles(o))),h.visible=i,h.visible&&ef(h,this.getLineStyles(o)),e.length=n,e.spacing=u,e.isCustomMarker=c,a}updateContainer(e,t){const n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,ef(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,e-=n.strokeWidth*2+n.padding.left+n.padding.right,t-=n.strokeWidth*2+n.padding.top+n.padding.bottom,[e,t]}truncate(e,t,n,i,r,s){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=IR.truncateLine(e,r,n-i,o);return a.endsWith(ui.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),a}updatePagination(e,t,n){const i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,n),u=s.findIndex(x=>x.endIndex>=r);this.pagination.currentPage=Gt(0,u,s.length-1);const{paddingX:d,paddingY:h}=this.item,p=8,m=a-d,v=o-h;let y=0,C=-l.y-this.item.marker.size/2;c?C+=v+p:(y+=-l.x+m+p,C+=(v-l.height)/2),this.pagination.translationX=y,this.pagination.translationY=C,this.pagination.update(),this.pagination.updateMarkers();let S=0;return this.itemSelection.each((x,R,A)=>{var T;A>(((T=s[S])==null?void 0:T.endIndex)??1/0)&&S++,x.pageIndex=S}),{maxPageHeight:o,maxPageWidth:a,pages:s}}calculatePagination(e,t,n){const{paddingX:i,paddingY:r}=this.item,s=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:o}=bI(this.position),a=this.getOrientation(),l=s.includes(o);let c=this.pagination.getBBox(),u=new ut(0,0,0,0),d=[],h=0,p=0,m=0;const v=C=>C.width===c.width&&C.height===c.height,y=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(m++>10){Je.warn("unable to find stable legend layout.");break}c=u;const C=t-(l?0:c.width),S=n-(l?c.height:0),x=QTe({orientation:a,bboxes:e,maxHeight:S,maxWidth:C,itemPaddingY:r,itemPaddingX:i,forceResult:y});d=(x==null?void 0:x.pages)??[],h=(x==null?void 0:x.maxPageWidth)??0,p=(x==null?void 0:x.maxPageHeight)??0;const R=d.length;if(this.pagination.visible=R>1,this.pagination.totalPages=R,this.pagination.update(),this.pagination.updateMarkers(),u=this.pagination.getBBox(),!this.pagination.visible)break}while(!v(u));return{maxPageWidth:h,maxPageHeight:p,pages:d,paginationBBox:u,paginationVertical:l}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:n,pages:i}=this;if(i.length<1||!i[e])return;const{columns:r,startIndex:s,endIndex:o}=i[e];let a=0,l=0;const c=r.length,u=r[0].indices.length,d=this.getOrientation()==="horizontal",h=r[0].bboxes[0].height+t,p=[];n.each((m,v,y)=>{if(y<s||y>o){m.visible=!1;return}const C=y-s;let S,x;d?(S=C%c,x=Math.floor(C/c)):(S=Math.floor(C/u),x=C%u),m.visible=!0;const R=r[S];R&&(l=Math.floor(h*x),a=Math.floor(p[x]??0),p[x]=(p[x]??0)+R.columnWidth,m.translationX=a,m.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:n,pagination:i,pages:r,toggleSeries:s}=this,{startIndex:o,endIndex:a}=r[e];o===0?this.paginationTrackingIndex=0:e===r.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:n,pagination:i,interactive:s}),this.ctx.updateService.update(7)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{t.setEnabled(n.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(e){const{stroke:t,strokeOpacity:n=1,strokeWidth:i,lineDash:r}=e.line??{},s=Math.min(2,i??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??s,lineDash:r}}getMarkerStyles({marker:e}){const{fill:t,stroke:n,strokeOpacity:i=1,fillOpacity:r=1,strokeWidth:s,lineDash:o,lineDashOffset:a}=e,l=Math.min(2,s??1);return Sg(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),Sy(t)&&(t.fit="contain",t.width=void 0,t.height=void 0,t.repeat="no-repeat"),Ad({fill:t,stroke:n,strokeOpacity:i,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:a},EW,RW,AW)}getContainerStyles(){const{stroke:e,strokeOpacity:t,strokeWidth:n}=this.border,{cornerRadius:i,fill:r,fillOpacity:s,padding:o}=this,a=typeof o=="number";return Ad({cornerRadius:i,fill:r,fillOpacity:s,padding:{top:a?o:o.top??0,right:a?o:o.right??0,bottom:a?o:o.bottom??0,left:a?o:o.left??0},stroke:e,strokeOpacity:t,strokeWidth:this.border.enabled?n:0},EW,RW,AW)}computePagedBBox(){const e=nn.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){const[i,r]=this.maxPageSize;e.height=Math.max(r,e.height),e.width=Math.max(i,e.width)}const{strokeWidth:t,padding:n}=this.getContainerStyles();return e.grow(n).grow(t),e}findNode(e){const{datum:t,proxyButton:n}=this.itemSelection.select(i=>{var r;return((r=i.datum)==null?void 0:r.itemId)===e.itemId})[0]??{};if(t===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(n)} }`);return{datum:t,proxyButton:n}}contextToggleVisibility(e){const{datum:t,proxyButton:n}=this.findNode(e);this.doClick(e.event,t,n)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var c,u,d;const{sourceEvent:n}=e,i=t.datum;this.preventHidingAll&&((c=this.contextMenuDatum)!=null&&c.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;const r=this.ctx.chartService.series.length>1&&((d=(u=this.ctx.chartService.series[0])==null?void 0:u.getLegendData("category")[0])==null?void 0:d.hideToggleOtherSeries)!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",r);const{offsetX:s,offsetY:o}=n,{x:a,y:l}=mr.toCanvasPoint(t,s,o);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:e,canvasX:a,canvasY:l},{legendItem:i})}onClick(e,t,n){this.doClick(e,t,n)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,n){const{listeners:{legendItemClick:i},ctx:{chartService:r,highlightManager:s},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:l,seriesId:c,itemId:u,enabled:d,legendItemName:h}=t,p=r.series.find(y=>y.id===c);if(!p)return!1;let m=d;const v=MW("click",t,e);return i&&nu([p.properties,this.ctx.chartService],i,v.apiEvent),v.defaultPrevented||(a&&(m=!d,o&&!m&&this.getVisibleItemCount()<2&&(m=!0),n.setChecked(m),this.ctx.eventsHub.emit("legend:item-click",{legendType:l,series:p,itemId:u,enabled:m,legendItemName:h})),m?s.updateHighlight(this.id,{series:p,itemId:u,datum:void 0,datumIndex:void 0,legendItemName:h}):s.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:n},ctx:{chartService:i},toggleSeries:r}=this;if(!t)return!1;const{legendType:s,id:o,itemId:a,seriesId:l}=t,c=i.series.find(d=>d.id===o);if(!c)return!1;const u=MW("dblclick",t,e);if(n&&nu([c.properties,this.ctx.chartService],n,u.apiEvent),u.defaultPrevented)return!0;if(r){const d=i.series.flatMap(v=>v.getLegendData("category"));let h=0;const p=new Set;for(const v of d)v.enabled&&(h+=1,v.legendItemName!=null&&p.add(v.legendItemName));p.size>0&&(h=p.size);const m=d.find(v=>v.itemId===a&&v.seriesId===l);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:s,series:c,itemId:a,numVisibleItems:h,enabled:(m==null?void 0:m.enabled)??!1,legendItemName:m==null?void 0:m.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let n;return e instanceof FocusEvent?n=mr.toCanvas(t).computeCenter():(e.preventDefault(),n=mr.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const n=t.datum,i=n?this.ctx.chartService.series.find(r=>r.id===(n==null?void 0:n.id)):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){const r=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,r,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n!=null&&n.enabled&&i?this.updateHighlight({series:i,itemId:n==null?void 0:n.itemId,datum:void 0,datumIndex:void 0,legendItemName:n==null?void 0:n.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{placement:t,floating:n,xOffset:i,yOffset:r}=bI(this.position),s=n?new ut(0,0,e.width,e.height):e.layoutBox,{x:o,y:a,width:l,height:c}=s,[u,d]=this.calculateLegendDimensions(s),{oldPages:h}=this.calcLayout(u,d),p=this.computePagedBBox();if(this.visible){const m=this.spacing;let v,y;switch(t){case"top":v=(l-p.width)/2,y=0;break;case"bottom":v=(l-p.width)/2,y=c-p.height;break;case"right":v=l-p.width,y=(c-p.height)/2;break;case"left":v=0,y=(c-p.height)/2;break;case"top-right":case"right-top":v=l-p.width,y=0;break;case"top-left":case"left-top":v=0,y=0;break;case"bottom-right":case"right-bottom":v=l-p.width,y=c-p.height;break;case"bottom-left":case"left-bottom":v=0,y=c-p.height;break}if(!n){let C,S;switch(t){case"top":case"top-right":case"top-left":C=p.height+m,S="top";break;case"bottom":case"bottom-right":case"bottom-left":C=p.height+m,S="bottom";break;case"left":case"left-top":case"left-bottom":C=p.width+m,S="left";break;case"right":case"right-top":case"right-bottom":C=p.width+m,S="right";break}s.shrink(C,S)}v+=i,y+=r,this.group.translationX=Math.floor(o+v-p.x),this.group.translationY=Math.floor(a+y-p.y),this.containerNode.x=p.x,this.containerNode.y=p.y,this.containerNode.width=p.width,this.containerNode.height=p.height}return h}positionLegendDOM(e){const{ctx:t,itemSelection:n,pagination:i,pages:r,toggleSeries:s,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:l}}=this,c=this.visible&&this.enabled,u=s||l!=null||a!=null;this.domProxy.update({visible:c,interactive:u,ctx:t,itemSelection:n,group:o,pagination:i,oldPages:e,newPages:r,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:n}=e,{placement:i}=bI(this.position),r=t/n,s=.5,o=.2,a=.25;let l,c;switch(i){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{const u=r<1?Math.min(s,o*(1/r)):o;l=this.maxWidth?Math.min(this.maxWidth,t):t,c=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*u);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{const u=r>1?Math.min(s,a*r):a;l=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),c=this.maxHeight?Math.min(this.maxHeight,n):n;break}}return[l,c]}cachedCallWithContext(e,...t){const{callbackCache:n,chartService:i}=this.ctx;return n.call([this,i],e,...t)}};Wr.className="Legend";P([z],Wr.prototype,"toggleSeries",2);P([z],Wr.prototype,"pagination",2);P([z],Wr.prototype,"item",2);P([z],Wr.prototype,"listeners",2);P([Pg((e,t,n)=>{if(e.updateGroupVisibility(),t===n)return;const{ctx:{legendManager:i,stateManager:r}}=e;n===!1&&t===!0&&r.restoreState(i)}),z],Wr.prototype,"enabled",2);P([z],Wr.prototype,"position",2);P([z],Wr.prototype,"maxWidth",2);P([z],Wr.prototype,"maxHeight",2);P([z],Wr.prototype,"reverseOrder",2);P([z],Wr.prototype,"orientation",2);P([z],Wr.prototype,"preventHidingAll",2);P([z],Wr.prototype,"border",2);P([z],Wr.prototype,"cornerRadius",2);P([z],Wr.prototype,"fill",2);P([z],Wr.prototype,"fillOpacity",2);P([z],Wr.prototype,"padding",2);P([z],Wr.prototype,"spacing",2);P([z],Wr.prototype,"xOffset",2);P([z],Wr.prototype,"yOffset",2);var sDe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Wr(e),packageType:"community",removable:"standalone-only"},f1=class extends Wt{constructor(e){super(),this.ctx=e,this.rectNode=new os,this.border=new n0(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new sr,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}destroy(){this.cleanup.flush()}getPadding(){const{border:e,padding:t}=this,n=e.enabled?e.strokeWidth:0;if(typeof t=="number"){const i=t+n;return{top:i,right:i,bottom:i,left:i}}return{top:(t.top??0)+n,right:(t.right??0)+n,bottom:(t.bottom??0)+n,left:(t.left??0)+n}}createNode(){return new nn({name:"series-area-container",zIndex:4})}onLayoutComplete(e){const{x:t,y:n,width:i,height:r}=e.series.paddedRect;this.rectNode.x=t,this.rectNode.y=n,this.rectNode.width=i,this.rectNode.height=r}};P([z],f1.prototype,"border",2);P([z],f1.prototype,"clip",2);P([Dr("rectNode","cornerRadius"),z],f1.prototype,"cornerRadius",2);P([z],f1.prototype,"padding",2);var oDe={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new f1(e)};function HN(e,t,n,i,r){const s=(d,h,p,m)=>{n.animate({id:`${e}_${t}_${h.id}_${d}`,groupId:e,from:p?1:0,to:1,ease:OE,collapsable:p,onUpdate(v,y){y&&d!=="removed"||(h.path.clear(!0),m(v,h),h.checkPathDirty())},onStop(){d==="added"&&(h.path.clear(!0),m(1,h),h.checkPathDirty())},phase:Kc[d]})},o=new Fo,a=d=>(o.resetPathDirty(),d(0,o),o.resetPathDirty(),d(1,o),o.checkPathDirty(),o.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:u}=r;for(const d of i)n.isSkipped()||(s("removed",d,!a(u),u),s("updated",d,!a(c),c)),s("added",d,!a(l),l)}function vd(e,t,n,i,r,s){if(i.itemStyler){const o={border:i.border,color:i.color,cornerRadius:i.cornerRadius,datum:t==null?void 0:t.datum,enabled:i.enabled,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,itemId:void 0,seriesId:e.id,padding:i.padding,highlighted:r,highlightState:s};return Gn(e.callWithContext(i.itemStyler,{...n,...o}),o)}return i}function FX(e,t,n,i,r,s,o){if(i.enabled&&r){const a=vd(e,r,n,i,s,o);t.visible=!0,t.x=r.x,t.y=r.y,t.text=r.text,t.fill=a.color,t.setAlign(r),t.setFont(a),t.setBoxing(a)}else t.visible=!1}var aDe={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function _X({isUpward:e,isVertical:t,placement:n,spacing:i=0,rect:r}){let s=r.x+r.width/2,o=r.y+r.height/2,a="center",l="middle";if(n!=="inside-center"){const c=(e?1:-1)*(t?-1:1),{direction:u,textAlignment:d}=aDe[n],h=(u+1)*.5;if(t){const p=e?r.y+r.height:r.y,m=r.height*c;o=p+m*h+i*d*c,l=d===c?"top":"bottom"}else{const p=e?r.x:r.x+r.width,m=r.width*c;s=p+m*h+i*d*c,a=d===c?"left":"right"}}return{x:s,y:o,textAlign:a,textBaseline:l}}function Mr({id:e},t,n,...i){for(const r of i)r.cleanup();Ef(e,t,n,i,{opacity:0},{opacity:1},{phase:"trailing"})}function wI({id:e},t,n,...i){Ef(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function r0(e){return{opacity:1}}var bH=class extends Wt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(e){this.markDirty()}},Zd=class extends bH{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};P([z,Xe()],Zd.prototype,"enabled",2);P([z,Xe()],Zd.prototype,"color",2);P([z,Xe()],Zd.prototype,"xOffset",2);P([z,Xe()],Zd.prototype,"yOffset",2);P([z,Xe()],Zd.prototype,"blur",2);var Os=class extends bH{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new oc,this.fillPatternDefaults=new Ki,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:s,strokeOpacity:o,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:s,strokeOpacity:o,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};P([z,Xe()],Os.prototype,"enabled",2);P([z,Cl({})],Os.prototype,"shape",2);P([z,Xe()],Os.prototype,"size",2);P([z,Cl({})],Os.prototype,"fill",2);P([z],Os.prototype,"fillGradientDefaults",2);P([z],Os.prototype,"fillPatternDefaults",2);P([z],Os.prototype,"fillImageDefaults",2);P([z,Xe()],Os.prototype,"fillOpacity",2);P([z,Xe()],Os.prototype,"stroke",2);P([z,Xe()],Os.prototype,"strokeWidth",2);P([z,Xe()],Os.prototype,"strokeOpacity",2);P([z],Os.prototype,"lineDash",2);P([z],Os.prototype,"lineDashOffset",2);P([z,Cl({})],Os.prototype,"itemStyler",2);var BX=class extends Wt{constructor(){super(...arguments),this.enabled=!1}};P([z],BX.prototype,"enabled",2);var Lf=class extends Wt{constructor(){super(...arguments),this.interaction=new BX,this.position=new Ky,this.range=void 0,this.class=void 0}formatTooltip(e,t,n){const i=this.renderer==null?void 0:nu(e,this.renderer,n);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?{type:"structured",...t,...i}:{type:"structured",...t}}};P([z],Lf.prototype,"enabled",2);P([z],Lf.prototype,"showArrow",2);P([z],Lf.prototype,"renderer",2);P([z],Lf.prototype,"interaction",2);P([z],Lf.prototype,"position",2);P([z],Lf.prototype,"range",2);P([z],Lf.prototype,"class",2);function s0(){return new Lf}var GX=class{constructor(e,t,n){this.root=new uDe(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){const n={hitTester:e,value:t,distanceSquared:(i,r)=>e.distanceSquared(i,r)};this.root.addElem(n)}find(e,t){const n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},lDe=class{constructor(e,t,n,i){this.nw=e,this.ne=t,this.sw=n,this.se=i}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},cDe=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??ut.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:n,height:i}=this.boundary,{capacity:r}=this,s=this.maxdepth-1,o=n/2,a=i/2,l=new ut(e,t,o,a),c=new ut(e+o,t,o,a),u=new ut(e,t+a,o,a),d=new ut(e+o,t+a,o,a);return new lDe(this.child(r,s,l),this.child(r,s,c),this.child(r,s,u),this.child(r,s,d))}},uDe=class zX extends cDe{addCondition(t){const{x:n,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(n,i)}findCondition(t,n,i){const{best:r}=i;return r.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<r.distanceSquared}findAction(t,n,i){const r=FL(t,n,this.elems,i.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<i.best.distanceSquared&&(i.best=r)}child(t,n,i){return new zX(t,n,i)}},wH=class extends uk{constructor({clipFocusBox:e,categoryKey:t,...n}){super(n),this.categoryKey=t,this.clipFocusBox=e??!0}dataCount(){var e,t,n;return((n=(t=(e=this.processedData)==null?void 0:e.dataSources)==null?void 0:t.get(this.id))==null?void 0:n.length)??0}getScaleInformation({xScale:e,yScale:t}){const n=wi.is(e),i=wi.is(t);return{isContinuousX:n,isContinuousY:i,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var n,i;const e=(n=this.axes.x)==null?void 0:n.scale,t=(i=this.axes.y)==null?void 0:i.scale;return this.moduleMap.mapModules(r=>r.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:r}=await e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=r,this.events.emit("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}}isProcessedDataAnimatable(){var r;const{processedData:e}=this;if(!e)return!1;const t=(r=e.reduced)==null?void 0:r.animationValidation;if(!t)return!0;const{orderedKeys:n,uniqueKeys:i}=t;return n&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;const{clipFocusBox:i}=this,r=t[n],s={...e,datumIndex:n},o=this.computeFocusBounds(s);if(o!==void 0)return{bounds:o,clipFocusBox:i,datum:r,datumIndex:n}}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((n,i)=>n.datumIndex-i.datumIndex),t}isDatumEnabled(e,t){const{missing:n=!1,enabled:i=!0,focusable:r=!0}=e[t];return!n&&i&&r}computeFocusDatumIndex(e,t){const n=(o,a)=>{for(;o>=0&&!this.isDatumEnabled(t,o);)o+=a;return o===-1?void 0:o},i=(o,a)=>{for(;o<t.length&&!this.isDatumEnabled(t,o);)o+=a;return o===t.length?void 0:o};let r;const s=Gt(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?r=n(s,e.datumIndexDelta):e.datumIndexDelta>0?r=i(s,e.datumIndexDelta):r=i(s,1)??n(s,-1),r===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:r}dataModelPropertyIsKey(e){const{processedData:t}=this;return t?t.defs.keys.some(n=>{var i,r;return n.id===e&&((r=(i=n.idsMap)==null?void 0:i.get(this.id))==null?void 0:r.has(e))===!0}):!1}keysOrValues(e){const{dataModel:t,processedData:n}=this;return!t||!n?[]:this.dataModelPropertyIsKey(e)?t.resolveKeysById(this,e,n):t.resolveColumnById(this,e,n)}sortOrder(e){const{dataModel:t,processedData:n}=this;if(!(!t||!n))return this.dataModelPropertyIsKey(e)?t.getKeySortOrder(this,e,n):t.getColumnSortOrder(this,e,n)}getCategoryKey(){return this.categoryKey}getCategoryValue(e){var s,o;const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();return!t||!n||!i||(((o=(s=t.invalidData)==null?void 0:s.get(this.id))==null?void 0:o[e])??!1)?void 0:this.keysOrValues(i)[e]}datumIndexForCategoryValue(e){var o,a;const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();if(!t||!n||!i)return;e=e.valueOf();const r=(o=t.invalidData)==null?void 0:o.get(this.id),s=this.keysOrValues(i);for(let l=0;l<s.length;l+=1){if((r==null?void 0:r[l])===!0)continue;const c=(a=s[l])==null?void 0:a.valueOf();if(aa(e,c))return l}}},Xw={x:["xKey"],y:["yKey"]},Qw={x:["xName"],y:["yName"]},SH=class extends ck{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},Wg=class extends ac{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};P([z],Wg.prototype,"legendItemName",2);P([z],Wg.prototype,"pickOutsideVisibleMinorAxis",2);var VN=100,o0=class extends wH{constructor({pathsPerSeries:e=["path"],pathsZIndexSubOrderOffset:t=[],datumSelectionGarbageCollection:n=!0,animationAlwaysUpdateSelections:i=!1,animationResetFns:r,propertyKeys:s,propertyNames:o,...a}){if(super({propertyKeys:s,propertyNames:o,canHaveAxes:!0,...a}),this.NodeEvent=SH,this.dataNodeGroup=this.contentGroup.appendChild(new nn({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Io({name:`${this.id}-series-labels`})),this.labelSelection=No.select(this.labelGroup,cl),this.highlightSelection=No.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=on.create(),!s||!o)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,pathsZIndexSubOrderOffset:t,propertyKeys:s,propertyNames:o,animationResetFns:r,animationAlwaysUpdateSelections:i,datumSelectionGarbageCollection:n},this.paths=e.map(l=>new Fo({name:`${this.id}-${l}`})),this.datumSelection=No.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.animationState=new PR("empty",{empty:{update:{target:"ready",action:l=>this.animateEmptyUpdateReady(l)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:l=>this.animateReadyHighlight(l),resize:l=>this.animateReadyResize(l),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:l=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(l):this.animateWaitingUpdateReady(l)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:l=>this.resetAllAnimation(l),reset:"empty"},clearing:{update:{target:"empty",action:l=>this.animateClearingUpdateEmpty(l)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),this.attachPaths(this.paths)}detachSeries(e,t,n){super.detachSeries(e,t,n),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(e){for(const t of e)this.contentGroup.appendChild(t)}detachPaths(e){for(const t of e)this.contentGroup.removeChild(t)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>VN}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(e){const{series:t,legendItemName:n}=e??{},{legendItemName:i}=this.properties;return t===this||i!=null&&i===n}strokewidthChange(){var i;const e=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,t=this.properties.highlight.highlightedSeries.strokeWidth??e,n=((i=this.properties.highlight.highlightedItem)==null?void 0:i.strokeWidth)??e;return e>n||t>n}update({seriesRect:e}){const{_contextNodeData:t}=this,n=this.checkResize(e),i=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{const s=this.updateSelections();this.updateNodes(i,n||s)});const r=this.getAnimationData(e,t);r&&(n&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(){var e;const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&t)return!1;const{nodeDataRefresh:n}=this;if(!n&&!this.isPathOrSelectionDirty())return!1;if(n){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const i=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=i));const{dataModel:r,processedData:s}=this;r!==void 0&&s!==void 0&&this.events.emit("data-update",{dataModel:r,processedData:s}),this.updateSeriesSelections()}return n}updateSeriesSelections(){const{datumSelection:e,labelSelection:t,paths:n}=this,i=this._contextNodeData;if(!i)return;const{nodeData:r,labelData:s,itemId:o}=i;this.updatePaths({itemId:o,contextData:i,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:t})??t})}getShapeFillBBox(){const{axes:e}=this,t=e.x,n=e.y,[i,r]=ms((t==null?void 0:t.range)??[0,1]),[s,o]=ms((n==null?void 0:n.range)??[0,1]),a=this.getSeriesDomain("x"),l=[t==null?void 0:t.scale.convert(a.at(0)),t==null?void 0:t.scale.convert(a.at(-1))],c=this.getSeriesDomain("y"),u=[n==null?void 0:n.scale.convert(c.at(0)),n==null?void 0:n.scale.convert(c.at(-1))],[d,h]=ms(l),[p,m]=ms(u);return{axis:new ut(i,s,r-i,o-s),series:new ut(d,p,h-d,m-p)}}updateNodes(e,t){const{highlightSelection:n,datumSelection:i}=this,r=!this.ctx.animationManager.isSkipped(),s=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=r||s,this.highlightGroup.visible=(r||s)&&e,this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n);const{dataNodeGroup:o,labelSelection:a,paths:l,labelGroup:c}=this,{itemId:u}=this.contextNodeData??{};if(this.updatePathNodes({itemId:u,paths:l,visible:s,animationEnabled:r}),o.visible=r||s,c.visible=s,!o.visible)return;const d=this.strokewidthChange()||this.hasChangesOnHighlight;(t||d)&&(this.updateDatumNodes({datumSelection:i,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:a,isHighlight:!1})}))}getHighlightLabelData(e,t){const n=e.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return n.length===0?void 0:n}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(){var a;const{highlightSelection:e,_contextNodeData:t}=this;if(!t)return!1;const n=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight(),r=this.isSeriesHighlighted(n)&&(n!=null&&n.datum)?n:void 0;if(r==null)return!1;const{nodeData:s}=t,o=this.getHighlightData(s,r);return this.highlightSelection=this.updateHighlightSelectionItem({items:o,highlightSelection:e}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,n=new ut(0,0,e,t);this.quadtree=new GX(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(t.length!==0)return t;const{x:n,y:i}=e,{dataNodeGroup:r}=this,s=r.pickNodes(n,i).filter(o=>o.datum.missing!==!0);if(s.length!==0)return s.map(a=>a.datum);for(const o of this.moduleMap.modules()){const{datum:a}=o.pickNodeExact(e)??{};if(a!=null&&(a==null?void 0:a.missing)!==!0)return[a]}return[]}pickNodeClosestDatum(e){var u;const{x:t,y:n}=e,{axes:i,_contextNodeData:r}=this;if(!r)return;const s=i.x,o=i.y,a={x:t,y:n};let l=1/0,c;for(const d of r.nodeData){const{point:{x:h=NaN,y:p=NaN}={}}=d;if(isNaN(h)||isNaN(p)||!((s==null?void 0:s.inRange(h))&&(o==null?void 0:o.inRange(p))))continue;const v=Math.max((a.x-h)**2+(a.y-p)**2,0);v<l&&(l=v,c=d)}for(const d of this.moduleMap.modules()){const h=d.pickNodeNearest(e);if(h!==void 0&&h.distanceSquared<l){l=h.distanceSquared,c=h.datum;break}}if(c){const d=Math.max(Math.sqrt(l)-(((u=c.point)==null?void 0:u.size)??0)/2,0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(e,t){var m;const{x:n,y:i}=e,{axes:r,_contextNodeData:s}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!s)return;const a=r.x,l=r.y;if(a==null||l==null)return;const c=[a,l].filter(v=>v.isCategoryLike()).map(v=>v.direction);if(t&&c.length===0)return;const[u="x"]=c,d=[n,i];u!=="x"&&d.reverse();const h=[1/0,1/0];let p;for(const v of s.nodeData){const{x:y=NaN,y:C=NaN}=v.point??v.midPoint??{};if(isNaN(y)||isNaN(C)||v.missing===!0)continue;const S=[a==null?void 0:a.inRange(y,1),l==null?void 0:l.inRange(C,1)];if(u!=="x"&&S.reverse(),!S[0]||!o&&!S[1])continue;const x=[y,C];u!=="x"&&x.reverse();let R=!0;for(let A=0;A<x.length;A++){const T=Math.abs(x[A]-d[A]);if(T>h[A]){R=!1;break}else T<h[A]&&(h[A]=T,h.fill(1/0,A+1,h.length))}R&&(p=v)}if(p){let v=Math.max(h[0]**2+h[1]**2-(((m=p.point)==null?void 0:m.size)??0),0);for(const y of this.moduleMap.modules()){const C=y.pickNodeMainAxisFirst(e,u);if(C!==void 0&&C.distanceSquared<v){p=C.datum,v=C.distanceSquared;break}}return{datum:p,distance:Math.sqrt(v)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(e,t,n,i){let r;if(i==null){const{processedData:c,dataModel:u}=this;r=u.getColumnSortOrder(this,e,c)??1}else r=i.sortOrder;const s=this.keysOrValues(e),o=0,[a,l]=UK(r,(n==null?void 0:n.length)??s.length,t,c=>{const u=(n==null?void 0:n[c])??c;return this.xCoordinateRange(s[u],o,u)});return a<l?[a,l]:[l,a]}domainForVisibleRange(e,t,n,i,r){const{processedData:s,dataModel:o}=this,[a,l]=i,c=this.keysOrValues(n),u=this.sortOrder(n);if(u!=null){const m=this.visibleRangeIndices(n,i,r,{sortOrder:u});return o.getDomainBetweenRange(this,t,m,s)}const d=t.map(m=>this.keysOrValues(m));let h=1/0,p=-1/0;return c.forEach((m,v)=>{const[y,C]=this.xCoordinateRange(m,0,v);if(!(C<a||y>l))for(let S=0;S<t.length;S++){const x=d[S][v];h=Math.min(h,x),p=Math.max(p,x)}}),h>p?[NaN,NaN]:[h,p]}domainForClippedRange(e,t,n){const{processedData:i,dataModel:r,axes:s}=this,a=dDe(s[e==="x"?"y":"x"]);if(!a)return t.flatMap(m=>r.getDomain(this,m,"value",i));const l=this.keysOrValues(n),c=r.getColumnSortOrder(this,n,i);if(c!=null){const m=hDe(c,l.length,a,v=>l[v]);return r.getDomainBetweenRange(this,t,m,i)}const u=t.map(m=>this.keysOrValues(m)),d=a[0].valueOf(),h=a[1].valueOf(),p=[];return l.forEach((m,v)=>{const y=m.valueOf();if(y<d||y>h)return;const C=u.map(S=>S[v]);y>=d&&p.push(...C),y<=h&&p.push(...C)}),p}countVisibleItems(e,t,n,i,r){const{dataModel:s,processedData:o}=this;if(!s||!o)return 1/0;const a=this.keysOrValues(e),l=t.map(A=>s.resolveColumnById(this,A,o)),c=this.axes.x,u=this.axes.y,d=this.shouldFlipXY();if(i==null){const A=this.sortOrder(e);if(A==null)i=[0,1];else{const T=c.scale,L=T.range;T.range=[0,1];let[O,F]=this.visibleRangeIndices(e,n,void 0,{sortOrder:A});const H=this.keysOrValues(e),W=0;this.xCoordinateRange(H[O],W,O)[0]<n[0]&&(O+=1),F<H.length&&this.xCoordinateRange(H[F],W,F)[1]>n[1]&&(F-=1);const $=Math.abs(F-O);return T.range=L,$}}const h=(A,T,L)=>A[0]+(L-T[0])/(T[1]-T[0])*(A[1]-A[0]),p=c.range,m=u.range,v=h(p,c.visibleRange,n[0]),y=h(p,c.visibleRange,n[1]),C=h(m,u.visibleRange,d?i[0]:i[1]),S=h(m,u.visibleRange,d?i[1]:i[0]),x=Math.round((n[0]+(n[1]-n[0])/2)*a.length),R=0;return WK(0,a.length-1,x,r,A=>{let[T,L]=this.xCoordinateRange(a[A],R,A),[O,F]=this.yCoordinateRange(l.map(H=>H[A]),R,A);return!ii(T)||!ii(L)||!ii(O)||!ii(F)?!1:(d&&([T,L,O,F]=[O,F,T,L]),T>=v&&L<=y&&O>=C&&F<=S)})}minTimeInterval(){let e;try{e=this.keysOrValues("xValue")}catch{}if(e==null||e.length>1e3)return;let t=1/0,n=e[0],i;for(let r=1;r<e.length;r++){const s=e[r];if(s!=null&&n!=null){const o=s.valueOf()-n.valueOf(),a=Math.sign(o);if(a===0)continue;if(i!==void 0&&a!==i)return;t=Math.min(t,Math.abs(o)),i=a}n=s}if(Number.isFinite(t))return t}updateHighlightSelectionItem(e){const{items:t,highlightSelection:n}=e,i=t??[];return this.updateDatumSelection({nodeData:i,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,visible:n}=e;for(const i of t)i.visible=n}resetPathAnimation(e){var n;const{path:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&e.paths.forEach(i=>{Js([i],t)})}resetDatumAnimation(e){var n;const{datum:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Js([e.datumSelection],t)}resetLabelAnimation(e){var n;const{label:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Js([e.labelSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var n;const{datum:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&Js([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof aH){const{range:t,domain:n}=e;return{type:"log",convert:i=>e.convert(i),domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof wi){const{range:t,domain:n}=e;return{type:"continuous",domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof Mf)return{type:"category",domain:e instanceof Kp?e.bands:e.domain,inset:e.inset,step:e.step}}calculateScaling(){const e={};for(const t of Object.values(pz)){const n=this.axes[t];if(!n)continue;const i=this.getScaling(n.scale);i!=null&&(e[t]=i)}return e}};function dDe(e){let t,n;if((e instanceof Kd||e instanceof qd)&&({min:t,max:n}=e),!(t==null&&n==null))return t??(t=-1/0),n??(n=1/0),[t,n]}function hDe(e,t,n,i){const r=n[0].valueOf(),s=n[1].valueOf();let o=TE(0,t-1,l=>{var d;const c=e===1?l:t-l,u=(d=i(c))==null?void 0:d.valueOf();return!Number.isFinite(u)||u>=r}),a=Ov(0,t-1,l=>{var d;const c=e===1?l:t-l,u=(d=i(c))==null?void 0:d.valueOf();return!Number.isFinite(u)||u<=s});return o==null||a==null?[0,0]:(e===-1&&([o,a]=[t-a,t-o]),o=Math.max(o,0),a=Math.min(a+1,t),[o,a])}var Jw=class extends Wt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};P([z],Jw.prototype,"type",2);P([z],Jw.prototype,"tension",2);P([z],Jw.prototype,"position",2);var Cr=class extends Wg{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new oc,this.fillPatternDefaults=new Ki,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Jw,this.shadow=new Zd,this.marker=new Os,this.label=new yr,this.tooltip=s0(),this.connectMissingData=!1}};P([z],Cr.prototype,"xKey",2);P([z],Cr.prototype,"xName",2);P([z],Cr.prototype,"yKey",2);P([z],Cr.prototype,"yName",2);P([z],Cr.prototype,"yFilterKey",2);P([z],Cr.prototype,"normalizedTo",2);P([z],Cr.prototype,"fill",2);P([z],Cr.prototype,"fillGradientDefaults",2);P([z],Cr.prototype,"fillPatternDefaults",2);P([z],Cr.prototype,"fillImageDefaults",2);P([z],Cr.prototype,"fillOpacity",2);P([z],Cr.prototype,"stroke",2);P([z],Cr.prototype,"strokeWidth",2);P([z],Cr.prototype,"strokeOpacity",2);P([z],Cr.prototype,"lineDash",2);P([z],Cr.prototype,"lineDashOffset",2);P([z],Cr.prototype,"interpolation",2);P([z],Cr.prototype,"shadow",2);P([z],Cr.prototype,"marker",2);P([z],Cr.prototype,"label",2);P([z],Cr.prototype,"tooltip",2);P([z],Cr.prototype,"connectMissingData",2);function rc(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function fDe(e){const t=rc(e);return t[0].x>t[1].x&&t.reverse(),t}function pDe(e,t){const{x:n,y:i}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i};case"step":return{type:"step",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i,stepX:n};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:n,cp0y:i,cp1x:n,cp1y:i,cp2x:n,cp2y:i,cp3x:n,cp3y:i}}}function YE(e,t,n){const[i,r]=rc(e),s=r.x!==i.x?(n.x-t.x)/(r.x-i.x):0,o=r.y!==i.y?(n.y-t.y)/(r.y-i.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:n.x-(e.cp2x-i.x)*s,cp1y:n.y-(e.cp2y-i.y)*o,cp2x:n.x-(e.cp1x-i.x)*s,cp2y:n.y-(e.cp1y-i.y)*o,cp3x:n.x,cp3y:n.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,stepX:n.x-(e.stepX-i.x)*s}}}function HX(e,t,n){const{moveTo:i}=e,[r,s]=fDe(e),{x:o,y:a}=r,{x:l,y:c}=s;if(n<o)return YE(e,r,r);if(t>l)return YE(e,s,s);switch(e.type){case"linear":{const u=a===c?void 0:(c-a)/(l-o),d=u==null?a:u*(t-o)+a,h=u==null?a:u*(n-o)+a;return{type:"linear",moveTo:i,x0:t,y0:d,x1:n,y1:h}}case"step":if(n<=e.stepX){const u=e.y0;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:u,stepX:n}}else if(t>=e.stepX){const u=e.y1;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:u,stepX:t}}else{const{y0:u,y1:d,stepX:h}=e;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:d,stepX:h}}case"cubic":{const u=MN(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[d,h]=NE(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,u);const p=MN(h[0].x,h[1].x,h[2].x,h[3].x,n);return[h,d]=NE(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,p),{type:"cubic",moveTo:i,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function gDe(e){const t=[];let n=0,i=NaN,r=NaN;for(const{x:s,y:o}of e){if(n>0){const a=n===1;t.push({type:"linear",moveTo:a,x0:i,y0:r,x1:s,y1:o})}n+=1,i=s,r=o}return t}var mDe={start:0,middle:.5,end:1};function vDe(e,t){const n=[];let i=0,r=NaN,s=NaN;const o=typeof t=="number"?t:mDe[t];for(const{x:a,y:l}of e){if(i>0){const c=i===1,u=r+(a-r)*o;n.push({type:"step",moveTo:c,x0:r,y0:s,x1:a,y1:l,stepX:u})}i+=1,r=a,s=l}return n}var LD=.05;function yDe(e,t){const n=Array.isArray(e)?e:Array.from(e);if(n.length<=1)return[];const i=n.map((s,o)=>{const a=o===0?s:n[o-1],l=o===n.length-1?s:n[o+1],c=o===0||o===n.length-1;if(Math.sign(a.y-s.y)===Math.sign(l.y-s.y))return 0;if(!c){const u=Math.abs(a.y-l.y),d=Math.abs(s.y-a.y)/u,h=Math.abs(s.y-l.y)/u;if(d<=LD||1-d<=LD||h<=LD||1-h<=LD)return 0}return(l.y-a.y)/(l.x-a.x)});i[1]===0&&(i[0]*=2),i[i.length-2]===0&&(i[i.length-1]*=2);const r=[];for(let s=1;s<n.length;s+=1){const o=n[s-1],a=i[s-1],l=n[s],c=i[s],u=l.x-o.x,d=l.y-o.y;let h=u*t/3,p=u*a*t/3,m=u*t/3,v=u*c*t/3;c===0&&Math.abs(p)>Math.abs(d)&&(h*=Math.abs(d/p),p=Math.sign(p)*Math.abs(d)),a===0&&Math.abs(v)>Math.abs(d)&&(m*=Math.abs(d/v),v=Math.sign(v)*Math.abs(d)),r.push({type:"cubic",moveTo:s===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+h,cp1y:o.y+p,cp2x:l.x-m,cp2y:l.y-v,cp3x:l.x,cp3y:l.y})}return r}function es(e,t,n){return(t-e)*n+e}function CDe(e,t){const{x0:n,y0:i,x1:r,y1:s}=e,a=(s-i)/(r-n)*(t-n)+i;return{leftCp1x:n,leftCp1y:i,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:r,rightCp2y:s}}function bDe(e,t){const{cp0x:n,cp0y:i,cp1x:r,cp1y:s,cp2x:o,cp2y:a,cp3x:l,cp3y:c}=e,u=MN(n,r,o,l,t),[d,h]=NE(n,i,r,s,o,a,l,c,u),p=d[3].y;return{leftCp1x:d[1].x,leftCp1y:d[1].y,leftCp2x:d[2].x,leftCp2y:d[2].y,stepX:t,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function wDe(e){const{x0:t,y0:n,x1:i,y1:r,stepX:s}=e;return{leftCp1x:(t+s)/2,leftCp1y:n,leftCp2x:(t+s)/2,leftCp2y:n,stepX:s,stepY0:n,stepY1:r,rightCp1x:(s+i)/2,rightCp1y:r,rightCp2x:(s+i)/2,rightCp2y:r}}function TW(e,t){return e.type==="linear"?CDe(e,t):e.type==="cubic"?bDe(e,t):wDe(e)}function VX(e,t,n,i,r,s,o){switch(t){case 0:o?e.moveTo(r,s):e.moveTo(n,i);break;case 1:o?e.lineTo(r,s):e.lineTo(n,i);break}}function UX(e,t,n,i,r,s){s?e.lineTo(t,n):e.lineTo(i,r)}function WX(e,t,n,i,r,s,o,a,l,c){c?e.cubicCurveTo(s,o,i,r,t,n):e.cubicCurveTo(i,r,s,o,a,l)}function jX(e,t,n,i,r,s,o){o?(e.lineTo(s,r),e.lineTo(s,n),e.lineTo(t,n)):(e.lineTo(s,n),e.lineTo(s,r),e.lineTo(i,r))}function BM(e,t,n,i){const[r,s]=rc(t);switch(VX(e,n,r.x,r.y,s.x,s.y,i),t.type){case"linear":UX(e,t.x0,t.y0,t.x1,t.y1,i);break;case"cubic":WX(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,i);break;case"step":jX(e,t.x0,t.y0,t.x1,t.y1,t.stepX,i);break}}function $X(e,t,n){const[i,r]=rc(e),[s,o]=rc(t),a=es(i.x,s.x,n),l=es(i.y,s.y,n),c=es(r.x,o.x,n),u=es(r.y,o.y,n);return[{x:a,y:l},{x:c,y:u}]}function XB(e,t,n,i,r,s){const[{x:o,y:a},{x:l,y:c}]=$X(t,n,i);if(VX(e,r,o,a,l,c,s),t.type==="cubic"&&n.type==="cubic"){const u=es(t.cp1x,n.cp1x,i),d=es(t.cp1y,n.cp1y,i),h=es(t.cp2x,n.cp2x,i),p=es(t.cp2y,n.cp2y,i);WX(e,o,a,u,d,h,p,l,c,s)}else if(t.type==="step"&&n.type==="step"){const u=es(t.stepX,n.stepX,i);jX(e,o,a,l,c,u,s)}else if(t.type==="linear"&&n.type==="linear")UX(e,o,a,l,c,s);else{let u;t.type==="step"?u=t.stepX:n.type==="step"?u=n.stepX:u=(o+l)/2;const d=TW(t,u),h=TW(n,u),p=es(d.leftCp1x,h.leftCp1x,i),m=es(d.leftCp1y,h.leftCp1y,i),v=es(d.leftCp2x,h.leftCp2x,i),y=es(d.leftCp2y,h.leftCp2y,i),C=es(d.stepX,h.stepX,i),S=es(d.stepY0,h.stepY0,i),x=es(d.stepY1,h.stepY1,i),R=es(d.rightCp1x,h.rightCp1x,i),A=es(d.rightCp1y,h.rightCp1y,i),T=es(d.rightCp2x,h.rightCp2x,i),L=es(d.rightCp2y,h.rightCp2y,i);s?(e.cubicCurveTo(T,L,R,A,C,x),e.lineTo(C,S),e.cubicCurveTo(v,y,p,m,o,a)):(e.cubicCurveTo(p,m,v,y,C,S),e.lineTo(C,x),e.cubicCurveTo(R,A,T,L,l,c))}}var SDe=1e3,YX=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(YX||{});function xDe(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function Ba(e){return LB(e).valueOf()}function Ao(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const n=Ba(e);let i=t.domain.findIndex(r=>Ba(r)===n);return i===-1&&(i=t.domain.findIndex(r=>xDe(e,r))),i>=0?t.inset+t.step*i:NaN}function DW({data:e},t){return e.map((n,i)=>({xValue0Index:t.indexOf(Ba(n.xValue0)),xValue1Index:t.indexOf(Ba(n.xValue1)),datumIndex:i}))}function IW(e){return Object.values(e.scales).every(t=>t.type==="category"?t.domain.length<SDe:!0)}function MDe(e,t){const n=t.scales.x,i=e.scales.x;if((n==null?void 0:n.type)!=="category"||(i==null?void 0:i.type)!=="category")return!0;let r=-1/0;for(const s of n.domain){const o=Ao(s,i);if(Number.isFinite(o)){if(o<r)return!1;r=o}}return!0}function EDe(e,t){let n=-1/0;for(const i of e){const r=Ao(i.value,t.scales.x);if(Number.isFinite(r)){if(r<n)return!1;n=r}}return!0}function RDe(e,t){const n=new Map;for(const{xValue0:u,xValue1:d}of e.data){const h=Ba(u),p=Ba(d);n.set(h,u).set(p,d)}const i=Array.from(n,([u,d])=>({axisValue:u,value:d}));i.sort((u,d)=>Ao(u.value,e.scales.x)-Ao(d.value,e.scales.x));const r=[];for(const{xValue0:u,xValue1:d}of t.data){const h=Ba(u),p=Ba(d);n.has(h)||(n.set(h,u),r.push({axisValue:h,value:u})),n.has(p)||(n.set(p,d),r.push({axisValue:p,value:d}))}r.sort((u,d)=>Ao(u.value,t.scales.x)-Ao(d.value,t.scales.x));const s=i;let o=0;for(const u of r){for(let d=s.length-1;d>=o;d-=1){const h=Ao(u.value,t.scales.x),p=Ao(s[d].value,t.scales.x);if(h>p){o=d+1;break}}s.splice(o,0,u),o+=1}if(!EDe(s,t))return;const a=s.map(u=>u.axisValue),l=DW(t,a),c=DW(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:c}}function NW(e,t,n){if(n.xValue1Index===n.xValue0Index+1)return e;const i=rc(e),r=(i[1].x-i[0].x)/(n.xValue1Index-n.xValue0Index),s=i[0].x+(t-n.xValue0Index)*r,o=s+r;return HX(e,s,o)}function KX(e,t){const[n,i]=rc(e),r=Ao(0,t.scales.y);return YE(e,{x:n.x,y:r},{x:i.x,y:r})}function qX(e){const[t,n]=rc(e);return pDe(e,{x:(t.x+n.x)/2,y:(t.y+n.y)/2})}function ZX(e,t,n,i,r,s){var d,h;let o,a;if(r.xValue0Index>=s.xValue1Index){const p=(d=i.findLast(v=>v.xValue1Index<=s.xValue1Index))==null?void 0:d.datumIndex,m=p!=null?n.data[p]:void 0;o=m==null?void 0:m.xValue1,a=m==null?void 0:m.yValue1}else if(r.xValue0Index<=s.xValue0Index){const p=(h=i.find(v=>v.xValue0Index>=s.xValue0Index))==null?void 0:h.datumIndex,m=p!=null?n.data[p]:void 0;o=m==null?void 0:m.xValue0,a=m==null?void 0:m.yValue0}if(o==null||a==null)switch(t){case 0:return KX(e,n);case 1:return qX(e)}const l=Ao(o,n.scales.x),c=Ao(a,n.scales.y),u={x:l,y:c};return YE(e,u,u)}function xH(e,t){var r;if(t==null)return;const n=Ba(e.xValue0),i=Ba(e.xValue1);return(r=t.find(s=>Ba(s.xValue0)===n&&Ba(s.xValue1)===i))==null?void 0:r.span}function LW(e,t,n,i,r,s,o){const a=e.data[i.datumIndex],l=a.span,c=xH(a,r);if(c!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:l}),o.added.push({from:l,to:l});else{const u=ZX(l,t,e,n,i,s);o.added.push({from:u,to:l})}}function kW(e,t,n,i,r,s,o){const a=e.data[i.datumIndex],l=a.span,c=xH(a,r);if(c!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:c}),o.added.push({from:c,to:c});else{const u=ZX(l,t,e,n,i,s);o.removed.push({from:l,to:u})}}function OW(e,t,n,i,r){const s=t[r.xValue0Index],o=n.data.find(y=>Ba(y.xValue0)===s),a=t[r.xValue1Index],l=n.data.find(y=>Ba(y.xValue1)===a);if(o==null||l==null)return;const[{x:c},{x:u}]=rc(e),d=Ao(o.xValue0,n.scales.x),h=Ao(o.yValue0,n.scales.y),p=Ao(l.xValue1,n.scales.x),m=Ao(l.yValue1,n.scales.y);let v=i.data[r.datumIndex].span;return v=YE(v,{x:d,y:h},{x:p,y:m}),v=HX(v,c,u),v}function ADe(e,t,n,i,r,s,o,a,l){const c=r+1,u=o.find(x=>x.xValue0Index<=r&&x.xValue1Index>=c),d=s.find(x=>x.xValue0Index<=r&&x.xValue1Index>=c),h=t.zeroData,p=e.zeroData;if(u==null&&d!=null){LW(e,n,s,d,h,a,l);return}else if(u!=null&&d==null){kW(t,n,o,u,p,a,l);return}else if(u==null||d==null)return;let m;u.xValue0Index===d.xValue0Index&&u.xValue1Index===d.xValue1Index?m=0:u.xValue0Index<=d.xValue0Index&&u.xValue1Index>=d.xValue1Index?m=-1:u.xValue0Index>=d.xValue0Index&&u.xValue1Index<=d.xValue1Index?m=1:m=0;const v=t.data[u.datumIndex],y=NW(v.span,r,u),C=e.data[d.datumIndex],S=NW(C.span,r,d);if(m===1){const x=OW(y,i,t,e,d);x!=null?(l.removed.push({from:y,to:x}),l.moved.push({from:x,to:S}),l.added.push({from:S,to:S})):kW(t,n,o,u,p,a,l)}else if(m===-1){const x=OW(S,i,e,t,u);x!=null?(l.removed.push({from:y,to:y}),l.moved.push({from:y,to:x}),l.added.push({from:x,to:S})):LW(e,n,s,d,h,a,l)}else l.removed.push({from:y,to:y}),l.moved.push({from:y,to:S}),l.added.push({from:S,to:S})}function TDe(e,t,n,i){var c,u,d,h;const r={removed:[],moved:[],added:[]},{axisValues:s,oldDataAxisIndices:o,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(((c=o.at(0))==null?void 0:c.xValue0Index)??-1/0,((u=a.at(0))==null?void 0:u.xValue0Index)??-1/0),xValue1Index:Math.min(((d=o.at(-1))==null?void 0:d.xValue1Index)??1/0,((h=a.at(-1))==null?void 0:h.xValue1Index)??1/0)};for(let p=0;p<s.length-1;p+=1)ADe(t,n,i,s,p,a,o,l,r);return r}function PW(e,t,n){const{span:i}=t;switch(n){case 0:return xH(t,e.zeroData)??KX(i,e);case 1:return qX(i)}}function DDe(e,t,n){const i=[],r=[];for(const s of t.data){const o=s.span,a=PW(t,s,n);r.push({from:o,to:a})}for(const s of e.data){const o=s.span,a=PW(e,s,n);i.push({from:a,to:o})}return{removed:r,moved:[],added:i}}function aE(e,t,n){if(!IW(e)||!IW(t)||!MDe(e,t))return;const i=RDe(e,t);return i==null?DDe(e,t,n):TDe(i,e,t,n)}function FW(e){return e.type==="continuous"||e.type==="log"}function _W(e){return e.type==="category"}function ay(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:FW(e)&&FW(t)?e.type===t.type&&Qh(e.domain,t.domain)&&Qh(e.range,t.range):_W(e)&&_W(t)?e.inset===t.inset&&e.step===t.step&&Qh(e.domain,t.domain):!1}function KE(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function UN(e,t){let n;const i=e.map(r=>r.point);switch(t.type){case"linear":n=gDe(i);break;case"smooth":n=yDe(i,t.tension);break;case"step":n=vDe(i,t.position);break}return n.map((r,s)=>({span:r,xValue0:e[s].xDatum,yValue0:e[s].yDatum,xValue1:e[s+1].xDatum,yValue1:e[s+1].yDatum}))}function qE(e,t,n=.001){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}function MH({path:e},t){let n;for(const{span:i}of t){const[r,s]=rc(i),o=n!=null&&qE(n,r)?1:0;BM(e,i,o,!1),n=s}}function SI(e,t,n){let i;for(const r of n){const[s,o]=$X(r.from,r.to,e),a=i!=null&&qE(i,s)?1:0;XB(t.path,r.from,r.to,e,a,!1),i=o}}function EH(e,t,n){const i=(a,l)=>SI(a,l,t.removed),r=(a,l)=>SI(a,l,t.moved),s=(a,l)=>SI(a,l,t.added),o=RH(e,n);return{status:e,path:{addPhaseFn:s,updatePhaseFn:r,removePhaseFn:i},pathProperties:o}}function RH(e,t){const n=t==="none"?"updated":e,i={fromFn:r=>{let s;return e==="removed"?s={finish:{visible:!1}}:e==="added"?s={start:{visible:!0}}:s={},{phase:Kc[n],...s}},toFn:r=>({phase:Kc[n]})};return t==="fade"?{fromFn:r=>({opacity:e==="added"?0:r.opacity,...i.fromFn(r)}),toFn:r=>({opacity:e==="removed"?0:1,...i.toFn(r)})}:i}function XX(e,t,n){var c,u;const i=((c=e.scales.x)==null?void 0:c.type)==="category",r=((u=t.scales.x)==null?void 0:u.type)==="category";if(i!==r||!KE(e.scales.x)||!KE(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const o=aE({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=EH(s,o,"fade"),l=((n==null?void 0:n.changed)??!0)||!ay(e.scales.x,t.scales.x)||!ay(e.scales.y,t.scales.y)||s!=="updated";return{status:s,stroke:a,hasMotion:l}}function QX({path:e},{spans:t,phantomSpans:n}){let i=0,r={x:NaN,y:NaN},s={x:NaN,y:NaN};for(let o=0;o<t.length;o+=1){const{span:a}=t[o],{span:l}=n[o],{0:c,1:u}=rc(a),{0:d,1:h}=rc(l);if(qE(r,c)&&qE(s,d))BM(e,a,1,!1);else{for(let p=o-1;p>=i;p-=1)BM(e,n[p].span,1,!0);e.closePath(),BM(e,a,0,!1),i=o}r=u,s=h}for(let o=t.length-1;o>=i;o-=1)BM(e,n[o].span,1,!0);e.closePath()}function xI(e,{path:t},n,i){for(let r=0;r<n.length;r+=1){const s=n[r],o=i[r];XB(t,s.from,s.to,e,0,!1),XB(t,o.from,o.to,e,1,!0),t.closePath()}}function JX(e,t,n,i){const r=(l,c)=>xI(l,c,t.removed,n.removed),s=(l,c)=>xI(l,c,t.moved,n.moved),o=(l,c)=>xI(l,c,t.added,n.added),a=RH(e,i);return{status:e,path:{addPhaseFn:o,updatePhaseFn:s,removePhaseFn:r},pathProperties:a}}function eQ(e,t){var d,h;const n=((d=e.scales.x)==null?void 0:d.type)==="category",i=((h=t.scales.x)==null?void 0:h.type)==="category";if(n!==i||!KE(e.scales.x)||!KE(t.scales.x))return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const s=aE({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(s==null)return;const o=aE({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=aE({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const l="none",c=JX(r,s,o,l),u=EH(r,a,l);return{status:r,fill:c,stroke:u}}var ta=0,sl=1,jl=2,$l=3,yd=4;function AH(e){let t=Math.ceil(Math.log2(e.length))-1;return t=Math.min(Math.max(t,0),24),2**t|0}function ZE(e,t){switch(e){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let n=1/0,i=-1/0;for(const r of t){const s=Number(r);n=Math.min(n,s),i=Math.max(i,s)}return[n,i]}case"color":case"log":case"mercator":return[0,0]}}function TH(e,t){return e/t}function pf(e,t,n){return(e.valueOf()-t)/(n-t)}function DH(e,t){return Math.min(Math.floor(e*t),t-1)*yd|0}function IH(e,t,n,i,r,s){const o=new Int32Array(s*yd).fill(-1),a=new Float64Array(s*yd).fill(NaN),l=Number.isFinite(i)&&Number.isFinite(r),c=e.length;for(let u=0;u<e.length;u+=1){const d=e[u];if(d==null)continue;const h=l?pf(d,i,r):TH(u,c),p=DH(h,s),m=t[u],v=n[u],y=m!=null?m.valueOf():NaN,C=v!=null?v.valueOf():NaN,S=o[p+ta]===-1;(S||h<a[p+ta])&&(o[p+ta]=u,a[p+ta]=h),(S||h>a[p+sl])&&(o[p+sl]=u,a[p+sl]=h),!Number.isNaN(C)&&(S||C<a[p+jl])&&(o[p+jl]=u,a[p+jl]=C),!Number.isNaN(y)&&(S||y>a[p+$l])&&(o[p+$l]=u,a[p+$l]=y)}return{indexData:o,valueData:a}}function NH(e,t,n,{inPlace:i=!1}={}){const r=n/2|0,s=i?e:new Int32Array(r*yd),o=i?t:new Float64Array(r*yd);for(let a=0;a<r;a+=1){const l=a*yd|0,c=l*2|0,u=c+yd|0,d=e[u+ta]===-1,h=d||t[c+ta]<t[u+ta]?c:u;s[l+ta]=e[h+ta],o[l+ta]=t[h+ta];const p=d||t[c+sl]>t[u+sl]?c:u;s[l+sl]=e[p+sl],o[l+sl]=t[p+sl];const m=d||t[c+jl]<t[u+jl]?c:u;s[l+jl]=e[m+jl],o[l+jl]=t[m+jl];const v=d||t[c+$l]>t[u+$l]?c:u;s[l+$l]=e[v+$l],o[l+$l]=t[v+$l]}return{maxRange:r,indexData:s,valueData:o}}var IDe=1e3,NDe=10;function BW(e,t,n,i,r,s){const o=e[s];if(o==null)return!1;const a=Number.isFinite(t)?pf(o,t,n):TH(s,e.length),l=DH(a,r);return s===i[l+ta]||s===i[l+sl]||s===i[l+jl]||s===i[l+$l]}function tQ(e,t,n,i){if(t.length<IDe)return;const[r,s]=ZE(e,i);let o=AH(t);const{indexData:a,valueData:l}=IH(t,n,n,r,s,o);let c=[];for(let d=0;d<t.length;d+=1)BW(t,r,s,a,o,d)&&c.push(d);const u=[{maxRange:o,indices:c}];for(;c.length>NDe&&o>64;)({maxRange:o}=NH(a,l,o,{inPlace:!0})),c=c.filter(BW.bind(null,t,r,s,a,o)),u.push({maxRange:o,indices:c});return u.reverse(),u}function XE({id:e},t,n,...i){const r={phase:n?Kc[n]:"trailing"};Ef(e,"markers",t,i,{opacity:0},{opacity:1},r),i.forEach(s=>s.cleanup())}function nQ({id:e},t,...n){Ef(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(i=>i.cleanup())}function LH({id:e,nodeDataDependencies:t},n,...i){const r=t.seriesRectWidth;ns(e,"markers",n,i,{fromFn:(a,l)=>{var d;const c=((d=l.midPoint)==null?void 0:d.x)??r;let u=Gt(0,OK(c/r),1);return isNaN(u)&&(u=0),{scalingX:0,scalingY:0,delay:u,duration:RN,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Fk(e){return{opacity:1,scalingX:1,scalingY:1}}function QE(e,t){var n,i,r,s;return{x:((n=t.point)==null?void 0:n.x)??NaN,y:((i=t.point)==null?void 0:i.y)??NaN,scalingCenterX:((r=t.point)==null?void 0:r.x)??NaN,scalingCenterY:((s=t.point)==null?void 0:s.y)??NaN}}function _k(e,{datumIndex:t}){const n=e.getNodeData();if(n===void 0)return;const i=n[t],{point:r}=i??{};if(i==null||r==null)return;const s=e.getFormattedMarkerStyle(i),o=ss.anchor(s.shape),a=r.focusSize??s.size,l=4+a,c=l/2,u=(o.x-.5)*a,d=(o.y-.5)*a,h=i.point.x-c-u,p=i.point.y-c-d;return mr.toCanvas(e.contentGroup,new ut(h,p,l,l))}function kH({id:e,visible:t,nodeDataDependencies:n},i,...r){const{seriesRectWidth:s,seriesRectHeight:o}=n;Ef(e,"path_properties",i,r,{clipX:0},{clipX:s},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function WN({id:e},t,n,i="add",...r){Ef(e,t,n,r,{opacity:0},{opacity:1},{phase:i})}function OH(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function jN({nodeDataDependencies:e},t){const n=i=>isFinite(i)?i:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}var LDe=.125,kDe=.25,ODe=kR(tQ),Bk=class extends o0{constructor(e){super({moduleCtx:e,propertyKeys:Xw,propertyNames:Qw,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:OH({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:r0,datum:(t,n)=>({...Fk(),...QE(t,n)})},clipFocusBox:!1}),this.properties=new Cr,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new nn({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>VN||this.contextNodeData.strokeData.spans.length>VN)}attachSeries(e,t,n){super.attachSeries(e,t,n),e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const n=this.isStacked()===this._isStacked;return this._isStacked=n,super.setSeriesIndex(e,n)}setZIndex(e){super.setZIndex(e),this.isStacked()?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1])}async processData(e){var A,T;if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=(A=this.axes.x)==null?void 0:A.scale,h=(T=this.axes.y)==null?void 0:T.scale,{xScaleType:p,yScaleType:m}=this.getScaleInformation({xScale:d,yScale:h}),v=r>1||c!=null,y={value:`area-stack-${i}-yValue`,values:`area-stack-${i}-yValues`,stack:`area-stack-${i}-yValue-stack`,marker:`area-stack-${i}-yValues-marker`},C={invalidValue:null};(QM(c)||l)&&r>1&&(C.invalidValue=0),n||(C.forceValue=0);const S=[fg(s,p,{id:"xValue"}),Di(o,m,{id:"yValueRaw",...C}),...a!=null?[Di(a,m,{id:"yFilterRaw"})]:[],...EZ(o,m,{id:"yValueStack",...C,groupId:y.stack}),Di(o,m,{id:"yValue",...C,groupId:y.value})];v&&S.push(...pg(o,"window","current",{id:"yValueEnd",...C,groupId:y.values},m),...pg(o,"normal","current",{id:"yValueCumulative",...C,groupId:y.marker},m)),QM(c)&&S.push(Ik(Object.values(y),c)),u&&S.push(c1());const{dataModel:x,processedData:R}=await this.requestDataModel(e,t,{props:S,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(x,R),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCumulativeKey(e){return e.type==="grouped"?"yValueCumulative":"yValue"}getSeriesDomain(e){const{processedData:t,dataModel:n,axes:i}=this;if(!t||!n)return[];const r=i.y;if(e==="x"){const o=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:hl(zg(a))}const s=this.domainForClippedRange("y",[this.yCumulativeKey(t)],"xValue");if(r instanceof Ww||r instanceof qd)return hl(s);{const o=Number.isFinite(s[1]-s[0])?[s[0]>0?0:s[0],s[1]<0?0:s[1]]:[];return hl(o)}}getSeriesRange(e,t){const[n,i]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",t);return[Math.min(n,0),Math.max(i,0)]}getVisibleItems(e,t,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}aggregateData(e,t){if(t.type==="grouped"||Uw(t))return;const n=this.axes.x;if(n==null)return;const{scale:i}=n,r=e.resolveColumnById(this,"xValue",t),s=e.resolveColumnById(this,"yValueRaw",t),o=e.getDomain(this,"xValue","value",t);return ODe(i.type,r,s,o)}createNodeData(){var dt;const{axes:e,data:t,processedData:n,dataModel:i,dataAggregationFilters:r}=this,s=e.x,o=e.y;if(!s||!o||!t||!i||!n)return;const{yKey:a,xKey:l,xName:c,yName:u,yFilterKey:d,marker:h,label:p,fill:m,stroke:v,connectMissingData:y,interpolation:C}=this.properties,{scale:S}=s,{scale:x}=o,R=this.getSeriesDomain("y"),{isContinuousY:A}=this.getScaleInformation({xScale:S,yScale:x}),T=(S.bandwidth??0)/2,L=n.type==="grouped",O=i.resolveKeysById(this,"xValue",n),F=i.resolveColumnById(this,"yValueRaw",n),H=L?i.resolveColumnById(this,"yValueCumulative",n):F,W=d!=null?i.resolveColumnById(this,"yFilterRaw",n):void 0,$=n.type==="grouped"?i.resolveColumnById(this,"yValueStack",n):void 0,Z=[],ie=[],{visibleSameStackCount:oe}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let te=!1;const{dataSources:ae}=n,ne=ae.get(this.id)??[],[Se,q]=S.range,re=Math.abs(q-Se),K=r==null?void 0:r.find(Ue=>Ue.maxRange>re);let V=0,G=0;const se=K==null?void 0:K.indices;[V,G]=this.visibleRangeIndices("xValue",s.range,se),V=Math.max(V-1,0),G=Math.min(G+1,(se==null?void 0:se.length)??O.length),n.input.count<1e3&&(V=0,G=n.input.count);const Y=(Ue,qe,at)=>{let nt;return(QM(this.properties.normalizedTo)?A&&JL(at):!isNaN(at))&&(nt=qe),{x:S.convert(Ue)+T,y:x.convert(nt),size:h.size}},ue=Ue=>{const qe=O[Ue];if(qe==null)return;const at=ne[Ue],nt=F[Ue],Fe=H[Ue],de=Number.isFinite(nt),we=Y(qe,+Fe,nt),Ge=W!=null?W[Ue]===nt:void 0;if(Ge===!1&&(te=!0),de&&h&&ie.push({series:this,itemId:a,datum:at,datumIndex:Ue,midPoint:{x:we.x,y:we.y},cumulativeValue:Fe,yValue:nt,xValue:qe,yKey:a,xKey:l,point:we,fill:h.fill??m,stroke:h.stroke??v,strokeWidth:h.strokeWidth??this.properties.strokeWidth,selected:Ge}),p.enabled&&de){const Le=this.getLabelText(nt,at,a,"y",R,p,{value:nt,datum:at,xKey:l,yKey:a,xName:c,yName:u});Z.push({series:this,itemId:a,datum:at,datumIndex:Ue,x:we.x,y:we.y,labelText:Le})}};if(n.type==="grouped")for(const{datumIndex:Ue}of i.forEachGroupDatum(this,n))ue(Ue);else for(let Ue=V;Ue<G;Ue+=1){const qe=(se==null?void 0:se[Ue])??Ue;O[qe]!=null&&ue(qe)}const J=Ue=>Ue.flatMap(qe=>Array.isArray(qe)?UN(qe,C):new Array(qe.skip).fill(null)),he=(Ue,qe)=>({point:{x:S.convert(Ue)+T,y:x.convert(qe)},xDatum:Ue,yDatum:qe}),Te=Ue=>{const qe=[],at=(nt,Fe,de)=>{const we=O[Fe],Ge=$!=null?$==null?void 0:$[Fe][Ue]:F[Fe];if(y&&!Number.isFinite(F[Fe]))return;const Le=Number.isFinite(Ge);let Qe=0,mt=!0,ln=0,Mn=!0;if($==null)mt=nt==null||Number.isFinite(F[nt]),Mn=de==null||Number.isFinite(F[de]),Qe=nt!=null&&Number.isFinite(F[nt])?Ge:0,ln=de!=null&&Number.isFinite(F[de])?Ge:0;else{const jt=$[Fe],Vn=nt!=null?$[nt]:void 0,ls=de!=null?$[de]:void 0;for(let jr=0;jr<=Ue;jr+=1){const Ss=jt[jr];if(Number.isFinite(Ss)){const fc=Vn==null||Number.isFinite(Vn[jr]),Qt=ls==null||Number.isFinite(ls[jr]);fc?Qe+=Ss:mt=!1,Qt?ln+=Ss:Mn=!1}}}const Lt=qe[qe.length-1];if(!y&&(!mt||!Mn||!Le||Qe!==ln))if(!Le&&Array.isArray(Lt)&&Lt.length===1)qe[qe.length-1]={skip:1};else{const jt=he(we,Qe),Vn=he(we,ln);Array.isArray(Lt)?Lt.push(jt):Lt!=null&&(Lt.skip+=1),qe.push(Le?[Vn]:{skip:0})}else{const jt=y?Ge:Math.max(Qe,ln),Vn=he(we,jt);Array.isArray(Lt)?Lt.push(Vn):Lt!=null?(Lt.skip+=1,qe.push([Vn])):qe.push([Vn])}};if(n.type==="grouped")for(const{datumIndexes:[nt,Fe,de]}of i.forEachGroupDatumTuple(this,n))at(nt,Fe,de);else{let nt,Fe;for(let de=V;de<G;de+=1){const we=(se==null?void 0:se[de])??de;O[we]!=null&&(Fe!=null&&at(nt,Fe,we),nt=Fe,Fe=we)}Fe!=null&&at(nt,Fe,void 0)}return J(qe)},ve=((dt=this.seriesGrouping)==null?void 0:dt.stackIndex)??0,Re=()=>{const Ue=at=>{const nt=O[at],Fe=($==null?void 0:$[at][ve])??F[at];if(!(y&&!Number.isFinite(Fe)))return he(nt,0)};let qe;if(n.type==="grouped")qe=Array.from(i.forEachGroupDatum(this,n),({datumIndex:at})=>Ue(at));else{qe=[];for(let at=V;at<G;at+=1){const nt=(se==null?void 0:se[at])??at;O[nt]!=null&&qe.push(Ue(nt))}}return qe=qe.filter(at=>at!=null),UN(qe,C)},ke=Te(ve),He=ke.map(()=>null);for(let Ue=ve-1;Ue>=-1;Ue-=1){let qe;for(let at=0;at<He.length;at+=1)He[at]==null&&(qe??(qe=Ue!==-1?Te(Ue):Re()),He[at]=qe[at])}const st=ke.map((Ue,qe)=>Ue??He[qe]),Dt=ke.filter(Ue=>Ue!=null);return{itemId:a,fillData:{itemId:a,spans:st,phantomSpans:He},strokeData:{itemId:a,spans:Dt},labelData:Z,nodeData:ie,scales:this.calculateScaling(),visible:this.visible,stackVisible:oe>0,crossFiltering:te}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var v;const{visible:t,animationEnabled:n}=e,[i,r]=e.paths,s=((v=this.contextNodeData)==null?void 0:v.crossFiltering)===!0,{strokeWidth:o,stroke:a,strokeOpacity:l,lineDash:c,lineDashOffset:u,fill:d,fillOpacity:h,opacity:p}=Gn(this.getHighlightStyle(),this.properties);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:a,strokeWidth:o,strokeOpacity:l*(s?kDe:1),lineDash:c,lineDashOffset:u,opacity:p,visible:t||n});const m=Pb(d,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);ef(i,{fill:m,stroke:void 0,fillOpacity:h*(s?LDe:1)},this.getShapeFillBBox()),i.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:p,visible:t||n}),jN(this,r),jN(this,i)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const n of e)n.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const n of e)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(e,t){const[n]=e;n.path.clear(),QX(n,t.fillData),n.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:n}=t.strokeData,[,i]=e;i.path.clear(),MH(i,n),i.markDirty("AreaSeries")}updateDatumSelection(e){var r;const{nodeData:t,datumSelection:n}=e,i=this.properties.marker.enabled||((r=this.contextNodeData)==null?void 0:r.crossFiltering)===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i?t:[])}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,marker:s,stroke:o,strokeWidth:a,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),d=this.getShapeFillBBox();t.each((h,p)=>{const{xValue:m,yValue:v}=p,y=hg(m,v,i,r,c,u),C=this.getMarkerStyle(s,p,y,n,void 0,{stroke:o,strokeWidth:a,strokeOpacity:l});this.applyMarkerStyle(C,h,p.point,d,{selected:p.selected})}),n||this.properties.marker.markClean(),n||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t)}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((r,s)=>{const{x:o,y:a,labelText:l}=s,c=t||this.isSeriesHighlighted(n),u=this.getHighlightStateString(n,c,s.datumIndex),d=vd(this,s,this.properties,this.properties.label,c,u),{enabled:h,fontStyle:p,fontWeight:m,fontSize:v,fontFamily:y,color:C}=d;l&&h&&this.visible?(r.fontStyle=p,r.fontWeight=m,r.fontSize=v,r.fontFamily=y,r.textAlign="center",r.textBaseline="bottom",r.text=l,r.x=o,r.y=a-10,r.fill=C,r.fillOpacity=this.getHighlightStyle(t,s.datumIndex).opacity??1,r.visible=!0,r.setBoxing(d)):r.visible=!1})}getTooltipContent(e){var A;const{id:t,dataModel:n,processedData:i,axes:r,properties:s}=this,{xKey:o,xName:a,yKey:l,yName:c,tooltip:u,marker:d,legendItemName:h}=s,p=r.x,m=r.y;if(!n||!i||!p||!m)return;const v=(A=i.dataSources.get(this.id))==null?void 0:A[e],y=n.resolveKeysById(this,"xValue",i)[e],C=n.resolveColumnById(this,"yValueRaw",i)[e],{xDomain:S,yDomain:x}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(y==null)return;const R=this.getMarkerStyle(d,{datum:v,datumIndex:e},hg(y,C,o,l,S,x),!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(p,"tooltip",y,v,o,h),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(m,"tooltip",C,v,l,h)}]},{seriesId:t,datum:v,title:c,xKey:o,xName:a,yKey:l,yName:c,...R,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:n,strokeOpacity:i,strokeWidth:r,lineDash:s,marker:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties,u=!o.enabled||o.fill===void 0,d=u?Pb(e,a,l,c):Pb(o.fill,o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults);return{marker:{...this.getMarkerStyle(o,{},void 0,!1,{size:o.size,fill:d,fillOpacity:u?n:o.fillOpacity},void 0,!1),enabled:o.enabled||r<=0},line:{stroke:t,strokeOpacity:i,strokeWidth:r,lineDash:s}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:r,yName:s,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:r,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:o??s??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,contextData:i,paths:r}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(r,i),kH(this,s,...r),Js([t],QE),LH(this,s,t),Mr(this,"labels",s,n)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,contextData:r,paths:s,previousContextData:o}=e,[a,l]=s;if(r.visible===!1&&(o==null?void 0:o.visible)===!1||a==null&&l==null)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(s,r)},u=()=>{t.skipCurrentBatch(),c()};if(r==null||o==null){c(),XE(this,t,"added",n),WN(this,"fill_path_properties",t,"add",a),WN(this,"stroke_path_properties",t,"add",l),Mr(this,"labels",t,i);return}if(r.crossFiltering!==o.crossFiltering){u();return}const d=eQ(r,o);if(d===void 0){u();return}else if(d.status==="no-op")return;XE(this,t,void 0,n),ns(this.id,"fill_path_properties",t,[a],d.fill.pathProperties),HN(this.id,"fill_path_update",t,[a],d.fill.path),ns(this.id,"stroke_path_properties",t,[l],d.stroke.pathProperties),HN(this.id,"stroke_path_update",t,[l],d.stroke.path),Mr(this,"labels",t,i),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,r)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ss}getFormattedMarkerStyle(e){const{xValue:t,yValue:n,xKey:i,yKey:r}=e,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,hg(t,n,i,r,s,o),!0)}computeFocusBounds(e){return _k(this,e)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};Bk.className="AreaSeries";Bk.type="area";var PDe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new Bk(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:Bw,fillPatternDefaults:ff,fillImageDefaults:qy,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:_g,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:n1,fillPatternDefaults:ff},label:{...Ql,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:Bg()}}},iQ={type:"series",name:"area",chartType:"cartesian",options:jZ,create:e=>new Bk(e)},PH=class extends os{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(e,t){return this.feathered?this.getBBox().containsPoint(e,t):super.isPointInPath(e,t)}updatePath(){if(!this.feathered){super.updatePath();return}const{path:e,x:t,y:n,width:i,height:r,direction:s,featherRatio:o}=this;if(e.clear(),s==="x"){const a=Math.abs(o)*i;o>0?(e.moveTo(t,n),e.lineTo(t+i-a,n),e.lineTo(t+i,n+r/2),e.lineTo(t+i-a,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t+a,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r),e.lineTo(t+a,n+r),e.lineTo(t,n+r/2),e.closePath())}else{const a=Math.abs(o)*r;o>0?(e.moveTo(t,n+a),e.lineTo(t+i/2,n),e.lineTo(t+i,n+a),e.lineTo(t+i,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r-a),e.lineTo(t+i/2,n+r),e.lineTo(t,n+r-a),e.closePath())}}};P([Xe()],PH.prototype,"direction",2);P([Xe()],PH.prototype,"featherRatio",2);function FH(e,t){for(const n of t){const i=n.datum;i===void 0?Je.error("undefined datum"):e.addValue(n,i)}}function $N(e,t){const{x:n,y:i}=t,{nearest:r,distanceSquared:s}=e.getQuadTree().find(n,i);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(s)}}var _H=class extends Wg{constructor(){super(...arguments),this.direction="vertical"}};P([z],_H.prototype,"direction",2);var rQ=class extends o0{constructor(){super(...arguments),this.groupScale=new Fw,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const n=typeof t=="boolean"?1:.5,i=ii(this.smallestDataInterval)?this.smallestDataInterval*n:0,r=zg(e)??[NaN,NaN];return typeof t=="boolean"?r[t?0:1]-=(t?1:-1)*i:(r[0]-=i,r[1]+=i),hl(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e,t){return wi.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval,t):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],n=t.scale,i=this.getBandwidth(t,0)??0,r=wi.is(n)?i*-.5:0,s=n.convert(e)+r;return[s,s+i]}yCoordinateRange(e){const n=this.axes[this.getBarDirection()].scale,i=e.map(r=>n.convert(r));if(i.length===1){const r=n.convert(0);return[Math.min(i[0],r),Math.max(i[0],r)]}return[Math.min(...i),Math.max(...i)]}updateGroupScale(e){const t=[],{groupScale:n}=this,i=this.getBandwidth(e),{index:r,visibleGroupCount:s}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<s;a++)t.push(String(a));return n.domain=t,n.range=[0,i??0],e instanceof Xy?n.paddingInner=e.groupPaddingInner:e instanceof Vw?(n.paddingInner=e.groupPaddingInner,n.round=n.padding!==0):n.padding=0,{barWidth:n.bandwidth>=1?n.bandwidth:n.rawBandwidth,groupIndex:r}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){FH(e,this.datumNodesIter())}pickNodesExactShape(e){const t=$N(this,e);return t!=null&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return $N(this,e)}},FDe=ta,_De=sl,BDe=jl,GDe=$l,zDe=yd,HDe=1e3;function GW(e,t){return Array.from({length:e},(n,i)=>{const r=i*yd,s=t[r+ta],o=t[r+sl];return(s+o)/2|0})}function VDe(e,t,n,i){if(t.length<HDe)return;const[r,s]=ZE(e,i);let o=AH(t),{indexData:a,valueData:l}=IH(t,n,n,r,s,o),c=GW(o,a);const u=[{maxRange:o,indexData:a,indices:c}];for(;o>64;)({indexData:a,valueData:l,maxRange:o}=NH(a,l,o)),c=GW(o,a),u.push({maxRange:o,indexData:a,indices:c});return u.reverse(),u}var BH=class extends yr{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};P([z],BH.prototype,"placement",2);P([z],BH.prototype,"spacing",2);var qi=class extends _H{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new oc,this.fillPatternDefaults=new Ki,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Zd,this.label=new BH,this.tooltip=s0(),this.sparklineMode=!1}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,cornerRadius:a,opacity:1}}};P([z],qi.prototype,"xKey",2);P([z],qi.prototype,"xName",2);P([z],qi.prototype,"yKey",2);P([z],qi.prototype,"yName",2);P([z],qi.prototype,"yFilterKey",2);P([z],qi.prototype,"stackGroup",2);P([z],qi.prototype,"normalizedTo",2);P([z],qi.prototype,"fill",2);P([z],qi.prototype,"fillGradientDefaults",2);P([z],qi.prototype,"fillPatternDefaults",2);P([z],qi.prototype,"fillImageDefaults",2);P([z],qi.prototype,"fillOpacity",2);P([z],qi.prototype,"stroke",2);P([z],qi.prototype,"strokeWidth",2);P([z],qi.prototype,"strokeOpacity",2);P([z],qi.prototype,"lineDash",2);P([z],qi.prototype,"lineDashOffset",2);P([z],qi.prototype,"cornerRadius",2);P([z],qi.prototype,"crisp",2);P([z],qi.prototype,"itemStyler",2);P([z],qi.prototype,"shadow",2);P([z],qi.prototype,"label",2);P([z],qi.prototype,"tooltip",2);P([z],qi.prototype,"sparklineMode",2);function sQ(e,t,n,i){if(t!=null){const[r,s]=t;if(r!==0||s!==1)return!1}if(wi.is(e)){const r=e.calcBandwidth(i)-e.calcBandwidth(n);if(r>0&&r<1)return!1}if(Mf.is(e)){const{bandwidth:r,step:s}=e;if(r>0&&r<1)return!1;const o=s-r;if(o>0&&o<1)return!1}return!0}var o2=e=>q4(e.yValue??0);function YN(e,t,n){const{startingX:i,startingY:r}=WDe(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:i,c=e?r:o.y,u=e?o.width:0,d=e?0:o.height;const{opacity:h=1}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,u=e?a.width:0,d=e?0:a.height,e&&!o2(a)?c+=a.height:!e&&o2(a)&&(l+=a.width));let p;return o.clipBBox==null?p=void 0:o2(o)?p=e?new ut(l,c-d,u,d):new ut(l-u,c,u,d):p=new ut(l,c,u,d),{x:l,y:c,width:u,height:d,clipBBox:p,opacity:h}},mode:n}}function UDe(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity??1}),mode:t}}function KN(e){const t=s=>s==null||isNaN(s.x)||isNaN(s.y);return{toFn:(s,o,a)=>a==="removed"&&s.datum==null&&e.mode==="fade"?{...JE(s,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,s.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(s,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(s.previousDatum)&&(a="added");let l;a==="added"&&s.previousDatum==null&&e.mode==="fade"?l={...JE(s,o),opacity:0}:a==="unknown"||a==="added"?l=e.calculate(o,s.previousDatum):l={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity??1};const c=Kc[a];return{...l,phase:c}},applyFn:(s,o,a)=>{var l;s.setProperties(o),s.crisp=a==="end"&&(((l=s.datum)==null?void 0:l.crisp)??!1)}}}function WDe(e,t){const n=t[e?"y":"x"];let i=1/0,r=0;return n?(e?r=n.scale.convert(wi.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(wi.is(n.scale)?0:Math.min(...n.range)),{startingX:i,startingY:r}):{startingX:i,startingY:r}}function JE(e,{x:t,y:n,width:i,height:r,clipBBox:s,opacity:o=1}){var a;return{x:t,y:n,width:i,height:r,clipBBox:s,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function GH(e,t){if(t===void 0)return;const{x:n,y:i,width:r,height:s}=t;return mr.toCanvas(e.contentGroup,new ut(n,i,r,s))}function oQ(e,t,n,i,r,s){var l,c,u;let o=(c=(l=s==null?void 0:s.reduced)==null?void 0:l.diff)==null?void 0:c[e];if(o!=null&&o.changed)return o;const a=jDe(i,r);return o==null&&((u=s==null?void 0:s.reduced)==null?void 0:u.diff)!=null?(o={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},a?o.updated=new Set(Array.from(t,({datum:d})=>n(d))):o.added=new Set(Array.from(t,({datum:d})=>n(d)))):a&&(o={changed:!0,added:new Set,updated:new Set(Array.from(t,({datum:d})=>n(d))),removed:new Set,moved:new Set}),o}function zW(e){return typeof e=="object"&&e!==null&&"groupScale"in e}function jDe(e,t){if(!t)return!1;const n=e.scales,i=t.scales;if(!ay(n.x,i.x)||!ay(n.y,i.y))return!0;if(!zW(e)||!zW(t))return!1;const r=e.groupScale,s=t.groupScale;return!ay(r,s)}var $De=kR(VDe),p1=class extends rQ{constructor(e){super({moduleCtx:e,propertyKeys:Xw,propertyNames:Qw,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:JE,label:r0}}),this.properties=new qi,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var T,L,O,F,H;if(!this.data)return;const{xKey:t,yKey:n,yFilterKey:i,normalizedTo:r}=this.properties,{seriesGrouping:{groupIndex:s=this.id}={},data:o}=this,l=(((T=this.seriesGrouping)==null?void 0:T.stackCount)??0)>1||r!=null,c=l,u=!this.ctx.animationManager.isSkipped(),d=(L=this.getCategoryAxis())==null?void 0:L.scale,h=(O=this.getValueAxis())==null?void 0:O.scale,{isContinuousX:p,xScaleType:m,yScaleType:v}=this.getScaleInformation({xScale:d,yScale:h}),y=`bar-stack-${s}-yValues`,C=`${y}-trailing`,S=this.visible?{}:{forceValue:0},x=[fg(t,m,{id:"xValue"}),Di(n,v,{id:"yValue-raw",invalidValue:null,...S})];this.crossFilteringEnabled()&&x.push(Di(i,v,{id:"yFilterValue",invalidValue:null,...S})),l&&x.push(...pg(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:y,separateNegative:!0,...S},v),...pg(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:C,separateNegative:!0,...S},v)),p&&x.push(RZ,AZ),ii(r)&&x.push(Ik([y,C],Math.abs(r))),u&&this.processedData&&x.push(u1(this.id,this.processedData)),(u||!c)&&x.push(c1());const{dataModel:R,processedData:A}=await this.requestDataModel(e,o,{props:x,groupByKeys:c,groupByData:!c});this.dataAggregationFilters=this.aggregateData(R,A),this.smallestDataInterval=(F=A.reduced)==null?void 0:F.smallestKeyInterval,this.largestDataInterval=(H=A.reduced)==null?void 0:H.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:n}=this;if(n==null||t==null)return[];if(e===this.getCategoryDirection()){const a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}const i=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let r=this.domainForClippedRange(e,[i],"xValue");const s=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",t):void 0;if(s!=null&&(r=[Math.min(r[0],s[0]),Math.max(r[1],s[1])]),this.getValueAxis()instanceof Ww)return hl(r);{const a=Number.isFinite(r[1]-r[0])?[Math.min(0,r[0]),Math.max(0,r[1])]:[];return hl(a)}}getSeriesRange(e,t){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[i,r]=this.domainForVisibleRange("y",[n],"xValue",t);return[Math.min(i,0),Math.max(r,0)]}getVisibleItems(e,t,n){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if(t.type!=="ungrouped"||Uw(t))return;const n=this.axes.x;if(n==null)return;const i=e.resolveKeysById(this,"xValue",t),r=e.resolveColumnById(this,"yValue-raw",t),{index:s}=e.resolveProcessedDataDefById(this,"xValue"),o=t.domain.keys[s];return $De(n.scale.type,i,r,o)}createNodeData(){var re,K;const{dataModel:e,processedData:t,groupScale:n,dataAggregationFilters:i}=this,r=this.getCategoryAxis(),s=this.getValueAxis();if(!e||!t||!r||!s)return;const o=(re=t.dataSources)==null?void 0:re.get(this.id);if(o==null)return;const a=r.scale,l=s.scale,{xKey:c,yKey:u,xName:d,yName:h,legendItemName:p,label:m}=this.properties,v=this.getSeriesDomain("y"),y=s.isReversed(),{barWidth:C,groupIndex:S}=this.updateGroupScale(r),x=n.convert(String(S)),R=wi.is(a)?C*-.5:0,A=e.resolveKeysById(this,"xValue",t),T=e.resolveColumnById(this,"yValue-raw",t),L=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,O=!this.ctx.animationManager.isSkipped(),F=V=>a.convert(A[V])+x+R,H=this.properties.crisp??sQ(r==null?void 0:r.scale,r==null?void 0:r.visibleRange,this.smallestDataInterval,this.largestDataInterval),W=l.convert(0),$=({datum:V,datumIndex:G,xValue:se,yValue:Y,cumulativeValue:ue,phantom:J,currY:he,prevY:Te,x:ve,width:Re,isPositive:ke,yRange:He,labelText:st,opacity:Dt,featherRatio:ot,crossScale:dt=1})=>{const Ue=ke!==y,qe=l.convert(he),at=l.convert(Te),nt=l.convert(He),Fe=this.getBarDirection()==="x",de=Re*.5*(1-dt),we={x:Fe?Math.min(qe,at):ve+de,y:Fe?ve+de:Math.min(qe,at),width:Fe?Math.abs(at-qe):Re*dt,height:Fe?Re*dt:Math.abs(at-qe)},Ge=new ut(we.x,we.y,we.width,we.height),Le={x:Fe?Math.min(W,nt):ve+de,y:Fe?ve+de:Math.min(W,nt),width:Fe?Math.abs(W-nt):Re*dt,height:Fe?Re*dt:Math.abs(W-nt)},Qe=this.shouldFlipXY()?we.height:we.width,mt=m.spacing+(typeof m.padding=="number"?m.padding:0);return{series:this,itemId:J?tf(u,J):u,datum:V,datumIndex:G,cumulativeValue:ue,phantom:J,xValue:se,yValue:Y,yKey:u,xKey:c,capDefaults:{lengthRatioMultiplier:Qe,lengthMax:Qe},x:Le.x,y:Le.y,width:Le.width,height:Le.height,midPoint:{x:we.x+we.width/2,y:we.y+we.height/2},opacity:Dt,featherRatio:ot,topLeftCornerRadius:Fe!==Ue,topRightCornerRadius:Ue,bottomRightCornerRadius:Fe===Ue,bottomLeftCornerRadius:!Ue,clipBBox:Ge,crisp:H,label:st!=null?{text:st,..._X({isUpward:Ue,isVertical:!Fe,placement:m.placement,spacing:mt,rect:we})}:void 0,missing:Y==null,focusable:!J}},Z=[],ie=[],oe=[],te=(V,G,se,Y,ue,J,he=0,Te=1)=>{const ve=A[V];if(ve==null)return;const Re=o[V],ke=T[V],He=L!=null?Number(L[V]):void 0,st=ke>=0&&!Object.is(ke,-0);if(!Number.isFinite(ue)||He!=null&&!Number.isFinite(He))return;const Dt=m.enabled&&ke!=null?this.getLabelText(He??ke,Re,u,"y",v,m,{datum:Re,value:He??ke,xKey:c,yKey:u,xName:d,yName:h,legendItemName:p}):void 0,ot=He!=null&&He>ke,dt=$({datum:Re,datumIndex:V,xValue:ve,yValue:He??ke,cumulativeValue:He??ue,phantom:!1,currY:He!=null?Y+He:ue,prevY:Y,x:G,width:se,isPositive:st,yRange:Math.max(Y+(He??-1/0),J),labelText:Dt,opacity:Te,featherRatio:he,crossScale:ot?.6:void 0});if(ie.push(dt),oe.push(dt),He!=null){const Ue=$({datum:o[V],datumIndex:V,xValue:ve,yValue:He,cumulativeValue:He,phantom:!0,currY:ue,prevY:Y,x:G,width:se,isPositive:st,yRange:J,labelText:void 0,opacity:Te,featherRatio:he,crossScale:void 0});Z.push(Ue)}},[ae,ne]=a.range,Se=Math.abs(ne-ae),q=i==null?void 0:i.find(V=>V.maxRange>Se);if(t.type==="grouped"){const V=C,G=e.hasColumnById(this,"yValue-start"),se=G?e.resolveColumnById(this,"yValue-start",t):void 0,Y=G?e.resolveColumnById(this,"yValue-end",t):void 0,ue=G?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:J,group:{aggregation:he}}of e.forEachGroupDatum(this,t)){const Te=F(J),ve=T[J],Re=ve>=0&&!Object.is(ve,-0),ke=G?Number(se==null?void 0:se[J]):0,He=G?Number(Y==null?void 0:Y[J]):ve;let st=He;G&&(st=he[ue][Re?1:0]),te(J,Te,V,ke,He,st)}}else if(q==null){const V=(K=t.invalidData)==null?void 0:K.get(this.id),G=C;let[se,Y]=this.visibleRangeIndices("xValue",r.range);t.input.count<1e3&&(se=0,Y=t.input.count);for(let ue=se;ue<Y;ue+=1){if((V==null?void 0:V[ue])===!0)continue;const J=F(ue),he=Number(T[ue]);te(ue,J,G,0,he,he)}}else{const{indexData:V,indices:G}=q,[se,Y]=this.visibleRangeIndices("xValue",r.range,G),ue=y?-1:1;for(let J=se;J<Y;J+=1){const he=J*zDe,Te=V[he+FDe],ve=V[he+_De],Re=V[he+BDe],ke=V[he+GDe];if(Te===-1)continue;const He=F((Te+ve)/2|0),st=Math.abs(F(ve)-F(Te))+C,Dt=Math.abs(ve-Te),ot=Mf.is(a)?a.bandwidth*Math.max(Dt-1,1)/(a.step*Dt):1,dt=A[ke]!=null?Number(T[ke]):NaN,Ue=A[Re]!=null?Number(T[Re]):NaN;if(dt>0){const qe=Ue>=0?ue*(1-Ue/dt):ue;te(ke,He,st,0,dt,dt,qe,ot)}if(Ue<0){const qe=dt<=0?-ue*(1-dt/Ue):-ue;te(Re,He,st,0,Ue,Ue,qe,ot)}}}return{itemId:u,nodeData:Z.length>0?[...Z,...ie]:ie,labelData:oe,scales:this.calculateScaling(),visible:this.visible||O,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new PH}getHighlightData(e,t){const n=e.find(i=>i.datum===t.datum&&!i.phantom);return n!=null?[n]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemStyle(e,t){const{id:n,properties:i}=this,{xKey:r,yKey:s,itemStyler:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=i,{xValue:u,yValue:d,datum:h,datumIndex:p}=e,m=this.getHighlightStyle(t,p);let v=Ad(Gn(m,i.getStyle()),a,l,c);if(o&&e!=null){const{xDomain:y,yDomain:C}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),S=this.cachedDatumCallback(tf(this.getDatumId(e),t?"highlight":"node"),()=>{var A;const x=(A=this.ctx.highlightManager)==null?void 0:A.getActiveHighlight(),R=this.getHighlightStateString(x,t,p);return this.callWithContext(o,{seriesId:n,...hg(u,d,r,s,y,C),datum:h,xValue:u,yValue:d,highlighted:t,highlightState:R,...v})});S&&(v=Ad(Gn(S,v),a,l,c))}return v}updateDatumNodes(e){const{shadow:t}=this.properties,n=this.getCategoryDirection()==="x",i=this.getShapeFillBBox(),r=this.getBarDirection();e.datumSelection.each((s,o)=>{var c,u;const a=this.getItemStyle(o,e.isHighlight);ef(s,a,i);const l=a.cornerRadius??0;s.topLeftCornerRadius=o.topLeftCornerRadius?l:0,s.topRightCornerRadius=o.topRightCornerRadius?l:0,s.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,s.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,s.visible=n?(((c=o.clipBBox)==null?void 0:c.width)??o.width)>0:(((u=o.clipBBox)==null?void 0:u.height)??o.height)>0,s.direction=r,s.featherRatio=o.featherRatio,s.crisp=o.crisp,s.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.pointerEvents=1})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};e.labelSelection.each((i,r)=>{var a;i.fillOpacity=this.getHighlightStyle(t,r==null?void 0:r.datumIndex).opacity??1;const s=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight(),o=this.getHighlightStateString(s,t,r.datumIndex);FX(this,i,n,this.properties.label,r.label,t,o)})}getTooltipContent(e){var x,R,A;const{id:t,dataModel:n,processedData:i,properties:r}=this,{xKey:s,xName:o,yKey:a,yName:l,legendItemName:c,stackGroup:u,tooltip:d}=r,h=this.getCategoryAxis(),p=this.getValueAxis(),m=(R=(x=this.contextNodeData)==null?void 0:x.nodeData)==null?void 0:R[e];if(!n||!i||!h||!p||!m)return;const v=(A=i.dataSources.get(this.id))==null?void 0:A[e],y=n.resolveKeysById(this,"xValue",i)[e],C=n.resolveColumnById(this,"yValue-raw",i)[e];if(y==null)return;const S=this.getItemStyle(m,!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(h,"tooltip",y,v,s,c),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:a,value:this.getAxisValueText(p,"tooltip",C,v,a,c)}]},{seriesId:t,datum:v,title:l,xKey:s,xName:o,yKey:a,yName:l,legendItemName:c,stackGroup:u,...S,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:n,fillOpacity:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:Ad({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:r,strokeWidth:n,lineDash:s,lineDashOffset:o},a,l,c)}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category")return[];const{id:n,ctx:{legendManager:i},visible:r}=this,{yKey:s,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:n,itemId:s,seriesId:n,enabled:r&&i.getItemEnabled({seriesId:n,itemId:s}),label:{text:a??o??s},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){const i=KN(YN(this.isVertical(),this.axes,"normal"));ns(this.id,"nodes",this.ctx.animationManager,[e],i),Mr(this,"labels",this.ctx.animationManager,t),Mr(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:r,previousContextData:s}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const o=oQ(this.id,t,this.getDatumId.bind(this),e.contextData,s,this.processedData),a=s==null?"fade":"normal",l=KN(YN(this.isVertical(),this.axes,a));ns(this.id,"nodes",this.ctx.animationManager,[t],l,(c,u)=>this.getDatumId(u),o),(o!=null&&o.changed||!ay(r.groupScale,s==null?void 0:s.groupScale))&&(Mr(this,"labels",this.ctx.animationManager,n),Mr(this,"annotations",this.ctx.animationManager,...i))}getDatumId(e){return tf(e.xValue,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var n;const t=(n=this.contextNodeData)==null?void 0:n.nodeData[e].clipBBox;return GH(this,t)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};p1.className="BarSeries";p1.type="bar";var aQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new p1(e),stackable:!0,groupable:!0,defaultAxes:iZ,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Bw,fillPatternDefaults:ff,fillImageDefaults:qy,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:{...Ql,padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:_g,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:Bg()}}},lQ={type:"series",name:"bar",chartType:"cartesian",options:Lk,create:e=>new p1(e)},kD=3,YDe=5;function HW(e,t,n,i,r,s,o,a,l,c,u){let d=0,h=1/0;const p=(a+c)/2,m=(l+u)/2;for(const v of o){const y=e[v],C=t[v];if(y==null||C==null)continue;const S=pf(y,n,r),x=pf(C,i,s),R=(S-p)**2+(x-m)**2;R<h&&(h=R,d=v)}return d}function KDe(e,t,n,i,r,s,o,a,l,c,u){let d=0;for(const h of o){const p=e[h],m=t[h];if(p==null||m==null)continue;const v=pf(p,n,r),y=pf(m,i,s);v>=a&&v<=c&&y>=l&&y<=u&&(d+=1)}return d}function QB(e,t,n,i,r,s,o,a,l,c,u){if(o.length<YDe)return;if(a===c&&l===u){const C=HW(e,t,n,i,r,s,o,a,l,c,u);return{scale:0,x0:a,y0:l,x1:c,y1:u,indices:o,primaryDatumIndex:C,children:null}}const d=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],h=(a+c)/2,p=(l+u)/2;for(const C of o){const S=e[C],x=t[C];if(S==null||x==null)continue;const R=pf(S,n,r),A=pf(x,i,s),T=(R>h?1:0)+(A>p?2:0),L=d[T];L.indices.push(C),L.x0=Math.min(L.x0,R),L.y0=Math.min(L.y0,A),L.x1=Math.max(L.x1,R),L.y1=Math.max(L.y1,A)}let m=[];for(const C of d){const{indices:S,x0:x,x1:R,y0:A,y1:T}=C,L=QB(e,t,n,i,r,s,S,x,A,R,T);L!=null&&m.push(L)}if(m.length===1)return m[0];m.length===0&&(m=null);const v=Math.hypot(c-a,u-l),y=HW(e,t,n,i,r,s,o,a,l,c,u);return{scale:v,x0:a,y0:l,x1:c,y1:u,indices:o,primaryDatumIndex:y,children:m}}function qDe(e,t,n,i,r,s,o,a){const[l,c]=ZE(e,s),[u,d]=ZE(t,o),[h,p]=a,m=[];if(r!=null&&p>h){const v=Array.from({length:kD},()=>[]);for(let y=0;y<r.length;y+=1){const x=(r[y]-h)/(p-h)*kD|0;x>=0&&x<kD&&v[x].push(y)}for(let y=0;y<v.length;y+=1){const C=v[y],S=QB(n,i,l,u,c,d,C,0,0,1,1);if(S!=null){const x=y/kD;m.push({sizeRatio:x,node:S})}}}else{const v=n.map((C,S)=>S),y=QB(n,i,l,u,c,d,v,0,0,1,1);y!=null&&m.push({sizeRatio:0,node:y})}return m.length>0?{xValues:n,yValues:i,xd0:l,xd1:c,yd0:u,yd1:d,filters:m}:void 0}function cQ(e,t,n,i,r,s){const{xRange:o,yRange:a,xVisibleRange:[l,c],yVisibleRange:[u,d],minSize:h,maxSize:p}=n,{xValues:m,yValues:v,xd0:y,xd1:C,yd0:S,yd1:x}=t,R=1/Math.min(o/(c-l),a/(d-u));for(const{sizeRatio:A,node:T}of t.filters){const L=.5*(h+A*(p-h)),O=L*R,F=e*O,H=l-L/o,W=c+L/o,$=u-L/a,Z=d+L/a,ie=[T];for(;ie.length>0;){const oe=ie.pop();if(!(oe.x1<H||oe.x0>W||oe.y1<$||oe.y0>Z))if(oe.scale<=F)i!=null&&(i.count+=1),r==null||r.push({datumIndex:oe.primaryDatumIndex,count:oe.indices.length,dilation:Gt(1,oe.scale/O,e)});else if(oe.children==null){const{indices:te}=oe;if(i!=null){const ne=oe.x0>=l&&oe.x1<=c&&oe.y0>=u&&oe.y1<=d?te.length:KDe(m,v,y,S,C,x,te,l,u,c,d);i.count+=ne}s==null||s.push(...te)}else ie.push(...oe.children)}}}function JB(e,t,n){const i={count:0};return cQ(e,t,n,i,void 0,void 0),i.count}var ZDe=100,XDe=12;function QDe(e,t,n){let i=1,r=2;for(;JB(r,e,t)>n&&r<ZDe;)i*=2,r*=2;for(let s=0;s<XDe;s+=1){const o=(r+i)/2;JB(o,e,t)>n?i=o:r=o}return i}function JDe(e,t,n){const i=[],r=[];return cQ(e,t,n,void 0,i,r),{groupedAggregation:i,singleDatumIndices:r}}var zH=class extends Os{constructor(){super(...arguments),this.maxSize=30}};P([z,Xe()],zH.prototype,"maxSize",2);P([z,rz()],zH.prototype,"domain",2);var uQ=class extends yr{constructor(){super(...arguments),this.placement="top"}};P([z],uQ.prototype,"placement",2);var oi=class extends Wg{constructor(){super(...arguments),this.label=new uQ,this.tooltip=s0(),this.maxRenderedItems=1/0,this.marker=new zH}};P([z],oi.prototype,"xKey",2);P([z],oi.prototype,"yKey",2);P([z],oi.prototype,"sizeKey",2);P([z],oi.prototype,"labelKey",2);P([z],oi.prototype,"xFilterKey",2);P([z],oi.prototype,"yFilterKey",2);P([z],oi.prototype,"sizeFilterKey",2);P([z],oi.prototype,"xName",2);P([z],oi.prototype,"yName",2);P([z],oi.prototype,"sizeName",2);P([z],oi.prototype,"labelName",2);P([z],oi.prototype,"title",2);P([bs("marker.shape")],oi.prototype,"shape",2);P([bs("marker.size")],oi.prototype,"size",2);P([bs("marker.maxSize")],oi.prototype,"maxSize",2);P([bs("marker.domain")],oi.prototype,"domain",2);P([bs("marker.fillGradientDefaults")],oi.prototype,"fillGradientDefaults",2);P([bs("marker.fillPatternDefaults")],oi.prototype,"fillPatternDefaults",2);P([bs("marker.fillImageDefaults")],oi.prototype,"fillImageDefaults",2);P([bs("marker.fill")],oi.prototype,"fill",2);P([bs("marker.fillOpacity")],oi.prototype,"fillOpacity",2);P([bs("marker.stroke")],oi.prototype,"stroke",2);P([bs("marker.strokeWidth")],oi.prototype,"strokeWidth",2);P([bs("marker.strokeOpacity")],oi.prototype,"strokeOpacity",2);P([bs("marker.lineDash")],oi.prototype,"lineDash",2);P([bs("marker.lineDashOffset")],oi.prototype,"lineDashOffset",2);P([bs("marker.itemStyler")],oi.prototype,"itemStyler",2);P([z],oi.prototype,"label",2);P([z],oi.prototype,"tooltip",2);P([z],oi.prototype,"maxRenderedItems",2);var eIe=class extends SH{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},g1=class extends o0{constructor(e){super({moduleCtx:e,propertyKeys:{...Xw,label:["labelKey"],size:["sizeKey"]},propertyNames:{...Qw,label:["labelName"],size:["sizeName"]},categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:r0,datum:Fk},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=eIe,this.properties=new oi,this.dataAggregation=void 0,this.sizeScale=new oy}get pickModeAxis(){return"main-category"}async processData(e){var S,x;if(this.data==null||!this.visible)return;const t=(S=this.axes.x)==null?void 0:S.scale,n=(x=this.axes.y)==null?void 0:x.scale,{xScaleType:i,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),s=this.sizeScale.type,{xKey:o,yKey:a,sizeKey:l,xFilterKey:c,yFilterKey:u,sizeFilterKey:d,labelKey:h,marker:p}=this.properties,{dataModel:m,processedData:v}=await this.requestDataModel(e,this.data,{props:[Di(o,i,{id:"xValue"}),Di(a,r,{id:"yValue"}),...c!=null?[Di(c,i,{id:"xFilterValue"})]:[],...u!=null?[Di(u,r,{id:"yFilterValue"})]:[],...d!=null?[Di(d,s,{id:"sizeFilterValue"})]:[],...l?[Di(l,s,{id:"sizeValue"})]:[],...h?[Di(h,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(m,v);const y=l?m.resolveProcessedDataIndexById(this,"sizeValue"):void 0,C=p.domain?[p.domain[0],p.domain[1]]:void 0;this.sizeScale.domain=C??(y==null?void 0:v.domain.values[y])??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,n){const{properties:i,sizeScale:r}=this,{size:s,sizeKey:o}=i,a=this.axes.x.scale.convert(e),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(l!=null?r.convert(l[n]):s)*t;return[a-u,a+u]}yCoordinateRange(e,t,n){const{properties:i,sizeScale:r}=this,{size:s,sizeKey:o}=i,a=this.axes.y.scale.convert(e[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(l!=null?r.convert(l[n]):s)*t;return[a-u,a+u]}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const i={x:"xValue",y:"yValue"},r=i[e],s=t.resolveProcessedDataDefById(this,r),o=t.getDomain(this,r,"value",n);if((s==null?void 0:s.def.type)==="value"&&(s==null?void 0:s.def.valueType)==="category")return o;const l=i[e==="x"?"y":"x"],c=this.domainForClippedRange(e,[r],l);return hl(zg(c))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t)}getVisibleItems(e,t,n){const{dataAggregation:i,axes:r}=this,s=r.x,o=r.y;if(i==null||s==null||o==null)return this.countVisibleItems("xValue",["yValue"],e,t,n);const a=this.aggregationOptions(s,o,e,t??[0,1]);return JB(0,i,a)}aggregateData(e,t){if(t.type==="grouped"||t.input.count<=this.properties.maxRenderedItems)return;const n=this.axes.x,i=this.axes.y;if(n==null||i==null)return;const r=n.scale,s=i.scale;if(!wi.is(r)||!wi.is(s))return;const{sizeScale:o,properties:a}=this,{sizeKey:l}=a,c=e.resolveColumnById(this,"xValue",t),u=e.resolveColumnById(this,"yValue",t),d=l?e.resolveColumnById(this,"sizeValue",t):void 0,h=e.getDomain(this,"xValue","value",t),p=e.getDomain(this,"yValue","value",t),m=l?o.domain:[0,0];return qDe(r.type,s.type,c,u,d,h,p,m)}aggregationOptions(e,t,n=e.visibleRange,i=t.visibleRange){const{sizeKey:r,marker:s}=this.properties,o=Math.abs(e.range[1]-e.range[0]),a=Math.abs(t.range[1]-t.range[0]),l=s.size,c=r?s.maxSize:l;return{xRange:o,yRange:a,minSize:l,maxSize:c,xVisibleRange:n,yVisibleRange:i}}createNodeData(){const{axes:e,dataModel:t,processedData:n,sizeScale:i,visible:r}=this,{xKey:s,yKey:o,sizeKey:a,xFilterKey:l,yFilterKey:c,sizeFilterKey:u,labelKey:d,xName:h,yName:p,sizeName:m,labelName:v,label:y,marker:C,maxRenderedItems:S}=this.properties,{enabled:x,placement:R}=y,A=ss.anchor(C.shape),T=e.x,L=e.y;if(!(t&&n&&r&&T&&L))return;const O=t.resolveColumnById(this,"xValue",n),F=t.resolveColumnById(this,"yValue",n),H=a!=null?t.resolveColumnById(this,"sizeValue",n):void 0,W=d!=null?t.resolveColumnById(this,"labelValue",n):void 0,$=l!=null?t.resolveColumnById(this,"xFilterValue",n):void 0,Z=c!=null?t.resolveColumnById(this,"yFilterValue",n):void 0,ie=u!=null?t.resolveColumnById(this,"sizeFilterValue",n):void 0;let oe;d?oe=[]:a?oe=t.getDomain(this,"sizeValue","value",n):oe=[];const te=T.scale,ae=L.scale,ne=(te.bandwidth??0)/2,Se=(ae.bandwidth??0)/2,q=[];i.range=[C.size,C.maxSize];const re=Fg.getMeasurer({font:y}),K=n.dataSources.get(this.id);if(K==null)return;const V=mw(y),G=(Y,ue,J)=>{const he=K[Y],Te=O[Y],ve=F[Y],Re=H==null?void 0:H[Y],ke=te.convert(Te)+ne,He=ae.convert(ve)+Se;let st;$!=null&&Z!=null&&(st=$[Y]===Te&&Z[Y]===ve,ie!=null&&st&&(st=ie[Y]===Re));let Dt;if(x){let dt,Ue,qe;d&&W?(dt=W[Y],Ue=d,qe="label"):a?(dt=Re,Ue=a,qe="size"):(dt=ve,Ue=o,qe="y");const at=this.getLabelText(dt,he,Ue,qe,oe,y,{value:dt,datum:he,xKey:s,yKey:o,sizeKey:a,labelKey:d,xName:h,yName:p,sizeName:m,labelName:v}),nt=re.measureText(String(at));nt.width+=V.left+V.right,nt.height+=V.bottom+V.top,Dt={text:at,...nt}}else Dt={text:"",width:0,height:0};const ot=Re!=null?i.convert(Re):C.size;q.push({series:this,itemId:o,yKey:o,xKey:s,datum:he,datumIndex:Y,xValue:Te,yValue:ve,sizeValue:Re,capDefaults:{lengthRatioMultiplier:C.getDiameter(),lengthMax:1/0},point:{x:ke,y:He,size:Math.sqrt(J)*ot},midPoint:{x:ke,y:He},label:Dt,anchor:A,placement:R,count:ue,dilation:J,selected:st})},{dataAggregation:se}=this;if(se==null)for(let Y=0;Y<K.length;Y++)G(Y,1,1);else{const Y=this.aggregationOptions(T,L),ue=QDe(se,Y,S),{groupedAggregation:J,singleDatumIndices:he}=JDe(ue,se,Y);for(const{datumIndex:Te,count:ve,dilation:Re}of J)G(Te,ve,Re);for(const Te of he)G(Te,1,1)}return{itemId:o,nodeData:q,labelData:x?q:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,{sizeKey:i}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());const r=this.properties.marker.enabled?t:[];let s;return i&&(s=o=>tf([o.xValue,o.yValue,o.sizeValue,o.label.text])),n.update(r,void 0,s)}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,sizeKey:s,labelKey:o,marker:a}=this.properties;this.sizeScale.range=[a.size,a.maxSize];const l=this.getShapeFillBBox(),c=this.dataAggregation!=null,u={xKey:i,yKey:r,sizeKey:s,labelKey:o};t.each((d,h,p)=>{const{count:m,dilation:v}=h,y=this.getMarkerStyle(a,h,u,n);y.fillOpacity=(1-(1-(y.fillOpacity??1))**m)/Math.sqrt(v),this.applyMarkerStyle(y,d,h.point,l,{selected:h.selected}),d.zIndex=c?[-m,p]:0}),n||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((r,s)=>{var c,u;const o=t||this.isSeriesHighlighted(n),a=this.getHighlightStateString(n,o,s.datumIndex),l=vd(this,s,this.properties,this.properties.label,o,a);r.text=s.label.text,r.fill=l.color,r.x=((c=s.point)==null?void 0:c.x)??0,r.y=((u=s.point)==null?void 0:u.y)??0,r.fontStyle=l.fontStyle,r.fontWeight=l.fontWeight,r.fontSize=l.fontSize,r.fontFamily=l.fontFamily,r.textAlign="left",r.textBaseline="top",r.fillOpacity=this.getHighlightStyle(t,s.datumIndex).opacity??1,r.setBoxing(l)})}getTooltipContent(e){var $,Z;const{id:t,dataModel:n,processedData:i,axes:r,properties:s,ctx:o}=this,{formatManager:a}=o,{xKey:l,xName:c,yKey:u,yName:d,sizeKey:h,sizeName:p,labelKey:m,labelName:v,title:y,tooltip:C,marker:S,legendItemName:x}=s,R=r.x,A=r.y;if(!n||!i||!R||!A)return;const T=($=i.dataSources.get(this.id))==null?void 0:$[e],L=n.resolveColumnById(this,"xValue",i)[e],O=n.resolveColumnById(this,"yValue",i)[e],F=(Z=this.contextNodeData)==null?void 0:Z.nodeData[e];if(L==null||F==null)return;const H=[];if(this.isLabelEnabled()&&m!=null){const ie=n.resolveColumnById(this,"labelValue",i)[e],oe=a.format(this.callWithContext.bind(this),{type:"category",value:ie,datum:T,seriesId:t,legendItemName:x,key:m,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});H.push({label:v,fallbackLabel:m,value:oe??hw(ie)})}if(H.push({label:c,fallbackLabel:l,value:this.getAxisValueText(R,"tooltip",L,T,l,x)},{label:d,fallbackLabel:u,value:this.getAxisValueText(A,"tooltip",O,T,u,x)}),h!=null){const ie=n.resolveColumnById(this,"sizeValue",i)[e],oe=n.getDomain(this,"sizeValue","value",i),te=a.format(this.callWithContext.bind(this),{type:"number",value:ie,datum:T,seriesId:t,legendItemName:x,key:h,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:oe,fractionDigits:void 0});H.push({label:p,fallbackLabel:h,value:te??hw(ie)})}const W=this.getMarkerStyle(S,{datum:T,datumIndex:e},{xKey:l,yKey:u,sizeKey:h,labelKey:m,highlighted:!0},!1);return this.formatTooltipWithContext(C,{title:y,symbol:this.legendItemSymbol(),data:H},{seriesId:t,datum:T,title:u,xKey:l,xName:c,yKey:u,yName:d,sizeKey:h,sizeName:p,labelKey:m,labelName:v,...W,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){const{id:e,ctx:{legendManager:t},visible:n}=this,{yKey:i,yName:r,title:s}=this.properties;return[{legendType:"category",id:e,itemId:i,seriesId:e,enabled:n&&t.getItemEnabled({seriesId:e,itemId:i}),label:{text:s??r??i},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){nQ(this,this.ctx.animationManager,e),Mr(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ss}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,sizeKey:i,labelKey:r,marker:s}=this.properties;return this.getMarkerStyle(s,e,{xKey:t,yKey:n,sizeKey:i,labelKey:r},!1)}computeFocusBounds(e){return _k(this,e)}hasItemStylers(){const{itemStyler:e,marker:t,label:n}=this.properties;return!!(e??t.itemStyler??n.itemStyler)}};g1.className="BubbleSeries";g1.type="bubble";var tIe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new g1(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:n1,fillPatternDefaults:ff,fillImageDefaults:qy,fillOpacity:.8,maxRenderedItems:1e4,label:{...Ql,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:Bg()}}},dQ={type:"series",name:"bubble",chartType:"cartesian",options:zAe,create:e=>new g1(e)},br=class extends Wg{constructor(){super(...arguments),this.fillGradientDefaults=new oc,this.fillPatternDefaults=new Ki,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Zd,this.label=new yr,this.tooltip=s0()}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,cornerRadius:a,opacity:1}}};P([z],br.prototype,"xKey",2);P([z],br.prototype,"yKey",2);P([z],br.prototype,"xName",2);P([z],br.prototype,"yName",2);P([z],br.prototype,"fill",2);P([z],br.prototype,"fillGradientDefaults",2);P([z],br.prototype,"fillPatternDefaults",2);P([z],br.prototype,"fillImageDefaults",2);P([z],br.prototype,"fillOpacity",2);P([z],br.prototype,"stroke",2);P([z],br.prototype,"strokeWidth",2);P([z],br.prototype,"strokeOpacity",2);P([z],br.prototype,"lineDash",2);P([z],br.prototype,"lineDashOffset",2);P([z],br.prototype,"cornerRadius",2);P([z],br.prototype,"areaPlot",2);P([z],br.prototype,"bins",2);P([z],br.prototype,"aggregation",2);P([z],br.prototype,"binCount",2);P([z],br.prototype,"shadow",2);P([z],br.prototype,"label",2);P([z],br.prototype,"tooltip",2);var VW=10,Gk=class extends o0{constructor(e){super({moduleCtx:e,propertyKeys:Xw,propertyNames:Qw,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:JE,label:r0}}),this.properties=new br,this.calculatedBins=[]}deriveBins(e){const t=HR(e[0],e[1],VW).ticks,n=HE(e[0],e[1],VW),[i]=t,r=s=>[s,s+n];return[[i-n,i],...t.map(r)]}calculateNiceBins(e,t){const n=Math.floor(e[0]),i=e[1],r=t||1,{start:s,binSize:o}=this.calculateNiceStart(n,i,r);return this.getBins(s,i,o,r)}getBins(e,t,n,i){const r=[],s=this.calculatePrecision(n);for(let o=0;o<i;o++){const a=Math.round((e+o*n)*s)/s;let l=Math.round((e+(o+1)*n)*s)/s;o===i-1&&(l=Math.max(l,t)),r[o]=[a,l]}return r}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){const i=Math.abs(t-e)/n,r=Math.floor(Math.log10(i)),s=Math.pow(10,r);return{start:Math.floor(e/s)*s,binSize:i}}async processData(e){var d,h;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:n,areaPlot:i,aggregation:r}=this.properties,s=(d=this.axes.x)==null?void 0:d.scale,o=(h=this.axes.y)==null?void 0:h.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:s}),c=[fg(t,a),TZ];if(n){let p=HB("groupAgg");r==="count"||(r==="sum"?p=gZ("groupAgg"):r==="mean"&&(p=mZ("groupAgg"))),i&&(p=VB("groupAgg",p)),c.push(Di(n,l,{invalidValue:void 0}),p)}else{c.push(SZ("count"));let p=HB("groupAgg");i&&(p=VB("groupAgg",p)),c.push(p)}const u=p=>{const m=hl(p.domain.keys[0]);if(m.length===0)return p.domain.groups=[],()=>[];const v=pN(this.properties.binCount)?this.calculateNiceBins(m,this.properties.binCount):this.properties.bins??this.deriveBins(m),y=v.length;return this.calculatedBins=[...v],C=>{let S=C[0];if(Lw(S)&&(S=S.getTime()),!pN(S))return[];for(let x=0;x<y;x++){const R=v[x];if(S>=R[0]&&S<R[1]||x===y-1&&S<=R[1])return R}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(u1(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:u}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];const i=n.getDomain(this,"groupAgg","aggregate",t),r=(o=this.calculatedBins)==null?void 0:o[0][0],s=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return hl(e==="x"?[r,s]:i)}getSeriesRange(e,[t,n]){const{dataModel:i,processedData:r}=this;if(!i||(r==null?void 0:r.type)!=="grouped")return[NaN,NaN];const s=this.axes.x.scale,o=0;let a=-1/0;return r.groups.forEach(({keys:l,aggregation:c})=>{const[[u,d]=[0,0]]=c,[h,p]=l,[m,v]=ms([s.convert(h),s.convert(p)]);if(v>=t&&m<=n){const y=u+d;a=Math.max(a,y)}}),o>a?[NaN,NaN]:[o,a]}frequency(e){return e.datumIndices.reduce((t,n)=>t+n.length,0)}createNodeData(){const{axes:e,processedData:t,dataModel:n}=this,i=e.x,r=e.y;if(!i||!r||!n)return;const{scale:s}=i,{scale:o}=r,{xKey:a,yKey:l,xName:c,yName:u,label:d}=this.properties,h=[],p={itemId:this.properties.yKey??this.id,nodeData:h,labelData:h,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||t==null||t.type!=="grouped"||(t.groups.forEach((m,v)=>{const{keys:y,aggregation:C}=m,[[S,x]=[0,0]]=C,R=this.frequency(m),A=y,[T,L]=A,O=[...n.forEachDatum(this,t,m)],F=s.convert(T),H=s.convert(L),W=S+x,$=o.convert(0),Z=o.convert(W),ie=Math.abs(H-F),oe=Math.abs(Z-$),te=Math.min(F,H),ae=Math.min($,Z);let ne;d.enabled&&W!==0&&(ne={x:te+ie/2,y:ae+oe/2,text:this.getLabelText(W,O,l,"y",[],d,{value:W,datum:O,xKey:a,yKey:l,xName:c,yName:u})});const Se={x:te+ie/2,y:ae+oe/2},q=r.isReversed();h.push({series:this,datumIndex:v,datum:O,aggregatedValue:W,frequency:R,domain:A,yKey:l,xKey:a,x:te,y:ae,xValue:F,yValue:Z,width:ie,height:oe,midPoint:Se,topLeftCornerRadius:!q,topRightCornerRadius:!q,bottomRightCornerRadius:q,bottomLeftCornerRadius:q,label:ne,crisp:!0})}),h.sort((m,v)=>m.x-v.x)),p}nodeFactory(){return new os}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e;return n.update(t,void 0,i=>i.domain.join("_"))}getItemStyle(e,t){const{properties:n}=this,i=this.getHighlightStyle(e,t==null?void 0:t.datumIndex);return Ad(Gn(i,n.getStyle()),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:n}=this.properties,i=this.getShapeFillBBox();e.datumSelection.each((r,s)=>{const o=this.getItemStyle(t,s),{cornerRadius:a=0}=o,{topLeftCornerRadius:l,topRightCornerRadius:c,bottomRightCornerRadius:u,bottomLeftCornerRadius:d}=s;ef(r,o,i),r.topLeftCornerRadius=l?a:0,r.topRightCornerRadius=c?a:0,r.bottomRightCornerRadius=u?a:0,r.bottomLeftCornerRadius=d?a:0,r.crisp=s.crisp,r.fillShadow=n,r.visible=s.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,i=>{i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})}updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each((n,i)=>{const r=vd(this,i,this.properties,this.properties.label),{enabled:s,fontStyle:o,fontWeight:a,fontSize:l,fontFamily:c,color:u}=r;s&&t&&(i!=null&&i.label)?(n.text=i.label.text,n.x=i.label.x,n.y=i.label.y,n.fontStyle=o,n.fontWeight=a,n.fontFamily=c,n.fontSize=l,n.fill=u,n.visible=!0,n.fillOpacity=this.getHighlightStyle(!1,i.datumIndex).opacity??1,n.setBoxing(r)):n.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t instanceof nn&&FH(e,t.children())}pickNodeClosestDatum(e){return $N(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:r,properties:s,ctx:{localeManager:o}}=this,{xKey:a,xName:l,yKey:c,yName:u,tooltip:d,legendItemName:h}=s,p=r.x,m=r.y;if(!n||(i==null?void 0:i.type)!=="grouped"||!p||!m)return;const v=i.groups[e],{aggregation:y,keys:C}=v,[[S,x]=[0,0]]=y,R=this.frequency(v),A=C,[T,L]=A,O=S+x,F={data:[...n.forEachDatum(this,i,v)],aggregatedValue:O,frequency:R,domain:A},H=[{label:l,fallbackLabel:a,value:`${this.getAxisValueText(p,"tooltip",T,F,a,h)} - ${this.getAxisValueText(p,"tooltip",L,F,a,h)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(m,"tooltip",R,F,c,h)}];if(c!=null){let W;switch(s.aggregation){case"sum":W=o.t("seriesHistogramTooltipSum",{yName:u??c});break;case"mean":W=o.t("seriesHistogramTooltipMean",{yName:u??c});break;case"count":W=o.t("seriesHistogramTooltipCount",{yName:u??c});break}H.push({label:W,value:this.getAxisValueText(m,"tooltip",O,F,c,h)})}return this.formatTooltipWithContext(d,{symbol:this.legendItemSymbol(),data:H},{seriesId:t,datum:F,title:u,xKey:a,xName:l,yKey:c,yName:u,xRange:[T,L],frequency:R,...this.getItemStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:s,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:Ad({fill:e??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:r,strokeWidth:i,lineDash:s,lineDashOffset:o},a,l,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{xKey:r,yName:s,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:r,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:s??r??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const n=KN(YN(!0,this.axes,"normal"));ns(this.id,"datums",this.ctx.animationManager,[e],n),Mr(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(e)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return GH(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}hasItemStylers(){return this.properties.label.itemStyler!=null}};Gk.className="HistogramSeries";Gk.type="histogram";var nIe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new Gk(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Bw,fillPatternDefaults:ff,fillImageDefaults:qy,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{...Ql,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},shadow:{enabled:!1,color:_g,xOffset:3,yOffset:3,blur:5},highlight:Bg()}}},hQ={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:HAe,create:e=>new Gk(e)},as=class extends Wg{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Jw,this.marker=new Os,this.label=new yr,this.tooltip=s0(),this.connectMissingData=!1,this.sparklineMode=!1}};P([z],as.prototype,"xKey",2);P([z],as.prototype,"yKey",2);P([z],as.prototype,"xName",2);P([z],as.prototype,"yName",2);P([z],as.prototype,"yFilterKey",2);P([z],as.prototype,"stackGroup",2);P([z],as.prototype,"normalizedTo",2);P([z],as.prototype,"title",2);P([z],as.prototype,"stroke",2);P([z],as.prototype,"strokeWidth",2);P([z],as.prototype,"strokeOpacity",2);P([z],as.prototype,"lineDash",2);P([z],as.prototype,"lineDashOffset",2);P([z],as.prototype,"interpolation",2);P([z],as.prototype,"marker",2);P([z],as.prototype,"label",2);P([z],as.prototype,"tooltip",2);P([z],as.prototype,"connectMissingData",2);P([z],as.prototype,"sparklineMode",2);var iIe=.25,rIe=kR(tQ),m1=class extends o0{constructor(e){super({moduleCtx:e,propertyKeys:Xw,propertyNames:Qw,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:OH({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:r0,datum:(t,n)=>({...Fk(),...QE(t,n)})},clipFocusBox:!1}),this.properties=new as,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var A,T;if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=0}={}}=this,{xKey:s,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=(A=this.axes.x)==null?void 0:A.scale,h=(T=this.axes.y)==null?void 0:T.scale,{isContinuousX:p,xScaleType:m,yScaleType:v}=this.getScaleInformation({xScale:d,yScale:h}),y=r>1||c!=null,C={invalidValue:null};l&&y&&(C.invalidValue=0),y&&!n&&(C.forceValue=0);const S=[];if((!p||y)&&S.push(fg(s,m,{id:"xKey"})),S.push(Di(s,m,{id:"xValue"}),Di(o,v,{id:"yValueRaw",...C,invalidValue:void 0})),a!=null&&S.push(Di(a,v,{id:"yFilterRaw"})),y){const L=[`line-stack-${i}-yValues`,`line-stack-${i}-yValues-trailing`,`line-stack-${i}-yValues-marker`];S.push(...pg(o,"window","current",{id:"yValueEnd",...C,groupId:L[0]},v),...pg(o,"window-trailing","current",{id:"yValueStart",...C,groupId:L[1]},v),...pg(o,"normal","current",{id:"yValueCumulative",...C,groupId:L[2]},v)),QM(c)&&S.push(Ik([L[0],L[1],L[2]],c))}u&&(S.push(c1(p?["xValue"]:void 0)),this.processedData&&S.push(u1(this.id,this.processedData)));const{dataModel:x,processedData:R}=await this.requestDataModel(e,t,{props:S,groupByKeys:y,groupByData:!y});this.dataAggregationFilters=this.aggregateData(x,R),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}getSeriesDomain(e){var s;const{dataModel:t,processedData:n}=this;if(!t||!n)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",n);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:hl(zg(a))}const i=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",r=this.domainForClippedRange("y",[i],"xValue");return hl(r)}getSeriesRange(e,t){var i;const n=(i=this.dataModel)!=null&&i.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",t)}getVisibleItems(e,t,n){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if(t.type!=="ungrouped"||Uw(t))return;const n=this.axes.x;if(n==null)return;const{scale:i}=n,r=e.resolveColumnById(this,"xValue",t),s=e.resolveColumnById(this,"yValueRaw",t),o=e.getDomain(this,"xValue","value",t);return rIe(i.type,r,s,o)}createNodeData(){var ue;const{dataModel:e,processedData:t,axes:n,dataAggregationFilters:i}=this,r=n.x,s=n.y;if(!e||!t||!r||!s)return;const{xKey:o,yKey:a,yFilterKey:l,xName:c,yName:u,marker:d,label:h,connectMissingData:p,interpolation:m,legendItemName:v}=this.properties,y=(ue=this.dataModel)==null?void 0:ue.hasColumnById(this,"yValueEnd"),C=r.scale,S=s.scale,x=(C.bandwidth??0)/2,R=(S.bandwidth??0)/2,A=d.enabled?d.size:0,T=t.dataSources.get(this.id)??[],L=e.resolveColumnById(this,"xValue",t),O=e.resolveColumnById(this,"yValueRaw",t),F=y?e.resolveColumnById(this,"yValueEnd",t):void 0,H=y?e.resolveColumnById(this,"yValueCumulative",t):O,W=l!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,$=this.getSeriesDomain("y"),Z={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},ie=[],oe=[],te=J=>{const he=T[J],Te=L[J],ve=O[J],Re=F==null?void 0:F[J],ke=W==null?void 0:W[J],He=C.convert(Te)+x,st=S.convert(H[J])+R;if(!Number.isFinite(He))return;if(ve!=null){const ot=h.enabled?this.getLabelText(ve,he,a,"y",$,h,{value:ve,datum:he,xKey:o,yKey:a,xName:c,yName:u,legendItemName:v}):void 0;ie.push({series:this,datum:he,datumIndex:J,yKey:a,xKey:o,point:{x:He,y:st,size:A},midPoint:{x:He,y:st},cumulativeValue:Re,yValue:ve,xValue:Te,capDefaults:Z,labelText:ot,selected:ke})}const Dt=oe[oe.length-1];if(ve!=null){const ot={point:{x:He,y:st},xDatum:Te,yDatum:ve};Array.isArray(Dt)?Dt.push(ot):Dt!=null?(Dt.skip+=1,oe.push([ot])):oe.push([ot])}else p||(Array.isArray(Dt)||Dt==null?oe.push({skip:0}):Dt.skip+=1)},[ae,ne]=C.range,Se=Math.abs(ne-ae),q=i==null?void 0:i.find(J=>J.maxRange>Se),re=q==null?void 0:q.indices;let[K,V]=this.visibleRangeIndices("xValue",r.range,re);K=Math.max(K-1,0),V=Math.min(V+1,(re==null?void 0:re.length)??L.length),t.input.count<1e3&&(K=0,V=t.input.count);for(let J=K;J<V;J+=1)te((re==null?void 0:re[J])??J);const G=oe.flatMap(J=>Array.isArray(J)?UN(J,m):[]),se={itemId:a,spans:G},Y=(W==null?void 0:W.some((J,he)=>J===O[he]))??!1;return{itemId:a,nodeData:ie,labelData:ie,strokeData:se,scales:this.calculateScaling(),visible:this.visible,crossFiltering:Y}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var d;const{paths:[t],visible:n,animationEnabled:i}=e,r=((d=this.contextNodeData)==null?void 0:d.crossFiltering)===!0,{strokeWidth:s,stroke:o,strokeOpacity:a,lineDash:l,lineDashOffset:c,opacity:u}=Gn(this.getHighlightStyle(),this.properties);t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:u,stroke:o,strokeWidth:s,strokeOpacity:a*(r?iIe:1),lineDash:l,lineDashOffset:c}),i||(t.visible=n),jN(this,t)}updateDatumSelection(e){var r;let{nodeData:t}=e;const{datumSelection:n}=e;return t=this.properties.marker.enabled||((r=this.contextNodeData)==null?void 0:r.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,s=>tf(s.xValue))}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,marker:s,stroke:o,strokeWidth:a,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),d=this.ctx.animationManager.isSkipped(),h=this.getShapeFillBBox();t.each((p,m)=>{const{xValue:v,yValue:y}=m,C=hg(v,y,i,r,c,u),S=this.getMarkerStyle(s,m,C,n,void 0,{stroke:o,strokeWidth:a,strokeOpacity:l});this.applyMarkerStyle(S,p,m.point,h,{applyTranslation:d,selected:m.selected})}),n||s.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){var i;const{isHighlight:t=!1}=e,n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();e.labelSelection.each((r,s)=>{const o=t||this.isSeriesHighlighted(n),a=this.getHighlightStateString(n,o,s.datumIndex),l=vd(this,s,this.properties,this.properties.label,o,a),{enabled:c,fontStyle:u,fontWeight:d,fontSize:h,fontFamily:p,color:m}=l;c&&(s!=null&&s.labelText)?(r.fontStyle=u,r.fontWeight=d,r.fontSize=h,r.fontFamily=p,r.textAlign="center",r.textBaseline="bottom",r.text=s.labelText,r.x=s.point.x,r.y=s.point.y-10,r.fill=m,r.visible=!0,r.fillOpacity=this.getHighlightStyle(t,s.datumIndex).opacity??1,r.setBoxing(l)):r.visible=!1})}getTooltipContent(e){var A;const{id:t,dataModel:n,processedData:i,axes:r,properties:s}=this,{xKey:o,xName:a,yKey:l,yName:c,tooltip:u,legendItemName:d}=s,h=r.x,p=r.y;if(!n||!i||!h||!p)return;const m=(A=i.dataSources.get(this.id))==null?void 0:A[e],v=n.resolveColumnById(this,"xValue",i)[e],y=n.resolveColumnById(this,"yValueRaw",i)[e];if(v==null)return;const C=this.getSeriesDomain("x"),S=this.getSeriesDomain("y"),x=hg(v,y,o,l,C,S),R=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:m},x,!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(h,"tooltip",v,m,o,d),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(p,"tooltip",y,m,l,d)}]},{seriesId:t,datum:m,title:c,xKey:o,xName:a,yKey:l,yName:c,...R,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:r,marker:s}=this.properties;return{marker:{...this.getMarkerStyle(s,{},void 0,!1,{size:s.size,fill:s.fill??e,stroke:s.stroke??t??e},void 0,!1),enabled:s.enabled},line:{stroke:t??e,strokeOpacity:n,strokeWidth:i,lineDash:r}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:r,yName:s,title:o,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:r,legendItemName:a,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:a??o??s??r},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const n=t.strokeData.spans,[i]=e;i.path.clear(),MH(i,n),i.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:r,paths:s}=e,{animationManager:o}=this.ctx;this.updateLinePaths(s,r),kH(this,o,...s),Js([t],QE),LH(this,o,t),Mr(this,"labels",o,n),Mr(this,"annotations",o,...i)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var h,p,m;const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,annotationSelections:r,contextData:s,paths:o,previousContextData:a}=e,[l]=o;if(s.visible===!1&&(a==null?void 0:a.visible)===!1)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,s)},u=()=>{t.skipCurrentBatch(),c()};if(s==null||a==null){c(),XE(this,t,"added",n),WN(this,"path_properties",t,"add",l),Mr(this,"labels",t,i),Mr(this,"annotations",t,...r);return}if(s.crossFiltering!==a.crossFiltering){u();return}const d=XX(s,a,(m=(p=(h=this.processedData)==null?void 0:h.reduced)==null?void 0:p.diff)==null?void 0:m[this.id]);if(d===void 0){u();return}else if(d.status==="no-op")return;ns(this.id,"path_properties",t,[l],d.stroke.pathProperties),d.status==="added"?this.updateLinePaths(o,s):d.status==="removed"?this.updateLinePaths(o,a):HN(this.id,"path_update",t,[l],d.stroke.path),d.hasMotion&&(XE(this,t,void 0,n),Mr(this,"labels",t,i),Mr(this,"annotations",t,...r))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ss}getFormattedMarkerStyle(e){const{xKey:t,yKey:n}=this.properties,{xValue:i,yValue:r}=e,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,hg(i,r,t,n,s,o),!0)}computeFocusBounds(e){return _k(this,e)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};m1.className="LineSeries";m1.type="line";var fQ={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new m1(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:bk,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:n1,fillPatternDefaults:ff,fillImageDefaults:qy},label:{...Ql,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:Bg()}}},pQ={type:"series",name:"line",chartType:"cartesian",options:kk,create:e=>new m1(e)},zk=class extends g1{};zk.className="ScatterSeries";zk.type="scatter";var sIe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new zk(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:n1,fillPatternDefaults:ff,fillImageDefaults:qy,fillOpacity:.8,maxRenderedItems:1e4,label:{...Ql,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:Bg()}}},gQ={type:"series",name:"scatter",chartType:"cartesian",options:VAe,create:e=>new zk(e)},mQ=class eG{constructor(t,n,i,r){this.startAngle=t,this.endAngle=n,this.innerRadius=i,this.outerRadius=r}clone(){const{startAngle:t,endAngle:n,innerRadius:i,outerRadius:r}=this;return new eG(t,n,i,r)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[PL](t,n){return new eG(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function vQ({startAngle:e,endAngle:t,innerRadius:n,outerRadius:i}){let r=1/0,s=1/0,o=-1/0,a=-1/0;const l=(c,u)=>{r=Math.min(c,r),s=Math.min(u,s),o=Math.max(c,o),a=Math.max(u,a)};return l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),Pv(0,e,t)&&l(i,0),Pv(Math.PI*.5,e,t)&&l(0,i),Pv(Math.PI,e,t)&&l(-i,0),Pv(Math.PI*1.5,e,t)&&l(0,-i),new ut(r,s,o-r,a-s)}function tG(e,t,n){const i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:s}=n;if(n.startAngle===n.endAngle||i<Math.min(r,s)||i>Math.max(r,s))return!1;const o=SN(n.startAngle),a=SN(n.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function oIe(e,t,n,i,r,s,o,a,l,c){if(isNaN(e)||isNaN(t))return 0;[r,i]=[i,r];const u=(c-a)/(l-o),d=a-u*o,h=Math.pow(u,2)+1,p=2*(u*(d-t)-e),m=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(n,2),v=Math.pow(p,2)-4*h*m;if(v<0)return 0;const y=(-p+Math.sqrt(v))/2/h,C=(-p-Math.sqrt(v))/2/h;let S=0;return[y,C].forEach(x=>{if(!(x>=Math.min(o,l)&&x<=Math.max(o,l)))return;const A=u*x+d,T=x-e,L=A-t,O=Math.atan2(L,T);Pv(O,i,r)&&S++}),S}function UW(e,t){const{startAngle:n,endAngle:i,innerRadius:r,outerRadius:s}=t,o={x:s*Math.cos(n),y:s*Math.sin(n)},a={x:s*Math.cos(i),y:s*Math.sin(i)},l=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=r===0?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return eE(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||eE(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||oIe(0,0,s,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function aIe(e,t){const n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},r={x:e.x,y:e.y+e.height},s={x:e.x+e.width,y:e.y+e.height};return UW({start:n,end:i},t)||UW({start:r,end:s},t)}function WW(e,t,n,i){if(n===0&&i===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*i)/(e+1*i))-t<0)return 1;let s=0,o=1;for(let a=0;a<8;a+=1){const l=(s+o)/2;Math.asin(Math.abs(l*n)/(e+l*n))+Math.asin(Math.abs(l*i)/(e+l*i))-t<0?s=l:o=l}return s}var lIe=1e-6;function gg(e,t){return BL(e,t)<lIe?t:Br(e-t)+t}function OD(e,t,n=0){const r=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Br(t-e);return e=gg(e,n),t=e+r,{startAngle:e,endAngle:t}}function PD(e,t,n,i,r,s){const o=Math.sin(s),a=Math.cos(s),l=e**2+t**2-n**2;let c,u,d,h;if(a>.5){const x=o/a,R=1+x**2,A=-2*(e+t*x),T=A**2-4*R*l;if(T<0)return;const L=(-A+Math.sqrt(T))/(2*R),O=(-A-Math.sqrt(T))/(2*R);c=L,u=L*x,d=O,h=O*x}else{const x=a/o,R=1+x**2,A=-2*(t+e*x),T=A**2-4*R*l;if(T<0)return;const L=(-A+Math.sqrt(T))/(2*R),O=(-A-Math.sqrt(T))/(2*R);c=L*x,u=L,d=O*x,h=O}const p=a,m=o,v=c*p+u*m,y=d*p+h*m,C=v>0?gg(Math.atan2(u-t,c-e),i):NaN,S=y>0?gg(Math.atan2(h-t,d-e),i):NaN;if(C>=i&&C<=r)return C;if(S>=i&&S<=r)return S}function FD(e,t,n,i,r,s){const o=Math.hypot(e,t),a=(o**2-n**2+s**2)/(2*o),l=o-a,c=Math.atan2(t,e),u=Math.acos(-l/n),d=gg(c+u,i),h=gg(c-u,i);if(d>=i&&d<=r)return d;if(h>=i&&h<=r)return h}var a2=class{constructor(e,t,n,i,r){this.cx=e,this.cy=t,this.r=n,this.a0=i,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},oo=class extends Fo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return vQ(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:n}=this;return t=t>0?t+e:0,n=Math.max(n-e,0),{innerRadius:t,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:n}=OD(this.startAngle,this.endAngle),{innerRadius:i,outerRadius:r}=this.normalizedRadii(),s=OD(e.startAngle,e.endAngle,t);return new mQ(Math.max(t,s.startAngle),Math.min(n,s.endAngle),Math.max(i,e.innerRadius),Math.min(r,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,i,r,s,o,a){if(e<=0)return;const{startAngle:l,endAngle:c}=OD(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:d}=this.normalizedRadii(),h=this.normalizedClipSector();if(a&&u<=0)return;const p=a?this.getAngleOffset(u+e):this.getAngleOffset(d-e),m=o?l+p+t:c-p-t,v=a?u+e:d-e,y=v*Math.cos(m),C=v*Math.sin(m);if(h!=null&&(!o&&!(m>=l-1e-6&&m<=h.endAngle-1e-6)||o&&!(m>=h.startAngle+1e-6&&m<=c-1e-6)||a&&v<h.innerRadius-1e-6||!a&&v>h.outerRadius+1e-6))return;const S=new a2(y,C,e,n,i);if(h!=null){a?(S.clipStart(PD(y,C,e,n,i,h.endAngle)),S.clipEnd(PD(y,C,e,n,i,h.startAngle))):(S.clipStart(PD(y,C,e,n,i,h.startAngle)),S.clipEnd(PD(y,C,e,n,i,h.endAngle)));let L,O;if(o?(L=FD(y,C,e,n,i,h.innerRadius),O=FD(y,C,e,n,i,h.outerRadius)):(L=FD(y,C,e,n,i,h.outerRadius),O=FD(y,C,e,n,i,h.innerRadius)),S.clipStart(L),S.clipEnd(O),L!=null){const{x:F,y:H}=S.pointAt(L),W=gg(Math.atan2(H,F),l);o?s==null||s.clipStart(W):r.clipEnd(W)}if(O!=null){const{x:F,y:H}=S.pointAt(O),W=gg(Math.atan2(H,F),l);o?r.clipStart(W):s==null||s.clipEnd(W)}}if(h!=null){const{x:L,y:O}=S.pointAt((S.a0+S.a1)/2);if(!tG(L,O,h))return}const{x,y:R}=S.pointAt(o===a?S.a0:S.a1),A=gg(Math.atan2(R,x),l),T=a?s:r;return o?T==null||T.clipStart(A):T==null||T.clipEnd(A),S}updatePath(){const{path:t,centerX:n,centerY:i,concentricEdgeInset:r,radialEdgeInset:s}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:u,endAngle:d}=OD(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:p}=this.normalizedRadii(),m=this.normalizedClipSector(),v=d-u,y=v>=2*Math.PI-1e-6;if(t.clear(),h===0&&p===0||h>p)return;if(((m==null?void 0:m.startAngle)??u)===((m==null?void 0:m.endAngle)??d))return;if(y&&this.clipSector==null&&o===0&&a===0&&l===0&&c===0){t.moveTo(n+p*Math.cos(u),i+p*Math.sin(u)),t.arc(n,i,p,u,d),h>r&&(t.moveTo(n+h*Math.cos(d),i+h*Math.sin(d)),t.arc(n,i,h,d,u,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(h-p)<1e-6){t.arc(n,i,p,u,d,!1),t.arc(n,i,p,d,u,!0),t.closePath();return}const C=this.getAngleOffset(h),S=this.getAngleOffset(p);if(v<2*S)return;const R=((m==null?void 0:m.innerRadius)??h)>r,A=h<r||v<2*C,T=p-h,L=Math.max(o,l,a,c),O=L>0?Math.min(T/L,1):1;o*=O,a*=O,l*=O,c*=O;const F=WW(p,v-2*S,-o,-a);if(o*=F,a*=F,!A&&R){const J=WW(h,v-2*C,l,c);l*=J,c*=J}else l=0,c=0;const H=Math.max(o+l,a+c),W=H>0?Math.min(T/H,1):1;o*=W,a*=W,l*=W,c*=W;let $=0,Z=0;const ie=o/(p-o),oe=a/(p-a);if(ie>=0&&ie<1-1e-6)$=Math.asin(ie);else{$=v/2;const J=p/(1/Math.sin($)+1);o=Math.min(J,o)}if(oe>=0&&oe<1-1e-6)Z=Math.asin(oe);else{Z=v/2;const J=p/(1/Math.sin(Z)+1);a=Math.min(J,a)}const te=Math.asin(l/(h+l)),ae=Math.asin(c/(h+c)),ne=(m==null?void 0:m.outerRadius)??p,Se=this.getAngleOffset(ne),q=new a2(0,0,ne,u+Se,d-Se),re=(m==null?void 0:m.innerRadius)??h,K=this.getAngleOffset(re),V=R?new a2(0,0,re,u+K,d-K):void 0;m!=null&&(q.clipStart(m.startAngle),q.clipEnd(m.endAngle),V==null||V.clipStart(m.startAngle),V==null||V.clipEnd(m.endAngle));const G=this.arc(o,$,u-Math.PI*.5,u+$,q,V,!0,!1),se=this.arc(a,Z,d-Z,d+Math.PI*.5,q,V,!1,!1),Y=this.arc(c,ae,d+Math.PI*.5,d+Math.PI-ae,q,V,!1,!0),ue=this.arc(l,te,u+Math.PI+te,u+Math.PI*1.5,q,V,!0,!0);if(A){const J=v<Math.PI*.5?s*(1+Math.cos(v))/Math.sin(v):NaN;let he;J>0&&J<p?he=Math.max(Math.hypot(s,J),h):he=s,he=Math.max(he,h);const Te=u+v*.5;t.moveTo(n+he*Math.cos(Te),i+he*Math.sin(Te))}else if(!((ue==null?void 0:ue.isValid())===!0||(V==null?void 0:V.isValid())===!0)){const J=u+v/2,he=h*Math.cos(J),Te=h*Math.sin(J);t.moveTo(n+he,i+Te)}if((G==null?void 0:G.isValid())===!0){const{cx:J,cy:he,r:Te,a0:ve,a1:Re}=G;t.arc(n+J,i+he,Te,ve,Re)}if(q.isValid()){const{r:J,a0:he,a1:Te}=q;t.arc(n,i,J,he,Te)}if((se==null?void 0:se.isValid())===!0){const{cx:J,cy:he,r:Te,a0:ve,a1:Re}=se;t.arc(n+J,i+he,Te,ve,Re)}if(!A){if((Y==null?void 0:Y.isValid())===!0){const{cx:J,cy:he,r:Te,a0:ve,a1:Re}=Y;t.arc(n+J,i+he,Te,ve,Re)}if((V==null?void 0:V.isValid())===!0){const{r:J,a0:he,a1:Te}=V;t.arc(n,i,J,Te,he,!0)}if((ue==null?void 0:ue.isValid())===!0){const{cx:J,cy:he,r:Te,a0:ve,a1:Re}=ue;t.arc(n+J,i+he,Te,ve,Re)}}t.closePath()}isPointInPath(e,t){const{startAngle:n,endAngle:i,innerRadius:r,outerRadius:s}=this.clipSector??this;return tG(e-this.centerX,t-this.centerY,{startAngle:n,endAngle:i,innerRadius:Math.min(r,s),outerRadius:Math.max(r,s)})}};oo.className="Sector";P([Xe()],oo.prototype,"centerX",2);P([Xe()],oo.prototype,"centerY",2);P([Xe()],oo.prototype,"innerRadius",2);P([Xe()],oo.prototype,"outerRadius",2);P([Xe()],oo.prototype,"startAngle",2);P([Xe()],oo.prototype,"endAngle",2);P([Cl({})],oo.prototype,"clipSector",2);P([Xe()],oo.prototype,"concentricEdgeInset",2);P([Xe()],oo.prototype,"radialEdgeInset",2);P([Xe()],oo.prototype,"startOuterCornerRadius",2);P([Xe()],oo.prototype,"endOuterCornerRadius",2);P([Xe()],oo.prototype,"startInnerCornerRadius",2);P([Xe()],oo.prototype,"endInnerCornerRadius",2);var yQ=class extends nr{constructor(){super(...arguments),this.showInLegend=!1}};P([z],yQ.prototype,"showInLegend",2);var HH=class extends yr{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};P([z],HH.prototype,"text",2);P([z],HH.prototype,"spacing",2);var VH=class extends Wt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};P([z],VH.prototype,"fill",2);P([z],VH.prototype,"fillOpacity",2);var eS=class extends yr{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};P([z],eS.prototype,"offset",2);P([z],eS.prototype,"minAngle",2);P([z],eS.prototype,"minSpacing",2);P([z],eS.prototype,"maxCollisionOffset",2);P([z],eS.prototype,"avoidCollisions",2);var UH=class extends yr{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};P([z],UH.prototype,"positionOffset",2);P([z],UH.prototype,"positionRatio",2);var Hk=class extends Wt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};P([z],Hk.prototype,"colors",2);P([z],Hk.prototype,"length",2);P([z],Hk.prototype,"strokeWidth",2);var wn=class extends ac{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(_r),this.strokes=Object.values(Ph),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new DR(HH),this.title=new yQ,this.innerCircle=new VH,this.shadow=new Zd,this.calloutLabel=new eS,this.sectorLabel=new UH,this.calloutLine=new Hk,this.tooltip=s0()}};P([z],wn.prototype,"angleKey",2);P([z],wn.prototype,"angleName",2);P([z],wn.prototype,"angleFilterKey",2);P([z],wn.prototype,"radiusKey",2);P([z],wn.prototype,"radiusName",2);P([z],wn.prototype,"radiusMin",2);P([z],wn.prototype,"radiusMax",2);P([z],wn.prototype,"calloutLabelKey",2);P([z],wn.prototype,"calloutLabelName",2);P([z],wn.prototype,"sectorLabelKey",2);P([z],wn.prototype,"sectorLabelName",2);P([z],wn.prototype,"legendItemKey",2);P([z],wn.prototype,"defaultColorRange",2);P([z],wn.prototype,"defaultPatternFills",2);P([z],wn.prototype,"fills",2);P([z],wn.prototype,"strokes",2);P([z],wn.prototype,"fillOpacity",2);P([z],wn.prototype,"strokeOpacity",2);P([z],wn.prototype,"lineDash",2);P([z],wn.prototype,"lineDashOffset",2);P([z],wn.prototype,"cornerRadius",2);P([z],wn.prototype,"itemStyler",2);P([z],wn.prototype,"rotation",2);P([z],wn.prototype,"outerRadiusOffset",2);P([z],wn.prototype,"outerRadiusRatio",2);P([z],wn.prototype,"innerRadiusOffset",2);P([z],wn.prototype,"innerRadiusRatio",2);P([z],wn.prototype,"strokeWidth",2);P([z],wn.prototype,"sectorSpacing",2);P([z],wn.prototype,"hideZeroValueSectorsInLegend",2);P([z],wn.prototype,"innerLabels",2);P([z],wn.prototype,"title",2);P([z],wn.prototype,"innerCircle",2);P([z],wn.prototype,"shadow",2);P([z],wn.prototype,"calloutLabel",2);P([z],wn.prototype,"sectorLabel",2);P([z],wn.prototype,"calloutLine",2);P([z],wn.prototype,"tooltip",2);function MI(e,t,n,i){const r=[n.convert(0),n.convert(1)],s=[i.convert(0),i.convert(1)],o=Math.PI/-2+to(t),a=e?"initial":"update",l=({radius:m})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*m}),c=({radius:m})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*m});return{nodes:{toFn:(m,v,y,{prevLive:C})=>{var O,F;let{startAngle:S,endAngle:x,innerRadius:R,outerRadius:A}=v;const{stroke:T,fill:L}=v.sectorFormat;if(y==="removed"&&C?(S=(O=C.datum)==null?void 0:O.endAngle,x=(F=C.datum)==null?void 0:F.endAngle):y==="removed"&&!C&&(S=o,x=o),y==="removed"){const H=l(v);R=H.innerRadius,A=H.outerRadius}return{startAngle:S,endAngle:x,outerRadius:A,innerRadius:R,stroke:T,fill:L}},fromFn:(m,v,y,{prevFromProps:C})=>{let{startAngle:S,endAngle:x,innerRadius:R,outerRadius:A}=m,{fill:T,stroke:L}=v.sectorFormat;if(y==="updated"&&m.previousDatum==null&&(y="added"),y==="unknown"||y==="added"&&!C?(S=o,x=o,R=v.innerRadius,A=v.outerRadius):y==="added"&&C&&(S=C.endAngle??o,x=C.endAngle??o,R=C.innerRadius??v.innerRadius,A=C.outerRadius??v.outerRadius),y==="added"&&!e){const O=c(v);R=O.innerRadius,A=O.outerRadius}return y==="updated"&&(T=m.fill??T,L=(typeof m.stroke=="string"?m.stroke:void 0)??L),{startAngle:S,endAngle:x,innerRadius:R,outerRadius:A,fill:T,stroke:L,phase:a}}},innerCircle:{fromFn:(m,v)=>{var y;return{size:((y=m.previousDatum)==null?void 0:y.radius)??m.size??0,phase:a}},toFn:(m,v)=>({size:v.radius??0})}}}function CQ(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function bQ(e,t){const n=t.y-e.centerY,i=t.x-e.centerX,r=Math.atan2(n,i),s=e.getItemNodes();for(const o of s)if(o.datum.missing!==!0&&Pv(r,o.startAngle,o.endAngle)){const a=Math.sqrt(i*i+n*n);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var wQ=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(wQ||{}),SQ={angle:["angleKey"],radius:["radiusKey"]},xQ={angle:["angleName"],radius:["radiusName"]},WH=class extends wH{constructor({categoryKey:e,pickModes:t=[1,0],canHaveAxes:n=!1,animationResetFns:i,...r}){super({...r,categoryKey:e,pickModes:t,canHaveAxes:n}),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new nn),this.nodeData=[],this.itemSelection=No.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=No.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=No.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=i,this.animationState=new PR("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(e){super.setZIndex(e),this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3]}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new cl;return e.pointerEvents=1,e}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new ut(-e,-e,e*2,e*2),axis:new ut(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Js([this.itemSelection,this.highlightSelection],e),t&&Js([this.labelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t}=this.animationResetFns??{};t&&Js([this.highlightSelection],t)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var n;const t=(n=this.getNodeData())==null?void 0:n[e.datumIndex];if(t!==void 0)return this.itemSelection.select(i=>i instanceof Fo&&i.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}isSeriesHighlighted(e,t){const{series:n,legendItemName:i,itemId:r}=e??{},s=t==null?void 0:t[r];return n===this||s!=null&&s===i}},cIe=class extends ck{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},v1=class extends WH{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{...SQ,sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]},propertyNames:{...xQ,sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]},pickModes:[1,0],animationResetFns:{item:CQ,label:r0}}),this.properties=new wn,this.phantomNodeData=void 0,this.backgroundGroup=new Io({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new oy,this.radiusScale=new oy,this.phantomGroup=this.backgroundGroup.appendChild(new nn({name:"phantom"})),this.phantomSelection=No.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new nn({name:"pieCalloutLabels"})),this.calloutLabelSelection=new No(this.calloutLabelGroup,nn),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new nn({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ss({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ss({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new nn({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new nn({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=No.select(this.innerLabelsGroup,cl),this.innerCircleSelection=No.select(this.innerCircleGroup,()=>new ss({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=cIe,this.angleScale=new oy,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e==null||e.removeChild(this.backgroundGroup)}setZIndex(e){super.setZIndex(e),this.backgroundGroup.zIndex=[0,e]}nodeFactory(){const e=new oo;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="angle"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var y,C,S,x,R;if(this.data==null)return;const{visible:t,id:n,ctx:{legendManager:i}}=this,{angleKey:r,angleFilterKey:s,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c}=this.properties,u=()=>(A,T)=>t&&i.getItemEnabled({seriesId:n,itemId:T})?A:0,d=!this.ctx.animationManager.isSkipped(),h=[],p=[];c?h.push(fg(c,"category",{id:"legendItemKey"})):a?h.push(fg(a,"category",{id:"calloutLabelKey"})):l&&h.push(fg(l,"category",{id:"sectorLabelKey"}));const m=this.radiusScale.type,v=this.angleScale.type;o&&p.push(MZ(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:u}),Di(o,m,{id:"radiusRaw",processor:u}),yI("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&p.push(Di(a,"category",{id:"calloutLabelValue"})),l&&p.push(Di(l,"category",{id:"sectorLabelValue"})),c&&p.push(Di(c,"category",{id:"legendItemValue"})),s&&p.push(UB(s,v,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:u}),Di(s,v,{id:"angleFilterRaw"}),yI("angleFilterValue",[0,1],0,0)),d&&((S=(C=(y=this.processedData)==null?void 0:y.reduced)==null?void 0:C.animationValidation)!=null&&S.uniqueKeys)&&h.length>0&&p.push(u1(this.id,this.processedData)),p.push(c1()),await this.requestDataModel(e,this.data,{props:[...h,UB(r,v,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:u}),Di(r,v,{id:"angleRaw"}),yI("angleValue",[0,1],0,0),...p]});for(const A of((R=(x=this.processedData)==null?void 0:x.defs)==null?void 0:R.values)??[]){const{id:T,missing:L,property:O}=A,F=nq(this,L);T!=="angleRaw"&&F>0&&Je.warnOnce(`no value was found for the key '${String(O)}' on ${F} data element${F>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const n=e.resolveColumnById(this,"angleValue",t),i=e.resolveColumnById(this,"angleRaw",t),r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,c=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,u=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:n,angleRawValues:i,angleFilterValues:r,angleFilterRawValues:s,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:u}}createNodeData(){var L;const{id:e,processedData:t,dataModel:n,angleScale:i,ctx:{legendManager:r},visible:s}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!n||(t==null?void 0:t.type)!=="ungrouped")return;const l=this.getProcessedDataValues(n,t),{angleValues:c,angleRawValues:u,angleFilterValues:d,angleFilterRawValues:h,radiusValues:p,radiusRawValues:m,legendItemValues:v}=l,y=(h==null?void 0:h.some((O,F)=>O>u[F]))??!1;let C=0,S=0;const x=[],R=h!=null?[]:void 0,A=t.dataSources.get(this.id)??[],T=(L=t.invalidData)==null?void 0:L.get(this.id);return A.forEach((O,F)=>{if((T==null?void 0:T[F])===!0)return;const H=y?d[F]:c[F],W=h!=null&&!y?Math.sqrt(h[F]/u[F]):1,$=i.convert(C)+to(o);C=H,S+=H;const Z=i.convert(C)+to(o),ie=Math.abs(Z-$),oe=$+ie/2,te=u[F],ne=((p==null?void 0:p[F])??1)*W,Se=m==null?void 0:m[F],q=v==null?void 0:v[F],re=this.getLabels(F,O,oe,ie,l),K=this.getSectorFormat(O,F,!1),V={itemId:F,series:this,datum:O,datumIndex:F,angleValue:te,midAngle:oe,midCos:Math.cos(oe),midSin:Math.sin(oe),startAngle:$,endAngle:Z,radius:ne,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(ne),0),sectorFormat:K,radiusValue:Se,legendItemValue:q,enabled:s&&r.getItemEnabled({seriesId:e,itemId:F}),focusable:!0,...re};x.push(V),R!=null&&R.push({...V,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=S===0,this.zerosumInnerRing.visible=S===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:x,labelData:x,phantomNodeData:R}}getLabelContent(e,t,n){var C,S,x;const{id:i,ctx:r,properties:s}=this,{formatManager:o}=r,{calloutLabel:a,sectorLabel:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=s,h=(C=n.calloutLabelValues)==null?void 0:C[e],p=(S=n.sectorLabelValues)==null?void 0:S[e],m=(x=n.legendItemValues)==null?void 0:x[e],v={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},y={callout:void 0,sector:void 0,legendItem:void 0};return c&&(y.callout=this.getLabelText(h,t,c,"calloutLabel",[],a,{...v,value:h})),u&&(y.sector=this.getLabelText(p,t,u,"sectorLabel",[],l,{...v,value:p})),d!=null&&m!=null&&(y.legendItem=o.format(this.callWithContext.bind(this),{type:"category",value:m,datum:t,seriesId:i,legendItemName:void 0,key:d,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??m),y}getLabels(e,t,n,i,r){const{properties:s}=this,{calloutLabel:o,sectorLabel:a,legendItemKey:l}=s,c=this.getLabelContent(e,t,r),u={};return o.enabled&&c.callout&&i>=to(o.minAngle)&&(u.calloutLabel={...this.getTextAlignment(n),text:c.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),a.enabled&&c.sector&&(u.sectorLabel={text:c.sector}),l&&c.legendItem&&(u.legendItem={key:l,text:c.legendItem}),u}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=SN(e),i=-.75*Math.PI,r=n-i,s=Math.floor(r/(Math.PI/2)),o=jSe(s,t.length);return t[o]}getNodeFill(e,t,n){return Pb(e,{bounds:"series",colorStops:t.map(i=>({color:i})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:n,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:n,strokeOpacity:1,strokeWidth:4,rotation:0},{backgroundFill:n,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(e,t,n){if(!(!tu(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:n}}getSectorFormat(e,t,n,i,r,s){const{angleKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u,fills:d,strokes:h,defaultColorRange:p,defaultPatternFills:m,itemStyler:v}=this.properties,y=h[t%h.length],C=d[t%d.length],{fill:S,fillOpacity:x,stroke:R,strokeWidth:A,strokeOpacity:T,lineDash:L,lineDashOffset:O,cornerRadius:F,opacity:H}=Gn(this.getHighlightStyle(n,i==null?void 0:i.datumIndex,r),{fill:C,stroke:y},this.properties),W=p[t%p.length],$=m[t%m.length],Z=S??"black";let ie;return v&&(ie=this.cachedDatumCallback(this.getDatumId(t)+(n?"-highlight":"-hide"),()=>{var oe;return this.callWithContext(v,{datum:e,angleKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u,fill:this.getNodeFill(Z,W,$),fillOpacity:x,stroke:R,strokeWidth:A,strokeOpacity:T,lineDash:L,lineDashOffset:O,cornerRadius:F,highlighted:n,highlightState:this.getHighlightStateString(s??((oe=this.ctx.highlightManager)==null?void 0:oe.getActiveHighlight()),n,t),seriesId:this.id})})),{fill:this.getNodeFill((ie==null?void 0:ie.fill)??Z,W,$),fillOpacity:(ie==null?void 0:ie.fillOpacity)??x,stroke:(ie==null?void 0:ie.stroke)??R,strokeWidth:(ie==null?void 0:ie.strokeWidth)??A,strokeOpacity:(ie==null?void 0:ie.strokeOpacity)??T,lineDash:(ie==null?void 0:ie.lineDash)??L,lineDashOffset:(ie==null?void 0:ie.lineDashOffset)??O,cornerRadius:(ie==null?void 0:ie.cornerRadius)??F,opacity:H}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var i;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const n=r=>({...r,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=(i=this.phantomNodeData)==null?void 0:i.map(n)}getTitleTranslationY(){var r;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const n=2+(((r=this.properties.title)==null?void 0:r.spacing)??0),i=Math.max(0,-e);return-e-n-i}update({seriesRect:e}){const{title:t}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},i=hf(this.nodeDataDependencies,n)!=null;if(i&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const r=this.getTitleTranslationY();t.node.y=isFinite(r)?r:0;const s=t.node.getBBox(!1);t.node.visible=t.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(s)}for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var n,i;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(i=this.labelGroup)==null||i.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=n=>{const i=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,i),y:n.midSin*Math.max(0,i)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,calloutLabelSelection:i,labelSelection:r,innerLabelsSelection:s}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),a=(l,c)=>{l.update(c,void 0,u=>this.getDatumId(u.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,this.nodeData),a(t,o),a(n,this.phantomNodeData??[]),i.update(this.calloutNodeData,l=>{const c=new fl;c.tag=0,c.pointerEvents=1,l.appendChild(c);const u=new cl;u.tag=1,u.pointerEvents=1,l.appendChild(u)}),r.update(this.nodeData),s.update(this.properties.innerLabels,l=>{l.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const n=this.getInnerRadius();if(n>0){const r=Math.min(n,this.getOuterRadius());t=Math.ceil(r*2+1)}const i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:i,processedData:r}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!i||!r)return;const{legendItemValues:s}=this.getProcessedDataValues(i,r),o=this.isSeriesHighlighted(t,s);this.highlightGroup.visible=n&&o,this.labelGroup.visible=n,this.innerCircleSelection.each((h,{radius:p})=>{var m,v;h.setProperties({fill:this.getNodeFill((m=this.properties.innerCircle)==null?void 0:m.fill,["black"],"black"),opacity:(v=this.properties.innerCircle)==null?void 0:v.fillOpacity,size:p})});const a=this.radiusScale.range[0],l=this.radiusScale.range[1],c=this.getShapeFillBBox(),u=this.ctx.animationManager.isSkipped(),d=(h,p,m,v)=>{const y=this.getSectorFormat(p.datum,p.itemId,v,p,s,t);p.sectorFormat.fill=y.fill,p.sectorFormat.stroke=y.stroke,u&&(h.startAngle=p.startAngle,h.endAngle=p.endAngle,h.innerRadius=p.innerRadius,h.outerRadius=p.outerRadius),(v||u)&&(h.fill=y.fill,h.stroke=y.stroke);const C=this.getFillParams(y.fill,a,l);ef(h,y,c,C),h.cornerRadius=y.cornerRadius,h.fillShadow=this.properties.shadow;const S=Math.max((this.properties.sectorSpacing+(y.stroke!=null?y.strokeWidth:0))/2,0);h.inset=S,h.lineJoin=this.properties.sectorSpacing>=0||S>0?"miter":"round"};this.itemSelection.each((h,p,m)=>d(h,p,m,!1)),this.highlightSelection.each((h,p,m)=>{d(h,p,m,!0),h.visible=p.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((h,p,m)=>d(h,p,m,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:n},strokes:i}=this.properties,r=t,s=Gxe(n)?n??this.properties.strokes:i,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(a=>{const l=a.closestDatum(),{calloutLabel:c,outerRadius:u,datumIndex:d}=l;if(c!=null&&c.text&&!c.hidden&&u!==0){a.visible=!0,a.strokeWidth=r,a.stroke=s[d%s.length],a.strokeOpacity=this.getHighlightStyle(!1,l.datumIndex).opacity??1,a.fill=void 0;const h=l.midCos*u,p=l.midSin*u;let m=l.midCos*(u+e),v=l.midSin*(u+e);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){const C=c.box;let S=m,x=v;m<C.x?S=C.x:m>C.x+C.width&&(S=C.x+C.width),v<C.y?x=C.y:v>C.y+C.height&&(x=C.y+C.height);const R=S-m,A=x-v,T=Math.sqrt(Math.pow(R,2)+Math.pow(A,2)),L=T-o;L>0&&(m=m+R*L/T,v=v+A*L/T)}a.x1=h,a.y1=p,a.x2=m,a.y2=v}else a.visible=!1})}getLabelOverflow(e,t,n){const i=-this.centerX,r=i+n.width,s=-this.centerY,o=s+n.height,a=1;let l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>r&&(l=(r-t.x)/t.width);const c=t.y+a<s||t.y+t.height-a>o,u=l===1?e.length:Math.floor(e.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=t**2;return n.some(r=>r.x**2+r.y**2>i)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,s=e.convert(0),o=S=>!S.calloutLabel||S.outerRadius===0,a=this.calloutNodeData,l=a.filter(S=>!o(S));if(l.forEach(S=>{const x=S.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(S=>S.midCos<0).sort((S,x)=>S.midSin-x.midSin),u=l.filter(S=>S.midCos>=0).sort((S,x)=>S.midSin-x.midSin),d=l.filter(S=>{var x;return S.midSin<0&&((x=S.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((S,x)=>S.midCos-x.midCos),h=l.filter(S=>{var x;return S.midSin>=0&&((x=S.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((S,x)=>S.midCos-x.midCos),p={angleKey:this.properties.angleKey},m=S=>{const x=S.calloutLabel;if(x==null)return ut.zero.clone();const R=vd(this,S,p,t),A=mw(R),T=S.outerRadius+n.length+i,L=S.midCos*T,O=S.midSin*T+x.collisionOffsetY,F=x.collisionTextAlign??x.textAlign,H=x.textBaseline;return cl.computeBBox(x.text,L,O,{font:this.properties.calloutLabel,textAlign:F,textBaseline:H},!1).grow(A)},v=(S,x,R)=>{const A=m(S).grow(r/2),T=m(x).grow(r/2);A.x<T.x+T.width&&A.x+A.width>T.x&&(R==="to-top"?A.y<T.y+T.height:A.y+A.height>T.y)&&(x.calloutLabel.collisionOffsetY=R==="to-top"?A.y-T.y-T.height:A.y+A.height-T.y)},y=S=>{const x=S.slice().sort((A,T)=>Math.abs(A.midSin)-Math.abs(T.midSin))[0],R=S.indexOf(x);for(let A=R-1;A>=0;A--){const T=S[A+1],L=S[A];v(T,L,"to-top")}for(let A=R+1;A<S.length;A++){const T=S[A-1],L=S[A];v(T,L,"to-bottom")}},C=S=>{const x=l.some(F=>F.calloutLabel.collisionOffsetY!==0),R=S.map(F=>m(F)),A=R.map(F=>F.clone().grow(r/2));let T=!1;for(let F=0;F<A.length&&!T;F++){const H=A[F];for(let W=F+1;W<S.length;W++){const $=A[W];if(H.collidesBBox($)){T=!0;break}}}const L=a.map(F=>{const{startAngle:H,endAngle:W,outerRadius:$}=F;return{startAngle:H,endAngle:W,innerRadius:s,outerRadius:$}}),O=R.some(F=>L.some(H=>aIe(F,H)));!T&&!x&&!O||S.filter(F=>F.calloutLabel.textAlign==="center").forEach(F=>{const H=F.calloutLabel;F.midCos<0?H.collisionTextAlign="right":F.midCos>0?H.collisionTextAlign="left":H.collisionTextAlign="center"})};y(c),y(u),C(d),C(h)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=new cl;this.calloutLabelSelection.selectByTag(1).forEach(s=>{var A;const o=s.closestDatum(),a=o.calloutLabel,l=t.convert(o.radius),c=Math.max(0,l);if(!(a!=null&&a.text)||c===0||a.hidden){s.visible=!1;return}const u=(A=this.ctx.highlightManager)==null?void 0:A.getActiveHighlight(),d=!1,h=this.getHighlightStateString(u,d,o.datumIndex),p=vd(this,o,this.properties,n,d,h),m=c+i.length+n.offset,v=o.midCos*m,y=o.midSin*m+a.collisionOffsetY,C={textAlign:a.collisionTextAlign??a.textAlign,textBaseline:a.textBaseline};r.text=a.text,r.x=v,r.y=y,r.setFont(p),r.setAlign(C),r.setBoxing(p);const S=r.getBBox(!1);let x=a.text,R=!0;if(n.avoidCollisions){const{textLength:T,hasVerticalOverflow:L}=this.getLabelOverflow(a.text,S,e);x=a.text.length===T?a.text:`${a.text.substring(0,T)}…`,R=!L}s.text=x,s.x=v,s.y=y,s.setFont(p),s.setAlign(C),s.setBoxing(p),s.fill=p.color,s.fillOpacity=this.getHighlightStyle(!1,o.datumIndex).opacity??1,s.visible=R})}computeLabelsBBox(e,t){const{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:s,maxCollisionOffset:o,minSpacing:a}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new cl;let u;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(c.text=d.text,c.x=0,c.y=p,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(!1),l.push(u))}const h={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(p=>{const m=p.calloutLabel;if(!m||p.outerRadius===0)return null;const v=vd(this,p,h,n),y=p.outerRadius+r+s,C=p.midCos*y,S=p.midSin*y+m.collisionOffsetY;c.text=m.text,c.x=C,c.y=S,c.setFont(v),c.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline}),c.setBoxing(v);const x=c.getBBox(!1);if(m.box=x,Math.abs(m.collisionOffsetY)>o){m.hidden=!0;return}if(u){const R=-this.centerY,A=new ut(u.x-a,R,u.width+2*a,u.y+u.height+a-R);if(x.collidesBBox(A)){m.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:R,hasVerticalOverflow:A,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(m.text,x,t),L=m.text.length>2&&R<2;if(A||L||T){m.hidden=!0;return}}m.hidden=!1,l.push(x)}),l.length===0?null:ut.merge(l)}updateSectorLabelNodes(){var a;const{properties:e}=this,{positionOffset:t,positionRatio:n}=this.properties.sectorLabel,i=this.radiusScale.convert(0),r=i<=0&&((a=this.ctx.legendManager.getData(this.id))==null?void 0:a.filter(l=>l.enabled).length)===1,s={textAlign:"center",textBaseline:"middle"},o=(l,c)=>{var m;const{outerRadius:u,startAngle:d,endAngle:h}=c;let p=!1;if(c.sectorLabel&&u!==0){const v=(m=this.ctx.highlightManager)==null?void 0:m.getActiveHighlight(),y=!1,C=this.getHighlightStateString(v,y,c.datumIndex),S=vd(this,c,e,e.sectorLabel,y,C),x=i*(1-n)+u*n+t;l.fill=S.color,l.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.text=c.sectorLabel.text,r?(l.x=0,l.y=0):(l.x=c.midCos*x,l.y=c.midSin*x),l.setFont(S),l.setAlign(s),l.setBoxing(S);const R=l.getBBox(!1),A=[[R.x,R.y],[R.x+R.width,R.y],[R.x+R.width,R.y+R.height],[R.x,R.y+R.height]],T={startAngle:d,endAngle:h,innerRadius:i,outerRadius:u};A.every(([L,O])=>tG(L,O,T))&&(p=!0)}l.visible=p};this.labelSelection.each(o)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:m,fontFamily:v,color:y}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=m,u.fontFamily=v,u.text=d.text,u.x=0,u.y=0,u.fill=y,u.textAlign="center",u.textBaseline="alphabetic",e.push(u.getBBox()),t.push(d.spacing)});const n=u=>u===0?0:t[u],i=u=>u===t.length-1?0:t[u],r=e.reduce((u,d)=>u<d.width?d.width:u,0),s=e.reduce((u,d,h)=>u+d.height+n(h)+i(h),0),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let u=0,d=-s/2;u<e.length;u++){const p=e[u].height+d+n(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.visible=l,Array.isArray(u.text)?u.y=c[h]-e[h].height:u.y=c[h]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return bQ(this,e)}getTooltipContent(e){var F;const{id:t,dataModel:n,processedData:i,properties:r,ctx:{formatManager:s}}=this,{legendItemKey:o,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:u,angleKey:d,angleName:h,radiusKey:p,radiusName:m,tooltip:v}=r,y=this.properties.title.node.getPlainText();if(!n||!i)return;const C=(F=i.dataSources.get(this.id))==null?void 0:F[e],S=this.getProcessedDataValues(n,i),{angleRawValues:x}=S,R=x[e],A=this.getLabelContent(e,C,S),T=A.legendItem??A.callout??A.sector??h,L=n.getDomain(this,"angleRaw","value",i),O=s.format(this.callWithContext.bind(this),{type:"number",value:R,datum:C,seriesId:t,legendItemName:void 0,key:d,source:"tooltip",property:"angle",domain:L,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??hw(R,3);return this.formatTooltipWithContext(v,{title:y,symbol:this.legendItemSymbol(e),data:[{label:T,fallbackLabel:d,value:O}]},{seriesId:t,datum:C,title:h,legendItemKey:o,calloutLabelKey:a,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:u,angleKey:d,angleName:h,radiusKey:p,radiusName:m,...this.getSectorFormat(C,e,!1)})}legendItemSymbol(e){var u,d;const t=(d=(u=this.processedData)==null?void 0:u.dataSources.get(this.id))==null?void 0:d[e],n=this.getSectorFormat(t,e,!1),{fillOpacity:i,strokeOpacity:r,strokeWidth:s,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=n;const{stroke:c}=n;return tu(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:c,fillOpacity:i,strokeOpacity:r,strokeWidth:s,lineDash:o,lineDashOffset:a}}}getLegendData(e){var S,x;const{visible:t,processedData:n,dataModel:i,id:r,ctx:{legendManager:s}}=this;if(!i||!n||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,showInLegend:u}=this.properties;if(!c&&(!a||a===o)&&(!l||l===o))return[];const d=this.getProcessedDataValues(i,n),{angleRawValues:h}=d,p=((S=this.properties.title)==null?void 0:S.showInLegend)&&this.properties.title.text,m=[],v=this.properties.hideZeroValueSectorsInLegend,y=n.dataSources.get(this.id),C=(x=n.invalidData)==null?void 0:x.get(this.id);for(let R=0;R<n.input.count;R++){const A=y==null?void 0:y[R],T=h[R];if((C==null?void 0:C[R])===!0||v&&T===0)continue;const L=[];p&&L.push(p);const O=this.getLabelContent(R,A,d);c&&O.legendItem!==void 0?L.push(O.legendItem):a&&a!==o&&O.callout!==void 0?L.push(O.callout):l&&l!==o&&O.sector!==void 0&&L.push(O.sector),L.length!==0&&m.push({legendType:"category",id:r,datum:A,itemId:R,seriesId:r,hideToggleOtherSeries:!0,enabled:t&&s.getItemEnabled({seriesId:r,itemId:R}),label:{text:L.join(" - ")},symbol:this.legendItemSymbol(R),legendItemName:c!=null?A[c]:void 0,hideInLegend:!u})}return m}setLegendState(e){const{id:t,ctx:{legendManager:n,updateService:i}}=this;e.forEach((r,s)=>n.toggleItem(r,t,s)),n.update(),i.update(5)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=MI(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ns(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(i,r)=>this.getDatumId(r.datumIndex)),ns(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),Mr(this,"callout",t,this.calloutLabelSelection),Mr(this,"sector",t,this.labelSelection),Mr(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var p,m,v,y;const{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:i,radiusScale:r,previousRadiusScale:s}=this,{animationManager:o}=this.ctx,a=(m=(p=i==null?void 0:i.reduced)==null?void 0:p.diff)==null?void 0:m[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,c=((i==null?void 0:i.defs.keys.length)??0)>0,u=((y=(v=i==null?void 0:i.reduced)==null?void 0:v.animationValidation)==null?void 0:y.uniqueKeys)??!0;(!l||!c||!u)&&this.ctx.animationManager.skipCurrentBatch();const d=!this.nodeData.some(C=>C.enabled),h=MI(!1,this.properties.rotation,r,s);ns(this.id,"nodes",o,[e,t,n],h.nodes,(C,S)=>this.getDatumId(S.datumIndex),a),ns(this.id,"innerCircle",o,[this.innerCircleSelection],h.innerCircle),Mr(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Mr(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==d&&(this.noVisibleData=d,Mr(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:i,previousRadiusScale:r}=this,{animationManager:s}=this.ctx,o=MI(!1,this.properties.rotation,i,r);ns(this.id,"nodes",s,[e,t,n],o.nodes,(a,l)=>this.getDatumId(l.datumIndex)),ns(this.id,"innerCircle",s,[this.innerCircleSelection],o.innerCircle),wI(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),wI(this,"sector",this.ctx.animationManager,this.labelSelection),wI(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e){return`${e}`}hasItemStylers(){const{itemStyler:e,calloutLabel:t,sectorLabel:n}=this.properties;return(e??t.itemStyler??n.itemStyler)!=null}};v1.className="DonutSeries";v1.type="donut";var uIe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ul.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...Ql,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...Ql,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:Jz,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:_g,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:{...Ql,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},highlight:sZ()},legend:{enabled:!0}},dIe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new v1(e),themeTemplate:uIe},hIe={type:"series",name:"donut",chartType:"polar",options:UAe,create:e=>new v1(e)},Vk=class extends v1{};Vk.className="PieSeries";Vk.type="pie";var fIe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ul.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...Ql,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...Ql,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:Jz,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:_g,xOffset:3,yOffset:3,blur:5},highlight:Bg()},legend:{enabled:!0}},pIe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Vk(e),themeTemplate:fIe},gIe={type:"series",name:"pie",chartType:"polar",options:Qy,create:e=>new Vk(e)};function mIe(){Ed.register(PX,oDe,sDe,XTe,PDe,aQ,tIe,fQ,sIe,dIe,pIe,nIe);for(const e of[Kd,Vw,qd,Xy,Ww,Hg])ry.register(e.type,{moduleFactory:t=>new e(t)})}function vIe(){for(const e of Ed.modules){if(e.packageType==="enterprise"&&!cRe(e)&&Je.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)DB.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Wc.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)Wc.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const n=ry.getThemeTemplate(t),i=Gn(e.themeTemplate,n);ry.setThemeTemplate(t,i)}e.type==="axis"&&ry.register(e.identifier,e),e.type==="legend"&&Iz.register(e.identifier,e)}if(Ed.hasEnterpriseModules()){const e=uRe();e.length>0&&Je.errorOnce("Enterprise modules expected but not registered: ",e)}}var Pa=Symbol("IGNORED_PROP");function Jl(e,t){const n={};for(const i of Object.keys(t)){const r=t[i];r!==Pa&&Object.hasOwn(e,i)&&(n[i]=r)}return n}function MQ(e){const{enabled:t,mode:n,showArrow:i,range:r,position:s,pagination:o,delay:a,wrapping:l,interaction:c,renderer:u,...d}=e,h=Jl(e,{enabled:t,showArrow:i,range:r,position:s,interaction:c,renderer:u,...d});return{chartTooltipOptions:Jl(e,{enabled:Pa,showArrow:Pa,range:Pa,position:Pa,mode:n,pagination:o,delay:a,wrapping:l,...d}),seriesTooltipOptions:h}}function yIe(e){const{animation:t,background:n,container:i,contextMenu:r,context:s,footnote:o,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:m,theme:v,title:y,width:C,type:S,cursor:x,nodeClickRange:R,tooltip:A={},value:T,scale:L={},startAngle:O,endAngle:F,highlightStyle:H,highlight:W,segmentation:$,bar:Z,needle:ie,targets:oe,outerRadius:te,innerRadius:ae,outerRadiusRatio:ne,innerRadiusRatio:Se,cornerRadius:q,cornerMode:re,label:K,secondaryLabel:V,spacing:G,...se}=e,{chartTooltipOptions:Y,seriesTooltipOptions:ue}=MQ(A),J=Jl(e,{animation:t,background:n,container:i,contextMenu:r,context:s,footnote:o,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:m,theme:v,title:y,tooltip:Y,width:C}),he=Jl(e,{needle:ie!=null?{enabled:!0,...ie}:Pa,startAngle:O,endAngle:F,scale:L,type:S,cursor:x,context:s,nodeClickRange:R,tooltip:ue,value:T,highlightStyle:H,highlight:W,segmentation:$,bar:Z,targets:oe,outerRadius:te,innerRadius:ae,outerRadiusRatio:ne,innerRadiusRatio:Se,cornerRadius:q,cornerMode:re,label:K,secondaryLabel:V,spacing:G,...se});return{...J,series:[he]}}function CIe(e){const{animation:t,background:n,container:i,contextMenu:r,context:s,footnote:o,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:m,theme:v,title:y,width:C,type:S,cursor:x,nodeClickRange:R,tooltip:A={},value:T,scale:L={},direction:O="vertical",thickness:F,highlightStyle:H,highlight:W,segmentation:$,bar:Z,targets:ie,cornerRadius:oe,cornerMode:te,label:ae,...ne}=e,{chartTooltipOptions:Se,seriesTooltipOptions:q}=MQ(A),re=Jl(e,{animation:t,background:n,container:i,contextMenu:r,context:s,footnote:o,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:m,theme:v,title:y,tooltip:Se,width:C}),K=Jl(e,{scale:L,type:S,cursor:x,context:s,nodeClickRange:R,tooltip:q,value:T,direction:O,thickness:F,highlightStyle:H,highlight:W,segmentation:$,bar:Z,targets:ie,cornerRadius:oe,cornerMode:te,label:ae,...ne});return{...re,series:[K]}}function jW(e,t){if(t==null)return e;const{targets:n,...i}=t;return e=Gn(e,i),e.targets!=null&&n!=null&&(e.targets=OY(e.targets,n)),e}function bIe(e,t){switch(e.type){case"radial-gauge":return yIe(jW(e,t));case"linear-gauge":return CIe(jW(e,t));default:return{}}}var _l={stroke:pr},Ks={fill:YR},$W={color:"white",fill:pr},Oh={color:pr},Dv={color:$R,fontSize:{$rem:ul.LARGE},fontFamily:{$ref:"fontFamily"}},nG={...Dv,fontSize:{$ref:"fontSize"},color:ZR,fill:KR,stroke:qR,strokeWidth:1,divider:{stroke:XR,strokeWidth:1,strokeOpacity:.5}},l2={..._l,background:{fill:is,fillOpacity:.2},handle:{...Ks},text:{...Oh},statistics:{...nG}},wIe={line:{..._l,handle:{...Ks},text:{...Oh}},"horizontal-line":{..._l,handle:{...Ks},axisLabel:{...$W},text:{...Oh}},"vertical-line":{..._l,handle:{...Ks},axisLabel:{...$W},text:{...Oh}},"disjoint-channel":{..._l,background:{fill:is,fillOpacity:.2},handle:{...Ks},text:{...Oh}},"parallel-channel":{..._l,background:{fill:is,fillOpacity:.2},handle:{...Ks},text:{...Oh}},"fibonacci-retracement":{..._l,strokes:VE,rangeStroke:pr,handle:{...Ks},text:{...Oh,position:"center"},label:{...Dv,color:void 0,fontSize:{$rem:ul.SMALLER}}},"fibonacci-retracement-trend-based":{..._l,strokes:VE,rangeStroke:pr,handle:{...Ks},text:{...Oh,position:"center"},label:{...Dv,color:void 0,fontSize:{$rem:ul.SMALLER}}},callout:{..._l,...Dv,color:{$ref:"textColor"},handle:{...Ks},fill:is,fillOpacity:.2},comment:{...Dv,color:"white",fontWeight:700,handle:{...Ks},fill:pr},note:{...Dv,color:e1,fill:pr,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...Ks},background:{fill:QR,stroke:JR,strokeWidth:1}},text:{...Dv,handle:{...Ks}},arrow:{..._l,handle:{...Ks},text:{...Oh}},"arrow-up":{fill:{$palette:"up.fill"},handle:{...Ks,stroke:pr}},"arrow-down":{fill:{$palette:"down.fill"},handle:{...Ks,stroke:pr}},"date-range":{...l2},"price-range":{...l2},"date-price-range":{...l2},"quick-date-price-range":{up:{..._l,fill:is,fillOpacity:.2,handle:{...Ks},statistics:{...nG,color:"#fff",fill:is,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{..._l,stroke:WE,fill:UE,fillOpacity:.2,handle:{...Ks,stroke:WE},statistics:{...nG,color:"#fff",fill:UE,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},SIe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],xIe=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function MIe(e,t,n){const{dateKey:i="date",highKey:r="high",openKey:s="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:u=!1,volume:d=!0,rangeButtons:h=!0,statusBar:p=!0,toolbar:m=!0,zoom:v=!0,sync:y=!1,theme:C,data:S,formatter:x,...R}=e,A=RIe(c,i,r,o,s,a),T=EIe(n,s,a,d,l),O={navigator:{enabled:u,...d?{miniChart:{enabled:u,series:[{type:"line",xKey:i,yKey:l,stroke:bk,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},F={annotations:{enabled:m,optionsToolbar:{enabled:m},snap:!0,toolbar:{enabled:m,buttons:xIe,padding:0},data:S,xKey:i,volumeKey:d?l:void 0}},H=p?{statusBar:{enabled:!0,data:S,highKey:r,openKey:s,lowKey:o,closeKey:a,volumeKey:d?l:void 0}}:null,W={zoom:{enabled:v,autoScaling:{enabled:!0},enableIndependentAxes:!0}},$={ranges:{enabled:h}},Z=y?{sync:{enabled:y,nodeInteraction:!0,zoom:!0}}:null,ie=d?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof C=="string"?C:"ag-financial",...Gn(typeof C=="object"?C:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:m},annotations:{...wIe},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...qW(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}})}},candlestick:{series:{...qW(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...T,...A],axes:[{type:"number",position:"right",keys:[s,a,r,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...ie,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:S,formatter:x,...F,...O,...H,...W,...$,...Z,...R}}function EIe(e,t,n,i,r){return i?[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},itemStyler({datum:s}){const{up:o,down:a}=e().palette;return{fill:s[t]<s[n]?o==null?void 0:o.fill:a==null?void 0:a.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var YW="range-area";function RIe(e,t,n,i,r,s){const o={xKey:t,openKey:r,closeKey:s,highKey:n,lowKey:i},a={xKey:t,yKey:s},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return AIe(l,o);case"line":case"step-line":return TIe(l,a);case"hlc":return DIe(l,a,o);case"high-low":return IIe(l,o);case"candlestick":case"hollow-candlestick":return KW(l,o);default:return Je.warnOnce(`unknown chart type: ${e}; expected one of: ${SIe.join(", ")}`),KW(l,o)}}function AIe(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function TIe(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function DIe(e,t,{xKey:n,highKey:i,closeKey:r,lowKey:s}){return[{type:YW,focusPriority:0,...e,xKey:n,yHighKey:i,yLowKey:r,fill:pk,stroke:hk},{type:YW,focusPriority:0,...e,xKey:n,yHighKey:r,yLowKey:s,fill:gk,stroke:fk},{type:"line",...e,...t}]}function IIe(e,{xKey:t,highKey:n,lowKey:i}){return[{type:"range-bar",...e,xKey:t,yHighKey:n,yLowKey:i,fill:vk,stroke:mk,tooltip:{range:"nearest"},focusPriority:0}]}function KW(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function qW(e,t){return t[e]??t.default}var EQ={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:Ck,lineDash:[0],label:{enabled:!1}}},c2={...EQ,nice:!1},_D={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},u2={style:[{stroke:{$ref:"gridLineColor"}}],width:2},NIe={number:{gridLine:u2},time:{gridLine:u2},category:{gridLine:u2}},LIe={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...c2,interval:{values:[0]}},log:{...c2},time:{...c2},category:{...EQ}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{..._D,position:{..._D.position,anchorTo:"pointer"},range:"nearest"},axes:NIe},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:_D},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:_D}}},RQ=Xs(kIe);function kIe(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:RQ(e.baseTheme,t)}:t}function AQ(e){if(Array.isArray(e)&&e.length!==0){const t=e.find(n=>n!=null);if(typeof t=="number")return{data:e.map((i,r)=>({x:r,y:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(i=>({x:i==null?void 0:i[0],y:i==null?void 0:i[1],datum:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if((e==null?void 0:e.length)===0)return{data:e,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:e}}function OIe(e){switch(e==null?void 0:e.type){case"number":{const{type:t,min:n,max:i,reverse:r}=e;return Jl(e,{type:t,reverse:r,min:n,max:i})}case"time":{const{type:t,min:n,max:i,reverse:r}=e;return Jl(e,{type:t,reverse:r,min:n,max:i})}case"category":default:{const{paddingInner:t,paddingOuter:n,reverse:i}=e??{};return Jl({...e,type:"category"},{type:"category",reverse:i,paddingInner:t,paddingOuter:n})}}}function PIe(e,t,n){const i={};return(e==null?void 0:e.stroke)!=null&&(i.style=[{stroke:e==null?void 0:e.stroke}],i.enabled??(i.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(i.width=e==null?void 0:e.strokeWidth,i.enabled??(i.enabled=!0)),n.type==="bar"&&n.direction!=="horizontal"&&(i.enabled??(i.enabled=!0)),(e==null?void 0:e.visible)!=null&&(i.enabled=e.visible),i.enabled??(i.enabled=t),i}var FIe=Xs((e,t,n)=>i=>{var c;const r=i.datum[i.xKey],s=i.datum[i.yKey],o=n!=null?i.datum[n]:i.datum,a=(c=t==null?void 0:t.renderer)==null?void 0:c.call(t,{context:e,datum:o,xValue:r,yValue:s});if(typeof a=="string")return a;const l=(a==null?void 0:a.content)??s.toFixed(2);return a!=null&&a.title?{heading:void 0,title:void 0,data:[{label:a.title,value:l}]}:{heading:void 0,title:l,data:[]}});function _Ie(e){const{background:t,container:n,height:i,listeners:r,locale:s,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:u,theme:d,data:h,crosshair:p,axis:m,min:v,max:y,tooltip:C,context:S,styleNonce:x,...R}=e,A=Jl(e,{background:t,container:n,height:i,listeners:r,locale:s,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:u,styleNonce:x,tooltip:Pa,context:Pa,data:Pa,crosshair:Pa,axis:Pa,min:Pa,max:Pa,theme:Pa}),{data:T,series:[L]=[],datumKey:O}=AQ(h),F=R;L!=null&&Object.assign(F,L),F.tooltip={...C,renderer:FIe(S,C,O)},A.theme=RQ(d,LIe),A.data=T,A.series=[F];const H=F.type!=="bar"||F.direction!=="horizontal",[W,$]=H?["bottom","left"]:["left","bottom"],Z={...OIe(m),position:W,...Jl(e,{crosshair:p})},ie={type:"number",gridLine:PIe(m,!1,e),position:$,...Jl(e,{min:v,max:y})};return A.axes=H?[ie,Z]:[Z,ie],A}var BIe={chartType:Ze("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:Pe,openKey:Pe,highKey:Pe,lowKey:Pe,closeKey:Pe,volumeKey:Pe,navigator:me,volume:me,rangeButtons:me,statusBar:me,toolbar:me,zoom:me,sync:me,theme:Pt,container:Pt,width:Pt,height:Pt,minWidth:Pt,minHeight:Pt,listeners:Pt,initialState:Pt,title:Pt,data:Ud,formatter:Pt},iG={theme:Pt,container:Pt,animation:Pt,background:Pt,contextMenu:Pt,context:()=>!0,listeners:Pt,locale:Pt,width:Pt,height:Pt,minWidth:Pt,minHeight:Pt,title:Pt,subtitle:Pt,footnote:Pt,padding:Pt,tooltip:{...Hn,...Yt.tooltip}};iG.overrideDevicePixelRatio=Zt(ge);var d2=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],h2={visible:me,reverse:me,stroke:ct,strokeWidth:ge},f2={context:()=>!0,tooltip:Pt,theme:Pt,background:Pt,container:Pt,width:Pt,height:Pt,minWidth:Pt,minHeight:Pt,padding:Pt,listeners:Pt,locale:Pt,data:Pt,styleNonce:Pe,axis:RR({number:{...h2,min:Ii(ze,xd("max")),max:Ii(ze,Md("min"))},category:{...h2,paddingInner:wt,paddingOuter:wt},time:{...h2,min:Ii(tn(ze,wg),xd("max")),max:Ii(tn(ze,wg),Md("min"))}},"axis options","category"),min:Ii(ze,xd("max")),max:Ii(ze,Md("min")),crosshair:{enabled:me,snap:me,...et,...Ct},xKey:Pe,yKey:Pe},GIe={type:"preset",name:"price-volume",enterprise:!0,options:BIe,create:MIe},zIe={type:"preset",name:"gauge-preset",enterprise:!0,options:RR({"linear-gauge":{...lt(Eg,["type"]),...iG},"radial-gauge":{...lt(r1,["type"]),...iG}},"gauge options"),create:bIe},HIe={type:"preset",name:"sparkline",options:RR({area:{...f2,...lt(jZ,d2)},bar:{...f2,...lt(Lk,d2)},line:{...f2,...lt(kk,d2)}},"sparkline options"),create:_Ie,processData:AQ},VIe=["top","right","bottom","left"],Uk=class TQ extends dk{constructor(t,n){super(t,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,n){super.onAxisChange(t,n),this.syncAxisChanges(t,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:n,annotationRoot:i}=this;n.setClipRect(t),i.setClipRect(t)}async processData(){await super.processData(),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}async processDomains(){await super.processDomains();for(const t of this.axes){const n=await this.getSyncedDomain(t);n!=null&&t.setDomains(n)}}performLayout(t){const{seriesRoot:n,annotationRoot:i}=this,{clipSeries:r,seriesRect:s,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=s,this.animationRect=t.layoutBox;const{x:a,y:l}=s;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const p of[n,i])p.translationX=Math.floor(a),p.translationY=Math.floor(l);else{const{translationX:p,translationY:m}=n;Ef(this.id,"seriesRect",this.ctx.animationManager,[n,i],{translationX:p,translationY:m},{translationX:Math.floor(a),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const c=this.modulesManager.getModule("seriesArea"),u=s.clone().grow(c.getPadding()),d=c.clip||r?u:void 0,{lastUpdateClipRect:h}=this;this.lastUpdateClipRect=d,this.ctx.animationManager.isActive()&&h!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:h,to:u,onUpdate:p=>this.setRootClipRects(p),onComplete:()=>this.setRootClipRects(d)}):this.setRootClipRects(d),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(p=>p.getLayoutState()),series:{visible:o,rect:s,paddedRect:u},clipSeries:r})}updateAxes(t){const{clipSeries:n,seriesRect:i,overflows:r}=this.resolveAxesLayout(t);for(const s of this.axes)s.update(),s.setCrossLinesVisible(!r),this.clipAxis(s,i,t);return{clipSeries:n,seriesRect:i,visible:!r}}resolveAxesLayout(t){let n,i,r=0;const s=10;do if(i=n??this.getDefaultState(),n=this.updateAxesPass(new Map(i.axisAreaWidths),t.clone()),r++>s){Je.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,i));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(t,n){const i=new Map,r={};let s=!1,o=!1;for(const C of VIe){const S=this.modulesManager.getModule("seriesArea").getPadding()[C],x=this.axes.findLast(R=>R.position===C);x?x.seriesAreaPadding=S:n.shrink(S,C)}const a=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),c=this.buildCrossLinePadding(t),u=c.left+c.right,d=c.top+c.bottom;n.width<=a+u||n.height<=l+d?s=!0:n.shrink(c);const{scene:h}=this.ctx,p=n.clone().shrink(Object.fromEntries(t));for(const C of this.axes){const{position:S="left",direction:x}=C,R=x==="y";let A;this.sizeAxis(C,p,S),C.thickness==null?A=p2(R,h)*(C.maxThicknessRatio??1):A=C.thickness;const{primaryTickCount:T,bbox:L}=C.calculateLayout(C.nice?r[x]:void 0,{sizeLimit:A,padding:this.padding});r[x]??(r[x]=T),o||(o=C.dataDomain.clipped||C.visibleRange[0]>0||C.visibleRange[1]<1),C.thickness==null&&(A=Math.min(p2(R,L)??0,A)),i.set(C.id,Math.ceil(A))}const m=Y4(this.axes,C=>C.position??"left"),v=new Map,y=new Map;for(const[C,S]of Xc(m)){let x=p2(C!=="left"&&C!=="right",h)%h.pixelRatio,R=0;for(const A of S??[]){y.set(A.id,x);const T=i.get(A.id)??0;R=Math.max(R,x+T),A.layoutConstraints.stacked&&(x+=T+TQ.AxesPadding)}v.set(C,Math.ceil(R))}for(const[C,S]of Xc(m))this.positionAxes({axes:S??[],position:C,axisWidths:i,axisOffsets:y,axisAreaWidths:v,axisBound:n,seriesRect:p});return{clipSeries:o,seriesRect:p,axisAreaWidths:v,overflows:s}}buildCrossLinePadding(t){const n={top:0,right:0,bottom:0,left:0};this.axes.forEach(i=>{var o;const{position:r,label:s}=i;(o=i.crossLines)==null||o.forEach(a=>{var c;var l;a instanceof ua&&(a.position=r??"top",(l=a.label).parallel??(l.parallel=s.parallel)),(c=a.calculatePadding)==null||c.call(a,n)})});for(const[i,r=0]of Xc(n))n[i]=Math.max(r-(t.get(i)??0),0);return n}clampToOutsideSeriesRect(t,n,i,r){const s=i==="x"?t.x:t.y,o=i==="x"?t.width:t.height;return r===1?Math.min(n,s+o):Math.max(n,s)}async getSyncedDomain(t){const n=this.modulesManager.getModule("sync");if(n!=null&&n.enabled)return await n.getSyncedDomain(t)}syncAxisChanges(t,n){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const r=new Set(n??[]);for(const s of t)r.delete(s);for(const s of r)i.removeAxis(s)}sizeAxis(t,n,i){const r=t instanceof Kd,s=i==="left"||i==="right",{width:o,height:a}=n,l=s?a:o;let c=0,u=l,{min:d,max:h}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:p,unit:m,align:v}=t.layoutConstraints;m==="px"?u=c+p:u=u*p/100,v==="end"&&(c=l-(u-c),u=l),s&&(r?[c,u]=[u,c]:[d,h]=[1-h,1-d]),t.range=[c,u],t.visibleRange=[d,h],t.gridLength=s?o:a}positionAxes(t){const{axes:n,axisBound:i,axisWidths:r,axisOffsets:s,axisAreaWidths:o,seriesRect:a,position:l}=t,c=o.get(l)??0;let u="x",d="y",h=1;(l==="top"||l==="bottom")&&(u="y",d="x");let p=i[u];(l==="right"||l==="bottom")&&(h=-1,p+=u==="x"?i.width:i.height);for(const m of n){const v=o.get(d==="x"?"left":"top")??0,y=r.get(m.id)??0,C=s.get(m.id)??0;m.gridPadding=c-C-y,m.translation[d]=i[d]+v,m.translation[u]=this.clampToOutsideSeriesRect(a,p+h*(C+y),u,h)}}shouldFlipXY(){return this.series.every(t=>t instanceof o0&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:n="left"}of this.axes){const i=this.lastAreaWidths.get(n);i!=null&&t.set(n,i)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,n){if(n.overflows!==t.overflows||n.clipSeries!==t.clipSeries)return!1;for(const i of t.axisAreaWidths.keys())if(!n.axisAreaWidths.has(i))return!1;for(const[i,r]of n.axisAreaWidths.entries()){const s=t.axisAreaWidths.get(i);if((r!=null||s!=null)&&r!==s)return!1}return!0}clipAxis(t,n,i){var l,c;const r=Math.ceil(((l=t.gridLine)==null?void 0:l.width)??0),s=Math.ceil(((c=t.line)==null?void 0:c.width)??0);let{width:o,height:a}=n;switch(o+=t.direction==="x"?r:s,a+=t.direction==="y"?r:s,t.clipGrid(n.x,n.y,o,a),t.position){case"left":case"right":t.clipTickLines(i.x,n.y-r,i.width+r,n.height+r*2);break;case"top":case"bottom":t.clipTickLines(n.x-r,i.y,n.width+r*2,i.height+r);break}}};Uk.className="CartesianChart";Uk.type="cartesian";Uk.AxesPadding=15;var UIe=Uk;function p2(e,t){return e?t==null?void 0:t.width:t==null?void 0:t.height}var Wk={mode:Zt(Ze("integrated","standalone")),container:pY,context:()=>!0,theme:Pt,series:Ud,annotations:Pt,navigator:Pt,initialState:{chartType:Pe,annotations:Pt,legend:ro({visible:me,seriesId:Pe,itemId:Pe,legendItemName:Pe},"legend state array"),zoom:Pt}},DQ={...Yt,...Wk,axes:Uy(2),data:Ud},IQ={...Yt,...Wk,axes:Uy(2),data:Ud},WIe={...Yt,...Wk,data:Ud,topology:qSe},jIe={...Yt,...Wk,data:Ud},$Ie=new Set(["number","log","time"]),YIe=e=>rr(e)&&!$Ie.has(e.type),KIe={type:"chart",name:"cartesian",options:DQ,detect:Bq,create(e,t){return new UIe(e,t)},validate(e,t,n){var s,o,a;const i=[];((o=(s=e==null?void 0:e.series)==null?void 0:s[0])==null?void 0:o.type)==="histogram"&&(a=e==null?void 0:e.axes)!=null&&a.some(YIe)&&(i.push(new ny("invalid","only continuous axis types when histogram series is used",e.axes,n,"axes")),e=lt(e,["axes"]));const r=To(e,t,n);return r.invalid.push(...i),r}},NQ=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},qIe={type:"chart",name:"standalone",placeholder:!0,options:{},detect:zq,create:NQ},ZIe={type:"chart",name:"topology",placeholder:!0,options:{},detect:Gq,create:NQ},yw=class extends Bz{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){const e=this.label.getSideFlag(),t=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:n,parallelFlipRotation:i,regularFlipRotation:r}=this.calculateRotations();this.crossLines.forEach(s=>{var o;s.sideFlag=-e,s.direction=n===-Math.PI/2?"angle":"radius",s.parallelFlipRotation=i,s.regularFlipRotation=r,(o=s.calculateLayout)==null||o.call(s,t,this.reverse)})}updatePosition(){super.updatePosition();const e=Math.floor(this.translation.x),t=Math.floor(this.translation.y);this.tickLineGroup.translationX=e,this.tickLineGroup.translationY=t,this.tickLabelGroup.translationX=e,this.tickLabelGroup.translationY=t,this.crossLineRangeGroup.translationX=e,this.crossLineRangeGroup.translationY=t,this.crossLineLineGroup.translationX=e,this.crossLineLineGroup.translationY=t,this.crossLineLabelGroup.translationX=e,this.crossLineLabelGroup.translationY=t,this.tickLabelGroupSelection.each(LN())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};P([z],yw.prototype,"shape",2);P([z],yw.prototype,"innerRadiusRatio",2);var jH=class extends dk{constructor(e,t){super(e,t),this.padding=new Wy(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,n=t.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,await this.computeCircle(n),this.axes.forEach(i=>i.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:t}})}updateAxes(e,t,n,i){var l,c;const r=this.axes.find(u=>u.direction==="angle"),s=this.axes.find(u=>u.direction==="radius");if(!(r instanceof yw)||!(s instanceof yw))return;const o=r.scale,a=s.innerRadiusRatio;r.innerRadiusRatio=a,r.computeRange(),r.gridLength=i,s.gridAngles=(c=(l=o.ticks({nice:r.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.ticks)==null?void 0:c.map(u=>o.convert(u)),s.gridRange=r.range,s.range=[i,i*a],[r,s].forEach(u=>{u.translation.x=e.x+t,u.translation.y=e.y+n,u.calculateLayout()})}async computeCircle(e){const t=this.series.filter(XIe),n=this.axes.filter(QIe),i=(c,u,d)=>{this.updateAxes(e,c,u,d),t.forEach(p=>{p.centerX=c,p.centerY=u,p.radius=d});const h=t.filter(p=>p.type==="donut"||p.type==="pie");if(h.length>1){const p=h.map(m=>{const v=m.getInnerRadius();return{series:m,innerRadius:v}}).sort((m,v)=>m.innerRadius-v.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let m=0;m<p.length-1;m++)p[m].series.surroundingRadius=p[m+1].innerRadius}},r=e.width/2,s=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;i(r,s,a);const l=async({hideWhenNecessary:c=!1}={})=>{const u=[];for(const p of mb(n,t)){const m=await p.computeLabelsBBox({hideWhenNecessary:c},e);m&&u.push(m)}if(u.length===0){i(r,s,o);return}const d=ut.merge(u),h=this.refineCircle(d,a,e);i(h.centerX,h.centerY,h.radius),a=h.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const c of mb(n,t))await c.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:r,centerY:s}}refineCircle(e,t,n){const r=-t,s=-t,o=t,a=t;let l=Math.max(0,r-e.x),c=Math.max(0,s-e.y),u=Math.max(0,e.x+e.width-o),d=Math.max(0,e.y+e.height-a);l=u=Math.max(l,u),c=d=Math.max(c,d);const h=n.width-l-u,p=n.height-c-d;let m=Math.min(h,p)/2;const v=.5*n.width/2,y=.5*n.height/2,C=Math.min(v,y);if(m<C){m=C;const R=l+u,A=c+d;if(2*m+A>n.height){const T=n.height-2*m;Math.min(c,d)*2>T?(c=T/2,d=T/2):c>d?c=T-d:d=T-c}if(2*m+R>n.width){const T=n.width-2*m;Math.min(l,u)*2>T?(l=T/2,u=T/2):l>u?l=T-u:u=T-l}}const S=l+2*m+u,x=c+2*m+d;return{centerX:(n.width-S)/2+l+m,centerY:(n.height-x)/2+c+m,radius:m}}};jH.className="PolarChart";jH.type="polar";function XIe(e){return e instanceof WH}function QIe(e){return e instanceof yw}var JIe={type:"chart",name:"polar",options:IQ,detect:t1e,create(e,t){return new jH(e,t)},validate(e,t,n){var o,a;const i=[],r=(a=(o=e==null?void 0:e.series)==null?void 0:o[0])==null?void 0:a.type;(r==="pie"||r==="donut")&&e!=null&&e.axes&&(i.push(new W4([],e.axes,n,"axes")),e=lt(e,["axes"]));const s=To(e,t,n);return s.invalid.push(...i),s}},eNe=[KIe,kAe,OAe,PAe,FAe,_Ae,BAe,iQ,lQ,dQ,hQ,pQ,gQ],tNe=[JIe,hIe,gIe],nNe=[...eNe,...tNe,qIe,ZIe,GIe,zIe,HIe],iNe=1e3,$H=class Up{constructor(t,n,i,r,s,o=iNe){this.name=t,this.buildItem=n,this.releaseItem=i,this.destroyItem=r,this.maxPoolSize=s,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,n,i,r,s){return this.pools.has(t)||this.pools.set(t,new Up(t,n,i,r,s)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let n=this.freePool.pop();return n==null?(n=this.buildItem(t),Up.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n])):Up.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n]),this.busyPool.add(n),{item:n,release:()=>this.release(n)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return Up.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Up.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Up.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const n=Date.now(),i=n+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<i&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=n+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const n of t)this.destroyItem(n);Up.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};$H.pools=new Map;$H.debug=on.create(!0,"pool");var rNe=$H;ea.registerMany(nNe,LE);var Hh=on.create(!0,"opts"),og=class{static licenseCheck(t){var n,i;this.licenseChecked||(this.licenseManager=(n=ka.licenseManager)==null?void 0:n.call(ka,t),(i=this.licenseManager)==null||i.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var n;return(n=ka.licenseManager)==null?void 0:n.call(ka,{}).getLicenseDetails(t)}static getInstance(t){return ZW.getInstance(t)}static create(t,n){const i=on.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return Hh.group("AgCharts.create()",()=>{var s,o;t=on.inDevelopmentMode(()=>Uh(tr(t)))??t,this.licenseCheck(t);const r=ZW.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:n,apiStartTime:i});return(s=this.licenseManager)!=null&&s.isDisplayWatermark()&&this.licenseManager&&((o=ka.injectWatermark)==null||o.call(ka,r.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),r})}static createFinancialChart(t){return Hh.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return Hh.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge-preset"}))}static __createSparkline(t){return Hh.group("AgCharts.__createSparkline()",()=>{const{pool:n,...i}=t;return this.create(i,{presetType:"sparkline",pool:n??!0,domMode:"minimal",withDragInterpretation:!1})})}};og.licenseChecked=!1;var ud=class Wp{static getInstance(t){const n=dk.getInstance(t);return n?xW.chartInstances.get(n):void 0}static initialiseModules(){Wp.initialised||(mIe(),vIe(),Wp.initialised=!0)}static createOrUpdate(t){var F,H,W,$,Z;let{proxy:n}=t;const{userOptions:i,licenseManager:r,processedOverrides:s=((F=n==null?void 0:n.chart)==null?void 0:F.chartOptions.processedOverrides)??{},specialOverrides:o=((H=n==null?void 0:n.chart)==null?void 0:H.chartOptions.specialOverrides)??{},optionsMetadata:a=((W=n==null?void 0:n.chart)==null?void 0:W.chartOptions.optionMetadata)??{},deltaOptions:l,data:c,stripSymbols:u=!1,apiStartTime:d}=t,h=ka.styles!=null?[["ag-charts-enterprise",ka.styles]]:[];Wp.initialiseModules(),Hh(()=>[">>> AgCharts.createOrUpdate() user options",tr(i)]);const{presetType:p}=a;let m=i;og.optionsMutationFn&&m&&(m=og.optionsMutationFn(tr(m,sE.OPTIONS_CLONE_OPTS_FAST),p),Hh(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",tr(m)]));const v=this.getPool(a);let y=!1,C,S=n==null?void 0:n.chart;S==null&&(v!=null&&v.hasFree())&&(C=v.obtainFree(),S=C.item);const{document:x,window:R,styleContainer:A,...T}=m??{},L=S==null?void 0:S.getChartOptions(),O=new sE(L,T,s,{...o,document:x,window:R,styleContainer:A},a,l,u,d);return(S==null||ea.detectChartDefinition(O.processedOptions)!==ea.detectChartDefinition(S.chartOptions.processedOptions))&&(C==null||C.release(),C=($=this.getPool(O.optionMetadata))==null?void 0:$.obtain(O),C?S=C.item:(y=!0,S=Wp.createChartInstance(O,S))),h.forEach(([ie,oe])=>{S.ctx.domManager.addStyles(ie,oe)}),S.ctx.fontManager.updateFonts(O.googleFonts),c!=null&&S.ctx.dataService.restoreData(c),n==null?(n=new xW(S,Wp.callbackApi,r),n.releaseChart=C==null?void 0:C.release):(C||y)&&((Z=n.releaseChart)==null||Z.call(n),n.chart=S,n.releaseChart=C==null?void 0:C.release),Hh.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[S.id]=S),S.queuedUserOptions.push(O.userOptions),S.queuedChartOptions.push(O),S.requestFactoryUpdate(ie=>{Hh.group(">>>> Chart.applyOptions()",()=>{ie.applyOptions(O);const oe=ie.queuedUserOptions.indexOf(O.userOptions)+1;ie.queuedUserOptions.splice(0,oe),ie.queuedChartOptions.splice(0,oe)})}),n}static markRemovedProperties(t,n,i=!1){if(typeof t!="object")return i;for(const r of Object.keys(t))typeof t[r]>"u"&&(Object.assign(t,{[r]:Symbol("UNSET")}),i||(i=!0));return i}static updateUserDelta(t,n,i){n=tr(n,sE.OPTIONS_CLONE_OPTS_FAST);const r=dg(n,Wp.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);Hh(()=>[">>> AgCharts.updateUserDelta() user delta",tr(n)]),Wp.createOrUpdate({proxy:t,deltaOptions:n,stripSymbols:r,apiStartTime:i})}static createChartInstance(t,n){const i=n==null?void 0:n.destroy({keepTransferableResources:!0});return ea.detectChartDefinition(t.processedOptions).create(t,i)}static getPool(t){if(t.pool===!0)return rNe.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};ud.caretaker=new gK(LE);ud.initialised=!1;ud.callbackApi={caretaker:ud.caretaker,create(e,t,n,i,r){return ud.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:n,optionsMetadata:i,data:r})},update(e,t,n,i){return ud.createOrUpdate({userOptions:e,proxy:t,specialOverrides:n,apiStartTime:i})},updateUserDelta(e,t,n){return ud.updateUserDelta(e,t,n)}};ud.detachAndClear=e=>e.detachAndClear();ud.destroy=e=>e.destroy();var ZW=ud,sNe={};Wd(sNe,{Arc:()=>Xd,BBox:()=>ut,Caption:()=>nr,CategoryScale:()=>Fw,Group:()=>nn,Line:()=>fl,LinearScale:()=>oy,Marker:()=>ss,Path:()=>Fo,RadialColumnShape:()=>uc,Rect:()=>os,Scene:()=>KL,Sector:()=>oo,Shape:()=>Ur,TranslatableGroup:()=>Io,getRadialColumnWidth:()=>LQ,toRadians:()=>to});var Xd=class extends Fo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return Ul(Br(this.startAngle),Br(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new ut(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const n=this.getBBox();return this.type!==0&&n.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};Xd.className="Arc";P([Xe()],Xd.prototype,"centerX",2);P([Xe()],Xd.prototype,"centerY",2);P([Xe()],Xd.prototype,"radius",2);P([Xe()],Xd.prototype,"startAngle",2);P([Xe()],Xd.prototype,"endAngle",2);P([Xe()],Xd.prototype,"counterClockwise",2);P([Xe()],Xd.prototype,"type",2);function g2(e,t,n){const i=Math.sqrt(e**2+t**2),s=Math.atan2(t,e)+n;return{x:Math.cos(s)*i,y:Math.sin(s)*i}}var uc=class extends Fo{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:n}=this,i=this.getRotation(),r=-n/2,s=n/2,o=-t,a=-e;let l=1/0,c=1/0,u=-1/0,d=-1/0;for(let h=0;h<4;h+=1){const{x:p,y:m}=g2(h%2===0?r:s,h<2?o:a,i);l=Math.min(p,l),c=Math.min(m,c),u=Math.max(p,u),d=Math.max(m,d)}return new ut(l,c,u-l,d-c)}getRotation(){const{startAngle:e,endAngle:t}=this,n=BL(e,t);return Br(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:n,path:i}=this,r=-e/2,s=e/2,o=-n,a=-t,l=this.getRotation(),c=[[r,a],[r,o],[s,o],[s,a]].map(([u,d])=>g2(u,d,l));i.clear(!0),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:n,innerRadius:i,axisInnerRadius:r,axisOuterRadius:s,isRadiusAxisReversed:o}=this,a=Ul(i,r),l=Math.asin(e/2/i),c=this.getRotation(),u=(O,F)=>g2(O,F,c),d=(O,F)=>Math.sqrt(O**2+F**2),h=(O,F)=>F>O?0:Math.sqrt(O**2-F**2),p=(O,F,H)=>H?O<F:O>F,m=a&&!isNaN(l)&&l<Math.PI/6;let v=-e/2,y=e/2;const C=-n,S=-i*(m?Math.cos(l):1),x=p(s,d(i,e/2),!o);if(x){const O=h(s,i);v=-O,y=O}t.clear(!0);const R=u(v,S);t.moveTo(R.x,R.y);const A=Ul(i,n),T=p(s,d(n,e/2),!o);if(A&&m)t.arc(0,0,i,Br(-l-Math.PI/2)+c,Br(l-Math.PI/2)+c,!1);else if(T){const O=-h(s,e/2),F=h(s,n);if(!x){const H=u(v,O);t.lineTo(H.x,H.y)}if(t.arc(0,0,s,Math.atan2(O,v)+c,Math.atan2(C,-F)+c,!1),!Ul(F,0)){const H=u(F,C);t.lineTo(H.x,H.y)}t.arc(0,0,s,Math.atan2(C,F)+c,Math.atan2(O,y)+c,!1)}else{const O=u(v,C),F=u(y,C);t.lineTo(O.x,O.y),t.lineTo(F.x,F.y)}const L=u(y,S);if(t.lineTo(L.x,L.y),m)t.arc(0,0,i,Br(l-Math.PI/2)+c,Br(-l-Math.PI/2)+c,!0);else{const O=u(v,S);t.lineTo(O.x,O.y)}t.closePath()}};uc.className="RadialColumnShape";P([Xe()],uc.prototype,"isBeveled",2);P([Xe()],uc.prototype,"columnWidth",2);P([Xe()],uc.prototype,"startAngle",2);P([Xe()],uc.prototype,"endAngle",2);P([Xe()],uc.prototype,"outerRadius",2);P([Xe()],uc.prototype,"innerRadius",2);P([Xe()],uc.prototype,"axisInnerRadius",2);P([Xe()],uc.prototype,"axisOuterRadius",2);P([Xe()],uc.prototype,"isRadiusAxisReversed",2);function LQ(e,t,n,i,r){const s=BL(e,t),o=s*(1-i)/2;if(e+=o,t-=o,s<.001)return 2*n*r;if(s>=2*Math.PI){const p=e+s/2;e=p-Math.PI,t=p+Math.PI}const a=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),u=n*Math.sin(t),d=Math.floor(Math.sqrt((a-c)**2+(l-u)**2)),h=2*n*r;return Math.max(1,Math.min(h,d))}var oNe={};Wd(oNe,{ChartTheme:()=>iu,DEFAULT_ANNOTATION_HANDLE_FILL:()=>YR,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>ZR,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>XR,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>UE,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>WE,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>KR,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>qR,DEFAULT_CAPTION_ALIGNMENT:()=>sg,DEFAULT_CAPTION_LAYOUT_STYLE:()=>rg,DEFAULT_FIBONACCI_STROKES:()=>VE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>is,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>pr,DEFAULT_GRIDLINE_ENABLED:()=>jc,DEFAULT_POLAR_SERIES_STROKE:()=>yk,DEFAULT_SEPARATION_LINES_COLOUR:()=>jR,DEFAULT_SHADOW_COLOUR:()=>_g,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Ck,DEFAULT_TEXTBOX_COLOR:()=>e1,DEFAULT_TEXTBOX_FILL:()=>QR,DEFAULT_TEXTBOX_STROKE:()=>JR,DEFAULT_TEXT_ANNOTATION_COLOR:()=>$R,DEFAULT_TOOLBAR_POSITION:()=>t1,IS_DARK_THEME:()=>Fb,PALETTE_ALT_DOWN_FILL:()=>Zz,PALETTE_ALT_DOWN_STROKE:()=>Kz,PALETTE_ALT_NEUTRAL_FILL:()=>Xz,PALETTE_ALT_NEUTRAL_STROKE:()=>Qz,PALETTE_ALT_UP_FILL:()=>qz,PALETTE_ALT_UP_STROKE:()=>Yz,PALETTE_DOWN_FILL:()=>gk,PALETTE_DOWN_STROKE:()=>fk,PALETTE_NEUTRAL_FILL:()=>vk,PALETTE_NEUTRAL_STROKE:()=>mk,PALETTE_UP_FILL:()=>pk,PALETTE_UP_STROKE:()=>hk,getChartTheme:()=>zN,resolveOperation:()=>lNe,themeNames:()=>aNe,themeSymbols:()=>$z,themes:()=>pH});var aNe=Object.keys(pH);function lNe(e){const t=iu.getDefaultPublicParameters(),n=iu.getDefaultColors();return new OX({line:{operation:e}},{series:[{type:"line"}]},t,n).resolve().operation}var cNe={};Wd(cNe,{Color:()=>Ci,interpolateColor:()=>LK});var uNe={};Wd(uNe,{AGGREGATION_INDEX_X_MAX:()=>sl,AGGREGATION_INDEX_X_MIN:()=>ta,AGGREGATION_INDEX_Y_MAX:()=>$l,AGGREGATION_INDEX_Y_MIN:()=>jl,AGGREGATION_SPAN:()=>yd,AbstractBarSeries:()=>rQ,AbstractBarSeriesProperties:()=>_H,ActionOnSet:()=>Po,AnchoredPopover:()=>zQ,Animation:()=>FK,AnimationManager:()=>GK,Arc:()=>Xd,Axis:()=>Bz,AxisGroupZIndexMap:()=>wq,AxisInterval:()=>$y,AxisLabel:()=>Hi,AxisTick:()=>Yy,AxisTickGenerator:()=>Pq,BASE_FONT_SIZE:()=>Bh,BBox:()=>ut,Background:()=>Kw,BackgroundModule:()=>PX,BandScale:()=>Mf,BarSeries:()=>p1,BarSeriesModule:()=>aQ,BaseModuleInstance:()=>OL,BaseProperties:()=>Wt,BaseToolbar:()=>QH,Border:()=>n0,ButtonWidget:()=>LR,CachedTextMeasurer:()=>aK,CachedTextMeasurerPool:()=>Fg,CallbackCache:()=>tK,Caption:()=>nr,CartesianAxis:()=>VR,CartesianSeries:()=>o0,CartesianSeriesNodeEvent:()=>SH,CartesianSeriesProperties:()=>Wg,CategoryAxis:()=>Vw,CategoryScale:()=>Fw,ChangeDetectableProperties:()=>bH,Chart:()=>dk,ChartAxisDirection:()=>pz,ChartOptions:()=>sE,ChartUpdateType:()=>nE,CollapseMode:()=>YX,Color:()=>Ci,ColorScale:()=>kw,ConicGradient:()=>jY,ContextMenuBuiltins:()=>zK,ContextMenuRegistry:()=>HK,ContinuousScale:()=>wi,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Xw,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Qw,DEFAULT_POLAR_DIRECTION_KEYS:()=>SQ,DEFAULT_POLAR_DIRECTION_NAMES:()=>xQ,DEFAULT_TOOLTIP_CLASS:()=>Ns,DEFAULT_TOOLTIP_DARK_CLASS:()=>qq,DIRECTION_SWAP_AXES:()=>iZ,DOMManager:()=>SK,DataController:()=>sq,DataModel:()=>rq,DataModelSeries:()=>wH,DataService:()=>qL,Debug:()=>on,Deprecated:()=>dNe,DeprecatedAndRenamedTo:()=>hNe,DiscreteTimeAxis:()=>BZ,DiscreteTimeScale:()=>Qc,DragInterpreter:()=>jK,DraggablePopover:()=>HQ,DropShadow:()=>Zd,ExtendedPath2D:()=>lw,FILL_GRADIENT_CONIC_DEFAULTS:()=>W1e,FILL_GRADIENT_LINEAR_DEFAULTS:()=>Bw,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>z1e,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>H1e,FILL_GRADIENT_RADIAL_DEFAULTS:()=>wk,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>n1,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>U1e,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>V1e,FILL_IMAGE_DEFAULTS:()=>qy,FILL_PATTERN_DEFAULTS:()=>ff,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>j1e,FONT_SIZE:()=>fz,FONT_SIZE_RATIO:()=>ul,FillGradientDefaults:()=>oc,FillImageDefaults:()=>Ua,FillPatternDefaults:()=>Ki,FloatingToolbar:()=>YNe,FormatManager:()=>fw,Gradient:()=>zL,Group:()=>nn,GroupedCategoryAxis:()=>Xy,HdpiCanvas:()=>xz,HierarchyNode:()=>INe,HierarchySeries:()=>NNe,HierarchySeriesProperties:()=>fu,HighlightManager:()=>VK,HighlightProperties:()=>Tf,HighlightState:()=>Hq,HighlightStyle:()=>UR,Image:()=>tS,InteractionManager:()=>BK,InteractionState:()=>_K,InterpolationProperties:()=>Jw,Invalidating:()=>TR,LABEL_BOXING_DEFAULTS:()=>Ql,LARGEST_KEY_INTERVAL:()=>AZ,LEGEND_CONTAINER_THEME:()=>oZ,Label:()=>yr,LayoutElement:()=>Tz,LayoutManager:()=>XK,LegendMarkerLabel:()=>cc,Line:()=>fl,LineSeries:()=>m1,LineSeriesModule:()=>fQ,LinearGradient:()=>$Y,LinearScale:()=>oy,LogScale:()=>aH,LonLatBBox:()=>LNe,Marker:()=>ss,Menu:()=>WNe,MenuItemWidget:()=>ZH,MenuWidget:()=>BQ,MercatorScale:()=>kNe,ModuleRegistry:()=>ea,Motion:()=>MB,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Kc,NativeWidget:()=>dw,NewAreaSeriesModule:()=>iQ,NewBarSeriesModule:()=>lQ,NewBubbleSeriesModule:()=>dQ,NewHistogramSeriesModule:()=>hQ,NewLineSeriesModule:()=>pQ,NewScatterSeriesModule:()=>gQ,NiceMode:()=>mq,Node:()=>cf,NumberAxis:()=>Kd,ObserveChanges:()=>Pg,OrdinalTimeScale:()=>rb,PHASE_METADATA:()=>PE,PHASE_ORDER:()=>ib,PREV_NEXT_KEYS:()=>kb,Padding:()=>Wy,ParallelStateMachine:()=>yRe,Path:()=>Fo,PointerEvents:()=>HY,PolarAxis:()=>yw,PolarSeries:()=>WH,PolarZIndexMap:()=>wQ,Popover:()=>XH,PropertiesArray:()=>DR,Property:()=>z,ProxyInteractionService:()=>RK,ProxyOnWrite:()=>Xxe,ProxyProperty:()=>bs,ProxyPropertyOnWrite:()=>Dr,QUICK_TRANSITION:()=>RN,QuadtreeNearest:()=>GX,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>VN,RadialColumnShape:()=>uc,Range:()=>$d,Rect:()=>os,RepeatType:()=>PK,Rotatable:()=>Ow,RotatableGroup:()=>Wxe,RotatableText:()=>cK,SAFE_FILLS_OPERATION:()=>Jz,SAFE_FILL_OPERATION:()=>B1e,SAFE_RANGE2_OPERATION:()=>G1e,SAFE_STROKE_FILL_OPERATION:()=>bk,SKIP_JS_BUILTINS:()=>nz,SMALLEST_KEY_INTERVAL:()=>RZ,SORT_DOMAIN_GROUPS:()=>TZ,Scalable:()=>az,ScalableGroup:()=>Uxe,ScaleAlignment:()=>WY,Scene:()=>KL,SceneArrayChangeDetection:()=>rz,SceneChangeDetection:()=>Xe,SceneObjectChangeDetection:()=>Cl,SceneRefChangeDetection:()=>BY,Sector:()=>oo,SectorBox:()=>mQ,Selection:()=>No,Series:()=>uk,SeriesContentZIndexMap:()=>Wq,SeriesGroupingChangedEvent:()=>kN,SeriesItemHighlightStyle:()=>Af,SeriesMarker:()=>Os,SeriesNodeEvent:()=>ck,SeriesNodePickMode:()=>$q,SeriesProperties:()=>ac,SeriesTooltip:()=>Lf,SeriesZIndexMap:()=>Uq,Shape:()=>Ur,SimpleTextMeasurer:()=>hz,SliderWidget:()=>Sz,StateMachine:()=>PR,StateMachineProperty:()=>vRe,StopProperties:()=>sz,SvgPath:()=>_Q,TRIPLE_EQ:()=>_Y,Text:()=>cl,TextUtils:()=>ui,TextWrapper:()=>IR,ThemeConstants:()=>uK,ThemeSymbols:()=>$z,TimeAxisParentLevel:()=>jw,TimeScale:()=>yb,Toolbar:()=>jNe,ToolbarButtonProperties:()=>y1,ToolbarButtonWidget:()=>VQ,ToolbarWidget:()=>YL,Tooltip:()=>lc,TooltipManager:()=>AN,TooltipPosition:()=>Ky,Transformable:()=>mr,TransformableGroup:()=>tb,TransformableText:()=>cw,Translatable:()=>Pw,TranslatableGroup:()=>Io,TranslatableSvgPath:()=>HNe,UnitTimeScale:()=>Kp,UpdateService:()=>QK,Vec2:()=>hb,Vec4:()=>_E,WIDGET_HTML_EVENTS:()=>uz,Widget:()=>jd,WidgetEventUtil:()=>Jh,ZIndexMap:()=>AK,ZoomManager:()=>ZK,accumulateGroup:()=>DZ,accumulateStack:()=>IZ,accumulatedValue:()=>vZ,accumulativeValueProperty:()=>UB,addEscapeEventListener:()=>UL,addHitTestersToQuadtree:()=>FH,addMouseCloseListener:()=>mz,addOverrideFocusVisibleEventListener:()=>yz,addTouchCloseListener:()=>vz,adjustLabelPlacement:()=>_X,aggregationDomain:()=>ZE,aggregationIndexForXRatio:()=>DH,aggregationRangeFittingPoints:()=>AH,aggregationXRatioForDatumIndex:()=>TH,aggregationXRatioForXValue:()=>pf,angleBetween:()=>BL,angleCategoryAxisOptionsDefs:()=>zZ,angleNumberAxisOptionsDefs:()=>GZ,angularPadding:()=>bB,animationValidation:()=>c1,annotationCalloutStylesDefs:()=>iX,annotationChannelStyleDefs:()=>hH,annotationChannelTextDefs:()=>JZ,annotationCommentStylesDefs:()=>rX,annotationCrossLineStyleDefs:()=>jB,annotationDisjointChannelStyleDefs:()=>tX,annotationFibonacciStylesDefs:()=>$B,annotationLineStyleDefs:()=>GN,annotationLineTextDefs:()=>Ok,annotationMeasurerStylesDefs:()=>CI,annotationNoteStylesDefs:()=>sX,annotationOptionsDef:()=>Yw,annotationParallelChannelStyleDefs:()=>nX,annotationQuickMeasurerStylesDefs:()=>oX,annotationShapeStylesDefs:()=>YB,annotationTextStylesDef:()=>d1,applyShapeFillBBox:()=>jq,applyShapeStyle:()=>ef,areScalingEqual:()=>ay,area:()=>VB,autoSizedLabelOptionsDefs:()=>Mg,bezier2DDistance:()=>XY,bezier2DExtrema:()=>ZY,boxPlotHighlightStyleOptionsDef:()=>KB,boxPlotSeriesThemeableOptionsDef:()=>aX,boxPlotStyleOptionsDef:()=>fH,buildDateFormatter:()=>xy,buildResetPathFn:()=>OH,calculateDataDiff:()=>oQ,calculateLabelTranslation:()=>FNe,calculatePlacement:()=>Yq,callWithContext:()=>nu,candlestickSeriesThemeableOptionsDef:()=>lX,cartesianAxisBandHighlightOptions:()=>l1,cartesianAxisCrosshairOptions:()=>Gg,cartesianAxisLabelOptionsDefs:()=>o1,cartesianAxisOptionsDefs:()=>Nf,cartesianChartOptionsDefs:()=>DQ,cartesianCrossLineOptionsDefs:()=>Fh,cartesianNumericAxisLabel:()=>nH,cartesianTimeAxisLabel:()=>a1,cartesianTimeAxisParentLevel:()=>Tk,checkCrisp:()=>sQ,chordSeriesThemeableOptionsDef:()=>cX,clampArray:()=>FE,clippedRoundRect:()=>fI,collapsedStartingBarPosition:()=>YN,commonAxisIntervalOptionsDefs:()=>iH,commonAxisLabelOptionsDefs:()=>If,commonAxisOptionsDefs:()=>Zy,commonChartOptionsDefs:()=>Yt,commonCrossLineLabelOptionsDefs:()=>Ey,commonCrossLineOptionsDefs:()=>md,commonSeriesOptionsDefs:()=>hu,commonSeriesThemeableOptionsDefs:()=>Dn,compactAggregationIndices:()=>NH,compareDates:()=>Hz,computeBarFocusBounds:()=>GH,computeMarkerFocusBounds:()=>_k,coneFunnelSeriesThemeableOptionsDef:()=>uX,continuousAxisOptions:()=>zw,countExpandingSearch:()=>WK,createAggregationIndices:()=>IH,createButton:()=>_Ne,createCheckbox:()=>BNe,createDatumId:()=>tf,createDeprecationWarning:()=>YH,createIcon:()=>FQ,createIdsGenerator:()=>Wz,createSelect:()=>GNe,createTextArea:()=>zNe,dateToNumber:()=>dl,dateTruncationForDomain:()=>zz,datesSortOrder:()=>Vz,datumKeys:()=>TN,datumStylerProperties:()=>hg,deconstructSelectionsOrNodes:()=>ZL,deepClone:()=>tr,deepFreeze:()=>Uh,diff:()=>u1,discreteTimeAxisIntervalOptionsDefs:()=>rH,drawCorner:()=>kM,drawMarkerUnitPolygon:()=>PM,durationDay:()=>My,durationHour:()=>sy,durationMinute:()=>ig,durationMonth:()=>Oz,durationSecond:()=>Ob,durationWeek:()=>uq,durationYear:()=>BE,easing:()=>MB,enterpriseModule:()=>ka,errorBarOptionsDefs:()=>xk,errorBarThemeableOptionsDefs:()=>i1,estimateTickCount:()=>Iq,evaluateBezier:()=>aw,expandLegendPosition:()=>bI,extent:()=>zg,extractDecoratedProperties:()=>kY,fillsOptionsDef:()=>jE,findMinMax:()=>ms,findQuadtreeMatch:()=>$N,findRangeExtent:()=>pw,fixNumericExtent:()=>hl,focusCursorAtEnd:()=>$xe,formatNumber:()=>EK,formatObjectValidator:()=>uZ,formatPercent:()=>MK,formatValue:()=>hw,fromToMotion:()=>ns,funnelSeriesThemeableOptionsDef:()=>dX,getAngleRatioRadians:()=>VY,getColorStops:()=>qY,getCrossLineValue:()=>pq,getDateTicksForInterval:()=>Uz,getDatumRefPoint:()=>Ez,getElementBBox:()=>nK,getIconClassNames:()=>HL,getLabelStyles:()=>vd,getLastFocus:()=>$L,getMissCount:()=>nq,getPath:()=>tz,getPathComponents:()=>iq,getRadialColumnWidth:()=>LQ,getSequentialColors:()=>bl,getShapeFill:()=>Pb,getShapeStyle:()=>Ad,groupAccumulativeValueProperty:()=>pg,groupAverage:()=>mZ,groupCount:()=>HB,groupStackValueProperty:()=>EZ,groupSum:()=>gZ,hasNoModifiers:()=>NR,heatmapSeriesThemeableOptionsDef:()=>hX,initMenuKeyNav:()=>yK,initRovingTabIndex:()=>vK,interpolatePoints:()=>UN,interpolationOptionsDefs:()=>Mk,intervalCeil:()=>dq,intervalEpoch:()=>GE,intervalExtent:()=>Pz,intervalFloor:()=>Wl,intervalHierarchy:()=>zE,intervalMilliseconds:()=>na,intervalNext:()=>fq,intervalPrevious:()=>hq,intervalRange:()=>ic,intervalRangeCount:()=>Fz,intervalRangeStartIndex:()=>QL,intervalStep:()=>xg,intervalUnit:()=>Rd,isAgStandaloneChartOptions:()=>zq,isAgTopologyChartOptions:()=>Gq,isBetweenAngles:()=>Pv,isButtonClickEvent:()=>jL,isChartAxisDirection:()=>bMe,isContinuous:()=>JL,isDecoratedObject:()=>_L,isDenseInterval:()=>vw,isGradientFill:()=>tu,isGradientOrPatternFill:()=>zxe,isImageFill:()=>Sy,isInputPending:()=>iK,isObjectWithProperty:()=>FY,isObjectWithStringProperty:()=>gxe,isPatternFill:()=>Sg,isProperties:()=>iy,isScaleValid:()=>KE,jsonApply:()=>tE,jsonDiff:()=>hf,jsonPropertyCompare:()=>rK,jsonWalk:()=>dg,keyProperty:()=>fg,legendSymbolSvg:()=>Kq,lineDistanceSquared:()=>xN,linearGaugeSeriesOptionsDef:()=>Eg,linearGaugeSeriesThemeableOptionsDef:()=>FN,linearGaugeTargetOptionsDef:()=>Ek,listDecoratedProperties:()=>ug,lowestGranularityForInterval:()=>zR,lowestGranularityUnitForTicks:()=>Gz,lowestGranularityUnitForValue:()=>nk,makeAccessibleClickListener:()=>TMe,makeSeriesTooltip:()=>s0,mapLineBackgroundSeriesThemeableOptionsDef:()=>gX,mapLineSeriesThemeableOptionsDef:()=>pX,mapMarkerSeriesThemeableOptionsDef:()=>mX,mapShapeBackgroundSeriesThemeableOptionsDef:()=>yX,mapShapeSeriesThemeableOptionsDef:()=>vX,mapValues:()=>PY,markerFadeInAnimation:()=>XE,markerOptionsDefs:()=>Df,markerScaleInAnimation:()=>nQ,markerSwipeScaleInAnimation:()=>LH,memo:()=>kE,merge:()=>IE,mergeArrayDefaults:()=>OY,mergeDefaults:()=>Gn,midpointStartingBarPosition:()=>UDe,minimumTimeAxisDatumGranularity:()=>FZ,moduleRegistry:()=>Ed,motion:()=>qNe,multiSeriesHighlightStyle:()=>Bg,nearestSquared:()=>FL,nearestSquaredInContainer:()=>dxe,nextPowerOf2:()=>bEe,nightingaleSeriesThemeableOptionsDef:()=>CX,normaliseGroupTo:()=>Ik,normalisePropertyTo:()=>yI,normalisedExtentWithMetadata:()=>sH,normalizeAngle180:()=>SN,normalizeAngle360:()=>Br,normalizeAngle360FromDegrees:()=>uf,normalizeAngle360Inclusive:()=>Sxe,normalizeContinuousDomains:()=>Rz,numberFormatValidator:()=>du,objectsEqual:()=>aa,objectsEqualWith:()=>ez,ohlcSeriesThemeableOptionsDef:()=>fX,ordinalTimeAxisOptionsDefs:()=>db,pairUpSpans:()=>aE,partialAssign:()=>yB,pathFadeInAnimation:()=>WN,pathMotion:()=>HN,pathSwipeInAnimation:()=>kH,pick:()=>vB,pickByMatchingAngle:()=>bQ,plotAreaPathFill:()=>QX,plotInterpolatedAreaSeriesFillSpans:()=>xI,plotInterpolatedLinePathStroke:()=>SI,plotLinePathStroke:()=>MH,pointsEq:()=>qE,polarChartOptionsDefs:()=>IQ,prepareAreaFillAnimationFns:()=>JX,prepareAreaPathAnimation:()=>eQ,prepareAxisAnimationContext:()=>vq,prepareAxisAnimationFunctions:()=>yq,prepareBarAnimationFunctions:()=>KN,prepareLinePathAnimation:()=>XX,prepareLinePathPropertyAnimation:()=>RH,prepareLinePathStrokeAnimationFns:()=>EH,preparePieSeriesAnimationFunctions:()=>MI,previousPowerOf2:()=>RB,processedDataIsAnimatable:()=>Uw,pyramidSeriesThemeableOptionsDef:()=>bX,radarAreaSeriesThemeableOptionsDef:()=>wX,radarLineSeriesThemeableOptionsDef:()=>SX,radialBarSeriesThemeableOptionsDef:()=>xX,radialColumnSeriesThemeableOptionsDef:()=>MX,radialGaugeSeriesOptionsDef:()=>r1,radialGaugeSeriesThemeableOptionsDef:()=>_N,radialGaugeTargetOptionsDef:()=>Rk,radiusCategoryAxisOptionsDefs:()=>VZ,radiusNumberAxisOptionsDefs:()=>HZ,range:()=>rk,rangeAreaSeriesThemeableOptionsDef:()=>EX,rangeBarSeriesThemeableOptionsDef:()=>RX,rangeValidator:()=>Sk,rangedValueProperty:()=>MZ,resetAxisFillSelectionFn:()=>bq,resetAxisGroupFn:()=>Cq,resetAxisLabelSelectionFn:()=>LN,resetAxisLineSelectionFn:()=>OB,resetBarSelectionsFn:()=>JE,resetLabelFn:()=>r0,resetMarkerFn:()=>Fk,resetMarkerPositionFn:()=>QE,resetMotion:()=>Js,resetPieSelectionsFn:()=>CQ,rowCountProperty:()=>SZ,sankeySeriesThemeableOptionsDef:()=>AX,scale:()=>Ao,sectorBox:()=>vQ,seriesLabelFadeInAnimation:()=>Mr,seriesLabelFadeOutAnimation:()=>wI,seriesLabelOptionsDefs:()=>pi,setElementBBox:()=>EN,setPath:()=>iz,shadowOptionsDefs:()=>Yd,shallowClone:()=>cz,simpleMemorize:()=>Xs,simpleMemorize2:()=>kR,singleSeriesHighlightStyle:()=>sZ,solveBezier:()=>MN,sortAndUniqueDates:()=>PB,splitBezier2D:()=>NE,standaloneChartOptionsDefs:()=>jIe,staticFromToMotion:()=>Ef,stopPageScrolling:()=>CK,sum:()=>oAe,sumValues:()=>Dk,sunburstSeriesThemeableOptionsDef:()=>TX,textOrSegments:()=>tH,tickFormat:()=>Tq,timeInterval:()=>Ak,timeIntervalUnit:()=>s1,toDegrees:()=>xxe,toRadians:()=>to,toolbarButtonOptionsDefs:()=>_v,tooltipContentAriaLabel:()=>Xq,tooltipHtml:()=>Jq,tooltipOptionsDefs:()=>Hn,topologyChartOptionsDefs:()=>WIe,trailingAccumulatedValue:()=>yZ,trailingAccumulatedValueProperty:()=>dAe,treemapSeriesThemeableOptionsDef:()=>DX,updateClipPath:()=>jN,updateLabelNode:()=>FX,validateCrossLineValue:()=>gq,valueProperty:()=>Di,visibleRangeIndices:()=>UK,waterfallSeriesThemeableOptionsDef:()=>IX,without:()=>lt});function YH(){return(e,t)=>{const n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Je.warnOnce(n)}}function dNe(e,t){const n=YH(),i=t==null?void 0:t.default;return wy((r,s,o)=>(o!==i&&n(s.toString(),e),o))}function hNe(e,t){const n=YH();return wy((i,r,s)=>(s!==i[e]&&(n(r.toString(),`Use [${e}] instead.`),iz(i,e,t?t(s):s)),mB),(i,r)=>(n(r.toString(),`Use [${e}] instead.`),tz(i,e)))}var hb={add:fNe,angle:CNe,apply:TNe,equal:RNe,distance:mNe,distanceSquared:vNe,from:ANe,gradient:wNe,intercept:SNe,intersectAtX:MNe,intersectAtY:xNe,length:qH,lengthSquared:gNe,multiply:pNe,normalized:yNe,origin:kQ,required:DNe,rotate:bNe,round:ENe,sub:KH};function fNe(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function KH(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function pNe(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function qH(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function gNe(e){return e.x*e.x+e.y*e.y}function mNe(e,t){const n=KH(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function vNe(e,t){const n=KH(e,t);return n.x*n.x+n.y*n.y}function yNe(e){const t=qH(e);return{x:e.x/t,y:e.y/t}}function CNe(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function bNe(e,t,n=kQ()){const i=qH(e);return{x:n.x+i*Math.cos(t),y:n.y+i*Math.sin(t)}}function wNe(e,t,n){const i=t.x-e.x;return(n==null?t.y-e.y:n-t.y-(n-e.y))/i}function SNe(e,t,n){return(n==null?e.y:n-e.y)-t*e.x}function xNe(e,t,n=0,i){return{x:e===1/0?1/0:(n-t)/e,y:i==null?n:i-n}}function MNe(e,t,n=0,i){const r=e===1/0?1/0:e*n+t;return{x:n,y:i==null?r:i-r}}function ENe(e,t=2){return{x:i5(e.x,t),y:i5(e.y,t)}}function RNe(e,t){return e.x===t.x&&e.y===t.y}function ANe(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function TNe(e,t){return e.x=t.x,e.y=t.y,e}function DNe(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function kQ(){return{x:0,y:0}}var OQ=class EI{constructor(t,n,i,r,s,o,a,l,c){this.series=t,this.datumIndex=n,this.datum=i,this.sizeValue=r,this.colorValue=s,this.sumSize=o,this.depth=a,this.parent=l,this.children=c,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,n=EI.Walk.PreOrder){n===EI.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,n)}),n===EI.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};OQ.Walk={PreOrder:0,PostOrder:1};var INe=OQ,NNe=class extends uk{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new kw,this.animationState=new PR("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:n,colorKey:i,colorRange:r}=this.properties;let s=0,o=1/0,a=-1/0;const l=(h,p,m)=>{const v=m.depth!=null?m.depth+1:0,y=t!=null?h[t]:void 0,C=y==null||y.length===0;let S=n!=null?h[n]:void 0;Number.isFinite(S)?S=Math.max(S,0):S=C?1:0;const x=S;s=Math.max(s,v);const R=i!=null?h[i]:void 0;return typeof R=="number"&&(o=Math.min(o,R),a=Math.max(a,R)),c(new e(this,p,h,S,R,x,v,m,[]),y)},c=(h,p)=>{const{datumIndex:m}=h;return p==null||p.forEach((v,y)=>{const C=l(v,m.concat(y),h);h.children.push(C),h.sumSize+=C.sumSize}),h},u=c(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),d=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=r??["black"],this.colorScale.update(),this.rootNode=u,this.maxDepth=s,this.colorDomain=d}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorRange:n}=this.properties,{id:i,ctx:{legendManager:r},visible:s}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:s&&r.getItemEnabled({seriesId:i}),seriesId:i,series:this.getFormatterContext("color"),colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:n}of this.datumSelection)if(Qh(n.datumIndex,e))return t-1;return 0}pickFocus(e){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const t=Gt(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:n,otherIndexDelta:i}=e;let r=this.removeMeIndexPathForIndex(t);const s=r.reduce((c,u)=>c.children[u],this.rootNode);if(i>0&&s.hasChildren)r=[...r,0];else if(i<0&&r.length>1)r=r.slice(0,-1);else if(i===0&&n!==0){const c=s.parent.children.length-1;r=r.slice(),r[r.length-1]=Gt(0,r[r.length-1]+n,c)}const o=r.reduce((c,u)=>c.children[u],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(r),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){Je.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},fu=class extends ac{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(_r),this.fillGradientDefaults=new oc,this.fillPatternDefaults=new Ki,this.fillImageDefaults=new Ua,this.strokes=Object.values(Ph)}};P([z],fu.prototype,"childrenKey",2);P([z],fu.prototype,"sizeKey",2);P([z],fu.prototype,"colorKey",2);P([z],fu.prototype,"colorName",2);P([z],fu.prototype,"fills",2);P([z],fu.prototype,"fillGradientDefaults",2);P([z],fu.prototype,"fillPatternDefaults",2);P([z],fu.prototype,"fillImageDefaults",2);P([z],fu.prototype,"strokes",2);P([z],fu.prototype,"colorRange",2);var LNe=class PQ{constructor(t,n,i,r){this.lon0=t,this.lat0=n,this.lon1=i,this.lat1=r}extend(t,n,i,r){return this.lon0=Math.min(this.lon0,t),this.lat0=Math.min(this.lat0,n),this.lon1=Math.max(this.lon1,i),this.lat1=Math.max(this.lat1,r),this}merge(t){return this.extend(t.lon0,t.lat0,t.lon1,t.lat1)}static extend(t,n,i,r,s){return t?t.extend(n,i,r,s):new PQ(n,i,r,s)}},jk=Math.PI/180,m2=e=>e*jk,v2=e=>-Math.log(Math.tan(Math.PI*.25+e*jk*.5)),y2=e=>e/jk,C2=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(jk*.5),kNe=class rG extends GL{constructor(t,n){super(),this.domain=t,this.range=n,this.type="mercator",this.defaultTickCount=0,this.bounds=rG.bounds(t)}static bounds(t){const[[n,i],[r,s]]=t,o=m2(n),a=v2(i),l=m2(r),c=v2(s);return new ut(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new rG([[y2(0),C2(0)],[y2(1),C2(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let n=-1/0,i=1/0,r=-1/0,s=1/0;for(const o of t)for(const[a,l]of o)n=Math.min(a,n),i=Math.max(a,i),r=Math.min(l,r),s=Math.max(l,s);return{domain:[[n,r],[i,s]],animatable:!0}}convert([t,n]){const[[i,r],[s,o]]=this.range,a=(s-i)/this.bounds.width,l=(o-r)/this.bounds.height;return[(m2(t)-this.bounds.x)*a+i,(v2(n)-this.bounds.y)*l+r]}invert([t,n]){const[[i,r],[s,o]]=this.range,a=(s-i)/this.bounds.width,l=(o-r)/this.bounds.height;return[y2((t-i)/a+this.bounds.x),C2((n-r)/l+this.bounds.y)]}},ONe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},PNe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function FNe({yDirection:e,padding:t=0,position:n="top",bbox:i}){const r=e?ONe:PNe,{xTranslationDirection:s,yTranslationDirection:o}=r[n],a=s*(t+i.width/2),l=o*(t+i.height/2);return{xTranslation:a,yTranslation:l}}function _Ne(e,t){const n=an("button",$k("ag-charts-input ag-charts-button",t));return e.label!==void 0?n.append(e.label):(n.append(FQ(e.icon)),n.ariaLabel=e.altText),n.addEventListener("click",e.onPress),ow(n,t),n}function BNe(e,t){const n=an("input",$k("ag-charts-input ag-charts-checkbox",t));return n.type="checkbox",n.checked=e.checked,n.addEventListener("change",i=>e.onChange(n.checked,i)),n.addEventListener("keydown",i=>{jL(i)&&(i.preventDefault(),n.click())}),ow(n,t),n}function GNe(e,t){const n=an("select",$k("ag-charts-input ag-charts-select",t));return n.append(...e.options.map(i=>{const r=an("option");return r.value=i.value,r.textContent=i.label,r})),An(n,"data-preventdefault",!1),n.value=e.value,n.addEventListener("change",i=>e.onChange(n.value,i)),ow(n,t),n}function zNe(e,t){const n=an("textarea",$k("ag-charts-input ag-charts-textarea",t));return n.value=e.value,n.addEventListener("input",i=>e.onChange(n.value,i)),ow(n,t),An(n,"data-preventdefault",!1),n}function FQ(e){const t=an("span",`ag-charts-icon ag-charts-icon-${e}`);return An(t,"aria-hidden",!0),t}function $k(e,t){return t==null?e:`${e} ${t.class}`}var _Q=class extends Fo{constructor(e=""){super(),this._d="",this.d=e}get d(){return this._d}set d(e){e!==this._d&&(this._d=e,this.path.clear(),this.path.appendSvg(e),this.checkPathDirty())}},HNe=class extends Pw(_Q){isPointInPath(e,t){return super.isPointInPath(e-this.translationX,t-this.translationY)}},tS=class extends cf{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,n=this.sourceImage;n&&(t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};P([Xe()],tS.prototype,"x",2);P([Xe()],tS.prototype,"y",2);P([Xe()],tS.prototype,"width",2);P([Xe()],tS.prototype,"height",2);P([Xe()],tS.prototype,"opacity",2);var VNe={};Wd(VNe,{ButtonWidget:()=>LR,MenuItemWidget:()=>ZH,MenuWidget:()=>BQ,NativeWidget:()=>dw,SliderWidget:()=>Sz,ToolbarWidget:()=>YL,WIDGET_HTML_EVENTS:()=>uz,Widget:()=>jd,WidgetEventUtil:()=>Jh});var ZH=class extends xK{constructor(){super(an("div"),"menuitem")}},UNe=["Escape","ArrowLeft"],BQ=class GQ extends bz{constructor(t="vertical"){super(t,"menu"),this.closeSubMenu=n=>this.openSubMenu(n,void 0)}destructor(){this.selfClose("2")}addSeparator(){const t=Od().createElement("div");return An(t,"role","separator"),this.elem.appendChild(t),t}onChildAdded(t){super.onChildAdded(t),t.hasPopup()||t.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(t){super.onChildRemoved(t),t.hasPopup()||t.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){const t=new ZH,n=bN(),i=new GQ(this.orientation),r=o=>{t.isDisabled()||this.openSubMenu(o,i)},s=o=>{NR(o.sourceEvent)&&o.sourceEvent.code==="ArrowRight"&&r(o)};return t.setAriaHasPopup("menu"),t.setAriaExpanded(!1),t.setAriaControls(n),t.addListener("click",r),t.addListener("mouseenter",r),t.addListener("keydown",s),i.addListener("close-widget",()=>t.setAriaExpanded(!1)),i.addListener("open-widget",()=>t.setAriaExpanded(!0)),i.id=n,this.addChild(t),{subMenuButton:t,subMenu:i}}openSubMenu(t,n){var r;const{openScope:i}=this;i&&((r=i.openSubMenu)==null||r.selfClose("4"),n==null||n.open(t),i.openSubMenu=n)}open(t,n){var s,o;if(this.openScope!=null)return;this.openScope={lastFocus:$L(t.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new sr};const i=this.openScope,r=this.children.map(a=>a.getElement());An(i.lastFocus,"aria-expanded",!0),i.removers.register(mz(this.elem,i.abort),vz(this.elem,i.abort),...this.children.map(a=>UL(a.getElement(),i.close,UNe)),(n==null?void 0:n.overrideFocusVisible)&&yz(this.elem,r,n.overrideFocusVisible)),(s=this.internalListener)==null||s.dispatch("open-widget",this,{type:"open-widget"}),(o=this.children[0])==null||o.focus({preventScroll:!0})}selfClose(t){var s;if(this.openScope===void 0)return;const{lastFocus:n,removers:i,openSubMenu:r}=this.openScope;this.openScope=void 0,r==null||r.selfClose("3"),An(n,"aria-expanded",!1),t==="0"&&(n==null||n.focus({preventScroll:!0})),i.flush(),(s=this.internalListener)==null||s.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},XW="canvas-overlay",XH=class extends OL{constructor(t,n,i){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${n}`,i!=null&&i.detached?this.element=an("div"):this.element=t.domManager.addChild(XW,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>t.domManager.removeChild(XW,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){const{lastFocus:n=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),n==null||n.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,n){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=an("div","ag-charts-popover");if(n.ariaLabel!=null&&i.setAttribute("aria-label",n.ariaLabel),n.class!=null&&i.classList.add(n.class),i.replaceChildren(...t),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),n.onHide&&this.hideFns.push(n.onHide),n.initialFocus&&n.sourceEvent){const r=$L(n.sourceEvent);r!==void 0&&(this.lastFocus=r,this.initialFocus=n.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){var i;const n=this.getPopoverElement();n&&(n.style.setProperty("right","unset"),n.style.setProperty("bottom","unset"),t.x!=null&&n.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&n.style.setProperty("top",`${Math.floor(t.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},zQ=class extends XH{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const n=t.anchor??this.anchor,i=t.fallbackAnchor??this.fallbackAnchor,r=super.showWithChildren(e,t);return n&&this.setAnchor(n,i),si().requestAnimationFrame(()=>{this.repositionWithinBounds()}),r}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:n}=this,i=this.getPopoverElement();if(!e||!i)return;const r=t.domManager.getBoundingClientRect(),{offsetWidth:s,offsetHeight:o}=i;let a=Gt(0,e.x,r.width-s),l=Gt(0,e.y,r.height-o);a!==e.x&&(n==null?void 0:n.x)!=null&&(a=Gt(0,n.x-s,r.width-s)),l!==e.y&&(n==null?void 0:n.y)!=null&&(l=Gt(0,n.y-o,r.height-o)),this.updatePosition({x:a,y:l})}},WNe=class extends zQ{show(e){const t=e.items.map(i=>this.createRow(e,i)),n=this.showWithChildren(t,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=yK({orientation:"vertical",menu:n,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var i;(i=this.menuCloser)==null||i.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:n="menuitem"}=e,i=t.value===e.value,r=an("div","ag-charts-menu__row");if(r.setAttribute("role",n),n==="menuitemradio"&&r.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(r.dataset.popoverId=t.value),r.classList.toggle("ag-charts-menu__row--active",i),t.icon!=null){const l=an("span",`ag-charts-menu__icon ${HL(t.icon)}`);r.appendChild(l)}const s=t.strokeWidth!=null;if(s&&(r.classList.toggle("ag-charts-menu__row--stroke-width-visible",s),r.style.setProperty("--strokeWidth",s?`${t.strokeWidth}px`:null)),t.label!=null){const l=an("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),r.appendChild(l)}"altText"in t&&(r.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var l;(l=e.onPress)==null||l.call(e,t)},a=l=>{jL(l)&&(o(),l.preventDefault(),l.stopPropagation())};return r.addEventListener("keydown",a),r.addEventListener("click",a),r.addEventListener("mousemove",()=>{r.focus({preventScroll:!0})}),r}},HQ=class extends XH{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:hb.from(e.clientX,e.clientY),position:hb.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,n=this.getPopoverElement();if(!t||!n)return;const i=hb.sub(hb.from(e.clientX,e.clientY),t.client),r=hb.add(t.position,i),s=this.ctx.domManager.getBoundingClientRect(),o={};r.x>=0&&r.x+n.offsetWidth<=s.width&&(o.x=r.x),r.y>=0&&r.y+n.offsetHeight<=s.height&&(o.y=r.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},y1=class extends Wt{};P([z],y1.prototype,"icon",2);P([z],y1.prototype,"label",2);P([z],y1.prototype,"ariaLabel",2);P([z],y1.prototype,"tooltip",2);var VQ=class extends LR{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${HL(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const i=t.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${i}</span>`}this.elem.innerHTML=n}setChecked(e){An(this.elem,"aria-checked",e)}},QW="ag-charts-toolbar__button--active",QH=class extends YL{constructor({eventsHub:e,localeManager:t},n,i){super(i),this.ariaLabelId=n,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new TK,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=e,this.localeManager=t,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",i==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",i==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(e){this.ariaLabelId=e,this.updateAriaLabel()}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[n,i]of e.entries())(this.buttonWidgets.at(n)??this.createButton(n,i)).update(i);for(let n=e.length;n<t.length;n++){const i=this.buttonWidgets.at(n);i==null||i.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var n;(n=this.buttonWidgets.at(e))==null||n.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(QW,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,n]of this.buttonWidgets.entries())n.toggleClass(QW,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var n;e!==-1&&((n=this.buttonWidgets.at(e))==null||n.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var n;e!==-1&&((n=this.buttonWidgets.at(e))==null||n.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var n;(n=this.buttonWidgets.at(e))==null||n.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),n=e.getBounds();return new ut(n.x+t.x,n.y+t.y,n.width,n.height)}refreshButtonClasses(){var s;const{buttonWidgets:e,hasPrefix:t}=this;let n,i,r;for(const[o,a]of e.entries())n=!t&&o===0||r!=a.section,i=o===e.length-1||a.section!=((s=e.at(o+1))==null?void 0:s.section),a.toggleClass("ag-charts-toolbar__button--first",n),a.toggleClass("ag-charts-toolbar__button--last",i),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&n),r=a.section}createButton(e,t){const n=this.createButtonWidget();return n.addClass("ag-charts-toolbar__button"),n.addListener("click",i=>{const r={index:e,...t instanceof Wt?t.toJson():t},s=this.getButtonWidgetBounds(n);this.events.dispatch("button-pressed",{event:i,button:r,buttonBounds:s})}),n.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(n.section=t.section),this.buttonWidgets.push(n),this.addChild(n),n}},jNe=class extends QH{createButtonWidget(){return new VQ(this.localeManager)}},$Ne=class extends HQ{constructor(e,t,n){super(e,t),this.onPopoverMoved=n,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new ut((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,n){const i=this.getPopoverElement();if(!i)return;const r=e.position??"above",{offsetWidth:s,offsetHeight:o}=i;let a=e.y-o-n,l=e.x-s/2;r==="below"?a=e.y+n:r==="right"?(a=e.y-o/2,l=e.x+t):r==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),n=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(Gt(0,e.x,n.width-t.width)),e.y=Math.floor(Gt(0,e.y,n.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},YNe=class extends QH{constructor(e,t,n){super(e,t,"horizontal"),this.hasPrefix=!0,this.popover=new $Ne(e,n,this.onPopoverMoved.bind(this)),this.dragHandle=new KNe(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var n;const e=this.popover.getBounds();if((n=this.popoverBounds)!=null&&n.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),i=this.dragHandle.getBounds();return new ut(n.x+t.x-i.width,n.y+t.y,n.width,n.height)}},KNe=class extends dw{constructor(e){super(an("div","ag-charts-floating-toolbar__drag-handle"));const t=new dw(an("span",`${HL("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},qNe={...aq,...lq};og.create.bind(og),og.__createSparkline.bind(og);function JW(e,t){return{...e,container:t.current}}function ZNe(e,t){const n=I.forwardRef(function(r,s){const{options:o,style:a,className:l}=r,c=I.useRef(null),u=I.useRef();I.useLayoutEffect(()=>{const h=e(JW(o,c));return u.current=h,()=>{h.destroy()}},[]);const d=u.current===void 0;return I.useEffect(()=>{var h;d||(h=u.current)==null||h.update(JW(o,c)).catch(p=>console.error(p))},[o]),I.useImperativeHandle(s,()=>u.current,[]),I.useMemo(()=>I.createElement("div",{ref:c,style:a,className:l}),[a,l])});return n.displayName=t,n}var XNe=ZNe(e=>og.create(e),"AgCharts");/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QNe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JNe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),e6=e=>{const t=JNe(e);return t.charAt(0).toUpperCase()+t.slice(1)},UQ=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),eLe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tLe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nLe=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>I.createElement("svg",{ref:l,...tLe,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:UQ("lucide",r),...!s&&!eLe(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>I.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=(e,t)=>{const n=I.forwardRef(({className:i,...r},s)=>I.createElement(nLe,{ref:s,iconNode:t,className:UQ(`lucide-${QNe(e6(e))}`,`lucide-${e}`,i),...r}));return n.displayName=e6(e),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iLe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],t6=da("calendar-days",iLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rLe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WQ=da("calendar",rLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sLe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]],oLe=da("chart-column-big",sLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aLe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jQ=da("check",aLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lLe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JH=da("chevron-down",lLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cLe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uLe=da("chevron-left",cLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dLe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hLe=da("chevron-right",dLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fLe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pLe=da("chevron-up",fLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gLe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$Q=da("info",gLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mLe=[["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M3 18h1",key:"1eiwyy"}],["path",{d:"M3 6h1",key:"rgxa97"}],["path",{d:"M8 12h1",key:"1con00"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M8 6h1",key:"tn6mkg"}]],vLe=da("logs",mLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yLe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YQ=da("pen",yLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CLe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bLe=da("search",CLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wLe=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],SLe=da("table-properties",wLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xLe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],KQ=da("trash-2",xLe);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MLe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ELe=da("x",MLe);function n6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qQ(...e){return t=>{let n=!1;const i=e.map(r=>{const s=n6(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():n6(e[r],null)}}}}function Si(...e){return I.useCallback(qQ(...e),e)}function Ry(e){const t=ALe(e),n=I.forwardRef((i,r)=>{const{children:s,...o}=i,a=I.Children.toArray(s),l=a.find(TLe);if(l){const c=l.props.children,u=a.map(d=>d===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:d);return B.jsx(t,{...o,ref:r,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return B.jsx(t,{...o,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}var RLe=Ry("Slot");function ALe(e){const t=I.forwardRef((n,i)=>{const{children:r,...s}=n;if(I.isValidElement(r)){const o=ILe(r),a=DLe(s,r.props);return r.type!==I.Fragment&&(a.ref=i?qQ(i,o):o),I.cloneElement(r,a)}return I.Children.count(r)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZQ=Symbol("radix.slottable");function XQ(e){const t=({children:n})=>B.jsx(B.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ZQ,t}function TLe(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZQ}function DLe(e,t){const n={...t};for(const i in t){const r=e[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function ILe(e){var i,r;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const i6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r6=K7,NLe=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return r6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=i6(u)||i6(d);return r[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(m=>{let[v,y]=m;return Array.isArray(y)?y.includes({...s,...a}[v]):{...s,...a}[v]===y})?[...c,d,h]:c},[]);return r6(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},eR=NLe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-white shadow-xs hover:bg-primary/90",outline:"border border-outline-border bg-outline-background shadow-xs",ghost:"hover:bg-accent"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function no({className:e,variant:t,size:n,asChild:i=!1,...r}){const s=i?RLe:"button";return B.jsx(s,{"data-slot":"button",className:Nt(eR({variant:t,size:n,className:e})),...r})}const b2={},GM={};function lE(e,t){try{const i=(b2[e]||(b2[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return i in GM?GM[i]:s6(i,i.split(":"))}catch{if(e in GM)return GM[e];const n=e==null?void 0:e.match(LLe);return n?s6(e,n.slice(1)):NaN}}const LLe=/([+-]\d\d):?(\d\d)?/;function s6(e,t){const n=+t[0],i=+(t[1]||0);return GM[e]=n>0?n*60+i:n*60-i}class Cd extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(lE(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),QQ(this),sG(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Cd(...n,t):new Cd(Date.now(),t)}withTimeZone(t){return new Cd(+this,t)}getTimezoneOffset(){return-lE(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),sG(this),+this}[Symbol.for("constructDateFrom")](t){return new Cd(+new Date(t),this.timeZone)}}const o6=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!o6.test(e))return;const t=e.replace(o6,"$1UTC");Cd.prototype[t]&&(e.startsWith("get")?Cd.prototype[e]=function(){return this.internal[t]()}:(Cd.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),kLe(this),+this},Cd.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),sG(this),+this}))});function sG(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function kLe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),QQ(e)}function QQ(e){const t=lE(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),r=-new Date(+n).getTimezoneOffset(),s=i-r,o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();s&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+s);const a=i-t;a&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+a);const l=lE(e.timeZone,e),u=-new Date(+e).getTimezoneOffset()-l,d=l!==t,h=u-a;if(d&&h){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const p=lE(e.timeZone,e),m=l-p;m&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+m),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m))}}class Eo extends Cd{static tz(t,...n){return n.length?new Eo(...n,t):new Eo(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),r=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,r]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,r]=this.tzComponents();return`${t} GMT${n}${i}${r} (${OLe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,i,r]}withTimeZone(t){return new Eo(+this,t)}[Symbol.for("constructDateFrom")](t){return new Eo(+new Date(t),this.timeZone)}}function OLe(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}var Ot;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ot||(Ot={}));var ur;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ur||(ur={}));var qc;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(qc||(qc={}));var rl;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(rl||(rl={}));const JQ=6048e5,PLe=864e5,a6=Symbol.for("constructDateFrom");function ys(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&a6 in e?e[a6](t):e instanceof Date?new e.constructor(t):new Date(t)}function xi(e,t){return ys(t||e,e)}function eV(e,t,n){const i=xi(e,n==null?void 0:n.in);return isNaN(t)?ys(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function eJ(e,t,n){const i=xi(e,n==null?void 0:n.in);if(isNaN(t))return ys(e,NaN);if(!t)return i;const r=i.getDate(),s=ys(e,i.getTime());s.setMonth(i.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(i.setFullYear(s.getFullYear(),s.getMonth(),r),i)}let FLe={};function nS(){return FLe}function Ay(e,t){var a,l,c,u;const n=nS(),i=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=xi(e,t==null?void 0:t.in),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function tR(e,t){return Ay(e,{...t,weekStartsOn:1})}function tJ(e,t){const n=xi(e,t==null?void 0:t.in),i=n.getFullYear(),r=ys(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=tR(r),o=ys(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=tR(o);return n.getTime()>=s.getTime()?i+1:n.getTime()>=a.getTime()?i:i-1}function l6(e){const t=xi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function iS(e,...t){const n=ys.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Ty(e,t){const n=xi(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function nJ(e,t,n){const[i,r]=iS(n==null?void 0:n.in,e,t),s=Ty(i),o=Ty(r),a=+s-l6(s),l=+o-l6(o);return Math.round((a-l)/PLe)}function _Le(e,t){const n=tJ(e,t),i=ys(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),tR(i)}function BLe(e,t,n){return eV(e,t*7,n)}function GLe(e,t,n){return eJ(e,t*12,n)}function zLe(e,t){let n,i=t==null?void 0:t.in;return e.forEach(r=>{!i&&typeof r=="object"&&(i=ys.bind(null,r));const s=xi(r,i);(!n||n<s||isNaN(+s))&&(n=s)}),ys(i,n||NaN)}function HLe(e,t){let n,i=t==null?void 0:t.in;return e.forEach(r=>{!i&&typeof r=="object"&&(i=ys.bind(null,r));const s=xi(r,i);(!n||n>s||isNaN(+s))&&(n=s)}),ys(i,n||NaN)}function iJ(e,t,n){const[i,r]=iS(n==null?void 0:n.in,e,t);return+Ty(i)==+Ty(r)}function rJ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VLe(e){return!(!rJ(e)&&typeof e!="number"||isNaN(+xi(e)))}function ULe(e,t,n){const[i,r]=iS(n==null?void 0:n.in,e,t),s=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return s*12+o}function c6(e,t){const n=xi(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function oG(e,t){const n=xi(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function WLe(e,t){const[n,i]=iS(e,t.start,t.end);return{start:n,end:i}}function jLe(e,t){const{start:n,end:i}=WLe(t==null?void 0:t.in,e);let r=+n>+i;const s=r?+n:+i,o=r?i:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=s;)l.push(ys(n,o)),o.setMonth(o.getMonth()+a);return r?l.reverse():l}function Wh(e,t){const n=xi(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function sJ(e,t){const n=xi(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function qN(e,t){const n=xi(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tV(e,t){var a,l,c,u;const n=nS(),i=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=xi(e,t==null?void 0:t.in),s=r.getDay(),o=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function $Le(e,t){return tV(e,{...t,weekStartsOn:1})}const YLe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KLe=(e,t,n)=>{let i;const r=YLe[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Bb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const qLe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZLe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XLe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QLe={date:Bb({formats:qLe,defaultWidth:"full"}),time:Bb({formats:ZLe,defaultWidth:"full"}),dateTime:Bb({formats:XLe,defaultWidth:"full"})},JLe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eke=(e,t,n,i)=>JLe[e];function dd(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return r[s]}}const tke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ike={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ske={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ake=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lke={ordinalNumber:ake,era:dd({values:tke,defaultWidth:"wide"}),quarter:dd({values:nke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dd({values:ike,defaultWidth:"wide"}),day:dd({values:rke,defaultWidth:"wide"}),dayPeriod:dd({values:ske,defaultWidth:"wide",formattingValues:oke,defaultFormattingWidth:"wide"})};function hd(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const o=s[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?uke(a,d=>d.test(o)):cke(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function cke(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function uke(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oJ(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(r.length);return{value:o,rest:a}}}const dke=/^(\d+)(th|st|nd|rd)?/i,hke=/\d+/i,fke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pke={any:[/^b/i,/^(a|c)/i]},gke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mke={any:[/1/i,/2/i,/3/i,/4/i]},vke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ske={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xke={ordinalNumber:oJ({matchPattern:dke,parsePattern:hke,valueCallback:e=>parseInt(e,10)}),era:hd({matchPatterns:fke,defaultMatchWidth:"wide",parsePatterns:pke,defaultParseWidth:"any"}),quarter:hd({matchPatterns:gke,defaultMatchWidth:"wide",parsePatterns:mke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hd({matchPatterns:vke,defaultMatchWidth:"wide",parsePatterns:yke,defaultParseWidth:"any"}),day:hd({matchPatterns:Cke,defaultMatchWidth:"wide",parsePatterns:bke,defaultParseWidth:"any"}),dayPeriod:hd({matchPatterns:wke,defaultMatchWidth:"any",parsePatterns:Ske,defaultParseWidth:"any"})},nV={code:"en-US",formatDistance:KLe,formatLong:QLe,formatRelative:eke,localize:lke,match:xke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mke(e,t){const n=xi(e,t==null?void 0:t.in);return nJ(n,qN(n))+1}function aJ(e,t){const n=xi(e,t==null?void 0:t.in),i=+tR(n)-+_Le(n);return Math.round(i/JQ)+1}function lJ(e,t){var u,d,h,p;const n=xi(e,t==null?void 0:t.in),i=n.getFullYear(),r=nS(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ys((t==null?void 0:t.in)||e,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=Ay(o,t),l=ys((t==null?void 0:t.in)||e,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=Ay(l,t);return+n>=+a?i+1:+n>=+c?i:i-1}function Eke(e,t){var a,l,c,u;const n=nS(),i=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=lJ(e,t),s=ys((t==null?void 0:t.in)||e,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),Ay(s,t)}function cJ(e,t){const n=xi(e,t==null?void 0:t.in),i=+Ay(n,t)-+Eke(n,t);return Math.round(i/JQ)+1}function yi(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const zp={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return yi(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yi(n+1,2)},d(e,t){return yi(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yi(e.getHours()%12||12,t.length)},H(e,t){return yi(e.getHours(),t.length)},m(e,t){return yi(e.getMinutes(),t.length)},s(e,t){return yi(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return yi(r,t.length)}},ZC={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},u6={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return zp.y(e,t)},Y:function(e,t,n,i){const r=lJ(e,i),s=r>0?r:1-r;if(t==="YY"){const o=s%100;return yi(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):yi(s,t.length)},R:function(e,t){const n=tJ(e);return yi(n,t.length)},u:function(e,t){const n=e.getFullYear();return yi(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return yi(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return yi(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return zp.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return yi(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=cJ(e,i);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):yi(r,t.length)},I:function(e,t,n){const i=aJ(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):yi(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):zp.d(e,t)},D:function(e,t,n){const i=Mke(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):yi(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return yi(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return yi(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return yi(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(i===12?r=ZC.noon:i===0?r=ZC.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(i>=17?r=ZC.evening:i>=12?r=ZC.afternoon:i>=4?r=ZC.morning:r=ZC.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return zp.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):zp.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):yi(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):yi(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zp.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zp.s(e,t)},S:function(e,t){return zp.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return h6(i);case"XXXX":case"XX":return Iv(i);case"XXXXX":case"XXX":default:return Iv(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return h6(i);case"xxxx":case"xx":return Iv(i);case"xxxxx":case"xxx":default:return Iv(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+d6(i,":");case"OOOO":default:return"GMT"+Iv(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+d6(i,":");case"zzzz":default:return"GMT"+Iv(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return yi(i,t.length)},T:function(e,t,n){return yi(+e,t.length)}};function d6(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+t+yi(s,2)}function h6(e,t){return e%60===0?(e>0?"-":"+")+yi(Math.abs(e)/60,2):Iv(e,t)}function Iv(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=yi(Math.trunc(i/60),2),s=yi(i%60,2);return n+r+t+s}const f6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uJ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rke=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return f6(e,t);let s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",f6(i,t)).replace("{{time}}",uJ(r,t))},Ake={p:uJ,P:Rke},Tke=/^D+$/,Dke=/^Y+$/,Ike=["D","DD","YY","YYYY"];function Nke(e){return Tke.test(e)}function Lke(e){return Dke.test(e)}function kke(e,t,n){const i=Oke(e,t,n);if(console.warn(i),Ike.includes(e))throw new RangeError(i)}function Oke(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_ke=/^'([^]*?)'?$/,Bke=/''/g,Gke=/[a-zA-Z]/;function Er(e,t,n){var u,d,h,p,m,v,y,C;const i=nS(),r=(n==null?void 0:n.locale)??i.locale??nV,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??i.weekStartsOn??((C=(y=i.locale)==null?void 0:y.options)==null?void 0:C.weekStartsOn)??0,a=xi(e,n==null?void 0:n.in);if(!VLe(a))throw new RangeError("Invalid time value");let l=t.match(Fke).map(S=>{const x=S[0];if(x==="p"||x==="P"){const R=Ake[x];return R(S,r.formatLong)}return S}).join("").match(Pke).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const x=S[0];if(x==="'")return{isToken:!1,value:zke(S)};if(u6[x])return{isToken:!0,value:S};if(x.match(Gke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:S}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(S=>{if(!S.isToken)return S.value;const x=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Lke(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nke(x))&&kke(x,t,String(e));const R=u6[x[0]];return R(a,x,r.localize,c)}).join("")}function zke(e){const t=e.match(_ke);return t?t[1].replace(Bke,"'"):e}function Hke(e,t){const n=xi(e,t==null?void 0:t.in),i=n.getFullYear(),r=n.getMonth(),s=ys(n,0);return s.setFullYear(i,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Vke(){return Object.assign({},nS())}function Uke(e,t){return xi(e,t==null?void 0:t.in).getMonth()}function Wke(e,t){return xi(e,t==null?void 0:t.in).getFullYear()}function jke(e,t){return+xi(e)>+xi(t)}function $ke(e,t){return+xi(e)<+xi(t)}function Yke(e,t,n){const[i,r]=iS(n==null?void 0:n.in,e,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function Kke(e,t,n){const[i,r]=iS(n==null?void 0:n.in,e,t);return i.getFullYear()===r.getFullYear()}function Mv(e,t,n){return eV(e,-t,n)}function qke(e,t,n){const i=xi(e,n==null?void 0:n.in),r=i.getFullYear(),s=i.getDate(),o=ys(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=Hke(o);return i.setMonth(t,Math.min(s,a)),i}function Zke(e,t,n){const i=xi(e,n==null?void 0:n.in);return isNaN(+i)?ys(e,NaN):(i.setFullYear(t),i)}const p6=5,Xke=4;function Qke(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,r=t.addDays(e,-i+1),s=t.addDays(r,p6*7-1);return t.getMonth(e)===t.getMonth(s)?p6:Xke}function dJ(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-1*6):t.addDays(n,-1*(i-1))}function Jke(e,t){const n=dJ(e,t),i=Qke(e,t);return t.addDays(n,i*7-1)}class kf{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?Eo.tz(this.options.timeZone):new this.Date},this.newDate=(i,r,s)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(i,r,s):this.options.timeZone?new Eo(i,r,s,this.options.timeZone):new Date(i,r,s)},this.addDays=(i,r)=>{var s;return(s=this.overrides)!=null&&s.addDays?this.overrides.addDays(i,r):eV(i,r)},this.addMonths=(i,r)=>{var s;return(s=this.overrides)!=null&&s.addMonths?this.overrides.addMonths(i,r):eJ(i,r)},this.addWeeks=(i,r)=>{var s;return(s=this.overrides)!=null&&s.addWeeks?this.overrides.addWeeks(i,r):BLe(i,r)},this.addYears=(i,r)=>{var s;return(s=this.overrides)!=null&&s.addYears?this.overrides.addYears(i,r):GLe(i,r)},this.differenceInCalendarDays=(i,r)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,r):nJ(i,r)},this.differenceInCalendarMonths=(i,r)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,r):ULe(i,r)},this.eachMonthOfInterval=i=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):jLe(i)},this.endOfBroadcastWeek=i=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):Jke(i,this)},this.endOfISOWeek=i=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(i):$Le(i)},this.endOfMonth=i=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(i):oG(i)},this.endOfWeek=(i,r)=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(i,r):tV(i,this.options)},this.endOfYear=i=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(i):sJ(i)},this.format=(i,r,s)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(i,r,this.options):Er(i,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=i=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(i):aJ(i)},this.getMonth=(i,r)=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(i,this.options):Uke(i,this.options)},this.getYear=(i,r)=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(i,this.options):Wke(i,this.options)},this.getWeek=(i,r)=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(i,this.options):cJ(i,this.options)},this.isAfter=(i,r)=>{var s;return(s=this.overrides)!=null&&s.isAfter?this.overrides.isAfter(i,r):jke(i,r)},this.isBefore=(i,r)=>{var s;return(s=this.overrides)!=null&&s.isBefore?this.overrides.isBefore(i,r):$ke(i,r)},this.isDate=i=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(i):rJ(i)},this.isSameDay=(i,r)=>{var s;return(s=this.overrides)!=null&&s.isSameDay?this.overrides.isSameDay(i,r):iJ(i,r)},this.isSameMonth=(i,r)=>{var s;return(s=this.overrides)!=null&&s.isSameMonth?this.overrides.isSameMonth(i,r):Yke(i,r)},this.isSameYear=(i,r)=>{var s;return(s=this.overrides)!=null&&s.isSameYear?this.overrides.isSameYear(i,r):Kke(i,r)},this.max=i=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(i):zLe(i)},this.min=i=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(i):HLe(i)},this.setMonth=(i,r)=>{var s;return(s=this.overrides)!=null&&s.setMonth?this.overrides.setMonth(i,r):qke(i,r)},this.setYear=(i,r)=>{var s;return(s=this.overrides)!=null&&s.setYear?this.overrides.setYear(i,r):Zke(i,r)},this.startOfBroadcastWeek=(i,r)=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):dJ(i,this)},this.startOfDay=i=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(i):Ty(i)},this.startOfISOWeek=i=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(i):tR(i)},this.startOfMonth=i=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(i):Wh(i)},this.startOfWeek=(i,r)=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(i,this.options):Ay(i,this.options)},this.startOfYear=i=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(i):qN(i)},this.options={locale:nV,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let r=0;r<10;r++)i[r.toString()]=n.format(r);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const Qd=new kf;class hJ{constructor(t,n,i=Qd){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class eOe{constructor(t,n){this.date=t,this.weeks=n}}class tOe{constructor(t,n){this.days=n,this.weekNumber=t}}function jh(e,t,n=!1,i=Qd){let{from:r,to:s}=e;const{differenceInCalendarDays:o,isSameDay:a}=i;return r&&s?(o(s,r)<0&&([r,s]=[s,r]),o(t,r)>=(n?1:0)&&o(s,t)>=(n?1:0)):!n&&s?a(s,t):!n&&r?a(r,t):!1}function fJ(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function iV(e){return!!(e&&typeof e=="object"&&"from"in e)}function pJ(e){return!!(e&&typeof e=="object"&&"after"in e)}function gJ(e){return!!(e&&typeof e=="object"&&"before"in e)}function mJ(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function vJ(e,t){return Array.isArray(e)&&e.every(t.isDate)}function $h(e,t,n=Qd){const i=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:s,isAfter:o}=n;return i.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(e,a);if(vJ(a,n))return a.includes(e);if(iV(a))return jh(a,e,!1,n);if(mJ(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(fJ(a)){const l=s(a.before,e),c=s(a.after,e),u=l>0,d=c<0;return o(a.before,a.after)?d&&u:u||d}return pJ(a)?s(e,a.after)>0:gJ(a)?s(a.before,e)>0:typeof a=="function"?a(e):!1})}function nOe(e,t,n){const{disabled:i,hidden:r,modifiers:s,showOutsideDays:o,broadcastCalendar:a,today:l}=t,{isSameDay:c,isSameMonth:u,startOfMonth:d,isBefore:h,endOfMonth:p,isAfter:m}=n,v=t.startMonth&&d(t.startMonth),y=t.endMonth&&p(t.endMonth),C={[ur.focused]:[],[ur.outside]:[],[ur.disabled]:[],[ur.hidden]:[],[ur.today]:[]},S={};for(const x of e){const{date:R,displayMonth:A}=x,T=!!(A&&!u(R,A)),L=!!(v&&h(R,v)),O=!!(y&&m(R,y)),F=!!(i&&$h(R,i,n)),H=!!(r&&$h(R,r,n))||L||O||!a&&!o&&T||a&&o===!1&&T,W=c(R,l??n.today());T&&C.outside.push(x),F&&C.disabled.push(x),H&&C.hidden.push(x),W&&C.today.push(x),s&&Object.keys(s).forEach($=>{const Z=s==null?void 0:s[$];Z&&$h(R,Z,n)&&(S[$]?S[$].push(x):S[$]=[x])})}return x=>{const R={[ur.focused]:!1,[ur.disabled]:!1,[ur.hidden]:!1,[ur.outside]:!1,[ur.today]:!1},A={};for(const T in C){const L=C[T];R[T]=L.some(O=>O===x)}for(const T in S)A[T]=S[T].some(L=>L===x);return{...R,...A}}}function iOe(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[s])=>(n[s]?r.push(n[s]):t[ur[s]]?r.push(t[ur[s]]):t[qc[s]]&&r.push(t[qc[s]]),r),[t[Ot.Day]])}function rOe(e){return Ce.createElement("button",{...e})}function sOe(e){return Ce.createElement("span",{...e})}function oOe(e){const{size:t=24,orientation:n="left",className:i}=e;return Ce.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Ce.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Ce.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Ce.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Ce.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function aOe(e){const{day:t,modifiers:n,...i}=e;return Ce.createElement("td",{...i})}function lOe(e){const{day:t,modifiers:n,...i}=e,r=Ce.useRef(null);return Ce.useEffect(()=>{var s;n.focused&&((s=r.current)==null||s.focus())},[n.focused]),Ce.createElement("button",{ref:r,...i})}function cOe(e){const{options:t,className:n,components:i,classNames:r,...s}=e,o=[r[Ot.Dropdown],n].join(" "),a=t==null?void 0:t.find(({value:l})=>l===s.value);return Ce.createElement("span",{"data-disabled":s.disabled,className:r[Ot.DropdownRoot]},Ce.createElement(i.Select,{className:o,...s},t==null?void 0:t.map(({value:l,label:c,disabled:u})=>Ce.createElement(i.Option,{key:l,value:l,disabled:u},c))),Ce.createElement("span",{className:r[Ot.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,Ce.createElement(i.Chevron,{orientation:"down",size:18,className:r[Ot.Chevron]})))}function uOe(e){return Ce.createElement("div",{...e})}function dOe(e){return Ce.createElement("div",{...e})}function hOe(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Ce.createElement("div",{...i},e.children)}function fOe(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Ce.createElement("div",{...i})}function pOe(e){return Ce.createElement("table",{...e})}function gOe(e){return Ce.createElement("div",{...e})}const yJ=I.createContext(void 0);function C1(){const e=I.useContext(yJ);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function mOe(e){const{components:t}=C1();return Ce.createElement(t.Dropdown,{...e})}function vOe(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:r,...s}=e,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=C1(),u=I.useCallback(h=>{r&&(n==null||n(h))},[r,n]),d=I.useCallback(h=>{i&&(t==null||t(h))},[i,t]);return Ce.createElement("nav",{...s},Ce.createElement(o.PreviousMonthButton,{type:"button",className:a[Ot.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":l(i),onClick:d},Ce.createElement(o.Chevron,{disabled:i?void 0:!0,className:a[Ot.Chevron],orientation:"left"})),Ce.createElement(o.NextMonthButton,{type:"button",className:a[Ot.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:u},Ce.createElement(o.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[Ot.Chevron]})))}function yOe(e){const{components:t}=C1();return Ce.createElement(t.Button,{...e})}function COe(e){return Ce.createElement("option",{...e})}function bOe(e){const{components:t}=C1();return Ce.createElement(t.Button,{...e})}function wOe(e){const{rootRef:t,...n}=e;return Ce.createElement("div",{...n,ref:t})}function SOe(e){return Ce.createElement("select",{...e})}function xOe(e){const{week:t,...n}=e;return Ce.createElement("tr",{...n})}function MOe(e){return Ce.createElement("th",{...e})}function EOe(e){return Ce.createElement("thead",{"aria-hidden":!0},Ce.createElement("tr",{...e}))}function ROe(e){const{week:t,...n}=e;return Ce.createElement("th",{...n})}function AOe(e){return Ce.createElement("th",{...e})}function TOe(e){return Ce.createElement("tbody",{...e})}function DOe(e){const{components:t}=C1();return Ce.createElement(t.Dropdown,{...e})}const IOe=Object.freeze(Object.defineProperty({__proto__:null,Button:rOe,CaptionLabel:sOe,Chevron:oOe,Day:aOe,DayButton:lOe,Dropdown:cOe,DropdownNav:uOe,Footer:dOe,Month:hOe,MonthCaption:fOe,MonthGrid:pOe,Months:gOe,MonthsDropdown:mOe,Nav:vOe,NextMonthButton:yOe,Option:COe,PreviousMonthButton:bOe,Root:wOe,Select:SOe,Week:xOe,WeekNumber:ROe,WeekNumberHeader:AOe,Weekday:MOe,Weekdays:EOe,Weeks:TOe,YearsDropdown:DOe},Symbol.toStringTag,{value:"Module"}));function NOe(e){return{...IOe,...e}}function LOe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function rV(){const e={};for(const t in Ot)e[Ot[t]]=`rdp-${Ot[t]}`;for(const t in ur)e[ur[t]]=`rdp-${ur[t]}`;for(const t in qc)e[qc[t]]=`rdp-${qc[t]}`;for(const t in rl)e[rl[t]]=`rdp-${rl[t]}`;return e}function CJ(e,t,n){return(n??new kf(t)).format(e,"LLLL y")}const kOe=CJ;function OOe(e,t,n){return(n??new kf(t)).format(e,"d")}function POe(e,t=Qd){return t.format(e,"LLLL")}function FOe(e,t=Qd){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function _Oe(){return""}function BOe(e,t,n){return(n??new kf(t)).format(e,"cccccc")}function bJ(e,t=Qd){return t.format(e,"yyyy")}const GOe=bJ,zOe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:CJ,formatDay:OOe,formatMonthCaption:kOe,formatMonthDropdown:POe,formatWeekNumber:FOe,formatWeekNumberHeader:_Oe,formatWeekdayName:BOe,formatYearCaption:GOe,formatYearDropdown:bJ},Symbol.toStringTag,{value:"Module"}));function HOe(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...zOe,...e}}function VOe(e,t,n,i,r){const{startOfMonth:s,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=r;return l({start:o(e),end:a(e)}).map(h=>{const p=i.formatMonthDropdown(h,r),m=c(h),v=t&&h<s(t)||n&&h>s(n)||!1;return{value:m,label:p,disabled:v}})}function UOe(e,t={},n={}){let i={...t==null?void 0:t[Ot.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{i={...i,...n==null?void 0:n[r]}}),i}function WOe(e,t,n){const i=e.today(),r=t?e.startOfISOWeek(i):e.startOfWeek(i),s=[];for(let o=0;o<7;o++){const a=e.addDays(r,o);s.push(a)}return s}function jOe(e,t,n,i){if(!e||!t)return;const{startOfYear:r,endOfYear:s,addYears:o,getYear:a,isBefore:l,isSameYear:c}=i,u=r(e),d=s(t),h=[];let p=u;for(;l(p,d)||c(p,d);)h.push(p),p=o(p,1);return h.map(m=>{const v=n.formatYearDropdown(m,i);return{value:a(m),label:v,disabled:!1}})}function wJ(e,t,n){return(n??new kf(t)).format(e,"LLLL y")}const $Oe=wJ;function YOe(e,t,n,i){let r=(i??new kf(n)).format(e,"PPPP");return t!=null&&t.today&&(r=`Today, ${r}`),r}function SJ(e,t,n,i){let r=(i??new kf(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const KOe=SJ;function qOe(){return""}function ZOe(e){return"Choose the Month"}function XOe(e){return"Go to the Next Month"}function QOe(e){return"Go to the Previous Month"}function JOe(e,t,n){return(n??new kf(t)).format(e,"cccc")}function ePe(e,t){return`Week ${e}`}function tPe(e){return"Week Number"}function nPe(e){return"Choose the Year"}const iPe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:$Oe,labelDay:KOe,labelDayButton:SJ,labelGrid:wJ,labelGridcell:YOe,labelMonthDropdown:ZOe,labelNav:qOe,labelNext:XOe,labelPrevious:QOe,labelWeekNumber:ePe,labelWeekNumberHeader:tPe,labelWeekday:JOe,labelYearDropdown:nPe},Symbol.toStringTag,{value:"Module"})),b1=e=>e instanceof HTMLElement?e:null,w2=e=>[...e.querySelectorAll("[data-animated-month]")??[]],rPe=e=>b1(e.querySelector("[data-animated-month]")),S2=e=>b1(e.querySelector("[data-animated-caption]")),x2=e=>b1(e.querySelector("[data-animated-weeks]")),sPe=e=>b1(e.querySelector("[data-animated-nav]")),oPe=e=>b1(e.querySelector("[data-animated-weekdays]"));function aPe(e,t,{classNames:n,months:i,focused:r,dateLib:s}){const o=I.useRef(null),a=I.useRef(i),l=I.useRef(!1);I.useLayoutEffect(()=>{const c=a.current;if(a.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||c.length===0||i.length!==c.length)return;const u=s.isSameMonth(i[0].date,c[0].date),d=s.isAfter(i[0].date,c[0].date),h=d?n[rl.caption_after_enter]:n[rl.caption_before_enter],p=d?n[rl.weeks_after_enter]:n[rl.weeks_before_enter],m=o.current,v=e.current.cloneNode(!0);if(v instanceof HTMLElement?(w2(v).forEach(x=>{if(!(x instanceof HTMLElement))return;const R=rPe(x);R&&x.contains(R)&&x.removeChild(R);const A=S2(x);A&&A.classList.remove(h);const T=x2(x);T&&T.classList.remove(p)}),o.current=v):o.current=null,l.current||u||r)return;const y=m instanceof HTMLElement?w2(m):[],C=w2(e.current);if(C&&C.every(S=>S instanceof HTMLElement)&&y&&y.every(S=>S instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const S=sPe(e.current);S&&(S.style.zIndex="1"),C.forEach((x,R)=>{const A=y[R];if(!A)return;x.style.position="relative",x.style.overflow="hidden";const T=S2(x);T&&T.classList.add(h);const L=x2(x);L&&L.classList.add(p);const O=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),S&&(S.style.zIndex=""),T&&T.classList.remove(h),L&&L.classList.remove(p),x.style.position="",x.style.overflow="",x.contains(A)&&x.removeChild(A)};A.style.pointerEvents="none",A.style.position="absolute",A.style.overflow="hidden",A.setAttribute("aria-hidden","true");const F=oPe(A);F&&(F.style.opacity="0");const H=S2(A);H&&(H.classList.add(d?n[rl.caption_before_exit]:n[rl.caption_after_exit]),H.addEventListener("animationend",O));const W=x2(A);W&&W.classList.add(d?n[rl.weeks_before_exit]:n[rl.weeks_after_exit]),x.insertBefore(A,x.firstChild)})}})}function lPe(e,t,n,i){const r=e[0],s=e[e.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:m,endOfWeek:v,isAfter:y,startOfBroadcastWeek:C,startOfISOWeek:S,startOfWeek:x}=i,R=l?C(r,i):o?S(r):x(r),A=l?h(s):o?p(m(s)):v(m(s)),T=u(A,R),L=d(s,r)+1,O=[];for(let W=0;W<=T;W++){const $=c(R,W);if(t&&y($,t))break;O.push($)}const H=(l?35:42)*L;if(a&&O.length<H){const W=H-O.length;for(let $=0;$<W;$++){const Z=c(O[O.length-1],1);O.push(Z)}}return O}function cPe(e){const t=[];return e.reduce((n,i)=>{const r=i.weeks.reduce((s,o)=>[...s,...o.days],t);return[...n,...r]},t)}function uPe(e,t,n,i){const{numberOfMonths:r=1}=n,s=[];for(let o=0;o<r;o++){const a=i.addMonths(e,o);if(t&&a>t)break;s.push(a)}return s}function g6(e,t){const{month:n,defaultMonth:i,today:r=t.today(),numberOfMonths:s=1,endMonth:o,startMonth:a}=e;let l=n||i||r;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=t;if(o&&c(o,l)<0){const h=-1*(s-1);l=u(o,h)}return a&&c(l,a)<0&&(l=a),d(l)}function dPe(e,t,n,i){const{addDays:r,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:p}=i,m=e.reduce((v,y)=>{const C=n.broadcastCalendar?d(y,i):n.ISOWeek?h(y):p(y),S=n.broadcastCalendar?s(y):n.ISOWeek?o(a(y)):l(a(y)),x=t.filter(L=>L>=C&&L<=S),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&x.length<R){const L=t.filter(O=>{const F=R-x.length;return O>S&&O<=r(S,F)});x.push(...L)}const A=x.reduce((L,O)=>{const F=n.ISOWeek?c(O):u(O),H=L.find($=>$.weekNumber===F),W=new hJ(O,y,i);return H?H.days.push(W):L.push(new tOe(F,[W])),L},[]),T=new eOe(y,A);return v.push(T),v},[]);return n.reverseMonths?m.reverse():m}function hPe(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:r,startOfDay:s,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:u,today:d}=t,{fromYear:h,toYear:p,fromMonth:m,toMonth:v}=e;!n&&m&&(n=m),!n&&h&&(n=t.newDate(h,0,1)),!i&&v&&(i=v),!i&&p&&(i=u(p,11,31));const y=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=o(n):h?n=u(h,0,1):!n&&y&&(n=r(l(e.today??d(),-100))),i?i=a(i):p?i=u(p,11,31):!i&&y&&(i=c(e.today??d())),[n&&s(n),i&&s(i)]}function fPe(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=i,c=r?s:1,u=o(e);if(!t)return a(u,c);if(!(l(t,e)<s))return a(u,c)}function pPe(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=i,c=r?s??1:1,u=o(e);if(!t)return a(u,-c);if(!(l(u,t)<=0))return a(u,-c)}function gPe(e){const t=[];return e.reduce((n,i)=>[...n,...i.weeks],t)}function Yk(e,t){const[n,i]=I.useState(e);return[t===void 0?n:t,i]}function mPe(e,t){const[n,i]=hPe(e,t),{startOfMonth:r,endOfMonth:s}=t,o=g6(e,t),[a,l]=Yk(o,e.month?o:void 0);I.useEffect(()=>{const T=g6(e,t);l(T)},[e.timeZone]);const c=uPe(a,i,e,t),u=lPe(c,e.endMonth?s(e.endMonth):void 0,e,t),d=dPe(c,u,e,t),h=gPe(d),p=cPe(d),m=pPe(a,n,e,t),v=fPe(a,i,e,t),{disableNavigation:y,onMonthChange:C}=e,S=T=>h.some(L=>L.days.some(O=>O.isEqualTo(T))),x=T=>{if(y)return;let L=r(T);n&&L<r(n)&&(L=r(n)),i&&L>r(i)&&(L=r(i)),l(L),C==null||C(L)};return{months:d,weeks:h,days:p,navStart:n,navEnd:i,previousMonth:m,nextMonth:v,goToMonth:x,goToDay:T=>{S(T)||x(T.date)}}}var id;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(id||(id={}));function m6(e){return!e[ur.disabled]&&!e[ur.hidden]&&!e[ur.outside]}function vPe(e,t,n,i){let r,s=-1;for(const o of e){const a=t(o);m6(a)&&(a[ur.focused]&&s<id.FocusedModifier?(r=o,s=id.FocusedModifier):i!=null&&i.isEqualTo(o)&&s<id.LastFocused?(r=o,s=id.LastFocused):n(o.date)&&s<id.Selected?(r=o,s=id.Selected):a[ur.today]&&s<id.Today&&(r=o,s=id.Today))}return r||(r=e.find(o=>m6(t(o)))),r}function yPe(e,t,n,i,r,s,o){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:m,endOfWeek:v,max:y,min:C,startOfBroadcastWeek:S,startOfISOWeek:x,startOfWeek:R}=o;let T={day:c,week:d,month:u,year:h,startOfWeek:L=>l?S(L,o):a?x(L):R(L),endOfWeek:L=>l?p(L):a?m(L):v(L)}[e](n,t==="after"?1:-1);return t==="before"&&i?T=y([i,T]):t==="after"&&r&&(T=C([r,T])),T}function xJ(e,t,n,i,r,s,o,a=0){if(a>365)return;const l=yPe(e,t,n.date,i,r,s,o),c=!!(s.disabled&&$h(l,s.disabled,o)),u=!!(s.hidden&&$h(l,s.hidden,o)),d=l,h=new hJ(l,d,o);return!c&&!u?h:xJ(e,t,h,i,r,s,o,a+1)}function CPe(e,t,n,i,r){const{autoFocus:s}=e,[o,a]=I.useState(),l=vPe(t.days,n,i||(()=>!1),o),[c,u]=I.useState(s?l:void 0);return{isFocusTarget:v=>!!(l!=null&&l.isEqualTo(v)),setFocused:u,focused:c,blur:()=>{a(c),u(void 0)},moveFocus:(v,y)=>{if(!c)return;const C=xJ(v,y,c,t.navStart,t.navEnd,e,r);C&&(t.goToDay(C),u(C))}}}function bPe(e,t){const{selected:n,required:i,onSelect:r}=e,[s,o]=Yk(n,r?n:void 0),a=r?n:s,{isSameDay:l}=t,c=p=>(a==null?void 0:a.some(m=>l(m,p)))??!1,{min:u,max:d}=e;return{selected:a,select:(p,m,v)=>{let y=[...a??[]];if(c(p)){if((a==null?void 0:a.length)===u||i&&(a==null?void 0:a.length)===1)return;y=a==null?void 0:a.filter(C=>!l(C,p))}else(a==null?void 0:a.length)===d?y=[p]:y=[...y,p];return r||o(y),r==null||r(y,p,m,v),y},isSelected:c}}function wPe(e,t,n=0,i=0,r=!1,s=Qd){const{from:o,to:a}=t||{},{isSameDay:l,isAfter:c,isBefore:u}=s;let d;if(!o&&!a)d={from:e,to:n>0?void 0:e};else if(o&&!a)l(o,e)?r?d={from:o,to:void 0}:d=void 0:u(e,o)?d={from:e,to:o}:d={from:o,to:e};else if(o&&a)if(l(o,e)&&l(a,e))r?d={from:o,to:a}:d=void 0;else if(l(o,e))d={from:o,to:n>0?void 0:e};else if(l(a,e))d={from:e,to:n>0?void 0:e};else if(u(e,o))d={from:e,to:a};else if(c(e,o))d={from:o,to:e};else if(c(e,a))d={from:o,to:e};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=s.differenceInCalendarDays(d.to,d.from);i>0&&h>i?d={from:e,to:void 0}:n>1&&h<n&&(d={from:e,to:void 0})}return d}function SPe(e,t,n=Qd){const i=Array.isArray(t)?t:[t];let r=e.from;const s=n.differenceInCalendarDays(e.to,e.from),o=Math.min(s,6);for(let a=0;a<=o;a++){if(i.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function v6(e,t,n=Qd){return jh(e,t.from,!1,n)||jh(e,t.to,!1,n)||jh(t,e.from,!1,n)||jh(t,e.to,!1,n)}function xPe(e,t,n=Qd){const i=Array.isArray(t)?t:[t];if(i.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?jh(e,a,!1,n):vJ(a,n)?a.some(l=>jh(e,l,!1,n)):iV(a)?a.from&&a.to?v6(e,{from:a.from,to:a.to},n):!1:mJ(a)?SPe(e,a.dayOfWeek,n):fJ(a)?n.isAfter(a.before,a.after)?v6(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):$h(e.from,a,n)||$h(e.to,a,n):pJ(a)||gJ(a)?$h(e.from,a,n)||$h(e.to,a,n):!1))return!0;const o=i.filter(a=>typeof a=="function");if(o.length){let a=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(o.some(u=>u(a)))return!0;a=n.addDays(a,1)}}return!1}function MPe(e,t){const{disabled:n,excludeDisabled:i,selected:r,required:s,onSelect:o}=e,[a,l]=Yk(r,o?r:void 0),c=o?r:a;return{selected:c,select:(h,p,m)=>{const{min:v,max:y}=e,C=h?wPe(h,c,v,y,s,t):void 0;return i&&n&&(C!=null&&C.from)&&C.to&&xPe({from:C.from,to:C.to},n,t)&&(C.from=h,C.to=void 0),o||l(C),o==null||o(C,h,p,m),C},isSelected:h=>c&&jh(c,h,!1,t)}}function EPe(e,t){const{selected:n,required:i,onSelect:r}=e,[s,o]=Yk(n,r?n:void 0),a=r?n:s,{isSameDay:l}=t;return{selected:a,select:(d,h,p)=>{let m=d;return!i&&a&&a&&l(d,a)&&(m=void 0),r||o(m),r==null||r(m,d,h,p),m},isSelected:d=>a?l(a,d):!1}}function RPe(e,t){const n=EPe(e,t),i=bPe(e,t),r=MPe(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return r;default:return}}function APe(e){var fc;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Eo(t.today,t.timeZone)),t.month&&(t.month=new Eo(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Eo(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Eo(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Eo(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Eo(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(fc=t.selected)==null?void 0:fc.map(Qt=>new Eo(Qt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Eo(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Eo(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:r,dateLib:s,locale:o,classNames:a}=I.useMemo(()=>{const Qt={...nV,...t.locale};return{dateLib:new kf({locale:Qt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:NOe(t.components),formatters:HOe(t.formatters),labels:{...iPe,...t.labels},locale:Qt,classNames:{...rV(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:d=1,onDayBlur:h,onDayClick:p,onDayFocus:m,onDayKeyDown:v,onDayMouseEnter:y,onDayMouseLeave:C,onNextClick:S,onPrevClick:x,showWeekNumber:R,styles:A}=t,{formatCaption:T,formatDay:L,formatMonthDropdown:O,formatWeekNumber:F,formatWeekNumberHeader:H,formatWeekdayName:W,formatYearDropdown:$}=i,Z=mPe(t,s),{days:ie,months:oe,navStart:te,navEnd:ae,previousMonth:ne,nextMonth:Se,goToMonth:q}=Z,re=nOe(ie,t,s),{isSelected:K,select:V,selected:G}=RPe(t,s)??{},{blur:se,focused:Y,isFocusTarget:ue,moveFocus:J,setFocused:he}=CPe(t,Z,re,K??(()=>!1),s),{labelDayButton:Te,labelGridcell:ve,labelGrid:Re,labelMonthDropdown:ke,labelNav:He,labelPrevious:st,labelNext:Dt,labelWeekday:ot,labelWeekNumber:dt,labelWeekNumberHeader:Ue,labelYearDropdown:qe}=r,at=I.useMemo(()=>WOe(s,t.ISOWeek),[s,t.ISOWeek]),nt=c!==void 0||p!==void 0,Fe=I.useCallback(()=>{ne&&(q(ne),x==null||x(ne))},[ne,q,x]),de=I.useCallback(()=>{Se&&(q(Se),S==null||S(Se))},[q,Se,S]),we=I.useCallback((Qt,Un)=>In=>{In.preventDefault(),In.stopPropagation(),he(Qt),V==null||V(Qt.date,Un,In),p==null||p(Qt.date,Un,In)},[V,p,he]),Ge=I.useCallback((Qt,Un)=>In=>{he(Qt),m==null||m(Qt.date,Un,In)},[m,he]),Le=I.useCallback((Qt,Un)=>In=>{se(),h==null||h(Qt.date,Un,In)},[se,h]),Qe=I.useCallback((Qt,Un)=>In=>{const $r={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[In.shiftKey?"year":"month","before"],PageDown:[In.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if($r[In.key]){In.preventDefault(),In.stopPropagation();const[Fs,bt]=$r[In.key];J(Fs,bt)}v==null||v(Qt.date,Un,In)},[J,v,t.dir]),mt=I.useCallback((Qt,Un)=>In=>{y==null||y(Qt.date,Un,In)},[y]),ln=I.useCallback((Qt,Un)=>In=>{C==null||C(Qt.date,Un,In)},[C]),Mn=I.useCallback(Qt=>Un=>{const In=Number(Un.target.value),$r=s.setMonth(s.startOfMonth(Qt),In);q($r)},[s,q]),Lt=I.useCallback(Qt=>Un=>{const In=Number(Un.target.value),$r=s.setYear(s.startOfMonth(Qt),In);q($r)},[s,q]),{className:jt,style:Vn}=I.useMemo(()=>({className:[a[Ot.Root],t.className].filter(Boolean).join(" "),style:{...A==null?void 0:A[Ot.Root],...t.style}}),[a,t.className,t.style,A]),ls=LOe(t),jr=I.useRef(null);aPe(jr,!!t.animate,{classNames:a,months:oe,focused:Y,dateLib:s});const Ss={dayPickerProps:t,selected:G,select:V,isSelected:K,months:oe,nextMonth:Se,previousMonth:ne,goToMonth:q,getModifiers:re,components:n,classNames:a,styles:A,labels:r,formatters:i};return Ce.createElement(yJ.Provider,{value:Ss},Ce.createElement(n.Root,{rootRef:t.animate?jr:void 0,className:jt,style:Vn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...ls},Ce.createElement(n.Months,{className:a[Ot.Months],style:A==null?void 0:A[Ot.Months]},!t.hideNavigation&&!u&&Ce.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[Ot.Nav],style:A==null?void 0:A[Ot.Nav],"aria-label":He(),onPreviousClick:Fe,onNextClick:de,previousMonth:ne,nextMonth:Se}),oe.map((Qt,Un)=>{const In=VOe(Qt.date,te,ae,i,s),$r=jOe(te,ae,i,s);return Ce.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[Ot.Month],style:A==null?void 0:A[Ot.Month],key:Un,displayIndex:Un,calendarMonth:Qt},u==="around"&&!t.hideNavigation&&Un===0&&Ce.createElement(n.PreviousMonthButton,{type:"button",className:a[Ot.PreviousMonthButton],tabIndex:ne?void 0:-1,"aria-disabled":ne?void 0:!0,"aria-label":st(ne),onClick:Fe,"data-animated-button":t.animate?"true":void 0},Ce.createElement(n.Chevron,{disabled:ne?void 0:!0,className:a[Ot.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Ce.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[Ot.MonthCaption],style:A==null?void 0:A[Ot.MonthCaption],calendarMonth:Qt,displayIndex:Un},l!=null&&l.startsWith("dropdown")?Ce.createElement(n.DropdownNav,{className:a[Ot.Dropdowns],style:A==null?void 0:A[Ot.Dropdowns]},l==="dropdown"||l==="dropdown-months"?Ce.createElement(n.MonthsDropdown,{className:a[Ot.MonthsDropdown],"aria-label":ke(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Mn(Qt.date),options:In,style:A==null?void 0:A[Ot.Dropdown],value:s.getMonth(Qt.date)}):Ce.createElement("span",null,O(Qt.date,s)),l==="dropdown"||l==="dropdown-years"?Ce.createElement(n.YearsDropdown,{className:a[Ot.YearsDropdown],"aria-label":qe(s.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Lt(Qt.date),options:$r,style:A==null?void 0:A[Ot.Dropdown],value:s.getYear(Qt.date)}):Ce.createElement("span",null,$(Qt.date,s)),Ce.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(Qt.date,s.options,s))):Ce.createElement(n.CaptionLabel,{className:a[Ot.CaptionLabel],role:"status","aria-live":"polite"},T(Qt.date,s.options,s))),u==="around"&&!t.hideNavigation&&Un===d-1&&Ce.createElement(n.NextMonthButton,{type:"button",className:a[Ot.NextMonthButton],tabIndex:Se?void 0:-1,"aria-disabled":Se?void 0:!0,"aria-label":Dt(Se),onClick:de,"data-animated-button":t.animate?"true":void 0},Ce.createElement(n.Chevron,{disabled:Se?void 0:!0,className:a[Ot.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Un===d-1&&u==="after"&&!t.hideNavigation&&Ce.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[Ot.Nav],style:A==null?void 0:A[Ot.Nav],"aria-label":He(),onPreviousClick:Fe,onNextClick:de,previousMonth:ne,nextMonth:Se}),Ce.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":Re(Qt.date,s.options,s)||void 0,className:a[Ot.MonthGrid],style:A==null?void 0:A[Ot.MonthGrid]},!t.hideWeekdays&&Ce.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[Ot.Weekdays],style:A==null?void 0:A[Ot.Weekdays]},R&&Ce.createElement(n.WeekNumberHeader,{"aria-label":Ue(s.options),className:a[Ot.WeekNumberHeader],style:A==null?void 0:A[Ot.WeekNumberHeader],scope:"col"},H()),at.map((Fs,bt)=>Ce.createElement(n.Weekday,{"aria-label":ot(Fs,s.options,s),className:a[Ot.Weekday],key:bt,style:A==null?void 0:A[Ot.Weekday],scope:"col"},W(Fs,s.options,s)))),Ce.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[Ot.Weeks],style:A==null?void 0:A[Ot.Weeks]},Qt.weeks.map((Fs,bt)=>Ce.createElement(n.Week,{className:a[Ot.Week],key:Fs.weekNumber,style:A==null?void 0:A[Ot.Week],week:Fs},R&&Ce.createElement(n.WeekNumber,{week:Fs,style:A==null?void 0:A[Ot.WeekNumber],"aria-label":dt(Fs.weekNumber,{locale:o}),className:a[Ot.WeekNumber],scope:"row",role:"rowheader"},F(Fs.weekNumber,s)),Fs.days.map(fn=>{const{date:Mi}=fn,sn=re(fn);if(sn[ur.focused]=!sn.hidden&&!!(Y!=null&&Y.isEqualTo(fn)),sn[qc.selected]=(K==null?void 0:K(Mi))||sn.selected,iV(G)){const{from:Zi,to:Yr}=G;sn[qc.range_start]=!!(Zi&&Yr&&s.isSameDay(Mi,Zi)),sn[qc.range_end]=!!(Zi&&Yr&&s.isSameDay(Mi,Yr)),sn[qc.range_middle]=jh(G,Mi,!0,s)}const Wa=UOe(sn,A,t.modifiersStyles),th=iOe(sn,a,t.modifiersClassNames),ha=!nt&&!sn.hidden?ve(Mi,sn,s.options,s):void 0;return Ce.createElement(n.Day,{key:`${s.format(Mi,"yyyy-MM-dd")}_${s.format(fn.displayMonth,"yyyy-MM")}`,day:fn,modifiers:sn,className:th.join(" "),style:Wa,role:"gridcell","aria-selected":sn.selected||void 0,"aria-label":ha,"data-day":s.format(Mi,"yyyy-MM-dd"),"data-month":fn.outside?s.format(Mi,"yyyy-MM"):void 0,"data-selected":sn.selected||void 0,"data-disabled":sn.disabled||void 0,"data-hidden":sn.hidden||void 0,"data-outside":fn.outside||void 0,"data-focused":sn.focused||void 0,"data-today":sn.today||void 0},!sn.hidden&&nt?Ce.createElement(n.DayButton,{className:a[Ot.DayButton],style:A==null?void 0:A[Ot.DayButton],type:"button",day:fn,modifiers:sn,disabled:sn.disabled||void 0,tabIndex:ue(fn)?0:-1,"aria-label":Te(Mi,sn,s.options,s),onClick:we(fn,sn),onBlur:Le(fn,sn),onFocus:Ge(fn,sn),onKeyDown:Qe(fn,sn),onMouseEnter:mt(fn,sn),onMouseLeave:ln(fn,sn)},L(Mi,s.options,s)):!sn.hidden&&L(fn.date,s.options,s))}))))))})),t.footer&&Ce.createElement(n.Footer,{className:a[Ot.Footer],style:A==null?void 0:A[Ot.Footer],role:"status","aria-live":"polite"},t.footer)))}function sV({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:i="label",buttonVariant:r="ghost",formatters:s,components:o,...a}){const l=rV();return B.jsx(APe,{showOutsideDays:n,className:Nt("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:i,formatters:{formatMonthDropdown:c=>c.toLocaleString("ko-KR",{month:"long"}),formatCaption:c=>c.toLocaleString("ko-KR",{year:"numeric",month:"long"}),formatWeekdayName:c=>c.toLocaleString("ko-KR",{weekday:"short"}),...s},classNames:{root:Nt("w-fit",l.root),months:Nt("flex gap-4 flex-col md:flex-row relative",l.months),month:Nt("flex flex-col w-full gap-4",l.month),nav:Nt("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:Nt(eR({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:Nt(eR({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:Nt("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:Nt("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:Nt("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:Nt("absolute inset-0 opacity-0",l.dropdown),caption_label:Nt("select-none font-medium",i==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:Nt("flex",l.weekdays),weekday:Nt("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:Nt("flex w-full mt-2",l.week),week_number_header:Nt("select-none w-(--cell-size)",l.week_number_header),week_number:Nt("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:Nt("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:Nt("rounded-l-md bg-accent",l.range_start),range_middle:Nt("rounded-none",l.range_middle),range_end:Nt("rounded-r-md bg-accent",l.range_end),today:Nt("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:Nt("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:Nt("text-muted-foreground opacity-50",l.disabled),hidden:Nt("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:u,...d})=>B.jsx("div",{"data-slot":"calendar",ref:u,className:Nt(c),...d}),Chevron:({className:c,orientation:u,...d})=>u==="left"?B.jsx(uLe,{className:Nt("size-4",c),...d}):u==="right"?B.jsx(hLe,{className:Nt("size-4",c),...d}):B.jsx(JH,{className:Nt("size-4",c),...d}),DayButton:TPe,WeekNumber:({children:c,...u})=>B.jsx("td",{...u,children:B.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:c})}),...o},...a})}function TPe({className:e,day:t,modifiers:n,...i}){const r=rV(),s=I.useRef(null);return I.useEffect(()=>{var o;n.focused&&((o=s.current)==null||o.focus())},[n.focused]),B.jsx(no,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Nt("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-foreground data-[range-middle=true]:text-contrast data-[range-start=true]:bg-primary data-[range-start=true]:text-white data-[range-start=true]:hover:bg-[rgb(255,180,140)] data-[range-start=true]:hover:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-white data-[range-end=true]:hover:bg-[rgb(255,180,140)] data-[range-end=true]:hover:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-none data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-none data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...i})}function bn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function DPe(e,t){const n=I.createContext(t),i=s=>{const{children:o,...a}=s,l=I.useMemo(()=>a,Object.values(a));return B.jsx(n.Provider,{value:l,children:o})};i.displayName=e+"Provider";function r(s){const o=I.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[i,r]}function jg(e,t=[]){let n=[];function i(s,o){const a=I.createContext(o),l=n.length;n=[...n,o];const c=d=>{var C;const{scope:h,children:p,...m}=d,v=((C=h==null?void 0:h[e])==null?void 0:C[l])||a,y=I.useMemo(()=>m,Object.values(m));return B.jsx(v.Provider,{value:y,children:p})};c.displayName=s+"Provider";function u(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,m=I.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return I.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return r.scopeName=e,[i,IPe(r,...t)]}function IPe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var NPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xn=NPe.reduce((e,t)=>{const n=Ry(`Primitive.${t}`),i=I.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function LPe(e,t){e&&Fy.flushSync(()=>e.dispatchEvent(t))}function Dy(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function kPe(e,t=globalThis==null?void 0:globalThis.document){const n=Dy(e);I.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var OPe="DismissableLayer",aG="dismissableLayer.update",PPe="dismissableLayer.pointerDownOutside",FPe="dismissableLayer.focusOutside",y6,MJ=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w1=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=I.useContext(MJ),[u,d]=I.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=I.useState({}),m=Si(t,L=>d(L)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(y),S=u?v.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,R=S>=C,A=GPe(L=>{const O=L.target,F=[...c.branches].some(H=>H.contains(O));!R||F||(r==null||r(L),o==null||o(L),L.defaultPrevented||a==null||a())},h),T=zPe(L=>{const O=L.target;[...c.branches].some(H=>H.contains(O))||(s==null||s(L),o==null||o(L),L.defaultPrevented||a==null||a())},h);return kPe(L=>{S===c.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&a&&(L.preventDefault(),a()))},h),I.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(y6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),C6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=y6)}},[u,h,n,c]),I.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),C6())},[u,c]),I.useEffect(()=>{const L=()=>p({});return document.addEventListener(aG,L),()=>document.removeEventListener(aG,L)},[]),B.jsx(Xn.div,{...l,ref:m,style:{pointerEvents:x?R?"auto":"none":void 0,...e.style},onFocusCapture:bn(e.onFocusCapture,T.onFocusCapture),onBlurCapture:bn(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:bn(e.onPointerDownCapture,A.onPointerDownCapture)})});w1.displayName=OPe;var _Pe="DismissableLayerBranch",BPe=I.forwardRef((e,t)=>{const n=I.useContext(MJ),i=I.useRef(null),r=Si(t,i);return I.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),B.jsx(Xn.div,{...e,ref:r})});BPe.displayName=_Pe;function GPe(e,t=globalThis==null?void 0:globalThis.document){const n=Dy(e),i=I.useRef(!1),r=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){EJ(PPe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function zPe(e,t=globalThis==null?void 0:globalThis.document){const n=Dy(e),i=I.useRef(!1);return I.useEffect(()=>{const r=s=>{s.target&&!i.current&&EJ(FPe,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function C6(){const e=new CustomEvent(aG);document.dispatchEvent(e)}function EJ(e,t,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?LPe(r,s):r.dispatchEvent(s)}var M2=0;function oV(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b6()),document.body.insertAdjacentElement("beforeend",e[1]??b6()),M2++,()=>{M2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),M2--}},[])}function b6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var E2="focusScope.autoFocusOnMount",R2="focusScope.autoFocusOnUnmount",w6={bubbles:!1,cancelable:!0},HPe="FocusScope",Kk=I.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=e,[a,l]=I.useState(null),c=Dy(r),u=Dy(s),d=I.useRef(null),h=Si(t,v=>l(v)),p=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(i){let v=function(x){if(p.paused||!a)return;const R=x.target;a.contains(R)?d.current=R:jp(d.current,{select:!0})},y=function(x){if(p.paused||!a)return;const R=x.relatedTarget;R!==null&&(a.contains(R)||jp(d.current,{select:!0}))},C=function(x){if(document.activeElement===document.body)for(const A of x)A.removedNodes.length>0&&jp(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const S=new MutationObserver(C);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),S.disconnect()}}},[i,a,p.paused]),I.useEffect(()=>{if(a){x6.add(p);const v=document.activeElement;if(!a.contains(v)){const C=new CustomEvent(E2,w6);a.addEventListener(E2,c),a.dispatchEvent(C),C.defaultPrevented||(VPe(YPe(RJ(a)),{select:!0}),document.activeElement===v&&jp(a))}return()=>{a.removeEventListener(E2,c),setTimeout(()=>{const C=new CustomEvent(R2,w6);a.addEventListener(R2,u),a.dispatchEvent(C),C.defaultPrevented||jp(v??document.body,{select:!0}),a.removeEventListener(R2,u),x6.remove(p)},0)}}},[a,c,u,p]);const m=I.useCallback(v=>{if(!n&&!i||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(y&&C){const S=v.currentTarget,[x,R]=UPe(S);x&&R?!v.shiftKey&&C===R?(v.preventDefault(),n&&jp(x,{select:!0})):v.shiftKey&&C===x&&(v.preventDefault(),n&&jp(R,{select:!0})):C===S&&v.preventDefault()}},[n,i,p.paused]);return B.jsx(Xn.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Kk.displayName=HPe;function VPe(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(jp(i,{select:t}),document.activeElement!==n)return}function UPe(e){const t=RJ(e),n=S6(t,e),i=S6(t.reverse(),e);return[n,i]}function RJ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function S6(e,t){for(const n of e)if(!WPe(n,{upTo:t}))return n}function WPe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jPe(e){return e instanceof HTMLInputElement&&"select"in e}function jp(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jPe(e)&&t&&e.select()}}var x6=$Pe();function $Pe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=M6(e,t),e.unshift(t)},remove(t){var n;e=M6(e,t),(n=e[0])==null||n.resume()}}}function M6(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function YPe(e){return e.filter(t=>t.tagName!=="A")}var ko=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},KPe=G8[" useId ".trim().toString()]||(()=>{}),qPe=0;function mg(e){const[t,n]=I.useState(KPe());return ko(()=>{n(i=>i??String(qPe++))},[e]),e||(t?`radix-${t}`:"")}const ZPe=["top","right","bottom","left"],Ag=Math.min,ol=Math.max,ZN=Math.round,BD=Math.floor,Dd=e=>({x:e,y:e}),XPe={left:"right",right:"left",bottom:"top",top:"bottom"},QPe={start:"end",end:"start"};function lG(e,t,n){return ol(e,Ag(t,n))}function gf(e,t){return typeof e=="function"?e(t):e}function mf(e){return e.split("-")[0]}function rS(e){return e.split("-")[1]}function aV(e){return e==="x"?"y":"x"}function lV(e){return e==="y"?"height":"width"}function bd(e){return["top","bottom"].includes(mf(e))?"y":"x"}function cV(e){return aV(bd(e))}function JPe(e,t,n){n===void 0&&(n=!1);const i=rS(e),r=cV(e),s=lV(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=XN(o)),[o,XN(o)]}function eFe(e){const t=XN(e);return[cG(e),t,cG(t)]}function cG(e){return e.replace(/start|end/g,t=>QPe[t])}function tFe(e,t,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:i:t?i:r;case"left":case"right":return t?s:o;default:return[]}}function nFe(e,t,n,i){const r=rS(e);let s=tFe(mf(e),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(cG)))),s}function XN(e){return e.replace(/left|right|bottom|top/g,t=>XPe[t])}function iFe(e){return{top:0,right:0,bottom:0,left:0,...e}}function AJ(e){return typeof e!="number"?iFe(e):{top:e,right:e,bottom:e,left:e}}function QN(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function E6(e,t,n){let{reference:i,floating:r}=e;const s=bd(t),o=cV(t),a=lV(o),l=mf(t),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let p;switch(l){case"top":p={x:u,y:i.y-r.height};break;case"bottom":p={x:u,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-r.width,y:d};break;default:p={x:i.x,y:i.y}}switch(rS(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const rFe=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=E6(c,i,l),h=i,p={},m=0;for(let v=0;v<a.length;v++){const{name:y,fn:C}=a[v],{x:S,y:x,data:R,reset:A}=await C({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=S??u,d=x??d,p={...p,[y]:{...p[y],...R}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):A.rects),{x:u,y:d}=E6(c,h,l)),v=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:p}};async function nR(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=gf(t,e),m=AJ(p),y=a[h?d==="floating"?"reference":"floating":d],C=QN(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},A=QN(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:x,strategy:l}):S);return{top:(C.top-A.top+m.top)/R.y,bottom:(A.bottom-C.bottom+m.bottom)/R.y,left:(C.left-A.left+m.left)/R.x,right:(A.right-C.right+m.right)/R.x}}const sFe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=gf(e,t)||{};if(c==null)return{};const d=AJ(u),h={x:n,y:i},p=cV(r),m=lV(p),v=await o.getDimensions(c),y=p==="y",C=y?"top":"left",S=y?"bottom":"right",x=y?"clientHeight":"clientWidth",R=s.reference[m]+s.reference[p]-h[p]-s.floating[m],A=h[p]-s.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=T?T[x]:0;(!L||!await(o.isElement==null?void 0:o.isElement(T)))&&(L=a.floating[x]||s.floating[m]);const O=R/2-A/2,F=L/2-v[m]/2-1,H=Ag(d[C],F),W=Ag(d[S],F),$=H,Z=L-v[m]-W,ie=L/2-v[m]/2+O,oe=lG($,ie,Z),te=!l.arrow&&rS(r)!=null&&ie!==oe&&s.reference[m]/2-(ie<$?H:W)-v[m]/2<0,ae=te?ie<$?ie-$:ie-Z:0;return{[p]:h[p]+ae,data:{[p]:oe,centerOffset:ie-oe-ae,...te&&{alignmentOffset:ae}},reset:te}}}),oFe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=gf(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=mf(r),S=bd(a),x=mf(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(x||!v?[XN(a)]:eFe(a)),T=m!=="none";!h&&T&&A.push(...nFe(a,v,m,R));const L=[a,...A],O=await nR(t,y),F=[];let H=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&F.push(O[C]),d){const ie=JPe(r,o,R);F.push(O[ie[0]],O[ie[1]])}if(H=[...H,{placement:r,overflows:F}],!F.every(ie=>ie<=0)){var W,$;const ie=(((W=s.flip)==null?void 0:W.index)||0)+1,oe=L[ie];if(oe&&(!(d==="alignment"?S!==bd(oe):!1)||H.every(ne=>ne.overflows[0]>0&&bd(ne.placement)===S)))return{data:{index:ie,overflows:H},reset:{placement:oe}};let te=($=H.filter(ae=>ae.overflows[0]<=0).sort((ae,ne)=>ae.overflows[1]-ne.overflows[1])[0])==null?void 0:$.placement;if(!te)switch(p){case"bestFit":{var Z;const ae=(Z=H.filter(ne=>{if(T){const Se=bd(ne.placement);return Se===S||Se==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(Se=>Se>0).reduce((Se,q)=>Se+q,0)]).sort((ne,Se)=>ne[1]-Se[1])[0])==null?void 0:Z[0];ae&&(te=ae);break}case"initialPlacement":te=a;break}if(r!==te)return{reset:{placement:te}}}return{}}}};function R6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function A6(e){return ZPe.some(t=>e[t]>=0)}const aFe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...r}=gf(e,t);switch(i){case"referenceHidden":{const s=await nR(t,{...r,elementContext:"reference"}),o=R6(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A6(o)}}}case"escaped":{const s=await nR(t,{...r,altBoundary:!0}),o=R6(s,n.floating);return{data:{escapedOffsets:o,escaped:A6(o)}}}default:return{}}}}};async function lFe(e,t){const{placement:n,platform:i,elements:r}=e,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=mf(n),a=rS(n),l=bd(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=gf(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const cFe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=t,l=await lFe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},uFe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:C,y:S}=y;return{x:C,y:S}}},...l}=gf(e,t),c={x:n,y:i},u=await nR(t,l),d=bd(mf(r)),h=aV(d);let p=c[h],m=c[d];if(s){const y=h==="y"?"top":"left",C=h==="y"?"bottom":"right",S=p+u[y],x=p-u[C];p=lG(S,p,x)}if(o){const y=d==="y"?"top":"left",C=d==="y"?"bottom":"right",S=m+u[y],x=m-u[C];m=lG(S,m,x)}const v=a.fn({...t,[h]:p,[d]:m});return{...v,data:{x:v.x-n,y:v.y-i,enabled:{[h]:s,[d]:o}}}}}},dFe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=gf(e,t),u={x:n,y:i},d=bd(r),h=aV(d);let p=u[h],m=u[d];const v=gf(a,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=h==="y"?"height":"width",R=s.reference[h]-s.floating[x]+y.mainAxis,A=s.reference[h]+s.reference[x]-y.mainAxis;p<R?p=R:p>A&&(p=A)}if(c){var C,S;const x=h==="y"?"width":"height",R=["top","left"].includes(mf(r)),A=s.reference[d]-s.floating[x]+(R&&((C=o.offset)==null?void 0:C[d])||0)+(R?0:y.crossAxis),T=s.reference[d]+s.reference[x]+(R?0:((S=o.offset)==null?void 0:S[d])||0)-(R?y.crossAxis:0);m<A?m=A:m>T&&(m=T)}return{[h]:p,[d]:m}}}},hFe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=gf(e,t),u=await nR(t,c),d=mf(r),h=rS(r),p=bd(r)==="y",{width:m,height:v}=s.floating;let y,C;d==="top"||d==="bottom"?(y=d,C=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(C=d,y=h==="end"?"top":"bottom");const S=v-u.top-u.bottom,x=m-u.left-u.right,R=Ag(v-u[y],S),A=Ag(m-u[C],x),T=!t.middlewareData.shift;let L=R,O=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=x),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(L=S),T&&!h){const H=ol(u.left,0),W=ol(u.right,0),$=ol(u.top,0),Z=ol(u.bottom,0);p?O=m-2*(H!==0||W!==0?H+W:ol(u.left,u.right)):L=v-2*($!==0||Z!==0?$+Z:ol(u.top,u.bottom))}await l({...t,availableWidth:O,availableHeight:L});const F=await o.getDimensions(a.floating);return m!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function qk(){return typeof window<"u"}function sS(e){return TJ(e)?(e.nodeName||"").toLowerCase():"#document"}function pl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jd(e){var t;return(t=(TJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TJ(e){return qk()?e instanceof Node||e instanceof pl(e).Node:!1}function ru(e){return qk()?e instanceof Element||e instanceof pl(e).Element:!1}function Fd(e){return qk()?e instanceof HTMLElement||e instanceof pl(e).HTMLElement:!1}function T6(e){return!qk()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pl(e).ShadowRoot}function S1(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=su(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function fFe(e){return["table","td","th"].includes(sS(e))}function Zk(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uV(e){const t=dV(),n=ru(e)?su(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function pFe(e){let t=Tg(e);for(;Fd(t)&&!Cw(t);){if(uV(t))return t;if(Zk(t))return null;t=Tg(t)}return null}function dV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cw(e){return["html","body","#document"].includes(sS(e))}function su(e){return pl(e).getComputedStyle(e)}function Xk(e){return ru(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tg(e){if(sS(e)==="html")return e;const t=e.assignedSlot||e.parentNode||T6(e)&&e.host||Jd(e);return T6(t)?t.host:t}function DJ(e){const t=Tg(e);return Cw(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fd(t)&&S1(t)?t:DJ(t)}function iR(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=DJ(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),o=pl(r);if(s){const a=uG(o);return t.concat(o,o.visualViewport||[],S1(r)?r:[],a&&n?iR(a):[])}return t.concat(r,iR(r,[],n))}function uG(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function IJ(e){const t=su(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Fd(e),s=r?e.offsetWidth:n,o=r?e.offsetHeight:i,a=ZN(n)!==s||ZN(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function hV(e){return ru(e)?e:e.contextElement}function Gb(e){const t=hV(e);if(!Fd(t))return Dd(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:s}=IJ(t);let o=(s?ZN(n.width):n.width)/i,a=(s?ZN(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gFe=Dd(0);function NJ(e){const t=pl(e);return!dV()||!t.visualViewport?gFe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mFe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pl(e)?!1:t}function Iy(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=hV(e);let o=Dd(1);t&&(i?ru(i)&&(o=Gb(i)):o=Gb(e));const a=mFe(s,n,i)?NJ(s):Dd(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=pl(s),p=i&&ru(i)?pl(i):i;let m=h,v=uG(m);for(;v&&i&&p!==m;){const y=Gb(v),C=v.getBoundingClientRect(),S=su(v),x=C.left+(v.clientLeft+parseFloat(S.paddingLeft))*y.x,R=C.top+(v.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=x,c+=R,m=pl(v),v=uG(m)}}return QN({width:u,height:d,x:l,y:c})}function fV(e,t){const n=Xk(e).scrollLeft;return t?t.left+n:Iy(Jd(e)).left+n}function LJ(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=i.left+t.scrollLeft-(n?0:fV(e,i)),s=i.top+t.scrollTop;return{x:r,y:s}}function vFe(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const s=r==="fixed",o=Jd(i),a=t?Zk(t.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Dd(1);const u=Dd(0),d=Fd(i);if((d||!d&&!s)&&((sS(i)!=="body"||S1(o))&&(l=Xk(i)),Fd(i))){const p=Iy(i);c=Gb(i),u.x=p.x+i.clientLeft,u.y=p.y+i.clientTop}const h=o&&!d&&!s?LJ(o,l,!0):Dd(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function yFe(e){return Array.from(e.getClientRects())}function CFe(e){const t=Jd(e),n=Xk(e),i=e.ownerDocument.body,r=ol(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=ol(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+fV(e);const a=-n.scrollTop;return su(i).direction==="rtl"&&(o+=ol(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function bFe(e,t){const n=pl(e),i=Jd(e),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=dV();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function wFe(e,t){const n=Iy(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=Fd(e)?Gb(e):Dd(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function D6(e,t,n){let i;if(t==="viewport")i=bFe(e,n);else if(t==="document")i=CFe(Jd(e));else if(ru(t))i=wFe(t,n);else{const r=NJ(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return QN(i)}function kJ(e,t){const n=Tg(e);return n===t||!ru(n)||Cw(n)?!1:su(n).position==="fixed"||kJ(n,t)}function SFe(e,t){const n=t.get(e);if(n)return n;let i=iR(e,[],!1).filter(a=>ru(a)&&sS(a)!=="body"),r=null;const s=su(e).position==="fixed";let o=s?Tg(e):e;for(;ru(o)&&!Cw(o);){const a=su(o),l=uV(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||S1(o)&&!l&&kJ(e,o))?i=i.filter(u=>u!==o):r=a,o=Tg(o)}return t.set(e,i),i}function xFe(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[...n==="clippingAncestors"?Zk(t)?[]:SFe(t,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=D6(t,u,r);return c.top=ol(d.top,c.top),c.right=Ag(d.right,c.right),c.bottom=Ag(d.bottom,c.bottom),c.left=ol(d.left,c.left),c},D6(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MFe(e){const{width:t,height:n}=IJ(e);return{width:t,height:n}}function EFe(e,t,n){const i=Fd(t),r=Jd(t),s=n==="fixed",o=Iy(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Dd(0);function c(){l.x=fV(r)}if(i||!i&&!s)if((sS(t)!=="body"||S1(r))&&(a=Xk(t)),i){const p=Iy(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else r&&c();s&&!i&&r&&c();const u=r&&!i&&!s?LJ(r,a):Dd(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function A2(e){return su(e).position==="static"}function I6(e,t){if(!Fd(e)||su(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jd(e)===n&&(n=n.ownerDocument.body),n}function OJ(e,t){const n=pl(e);if(Zk(e))return n;if(!Fd(e)){let r=Tg(e);for(;r&&!Cw(r);){if(ru(r)&&!A2(r))return r;r=Tg(r)}return n}let i=I6(e,t);for(;i&&fFe(i)&&A2(i);)i=I6(i,t);return i&&Cw(i)&&A2(i)&&!uV(i)?n:i||pFe(e)||n}const RFe=async function(e){const t=this.getOffsetParent||OJ,n=this.getDimensions,i=await n(e.floating);return{reference:EFe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function AFe(e){return su(e).direction==="rtl"}const TFe={convertOffsetParentRelativeRectToViewportRelativeRect:vFe,getDocumentElement:Jd,getClippingRect:xFe,getOffsetParent:OJ,getElementRects:RFe,getClientRects:yFe,getDimensions:MFe,getScale:Gb,isElement:ru,isRTL:AFe};function PJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DFe(e,t){let n=null,i;const r=Jd(e);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||t(),!h||!p)return;const m=BD(d),v=BD(r.clientWidth-(u+h)),y=BD(r.clientHeight-(d+p)),C=BD(u),x={rootMargin:-m+"px "+-v+"px "+-y+"px "+-C+"px",threshold:ol(0,Ag(1,l))||1};let R=!0;function A(T){const L=T[0].intersectionRatio;if(L!==l){if(!R)return o();L?o(!1,L):i=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!PJ(c,e.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(A,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(e)}return o(!0),s}function IFe(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=hV(e),u=r||s?[...c?iR(c):[],...iR(t)]:[];u.forEach(C=>{r&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const d=c&&a?DFe(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(C=>{let[S]=C;S&&S.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m,v=l?Iy(e):null;l&&y();function y(){const C=Iy(e);v&&!PJ(v,C)&&n(),v=C,m=requestAnimationFrame(y)}return n(),()=>{var C;u.forEach(S=>{r&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),d==null||d(),(C=p)==null||C.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const NFe=cFe,LFe=uFe,kFe=oFe,OFe=hFe,PFe=aFe,N6=sFe,FFe=dFe,_Fe=(e,t,n)=>{const i=new Map,r={platform:TFe,...n},s={...r.platform,_c:i};return rFe(e,t,{...r,platform:s})};var BFe=typeof document<"u",GFe=function(){},RI=BFe?I.useLayoutEffect:GFe;function JN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!JN(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!JN(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function FJ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L6(e,t){const n=FJ(e);return Math.round(t*n)/n}function T2(e){const t=I.useRef(e);return RI(()=>{t.current=e}),t}function zFe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=I.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=I.useState(i);JN(h,i)||p(i);const[m,v]=I.useState(null),[y,C]=I.useState(null),S=I.useCallback(ne=>{ne!==T.current&&(T.current=ne,v(ne))},[]),x=I.useCallback(ne=>{ne!==L.current&&(L.current=ne,C(ne))},[]),R=s||m,A=o||y,T=I.useRef(null),L=I.useRef(null),O=I.useRef(u),F=l!=null,H=T2(l),W=T2(r),$=T2(c),Z=I.useCallback(()=>{if(!T.current||!L.current)return;const ne={placement:t,strategy:n,middleware:h};W.current&&(ne.platform=W.current),_Fe(T.current,L.current,ne).then(Se=>{const q={...Se,isPositioned:$.current!==!1};ie.current&&!JN(O.current,q)&&(O.current=q,Fy.flushSync(()=>{d(q)}))})},[h,t,n,W,$]);RI(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(ne=>({...ne,isPositioned:!1})))},[c]);const ie=I.useRef(!1);RI(()=>(ie.current=!0,()=>{ie.current=!1}),[]),RI(()=>{if(R&&(T.current=R),A&&(L.current=A),R&&A){if(H.current)return H.current(R,A,Z);Z()}},[R,A,Z,H,F]);const oe=I.useMemo(()=>({reference:T,floating:L,setReference:S,setFloating:x}),[S,x]),te=I.useMemo(()=>({reference:R,floating:A}),[R,A]),ae=I.useMemo(()=>{const ne={position:n,left:0,top:0};if(!te.floating)return ne;const Se=L6(te.floating,u.x),q=L6(te.floating,u.y);return a?{...ne,transform:"translate("+Se+"px, "+q+"px)",...FJ(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Se,top:q}},[n,a,te.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:Z,refs:oe,elements:te,floatingStyles:ae}),[u,Z,oe,te,ae])}const HFe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:r}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?N6({element:i.current,padding:r}).fn(n):{}:i?N6({element:i,padding:r}).fn(n):{}}}},VFe=(e,t)=>({...NFe(e),options:[e,t]}),UFe=(e,t)=>({...LFe(e),options:[e,t]}),WFe=(e,t)=>({...FFe(e),options:[e,t]}),jFe=(e,t)=>({...kFe(e),options:[e,t]}),$Fe=(e,t)=>({...OFe(e),options:[e,t]}),YFe=(e,t)=>({...PFe(e),options:[e,t]}),KFe=(e,t)=>({...HFe(e),options:[e,t]});var qFe="Arrow",_J=I.forwardRef((e,t)=>{const{children:n,width:i=10,height:r=5,...s}=e;return B.jsx(Xn.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});_J.displayName=qFe;var ZFe=_J;function BJ(e){const[t,n]=I.useState(void 0);return ko(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var pV="Popper",[GJ,oS]=jg(pV),[XFe,zJ]=GJ(pV),HJ=e=>{const{__scopePopper:t,children:n}=e,[i,r]=I.useState(null);return B.jsx(XFe,{scope:t,anchor:i,onAnchorChange:r,children:n})};HJ.displayName=pV;var VJ="PopperAnchor",UJ=I.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...r}=e,s=zJ(VJ,n),o=I.useRef(null),a=Si(t,o);return I.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:B.jsx(Xn.div,{...r,ref:a})});UJ.displayName=VJ;var gV="PopperContent",[QFe,JFe]=GJ(gV),WJ=I.forwardRef((e,t)=>{var ue,J,he,Te,ve,Re;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...v}=e,y=zJ(gV,n),[C,S]=I.useState(null),x=Si(t,ke=>S(ke)),[R,A]=I.useState(null),T=BJ(R),L=(T==null?void 0:T.width)??0,O=(T==null?void 0:T.height)??0,F=i+(s!=="center"?"-"+s:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],$=W.length>0,Z={padding:H,boundary:W.filter(t2e),altBoundary:$},{refs:ie,floatingStyles:oe,placement:te,isPositioned:ae,middlewareData:ne}=zFe({strategy:"fixed",placement:F,whileElementsMounted:(...ke)=>IFe(...ke,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[VFe({mainAxis:r+O,alignmentAxis:o}),l&&UFe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?WFe():void 0,...Z}),l&&jFe({...Z}),$Fe({...Z,apply:({elements:ke,rects:He,availableWidth:st,availableHeight:Dt})=>{const{width:ot,height:dt}=He.reference,Ue=ke.floating.style;Ue.setProperty("--radix-popper-available-width",`${st}px`),Ue.setProperty("--radix-popper-available-height",`${Dt}px`),Ue.setProperty("--radix-popper-anchor-width",`${ot}px`),Ue.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),R&&KFe({element:R,padding:a}),n2e({arrowWidth:L,arrowHeight:O}),h&&YFe({strategy:"referenceHidden",...Z})]}),[Se,q]=YJ(te),re=Dy(m);ko(()=>{ae&&(re==null||re())},[ae,re]);const K=(ue=ne.arrow)==null?void 0:ue.x,V=(J=ne.arrow)==null?void 0:J.y,G=((he=ne.arrow)==null?void 0:he.centerOffset)!==0,[se,Y]=I.useState();return ko(()=>{C&&Y(window.getComputedStyle(C).zIndex)},[C]),B.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ae?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Te=ne.transformOrigin)==null?void 0:Te.x,(ve=ne.transformOrigin)==null?void 0:ve.y].join(" "),...((Re=ne.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:B.jsx(QFe,{scope:n,placedSide:Se,onArrowChange:A,arrowX:K,arrowY:V,shouldHideArrow:G,children:B.jsx(Xn.div,{"data-side":Se,"data-align":q,...v,ref:x,style:{...v.style,animation:ae?void 0:"none"}})})})});WJ.displayName=gV;var jJ="PopperArrow",e2e={top:"bottom",right:"left",bottom:"top",left:"right"},$J=I.forwardRef(function(t,n){const{__scopePopper:i,...r}=t,s=JFe(jJ,i),o=e2e[s.placedSide];return B.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:B.jsx(ZFe,{...r,ref:n,style:{...r.style,display:"block"}})})});$J.displayName=jJ;function t2e(e){return e!==null}var n2e=e=>({name:"transformOrigin",options:e,fn(t){var y,C,S;const{placement:n,rects:i,middlewareData:r}=t,o=((y=r.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=YJ(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((C=r.arrow)==null?void 0:C.x)??0)+a/2,p=(((S=r.arrow)==null?void 0:S.y)??0)+l/2;let m="",v="";return c==="bottom"?(m=o?d:`${h}px`,v=`${-l}px`):c==="top"?(m=o?d:`${h}px`,v=`${i.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=o?d:`${p}px`):c==="left"&&(m=`${i.floating.width+l}px`,v=o?d:`${p}px`),{data:{x:m,y:v}}}});function YJ(e){const[t,n="center"]=e.split("-");return[t,n]}var mV=HJ,Qk=UJ,vV=WJ,yV=$J,i2e="Portal",x1=I.forwardRef((e,t)=>{var a;const{container:n,...i}=e,[r,s]=I.useState(!1);ko(()=>s(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?s9.createPortal(B.jsx(Xn.div,{...i,ref:t}),o):null});x1.displayName=i2e;function r2e(e,t){return I.useReducer((n,i)=>t[n][i]??n,e)}var Of=e=>{const{present:t,children:n}=e,i=s2e(t),r=typeof n=="function"?n({present:i.isPresent}):I.Children.only(n),s=Si(i.ref,o2e(r));return typeof n=="function"||i.isPresent?I.cloneElement(r,{ref:s}):null};Of.displayName="Presence";function s2e(e){const[t,n]=I.useState(),i=I.useRef(null),r=I.useRef(e),s=I.useRef("none"),o=e?"mounted":"unmounted",[a,l]=r2e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=GD(i.current);s.current=a==="mounted"?c:"none"},[a]),ko(()=>{const c=i.current,u=r.current;if(u!==e){const h=s.current,p=GD(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),ko(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const v=GD(i.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!r.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(s.current=GD(i.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function GD(e){return(e==null?void 0:e.animationName)||"none"}function o2e(e){var i,r;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a2e=G8[" useInsertionEffect ".trim().toString()]||ko;function bw({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[r,s,o]=l2e({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r;{const u=I.useRef(e!==void 0);I.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=I.useCallback(u=>{var d;if(a){const h=c2e(u)?u(e):u;h!==e&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,e,s,o]);return[l,c]}function l2e({defaultProp:e,onChange:t}){const[n,i]=I.useState(e),r=I.useRef(n),s=I.useRef(t);return a2e(()=>{s.current=t},[t]),I.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function c2e(e){return typeof e=="function"}var u2e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},XC=new WeakMap,zD=new WeakMap,HD={},D2=0,KJ=function(e){return e&&(e.host||KJ(e.parentNode))},d2e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=KJ(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},h2e=function(e,t,n,i){var r=d2e(t,Array.isArray(e)?e:[e]);HD[n]||(HD[n]=new WeakMap);var s=HD[n],o=[],a=new Set,l=new Set(r),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};r.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(i),m=p!==null&&p!=="false",v=(XC.get(h)||0)+1,y=(s.get(h)||0)+1;XC.set(h,v),s.set(h,y),o.push(h),v===1&&m&&zD.set(h,!0),y===1&&h.setAttribute(n,"true"),m||h.setAttribute(i,"true")}catch(C){console.error("aria-hidden: cannot operate on ",h,C)}})};return u(t),a.clear(),D2++,function(){o.forEach(function(d){var h=XC.get(d)-1,p=s.get(d)-1;XC.set(d,h),s.set(d,p),h||(zD.has(d)||d.removeAttribute(i),zD.delete(d)),p||d.removeAttribute(n)}),D2--,D2||(XC=new WeakMap,XC=new WeakMap,zD=new WeakMap,HD={})}},CV=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=u2e(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),h2e(i,r,n,"aria-hidden")):function(){return null}},fd=function(){return fd=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fd.apply(this,arguments)};function qJ(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function f2e(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var AI="right-scroll-bar-position",TI="width-before-scroll-bar",p2e="with-scroll-bars-hidden",g2e="--removed-body-scroll-bar-size";function I2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function m2e(e,t){var n=I.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=t,n.facade}var v2e=typeof window<"u"?I.useLayoutEffect:I.useEffect,k6=new WeakMap;function y2e(e,t){var n=m2e(null,function(i){return e.forEach(function(r){return I2(r,i)})});return v2e(function(){var i=k6.get(n);if(i){var r=new Set(i),s=new Set(e),o=n.current;r.forEach(function(a){s.has(a)||I2(a,null)}),s.forEach(function(a){r.has(a)||I2(a,o)})}k6.set(n,e)},[e]),n}function C2e(e){return e}function b2e(e,t){t===void 0&&(t=C2e);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,i);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){i=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return r}function w2e(e){e===void 0&&(e={});var t=b2e(null);return t.options=fd({async:!0,ssr:!1},e),t}var ZJ=function(e){var t=e.sideCar,n=qJ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return I.createElement(i,fd({},n))};ZJ.isSideCarExport=!0;function S2e(e,t){return e.useMedium(t),ZJ}var XJ=w2e(),N2=function(){},Jk=I.forwardRef(function(e,t){var n=I.useRef(null),i=I.useState({onScrollCapture:N2,onWheelCapture:N2,onTouchMoveCapture:N2}),r=i[0],s=i[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,v=e.inert,y=e.allowPinchZoom,C=e.as,S=C===void 0?"div":C,x=e.gapMode,R=qJ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,T=y2e([n,t]),L=fd(fd({},R),r);return I.createElement(I.Fragment,null,u&&I.createElement(A,{sideCar:XJ,removeScrollBar:c,shards:d,noRelative:p,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?I.cloneElement(I.Children.only(a),fd(fd({},L),{ref:T})):I.createElement(S,fd({},L,{className:l,ref:T}),a))});Jk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jk.classNames={fullWidth:TI,zeroRight:AI};var x2e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M2e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x2e();return t&&e.setAttribute("nonce",t),e}function E2e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R2e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A2e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M2e())&&(E2e(t,n),R2e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},T2e=function(){var e=A2e();return function(t,n){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QJ=function(){var e=T2e(),t=function(n){var i=n.styles,r=n.dynamic;return e(i,r),null};return t},D2e={left:0,top:0,right:0,gap:0},L2=function(e){return parseInt(e||"",10)||0},I2e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[L2(n),L2(i),L2(r)]},N2e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return D2e;var t=I2e(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},L2e=QJ(),zb="data-scroll-locked",k2e=function(e,t,n,i){var r=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(p2e,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(zb,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(AI,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(TI,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(AI," .").concat(AI,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(TI," .").concat(TI,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(zb,`] {
    `).concat(g2e,": ").concat(a,`px;
  }
`)},O6=function(){var e=parseInt(document.body.getAttribute(zb)||"0",10);return isFinite(e)?e:0},O2e=function(){I.useEffect(function(){return document.body.setAttribute(zb,(O6()+1).toString()),function(){var e=O6()-1;e<=0?document.body.removeAttribute(zb):document.body.setAttribute(zb,e.toString())}},[])},P2e=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=i===void 0?"margin":i;O2e();var s=I.useMemo(function(){return N2e(r)},[r]);return I.createElement(L2e,{styles:k2e(s,!t,r,n?"":"!important")})},dG=!1;if(typeof window<"u")try{var VD=Object.defineProperty({},"passive",{get:function(){return dG=!0,!0}});window.addEventListener("test",VD,VD),window.removeEventListener("test",VD,VD)}catch{dG=!1}var QC=dG?{passive:!1}:!1,F2e=function(e){return e.tagName==="TEXTAREA"},JJ=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!F2e(e)&&n[t]==="visible")},_2e=function(e){return JJ(e,"overflowY")},B2e=function(e){return JJ(e,"overflowX")},P6=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=eee(e,i);if(r){var s=tee(e,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},G2e=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},z2e=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},eee=function(e,t){return e==="v"?_2e(t):B2e(t)},tee=function(e,t){return e==="v"?G2e(t):z2e(t)},H2e=function(e,t){return e==="h"&&t==="rtl"?-1:1},V2e=function(e,t,n,i,r){var s=H2e(e,window.getComputedStyle(t).direction),o=s*i,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var p=tee(e,a),m=p[0],v=p[1],y=p[2],C=v-y-s*m;(m||C)&&eee(e,a)&&(d+=C,h+=m);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},UD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},F6=function(e){return[e.deltaX,e.deltaY]},_6=function(e){return e&&"current"in e?e.current:e},U2e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},W2e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j2e=0,JC=[];function $2e(e){var t=I.useRef([]),n=I.useRef([0,0]),i=I.useRef(),r=I.useState(j2e++)[0],s=I.useState(QJ)[0],o=I.useRef(e);I.useEffect(function(){o.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var v=f2e([e.lockRef.current],(e.shards||[]).map(_6),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var a=I.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var C=UD(v),S=n.current,x="deltaX"in v?v.deltaX:S[0]-C[0],R="deltaY"in v?v.deltaY:S[1]-C[1],A,T=v.target,L=Math.abs(x)>Math.abs(R)?"h":"v";if("touches"in v&&L==="h"&&T.type==="range")return!1;var O=P6(L,T);if(!O)return!0;if(O?A=L:(A=L==="v"?"h":"v",O=P6(L,T)),!O)return!1;if(!i.current&&"changedTouches"in v&&(x||R)&&(i.current=A),!A)return!0;var F=i.current||A;return V2e(F,y,v,F==="h"?x:R)},[]),l=I.useCallback(function(v){var y=v;if(!(!JC.length||JC[JC.length-1]!==s)){var C="deltaY"in y?F6(y):UD(y),S=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&U2e(A.delta,C)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var x=(o.current.shards||[]).map(_6).filter(Boolean).filter(function(A){return A.contains(y.target)}),R=x.length>0?a(y,x[0]):!o.current.noIsolation;R&&y.cancelable&&y.preventDefault()}}},[]),c=I.useCallback(function(v,y,C,S){var x={name:v,delta:y,target:C,should:S,shadowParent:Y2e(C)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(R){return R!==x})},1)},[]),u=I.useCallback(function(v){n.current=UD(v),i.current=void 0},[]),d=I.useCallback(function(v){c(v.type,F6(v),v.target,a(v,e.lockRef.current))},[]),h=I.useCallback(function(v){c(v.type,UD(v),v.target,a(v,e.lockRef.current))},[]);I.useEffect(function(){return JC.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,QC),document.addEventListener("touchmove",l,QC),document.addEventListener("touchstart",u,QC),function(){JC=JC.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,QC),document.removeEventListener("touchmove",l,QC),document.removeEventListener("touchstart",u,QC)}},[]);var p=e.removeScrollBar,m=e.inert;return I.createElement(I.Fragment,null,m?I.createElement(s,{styles:W2e(r)}):null,p?I.createElement(P2e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Y2e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const K2e=S2e(XJ,$2e);var eO=I.forwardRef(function(e,t){return I.createElement(Jk,fd({},e,{ref:t,sideCar:K2e}))});eO.classNames=Jk.classNames;var tO="Popover",[nee,L6e]=jg(tO,[oS]),M1=oS(),[q2e,$g]=nee(tO),iee=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!1}=e,a=M1(t),l=I.useRef(null),[c,u]=I.useState(!1),[d,h]=bw({prop:i,defaultProp:r??!1,onChange:s,caller:tO});return B.jsx(mV,{...a,children:B.jsx(q2e,{scope:t,contentId:mg(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:I.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:I.useCallback(()=>u(!0),[]),onCustomAnchorRemove:I.useCallback(()=>u(!1),[]),modal:o,children:n})})};iee.displayName=tO;var ree="PopoverAnchor",Z2e=I.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=$g(ree,n),s=M1(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=r;return I.useEffect(()=>(o(),()=>a()),[o,a]),B.jsx(Qk,{...s,...i,ref:t})});Z2e.displayName=ree;var see="PopoverTrigger",oee=I.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=$g(see,n),s=M1(n),o=Si(t,r.triggerRef),a=B.jsx(Xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":dee(r.open),...i,ref:o,onClick:bn(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:B.jsx(Qk,{asChild:!0,...s,children:a})});oee.displayName=see;var bV="PopoverPortal",[X2e,Q2e]=nee(bV,{forceMount:void 0}),aee=e=>{const{__scopePopover:t,forceMount:n,children:i,container:r}=e,s=$g(bV,t);return B.jsx(X2e,{scope:t,forceMount:n,children:B.jsx(Of,{present:n||s.open,children:B.jsx(x1,{asChild:!0,container:r,children:i})})})};aee.displayName=bV;var ww="PopoverContent",lee=I.forwardRef((e,t)=>{const n=Q2e(ww,e.__scopePopover),{forceMount:i=n.forceMount,...r}=e,s=$g(ww,e.__scopePopover);return B.jsx(Of,{present:i||s.open,children:s.modal?B.jsx(e_e,{...r,ref:t}):B.jsx(t_e,{...r,ref:t})})});lee.displayName=ww;var J2e=Ry("PopoverContent.RemoveScroll"),e_e=I.forwardRef((e,t)=>{const n=$g(ww,e.__scopePopover),i=I.useRef(null),r=Si(t,i),s=I.useRef(!1);return I.useEffect(()=>{const o=i.current;if(o)return CV(o)},[]),B.jsx(eO,{as:J2e,allowPinchZoom:!0,children:B.jsx(cee,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bn(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:bn(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:bn(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),t_e=I.forwardRef((e,t)=>{const n=$g(ww,e.__scopePopover),i=I.useRef(!1),r=I.useRef(!1);return B.jsx(cee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(i.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),cee=I.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,h=$g(ww,n),p=M1(n);return oV(),B.jsx(Kk,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:B.jsx(w1,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:B.jsx(vV,{"data-state":dee(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uee="PopoverClose",n_e=I.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=$g(uee,n);return B.jsx(Xn.button,{type:"button",...i,ref:t,onClick:bn(e.onClick,()=>r.onOpenChange(!1))})});n_e.displayName=uee;var i_e="PopoverArrow",r_e=I.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=M1(n);return B.jsx(yV,{...r,...i,ref:t})});r_e.displayName=i_e;function dee(e){return e?"open":"closed"}var s_e=iee,o_e=oee,a_e=aee,l_e=lee;function wV({...e}){return B.jsx(s_e,{"data-slot":"popover",...e})}function SV({...e}){return B.jsx(o_e,{"data-slot":"popover-trigger",...e})}function xV({className:e,align:t="center",sideOffset:n=4,...i}){return B.jsx(a_e,{children:B.jsx(l_e,{"data-slot":"popover-content",align:t,sideOffset:n,className:Nt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}function B6(e,t,n){const i=Vke(),r=d_e(e,n.timeZone,n.locale??i.locale);return"formatToParts"in r?c_e(r,t):u_e(r,t)}function c_e(e,t){const n=e.formatToParts(t);for(let i=n.length-1;i>=0;--i)if(n[i].type==="timeZoneName")return n[i].value}function u_e(e,t){const n=e.format(t).replace(/\u200E/g,""),i=/ [\w-+ ]+$/.exec(n);return i?i[0].substr(1):""}function d_e(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function h_e(e,t){const n=v_e(t);return"formatToParts"in n?p_e(n,e):g_e(n,e)}const f_e={year:0,month:1,day:2,hour:3,minute:4,second:5};function p_e(e,t){try{const n=e.formatToParts(t),i=[];for(let r=0;r<n.length;r++){const s=f_e[n[r].type];s!==void 0&&(i[s]=parseInt(n[r].value,10))}return i}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function g_e(e,t){const n=e.format(t),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(i[3],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10)]}const k2={},G6=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),m_e=G6==="06/25/2014, 00:00:00"||G6==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function v_e(e){return k2[e]||(k2[e]=m_e?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),k2[e]}function hee(e,t,n,i,r,s,o){const a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,r,s,o),a}const z6=36e5,y_e=6e4,O2={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function MV(e,t,n){if(!e)return 0;let i=O2.timezoneZ.exec(e);if(i)return 0;let r,s;if(i=O2.timezoneHH.exec(e),i)return r=parseInt(i[1],10),H6(r)?-(r*z6):NaN;if(i=O2.timezoneHHMM.exec(e),i){r=parseInt(i[2],10);const o=parseInt(i[3],10);return H6(r,o)?(s=Math.abs(r)*z6+o*y_e,i[1]==="+"?-s:s):NaN}if(w_e(e)){t=new Date(t||Date.now());const o=n?t:C_e(t),a=hG(o,e);return-(n?a:b_e(t,a,e))}return NaN}function C_e(e){return hee(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function hG(e,t){const n=h_e(e,t),i=hee(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=e.getTime();const s=r%1e3;return r-=s>=0?s:1e3+s,i-r}function b_e(e,t,n){let r=e.getTime()-t;const s=hG(new Date(r),n);if(t===s)return t;r-=s-t;const o=hG(new Date(r),n);return s===o?s:Math.max(s,o)}function H6(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const V6={};function w_e(e){if(V6[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),V6[e]=!0,!0}catch{return!1}}const S_e=60*1e3,x_e={X:function(e,t,n){const i=P2(n.timeZone,e);if(i===0)return"Z";switch(t){case"X":return U6(i);case"XXXX":case"XX":return fb(i);case"XXXXX":case"XXX":default:return fb(i,":")}},x:function(e,t,n){const i=P2(n.timeZone,e);switch(t){case"x":return U6(i);case"xxxx":case"xx":return fb(i);case"xxxxx":case"xxx":default:return fb(i,":")}},O:function(e,t,n){const i=P2(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+M_e(i,":");case"OOOO":default:return"GMT"+fb(i,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return B6("short",e,n);case"zzzz":default:return B6("long",e,n)}}};function P2(e,t){const n=e?MV(e,t,!0)/S_e:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function eL(e,t){const n=e<0?"-":"";let i=Math.abs(e).toString();for(;i.length<t;)i="0"+i;return n+i}function fb(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=eL(Math.floor(i/60),2),s=eL(Math.floor(i%60),2);return n+r+t+s}function U6(e,t){return e%60===0?(e>0?"-":"+")+eL(Math.abs(e)/60,2):fb(e,t)}function M_e(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),s=i%60;return s===0?n+String(r):n+String(r)+t+eL(s,2)}function W6(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const E_e=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,F2=36e5,j6=6e4,R_e=2,ia={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:E_e};function bb(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?R_e:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const i=A_e(e),{year:r,restDateString:s}=T_e(i.date,n),o=D_e(s,r);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,c;if(i.time&&(l=I_e(i.time),l===null||isNaN(l)))return new Date(NaN);if(i.timeZone||t.timeZone){if(c=MV(i.timeZone||t.timeZone,new Date(a+l)),isNaN(c))return new Date(NaN)}else c=W6(new Date(a+l)),c=W6(new Date(a+l+c));return new Date(a+l+c)}else return new Date(NaN)}function A_e(e){const t={};let n=ia.dateTimePattern.exec(e),i;if(n?(t.date=n[1],i=n[3]):(n=ia.datePattern.exec(e),n?(t.date=n[1],i=n[2]):(t.date=null,i=e)),i){const r=ia.timeZone.exec(i);r?(t.time=i.replace(r[1],""),t.timeZone=r[1].trim()):t.time=i}return t}function T_e(e,t){if(e){const n=ia.YYY[t],i=ia.YYYYY[t];let r=ia.YYYY.exec(e)||i.exec(e);if(r){const s=r[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(r=ia.YY.exec(e)||n.exec(e),r){const s=r[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}}return{year:null}}function D_e(e,t){if(t===null)return null;let n,i,r;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let s=ia.MM.exec(e);if(s)return n=new Date(0),i=parseInt(s[1],10)-1,Y6(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(s=ia.DDD.exec(e),s){n=new Date(0);const o=parseInt(s[1],10);return k_e(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(s=ia.MMDD.exec(e),s){n=new Date(0),i=parseInt(s[1],10)-1;const o=parseInt(s[2],10);return Y6(t,i,o)?(n.setUTCFullYear(t,i,o),n):new Date(NaN)}if(s=ia.Www.exec(e),s)return r=parseInt(s[1],10)-1,K6(r)?$6(t,r):new Date(NaN);if(s=ia.WwwD.exec(e),s){r=parseInt(s[1],10)-1;const o=parseInt(s[2],10)-1;return K6(r,o)?$6(t,r,o):new Date(NaN)}return null}function I_e(e){let t,n,i=ia.HH.exec(e);if(i)return t=parseFloat(i[1].replace(",",".")),_2(t)?t%24*F2:NaN;if(i=ia.HHMM.exec(e),i)return t=parseInt(i[1],10),n=parseFloat(i[2].replace(",",".")),_2(t,n)?t%24*F2+n*j6:NaN;if(i=ia.HHMMSS.exec(e),i){t=parseInt(i[1],10),n=parseInt(i[2],10);const r=parseFloat(i[3].replace(",","."));return _2(t,n,r)?t%24*F2+n*j6+r*1e3:NaN}return null}function $6(e,t,n){t=t||0,n=n||0;const i=new Date(0);i.setUTCFullYear(e,0,4);const r=i.getUTCDay()||7,s=t*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const N_e=[31,28,31,30,31,30,31,31,30,31,30,31],L_e=[31,29,31,30,31,30,31,31,30,31,30,31];function fee(e){return e%400===0||e%4===0&&e%100!==0}function Y6(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const i=fee(e);if(i&&n>L_e[t]||!i&&n>N_e[t])return!1}return!0}function k_e(e,t){if(t<1)return!1;const n=fee(e);return!(n&&t>366||!n&&t>365)}function K6(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function _2(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const O_e=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function P_e(e,t,n={}){t=String(t);const i=t.match(O_e);if(i){const r=bb(n.originalDate||e,n);t=i.reduce(function(s,o){if(o[0]==="'")return s;const a=s.indexOf(o),l=s[a-1]==="'",c=s.replace(o,"'"+x_e[o[0]](r,o,n)+"'");return l?c.substring(0,a-1)+c.substring(a+1):c},t)}return Er(e,t,n)}function F_e(e,t,n){e=bb(e,n);const i=MV(t,e,!0),r=new Date(e.getTime()-i),s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}function __e(e,t,n,i){return i={...i,timeZone:t,originalDate:e},P_e(F_e(e,t,{timeZone:i.timeZone}),n,i)}const Pc={THIS_WEEK:"이번 주",LAST_WEEK:"지난 주",LAST_7_DAYS:"최근 7일간",THIS_MONTH:"이번 달",LAST_MONTH:"지난 달",LAST_2_MONTHS:"2개월 전",THIS_YEAR:"올해",LAST_YEAR:"작년"},B_e=({onDateSelect:e,computedMaxDate:t,isDashboard:n=!1})=>{const i=new Date,[r,s]=I.useState(!1),[o,a]=I.useState(iJ(t,i)?Pc.THIS_MONTH:null),[l,c]=I.useState(new Date),u=Intl.DateTimeFormat().resolvedOptions().timeZone,d=()=>s(!1),h=()=>s(H=>!H),p=(H,W)=>{const $=Ty(bb(H,{timeZone:u})),Z=c6(bb(W,{timeZone:u}));e({from:$,to:Z}),c(Wh($))},m=H=>{if(H){let W=Ty(bb(H.from,{timeZone:u})),$=H.to?c6(bb(H.to,{timeZone:u})):W;e({from:W,to:$})}a(null)},v=Ay(i,{weekStartsOn:1}),y=Wh(i),C=Mv(i,i.getDate()),S=Wh(C),x=oG(C),R=Mv(i,365),A=(H,W,$,Z=!1)=>({label:H,start:W,end:$,...Z&&{disabled:Z}}),T=[A(Pc.LAST_2_MONTHS,Wh(Mv(S,1)),oG(Mv(S,1))),A(Pc.LAST_MONTH,S,x),A(Pc.THIS_MONTH,y,t,t<y)],L=[A(Pc.THIS_WEEK,v,t,t<v),A(Pc.LAST_WEEK,Mv(v,7),Mv(tV(i,{weekStartsOn:1}),7)),A(Pc.LAST_7_DAYS,Mv(t,6),t),A(Pc.THIS_MONTH,y,t,t<y),A(Pc.LAST_MONTH,S,x),A(Pc.THIS_YEAR,qN(i),t),A(Pc.LAST_YEAR,qN(R),sJ(R))];return{isOpen:r,selectedOption:o,calendarMonth:l,dateRanges:n?T:L,setIsOpen:s,setSelectedOption:a,setCalendarMonth:c,handleClose:d,handleTogglePopover:h,selectDateRange:p,handleDateSelect:m,formatWithTz:(H,W)=>__e(H,u,W)}},nO=I.forwardRef(({className:e,date:t,onDateSelect:n,contentAlign:i="start",maxDateType:r,isDashboard:s,...o},a)=>{const l=I.useMemo(()=>r==="yesterday"?new Date(Date.now()-864e5):r==="today"?new Date:new Date,[r]),{isOpen:c,selectedOption:u,calendarMonth:d,dateRanges:h,setIsOpen:p,setSelectedOption:m,setCalendarMonth:v,handleClose:y,handleTogglePopover:C,selectDateRange:S,handleDateSelect:x,formatWithTz:R}=B_e({onDateSelect:n,computedMaxDate:l,isDashboard:s});return B.jsx(B.Fragment,{children:B.jsxs(wV,{open:c,onOpenChange:p,children:[B.jsx(SV,{asChild:!0,children:B.jsxs(no,{id:"date",ref:a,variant:"outline",className:"hover:border-primary group text-contrast/70 flex w-[230px] justify-between",onClick:C,suppressHydrationWarning:!0,...o,children:[B.jsx(WQ,{className:"group-hover:text-primary h-4 w-4 transition-colors duration-200"}),B.jsx("span",{className:"group-hover:text-primary flex-1 transition-colors duration-200",children:t!=null&&t.from&&(t!=null&&t.to)?B.jsxs(B.Fragment,{children:[B.jsx("span",{children:R(t.from,"yyyy-MM-dd")})," ~ ",B.jsx("span",{children:R(t.to,"yyyy-MM-dd")})]}):B.jsx("span",{className:"text-contrast/30",children:"기간을 선택해주세요"})})]})}),c&&B.jsx(xV,{className:"bg-background w-auto",align:i,avoidCollisions:!1,onInteractOutside:y,onEscapeKeyDown:y,style:{maxHeight:"var(--radix-popover-content-available-height)",overflowY:"auto"},children:B.jsxs("div",{className:"flex",children:[B.jsx("div",{className:"border-foreground/10 flex flex-col gap-1 border-r pr-4 text-left",children:h.map(({label:A,start:T,end:L,disabled:O})=>B.jsx(no,{variant:"ghost",size:"sm",disabled:O,className:Nt("bg-foreground text-contrast justify-start",u===A&&"bg-gray-200 text-gray-900"),onClick:()=>{S(T,L),m(A)},children:A},A))}),B.jsx(sV,{mode:"range",selected:t,onSelect:x,numberOfMonths:2,showOutsideDays:!1,className:Nt("text-contrast",e),month:d,onMonthChange:v,disabled:l?{after:l}:void 0})]})})]})})});function q6(e,[t,n]){return Math.min(n,Math.max(t,e))}function G_e(e){const t=e+"CollectionProvider",[n,i]=jg(t),[r,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:C}=v,S=Ce.useRef(null),x=Ce.useRef(new Map).current;return B.jsx(r,{scope:y,itemMap:x,collectionRef:S,children:C})};o.displayName=t;const a=e+"CollectionSlot",l=Ry(a),c=Ce.forwardRef((v,y)=>{const{scope:C,children:S}=v,x=s(a,C),R=Si(y,x.collectionRef);return B.jsx(l,{ref:R,children:S})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ry(u),p=Ce.forwardRef((v,y)=>{const{scope:C,children:S,...x}=v,R=Ce.useRef(null),A=Si(y,R),T=s(u,C);return Ce.useEffect(()=>(T.itemMap.set(R,{ref:R,...x}),()=>void T.itemMap.delete(R))),B.jsx(h,{[d]:"",ref:A,children:S})});p.displayName=u;function m(v){const y=s(e+"CollectionConsumer",v);return Ce.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,L)=>x.indexOf(T.ref.current)-x.indexOf(L.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,i]}var z_e=I.createContext(void 0);function H_e(e){const t=I.useContext(z_e);return e||t||"ltr"}function pee(e){const t=I.useRef({value:e,previous:e});return I.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gee=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V_e="VisuallyHidden",mee=I.forwardRef((e,t)=>B.jsx(Xn.span,{...e,ref:t,style:{...gee,...e.style}}));mee.displayName=V_e;var U_e=mee,W_e=[" ","Enter","ArrowUp","ArrowDown"],j_e=[" ","Enter"],Ny="Select",[iO,rO,$_e]=G_e(Ny),[aS,k6e]=jg(Ny,[$_e,oS]),sO=oS(),[Y_e,Yg]=aS(Ny),[K_e,q_e]=aS(Ny),vee=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:r,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:m}=e,v=sO(t),[y,C]=I.useState(null),[S,x]=I.useState(null),[R,A]=I.useState(!1),T=H_e(c),[L,O]=bw({prop:i,defaultProp:r??!1,onChange:s,caller:Ny}),[F,H]=bw({prop:o,defaultProp:a,onChange:l,caller:Ny}),W=I.useRef(null),$=y?m||!!y.closest("form"):!0,[Z,ie]=I.useState(new Set),oe=Array.from(Z).map(te=>te.props.value).join(";");return B.jsx(mV,{...v,children:B.jsxs(Y_e,{required:p,scope:t,trigger:y,onTriggerChange:C,valueNode:S,onValueNodeChange:x,valueNodeHasChildren:R,onValueNodeHasChildrenChange:A,contentId:mg(),value:F,onValueChange:H,open:L,onOpenChange:O,dir:T,triggerPointerDownPosRef:W,disabled:h,children:[B.jsx(iO.Provider,{scope:t,children:B.jsx(K_e,{scope:e.__scopeSelect,onNativeOptionAdd:I.useCallback(te=>{ie(ae=>new Set(ae).add(te))},[]),onNativeOptionRemove:I.useCallback(te=>{ie(ae=>{const ne=new Set(ae);return ne.delete(te),ne})},[]),children:n})}),$?B.jsxs(Gee,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:F,onChange:te=>H(te.target.value),disabled:h,form:m,children:[F===void 0?B.jsx("option",{value:""}):null,Array.from(Z)]},oe):null]})})};vee.displayName=Ny;var yee="SelectTrigger",Cee=I.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...r}=e,s=sO(n),o=Yg(yee,n),a=o.disabled||i,l=Si(t,o.onTriggerChange),c=rO(n),u=I.useRef("touch"),[d,h,p]=Hee(v=>{const y=c().filter(x=>!x.disabled),C=y.find(x=>x.value===o.value),S=Vee(y,v,C);S!==void 0&&o.onValueChange(S.value)}),m=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return B.jsx(Qk,{asChild:!0,...s,children:B.jsx(Xn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":zee(o.value)?"":void 0,...r,ref:l,onClick:bn(r.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&m(v)}),onPointerDown:bn(r.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(m(v),v.preventDefault())}),onKeyDown:bn(r.onKeyDown,v=>{const y=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&W_e.includes(v.key)&&(m(),v.preventDefault())})})})});Cee.displayName=yee;var bee="SelectValue",wee=I.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:o="",...a}=e,l=Yg(bee,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Si(t,l.onValueNodeChange);return ko(()=>{c(u)},[c,u]),B.jsx(Xn.span,{...a,ref:d,style:{pointerEvents:"none"},children:zee(l.value)?B.jsx(B.Fragment,{children:o}):s})});wee.displayName=bee;var Z_e="SelectIcon",See=I.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...r}=e;return B.jsx(Xn.span,{"aria-hidden":!0,...r,ref:t,children:i||"▼"})});See.displayName=Z_e;var X_e="SelectPortal",xee=e=>B.jsx(x1,{asChild:!0,...e});xee.displayName=X_e;var Ly="SelectContent",Mee=I.forwardRef((e,t)=>{const n=Yg(Ly,e.__scopeSelect),[i,r]=I.useState();if(ko(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?Fy.createPortal(B.jsx(Eee,{scope:e.__scopeSelect,children:B.jsx(iO.Slot,{scope:e.__scopeSelect,children:B.jsx("div",{children:e.children})})}),s):null}return B.jsx(Ree,{...e,ref:t})});Mee.displayName=Ly;var Gc=10,[Eee,Kg]=aS(Ly),Q_e="SelectContentImpl",J_e=Ry("SelectContent.RemoveScroll"),Ree=I.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y,...C}=e,S=Yg(Ly,n),[x,R]=I.useState(null),[A,T]=I.useState(null),L=Si(t,ue=>R(ue)),[O,F]=I.useState(null),[H,W]=I.useState(null),$=rO(n),[Z,ie]=I.useState(!1),oe=I.useRef(!1);I.useEffect(()=>{if(x)return CV(x)},[x]),oV();const te=I.useCallback(ue=>{const[J,...he]=$().map(Re=>Re.ref.current),[Te]=he.slice(-1),ve=document.activeElement;for(const Re of ue)if(Re===ve||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===J&&A&&(A.scrollTop=0),Re===Te&&A&&(A.scrollTop=A.scrollHeight),Re==null||Re.focus(),document.activeElement!==ve))return},[$,A]),ae=I.useCallback(()=>te([O,x]),[te,O,x]);I.useEffect(()=>{Z&&ae()},[Z,ae]);const{onOpenChange:ne,triggerPointerDownPosRef:Se}=S;I.useEffect(()=>{if(x){let ue={x:0,y:0};const J=Te=>{var ve,Re;ue={x:Math.abs(Math.round(Te.pageX)-(((ve=Se.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Re=Se.current)==null?void 0:Re.y)??0))}},he=Te=>{ue.x<=10&&ue.y<=10?Te.preventDefault():x.contains(Te.target)||ne(!1),document.removeEventListener("pointermove",J),Se.current=null};return Se.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",he,{capture:!0})}}},[x,ne,Se]),I.useEffect(()=>{const ue=()=>ne(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[ne]);const[q,re]=Hee(ue=>{const J=$().filter(ve=>!ve.disabled),he=J.find(ve=>ve.ref.current===document.activeElement),Te=Vee(J,ue,he);Te&&setTimeout(()=>Te.ref.current.focus())}),K=I.useCallback((ue,J,he)=>{const Te=!oe.current&&!he;(S.value!==void 0&&S.value===J||Te)&&(F(ue),Te&&(oe.current=!0))},[S.value]),V=I.useCallback(()=>x==null?void 0:x.focus(),[x]),G=I.useCallback((ue,J,he)=>{const Te=!oe.current&&!he;(S.value!==void 0&&S.value===J||Te)&&W(ue)},[S.value]),se=i==="popper"?fG:Aee,Y=se===fG?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y}:{};return B.jsx(Eee,{scope:n,content:x,viewport:A,onViewportChange:T,itemRefCallback:K,selectedItem:O,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:ae,selectedItemText:H,position:i,isPositioned:Z,searchRef:q,children:B.jsx(eO,{as:J_e,allowPinchZoom:!0,children:B.jsx(Kk,{asChild:!0,trapped:S.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:bn(r,ue=>{var J;(J=S.trigger)==null||J.focus({preventScroll:!0}),ue.preventDefault()}),children:B.jsx(w1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:B.jsx(se,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ue=>ue.preventDefault(),...C,...Y,onPlaced:()=>ie(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:bn(C.onKeyDown,ue=>{const J=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!J&&ue.key.length===1&&re(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Te=$().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const ve=ue.target,Re=Te.indexOf(ve);Te=Te.slice(Re+1)}setTimeout(()=>te(Te)),ue.preventDefault()}})})})})})})});Ree.displayName=Q_e;var eBe="SelectItemAlignedPosition",Aee=I.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...r}=e,s=Yg(Ly,n),o=Kg(Ly,n),[a,l]=I.useState(null),[c,u]=I.useState(null),d=Si(t,L=>u(L)),h=rO(n),p=I.useRef(!1),m=I.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:C,focusSelectedItem:S}=o,x=I.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&y&&C){const L=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),H=C.getBoundingClientRect();if(s.dir!=="rtl"){const ve=H.left-O.left,Re=F.left-ve,ke=L.left-Re,He=L.width+ke,st=Math.max(He,O.width),Dt=window.innerWidth-Gc,ot=q6(Re,[Gc,Math.max(Gc,Dt-st)]);a.style.minWidth=He+"px",a.style.left=ot+"px"}else{const ve=O.right-H.right,Re=window.innerWidth-F.right-ve,ke=window.innerWidth-L.right-Re,He=L.width+ke,st=Math.max(He,O.width),Dt=window.innerWidth-Gc,ot=q6(Re,[Gc,Math.max(Gc,Dt-st)]);a.style.minWidth=He+"px",a.style.right=ot+"px"}const W=h(),$=window.innerHeight-Gc*2,Z=v.scrollHeight,ie=window.getComputedStyle(c),oe=parseInt(ie.borderTopWidth,10),te=parseInt(ie.paddingTop,10),ae=parseInt(ie.borderBottomWidth,10),ne=parseInt(ie.paddingBottom,10),Se=oe+te+Z+ne+ae,q=Math.min(y.offsetHeight*5,Se),re=window.getComputedStyle(v),K=parseInt(re.paddingTop,10),V=parseInt(re.paddingBottom,10),G=L.top+L.height/2-Gc,se=$-G,Y=y.offsetHeight/2,ue=y.offsetTop+Y,J=oe+te+ue,he=Se-J;if(J<=G){const ve=W.length>0&&y===W[W.length-1].ref.current;a.style.bottom="0px";const Re=c.clientHeight-v.offsetTop-v.offsetHeight,ke=Math.max(se,Y+(ve?V:0)+Re+ae),He=J+ke;a.style.height=He+"px"}else{const ve=W.length>0&&y===W[0].ref.current;a.style.top="0px";const ke=Math.max(G,oe+v.offsetTop+(ve?K:0)+Y)+he;a.style.height=ke+"px",v.scrollTop=J-G+v.offsetTop}a.style.margin=`${Gc}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=$+"px",i==null||i(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,a,c,v,y,C,s.dir,i]);ko(()=>x(),[x]);const[R,A]=I.useState();ko(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const T=I.useCallback(L=>{L&&m.current===!0&&(x(),S==null||S(),m.current=!1)},[x,S]);return B.jsx(nBe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:B.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:B.jsx(Xn.div,{...r,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});Aee.displayName=eBe;var tBe="SelectPopperPosition",fG=I.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=Gc,...s}=e,o=sO(n);return B.jsx(vV,{...o,...s,ref:t,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fG.displayName=tBe;var[nBe,EV]=aS(Ly,{}),pG="SelectViewport",Tee=I.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...r}=e,s=Kg(pG,n),o=EV(pG,n),a=Si(t,s.onViewportChange),l=I.useRef(0);return B.jsxs(B.Fragment,{children:[B.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),B.jsx(iO.Slot,{scope:n,children:B.jsx(Xn.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:bn(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const m=window.innerHeight-Gc*2,v=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),C=Math.max(v,y);if(C<m){const S=C+p,x=Math.min(m,S),R=S-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=R>0?R:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Tee.displayName=pG;var Dee="SelectGroup",[iBe,rBe]=aS(Dee),sBe=I.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=mg();return B.jsx(iBe,{scope:n,id:r,children:B.jsx(Xn.div,{role:"group","aria-labelledby":r,...i,ref:t})})});sBe.displayName=Dee;var Iee="SelectLabel",oBe=I.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=rBe(Iee,n);return B.jsx(Xn.div,{id:r.id,...i,ref:t})});oBe.displayName=Iee;var tL="SelectItem",[aBe,Nee]=aS(tL),Lee=I.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...o}=e,a=Yg(tL,n),l=Kg(tL,n),c=a.value===i,[u,d]=I.useState(s??""),[h,p]=I.useState(!1),m=Si(t,S=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,S,i,r)}),v=mg(),y=I.useRef("touch"),C=()=>{r||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return B.jsx(aBe,{scope:n,value:i,disabled:r,textId:v,isSelected:c,onItemTextChange:I.useCallback(S=>{d(x=>x||((S==null?void 0:S.textContent)??"").trim())},[]),children:B.jsx(iO.ItemSlot,{scope:n,value:i,disabled:r,textValue:u,children:B.jsx(Xn.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:m,onFocus:bn(o.onFocus,()=>p(!0)),onBlur:bn(o.onBlur,()=>p(!1)),onClick:bn(o.onClick,()=>{y.current!=="mouse"&&C()}),onPointerUp:bn(o.onPointerUp,()=>{y.current==="mouse"&&C()}),onPointerDown:bn(o.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:bn(o.onPointerMove,S=>{var x;y.current=S.pointerType,r?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bn(o.onPointerLeave,S=>{var x;S.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:bn(o.onKeyDown,S=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&S.key===" "||(j_e.includes(S.key)&&C(),S.key===" "&&S.preventDefault())})})})})});Lee.displayName=tL;var zM="SelectItemText",kee=I.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:r,...s}=e,o=Yg(zM,n),a=Kg(zM,n),l=Nee(zM,n),c=q_e(zM,n),[u,d]=I.useState(null),h=Si(t,C=>d(C),l.onItemTextChange,C=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,C,l.value,l.disabled)}),p=u==null?void 0:u.textContent,m=I.useMemo(()=>B.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=c;return ko(()=>(v(m),()=>y(m)),[v,y,m]),B.jsxs(B.Fragment,{children:[B.jsx(Xn.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fy.createPortal(s.children,o.valueNode):null]})});kee.displayName=zM;var Oee="SelectItemIndicator",Pee=I.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return Nee(Oee,n).isSelected?B.jsx(Xn.span,{"aria-hidden":!0,...i,ref:t}):null});Pee.displayName=Oee;var gG="SelectScrollUpButton",Fee=I.forwardRef((e,t)=>{const n=Kg(gG,e.__scopeSelect),i=EV(gG,e.__scopeSelect),[r,s]=I.useState(!1),o=Si(t,i.onScrollButtonChange);return ko(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?B.jsx(Bee,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Fee.displayName=gG;var mG="SelectScrollDownButton",_ee=I.forwardRef((e,t)=>{const n=Kg(mG,e.__scopeSelect),i=EV(mG,e.__scopeSelect),[r,s]=I.useState(!1),o=Si(t,i.onScrollButtonChange);return ko(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?B.jsx(Bee,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});_ee.displayName=mG;var Bee=I.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=e,s=Kg("SelectScrollButton",n),o=I.useRef(null),a=rO(n),l=I.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return I.useEffect(()=>()=>l(),[l]),ko(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),B.jsx(Xn.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:bn(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:bn(r.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:bn(r.onPointerLeave,()=>{l()})})}),lBe="SelectSeparator",cBe=I.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return B.jsx(Xn.div,{"aria-hidden":!0,...i,ref:t})});cBe.displayName=lBe;var vG="SelectArrow",uBe=I.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=sO(n),s=Yg(vG,n),o=Kg(vG,n);return s.open&&o.position==="popper"?B.jsx(yV,{...r,...i,ref:t}):null});uBe.displayName=vG;var dBe="SelectBubbleInput",Gee=I.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const r=I.useRef(null),s=Si(i,r),o=pee(t);return I.useEffect(()=>{const a=r.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),B.jsx(Xn.select,{...n,style:{...gee,...n.style},ref:s,defaultValue:t})});Gee.displayName=dBe;function zee(e){return e===""||e===void 0}function Hee(e){const t=Dy(e),n=I.useRef(""),i=I.useRef(0),r=I.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=I.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function Vee(e,t,n){const r=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=hBe(e,Math.max(s,0));r.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function hBe(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var fBe=vee,pBe=Cee,gBe=wee,mBe=See,vBe=xee,yBe=Mee,CBe=Tee,bBe=Lee,wBe=kee,SBe=Pee,xBe=Fee,MBe=_ee;function yG({...e}){return B.jsx(fBe,{"data-slot":"select",...e})}function CG({...e}){return B.jsx(gBe,{"data-slot":"select-value",...e})}function bG({className:e,size:t="default",children:n,...i}){return B.jsxs(pBe,{"data-slot":"select-trigger","data-size":t,className:Nt("border-border data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-7 data-[size=sm]:px-2 data-[size=sm]:py-0.5 data-[size=sm]:text-xs",e),...i,children:[n,B.jsx(mBe,{asChild:!0,children:B.jsx(JH,{className:"size-4 opacity-50"})})]})}function wG({className:e,children:t,position:n="popper",disablePortal:i,...r}){const s=B.jsxs(yBe,{"data-slot":"select-content",className:Nt("bg-background text-contrast data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 border-border relative z-50 max-h-48 min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:translate-x-0 data-[side=right]:translate-x-0 data-[side=top]:-translate-y-1",e),position:n,collisionPadding:0,...r,children:[B.jsx(EBe,{}),B.jsx(CBe,{className:Nt("w-full min-w-[var(--radix-select-trigger-width)] p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] scroll-my-1"),children:t}),B.jsx(RBe,{})]});return i?s:B.jsx(vBe,{children:s})}function wb({className:e,children:t,...n}){return B.jsxs(bBe,{"data-slot":"select-item",className:Nt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[B.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:B.jsx(SBe,{children:B.jsx(jQ,{className:"size-4"})})}),B.jsx(wBe,{children:t})]})}function EBe({className:e,...t}){return B.jsx(xBe,{"data-slot":"select-scroll-up-button",className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:B.jsx(pLe,{className:"size-4"})})}function RBe({className:e,...t}){return B.jsx(MBe,{"data-slot":"select-scroll-down-button",className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:B.jsx(JH,{className:"size-4"})})}function nL({size:e="md",className:t=""}){const n={sm:"w-0.5 h-3",md:"w-1 h-4",lg:"w-1 h-6"},i={sm:"gap-1",md:"gap-1",lg:"gap-2"};return B.jsx("div",{className:`flex h-[32px] items-center justify-center ${t}`,children:B.jsxs("div",{className:`flex items-end ${i[e]}`,children:[B.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"0ms",animationDuration:"1s"}}),B.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"200ms",animationDuration:"1s"}}),B.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"400ms",animationDuration:"1s"}}),B.jsx("div",{className:`${n[e]} animate-pulse rounded bg-gray-400 dark:bg-gray-600`,style:{animationDelay:"600ms",animationDuration:"1s"}})]})})}var[oO,O6e]=jg("Tooltip",[oS]),aO=oS(),Uee="TooltipProvider",ABe=700,SG="tooltip.open",[TBe,RV]=oO(Uee),Wee=e=>{const{__scopeTooltip:t,delayDuration:n=ABe,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=e,o=I.useRef(!0),a=I.useRef(!1),l=I.useRef(0);return I.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),B.jsx(TBe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:I.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};Wee.displayName=Uee;var rR="Tooltip",[DBe,E1]=oO(rR),jee=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,l=RV(rR,e.__scopeTooltip),c=aO(t),[u,d]=I.useState(null),h=mg(),p=I.useRef(0),m=o??l.disableHoverableContent,v=a??l.delayDuration,y=I.useRef(!1),[C,S]=bw({prop:i,defaultProp:r??!1,onChange:L=>{L?(l.onOpen(),document.dispatchEvent(new CustomEvent(SG))):l.onClose(),s==null||s(L)},caller:rR}),x=I.useMemo(()=>C?y.current?"delayed-open":"instant-open":"closed",[C]),R=I.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,S(!0)},[S]),A=I.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S(!1)},[S]),T=I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,S(!0),p.current=0},v)},[v,S]);return I.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),B.jsx(mV,{...c,children:B.jsx(DBe,{scope:t,contentId:h,open:C,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:I.useCallback(()=>{l.isOpenDelayedRef.current?T():R()},[l.isOpenDelayedRef,T,R]),onTriggerLeave:I.useCallback(()=>{m?A():(window.clearTimeout(p.current),p.current=0)},[A,m]),onOpen:R,onClose:A,disableHoverableContent:m,children:n})})};jee.displayName=rR;var xG="TooltipTrigger",$ee=I.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,r=E1(xG,n),s=RV(xG,n),o=aO(n),a=I.useRef(null),l=Si(t,a,r.onTriggerChange),c=I.useRef(!1),u=I.useRef(!1),d=I.useCallback(()=>c.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),B.jsx(Qk,{asChild:!0,...o,children:B.jsx(Xn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:bn(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:bn(e.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:bn(e.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:bn(e.onFocus,()=>{c.current||r.onOpen()}),onBlur:bn(e.onBlur,r.onClose),onClick:bn(e.onClick,r.onClose)})})});$ee.displayName=xG;var AV="TooltipPortal",[IBe,NBe]=oO(AV,{forceMount:void 0}),Yee=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:r}=e,s=E1(AV,t);return B.jsx(IBe,{scope:t,forceMount:n,children:B.jsx(Of,{present:n||s.open,children:B.jsx(x1,{asChild:!0,container:r,children:i})})})};Yee.displayName=AV;var Sw="TooltipContent",Kee=I.forwardRef((e,t)=>{const n=NBe(Sw,e.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=e,o=E1(Sw,e.__scopeTooltip);return B.jsx(Of,{present:i||o.open,children:o.disableHoverableContent?B.jsx(qee,{side:r,...s,ref:t}):B.jsx(LBe,{side:r,...s,ref:t})})}),LBe=I.forwardRef((e,t)=>{const n=E1(Sw,e.__scopeTooltip),i=RV(Sw,e.__scopeTooltip),r=I.useRef(null),s=Si(t,r),[o,a]=I.useState(null),{trigger:l,onClose:c}=n,u=r.current,{onPointerInTransitChange:d}=i,h=I.useCallback(()=>{a(null),d(!1)},[d]),p=I.useCallback((m,v)=>{const y=m.currentTarget,C={x:m.clientX,y:m.clientY},S=FBe(C,y.getBoundingClientRect()),x=_Be(C,S),R=BBe(v.getBoundingClientRect()),A=zBe([...x,...R]);a(A),d(!0)},[d]);return I.useEffect(()=>()=>h(),[h]),I.useEffect(()=>{if(l&&u){const m=y=>p(y,u),v=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",v)}}},[l,u,p,h]),I.useEffect(()=>{if(o){const m=v=>{const y=v.target,C={x:v.clientX,y:v.clientY},S=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),x=!GBe(C,o);S?h():x&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),B.jsx(qee,{...e,ref:s})}),[kBe,OBe]=oO(rR,{isInside:!1}),PBe=XQ("TooltipContent"),qee=I.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=e,l=E1(Sw,n),c=aO(n),{onClose:u}=l;return I.useEffect(()=>(document.addEventListener(SG,u),()=>document.removeEventListener(SG,u)),[u]),I.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),B.jsx(w1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:B.jsxs(vV,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(PBe,{children:i}),B.jsx(kBe,{scope:n,isInside:!0,children:B.jsx(U_e,{id:l.contentId,role:"tooltip",children:r||i})})]})})});Kee.displayName=Sw;var Zee="TooltipArrow",Xee=I.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,r=aO(n);return OBe(Zee,n).isInside?null:B.jsx(yV,{...r,...i,ref:t})});Xee.displayName=Zee;function FBe(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function _Be(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function BBe(e){const{top:t,right:n,bottom:i,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:i},{x:r,y:i}]}function GBe(e,t){const{x:n,y:i}=e;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],c=a.x,u=a.y,d=l.x,h=l.y;u>i!=h>i&&n<(d-c)*(i-u)/(h-u)+c&&(r=!r)}return r}function zBe(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),HBe(t)}function HBe(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const r=e[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const r=e[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var VBe=Wee,UBe=jee,WBe=$ee,jBe=Yee,$Be=Kee,YBe=Xee;function KBe({delayDuration:e=0,...t}){return B.jsx(VBe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function TV({...e}){return B.jsx(KBe,{children:B.jsx(UBe,{"data-slot":"tooltip",...e})})}function DV({...e}){return B.jsx(WBe,{"data-slot":"tooltip-trigger",...e})}function IV({className:e,sideOffset:t=0,children:n,...i}){return B.jsx(jBe,{children:B.jsxs($Be,{"data-slot":"tooltip-content",sideOffset:t,className:Nt("bg-background border-border animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md border px-3 py-1.5 text-xs text-balance",e),...i,children:[n,B.jsx(YBe,{className:"bg-background fill-background border-border z-50 size-2.5 translate-y-[calc(-50%)] rotate-45 rounded-[2px] border border-t-0 border-l-0"})]})})}const qBe=[{title:()=>"실시간 매출액",unit:"원",tooltip:()=>"금일 00시부터 현재까지의 실시간 매출액입니다.",id:"realtime_revenue",isHighlight:!0},{title:e=>e?"출고 매출액":"매출액",unit:"원",tooltip:e=>e?"금일 출고기준 매출액입니다.":"기간내 총 매출액입니다.",id:"total_revenue",isHighlight:!1},{title:e=>e?"주문 유저수":"평균 주문 유저수",unit:"명",tooltip:e=>e?"금일 출고기준 주문 유저수입니다.":"기간내 평균 주문 유저수입니다.",id:"average_user_count",isHighlight:!1},{title:()=>"평균 주문금액",unit:"원",tooltip:()=>"유저당 평균 주문금액입니다.",id:"average_order_amount",isHighlight:!1},{title:e=>e?"총 재고자산":"평균 재고자산",unit:"원",tooltip:e=>e?"재고관리상품으로 보유중인 실시간 재고자산입니다.":"기간내 평균 재고자산입니다.",id:"inventory_asset",isHighlight:!0}];function ZBe({isLoading:e,isFetching:t,data:n,periodType:i}){const r=i==="realtime";return e?B.jsx("div",{className:"flex h-[110px] items-center justify-center",children:B.jsx(nL,{size:"lg"})}):B.jsx("div",{className:"flex gap-4",children:qBe.map((s,o)=>{const{id:a,title:l,tooltip:c,unit:u,isHighlight:d}=s,h=r&&d,p=e||r&&t,m=n==null?void 0:n[a];return!e&&m===void 0?null:B.jsxs("div",{className:"bg-background border-border/80 flex flex-1 flex-col gap-2 rounded-lg border p-6 shadow-sm",children:[B.jsx("div",{className:"flex flex-col",children:B.jsxs("div",{className:"flex items-center justify-between text-sm font-medium",children:[B.jsx("div",{className:`${h?"text-blue-800 dark:text-blue-600":"text-contrast/50"} flex items-center gap-2`,children:B.jsx("span",{children:l(r)})}),B.jsxs(TV,{children:[B.jsx(DV,{asChild:!0,children:B.jsx($Q,{className:"h-4 w-4 cursor-pointer text-gray-400"})}),B.jsxs(IV,{side:"top",children:[B.jsx("p",{children:c(r)}),r&&["total_revenue","average_user_count","average_order_amount"].includes(a)&&B.jsx("span",{className:"text-contrast/30 text-xs whitespace-pre-line",children:n==null?void 0:n.delivery_info})]})]})]})}),B.jsx("div",{className:`flex items-baseline gap-1 ${h?"text-blue-900 dark:text-blue-600":"text-contrast"}`,children:p?B.jsx(nL,{size:"md"}):B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"text-2xl font-medium",children:m?m.toLocaleString():"-"}),B.jsx("span",{className:"text-sm font-normal",children:m?u:""})]})})]},o)})})}const NV=e=>e?`${(e||0).toLocaleString()} 원`:"-",XBe=e=>e?`${e} %`:"-",WD=({label:e,value:t,className:n=""})=>B.jsxs("div",{className:"border-border/50 flex items-center justify-between border-b py-2",children:[B.jsx("span",{children:e}),B.jsx("span",{className:n,children:NV(t)})]}),QBe=({label:e,value:t,isExpanded:n,onToggle:i,className:r=""})=>B.jsx("div",{className:"border-border/50 border-b py-2 font-semibold",children:B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{children:e}),B.jsx(no,{variant:"ghost",className:"hover:bg-foreground flex h-5 w-4 items-center justify-center rounded px-3 text-xs text-gray-500 hover:text-blue-600",onClick:i,children:n?"▲":"▼"})]}),B.jsx("span",{className:`text-blue-600 ${r}`,children:NV(t)})]})}),xM=({label:e,value:t})=>B.jsxs("div",{className:"flex items-center justify-between py-1",children:[B.jsx("span",{children:e}),B.jsx("span",{className:"font-medium",children:NV(t)})]}),JBe=({data:e})=>B.jsxs("div",{className:"border-border/50 bg-background text-contrast space-y-2 rounded-lg border px-3 py-2 text-xs",children:[B.jsx(xM,{label:"매출 주문",value:e==null?void 0:e.sales_revenue}),B.jsx(xM,{label:"앱 매출",value:e==null?void 0:e.app_revenue}),B.jsx(xM,{label:"타사 매출",value:e==null?void 0:e.external_revenue}),B.jsx("hr",{className:"border-border/30 my-2"}),B.jsx(xM,{label:"총 과세",value:e==null?void 0:e.total_tax_amount}),B.jsx(xM,{label:"총 비과세",value:e==null?void 0:e.total_tax_free_amount})]});function eGe({isLoading:e,isFetching:t,data:n,dateRange:i,periodType:r}){const{revenue:s,partial_cancel_revenue:o,vat:a,total_revenue:l,purchase_amount:c,gross_profit_margin:u}=n,d=r==="realtime",h=e||d&&t||!n,[p,m]=I.useState(!1),v=()=>m(S=>!S),y=d?"출고 매출액":`${Er(i.from,"yyyy-MM-dd")} - ${Er(i.to,"yyyy-MM-dd")} 총 매출액`,C=d?"금일 출고기준 매출액 상세내역입니다":"기간내 총 매출액 상세내역입니다";return B.jsxs("div",{className:"border-border/50 col-span-1 flex h-full flex-col gap-3 rounded-lg border p-6 shadow-sm",children:[B.jsxs("div",{className:"border-border/50 flex items-center justify-between border-b pb-2",children:[B.jsx("div",{className:"flex items-center gap-2",children:B.jsx("h3",{className:"text-contrast text-lg font-semibold",children:y})}),B.jsxs(TV,{children:[B.jsx(DV,{asChild:!0,children:B.jsx($Q,{className:"h-4 w-4 cursor-pointer text-gray-400"})}),B.jsxs(IV,{side:"top",children:[B.jsx("p",{children:C}),d&&B.jsx("span",{className:"text-contrast/30 text-xs whitespace-pre-line",children:n==null?void 0:n.delivery_info})]})]})]}),h?B.jsx("div",{className:"flex flex-1 items-center justify-center",children:B.jsx(nL,{size:"lg"})}):B.jsxs("div",{className:"text-contrast space-y-3 text-sm",children:[B.jsx(WD,{label:"매출액",value:s}),B.jsx(WD,{label:"부분환불금액",value:o,className:"text-red-600"}),B.jsx(WD,{label:"부가세",value:a}),B.jsx(QBe,{label:"합계금액",value:l,isExpanded:p,onToggle:v}),p&&B.jsx(JBe,{data:n}),c!==void 0&&B.jsx(WD,{label:"매입액",value:c}),u!==void 0&&B.jsxs("div",{className:"flex items-center justify-between py-2",children:[B.jsx("span",{children:"GPM (매출 총 이익률)"}),B.jsx("span",{children:XBe(u)})]})]})]})}function Qee(e,t){return function(){return e.apply(t,arguments)}}const{toString:tGe}=Object.prototype,{getPrototypeOf:LV}=Object,{iterator:lO,toStringTag:Jee}=Symbol,cO=(e=>t=>{const n=tGe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pu=e=>(e=e.toLowerCase(),t=>cO(t)===e),uO=e=>t=>typeof t===e,{isArray:lS}=Array,sR=uO("undefined");function nGe(e){return e!==null&&!sR(e)&&e.constructor!==null&&!sR(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ete=pu("ArrayBuffer");function iGe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ete(e.buffer),t}const rGe=uO("string"),Ga=uO("function"),tte=uO("number"),dO=e=>e!==null&&typeof e=="object",sGe=e=>e===!0||e===!1,DI=e=>{if(cO(e)!=="object")return!1;const t=LV(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jee in e)&&!(lO in e)},oGe=pu("Date"),aGe=pu("File"),lGe=pu("Blob"),cGe=pu("FileList"),uGe=e=>dO(e)&&Ga(e.pipe),dGe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=cO(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},hGe=pu("URLSearchParams"),[fGe,pGe,gGe,mGe]=["ReadableStream","Request","Response","Headers"].map(pu),vGe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function R1(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),lS(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,e[a],a,e)}}function nte(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Bv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ite=e=>!sR(e)&&e!==Bv;function MG(){const{caseless:e}=ite(this)&&this||{},t={},n=(i,r)=>{const s=e&&nte(t,r)||r;DI(t[s])&&DI(i)?t[s]=MG(t[s],i):DI(i)?t[s]=MG({},i):lS(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&R1(arguments[i],n);return t}const yGe=(e,t,n,{allOwnKeys:i}={})=>(R1(t,(r,s)=>{n&&Ga(r)?e[s]=Qee(r,n):e[s]=r},{allOwnKeys:i}),e),CGe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bGe=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wGe=(e,t,n,i)=>{let r,s,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&LV(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},SGe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},xGe=e=>{if(!e)return null;if(lS(e))return e;let t=e.length;if(!tte(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},MGe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&LV(Uint8Array)),EGe=(e,t)=>{const i=(e&&e[lO]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},RGe=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},AGe=pu("HTMLFormElement"),TGe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Z6=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),DGe=pu("RegExp"),rte=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};R1(n,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(i[s]=o||r)}),Object.defineProperties(e,i)},IGe=e=>{rte(e,(t,n)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Ga(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NGe=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return lS(e)?i(e):i(String(e).split(t)),n},LGe=()=>{},kGe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OGe(e){return!!(e&&Ga(e.append)&&e[Jee]==="FormData"&&e[lO])}const PGe=e=>{const t=new Array(10),n=(i,r)=>{if(dO(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=lS(i)?[]:{};return R1(i,(o,a)=>{const l=n(o,r+1);!sR(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return n(e,0)},FGe=pu("AsyncFunction"),_Ge=e=>e&&(dO(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),ste=((e,t)=>e?setImmediate:t?((n,i)=>(Bv.addEventListener("message",({source:r,data:s})=>{r===Bv&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Bv.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ga(Bv.postMessage)),BGe=typeof queueMicrotask<"u"?queueMicrotask.bind(Bv):typeof process<"u"&&process.nextTick||ste,GGe=e=>e!=null&&Ga(e[lO]),_e={isArray:lS,isArrayBuffer:ete,isBuffer:nGe,isFormData:dGe,isArrayBufferView:iGe,isString:rGe,isNumber:tte,isBoolean:sGe,isObject:dO,isPlainObject:DI,isReadableStream:fGe,isRequest:pGe,isResponse:gGe,isHeaders:mGe,isUndefined:sR,isDate:oGe,isFile:aGe,isBlob:lGe,isRegExp:DGe,isFunction:Ga,isStream:uGe,isURLSearchParams:hGe,isTypedArray:MGe,isFileList:cGe,forEach:R1,merge:MG,extend:yGe,trim:vGe,stripBOM:CGe,inherits:bGe,toFlatObject:wGe,kindOf:cO,kindOfTest:pu,endsWith:SGe,toArray:xGe,forEachEntry:EGe,matchAll:RGe,isHTMLForm:AGe,hasOwnProperty:Z6,hasOwnProp:Z6,reduceDescriptors:rte,freezeMethods:IGe,toObjectSet:NGe,toCamelCase:TGe,noop:LGe,toFiniteNumber:kGe,findKey:nte,global:Bv,isContextDefined:ite,isSpecCompliantForm:OGe,toJSONObject:PGe,isAsyncFn:FGe,isThenable:_Ge,setImmediate:ste,asap:BGe,isIterable:GGe};function un(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}_e.inherits(un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const ote=un.prototype,ate={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ate[e]={value:e}});Object.defineProperties(un,ate);Object.defineProperty(ote,"isAxiosError",{value:!0});un.from=(e,t,n,i,r,s)=>{const o=Object.create(ote);return _e.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),un.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const zGe=null;function EG(e){return _e.isPlainObject(e)||_e.isArray(e)}function lte(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function X6(e,t,n){return e?e.concat(t).map(function(r,s){return r=lte(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function HGe(e){return _e.isArray(e)&&!e.some(EG)}const VGe=_e.toFlatObject(_e,{},null,function(t){return/^is[A-Z]/.test(t)});function hO(e,t,n){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!_e.isUndefined(y[v])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(_e.isDate(m))return m.toISOString();if(_e.isBoolean(m))return m.toString();if(!l&&_e.isBlob(m))throw new un("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(m)||_e.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,y){let C=m;if(m&&!y&&typeof m=="object"){if(_e.endsWith(v,"{}"))v=i?v:v.slice(0,-2),m=JSON.stringify(m);else if(_e.isArray(m)&&HGe(m)||(_e.isFileList(m)||_e.endsWith(v,"[]"))&&(C=_e.toArray(m)))return v=lte(v),C.forEach(function(x,R){!(_e.isUndefined(x)||x===null)&&t.append(o===!0?X6([v],R,s):o===null?v:v+"[]",c(x))}),!1}return EG(m)?!0:(t.append(X6(y,v,s),c(m)),!1)}const d=[],h=Object.assign(VGe,{defaultVisitor:u,convertValue:c,isVisitable:EG});function p(m,v){if(!_e.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),_e.forEach(m,function(C,S){(!(_e.isUndefined(C)||C===null)&&r.call(t,C,_e.isString(S)?S.trim():S,v,h))===!0&&p(C,v?v.concat(S):[S])}),d.pop()}}if(!_e.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Q6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function kV(e,t){this._pairs=[],e&&hO(e,this,t)}const cte=kV.prototype;cte.append=function(t,n){this._pairs.push([t,n])};cte.toString=function(t){const n=t?function(i){return t.call(this,i,Q6)}:Q6;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function UGe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ute(e,t,n){if(!t)return e;const i=n&&n.encode||UGe;_e.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(t,n):s=_e.isURLSearchParams(t)?t.toString():new kV(t,n).toString(i),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class J6{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(i){i!==null&&t(i)})}}const dte={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WGe=typeof URLSearchParams<"u"?URLSearchParams:kV,jGe=typeof FormData<"u"?FormData:null,$Ge=typeof Blob<"u"?Blob:null,YGe={isBrowser:!0,classes:{URLSearchParams:WGe,FormData:jGe,Blob:$Ge},protocols:["http","https","file","blob","url","data"]},OV=typeof window<"u"&&typeof document<"u",RG=typeof navigator=="object"&&navigator||void 0,KGe=OV&&(!RG||["ReactNative","NativeScript","NS"].indexOf(RG.product)<0),qGe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZGe=OV&&window.location.href||"http://localhost",XGe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:OV,hasStandardBrowserEnv:KGe,hasStandardBrowserWebWorkerEnv:qGe,navigator:RG,origin:ZGe},Symbol.toStringTag,{value:"Module"})),Do={...XGe,...YGe};function QGe(e,t){return hO(e,new Do.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Do.isNode&&_e.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function JGe(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function e4e(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function hte(e){function t(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&_e.isArray(r)?r.length:o,l?(_e.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!_e.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],s)&&_e.isArray(r[o])&&(r[o]=e4e(r[o])),!a)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const n={};return _e.forEachEntry(e,(i,r)=>{t(JGe(i),r,n,0)}),n}return null}function t4e(e,t,n){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const A1={transitional:dte,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=_e.isObject(t);if(s&&_e.isHTMLForm(t)&&(t=new FormData(t)),_e.isFormData(t))return r?JSON.stringify(hte(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t)||_e.isReadableStream(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return QGe(t,this.formSerializer).toString();if((a=_e.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hO(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),t4e(t)):t}],transformResponse:[function(t){const n=this.transitional||A1.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_e.isResponse(t)||_e.isReadableStream(t))return t;if(t&&_e.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?un.from(a,un.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Do.classes.FormData,Blob:Do.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{A1.headers[e]={}});const n4e=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i4e=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&n4e[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},ej=Symbol("internals");function MM(e){return e&&String(e).trim().toLowerCase()}function II(e){return e===!1||e==null?e:_e.isArray(e)?e.map(II):String(e)}function r4e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const s4e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function B2(e,t,n,i,r){if(_e.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!_e.isString(t)){if(_e.isString(i))return t.indexOf(i)!==-1;if(_e.isRegExp(i))return i.test(t)}}function o4e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function a4e(e,t){const n=_e.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}let za=class{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(a,l,c){const u=MM(l);if(!u)throw new Error("header name must be a non-empty string");const d=_e.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=II(a))}const o=(a,l)=>_e.forEach(a,(c,u)=>s(c,u,l));if(_e.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(_e.isString(t)&&(t=t.trim())&&!s4e(t))o(i4e(t),n);else if(_e.isObject(t)&&_e.isIterable(t)){let a={},l,c;for(const u of t){if(!_e.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?_e.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else t!=null&&s(n,t,i);return this}get(t,n){if(t=MM(t),t){const i=_e.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return r4e(r);if(_e.isFunction(n))return n.call(this,r,i);if(_e.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=MM(t),t){const i=_e.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||B2(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(o){if(o=MM(o),o){const a=_e.findKey(i,o);a&&(!n||B2(i,i[a],a,n))&&(delete i[a],r=!0)}}return _e.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||B2(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return _e.forEach(this,(r,s)=>{const o=_e.findKey(i,s);if(o){n[o]=II(r),delete n[s];return}const a=t?o4e(s):String(s).trim();a!==s&&delete n[s],n[a]=II(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _e.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&_e.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[ej]=this[ej]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=MM(o);i[a]||(a4e(r,o),i[a]=!0)}return _e.isArray(t)?t.forEach(s):s(t),this}};za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(za.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});_e.freezeMethods(za);function G2(e,t){const n=this||A1,i=t||n,r=za.from(i.headers);let s=i.data;return _e.forEach(e,function(a){s=a.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function fte(e){return!!(e&&e.__CANCEL__)}function cS(e,t,n){un.call(this,e??"canceled",un.ERR_CANCELED,t,n),this.name="CanceledError"}_e.inherits(cS,un,{__CANCEL__:!0});function pte(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new un("Request failed with status code "+n.status,[un.ERR_BAD_REQUEST,un.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function l4e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c4e(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=n[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function u4e(e,t){let n=0,i=1e3/t,r,s;const o=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const iL=(e,t,n=3)=>{let i=0;const r=c4e(50,250);return u4e(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},tj=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},nj=e=>(...t)=>_e.asap(()=>e(...t)),d4e=Do.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Do.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Do.origin),Do.navigator&&/(msie|trident)/i.test(Do.navigator.userAgent)):()=>!0,h4e=Do.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];_e.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_e.isString(i)&&o.push("path="+i),_e.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f4e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function p4e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gte(e,t,n){let i=!f4e(t);return e&&(i||n==!1)?p4e(e,t):t}const ij=e=>e instanceof za?{...e}:e;function ky(e,t){t=t||{};const n={};function i(c,u,d,h){return _e.isPlainObject(c)&&_e.isPlainObject(u)?_e.merge.call({caseless:h},c,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function r(c,u,d,h){if(_e.isUndefined(u)){if(!_e.isUndefined(c))return i(void 0,c,d,h)}else return i(c,u,d,h)}function s(c,u){if(!_e.isUndefined(u))return i(void 0,u)}function o(c,u){if(_e.isUndefined(u)){if(!_e.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in t)return i(c,u);if(d in e)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(ij(c),ij(u),d,!0)};return _e.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||r,h=d(e[u],t[u],u);_e.isUndefined(h)&&d!==a||(n[u]=h)}),n}const mte=e=>{const t=ky({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=za.from(o),t.url=ute(gte(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_e.isFormData(n)){if(Do.hasStandardBrowserEnv||Do.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Do.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(t)),i||i!==!1&&d4e(t.url))){const c=r&&s&&h4e.read(s);c&&o.set(r,c)}return t},g4e=typeof XMLHttpRequest<"u",m4e=g4e&&function(e){return new Promise(function(n,i){const r=mte(e);let s=r.data;const o=za.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,h,p,m;function v(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function C(){if(!y)return;const x=za.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};pte(function(L){n(L),v()},function(L){i(L),v()},A),y=null}"onloadend"in y?y.onloadend=C:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(C)},y.onabort=function(){y&&(i(new un("Request aborted",un.ECONNABORTED,e,y)),y=null)},y.onerror=function(){i(new un("Network Error",un.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let R=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||dte;r.timeoutErrorMessage&&(R=r.timeoutErrorMessage),i(new un(R,A.clarifyTimeoutError?un.ETIMEDOUT:un.ECONNABORTED,e,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&_e.forEach(o.toJSON(),function(R,A){y.setRequestHeader(A,R)}),_e.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([h,m]=iL(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,p]=iL(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=x=>{y&&(i(!x||x.type?new cS(null,e,y):x),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const S=l4e(r.url);if(S&&Do.protocols.indexOf(S)===-1){i(new un("Unsupported protocol "+S+":",un.ERR_BAD_REQUEST,e));return}y.send(s||null)})},v4e=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof un?u:new cS(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new un(`timeout ${t} of ms exceeded`,un.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>_e.asap(a),l}},y4e=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},C4e=async function*(e,t){for await(const n of b4e(e))yield*y4e(n,t)},b4e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},rj=(e,t,n,i)=>{const r=C4e(e,t);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},fO=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vte=fO&&typeof ReadableStream=="function",w4e=fO&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yte=(e,...t)=>{try{return!!e(...t)}catch{return!1}},S4e=vte&&yte(()=>{let e=!1;const t=new Request(Do.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sj=64*1024,AG=vte&&yte(()=>_e.isReadableStream(new Response("").body)),rL={stream:AG&&(e=>e.body)};fO&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!rL[t]&&(rL[t]=_e.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new un(`Response type '${t}' is not supported`,un.ERR_NOT_SUPPORT,i)})})})(new Response);const x4e=async e=>{if(e==null)return 0;if(_e.isBlob(e))return e.size;if(_e.isSpecCompliantForm(e))return(await new Request(Do.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(e)||_e.isArrayBuffer(e))return e.byteLength;if(_e.isURLSearchParams(e)&&(e=e+""),_e.isString(e))return(await w4e(e)).byteLength},M4e=async(e,t)=>{const n=_e.toFiniteNumber(e.getContentLength());return n??x4e(t)},E4e=fO&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=mte(e);c=c?(c+"").toLowerCase():"text";let p=v4e([r,s&&s.toAbortSignal()],o),m;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&S4e&&n!=="get"&&n!=="head"&&(y=await M4e(u,i))!==0){let A=new Request(t,{method:"POST",body:i,duplex:"half"}),T;if(_e.isFormData(i)&&(T=A.headers.get("content-type"))&&u.setContentType(T),A.body){const[L,O]=tj(y,iL(nj(l)));i=rj(A.body,sj,L,O)}}_e.isString(d)||(d=d?"include":"omit");const C="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:C?d:void 0});let S=await fetch(m,h);const x=AG&&(c==="stream"||c==="response");if(AG&&(a||x&&v)){const A={};["status","statusText","headers"].forEach(F=>{A[F]=S[F]});const T=_e.toFiniteNumber(S.headers.get("content-length")),[L,O]=a&&tj(T,iL(nj(a),!0))||[];S=new Response(rj(S.body,sj,L,()=>{O&&O(),v&&v()}),A)}c=c||"text";let R=await rL[_e.findKey(rL,c)||"text"](S,e);return!x&&v&&v(),await new Promise((A,T)=>{pte(A,T,{data:R,headers:za.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:m})})}catch(C){throw v&&v(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new un("Network Error",un.ERR_NETWORK,e,m),{cause:C.cause||C}):un.from(C,C&&C.code,e,m)}}),TG={http:zGe,xhr:m4e,fetch:E4e};_e.forEach(TG,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const oj=e=>`- ${e}`,R4e=e=>_e.isFunction(e)||e===null||e===!1,Cte={getAdapter:e=>{e=_e.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let s=0;s<t;s++){n=e[s];let o;if(i=n,!R4e(n)&&(i=TG[(o=String(n)).toLowerCase()],i===void 0))throw new un(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(oj).join(`
`):" "+oj(s[0]):"as no adapter specified";throw new un("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:TG};function z2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cS(null,e)}function aj(e){return z2(e),e.headers=za.from(e.headers),e.data=G2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cte.getAdapter(e.adapter||A1.adapter)(e).then(function(i){return z2(e),i.data=G2.call(e,e.transformResponse,i),i.headers=za.from(i.headers),i},function(i){return fte(i)||(z2(e),i&&i.response&&(i.response.data=G2.call(e,e.transformResponse,i.response),i.response.headers=za.from(i.response.headers))),Promise.reject(i)})}const bte="1.10.0",pO={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pO[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const lj={};pO.transitional=function(t,n,i){function r(s,o){return"[Axios v"+bte+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new un(r(o," has been removed"+(n?" in "+n:"")),un.ERR_DEPRECATED);return n&&!lj[o]&&(lj[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};pO.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function A4e(e,t,n){if(typeof e!="object")throw new un("options must be an object",un.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new un("option "+s+" must be "+l,un.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new un("Unknown option "+s,un.ERR_BAD_OPTION)}}const NI={assertOptions:A4e,validators:pO},Ju=NI.validators;let ly=class{constructor(t){this.defaults=t||{},this.interceptors={request:new J6,response:new J6}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ky(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&NI.assertOptions(i,{silentJSONParsing:Ju.transitional(Ju.boolean),forcedJSONParsing:Ju.transitional(Ju.boolean),clarifyTimeoutError:Ju.transitional(Ju.boolean)},!1),r!=null&&(_e.isFunction(r)?n.paramsSerializer={serialize:r}:NI.assertOptions(r,{encode:Ju.function,serialize:Ju.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),NI.assertOptions(n,{baseUrl:Ju.spelling("baseURL"),withXsrfToken:Ju.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=za.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,h;if(!l){const m=[aj.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=a.length;let p=n;for(d=0;d<h;){const m=a[d++],v=a[d++];try{p=m(p)}catch(y){v.call(this,y);break}}try{u=aj.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=ky(this.defaults,t);const n=gte(t.baseURL,t.url,t.allowAbsoluteUrls);return ute(n,t.params,t.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(t){ly.prototype[t]=function(n,i){return this.request(ky(i||{},{method:t,url:n,data:(i||{}).data}))}});_e.forEach(["post","put","patch"],function(t){function n(i){return function(s,o,a){return this.request(ky(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ly.prototype[t]=n(),ly.prototype[t+"Form"]=n(!0)});let T4e=class wte{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new cS(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wte(function(r){t=r}),cancel:t}}};function D4e(e){return function(n){return e.apply(null,n)}}function I4e(e){return _e.isObject(e)&&e.isAxiosError===!0}const DG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DG).forEach(([e,t])=>{DG[t]=e});function Ste(e){const t=new ly(e),n=Qee(ly.prototype.request,t);return _e.extend(n,ly.prototype,t,{allOwnKeys:!0}),_e.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ste(ky(e,r))},n}const Vr=Ste(A1);Vr.Axios=ly;Vr.CanceledError=cS;Vr.CancelToken=T4e;Vr.isCancel=fte;Vr.VERSION=bte;Vr.toFormData=hO;Vr.AxiosError=un;Vr.Cancel=Vr.CanceledError;Vr.all=function(t){return Promise.all(t)};Vr.spread=D4e;Vr.isAxiosError=I4e;Vr.mergeConfig=ky;Vr.AxiosHeaders=za;Vr.formToJSON=e=>hte(_e.isHTMLForm(e)?new FormData(e):e);Vr.getAdapter=Cte.getAdapter;Vr.HttpStatusCode=DG;Vr.default=Vr;const{Axios:_6e,AxiosError:B6e,CanceledError:G6e,isCancel:z6e,CancelToken:H6e,VERSION:V6e,all:U6e,Cancel:W6e,isAxiosError:j6e,spread:$6e,toFormData:Y6e,AxiosHeaders:K6e,HttpStatusCode:q6e,formToJSON:Z6e,getAdapter:X6e,mergeConfig:Q6e}=Vr,N4e="https://test.cookdashboard.com",L4e={base:N4e},k4e=e=>{const t=Vr.create({baseURL:e||L4e.base});return t.interceptors.request.use(n=>{const i={...n},r=Kwe();return r&&(i.headers.Authorization=`Bearer ${r}`),i},n=>Promise.reject(n)),t.interceptors.response.use(void 0,n=>{const{response:i}=n;return i.status===302?Promise.resolve({data:{...i.data,status:i.status}}):i.status===500?Promise.reject({status:500,code:99999,message:"Network Error"}):Promise.reject({...i.data,status:i.status})}),t},Ls=async({method:e,endpoint:t,params:n,body:i,baseURL:r})=>{try{const s=k4e(r),{data:o}=await s({method:e,url:`${t}${$we(n)}`,data:i});return o}catch(s){throw new B4(s)}},O4e={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},P4e=(e,t,n)=>{let i;const r=O4e[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+" 후":i+" 전":i},F4e={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},_4e={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},B4e={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},G4e={date:Bb({formats:F4e,defaultWidth:"full"}),time:Bb({formats:_4e,defaultWidth:"full"}),dateTime:Bb({formats:B4e,defaultWidth:"full"})},z4e={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},H4e=(e,t,n,i)=>z4e[e],V4e={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},U4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},W4e={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},j4e={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},$4e={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Y4e={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},K4e=(e,t)=>{const n=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},q4e={ordinalNumber:K4e,era:dd({values:V4e,defaultWidth:"wide"}),quarter:dd({values:U4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dd({values:W4e,defaultWidth:"wide"}),day:dd({values:j4e,defaultWidth:"wide"}),dayPeriod:dd({values:$4e,defaultWidth:"wide",formattingValues:Y4e,defaultFormattingWidth:"wide"})},Z4e=/^(\d+)(일|번째)?/i,X4e=/\d+/i,Q4e={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},J4e={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},eze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},tze={any:[/1/i,/2/i,/3/i,/4/i]},nze={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},ize={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},rze={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},sze={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},oze={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},aze={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},lze={ordinalNumber:oJ({matchPattern:Z4e,parsePattern:X4e,valueCallback:e=>parseInt(e,10)}),era:hd({matchPatterns:Q4e,defaultMatchWidth:"wide",parsePatterns:J4e,defaultParseWidth:"any"}),quarter:hd({matchPatterns:eze,defaultMatchWidth:"wide",parsePatterns:tze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hd({matchPatterns:nze,defaultMatchWidth:"wide",parsePatterns:ize,defaultParseWidth:"any"}),day:hd({matchPatterns:rze,defaultMatchWidth:"wide",parsePatterns:sze,defaultParseWidth:"any"}),dayPeriod:hd({matchPatterns:oze,defaultMatchWidth:"any",parsePatterns:aze,defaultParseWidth:"any"})},xte={code:"ko",formatDistance:P4e,formatLong:G4e,formatRelative:H4e,localize:q4e,match:lze,options:{weekStartsOn:0,firstWeekContainsDate:1}},cze={theme:"light",setTheme:()=>null},Mte=I.createContext(cze);function uze({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...i}){const[r,s]=I.useState(()=>localStorage.getItem(n)||t);I.useEffect(()=>{console.log(r);const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(r)},[r]);const o={theme:r,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return B.jsx(Mte.Provider,{...i,value:o,children:e})}const Ete=()=>{const e=I.useContext(Mte);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},dze=({isSelectable:e})=>{const{theme:t}=Ete(),[n,i]=I.useState(void 0),[r,s]=I.useState("realtime"),[o,a]=I.useState({from:new Date,to:new Date}),{data:l}=bg({queryKey:["partners"],queryFn:()=>Ls({method:"get",endpoint:"/dashboard/companies/"}),enabled:e}),{isLoading:c,isFetching:u,data:d={},dataUpdatedAt:h}=bg({queryKey:["dashboard",r,n,o.from,o.to,e],queryFn:()=>{const A=e?"/dashboard/main_by_company/":"/dashboard/main/",T={start_date:o.from?Er(o.from,"yyyy-MM-dd"):"",end_date:o.to?Er(o.to,"yyyy-MM-dd"):"",type:r};return e&&(T.partner_company_id=n),Ls({method:"get",endpoint:A,params:T})},enabled:!!o.from&&!!o.to,staleTime:r==="realtime"?0:5*60*1e3,gcTime:20*60*1e3,refetchOnWindowFocus:r==="realtime",refetchInterval:r==="realtime"?600*1e3:!1,refetchIntervalInBackground:r==="realtime",retry:2}),p=A=>{const T=A==="default"?void 0:Number(A);i(T)},m=A=>{s(A),a({from:Wh(new Date(Date.now()-24*60*60*1e3)),to:new Date(Date.now()-24*60*60*1e3)})},v=I.useMemo(()=>h?new Date(h):void 0,[h]),y=I.useMemo(()=>d!=null&&d.chart_data?d.chart_data.map(A=>({date:Er(new Date(A.date),"MM/dd[EEE]",{locale:xte}),sales:A.sales_amount,purchase:A.purchase_amount,costToSalesRatio:A.cost_to_sales_ratio})):[],[d]),C=I.useMemo(()=>{const A=t==="dark";return{background:A?"#111827":"#ffffff",text:A?"#ffffff":"#000000",markerStroke:A?"#1a1b23":"#ffffff",sales:A?"#F687B3":"#F6A5A5",purchase:A?"#4FD1C7":"#6EC6A9",costToSalesRatio:A?"#F6E05E":"#FFD54F"}},[t]),S=I.useMemo(()=>[{type:"category",position:"bottom",label:{color:C.text}},{type:"number",position:"left",label:{formatter:A=>`${A.value.toLocaleString()} 원`,color:C.text}}],[C.text]),x=I.useMemo(()=>[{type:"bar",xKey:"date",yKey:"sales",yName:"매출액",fill:C.sales,fillOpacity:.9},{type:"bar",xKey:"date",yKey:"purchase",yName:"매입액",fill:C.purchase,fillOpacity:.9},{type:"line",xKey:"date",yKey:"costToSalesRatio",yName:"매출원가",stroke:C.costToSalesRatio,strokeWidth:3,marker:{enabled:!0,size:8,fill:C.costToSalesRatio,stroke:C.costToSalesRatio,strokeWidth:2}}].filter(T=>T.yKey==="purchase"?y.some(L=>L.purchase!==void 0&&L.purchase!==null):T.yKey==="costToSalesRatio"?y.some(L=>L.costToSalesRatio!==void 0&&L.costToSalesRatio!==null):!0),[C,d]),R=I.useMemo(()=>({data:y,background:{fill:C.background},axes:S,series:x,legend:{enabled:!0,position:"bottom",item:{label:{color:C.text}}}}),[y,C,S,x]);return{isLoading:c,isFetching:u,selectedPartnerId:n,partners:l,lastUpdateDate:v,periodType:r,dateRange:o,chartOptions:R,dashboardData:d,setDateRange:a,handlePartnerChange:p,handlePeriodChange:m}};function Rte({isSelectable:e=!1}){var p;const{isLoading:t,isFetching:n,chartOptions:i,dashboardData:r,partners:s,selectedPartnerId:o,periodType:a,dateRange:l,lastUpdateDate:c,setDateRange:u,handlePartnerChange:d,handlePeriodChange:h}=dze({isSelectable:e});return B.jsxs("div",{className:"flex w-full flex-col gap-4",children:[B.jsxs("div",{className:`flex items-center ${e?"justify-between":"justify-end"}`,children:[e&&B.jsxs(yG,{value:o?o.toString():"default",onValueChange:d,children:[B.jsx(bG,{className:"w-[200px]",children:B.jsx(CG,{placeholder:"파트너사 선택"})}),B.jsxs(wG,{children:[B.jsx(wb,{value:"default",children:"식자재쿡"}),s==null?void 0:s.map(m=>B.jsx(wb,{value:m.partner_company_id.toString(),children:m.b_nm},m.partner_company_id))]})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs(yG,{value:a,onValueChange:h,children:[B.jsx(bG,{className:"w-[140px]",children:B.jsx(CG,{})}),B.jsxs(wG,{children:[B.jsx(wb,{value:"realtime",children:"실시간"}),B.jsx(wb,{value:"period",children:"기간 선택"})]})]}),a==="period"&&B.jsx(nO,{date:l,onDateSelect:({from:m,to:v})=>u({from:m,to:v}),contentAlign:"end",maxDateType:"yesterday",isDashboard:!0})]})]}),B.jsx(ZBe,{isLoading:t,isFetching:n,data:r,periodType:a}),B.jsxs("div",{className:"grid h-[600px] grid-cols-3 gap-4",children:[B.jsxs("div",{className:"bg-background border-border/50 col-span-2 flex h-full flex-col gap-3 rounded-lg border p-6 shadow-sm",children:[B.jsx("h3",{className:"border-border/50 text-contrast border-b pb-2 text-lg font-semibold",children:"매출 통계"}),B.jsx("div",{className:"flex-1",children:t||n?B.jsx("div",{className:"flex h-full items-center justify-center",children:B.jsx(nL,{size:"lg"})}):((p=r==null?void 0:r.chart_data)==null?void 0:p.length)>0?B.jsx(XNe,{className:"h-full",options:i}):B.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:B.jsxs("div",{className:"text-center",children:[B.jsx(oLe,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),B.jsx("p",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"선택한 기간에 해당하는 데이터가 없습니다."})]})})})]}),B.jsx(eGe,{isLoading:t,isFetching:n,data:r,periodType:a,dateRange:l})]}),B.jsx("div",{className:"flex justify-end gap-2 text-sm text-gray-400",children:c!=null&&c.toLocaleTimeString()?`마지막 업데이트 : ${c==null?void 0:c.toLocaleTimeString()}`:"-"})]})}const hze=()=>B.jsx(Rte,{}),fze=()=>B.jsx(Rte,{isSelectable:!0});var Bo=Ce.createContext({}),T1=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),cj(i,o)}),()=>{var c;l=!0,o&&((c=a==null?void 0:a.parentElement)==null||c.removeChild(a),t.destroyBean(o),i&&cj(i,void 0))}},cj=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Vl=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),ql=class Ate{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new Ate;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},uS=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},B8,IG=(B8=Ce.version)==null?void 0:B8.split(".")[0],pze=IG==="16"||IG==="17";function gze(){return IG==="19"}var LI=!1;function mze(e){return LI||setTimeout(()=>LI=!1,0),LI=!0,e()}var oR=(e,t)=>{!pze&&e&&!LI?s9.flushSync(t):t()};function sL(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],r=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&i.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||r.push(l)}return i.length===e.length&&r.length===0?e:i.length===0&&r.length===t.length?t:i.length===0?r:r.length===0?i:[...i,...r]}var Tte=I.forwardRef((e,t)=>{var ae;const{registry:n,context:i}=I.useContext(Bo),r=I.useRef(null),s=I.useRef(null),o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),c=I.useRef(),[u,d]=I.useState(),[h,p]=I.useState(),[m,v]=I.useState(),[y,C]=I.useState(()=>new ql),[S,x]=I.useState(()=>new ql("ag-hidden")),[R,A]=I.useState(()=>new ql("ag-hidden")),[T,L]=I.useState(()=>new ql("ag-invisible"));I.useImperativeHandle(t,()=>({refresh(){return!1}})),I.useLayoutEffect(()=>T1(u,i,s.current),[u]);const O=I.useCallback(ne=>{if(r.current=ne,!ne){c.current=i.destroyBean(c.current);return}const Se={setInnerRenderer:(re,K)=>{d(re),v(K)},setChildCount:re=>p(re),toggleCss:(re,K)=>C(V=>V.setClass(re,K)),setContractedDisplayed:re=>A(K=>K.setClass("ag-hidden",!re)),setExpandedDisplayed:re=>x(K=>K.setClass("ag-hidden",!re)),setCheckboxVisible:re=>L(K=>K.setClass("ag-invisible",!re)),setCheckboxSpacing:re=>L(K=>K.setClass("ag-group-checkbox-spacing",re))},q=n.createDynamicBean("groupCellRendererCtrl",!0);q&&(c.current=i.createBean(q),c.current.init(Se,ne,o.current,a.current,l.current,Tte,e))},[]),F=I.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),H=I.useMemo(()=>`ag-group-expanded ${S.toString()}`,[S]),W=I.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),$=I.useMemo(()=>`ag-group-checkbox ${T.toString()}`,[T]),Z=u&&u.componentFromFramework,ie=Z?u.componentClass:void 0,oe=u==null&&m!=null,te=Ew(m);return Ce.createElement("span",{className:F,ref:O,...e.colDef?{}:{role:(ae=c.current)==null?void 0:ae.getCellAriaRole()}},Ce.createElement("span",{className:H,ref:a}),Ce.createElement("span",{className:W,ref:l}),Ce.createElement("span",{className:$,ref:o}),Ce.createElement("span",{className:"ag-group-value",ref:s},oe&&Ce.createElement(Ce.Fragment,null,te),Z&&Ce.createElement(ie,{...u.params})),Ce.createElement("span",{className:"ag-group-child-count"},h))}),uj=Tte,gO=I.createContext({setMethods:()=>{}}),vze=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...o},a]=I.useState(t);return I.useEffect(()=>{n(l=>a(l))},[]),Ce.createElement(gO.Provider,{value:{setMethods:r}},Ce.createElement(i,{key:s,...o}))},yze=I.memo(vze),Cze=0;function dj(){return`agPortalKey_${++Cze}`}var Dte=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=dj(),this.portalKey=dj(),this.instanceCreated=this.isStatelessComponent()?Ui.resolve(!1):new Ui(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ui(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Fy.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return I.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function PV(e,t,n){e.forEach(i=>{const r=t[i];r&&(n[i]=r)})}var gu=class extends Dte{constructor(){super(...arguments),this.awaitUpdateCallback=new Ui(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=yze}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Ui(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,PV(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ui(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},bze=class extends gu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},wze=class extends gu{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Sze=class extends gu{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},xze=class extends gu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ui(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var i,r;return(r=(i=this.providedMethods)==null?void 0:i.afterGuiAttached)==null?void 0:r.call(i,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function Ite(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Ui.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Mze=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){PV(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ite(this.floatingFilterParams,e)}},Eze=class extends gu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ite(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Rze=class extends gu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Aze=class extends gu{refresh(e){this.sourceParams=e,this.refreshProps()}},Tze=class extends gu{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Dze=class extends gu{refresh(e){this.sourceParams=e,this.refreshProps()}},Ize=class extends gu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Nze=class extends gu{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function FV(){it(231)}var Lze=1e3,kze=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Lze}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){oR(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},Oze=({ctrl:e})=>{const t=e.isAlive(),{context:n}=I.useContext(Bo),i=t?e.column.getColId():void 0,[r,s]=I.useState(),[o,a]=I.useState(),l=I.useRef(),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),h=I.useRef(),p=I.useRef();t&&!p.current&&(p.current=new bR(()=>c.current));const m=I.useCallback(S=>{var A;if(c.current=S,l.current=S?n.createBean(new Aw):n.destroyBean(l.current),!S||!e.isAlive())return;const x={setWidth:T=>{c.current&&(c.current.style.width=T)},toggleCss:(T,L)=>p.current.toggleCss(T,L),setUserStyles:T=>a(T),setAriaSort:T=>{c.current&&(T?Uoe(c.current,T):Woe(c.current))},setUserCompDetails:T=>s(T),getUserCompInstance:()=>h.current||void 0};e.setComp(x,S,u.current,d.current,l.current);const R=e.getSelectAllGui();R&&((A=u.current)==null||A.insertAdjacentElement("afterend",R),l.current.addDestroyFunc(()=>R.remove()))},[]);I.useLayoutEffect(()=>T1(r,n,d.current,h),[r]),I.useEffect(()=>{e.setDragSource(c.current)},[r]);const v=I.useMemo(()=>!!((r==null?void 0:r.componentFromFramework)&&uS(r.componentClass)),[r]),y=r&&r.componentFromFramework,C=r&&r.componentClass;return Ce.createElement("div",{ref:m,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},Ce.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Ce.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&v&&Ce.createElement(C,{...r.params}),y&&!v&&Ce.createElement(C,{...r.params,ref:h})))},Pze=I.memo(Oze),Fze=({ctrl:e})=>{const{context:t,gos:n}=I.useContext(Bo),[i,r]=I.useState(),[s,o]=I.useState(()=>new ql("ag-header-cell","ag-floating-filter")),[a,l]=I.useState(()=>new ql),[c,u]=I.useState(()=>new ql("ag-floating-filter-button","ag-hidden")),[d,h]=I.useState("false"),[p,m]=I.useState(),[,v]=I.useState(1),y=I.useRef(),C=I.useRef(null),S=I.useRef(null),x=I.useRef(null),R=I.useRef(null),A=I.useRef(),T=I.useRef(),L=ne=>{ne!=null&&A.current&&A.current(ne)},O=I.useCallback(ne=>{if(C.current=ne,y.current=ne?t.createBean(new Aw):t.destroyBean(y.current),!ne)return;T.current=new Ui(q=>{A.current=q});const Se={toggleCss:(q,re)=>o(K=>K.setClass(q,re)),setUserStyles:q=>r(q),addOrRemoveBodyCssClass:(q,re)=>l(K=>K.setClass(q,re)),setButtonWrapperDisplayed:q=>{u(re=>re.setClass("ag-hidden",!q)),h(q?"false":"true")},setWidth:q=>{C.current&&(C.current.style.width=q)},setCompDetails:q=>m(q),getFloatingFilterComp:()=>T.current?T.current:null,setMenuIcon:q=>{var re;return(re=R.current)==null?void 0:re.appendChild(q)}};e.setComp(Se,ne,R.current,S.current,y.current)},[]);I.useLayoutEffect(()=>T1(p,t,S.current,L),[p]);const F=I.useMemo(()=>s.toString(),[s]),H=I.useMemo(()=>a.toString(),[a]),W=I.useMemo(()=>c.toString(),[c]),$=I.useMemo(()=>!!(p&&p.componentFromFramework&&uS(p.componentClass)),[p]),Z=I.useMemo(()=>n.get("reactiveCustomComponents"),[]),ie=I.useMemo(()=>{if(p)if(Z){const ne=new Mze(p.params,()=>v(Se=>Se+1));return L(ne),ne}else p.componentFromFramework&&FV()},[p]),oe=ie==null?void 0:ie.getProps(),te=p&&p.componentFromFramework,ae=p&&p.componentClass;return Ce.createElement("div",{ref:O,style:i,className:F,role:"gridcell"},Ce.createElement("div",{ref:S,className:H,role:"presentation"},te&&!Z&&Ce.createElement(ae,{...p.params,ref:$?()=>{}:L}),te&&Z&&Ce.createElement(gO.Provider,{value:{setMethods:ne=>ie.setMethods(ne)}},Ce.createElement(ae,{...oe}))),Ce.createElement("div",{ref:x,"aria-hidden":d,className:W,role:"presentation"},Ce.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},_ze=I.memo(Fze),Bze=({ctrl:e})=>{const{context:t}=I.useContext(Bo),[n,i]=I.useState(),[r,s]=I.useState(()=>new ql),[o,a]=I.useState(()=>new ql),[l,c]=I.useState("false"),[u,d]=I.useState(),[h,p]=I.useState(),m=I.useMemo(()=>e.column.getUniqueId(),[]),v=I.useRef(),y=I.useRef(null),C=I.useRef(null),S=I.useRef(null),x=I.useRef(),R=I.useCallback(H=>{if(y.current=H,v.current=H?t.createBean(new Aw):t.destroyBean(v.current),!H)return;const W={setWidth:$=>{y.current&&(y.current.style.width=$)},toggleCss:($,Z)=>s(ie=>ie.setClass($,Z)),setUserStyles:$=>i($),setHeaderWrapperHidden:$=>{const Z=S.current;Z&&($?Z.style.setProperty("display","none"):Z.style.removeProperty("display"))},setHeaderWrapperMaxHeight:$=>{const Z=S.current;Z&&($!=null?Z.style.setProperty("max-height",`${$}px`):Z.style.removeProperty("max-height"),Z.classList.toggle("ag-header-cell-comp-wrapper-limited-height",$!=null))},setUserCompDetails:$=>p($),setResizableDisplayed:$=>{a(Z=>Z.setClass("ag-hidden",!$)),c($?"false":"true")},setAriaExpanded:$=>d($),getUserCompInstance:()=>x.current||void 0};e.setComp(W,H,C.current,S.current,v.current)},[]);I.useLayoutEffect(()=>T1(h,t,S.current),[h]),I.useEffect(()=>{y.current&&e.setDragSource(y.current)},[h]);const A=I.useMemo(()=>!!((h==null?void 0:h.componentFromFramework)&&uS(h.componentClass)),[h]),T=I.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),L=I.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),O=h&&h.componentFromFramework,F=h&&h.componentClass;return Ce.createElement("div",{ref:R,style:n,className:T,"col-id":m,role:"columnheader","aria-expanded":u},Ce.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},O&&A&&Ce.createElement(F,{...h.params}),O&&!A&&Ce.createElement(F,{...h.params,ref:x})),Ce.createElement("div",{ref:C,"aria-hidden":l,className:L}))},Gze=I.memo(Bze),zze=({ctrl:e})=>{const{context:t}=I.useContext(Bo),{topOffset:n,rowHeight:i}=I.useMemo(()=>e.getTopAndHeight(),[]),r=e.getAriaRowIndex(),s=e.headerRowClass,[o,a]=I.useState(()=>i+"px"),[l,c]=I.useState(()=>n+"px"),u=I.useRef(null),d=I.useRef(null),[h,p]=I.useState(()=>e.getUpdatedHeaderCtrls()),m=I.useRef(),v=I.useRef(null),y=I.useCallback(x=>{if(v.current=x,m.current=x?t.createBean(new Aw):t.destroyBean(m.current),!x)return;const R={setHeight:A=>a(A),setTop:A=>c(A),setHeaderCtrls:(A,T,L)=>{d.current=u.current,u.current=A;const O=sL(d.current,A,T);O!==d.current&&oR(L,()=>p(O))},setWidth:A=>{v.current&&(v.current.style.width=A)}};e.setComp(R,m.current,!1)},[]),C=I.useMemo(()=>({height:o,top:l}),[o,l]),S=I.useCallback(x=>{switch(e.type){case"group":return Ce.createElement(Gze,{ctrl:x,key:x.instanceId});case"filter":return Ce.createElement(_ze,{ctrl:x,key:x.instanceId});default:return Ce.createElement(Pze,{ctrl:x,key:x.instanceId})}},[]);return Ce.createElement("div",{ref:y,className:s,role:"row",style:C,"aria-rowindex":r},h.map(S))},Hze=I.memo(zze),Vze=({pinned:e})=>{const[t,n]=I.useState(!0),[i,r]=I.useState([]),{context:s}=I.useContext(Bo),o=I.useRef(null),a=I.useRef(null),l=I.useRef(),c=e==="left",u=e==="right",d=!c&&!u,h=I.useCallback(v=>{if(o.current=v,l.current=v?s.createBean(new Iue(e)):s.destroyBean(l.current),!v)return;const y={setDisplayed:n,setCtrls:C=>r(C),setCenterWidth:C=>{a.current&&(a.current.style.width=C)},setViewportScrollLeft:C=>{o.current&&(o.current.scrollLeft=C)},setPinnedContainerWidth:C=>{o.current&&(o.current.style.width=C,o.current.style.minWidth=C,o.current.style.maxWidth=C)}};l.current.setComp(y,o.current)},[]),p=t?"":"ag-hidden",m=()=>i.map(v=>Ce.createElement(Hze,{ctrl:v,key:v.instanceId}));return Ce.createElement(Ce.Fragment,null,c&&Ce.createElement("div",{ref:h,className:"ag-pinned-left-header "+p,"aria-hidden":!t,role:"rowgroup"},m()),u&&Ce.createElement("div",{ref:h,className:"ag-pinned-right-header "+p,"aria-hidden":!t,role:"rowgroup"},m()),d&&Ce.createElement("div",{ref:h,className:"ag-header-viewport "+p,role:"presentation",tabIndex:-1},Ce.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},m())))},H2=I.memo(Vze),Uze=()=>{const[e,t]=I.useState(()=>new ql),[n,i]=I.useState(),{context:r}=I.useContext(Bo),s=I.useRef(null),o=I.useRef(),a=I.useCallback(u=>{if(s.current=u,o.current=u?r.createBean(new Rue):r.destroyBean(o.current),!u)return;const d={toggleCss:(h,p)=>t(m=>m.setClass(h,p)),setHeightAndMinHeight:h=>i(h)};o.current.setComp(d,u,u)},[]),l=I.useMemo(()=>"ag-header "+e.toString(),[e]),c=I.useMemo(()=>({height:n,minHeight:n}),[n]);return Ce.createElement("div",{ref:a,className:l,style:c,role:"presentation"},Ce.createElement(H2,{pinned:"left"}),Ce.createElement(H2,{pinned:null}),Ce.createElement(H2,{pinned:"right"}))},Wze=I.memo(Uze),jze=(e,t)=>{I.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const r=document.createComment(e);return i.insertBefore(r,n),()=>{i.removeChild(r)}}}},[e])},Nv=jze,$ze=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ui(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){PV(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Yze=e=>{const t=I.useRef(e),n=I.useRef(),i=I.useRef(!1),r=I.useRef(!1),[,s]=I.useState(0);i.current&&(r.current=!0),I.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(o=>o+1),()=>{var o;r.current&&((o=n.current)==null||o.call(n))}),[])},Kze=e=>{const[t,n]=I.useState(),i=I.useContext(Bo),{context:r,popupSvc:s,localeSvc:o,gos:a,editSvc:l}=i,{editDetails:c,cellCtrl:u,eParentCell:d}=e;return Yze(()=>{var L,O;const{compDetails:h}=c,p=a.get("stopEditingWhenCellsLoseFocus"),m=r.createBean(l.createPopupEditorWrapper(h.params)),v=m.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&v.appendChild(F)}const{column:y,rowNode:C}=u,S={column:y,rowNode:C,type:"popupCellEditor",eventSource:d,ePopup:v,position:c.popupPosition,keepWithinBounds:!0},x=s==null?void 0:s.positionPopupByComponent.bind(s,S),R=o9(o),A=s==null?void 0:s.addPopup({modal:p,eChild:v,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:d,positionCallback:x,ariaLabel:R("ariaLabelCellEditor","Cell Editor")}),T=A?A.hideFunc:void 0;return n(m),(O=(L=e.jsChildComp)==null?void 0:L.afterGuiAttached)==null||O.call(L),()=>{T==null||T(),r.destroyBean(m)}}),I.useLayoutEffect(()=>()=>{u.isCellFocused()&&(t!=null&&t.getGui().contains(ir(i)))&&d.focus({preventScroll:!0})},[t]),Ce.createElement(Ce.Fragment,null,t&&e.wrappedContent&&Fy.createPortal(e.wrappedContent,t.getGui()))},hj=I.memo(Kze),qze=(e,t,n,i,r,s)=>{const{context:o}=I.useContext(Bo),a=I.useCallback(()=>{const l=r.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),r.current=void 0},[]);I.useEffect(()=>{const l=e!=null,c=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,u=t&&n==null;if(!(l&&c&&!u)){a();return}const h=e.compDetails;if(r.current){const m=r.current,y=m.refresh!=null&&e.force==!1?m.refresh(h.params):!1;if(y===!0||y===void 0)return;a()}h.newAgStackInstance().then(m=>{if(!m)return;const v=m.getGui();if(!v)return;(t?n:s.current).appendChild(v),r.current=m})},[e,t,i]),I.useEffect(()=>a,[])},Zze=qze,Xze=(e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=uS(t);return Ce.createElement(gO.Provider,{value:{setMethods:o=>i.setMethods(o)}},s?Ce.createElement(t,{...r}):Ce.createElement(t,{...r,ref:o=>i.setRef(o)}))},fj=(e,t,n)=>{const i=e.compProxy;return Ce.createElement(Ce.Fragment,null,i?Xze(e,t,n):Ce.createElement(t,{...e.compDetails.params,ref:n}))},Qze=(e,t,n,i,r)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return Ce.createElement(Ce.Fragment,null,a&&fj(e,o,t),l&&Ce.createElement(hj,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:fj(e,o,t)}),c&&r&&Ce.createElement(hj,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}))},Jze=(e,t,n,i,r,s,o)=>{const{compDetails:a,value:l}=e,c=!a,u=a&&a.componentFromFramework,d=a&&a.componentClass,h=l!=null&&l.toString?l.toString():l,p=()=>Ce.createElement(Ce.Fragment,null,c&&Ce.createElement(Ce.Fragment,null,h),u&&!s&&Ce.createElement(d,{...a.params,key:t,ref:i}),u&&s&&Ce.createElement(d,{...a.params,key:t}));return Ce.createElement(Ce.Fragment,null,r?Ce.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:o},p()):p())},eHe=({cellCtrl:e,printLayout:t,editingRow:n})=>{const i=I.useContext(Bo),{context:r}=i,{column:{colIdSanitised:s},instanceId:o}=e,a=I.useRef(),[l,c]=I.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,d]=I.useState(),[h,p]=I.useState(1),[m,v]=I.useState(),[y,C]=I.useState(!1),[S,x]=I.useState(!1),[R,A]=I.useState(!1),[T,L]=I.useState(),O=I.useMemo(()=>e.isForceWrapper(),[e]),F=I.useMemo(()=>e.getCellAriaRole(),[e]),H=I.useRef(null),W=I.useRef(null),$=I.useRef(null),Z=I.useRef(),ie=I.useRef(),oe=I.useRef(),te=I.useRef([]),ae=I.useRef(),[ne,Se]=I.useState(0),q=I.useCallback(ke=>{ae.current=ke,Se(He=>He+1)},[]),re=l!=null&&(y||R||S),K=O||re,V=I.useCallback(ke=>{if(ie.current=ke,ke){const He=ke.isCancelBeforeStart&&ke.isCancelBeforeStart();setTimeout(()=>{He?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),G=I.useRef();G.current||(G.current=new bR(()=>H.current)),Zze(l,K,ae.current,ne,Z,H);const se=I.useRef();I.useLayoutEffect(()=>{var dt;const ke=se.current,He=l;if(se.current=l,ke==null||ke.compDetails==null||He==null||He.compDetails==null)return;const st=ke.compDetails,Dt=He.compDetails;if(st.componentClass!=Dt.componentClass||((dt=$.current)==null?void 0:dt.refresh)==null)return;$.current.refresh(Dt.params)!=!0&&p(Ue=>Ue+1)},[l]),I.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const He=u.compDetails,st=u.popup===!0,Dt=He.newAgStackInstance();return Dt.then(ot=>{if(!ot)return;const dt=ot.getGui();if(V(ot),!st){const Ue=(O?oe:H).current;Ue==null||Ue.appendChild(dt),ot.afterGuiAttached&&ot.afterGuiAttached()}L(ot)}),()=>{Dt.then(ot=>{var Ue;const dt=ot.getGui();r.destroyBean(ot),V(void 0),L(void 0),(Ue=dt==null?void 0:dt.parentElement)==null||Ue.removeChild(dt)})}},[u]);const Y=I.useCallback(ke=>{if(oe.current=ke,!ke){te.current.forEach(st=>st()),te.current=[];return}const He=st=>{if(st){const Dt=st.getGui();ke.insertAdjacentElement("afterbegin",Dt),te.current.push(()=>{r.destroyBean(st),of(Dt)})}return st};if(y){const st=e.createSelectionCheckbox();He(st)}R&&He(e.createDndSource()),S&&He(e.createRowDragComp())},[e,r,R,S,y]),ue=I.useCallback(()=>{const ke=!e.isCellSpanning()||W.current,He=H.current;if(a.current=He?r.createBean(new Aw):r.destroyBean(a.current),!He||!ke||!e)return;const st={toggleCss:(ot,dt)=>G.current.toggleCss(ot,dt),setUserStyles:ot=>v(ot),getFocusableElement:()=>H.current,setIncludeSelection:ot=>C(ot),setIncludeRowDrag:ot=>x(ot),setIncludeDndSource:ot=>A(ot),getCellEditor:()=>ie.current||null,getCellRenderer:()=>$.current??Z.current,getParentOfValue:()=>ae.current??oe.current??H.current,setRenderDetails:(ot,dt,Ue)=>{c(qe=>(qe==null?void 0:qe.compDetails)!==ot||(qe==null?void 0:qe.value)!==dt||(qe==null?void 0:qe.force)!==Ue?{value:dt,compDetails:ot,force:Ue}:qe)},setEditDetails:(ot,dt,Ue,qe)=>{if(ot){let at;qe?at=new $ze(ot.params,()=>p(nt=>nt+1)):ot.componentFromFramework&&FV(),d({compDetails:ot,popup:dt,popupPosition:Ue,compProxy:at}),dt||c(void 0)}else e.hasBrowserFocus()&&st.getFocusableElement().focus({preventScroll:!0}),d(nt=>{nt!=null&&nt.compProxy&&(ie.current=void 0)})}},Dt=oe.current||void 0;e.setComp(st,He,W.current??void 0,Dt,t,n,a.current)},[]),J=I.useCallback(ke=>{H.current=ke,ue()},[]),he=I.useCallback(ke=>{W.current=ke,ue()},[]),Te=I.useMemo(()=>{var He;return!!(((He=l==null?void 0:l.compDetails)==null?void 0:He.componentFromFramework)&&uS(l.compDetails.componentClass))},[l]);I.useLayoutEffect(()=>{H.current&&(G.current.toggleCss("ag-cell-value",!K),G.current.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),G.current.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),G.current.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup),e.setInlineEditingCss())});const ve=()=>Ce.createElement(Ce.Fragment,null,l!=null&&Jze(l,h,o,$,K,Te,q),u!=null&&Qze(u,V,H.current,e,T)),Re=()=>Ce.createElement("div",{ref:J,style:m,role:F,"col-id":s},K?Ce.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Y},ve()):ve());return e.isCellSpanning()?Ce.createElement("div",{ref:he,className:"ag-spanned-cell-wrapper",role:"presentation"},Re()):Re()},tHe=I.memo(eHe),nHe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i}=I.useContext(Bo),r=I.useRef(),s=I.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[l,c]=I.useState(()=>a?e.rowNode.getRowIndexString():null),[u,d]=I.useState(()=>e.rowId),[h,p]=I.useState(()=>e.businessKey),[m,v]=I.useState(()=>e.rowStyles),y=I.useRef(null),C=I.useRef(null),[S,x]=I.useState(()=>null),[R,A]=I.useState(),[T,L]=I.useState(()=>a?e.getInitialRowTop(t):void 0),[O,F]=I.useState(()=>a?e.getInitialTransform(t):void 0),H=I.useRef(null),W=I.useRef(),$=I.useRef(!1),[Z,ie]=I.useState(0);I.useEffect(()=>{var se;if($.current||!R||Z>10)return;const G=(se=H.current)==null?void 0:se.firstChild;G?(e.setupDetailRowAutoHeight(G),$.current=!0):ie(Y=>Y+1)},[R,Z]);const oe=I.useRef();oe.current||(oe.current=new bR(()=>H.current));const te=I.useCallback(G=>{if(H.current=G,r.current=G?n.createBean(new Aw):n.destroyBean(r.current),!G){e.unsetComp(t);return}if(!e.isAlive())return;const se={setTop:L,setTransform:F,toggleCss:(Y,ue)=>oe.current.toggleCss(Y,ue),setDomOrder:Y=>s.current=Y,setRowIndex:c,setRowId:d,setRowBusinessKey:p,setUserStyles:v,setCellCtrls:(Y,ue)=>{C.current=y.current,y.current=Y;const J=sL(C.current,Y,s.current);J!==C.current&&oR(ue,()=>x(J))},showFullWidth:Y=>A(Y),getFullWidthCellRenderer:()=>W.current,refreshFullWidth:Y=>re.current?(A(ue=>({...ue,params:Y()})),!0):!W.current||!W.current.refresh?!1:W.current.refresh(Y())};e.setComp(se,G,t,r.current)},[]);I.useLayoutEffect(()=>T1(R,n,H.current,W),[R]);const ae=I.useMemo(()=>{const G={top:T,transform:O};return Object.assign(G,m),G},[T,O,m]),ne=o&&(R==null?void 0:R.componentFromFramework),Se=!o&&S!=null,q=I.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&uS(R.componentClass)),[R]),re=I.useRef(!1);I.useEffect(()=>{re.current=q&&!!R&&!!i.get("reactiveCustomComponents")},[q,R]);const K=()=>S==null?void 0:S.map(G=>Ce.createElement(tHe,{cellCtrl:G,editingRow:e.editing,printLayout:e.printLayout,key:G.instanceId})),V=()=>{const G=R.componentClass;return Ce.createElement(Ce.Fragment,null,q?Ce.createElement(G,{...R.params}):Ce.createElement(G,{...R.params,ref:W}))};return Ce.createElement("div",{ref:te,role:"row",style:ae,"row-index":l,"row-id":u,"row-business-key":h},Se&&K(),ne&&V())},pj=I.memo(nHe),iHe=({name:e})=>{const{context:t,gos:n}=I.useContext(Bo),i=I.useMemo(()=>SR(e),[e]),r=I.useRef(null),s=I.useRef(null),o=I.useRef(null),a=I.useRef([]),l=I.useRef([]),[c,u]=I.useState(()=>[]),d=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,h=I.useRef([]),p=I.useRef([]),[m,v]=I.useState(()=>[]),y=I.useRef(!1),C=I.useRef(),S=I.useMemo(()=>Vl("ag-viewport",S$(e)),[e]),x=I.useMemo(()=>Vl(iI(e)),[e]),R=I.useMemo(()=>Vl("ag-spanning-container",iue(e)),[e]),A=i.type==="center"||d,T=A?r:s;Nv(" AG Row Container "+e+" ",T);const L=I.useCallback(()=>{const oe=!A||r.current!=null,te=s.current!=null,ae=!d||o.current!=null;return oe&&te&&ae},[]),O=I.useCallback(()=>r.current==null&&s.current==null&&o.current==null,[]),F=I.useCallback(()=>{if(O()&&(C.current=t.destroyBean(C.current)),L()){const oe=ne=>{const Se=sL(l.current,a.current,y.current);Se!==l.current&&(l.current=Se,oR(ne,()=>u(Se)))},te=ne=>{const Se=sL(p.current,h.current,y.current);Se!==p.current&&(p.current=Se,oR(ne,()=>v(Se)))},ae={setHorizontalScroll:ne=>{r.current&&(r.current.scrollLeft=ne)},setViewportHeight:ne=>{r.current&&(r.current.style.height=ne)},setRowCtrls:({rowCtrls:ne,useFlushSync:Se})=>{const q=!!Se&&a.current.length>0&&ne.length>0;a.current=ne,oe(q)},setSpannedRowCtrls:(ne,Se)=>{const q=!!Se&&h.current.length>0&&ne.length>0;h.current=ne,te(q)},setDomOrder:ne=>{y.current!=ne&&(y.current=ne,oe(!1))},setContainerWidth:ne=>{s.current&&(s.current.style.width=ne)},setOffsetTop:ne=>{s.current&&(s.current.style.transform=`translateY(${ne})`)}};C.current=t.createBean(new fue(e)),C.current.setComp(ae,s.current,o.current??void 0,r.current)}},[L,O]),H=I.useCallback(oe=>{s.current=oe,F()},[F]),W=I.useCallback(oe=>{o.current=oe,F()},[F]),$=I.useCallback(oe=>{r.current=oe,F()},[F]),Z=()=>Ce.createElement("div",{className:x,ref:H,role:"rowgroup"},c.map(oe=>Ce.createElement(pj,{rowCtrl:oe,containerType:i.type,key:oe.instanceId})));if(!A)return Z();const ie=()=>d&&Ce.createElement("div",{className:R,ref:W,role:"rowgroup"},m.map(oe=>Ce.createElement(pj,{rowCtrl:oe,containerType:i.type,key:oe.instanceId})));return Ce.createElement("div",{className:S,ref:$,role:"presentation"},Z(),ie())},rHe=I.memo(iHe),sHe=()=>{const e=I.useContext(Bo),{context:t,overlays:n}=e,[i,r]=I.useState(""),[s,o]=I.useState(0),[a,l]=I.useState(0),[c,u]=I.useState("0px"),[d,h]=I.useState("0px"),[p,m]=I.useState("100%"),[v,y]=I.useState("0px"),[C,S]=I.useState("0px"),[x,R]=I.useState("100%"),[A,T]=I.useState(!0),[L,O]=I.useState(!0),[F,H]=I.useState(null),[W,$]=I.useState(""),[Z,ie]=I.useState(null),[oe,te]=I.useState("ag-layout-normal"),ae=I.useRef();ae.current||(ae.current=new bR(()=>ne.current));const ne=I.useRef(null),Se=I.useRef(null),q=I.useRef(null),re=I.useRef(null),K=I.useRef(null),V=I.useRef(null),G=I.useRef(null),se=I.useRef([]),Y=I.useRef([]);Nv(" AG Grid Body ",ne),Nv(" AG Pinned Top ",Se),Nv(" AG Sticky Top ",q),Nv(" AG Middle ",V),Nv(" AG Pinned Bottom ",G);const ue=I.useCallback(at=>{if(ne.current=at,!at){se.current=t.destroyBeans(se.current),Y.current.forEach(Qe=>Qe()),Y.current=[];return}if(!t)return;const nt=(Qe,mt)=>{Qe.appendChild(mt),Y.current.push(()=>Qe.removeChild(mt))},Fe=Qe=>{const mt=t.createBean(new Qe);return se.current.push(mt),mt},de=(Qe,mt,ln)=>{nt(Qe,document.createComment(ln)),nt(Qe,Fe(mt).getGui())};de(at,Cue," AG Fake Horizontal Scroll ");const we=n==null?void 0:n.getOverlayWrapperCompClass();we&&de(at,we," AG Overlay Wrapper "),K.current&&de(K.current,wue," AG Fake Vertical Scroll ");const Ge={setRowAnimationCssOnBodyViewport:r,setColumnCount:Qe=>{ne.current&&Hoe(ne.current,Qe)},setRowCount:Qe=>{ne.current&&Goe(ne.current,Qe)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:h,setStickyTopWidth:m,setTopInvisible:T,setBottomInvisible:O,setColumnMovingCss:(Qe,mt)=>ae.current.toggleCss(Qe,mt),updateLayoutClasses:te,setAlwaysVerticalScrollClass:H,setPinnedTopBottomOverflowY:$,setCellSelectableCss:(Qe,mt)=>ie(mt?Qe:null),setBodyViewportWidth:Qe=>{V.current&&(V.current.style.width=Qe)},registerBodyViewportResizeListener:Qe=>{if(V.current){const mt=wf(e,V.current,Qe);Y.current.push(()=>mt())}},setStickyBottomHeight:y,setStickyBottomBottom:S,setStickyBottomWidth:R,setGridRootRole:Qe=>at.setAttribute("role",Qe)},Le=t.createBean(new vue);se.current.push(Le),Le.setComp(Ge,at,V.current,Se.current,G.current,q.current,re.current)},[]),J=I.useMemo(()=>Vl("ag-root","ag-unselectable",oe),[oe]),he=I.useMemo(()=>Vl("ag-body-viewport",i,oe,F,Z),[i,oe,F,Z]),Te=I.useMemo(()=>Vl("ag-body",oe),[oe]),ve=I.useMemo(()=>Vl("ag-floating-top",A?"ag-invisible":null,Z),[Z,A]),Re=I.useMemo(()=>Vl("ag-sticky-top",Z),[Z]),ke=I.useMemo(()=>Vl("ag-sticky-bottom",v==="0px"?"ag-invisible":null,Z),[Z,v]),He=I.useMemo(()=>Vl("ag-floating-bottom",L?"ag-invisible":null,Z),[Z,L]),st=I.useMemo(()=>({height:s,minHeight:s,overflowY:W}),[s,W]),Dt=I.useMemo(()=>({height:c,top:d,width:p}),[c,d,p]),ot=I.useMemo(()=>({height:v,bottom:C,width:x}),[v,C,x]),dt=I.useMemo(()=>({height:a,minHeight:a,overflowY:W}),[a,W]),Ue=at=>Ce.createElement(rHe,{name:at,key:`${at}-container`}),qe=({section:at,children:nt,className:Fe,style:de})=>Ce.createElement("div",{ref:at,className:Fe,role:"presentation",style:de},nt.map(Ue));return Ce.createElement("div",{ref:ue,className:J},Ce.createElement(Wze,null),qe({section:Se,className:ve,style:st,children:["topLeft","topCenter","topRight","topFullWidth"]}),Ce.createElement("div",{className:Te,ref:K,role:"presentation"},qe({section:V,className:he,children:["left","center","right","fullWidth"]})),qe({section:q,className:Re,style:Dt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),qe({section:re,className:ke,style:ot,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),qe({section:G,className:He,style:dt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},oHe=I.memo(sHe),aHe=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=I.useContext(Bo),c=I.useRef(null),u=I.useRef(null),d=I.useRef(),h=C=>{const S=C==null?void 0:parseInt(C,10).toString();[c,u].forEach(x=>{var R,A;S===void 0?(R=x.current)==null||R.removeAttribute("tabindex"):(A=x.current)==null||A.setAttribute("tabindex",S)})};I.useImperativeHandle(t,()=>({forceFocusOutOfContainer(C){var S;(S=d.current)==null||S.forceFocusOutOfContainer(C)}}));const p=I.useCallback(()=>{const C=c.current,S=u.current;if(!C&&!S){d.current=l.destroyBean(d.current);return}if(C&&S){const x={setTabIndex:h};d.current=l.createBean(new k$({comp:x,eTopGuard:C,eBottomGuard:S,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:R=>s.focusInnerElement(R),isEmpty:a}))}},[]),m=I.useCallback(C=>{c.current=C,p()},[p]),v=I.useCallback(C=>{u.current=C,p()},[p]),y=C=>{const S=C==="top"?Tb.TAB_GUARD_TOP:Tb.TAB_GUARD_BOTTOM;return Ce.createElement("div",{className:`${Tb.TAB_GUARD} ${S}`,role:"presentation",ref:C==="top"?m:v})};return Ce.createElement(Ce.Fragment,null,y("top"),n,y("bottom"))},lHe=I.forwardRef(aHe),cHe=I.memo(lHe),uHe=({context:e})=>{const[t,n]=I.useState(""),[i,r]=I.useState(""),[s,o]=I.useState(null),[a,l]=I.useState(null),[c,u]=I.useState(!1),[d,h]=I.useState(),p=I.useRef(),m=I.useRef(null),v=I.useRef(),[y,C]=I.useState(null),S=I.useRef(()=>{}),x=I.useRef(),R=I.useRef([]),A=I.useCallback(()=>{},[]),T=I.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Nv(" AG Grid ",m);const L=I.useCallback(Z=>{if(m.current=Z,p.current=Z?e.createBean(new Dde):e.destroyBean(p.current),!Z||e.isDestroyed())return;const ie=p.current;S.current=ie.focusInnerElement.bind(ie);const oe={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:te=>{var ae,ne;if(!te&&((ae=x.current)!=null&&ae.isDisplayed())){x.current.forceFocusOutOfContainer(te);return}(ne=v.current)==null||ne.forceFocusOutOfContainer(te)},updateLayoutClasses:r,getFocusableContainers:()=>{var ne;const te=[],ae=(ne=m.current)==null?void 0:ne.querySelector(".ag-root");return ae&&te.push({getGui:()=>ae}),R.current.forEach(Se=>{Se.isDisplayed()&&te.push(Se)}),te},setCursor:o,setUserSelect:l};ie.setComp(oe,Z,Z),u(!0)},[]);I.useEffect(()=>{const Z=p.current,ie=m.current;if(!d||!T||!Z||!y||!ie)return;const oe=[],{watermarkSelector:te,paginationSelector:ae,sideBarSelector:ne,statusBarSelector:Se,gridHeaderDropZonesSelector:q}=Z.getOptionalSelectors(),re=[];if(q){const V=e.createBean(new q.component),G=V.getGui();ie.insertAdjacentElement("afterbegin",G),re.push(G),oe.push(V)}if(ne){const V=e.createBean(new ne.component),G=V.getGui(),se=y.querySelector(".ag-tab-guard-bottom");se&&(se.insertAdjacentElement("beforebegin",G),re.push(G)),oe.push(V),R.current.push(V)}const K=V=>{const G=e.createBean(new V),se=G.getGui();return ie.insertAdjacentElement("beforeend",se),re.push(se),oe.push(G),G};if(Se&&K(Se.component),ae){const V=K(ae.component);x.current=V,R.current.push(V)}return te&&K(te.component),()=>{e.destroyBeans(oe),re.forEach(V=>{var G;(G=V.parentElement)==null||G.removeChild(V)})}},[d,y,T]);const O=I.useMemo(()=>Vl("ag-root-wrapper",t,i),[t,i]),F=I.useMemo(()=>Vl("ag-root-wrapper-body","ag-focus-managed",i),[i]),H=I.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),W=I.useCallback(Z=>{v.current=Z,h(Z!==null)},[]),$=I.useCallback(()=>{var Z;return!((Z=p.current)!=null&&Z.isFocusable())},[]);return Ce.createElement("div",{ref:L,className:O,style:H,role:"presentation"},Ce.createElement("div",{className:F,ref:C,role:"presentation"},c&&y&&T&&Ce.createElement(Bo.Provider,{value:T},Ce.createElement(cHe,{ref:W,eFocusableElement:y,onTabKeyDown:A,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:$},Ce.createElement(oHe,null)))))},dHe=I.memo(uHe),hHe=class extends Be{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Nte={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},fHe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...Nte},Lte=new Set(Object.keys(fHe)),pHe=new Set(Object.keys(Nte)),kte=e=>{var y;const t=I.useRef(),n=I.useRef(null),i=I.useRef(null),r=I.useRef([]),s=I.useRef([]),o=I.useRef(e),a=I.useRef(),l=I.useRef(),c=I.useRef(!1),[u,d]=I.useState(void 0),[,h]=I.useState(0),p=I.useCallback(C=>{if(n.current=C,!C){r.current.forEach(W=>W()),r.current.length=0;return}const S=e.modules||[];i.current||(i.current=new kze(()=>h(W=>W+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{var W;(W=i.current)==null||W.destroy(),i.current=null}));const x=wae(e.gridOptions,e,Object.keys(e).filter(W=>!Lte.has(W))),R=()=>{if(c.current){const W=()=>{var Z;return(Z=a.current)!=null&&Z.shouldQueueUpdates()?void 0:s.current.shift()};let $=W();for(;$;)$(),$=W()}},A=new yHe(R);a.current=A;const T=new hHe,L={providedBeanInstances:{frameworkCompWrapper:new mHe(i.current,x.reactiveCustomComponents??wme("reactiveCustomComponents")??!0),renderStatus:T},modules:S,frameworkOverrides:A,setThemeOnGridDiv:!0},O=W=>{d(W),W.createBean(T),r.current.push(()=>{W.destroy()}),W.getBean("ctrlsSvc").whenReady({addDestroyFunc:$=>{r.current.push($)}},()=>{var Z;if(W.isDestroyed())return;const $=t.current;$&&((Z=e.passGridApi)==null||Z.call(e,$))})},F=W=>{W.getBean("ctrlsSvc").whenReady({addDestroyFunc:$=>{r.current.push($)}},()=>{s.current.forEach($=>$()),s.current.length=0,c.current=!0})},H=new xme;x.gridId??(x.gridId=l.current),t.current=H.create(C,x,O,F,L),r.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),m=I.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),v=I.useCallback(C=>{var S;c.current&&!((S=a.current)!=null&&S.shouldQueueUpdates())?C():s.current.push(C)},[]);return I.useEffect(()=>{const C=gHe(o.current,e);o.current=e,v(()=>{t.current&&Sae(C,t.current)})},[e]),Ce.createElement("div",{style:m,className:e.className,ref:p},u&&!u.isDestroyed()?Ce.createElement(dHe,{context:u}):null,((y=i.current)==null?void 0:y.getPortals())??null)};function gHe(e,t){const n={};return Object.keys(t).forEach(i=>{if(Lte.has(i)){pHe.has(i)&&it(274,{prop:i});return}const r=t[i];e[i]!==r&&(n[i]=r)}),n}var mHe=class extends Ame{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(s=>{switch(s){case"filter":return xze;case"floatingFilterComponent":return Eze;case"dateComponent":return wze;case"dragAndDropImageComponent":return Sze;case"loadingOverlayComponent":return Aze;case"noRowsOverlayComponent":return Dze;case"statusPanel":return Ize;case"toolPanel":return Nze;case"menuItem":return Tze;case"cellRenderer":return bze;case"innerHeaderComponent":return Rze}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":FV();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new Dte(e,this.parent,t,n)}},vHe=I.forwardRef((e,t)=>{const n=I.useContext(Bo),{registry:i,context:r,gos:s,rowModel:o}=n,[a,l]=I.useState(()=>new ql),[c,u]=I.useState(()=>new ql),[d,h]=I.useState(),[p,m]=I.useState(),v=I.useRef(),y=I.useRef(null),C=I.useRef(),S=I.useMemo(()=>$le(e.api.getGridId(),(d==null?void 0:d.rowModelType)??"clientSide"),[e]),x=I.useMemo(()=>a.toString()+" ag-details-row",[a]),R=I.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&I.useImperativeHandle(t,()=>({refresh(){var L;return((L=v.current)==null?void 0:L.refresh())??!1}})),e.template&&it(230);const A=I.useCallback(L=>{var H;if(y.current=L,!L){v.current=r.destroyBean(v.current),(H=C.current)==null||H.call(C);return}const O={toggleCss:(W,$)=>l(Z=>Z.setClass(W,$)),toggleDetailGridCss:(W,$)=>u(Z=>Z.setClass(W,$)),setDetailGrid:W=>h(W),setRowData:W=>m(W),getGui:()=>y.current},F=i.createDynamicBean("detailCellRendererCtrl",!0);if(F&&(r.createBean(F),F.init(O,e),v.current=F,s.get("detailRowAutoHeight"))){const W=()=>{if(y.current==null)return;const $=y.current.clientHeight;$!=null&&$>0&&setTimeout(()=>{e.node.setRowHeight($),(Ds(s)||Gy(s))&&o.onRowHeightChanged()},0)};C.current=wf(n,L,W),W()}},[]),T=I.useCallback(L=>{var O;(O=v.current)==null||O.registerDetailWithMaster(L)},[]);return Ce.createElement("div",{className:x,ref:A},d&&Ce.createElement(kte,{className:R,...d,modules:S,rowData:p,passGridApi:T}))}),yHe=class extends O${constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:uj,agGroupRowRenderer:uj,agDetailCellRenderer:vHe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?mze(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return gze()}},D1=class extends I.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Ce.createElement(kte,{...this.props,passGridApi:this.setGridApi})}};function CHe(e){const{setMethods:t}=I.useContext(gO);t(e)}function bHe(e){return CHe(e)}function _V(e){return t=>{const n=t.value,i=e[n];return typeof i=="object"&&i.className&&i.text?B.jsx("span",{className:`badge ${i.className}`,children:i.text}):B.jsx("span",{className:`badge ${i||""}`,children:n})}}function BV(){return e=>{const t=e.value;return t?B.jsx("span",{className:"border-border/50 bg-background text-contrast rounded-sm border p-[6px] text-xs",children:t}):B.jsx(B.Fragment,{})}}function Kn(e,t,n={}){return{field:e,headerName:t,type:"numericColumn",valueFormatter:i=>i.value==null?"":i.value.toLocaleString(),...n}}function cE(e){return e.value<0?{color:"red"}:null}const wHe={buy:{className:"badge-blue",text:"직매입"},partner:{className:"badge-orange",text:"위탁매입"}},Ote={전기이월:"badge-blue",반품:"badge-red",매입:"badge-dark",결제:"badge-green"},SHe=[{key:"buy",label:"직매입"},{key:"partner",label:"위탁매입"}],Pte=[{key:"전기이월",label:"전기이월"},{key:"반품",label:"반품"},{key:"매입",label:"매입"},{key:"결제",label:"결제"}],GV=[{key:"월 결제",label:"월 결제"},{key:"15일 결제",label:"15일 결제"},{key:"주 결제",label:"주 결제"},{key:"선금 지급",label:"선금 지급"},{key:"말일 결제",label:"말일 결제"},{key:"매입시 지급",label:"매입시 지급"}];var mO="Checkbox",[xHe,J6e]=jg(mO),[MHe,zV]=xHe(mO);function EHe(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:r,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=e,[h,p]=bw({prop:n,defaultProp:r??!1,onChange:l,caller:mO}),[m,v]=I.useState(null),[y,C]=I.useState(null),S=I.useRef(!1),x=m?!!o||!!m.closest("form"):!0,R={checked:h,disabled:s,setChecked:p,control:m,setControl:v,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:S,required:c,defaultChecked:vg(r)?!1:r,isFormControl:x,bubbleInput:y,setBubbleInput:C};return B.jsx(MHe,{scope:t,...R,children:RHe(d)?d(R):i})}var Fte="CheckboxTrigger",_te=I.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},r)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:m}=zV(Fte,e),v=Si(r,u),y=I.useRef(l);return I.useEffect(()=>{const C=s==null?void 0:s.form;if(C){const S=()=>d(y.current);return C.addEventListener("reset",S),()=>C.removeEventListener("reset",S)}},[s,d]),B.jsx(Xn.button,{type:"button",role:"checkbox","aria-checked":vg(l)?"mixed":l,"aria-required":c,"data-state":Ute(l),"data-disabled":a?"":void 0,disabled:a,value:o,...i,ref:v,onKeyDown:bn(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:bn(n,C=>{d(S=>vg(S)?!0:!S),m&&p&&(h.current=C.isPropagationStopped(),h.current||C.stopPropagation())})})});_te.displayName=Fte;var Bte=I.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:r,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...d}=e;return B.jsx(EHe,{__scopeCheckbox:n,checked:r,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:i,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>B.jsxs(B.Fragment,{children:[B.jsx(_te,{...d,ref:t,__scopeCheckbox:n}),h&&B.jsx(Vte,{__scopeCheckbox:n})]})})});Bte.displayName=mO;var Gte="CheckboxIndicator",zte=I.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...r}=e,s=zV(Gte,n);return B.jsx(Of,{present:i||vg(s.checked)||s.checked===!0,children:B.jsx(Xn.span,{"data-state":Ute(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});zte.displayName=Gte;var Hte="CheckboxBubbleInput",Vte=I.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:r,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:d,bubbleInput:h,setBubbleInput:p}=zV(Hte,e),m=Si(n,p),v=pee(s),y=BJ(i);I.useEffect(()=>{const S=h;if(!S)return;const x=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(x,"checked").set,T=!r.current;if(v!==s&&A){const L=new Event("click",{bubbles:T});S.indeterminate=vg(s),A.call(S,vg(s)?!1:s),S.dispatchEvent(L)}},[h,v,s,r]);const C=I.useRef(vg(s)?!1:s);return B.jsx(Xn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:a,disabled:l,name:c,value:u,form:d,...t,tabIndex:-1,ref:m,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Vte.displayName=Hte;function RHe(e){return typeof e=="function"}function vg(e){return e==="indeterminate"}function Ute(e){return vg(e)?"indeterminate":e?"checked":"unchecked"}function AHe({className:e,...t}){return B.jsx(Bte,{"data-slot":"checkbox",className:Nt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:B.jsx(zte,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-white transition-none",children:B.jsx(jQ,{className:"size-3.5"})})})}const THe=(e,t,n)=>I.useMemo(()=>{if(n)return n;const i=[],r=new Set;return e.forEachNode(s=>{const o=t(s),a=String(o);o!=null&&o!==""&&!r.has(a)&&(r.add(a),i.push({key:a,label:a}))}),i.sort((s,o)=>s.label.localeCompare(o.label))},[e,t,n]),DHe=e=>{const[t,n]=I.useState([]),[i,r]=I.useState(""),s=I.useCallback(()=>{e==="radio"?r(""):n([])},[e]);return{selectedData:t,selectedRadioValue:i,setSelectedData:n,setSelectedRadioValue:r,resetState:s}},Dg=({api:e,type:t,structure:n,onModelChange:i,getValue:r})=>{const s=THe(e,r,n),{selectedData:o,selectedRadioValue:a,setSelectedData:l,resetState:c}=DHe(t),u=I.useCallback(v=>{const y=String(r(v.node));return t==="radio"?!a||y===a:o.length===0||o.length===s.length||o.includes(y)},[t,a,o,s.length,r]);bHe({doesFilterPass:u});const d=I.useCallback(v=>{const y=v.length>0?{filterType:"set",values:v}:null;i(y)},[i]),h=I.useCallback((v,y)=>{const C=y?[...o,v]:o.filter(S=>S!==v);l(C),d(C)},[o,l,d]),p=I.useCallback(()=>{c(),d([])},[c,d]),m=I.useMemo(()=>s.map(v=>B.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-1 hover:bg-gray-50",children:[B.jsx(AHe,{checked:o.includes(v.key),onCheckedChange:y=>h(v.key,y),className:"h-4 w-4"}),B.jsx("span",{className:"text-xs text-gray-900",children:v.label})]},v.key)),[t,s,o,h]);return B.jsxs("div",{className:"min-w-[200px] overflow-y-auto bg-white p-2",children:[B.jsx("div",{className:"max-h-[200px] space-y-2 overflow-auto",children:m}),B.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:B.jsx("div",{className:"flex justify-end",children:B.jsx(no,{onClick:p,className:"h-[30px] rounded bg-gray-500 text-xs text-white hover:bg-gray-600",children:"초기화"})})})]})};Dg.displayName="SelectFilter";const IHe=_V(wHe),NHe=BV(),LHe=[{headerName:"ID",field:"company_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",pinned:"left",sortable:!0,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0},cellStyle:{cursor:"pointer"}},{field:"type",headerName:"매입 유형",filter:Dg,filterParams:{type:"checkbox",structure:SHe},cellRenderer:IHe,cellStyle:{textAlign:"center"}},{field:"payment_period",headerName:"결제주기",filter:Dg,filterParams:{type:"checkbox",structure:GV},cellRenderer:NHe,cellStyle:{textAlign:"center"}},{headerName:"사업자번호",field:"b_no"},Kn("previous_balance","전기이월액",{sortable:!0}),Kn("sales_amount","매출액",{sortable:!0,headerClass:"ag-header-2 centered"}),{headerName:"매입정보",headerClass:"ag-header-3 centered",children:[Kn("tax_purchase","매입 과세액",{columnGroupShow:"open"}),Kn("tax_free_purchase","매입 면세액",{columnGroupShow:"open"}),Kn("purchase_amount","매입액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}})]},{headerName:"정산정보",headerClass:"ag-header-4 centered",children:[Kn("commission_rate","정산 수수료(%)",{columnGroupShow:"open",cellStyle:{textAlign:"right"}}),Kn("app_fee","앱 수수료",{columnGroupShow:"open"}),Kn("other_fee","기타 수수료",{columnGroupShow:"open"}),Kn("expected_settlement","정산 예정액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}})]},{headerName:"결제정보",headerClass:"ag-header-5 centered",children:[Kn("discount_amount","결제 차감액[할인]"),Kn("payment_amount","결제 완료액",{sortable:!0,cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Kn("invoice_total","계산서발행 총액",{sortable:!0})]},Kn("balance","잔액",{minWidth:180,pinned:"right",sortable:!0,headerStyle:{backgroundColor:"rgb(255 252 151)",color:"red"},cellStyle:{backgroundColor:"rgb(253 255 217)",color:"red",fontWeight:"bold"}}),{headerName:"최종 매입일",field:"last_purchase_date",sortable:!0,cellStyle:{textAlign:"right"}},{headerName:"최종 지급일",field:"last_payment_date",sortable:!0,cellStyle:{textAlign:"right"}},Kn("total_product_inventory_value","상품재고액(전일자 기준)",{sortable:!0}),{headerName:"전자 세금계산서",field:"tax_invoice_email"},{headerName:"비고",field:"memo"}],kHe={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:LHe,rowModelType:"infinite",cacheBlockSize:100,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}},OHe=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Failed to load column state from localStorage:",t),null}},PHe=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save column state to localStorage:",n)}},FHe=e=>e.getColumnState(),_He=(e,t)=>{e.applyColumnState({state:t,applyOrder:!0})},BHe=(e,t)=>()=>{const n=FHe(t);PHe(e,n)},HV=(e,t)=>{const n=OHe(e);n&&_He(t,n);const i=BHe(e,t);t.addEventListener("columnMoved",i),t.addEventListener("columnPinned",i),t.addEventListener("columnVisible",i),t.addEventListener("sortChanged",i)},GHe=e=>{try{localStorage.removeItem(e)}catch(t){console.error("Failed to reset column state:",t)}},dS={INTEGRATED_SETTLEMENT:"grid-column-state-integrated-settlement",DIRECT_SETTLEMENT:"grid-column-state-direct-settlement",CONSIGNMENT_SETTLEMENT:"grid-column-state-consignment-settlement"},zHe=()=>{const e=XG(),t=dS.INTEGRATED_SETTLEMENT,n=I.useRef(null),i=new Date,[r,s]=I.useState({from:Wh(i),to:i}),[o,a]=I.useState(null),l=I.useCallback(()=>({getRows:async d=>{if(!r.from||!r.to){d.failCallback();return}try{const h=Math.floor(d.startRow/100)+1,m=await Ls({method:"get",endpoint:"/integrate/integrate_companies/",params:{start_date:Er(r.from,"yyyy-MM-dd"),end_date:Er(r.to,"yyyy-MM-dd"),filter:JSON.stringify(d.filterModel),sort:JSON.stringify(d.sortModel),page:h,size:100}}),v=(m==null?void 0:m.items)||[],y=(m==null?void 0:m.total)||0;d.successCallback(v,y)}catch(h){console.error("Failed to fetch data:",h),a(h.error),d.failCallback()}}}),[r.from,r.to]),c=d=>{var h;if(((h=d.colDef)==null?void 0:h.field)==="b_nm"){const p=d.data,m={id:p.company_id,name:p.b_nm,dateRange:r};p.type==="buy"?e("/direct",{state:m}):p.type==="partner"&&e("/consignment",{state:m})}},u=I.useCallback(d=>{if(HV(t,d.api),r.from&&r.to){const h=l();d.api.setGridOption("datasource",h)}},[r.from,r.to,l,t]);return I.useEffect(()=>{var d;if(a(null),(d=n.current)!=null&&d.api&&r.from&&r.to){const h=l();n.current.api.setGridOption("datasource",h)}},[r.from,r.to,l]),{gridRef:n,dateRange:r,handleCellClick:c,setDateRange:s,onGridReady:u,error:o}},VV=({storageKey:e,gridApi:t,onReset:n})=>{const i=()=>{GHe(e),t?(t.resetColumnState(),t.autoSizeAllColumns()):window.location.reload(),n==null||n()};return B.jsx(no,{onClick:i,variant:"outline",className:"px-3 py-1 text-xs",children:"컬럼 설정 초기화"})};function UV({className:e=""}){const t=XG(),n=Hd(),i=[{label:"통합매입사 대시보드",path:"/integrated"},{label:"위탁매입사 대시보드",path:"/consignment"},{label:"직매입사 대시보드",path:"/direct"}];return B.jsx("div",{className:`flex items-center gap-6 border-b border-gray-300 bg-transparent ${e}`,children:i.map(r=>{const s=n.pathname.startsWith(r.path);return B.jsx("span",{className:`relative py-2 text-sm font-medium cursor-pointer transition-colors duration-200
              ${s?"text-primary border-b-2 border-primary":"text-gray-400 border-b-2 border-transparent hover:text-primary"}
            `,onClick:()=>t(r.path),children:r.label},r.path)})})}function gj(){var o;const{gridRef:e,dateRange:t,handleCellClick:n,setDateRange:i,onGridReady:r,error:s}=zHe();return B.jsxs("div",{className:"flex w-full flex-col gap-6",children:[B.jsx(UV,{}),B.jsxs("div",{className:"flex flex-col gap-1",children:[B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),B.jsx(nO,{date:t,onDateSelect:({from:a,to:l})=>i({from:a,to:l}),contentAlign:"start",maxDateType:"today"})]}),B.jsx(VV,{storageKey:dS.INTEGRATED_SETTLEMENT,gridApi:(o=e.current)==null?void 0:o.api})]}),B.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),B.jsxs("div",{className:"relative h-[600px] w-full",children:[B.jsx(D1,{ref:e,gridOptions:kHe,onGridReady:r,onCellClicked:n}),s&&B.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:B.jsx("div",{className:"bg-foreground border-foreground rounded-lg border p-6 text-center shadow-lg",children:B.jsx("p",{className:"text-contrast text-sm font-medium",children:s})})})]})]})}const mj=e=>{let t;const n=new Set,i=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},r=()=>t,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(i,r,a);return a},HHe=e=>e?mj(e):mj,VHe=e=>e;function UHe(e,t=VHe){const n=Ce.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Ce.useDebugValue(n),n}const vj=e=>{const t=HHe(e),n=i=>UHe(t,i);return Object.assign(n,t),n},WV=e=>e?vj(e):vj,I1=WV(e=>({message:null,isOpen:!1,setAlertMessage:t=>e({isOpen:!0,message:t}),closeAlert:()=>e({isOpen:!1,message:null})})),Wte=WV(e=>({isLoading:!1,message:"처리 중...",setLoading:(t,n="처리 중...")=>e({isLoading:t,message:n})}));function cy({requestFn:e,onSuccess:t,onError:n,onFetching:i,onSettled:r,showSpinner:s=!1,spinnerMessage:o="처리 중..."}){const{setAlertMessage:a}=I1(),{setLoading:l}=Wte(),[c,u]=I.useState();return{response:c,request:async h=>{s&&l(!0,o),i==null||i();try{const p=await e(h);u(p),(t||p)&&(t==null||t(p))}catch(p){if(n)n==null||n(p);else return p instanceof B4&&typeof p.error=="string"?a(p.error):a(String(p))}finally{s&&l(!1),r==null||r()}}}}const jV=WV(e=>({title:"알림",message:"",isOpen:!1,onConfirm:null,onCancel:null,showConfirm:({title:t="알림",message:n,onConfirm:i,onCancel:r})=>e({isOpen:!0,title:t,message:n,onConfirm:i,onCancel:r}),closeConfirm:()=>e({isOpen:!1,title:"알림",message:"",onConfirm:null,onCancel:null})})),jte=()=>{const{showConfirm:e}=jV();return n=>new Promise(i=>{e({title:n.title,message:n.message,onConfirm:()=>i(!0),onCancel:()=>i(!1)})})},yj=50,Cj={PAYMENT_CREATED:"결제 정보가 입력되었습니다.",DELETE_CONFIRM:"결제데이터를 삭제하시겠습니까?"},WHe=()=>{var x,R,A;const e=Hd(),t=jte(),{setAlertMessage:n}=I1(),i=dS.DIRECT_SETTLEMENT,r=I.useRef(null),s=new Date,[o,a]=I.useState(((x=e.state)==null?void 0:x.dateRange)||{from:Wh(s),to:s}),[l,c]=I.useState({id:((R=e.state)==null?void 0:R.id)||"",name:((A=e.state)==null?void 0:A.name)||""}),u=I.useRef(o);I.useEffect(()=>{u.current=o},[o]);const d=bg({queryKey:["buy_companies",l.id],queryFn:()=>Ls({method:"get",endpoint:`/purchase/buy_companies/${l.id}/`}),enabled:!!l.id}),h=I.useCallback(()=>({getRows:async T=>{const{from:L,to:O}=u.current;if(!l.id||!L||!O){T.failCallback();return}try{const F=Math.floor(T.startRow/yj)+1,H=Er(L,"yyyy-MM-dd"),W=Er(O,"yyyy-MM-dd"),$=await Ls({method:"get",endpoint:`/purchase/buy_companies/${l.id}/details/`,params:{start_date:H,end_date:W,filter:JSON.stringify(T.filterModel),page:F,size:yj}}),Z=($==null?void 0:$.items)||[],ie=($==null?void 0:$.total)||0;T.successCallback(Z,ie)}catch(F){console.error("Failed to fetch data:",F),T.failCallback()}}}),[l.id]),p=I.useCallback(()=>{var T;if((T=r.current)!=null&&T.api&&l.id&&o.from&&o.to){const L=h();r.current.api.setGridOption("datasource",L)}},[h,l.id,o.from,o.to]),{request:m}=cy({requestFn:async T=>await Ls({method:"post",endpoint:`/purchase/buy_companies/${l.id}/payment/`,body:{payment_date:Er(T.processDate,"yyyy-MM-dd"),payment_amount:Number(T.amount),payment_note:T.notes}}),onSuccess:()=>{p(),n(Cj.PAYMENT_CREATED)}}),{request:v}=cy({requestFn:async T=>await Ls({method:"patch",endpoint:`/purchase/buy_companies/${l.id}/payment/`,body:{detail_id:String(T.id),payment_amount:Number(T.amount),payment_note:T.notes}}),onSuccess:()=>{p()},showSpinner:!0,spinnerMessage:"결제 정보 수정 중"}),{request:y}=cy({requestFn:async T=>await Ls({method:"delete",endpoint:`/purchase/buy_companies/${l.id}/payment/`,params:{detail_id:T.detail_id}}),onSuccess:()=>{p()},showSpinner:!0,spinnerMessage:"결제 정보 삭제 중"}),C=async T=>{await t({message:Cj.DELETE_CONFIRM})&&await y(T)},S=I.useCallback(T=>{if(HV(i,T.api),l.id&&o.from&&o.to){const L=h();T.api.setGridOption("datasource",L)}},[l.id,o.from,o.to,i]);return I.useEffect(()=>{p()},[p]),{gridRef:r,dateRange:o,selectedBuyer:l,buyerInfo:d.data,isBuyerInfoLoading:d.isLoading,setDateRange:a,setSelectedBuyer:c,handlePaymentSubmit:m,handleEdit:v,handleDelete:C,onGridReady:S}};function $te({className:e,type:t,...n}){return B.jsx("input",{type:t,"data-slot":"input",className:Nt("bg-input-background border border-input-border text-contrast placeholder:text-placeholder","file:text-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-input-disabled md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[1px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var vO="Dialog",[Yte,Kte]=jg(vO),[jHe,mu]=Yte(vO),qte=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=e,a=I.useRef(null),l=I.useRef(null),[c,u]=bw({prop:i,defaultProp:r??!1,onChange:s,caller:vO});return B.jsx(jHe,{scope:t,triggerRef:a,contentRef:l,contentId:mg(),titleId:mg(),descriptionId:mg(),open:c,onOpenChange:u,onOpenToggle:I.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};qte.displayName=vO;var Zte="DialogTrigger",Xte=I.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=mu(Zte,n),s=Si(t,r.triggerRef);return B.jsx(Xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":KV(r.open),...i,ref:s,onClick:bn(e.onClick,r.onOpenToggle)})});Xte.displayName=Zte;var $V="DialogPortal",[$He,Qte]=Yte($V,{forceMount:void 0}),Jte=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:r}=e,s=mu($V,t);return B.jsx($He,{scope:t,forceMount:n,children:I.Children.map(i,o=>B.jsx(Of,{present:n||s.open,children:B.jsx(x1,{asChild:!0,container:r,children:o})}))})};Jte.displayName=$V;var oL="DialogOverlay",ene=I.forwardRef((e,t)=>{const n=Qte(oL,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=mu(oL,e.__scopeDialog);return s.modal?B.jsx(Of,{present:i||s.open,children:B.jsx(KHe,{...r,ref:t})}):null});ene.displayName=oL;var YHe=Ry("DialogOverlay.RemoveScroll"),KHe=I.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=mu(oL,n);return B.jsx(eO,{as:YHe,allowPinchZoom:!0,shards:[r.contentRef],children:B.jsx(Xn.div,{"data-state":KV(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Oy="DialogContent",tne=I.forwardRef((e,t)=>{const n=Qte(Oy,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=mu(Oy,e.__scopeDialog);return B.jsx(Of,{present:i||s.open,children:s.modal?B.jsx(qHe,{...r,ref:t}):B.jsx(ZHe,{...r,ref:t})})});tne.displayName=Oy;var qHe=I.forwardRef((e,t)=>{const n=mu(Oy,e.__scopeDialog),i=I.useRef(null),r=Si(t,n.contentRef,i);return I.useEffect(()=>{const s=i.current;if(s)return CV(s)},[]),B.jsx(nne,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bn(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:bn(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:bn(e.onFocusOutside,s=>s.preventDefault())})}),ZHe=I.forwardRef((e,t)=>{const n=mu(Oy,e.__scopeDialog),i=I.useRef(!1),r=I.useRef(!1);return B.jsx(nne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(i.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),nne=I.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=e,a=mu(Oy,n),l=I.useRef(null),c=Si(t,l);return oV(),B.jsxs(B.Fragment,{children:[B.jsx(Kk,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:B.jsx(w1,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":KV(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),B.jsxs(B.Fragment,{children:[B.jsx(QHe,{titleId:a.titleId}),B.jsx(eVe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),YV="DialogTitle",ine=I.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=mu(YV,n);return B.jsx(Xn.h2,{id:r.titleId,...i,ref:t})});ine.displayName=YV;var rne="DialogDescription",sne=I.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=mu(rne,n);return B.jsx(Xn.p,{id:r.descriptionId,...i,ref:t})});sne.displayName=rne;var one="DialogClose",ane=I.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=mu(one,n);return B.jsx(Xn.button,{type:"button",...i,ref:t,onClick:bn(e.onClick,()=>r.onOpenChange(!1))})});ane.displayName=one;function KV(e){return e?"open":"closed"}var lne="DialogTitleWarning",[XHe,cne]=DPe(lne,{contentName:Oy,titleName:YV,docsSlug:"dialog"}),QHe=({titleId:e})=>{const t=cne(lne),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},JHe="DialogDescriptionWarning",eVe=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cne(JHe).contentName}}.`;return I.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},une=qte,dne=Xte,hne=Jte,fne=ene,pne=tne,gne=ine,tVe=sne,qV=ane;function ZV({...e}){return B.jsx(une,{"data-slot":"dialog",...e})}function nVe({...e}){return B.jsx(dne,{"data-slot":"dialog-trigger",...e})}function iVe({...e}){return B.jsx(hne,{"data-slot":"dialog-portal",...e})}function rVe({className:e,...t}){return B.jsx(fne,{"data-slot":"dialog-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 ",e),...t})}function XV({className:e,children:t,showCloseButton:n=!0,...i}){return B.jsxs(iVe,{"data-slot":"dialog-portal",children:[B.jsx(rVe,{}),B.jsxs(pne,{"data-slot":"dialog-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[30%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border p-6 duration-200","[box-shadow:0_1px_10px_rgba(0,0,0,0.30),0_10px_15px_rgba(0,0,0,0.22)]",e),...i,children:[t,n&&B.jsxs(qV,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[B.jsx(ELe,{}),B.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function QV({className:e,...t}){return B.jsx("div",{"data-slot":"dialog-header",className:Nt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sVe({className:e,...t}){return B.jsx("div",{"data-slot":"dialog-footer",className:Nt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function JV({className:e,...t}){return B.jsx(gne,{"data-slot":"dialog-title",className:Nt("text-lg leading-none font-semibold",e),...t})}function mne({placeholder:e="",label:t,value:n="",onSelect:i,valueKey:r="id",displayKey:s="name",className:o="",disabled:a=!1,endpoint:l,columnDefs:c}){var v;const[u,d]=I.useState(!1),h=bg({queryKey:["dataSelector",l],queryFn:()=>Ls({method:"get",endpoint:l}),enabled:u}),p={defaultColDef:{headerClass:"centered"},columnDefs:c},m=y=>{const{data:C}=y,S=C[r],x=C[s];i(S,x),d(!1)};return B.jsxs("div",{className:`flex gap-2 ${o}`,children:[B.jsx($te,{type:"text",placeholder:e,value:n,className:"flex-1",readOnly:!0,disabled:a}),B.jsxs(ZV,{open:u,onOpenChange:d,children:[B.jsx(nVe,{asChild:!0,children:B.jsxs(no,{className:"whitespace-nowrap bg-primary text-white border-primary hover:bg-primary-hover hover:border-primary-hover",disabled:a,children:[B.jsx(bLe,{className:"inline-block"}),"선택"]})}),B.jsxs(XV,{className:"w-[650px] border-border bg-background text-contrast max-h-[80vh]",children:[B.jsx(QV,{children:B.jsxs(JV,{children:[t," 선택"]})}),B.jsxs("div",{className:"h-96 w-full",children:[B.jsx(D1,{gridOptions:p,rowData:h.data,onRowClicked:m,rowSelection:"single",components:{customFilter:Dg},suppressDragLeaveHidesColumns:!0}),((v=h.data)==null?void 0:v.length)===0&&B.jsx("div",{className:"text-center py-8 text-gray-500",children:"데이터가 없습니다."})]})]})]})]})}function vne({data:e,info:t,groupSize:n=3}){return B.jsx("div",{className:"flex flex-col border-t border-border text-sm text-gray-900",children:Q3(e,n).map((i,r)=>B.jsx("div",{className:"flex items-center border-b border-border bg-background text-contrast p-3",children:i.map((s,o)=>{const l=r===Q3(e,n).length-1&&i.length===2;let c="w-1/3";return i.length===1?c="w-full":l&&(c=o===0?"w-1/3":"w-2/3"),B.jsxs("div",{className:`flex ${c}`,children:[B.jsx("div",{className:"flex items-center font-semibold w-[135px]",children:s.label}),B.jsx("div",{className:"flex items-center flex-1",children:(t==null?void 0:t[s.value])||"-"})]},o)})},r))})}function oVe({className:e,...t}){return B.jsx("textarea",{"data-slot":"textarea",className:Nt("bg-input-background border border-input-border text-contrast placeholder:text-placeholder","flex min-h-[60px] w-full min-w-0 rounded-md px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none resize-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[1px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}function yO({onSubmit:e,title:t="결제 입력",buttonText:n="결제 입력",buttonClassName:i="text-xs text-white bg-primary border-primary hover:bg-primary-hover hover:border-primary-hover",children:r,initialData:s}){var S;const[o,a]=I.useState(!1),l=new Date,c=()=>({id:(s==null?void 0:s.id)||null,processDate:(s==null?void 0:s.processDate)||l,amount:(s==null?void 0:s.amount)||null,notes:(s==null?void 0:s.notes)||""}),[u,d]=I.useState(c()),[h,p]=I.useState(!1),m=x=>{const{value:R}=x.target,A=R.replace(/[^0-9]/g,"");if(A===""){d({...u,amount:null});return}const T=parseInt(A);d({...u,amount:T})},v=()=>{if(!u.amount){alert("결제금액은 필수 입력 항목입니다.");return}e(u),a(!1),d(c())},y=()=>{a(!1),d(c())},C=()=>{d(c()),a(!0)};return B.jsxs(B.Fragment,{children:[B.jsx(no,{className:i,onClick:C,children:r||n}),B.jsx(ZV,{open:o,onOpenChange:a,children:B.jsxs(XV,{className:"text-contrast sm:max-w-[425px]",children:[B.jsx(QV,{children:B.jsx(JV,{children:t})}),B.jsxs("div",{className:"grid gap-4 py-4",children:[B.jsxs("div",{className:"grid gap-2",children:[B.jsx("label",{htmlFor:"processDate",className:"text-sm font-medium",children:"처리일자"}),B.jsxs(wV,{open:h,onOpenChange:p,children:[B.jsx(SV,{asChild:!0,children:B.jsxs(no,{variant:"outline",className:Nt("w-full justify-start text-left font-normal",!u.processDate&&"text-muted-foreground"),children:[B.jsx(WQ,{className:"h-4 w-4"}),u.processDate?Er(u.processDate,"yyyy-MM-dd"):B.jsx("span",{children:"날짜를 선택해주세요"})]})}),B.jsx(xV,{className:"bg-background w-auto p-0",children:B.jsx(sV,{mode:"single",selected:u.processDate,onSelect:x=>{x&&(d({...u,processDate:x}),p(!1))}})})]})]}),B.jsxs("div",{className:"grid gap-2",children:[B.jsxs("label",{htmlFor:"amount",className:"text-sm font-medium",children:["결제금액 ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx($te,{id:"amount",type:"text",placeholder:"결제금액을 입력해주세요",value:((S=u.amount)==null?void 0:S.toLocaleString("ko-KR"))||"",onChange:m})]}),B.jsxs("div",{className:"grid gap-2",children:[B.jsx("label",{htmlFor:"notes",className:"text-sm font-medium",children:"비고"}),B.jsx(oVe,{id:"notes",placeholder:"비고사항을 입력해주세요",value:u.notes,onChange:x=>d({...u,notes:x.target.value}),className:"min-h-[80px]"})]})]}),B.jsxs(sVe,{children:[B.jsx(no,{variant:"outline",onClick:y,children:"취소"}),B.jsx(no,{className:"bg-primary border-primary hover:bg-primary-hover hover:border-primary-hover text-white",onClick:v,children:"저장"})]})]})})]})}function yne({endpoint:e,companyId:t,detailId:n}){const[i,r]=I.useState(!1),{data:s,isLoading:o,isError:a}=bg({queryKey:["log",e,t,n],queryFn:()=>Ls({method:"get",endpoint:e,params:{company_id:t,detail_id:n}}),enabled:i}),l=()=>{r(!0)},c=()=>{if(!s)return null;const u=Array.isArray(s)?s:s.items||[];if(!u.length)return B.jsx("div",{className:"h-full content-center text-contrast text-center py-8",children:"No logs."});const h={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:[{headerName:"변경일자",field:"status_changed_at",flex:.3},{headerName:"내용",field:"description",flex:1}]};return B.jsx("div",{className:"text-xs h-full w-full",children:B.jsx(D1,{rowData:u,gridOptions:h,suppressDragLeaveHidesColumns:!0})})};return B.jsxs(B.Fragment,{children:[B.jsx(no,{className:"w-[32px] h-[30px] bg-gray-200 hover:bg-gray-300",onClick:l,children:B.jsx(vLe,{size:16})}),B.jsx(ZV,{open:i,onOpenChange:r,children:B.jsxs(XV,{className:"sm:max-w-[1000px] text-contrast",children:[B.jsx(QV,{children:B.jsxs(JV,{children:["[",n,"] Logs"]})}),B.jsxs("div",{className:"py-4 min-h-[400px]",children:[o&&B.jsx("div",{className:"text-center",children:"Loading"}),a&&B.jsx("div",{className:"text-center",children:"Failed to load data."}),!o&&!a&&c()]})]})})]})}const aVe=BV(),lVe=[{headerName:"ID",field:"buy_company_id",flex:.3,cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",headerClass:"",flex:1,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0}},{field:"payment_period",flex:.5,headerName:"결제주기",sortable:!1,filter:Dg,filterParams:{type:"checkbox",structure:GV},floatingFilter:!1,cellRenderer:aVe,cellStyle:{textAlign:"center"}}],cVe=_V(Ote),uVe=(e,t,n)=>i=>{var o,a,l,c,u;if(!(((o=i.data)==null?void 0:o.type)==="결제"))return null;const s=()=>t(i.data);return Ce.createElement("div",{className:"flex gap-2 items-center justify-center h-full"},[Ce.createElement(yO,{key:"edit",title:"결제 수정",buttonClassName:"w-[32px] h-[30px] bg-blue-500 text-white hover:bg-blue-300",onSubmit:e,initialData:{id:i.data.detail_id,processDate:(a=i.data)!=null&&a.process_date?new Date(i.data.process_date):new Date,amount:((l=i.data)==null?void 0:l.payment_amount)||null,notes:(c=i.data)!=null&&c.memo&&((u=i.data.memo.split("|").pop())==null?void 0:u.trim())||""}},Ce.createElement(YQ,{size:16})),Ce.createElement(no,{key:"delete",className:"w-[32px] h-[30px] bg-red-500 text-white hover:bg-red-300",onClick:s},Ce.createElement(KQ,{size:16})),Ce.createElement(yne,{key:"log",endpoint:"/log/buy_company_logs/",companyId:n,detailId:i.data.detail_id})])},Cne=(e,t,n)=>[{headerName:"ID",field:"detail_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"전표상태",field:"type",pinned:"left",filter:Dg,filterParams:{type:"checkbox",structure:Pte},cellStyle:{textAlign:"center"},cellRenderer:cVe},{headerName:"처리일자",field:"process_date",pinned:"left"},{headerName:"매입정보",headerClass:"ag-header-2 centered",children:[Kn("purchase_tax_amount","매입 과세액",{columnGroupShow:"open",cellStyle:cE}),Kn("purchase_tax_free_amount","매입 면세액",{columnGroupShow:"open",cellStyle:cE}),Kn("purchase_amount","매입액",{cellStyle:i=>{const r={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...r,color:"red"}:r}})]},{headerName:"결제정보",headerClass:"ag-header-3 centered",children:[Kn("discount_amount","결제 차감액[할인]"),Kn("payment_amount","결제 완료액",{cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Kn("invoice_total","계산서발행 총액")]},Kn("balance","잔액",{headerClass:"ag-header-accent ag-right-aligned-header",cellStyle:i=>{const r={backgroundColor:"rgb(253 255 217)"};return i.value<0?{...r,color:"red"}:r}}),{headerName:"비고",field:"memo",flex:1,minWidth:500},{headerName:"관리",field:"event",minWidth:100,cellRenderer:uVe(e,t,n),sortable:!1,filter:!1,pinned:"right",cellStyle:{textAlign:"center",padding:"4px"}}],dVe=Cne(()=>console.log("update"),()=>console.log("delete"),""),hVe={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:dVe,rowModelType:"infinite",cacheBlockSize:50,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}},fVe=[{label:"사업자번호",value:"b_no"},{label:"담당자 연락처",value:"phone"},{label:"주소",value:"address"},{label:"은행명",value:"bank_name"},{label:"계좌번호",value:"bank_num"},{label:"예금주",value:"bank_holder"},{label:"결제주기",value:"payment_period"},{label:"관리자 메모",value:"memo"}];function pVe(){var h;const{gridRef:e,dateRange:t,selectedBuyer:n,buyerInfo:i,setDateRange:r,setSelectedBuyer:s,handlePaymentSubmit:o,handleEdit:a,handleDelete:l,onGridReady:c}=WHe(),u=I.useMemo(()=>Cne(a,l,n.id),[a,l,n.id]),d=I.useMemo(()=>({...hVe,columnDefs:u}),[u]);return B.jsxs("div",{className:"w-full flex flex-col gap-6",children:[B.jsx(UV,{}),B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex flex-col gap-1",children:[B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-semibold",children:"매입사 :"}),B.jsx(mne,{className:"w-[300px]",placeholder:"매입사를 선택해주세요",label:"직매입사",endpoint:"/purchase/buy_companies/",valueKey:"buy_company_id",displayKey:"b_nm",columnDefs:lVe,value:n.name,onSelect:(p,m)=>s({id:p,name:m})})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),B.jsx(nO,{date:t,onDateSelect:({from:p,to:m})=>r({from:p,to:m}),contentAlign:"end",maxDateType:"today"})]})]}),B.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx(VV,{storageKey:dS.DIRECT_SETTLEMENT,gridApi:(h=e.current)==null?void 0:h.api}),B.jsx(yO,{onSubmit:o})]})]}),B.jsx(vne,{data:fVe,info:i}),B.jsx("div",{className:"w-full h-[500px]",children:n!=null&&n.id?B.jsx(D1,{ref:e,gridOptions:d,onGridReady:c}):B.jsx("div",{className:"flex items-center justify-center h-full bg-foreground border border-border rounded-lg",children:B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-contrast text-lg font-medium",children:"매입사를 선택해주세요"}),B.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"조회할 매입사를 선택해주시기 바랍니다."})]})})})]})}const bj=50,wj={PAYMENT_CREATED:"결제 정보가 입력되었습니다.",DELETE_CONFIRM:"결제데이터를 삭제하시겠습니까?"},gVe=()=>{var x,R,A;const e=Hd(),t=jte(),{setAlertMessage:n}=I1(),i=dS.CONSIGNMENT_SETTLEMENT,r=I.useRef(null),s=new Date,[o,a]=I.useState(((x=e.state)==null?void 0:x.dateRange)||{from:Wh(s),to:s}),[l,c]=I.useState({id:((R=e.state)==null?void 0:R.id)||"",name:((A=e.state)==null?void 0:A.name)||""}),u=I.useRef(o);I.useEffect(()=>{u.current=o},[o]);const d=bg({queryKey:["partner_companies",l.id],queryFn:()=>Ls({method:"get",endpoint:`/partner/partner_companies/${l.id}/`}),enabled:!!l.id}),h=I.useCallback(()=>({getRows:async T=>{const{from:L,to:O}=u.current;if(!l.id||!L||!O){T.failCallback();return}try{const F=Math.floor(T.startRow/bj)+1,H=Er(L,"yyyy-MM-dd"),W=Er(O,"yyyy-MM-dd"),$=await Ls({method:"get",endpoint:`/partner/partner_companies/${l.id}/details/`,params:{start_date:H,end_date:W,filter:JSON.stringify(T.filterModel),page:F,size:bj}}),Z=($==null?void 0:$.items)||[],ie=($==null?void 0:$.total)||0;T.successCallback(Z,ie)}catch(F){console.error("Failed to fetch data:",F),T.failCallback()}}}),[l.id]),p=I.useCallback(()=>{var T;if((T=r.current)!=null&&T.api&&l.id&&o.from&&o.to){const L=h();r.current.api.setGridOption("datasource",L)}},[h,l.id,o.from,o.to]),{request:m}=cy({requestFn:async T=>await Ls({method:"post",endpoint:`/partner/partner_companies/${l.id}/payment/`,body:{payment_date:Er(T.processDate,"yyyy-MM-dd"),payment_amount:Number(T.amount),payment_note:T.notes}}),onSuccess:()=>{p(),n(wj.PAYMENT_CREATED)}}),{request:v}=cy({requestFn:async T=>await Ls({method:"patch",endpoint:`/partner/partner_companies/${l.id}/payment/`,body:{detail_id:String(T.id),payment_amount:Number(T.amount),payment_note:T.notes}}),onSuccess:()=>{p()},showSpinner:!0,spinnerMessage:"결제 정보 수정 중"}),{request:y}=cy({requestFn:async T=>await Ls({method:"delete",endpoint:`/partner/partner_companies/${l.id}/payment/`,params:{detail_id:T.detail_id}}),onSuccess:()=>{p()},showSpinner:!0,spinnerMessage:"결제 정보 삭제 중"}),C=async T=>{await t({message:wj.DELETE_CONFIRM})&&await y(T)},S=I.useCallback(T=>{if(HV(i,T.api),l.id&&o.from&&o.to){const L=h();T.api.setGridOption("datasource",L)}},[l.id,o.from,o.to,i,h]);return I.useEffect(()=>{p()},[p]),{gridRef:r,dateRange:o,selectedPartner:l,partnerInfo:d.data,isPartnerInfoLoading:d.isLoading,setDateRange:a,setSelectedPartner:c,handlePaymentSubmit:m,handleEdit:v,handleDelete:C,onGridReady:S}},mVe=[{label:"사업자번호",value:"b_no"},{label:"담당자 연락처",value:"phone"},{label:"주소",value:"address"},{label:"은행명",value:"bank_name"},{label:"계좌번호",value:"bank_num"},{label:"예금주",value:"bank_holder"},{label:"전자세금계산서",value:"tax_invoice_email"},{label:"관리자 메모",value:"memo"}],vVe=BV(),yVe=[{headerName:"ID",field:"partner_company_id",flex:.3,cellStyle:{textAlign:"center"}},{headerName:"매입사명",field:"b_nm",headerClass:"",flex:1,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],maxNumConditions:0}},{field:"payment_period",flex:.5,headerName:"결제주기",sortable:!1,filter:Dg,filterParams:{type:"checkbox",structure:GV},floatingFilter:!1,cellRenderer:vVe,cellStyle:{textAlign:"center"}}],CVe=_V(Ote),bVe=(e,t,n)=>i=>{var o,a,l,c,u;if(!(((o=i.data)==null?void 0:o.type)==="결제"))return null;const s=()=>t(i.data);return Ce.createElement("div",{className:"flex gap-2 items-center justify-center h-full"},[Ce.createElement(yO,{key:"edit",title:"결제 수정",buttonClassName:"w-[32px] h-[30px] bg-blue-500 text-white hover:bg-blue-300",onSubmit:e,initialData:{id:i.data.detail_id,processDate:(a=i.data)!=null&&a.process_date?new Date(i.data.process_date):new Date,amount:((l=i.data)==null?void 0:l.payment_amount)||null,notes:(c=i.data)!=null&&c.note&&((u=i.data.note.split("|").pop())==null?void 0:u.trim())||""}},Ce.createElement(YQ,{size:16})),Ce.createElement(no,{key:"delete",className:"w-[32px] h-[30px] bg-red-500 text-white hover:bg-red-300",onClick:s},Ce.createElement(KQ,{size:16})),Ce.createElement(yne,{key:"log",endpoint:"/log/partner_company_logs/",companyId:n,detailId:i.data.detail_id})])},bne=(e,t,n)=>[{headerName:"ID",field:"detail_id",pinned:"left",cellStyle:{textAlign:"center"}},{headerName:"전표상태",field:"type",pinned:"left",filter:Dg,filterParams:{type:"checkbox",structure:Pte},cellStyle:{textAlign:"center"},cellRenderer:CVe},{headerName:"처리일자",pinned:"left",field:"process_date"},{headerName:"매출정보",wrapHeaderText:!0,autoHeaderHeight:!0,headerClass:"ag-header-2 centered",children:[Kn("sales_amount","매출액",{cellStyle:cE})]},{headerName:"매입정보",headerClass:"ag-header-3 centered",children:[Kn("tax_purchase","매입 과세액",{columnGroupShow:"open",cellStyle:cE}),Kn("tax_free_purchase","매입 면세액",{columnGroupShow:"open",cellStyle:cE}),Kn("purchase_amount","매입액",{cellStyle:i=>{const r={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...r,color:"red"}:r}})]},{headerName:"정산정보",headerClass:"ag-header-4 centered",children:[Kn("commission_rate","정산 수수료(%)",{columnGroupShow:"open",cellStyle:{textAlign:"right"}}),Kn("app_fee","앱 수수료",{columnGroupShow:"open"}),Kn("other_fee","기타 수수료",{columnGroupShow:"open"}),Kn("expected_settlement","정산 예정액",{cellStyle:i=>{const r={backgroundColor:"rgb(255 247 220)"};return i.value<0?{...r,color:"red"}:r}})]},{headerName:"결제정보",headerClass:"ag-header-5 centered",children:[Kn("discount_amount","결제 차감액[할인]"),Kn("payment_amount","결제 완료액",{cellStyle:{backgroundColor:"rgb(255 247 220)"}}),Kn("invoice_total","계산서발행 총액")]},Kn("balance","잔액",{headerClass:"ag-header-accent ag-right-aligned-header",cellStyle:i=>{const r={backgroundColor:"rgb(253 255 217)"};return i.value<0?{...r,color:"red"}:r}}),{headerName:"비고",field:"note",flex:1,minWidth:400},{headerName:"관리",field:"event",minWidth:100,cellRenderer:bVe(e,t,n),sortable:!1,filter:!1,pinned:"right",cellStyle:{textAlign:"center",padding:"4px"}}],wVe=bne(()=>console.log("기본 수정"),()=>console.log("기본 삭제"),""),SVe={defaultColDef:{headerClass:"centered",sortable:!1,floatingFilter:!1},columnDefs:wVe,rowModelType:"infinite",cacheBlockSize:50,cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,infiniteInitialRowCount:1,maxBlocksInCache:10,onColumnGroupOpened:e=>{e.api.autoSizeAllColumns()},onModelUpdated:e=>{setTimeout(()=>{if(e.api){const t=e.api.getDisplayedRowAtIndex(0);t&&t.data&&Object.keys(t.data).length>0&&e.api.autoSizeAllColumns()}})}};function xVe(){var h;const{gridRef:e,dateRange:t,selectedPartner:n,partnerInfo:i,setDateRange:r,setSelectedPartner:s,handleEdit:o,handleDelete:a,onGridReady:l,handlePaymentSubmit:c}=gVe(),u=I.useMemo(()=>bne(o,a,n.id),[o,a,n.id]),d=I.useMemo(()=>({...SVe,columnDefs:u}),[u]);return B.jsxs("div",{className:"w-full flex flex-col gap-6",children:[B.jsx(UV,{}),B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex flex-col gap-1",children:[B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-semibold",children:"매입사 :"}),B.jsx(mne,{className:"w-[300px]",placeholder:"매입사를 선택해주세요",label:"위탁매입사",endpoint:"/partner/partner_companies/",valueKey:"partner_company_id",displayKey:"b_nm",columnDefs:yVe,value:n==null?void 0:n.name,onSelect:(p,m)=>s({id:p,name:m})})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-semibold",children:"조회기간 :"}),B.jsx(nO,{date:t,onDateSelect:({from:p,to:m})=>r({from:p,to:m}),contentAlign:"end",maxDateType:"today"})]})]}),B.jsx("div",{className:"text-xs text-gray-400",children:"데이터는 매일 오전 1시에 전일 기준으로 업데이트됩니다."})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx(VV,{storageKey:dS.CONSIGNMENT_SETTLEMENT,gridApi:(h=e.current)==null?void 0:h.api}),B.jsx(yO,{onSubmit:c})]})]}),B.jsx(vne,{data:mVe,info:i}),B.jsx("div",{className:"w-full h-[500px]",children:n!=null&&n.id?B.jsx(D1,{ref:e,gridOptions:d,onGridReady:l}):B.jsx("div",{className:"flex items-center justify-center h-full bg-foreground border border-border rounded-lg",children:B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-contrast text-lg font-medium",children:"매입사를 선택해주세요"}),B.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"조회할 매입사를 선택해주시기 바랍니다."})]})})})]})}var V2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Sj;function MVe(){return Sj||(Sj=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(V2)),V2.exports}var EVe=MVe();const qg=bL(EVe);var U2,xj;function CO(){if(xj)return U2;xj=1;class e{constructor(n,i){if(n==null&&i==null)this._data=[],this._refs=[];else{if(n.length!==i.length)throw Error("Collection: data length should match references length.");this._data=n,this._refs=i}}get data(){return this._data}get refs(){return this._refs}get length(){return this._data.length}add(n,i){this._data.push(n),this._refs.push(i)}}return U2=e,U2}var W2,Mj;function Ps(){if(Mj)return W2;Mj=1;const e=ws(),t=CO(),n={NUMBER:0,ARRAY:1,BOOLEAN:2,STRING:3,RANGE_REF:4,CELL_REF:5,COLLECTIONS:6,NUMBER_NO_BOOLEAN:10},i=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,121645100408832e3,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8841761993739702e15,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,10333147966386145e24,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,13868311854568984e64,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8247650592082472e75,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,11978571669969892e84,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5797126020747368e105,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,24227095383672734e114,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1352001527678403e125,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142],r={};Object.keys(n).forEach(u=>{r[n[u]]=u});class s{constructor(){this.Types=n,this.type2Number={number:n.NUMBER,boolean:n.BOOLEAN,string:n.STRING,object:-1}}checkFunctionResult(d){if(typeof d==="number"){if(isNaN(d))return e.VALUE;if(!isFinite(d))return e.NUM}return d??e.NULL}flattenDeep(d){return d.reduce((h,p)=>Array.isArray(p)?h.concat(this.flattenDeep(p)):h.concat(p),[])}acceptNumber(d,h=!0,p=!0){if(d instanceof e)return d;let m;if(typeof d=="number")m=d;else if(typeof d=="boolean")if(p)m=Number(d);else throw e.VALUE;else if(typeof d=="string"){if(d.length===0||(m=Number(d),m!==m))throw e.VALUE}else if(Array.isArray(d))if(h)m=this.acceptNumber(d[0][0]);else if(d[0].length===1)m=this.acceptNumber(d[0][0]);else throw e.VALUE;else throw Error("Unknown type in FormulaHelpers.acceptNumber");return m}flattenParams(d,h,p,m,v=null,y=1){if(d.length<y)throw e.ARG_MISSING([h]);v==null&&(v=h===n.NUMBER?0:h==null?null:""),d.forEach(C=>{const{isCellRef:S,isRangeRef:x,isArray:R}=C,A=C.value instanceof t,T=!S&&!x&&!R&&!A,L={isLiteral:T,isCellRef:S,isRangeRef:x,isArray:R,isUnion:A};if(T)C.omitted?C=v:C=this.accept(C,h,v),m(C,L);else if(S)m(C.value,L);else if(A){if(!p)throw e.VALUE;C=C.value.data,C=this.flattenDeep(C),C.forEach(O=>{m(O,L)})}else(x||R)&&(C=this.flattenDeep(C.value),C.forEach(O=>{m(O,L)}))})}accept(d,h=null,p,m=!0,v=!1){if(Array.isArray(h)&&(h=h[0]),d==null&&p===void 0)throw e.ARG_MISSING([h]);if(d==null)return p;if(typeof d!="object"||Array.isArray(d))return d;const y=d.isArray;if(d.value!=null&&(d=d.value),h==null)return d;if(d instanceof e)throw d;if(h===n.ARRAY){if(Array.isArray(d))return m?this.flattenDeep(d):d;if(d instanceof t)throw e.VALUE;if(v)return m?[d]:[[d]];throw e.VALUE}else if(h===n.COLLECTIONS)return d;y&&(d=d[0][0]);const C=this.type(d);if(h===n.STRING)C===n.BOOLEAN?d=d?"TRUE":"FALSE":d=`${d}`;else if(h===n.BOOLEAN){if(C===n.STRING)throw e.VALUE;C===n.NUMBER&&(d=!!d)}else if(h===n.NUMBER)d=this.acceptNumber(d,!1);else if(h===n.NUMBER_NO_BOOLEAN)d=this.acceptNumber(d,!1,!1);else throw e.VALUE;return d}type(d){let h=this.type2Number[typeof d];return h===-1&&(Array.isArray(d)?h=n.ARRAY:d.ref?d.ref.from?h=n.RANGE_REF:h=n.CELL_REF:d instanceof t&&(h=n.COLLECTIONS)),h}isRangeRef(d){return d.ref&&d.ref.from}isCellRef(d){return d.ref&&!d.ref.from}retrieveRanges(d,h,p){return p=c.extend(h,p),h=this.retrieveArg(d,h),h=o.accept(h,n.ARRAY,void 0,!1,!0),p!==h?(p=this.retrieveArg(d,p),p=o.accept(p,n.ARRAY,void 0,!1,!0)):p=h,[h,p]}retrieveArg(d,h){if(h===null)return{value:0,isArray:!1,omitted:!0};const p=d.utils.extractRefValue(h);return{value:p.val,isArray:p.isArray,ref:h.ref}}}const o=new s,a={isWildCard:u=>typeof u=="string"?/[*?]/.test(u):!1,toRegex:(u,d)=>RegExp(u.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/([^~]??)[?]/g,"$1.").replace(/([^~]??)[*]/g,"$1.*").replace(/~([?*])/g,"$1"),d)},l={parse:u=>{const d=typeof u;if(d==="string"){const h=u.toUpperCase();if(h==="TRUE"||h==="FALSE")return{op:"=",value:h==="TRUE"};const p=u.match(/(<>|>=|<=|>|<|=)(.*)/);if(p){let m=p[1],v;if(isNaN(p[2])){const y=p[2].toUpperCase();if(y==="TRUE"||y==="FALSE")v=y==="TRUE";else if(/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A|#REF!/.test(p[2]))v=new e(p[2]);else if(v=p[2],a.isWildCard(v))return{op:"wc",value:a.toRegex(v),match:m==="="}}else v=Number(p[2]);return{op:m,value:v}}else return a.isWildCard(u)?{op:"wc",value:a.toRegex(u),match:!0}:{op:"=",value:u}}else{if(d==="boolean"||d==="number"||Array.isArray(u)||u instanceof e)return{op:"=",value:u};throw Error(`Criteria.parse: type ${typeof u} not support`)}}},c={columnNumberToName:u=>{let d=u,h="",p=0;for(;d>0;)p=(d-1)%26,h=String.fromCharCode(65+p)+h,d=Math.floor((d-p)/26);return h},columnNameToNumber:u=>{u=u.toUpperCase();const d=u.length;let h=0;for(let p=0;p<d;p++){const m=u.charCodeAt(p);isNaN(m)||(h+=(m-64)*26**(d-p-1))}return h},extend:(u,d)=>{if(d==null)return u;let h,p;if(o.isCellRef(u))h=0,p=0;else if(o.isRangeRef(u))h=u.ref.to.row-u.ref.from.row,p=u.ref.to.col-u.ref.from.col;else throw Error("Address.extend should not reach here.");return o.isCellRef(d)?(h>0||p>0)&&(d={ref:{from:{col:d.ref.col,row:d.ref.row},to:{row:d.ref.row+h,col:d.ref.col+p}}}):(d.ref.to.row=d.ref.from.row+h,d.ref.to.col=d.ref.from.col+p),d}};return W2={FormulaHelpers:o,Types:n,ReversedTypes:r,Factorials:i,WildCard:a,Criteria:l,Address:c},W2}var j2,Ej;function ws(){if(Ej)return j2;Ej=1;class e extends Error{constructor(n,i,r){if(super(i),i==null&&r==null&&e.errorMap.has(n))return e.errorMap.get(n);i==null&&r==null?(this._error=n,e.errorMap.set(n,this)):this._error=n,this.details=r}get error(){return this._error}get name(){return this._error}equals(n){return n instanceof e&&n._error===this._error}toString(){return this._error}}return e.errorMap=new Map,e.DIV0=new e("#DIV/0!"),e.NA=new e("#N/A"),e.NAME=new e("#NAME?"),e.NULL=new e("#NULL!"),e.NUM=new e("#NUM!"),e.REF=new e("#REF!"),e.VALUE=new e("#VALUE!"),e.NOT_IMPLEMENTED=t=>new e("#NAME?",`Function ${t} is not implemented.`),e.TOO_MANY_ARGS=t=>new e("#N/A",`Function ${t} has too many arguments.`),e.ARG_MISSING=t=>{const{Types:n}=Ps();return new e("#N/A",`Argument type ${t.map(i=>n[i]).join(", ")} is missing.`)},e.ERROR=(t,n)=>new e("#ERROR!",t,n),j2=e,j2}var $2,Rj;function wne(){if(Rj)return $2;Rj=1;class e{}e.version="0.10.3";function t(K){let V="",G=K.length-1;for(;G>=0;)V+=K.charAt(G--);return V}function n(K,V){let G="";for(;G.length<V;)G+=K;return G}function i(K,V){let G=""+K;return G.length>=V?G:n("0",V-G.length)+G}function r(K,V){let G=""+K;return G.length>=V?G:n(" ",V-G.length)+G}function s(K,V){let G=""+K;return G.length>=V?G:G+n(" ",V-G.length)}function o(K,V){let G=""+Math.round(K);return G.length>=V?G:n("0",V-G.length)+G}function a(K,V){let G=""+K;return G.length>=V?G:n("0",V-G.length)+G}const l=Math.pow(2,32);function c(K,V){if(K>l||K<-l)return o(K,V);const G=Math.round(K);return a(G,V)}function u(K,V){return V=V||0,K.length>=7+V&&(K.charCodeAt(V)|32)===103&&(K.charCodeAt(V+1)|32)===101&&(K.charCodeAt(V+2)|32)===110&&(K.charCodeAt(V+3)|32)===101&&(K.charCodeAt(V+4)|32)===114&&(K.charCodeAt(V+5)|32)===97&&(K.charCodeAt(V+6)|32)===108}const d=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function p(K){K[0]="General",K[1]="0",K[2]="0.00",K[3]="#,##0",K[4]="#,##0.00",K[9]="0%",K[10]="0.00%",K[11]="0.00E+00",K[12]="# ?/?",K[13]="# ??/??",K[14]="m/d/yy",K[15]="d-mmm-yy",K[16]="d-mmm",K[17]="mmm-yy",K[18]="h:mm AM/PM",K[19]="h:mm:ss AM/PM",K[20]="h:mm",K[21]="h:mm:ss",K[22]="m/d/yy h:mm",K[37]="#,##0 ;(#,##0)",K[38]="#,##0 ;[Red](#,##0)",K[39]="#,##0.00;(#,##0.00)",K[40]="#,##0.00;[Red](#,##0.00)",K[45]="mm:ss",K[46]="[h]:mm:ss",K[47]="mmss.0",K[48]="##0.0E+0",K[49]="@",K[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',K[65535]="General"}const m={};p(m);function v(K,V,G){const se=K<0?-1:1;let Y=K*se,ue=0,J=1,he=0,Te=1,ve=0,Re=0,ke=Math.floor(Y);for(;ve<V&&(ke=Math.floor(Y),he=ke*J+ue,Re=ke*ve+Te,!(Y-ke<5e-8));)Y=1/(Y-ke),ue=J,J=he,Te=ve,ve=Re;if(Re>V&&(ve>V?(Re=Te,he=ue):(Re=ve,he=J)),!G)return[0,se*he,Re];const He=Math.floor(se*he/Re);return[He,se*he-He*Re,Re]}function y(K,V,G){if(K>2958465||K<0)return null;let se=K|0,Y=Math.floor(86400*(K-se)),ue=0,J=[];const he={D:se,T:Y,u:86400*(K-se)-Y,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(he.u)<1e-6&&(he.u=0),V&&V.date1904&&(se+=1462),he.u>.9999&&(he.u=0,++Y===86400&&(he.T=Y=0,++se,++he.D)),se===60)J=G?[1317,10,29]:[1900,2,29],ue=3;else if(se===0)J=G?[1317,8,29]:[1900,1,0],ue=6;else{se>60&&--se;const Te=new Date(1900,0,1);Te.setDate(Te.getDate()+se-1),J=[Te.getFullYear(),Te.getMonth()+1,Te.getDate()],ue=Te.getDay(),se<60&&(ue=(ue+6)%7),G&&(ue=O())}return he.y=J[0],he.m=J[1],he.d=J[2],he.S=Y%60,Y=Math.floor(Y/60),he.M=Y%60,Y=Math.floor(Y/60),he.H=Y,he.q=ue,he}e.parse_date_code=y;const C=new Date(1899,11,31,0,0,0),S=C.getTime(),x=new Date(1900,2,1,0,0,0);function R(K,V){let G=K.getTime();return V?G-=1461*24*60*60*1e3:K>=x&&(G+=24*60*60*1e3),(G-(S+(K.getTimezoneOffset()-C.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function A(K){return K.toString(10)}e._general_int=A;const T=function(){const V=/\.(\d*[1-9])0+$/,G=/\.0*$/,se=/\.(\d*[1-9])0+/,Y=/\.0*[Ee]/,ue=/(E[+-])(\d)$/;function J(Re){const ke=Re<0?12:11;let He=ve(Re.toFixed(12));return He.length<=ke||(He=Re.toPrecision(10),He.length<=ke)?He:Re.toExponential(5)}function he(Re){let ke=Re.toFixed(11).replace(V,".$1");return ke.length>(Re<0?12:11)&&(ke=Re.toPrecision(6)),ke}function Te(Re){for(let ke=0;ke!==Re.length;++ke)if((Re.charCodeAt(ke)|32)===101)return Re.replace(se,".$1").replace(Y,"E").replace("e","E").replace(ue,"$10$2");return Re}function ve(Re){return Re.indexOf(".")>-1?Re.replace(G,"").replace(V,".$1"):Re}return function(ke){let He=Math.floor(Math.log(Math.abs(ke))*Math.LOG10E),st;return He>=-4&&He<=-1?st=ke.toPrecision(10+He):Math.abs(He)<=9?st=J(ke):He===10?st=ke.toFixed(10).substr(0,12):st=he(ke),ve(Te(st))}}();e._general_num=T;function L(K,V){switch(typeof K){case"string":return K;case"boolean":return K?"TRUE":"FALSE";case"number":return(K|0)===K?A(K):T(K);case"undefined":return"";case"object":if(K==null)return"";if(K instanceof Date)return q(14,R(K,V&&V.date1904),V)}throw new Error("unsupported value in General format: "+K)}e._general=L;function O(){return 0}function F(K,V,G,se){let Y="",ue=0,J=0,he=G.y,Te,ve=0;switch(K){case 98:he=G.y+543;case 121:switch(V.length){case 1:case 2:Te=he%100,ve=2;break;default:Te=he%1e4,ve=4;break}break;case 109:switch(V.length){case 1:case 2:Te=G.m,ve=V.length;break;case 3:return h[G.m-1][1];case 5:return h[G.m-1][0];default:return h[G.m-1][2]}break;case 100:switch(V.length){case 1:case 2:Te=G.d,ve=V.length;break;case 3:return d[G.q][0];default:return d[G.q][1]}break;case 104:switch(V.length){case 1:case 2:Te=1+(G.H+11)%12,ve=V.length;break;default:throw"bad hour format: "+V}break;case 72:switch(V.length){case 1:case 2:Te=G.H,ve=V.length;break;default:throw"bad hour format: "+V}break;case 77:switch(V.length){case 1:case 2:Te=G.M,ve=V.length;break;default:throw"bad minute format: "+V}break;case 115:if(V!=="s"&&V!=="ss"&&V!==".0"&&V!==".00"&&V!==".000")throw"bad second format: "+V;return G.u===0&&(V==="s"||V==="ss")?i(G.S,V.length):(se>=2?J=se===3?1e3:100:J=se===1?10:1,ue=Math.round(J*(G.S+G.u)),ue>=60*J&&(ue=0),V==="s"?ue===0?"0":""+ue/J:(Y=i(ue,2+se),V==="ss"?Y.substr(0,2):"."+Y.substr(2,V.length-1)));case 90:switch(V){case"[h]":case"[hh]":Te=G.D*24+G.H;break;case"[m]":case"[mm]":Te=(G.D*24+G.H)*60+G.M;break;case"[s]":case"[ss]":Te=((G.D*24+G.H)*60+G.M)*60+Math.round(G.S+G.u);break;default:throw"bad abstime format: "+V}ve=V.length===3?1:2;break;case 101:Te=he,ve=1}return ve>0?i(Te,ve):""}function H(K){if(K.length<=3)return K;let G=K.length%3,se=K.substr(0,G);for(;G!==K.length;G+=3)se+=(se.length>0?",":"")+K.substr(G,3);return se}const W=function(){const V=/%/g;function G(Fe,de,we){const Ge=de.replace(V,""),Le=de.length-Ge.length;return W(Fe,Ge,we*Math.pow(10,2*Le))+n("%",Le)}function se(Fe,de,we){let Ge=de.length-1;for(;de.charCodeAt(Ge-1)===44;)--Ge;return W(Fe,de.substr(0,Ge),we/Math.pow(10,3*(de.length-Ge)))}function Y(Fe,de){let we,Ge=Fe.indexOf("E")-Fe.indexOf(".")-1;if(Fe.match(/^#+0.0E\+0$/)){if(de===0)return"0.0E+0";if(de<0)return"-"+Y(Fe,-de);let Le=Fe.indexOf(".");Le===-1&&(Le=Fe.indexOf("E"));let Qe=Math.floor(Math.log(de)*Math.LOG10E)%Le;if(Qe<0&&(Qe+=Le),we=(de/Math.pow(10,Qe)).toPrecision(Ge+1+(Le+Qe)%Le),we.indexOf("e")===-1){const mt=Math.floor(Math.log(de)*Math.LOG10E);for(we.indexOf(".")===-1?we=we.charAt(0)+"."+we.substr(1)+"E+"+(mt-we.length+Qe):we+="E+"+(mt-Qe);we.substr(0,2)==="0.";)we=we.charAt(0)+we.substr(2,Le)+"."+we.substr(2+Le),we=we.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");we=we.replace(/\+-/,"-")}we=we.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(mt,ln,Mn,Lt){return ln+Mn+Lt.substr(0,(Le+Qe)%Le)+"."+Lt.substr(Qe)+"E"})}else we=de.toExponential(Ge);return Fe.match(/E\+00$/)&&we.match(/e[+-]\d$/)&&(we=we.substr(0,we.length-1)+"0"+we.charAt(we.length-1)),Fe.match(/E\-/)&&we.match(/e\+/)&&(we=we.replace(/e\+/,"e")),we.replace("e","E")}const ue=/# (\?+)( ?)\/( ?)(\d+)/;function J(Fe,de,we){const Ge=parseInt(Fe[4],10),Le=Math.round(de*Ge),Qe=Math.floor(Le/Ge);let mt=Le-Qe*Ge,ln=Ge;return we+(Qe===0?"":""+Qe)+" "+(mt===0?n(" ",Fe[1].length+1+Fe[4].length):r(mt,Fe[1].length)+Fe[2]+"/"+Fe[3]+i(ln,Fe[4].length))}function he(Fe,de,we){return we+(de===0?"":""+de)+n(" ",Fe[1].length+2+Fe[4].length)}const Te=/^#*0*\.([0#]+)/,ve=/\).*[0#]/,Re=/\(###\) ###\\?-####/;function ke(Fe){let de="",we;for(let Ge=0;Ge!==Fe.length;++Ge)switch(we=Fe.charCodeAt(Ge)){case 35:break;case 63:de+=" ";break;case 48:de+="0";break;default:de+=String.fromCharCode(we)}return de}function He(Fe,de){const we=Math.pow(10,de);return""+Math.round(Fe*we)/we}function st(Fe,de){return de<(""+Math.round((Fe-Math.floor(Fe))*Math.pow(10,de))).length?0:Math.round((Fe-Math.floor(Fe))*Math.pow(10,de))}function Dt(Fe,de){return de<(""+Math.round((Fe-Math.floor(Fe))*Math.pow(10,de))).length?1:0}function ot(Fe){return Fe<2147483647&&Fe>-2147483648?""+(Fe>=0?Fe|0:Fe-1|0):""+Math.floor(Fe)}function dt(Fe,de,we){if(Fe.charCodeAt(0)===40&&!de.match(ve)){const jt=de.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return we>=0?dt("n",jt,we):"("+dt("n",jt,-we)+")"}if(de.charCodeAt(de.length-1)===44)return se(Fe,de,we);if(de.indexOf("%")!==-1)return G(Fe,de,we);if(de.indexOf("E")!==-1)return Y(de,we);if(de.charCodeAt(0)===36)return"$"+dt(Fe,de.substr(de.charAt(1)==" "?2:1),we);let Ge,Le,Qe,mt,ln=Math.abs(we),Mn=we<0?"-":"";if(de.match(/^00+$/))return Mn+c(ln,de.length);if(de.match(/^[#?]+$/))return Ge=c(we,0),Ge==="0"&&(Ge=""),Ge.length>de.length?Ge:ke(de.substr(0,de.length-Ge.length))+Ge;if(Le=de.match(ue))return J(Le,ln,Mn);if(de.match(/^#+0+$/))return Mn+c(ln,de.length-de.indexOf("0"));if(Le=de.match(Te))return Ge=He(we,Le[1].length).replace(/^([^\.]+)$/,"$1."+ke(Le[1])).replace(/\.$/,"."+ke(Le[1])).replace(/\.(\d*)$/,function(jt,Vn){return"."+Vn+n("0",ke(Le[1]).length-Vn.length)}),de.indexOf("0.")!==-1?Ge:Ge.replace(/^0\./,".");if(de=de.replace(/^#+([0.])/,"$1"),Le=de.match(/^(0*)\.(#*)$/))return Mn+He(ln,Le[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Le[1].length?"0.":".");if(Le=de.match(/^#{1,3},##0(\.?)$/))return Mn+H(c(ln,0));if(Le=de.match(/^#,##0\.([#0]*0)$/))return we<0?"-"+dt(Fe,de,-we):H(""+(Math.floor(we)+Dt(we,Le[1].length)))+"."+i(st(we,Le[1].length),Le[1].length);if(Le=de.match(/^#,#*,#0/))return dt(Fe,de.replace(/^#,#*,/,""),we);if(Le=de.match(/^([0#]+)(\\?-([0#]+))+$/))return Ge=t(dt(Fe,de.replace(/[\\-]/g,""),we)),Qe=0,t(t(de.replace(/\\/g,"")).replace(/[0#]/g,function(jt){return Qe<Ge.length?Ge.charAt(Qe++):jt==="0"?"0":""}));if(de.match(Re))return Ge=dt(Fe,"##########",we),"("+Ge.substr(0,3)+") "+Ge.substr(3,3)+"-"+Ge.substr(6);let Lt="";if(Le=de.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Qe=Math.min(Le[4].length,7),mt=v(ln,Math.pow(10,Qe)-1,!1),Ge=""+Mn,Lt=W("n",Le[1],mt[1]),Lt.charAt(Lt.length-1)===" "&&(Lt=Lt.substr(0,Lt.length-1)+"0"),Ge+=Lt+Le[2]+"/"+Le[3],Lt=s(mt[2],Qe),Lt.length<Le[4].length&&(Lt=ke(Le[4].substr(Le[4].length-Lt.length))+Lt),Ge+=Lt,Ge;if(Le=de.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Qe=Math.min(Math.max(Le[1].length,Le[4].length),7),mt=v(ln,Math.pow(10,Qe)-1,!0),Mn+(mt[0]||(mt[1]?"":"0"))+" "+(mt[1]?r(mt[1],Qe)+Le[2]+"/"+Le[3]+s(mt[2],Qe):n(" ",2*Qe+1+Le[2].length+Le[3].length));if(Le=de.match(/^[#0?]+$/))return Ge=c(we,0),de.length<=Ge.length?Ge:ke(de.substr(0,de.length-Ge.length))+Ge;if(Le=de.match(/^([#0?]+)\.([#0]+)$/)){Ge=""+we.toFixed(Math.min(Le[2].length,10)).replace(/([^0])0+$/,"$1"),Qe=Ge.indexOf(".");const jt=de.indexOf(".")-Qe,Vn=de.length-Ge.length-jt;return ke(de.substr(0,jt)+Ge+de.substr(de.length-Vn))}if(Le=de.match(/^00,000\.([#0]*0)$/))return Qe=st(we,Le[1].length),we<0?"-"+dt(Fe,de,-we):H(ot(we)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(jt){return"00,"+(jt.length<3?i(0,3-jt.length):"")+jt})+"."+i(Qe,Le[1].length);switch(de){case"###,##0.00":return dt(Fe,"#,##0.00",we);case"###,###":case"##,###":case"#,###":const jt=H(c(ln,0));return jt!=="0"?Mn+jt:"";case"###,###.00":return dt(Fe,"###,##0.00",we).replace(/^0\./,".");case"#,###.00":return dt(Fe,"#,##0.00",we).replace(/^0\./,".")}throw new Error("unsupported format |"+de+"|")}function Ue(Fe,de,we){let Ge=de.length-1;for(;de.charCodeAt(Ge-1)===44;)--Ge;return W(Fe,de.substr(0,Ge),we/Math.pow(10,3*(de.length-Ge)))}function qe(Fe,de,we){const Ge=de.replace(V,""),Le=de.length-Ge.length;return W(Fe,Ge,we*Math.pow(10,2*Le))+n("%",Le)}function at(Fe,de){let we,Ge=Fe.indexOf("E")-Fe.indexOf(".")-1;if(Fe.match(/^#+0.0E\+0$/)){if(de===0)return"0.0E+0";if(de<0)return"-"+at(Fe,-de);let Le=Fe.indexOf(".");Le===-1&&(Le=Fe.indexOf("E"));let Qe=Math.floor(Math.log(de)*Math.LOG10E)%Le;if(Qe<0&&(Qe+=Le),we=(de/Math.pow(10,Qe)).toPrecision(Ge+1+(Le+Qe)%Le),!we.match(/[Ee]/)){const mt=Math.floor(Math.log(de)*Math.LOG10E);we.indexOf(".")===-1?we=we.charAt(0)+"."+we.substr(1)+"E+"+(mt-we.length+Qe):we+="E+"+(mt-Qe),we=we.replace(/\+-/,"-")}we=we.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(mt,ln,Mn,Lt){return ln+Mn+Lt.substr(0,(Le+Qe)%Le)+"."+Lt.substr(Qe)+"E"})}else we=de.toExponential(Ge);return Fe.match(/E\+00$/)&&we.match(/e[+-]\d$/)&&(we=we.substr(0,we.length-1)+"0"+we.charAt(we.length-1)),Fe.match(/E\-/)&&we.match(/e\+/)&&(we=we.replace(/e\+/,"e")),we.replace("e","E")}function nt(Fe,de,we){if(Fe.charCodeAt(0)===40&&!de.match(ve)){const jt=de.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return we>=0?nt("n",jt,we):"("+nt("n",jt,-we)+")"}if(de.charCodeAt(de.length-1)===44)return Ue(Fe,de,we);if(de.indexOf("%")!==-1)return qe(Fe,de,we);if(de.indexOf("E")!==-1)return at(de,we);if(de.charCodeAt(0)===36)return"$"+nt(Fe,de.substr(de.charAt(1)==" "?2:1),we);let Ge,Le,Qe,mt,ln=Math.abs(we),Mn=we<0?"-":"";if(de.match(/^00+$/))return Mn+i(ln,de.length);if(de.match(/^[#?]+$/))return Ge=""+we,we===0&&(Ge=""),Ge.length>de.length?Ge:ke(de.substr(0,de.length-Ge.length))+Ge;if(Le=de.match(ue))return he(Le,ln,Mn);if(de.match(/^#+0+$/))return Mn+i(ln,de.length-de.indexOf("0"));if(Le=de.match(Te))return Ge=(""+we).replace(/^([^\.]+)$/,"$1."+ke(Le[1])).replace(/\.$/,"."+ke(Le[1])),Ge=Ge.replace(/\.(\d*)$/,function(jt,Vn){return"."+Vn+n("0",ke(Le[1]).length-Vn.length)}),de.indexOf("0.")!==-1?Ge:Ge.replace(/^0\./,".");if(de=de.replace(/^#+([0.])/,"$1"),Le=de.match(/^(0*)\.(#*)$/))return Mn+(""+ln).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Le[1].length?"0.":".");if(Le=de.match(/^#{1,3},##0(\.?)$/))return Mn+H(""+ln);if(Le=de.match(/^#,##0\.([#0]*0)$/))return we<0?"-"+nt(Fe,de,-we):H(""+we)+"."+n("0",Le[1].length);if(Le=de.match(/^#,#*,#0/))return nt(Fe,de.replace(/^#,#*,/,""),we);if(Le=de.match(/^([0#]+)(\\?-([0#]+))+$/))return Ge=t(nt(Fe,de.replace(/[\\-]/g,""),we)),Qe=0,t(t(de.replace(/\\/g,"")).replace(/[0#]/g,function(jt){return Qe<Ge.length?Ge.charAt(Qe++):jt==="0"?"0":""}));if(de.match(Re))return Ge=nt(Fe,"##########",we),"("+Ge.substr(0,3)+") "+Ge.substr(3,3)+"-"+Ge.substr(6);let Lt="";if(Le=de.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Qe=Math.min(Le[4].length,7),mt=v(ln,Math.pow(10,Qe)-1,!1),Ge=""+Mn,Lt=W("n",Le[1],mt[1]),Lt.charAt(Lt.length-1)==" "&&(Lt=Lt.substr(0,Lt.length-1)+"0"),Ge+=Lt+Le[2]+"/"+Le[3],Lt=s(mt[2],Qe),Lt.length<Le[4].length&&(Lt=ke(Le[4].substr(Le[4].length-Lt.length))+Lt),Ge+=Lt,Ge;if(Le=de.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Qe=Math.min(Math.max(Le[1].length,Le[4].length),7),mt=v(ln,Math.pow(10,Qe)-1,!0),Mn+(mt[0]||(mt[1]?"":"0"))+" "+(mt[1]?r(mt[1],Qe)+Le[2]+"/"+Le[3]+s(mt[2],Qe):n(" ",2*Qe+1+Le[2].length+Le[3].length));if(Le=de.match(/^[#0?]+$/))return Ge=""+we,de.length<=Ge.length?Ge:ke(de.substr(0,de.length-Ge.length))+Ge;if(Le=de.match(/^([#0]+)\.([#0]+)$/)){Ge=""+we.toFixed(Math.min(Le[2].length,10)).replace(/([^0])0+$/,"$1"),Qe=Ge.indexOf(".");let jt=de.indexOf(".")-Qe,Vn=de.length-Ge.length-jt;return ke(de.substr(0,jt)+Ge+de.substr(de.length-Vn))}if(Le=de.match(/^00,000\.([#0]*0)$/))return we<0?"-"+nt(Fe,de,-we):H(""+we).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(jt){return"00,"+(jt.length<3?i(0,3-jt.length):"")+jt})+"."+i(0,Le[1].length);switch(de){case"###,###":case"##,###":case"#,###":const jt=H(""+ln);return jt!=="0"?Mn+jt:"";default:if(de.match(/\.[0#?]*$/))return nt(Fe,de.slice(0,de.lastIndexOf(".")),we)+ke(de.slice(de.lastIndexOf(".")))}throw new Error("unsupported format |"+de+"|")}return function(de,we,Ge){return(Ge|0)===Ge?nt(de,we,Ge):dt(de,we,Ge)}}();function $(K){const V=[];let G=!1,se=0;for(let Y=0;Y<K.length;++Y)switch(K.charCodeAt(Y)){case 34:G=!G;break;case 95:case 42:case 92:++Y;break;case 59:V[V.length]=K.substr(se,Y-se),se=Y+1}if(V[V.length]=K.substr(se),G===!0)throw new Error("Format |"+K+"| unterminated string ");return V}e._split=$;const Z=/\[[HhMmSs]*\]/;function ie(K){let V=0,G="",se="";for(;V<K.length;)switch(G=K.charAt(V)){case"G":u(K,V)&&(V+=6),V++;break;case'"':for(;K.charCodeAt(++V)!==34&&V<K.length;)++V;++V;break;case"\\":V+=2;break;case"_":V+=2;break;case"@":++V;break;case"B":case"b":if(K.charAt(V+1)==="1"||K.charAt(V+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":if(K.substr(V,3).toUpperCase()==="A/P"||K.substr(V,5).toUpperCase()==="AM/PM")return!0;++V;break;case"[":for(se=G;K.charAt(V++)!=="]"&&V<K.length;)se+=K.charAt(V);if(se.match(Z))return!0;break;case".":case"0":case"#":for(;V<K.length&&("0#?.,E+-%".indexOf(G=K.charAt(++V))>-1||G=="\\"&&K.charAt(V+1)=="-"&&"0#".indexOf(K.charAt(V+2))>-1););break;case"?":for(;K.charAt(++V)===G;);break;case"*":++V,(K.charAt(V)===" "||K.charAt(V)==="*")&&++V;break;case"(":case")":++V;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;V<K.length&&"0123456789".indexOf(K.charAt(++V))>-1;);break;case" ":++V;break;default:++V;break}return!1}e.is_date=ie;function oe(K,V,G,se){let Y=[],ue="",J=0,he="",Te="t",ve,Re,ke,He="H";for(;J<K.length;)switch(he=K.charAt(J)){case"G":if(!u(K,J))throw new Error("unrecognized character "+he+" in "+K);Y[Y.length]={t:"G",v:"General"},J+=7;break;case'"':for(ue="";(ke=K.charCodeAt(++J))!==34&&J<K.length;)ue+=String.fromCharCode(ke);Y[Y.length]={t:"t",v:ue},++J;break;case"\\":const de=K.charAt(++J),we=de==="("||de===")"?de:"t";Y[Y.length]={t:we,v:de},++J;break;case"_":Y[Y.length]={t:"t",v:" "},J+=2;break;case"@":Y[Y.length]={t:"T",v:V},++J;break;case"B":case"b":if(K.charAt(J+1)==="1"||K.charAt(J+1)==="2"){if(ve==null&&(ve=y(V,G,K.charAt(J+1)==="2"),ve==null))return"";Y[Y.length]={t:"X",v:K.substr(J,2)},Te=he,J+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":he=he.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(V<0||ve==null&&(ve=y(V,G),ve==null))return"";for(ue=he;++J<K.length&&K.charAt(J).toLowerCase()===he;)ue+=he;he==="m"&&Te.toLowerCase()==="h"&&(he="M"),he==="h"&&(he=He),Y[Y.length]={t:he,v:ue},Te=he;break;case"A":case"a":const Ge={t:he,v:he};if(ve==null&&(ve=y(V,G)),K.substr(J,3).toUpperCase()==="A/P"?(ve!=null&&(Ge.v=ve.H>=12?"P":"A"),Ge.t="T",He="h",J+=3):K.substr(J,5).toUpperCase()==="AM/PM"?(ve!=null&&(Ge.v=ve.H>=12?"PM":"AM"),Ge.t="T",J+=5,He="h"):(Ge.t="t",++J),ve==null&&Ge.t==="T")return"";Y[Y.length]=Ge,Te=he;break;case"[":for(ue=he;K.charAt(J++)!=="]"&&J<K.length;)ue+=K.charAt(J);if(ue.slice(-1)!=="]")throw'unterminated "[" block: |'+ue+"|";if(ue.match(Z)){if(ve==null&&(ve=y(V,G),ve==null))return"";Y[Y.length]={t:"Z",v:ue.toLowerCase()},Te=ue.charAt(1)}else ue.indexOf("$")>-1&&(ue=(ue.match(/\$([^-\[\]]*)/)||[])[1]||"$",ie(K)||(Y[Y.length]={t:"t",v:ue}));break;case".":if(ve!=null){for(ue=he;++J<K.length&&(he=K.charAt(J))==="0";)ue+=he;Y[Y.length]={t:"s",v:ue};break}case"0":case"#":for(ue=he;++J<K.length&&"0#?.,E+-%".indexOf(he=K.charAt(J))>-1||he=="\\"&&K.charAt(J+1)=="-"&&J<K.length-2&&"0#".indexOf(K.charAt(J+2))>-1;)ue+=he;Y[Y.length]={t:"n",v:ue};break;case"?":for(ue=he;K.charAt(++J)===he;)ue+=he;Y[Y.length]={t:he,v:ue},Te=he;break;case"*":++J,(K.charAt(J)===" "||K.charAt(J)==="*")&&++J;break;case"(":case")":Y[Y.length]={t:se===1||typeof V=="number"&&V<0?"t":he,v:he},++J;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(ue=he;J<K.length&&"0123456789".indexOf(K.charAt(++J))>-1;)ue+=K.charAt(J);Y[Y.length]={t:"D",v:ue};break;case" ":Y[Y.length]={t:he,v:he},++J;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(he)===-1)throw new Error("unrecognized character "+he+" in "+K);Y[Y.length]={t:"t",v:he},++J;break}let st=0,Dt=0,ot;for(J=Y.length-1,Te="t";J>=0;--J)switch(Y[J].t){case"h":case"H":Y[J].t=He,Te="h",st<1&&(st=1);break;case"s":(ot=Y[J].v.match(/\.0+$/))&&(Dt=Math.max(Dt,ot[0].length-1)),st<3&&(st=3);case"d":case"y":case"M":case"e":Te=Y[J].t;break;case"m":Te==="s"&&(Y[J].t="M",st<2&&(st=2));break;case"X":break;case"Z":st<1&&Y[J].v.match(/[Hh]/)&&(st=1),st<2&&Y[J].v.match(/[Mm]/)&&(st=2),st<3&&Y[J].v.match(/[Ss]/)&&(st=3)}switch(st){case 0:break;case 1:ve.u>=.5&&(ve.u=0,++ve.S),ve.S>=60&&(ve.S=0,++ve.M),ve.M>=60&&(ve.M=0,++ve.H);break;case 2:ve.u>=.5&&(ve.u=0,++ve.S),ve.S>=60&&(ve.S=0,++ve.M);break}let dt="",Ue;for(J=0;J<Y.length;++J)switch(Y[J].t){case"t":case"T":case" ":case"D":break;case"X":Y[J].v="",Y[J].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":Y[J].v=F(Y[J].t.charCodeAt(0),Y[J].v,ve,Dt),Y[J].t="t";break;case"n":case"(":case"?":for(Ue=J+1;Y[Ue]!=null&&((he=Y[Ue].t)==="?"||he==="D"||(he===" "||he==="t")&&Y[Ue+1]!=null&&(Y[Ue+1].t==="?"||Y[Ue+1].t==="t"&&Y[Ue+1].v==="/")||Y[J].t==="("&&(he===" "||he==="n"||he===")")||he==="t"&&(Y[Ue].v==="/"||Y[Ue].v===" "&&Y[Ue+1]!=null&&Y[Ue+1].t==="?"));)Y[J].v+=Y[Ue].v,Y[Ue]={v:"",t:";"},++Ue;dt+=Y[J].v,J=Ue-1;break;case"G":Y[J].t="t",Y[J].v=L(V,G);break}let qe="",at,nt;if(dt.length>0){dt.charCodeAt(0)===40?(at=V<0&&dt.charCodeAt(0)===45?-V:V,nt=W("(",dt,at)):(at=V<0&&se>1?-V:V,nt=W("n",dt,at),at<0&&Y[0]&&Y[0].t==="t"&&(nt=nt.substr(1),Y[0].v="-"+Y[0].v)),Ue=nt.length-1;let de=Y.length;for(J=0;J<Y.length;++J)if(Y[J]!=null&&Y[J].t!=="t"&&Y[J].v.indexOf(".")>-1){de=J;break}let we=Y.length;if(de===Y.length&&nt.indexOf("E")===-1){for(J=Y.length-1;J>=0;--J)Y[J]==null||"n?(".indexOf(Y[J].t)===-1||(Ue>=Y[J].v.length-1?(Ue-=Y[J].v.length,Y[J].v=nt.substr(Ue+1,Y[J].v.length)):Ue<0?Y[J].v="":(Y[J].v=nt.substr(0,Ue+1),Ue=-1),Y[J].t="t",we=J);Ue>=0&&we<Y.length&&(Y[we].v=nt.substr(0,Ue+1)+Y[we].v)}else if(de!==Y.length&&nt.indexOf("E")===-1){for(Ue=nt.indexOf(".")-1,J=de;J>=0;--J)if(!(Y[J]==null||"n?(".indexOf(Y[J].t)===-1)){for(Re=Y[J].v.indexOf(".")>-1&&J===de?Y[J].v.indexOf(".")-1:Y[J].v.length-1,qe=Y[J].v.substr(Re+1);Re>=0;--Re)Ue>=0&&(Y[J].v.charAt(Re)==="0"||Y[J].v.charAt(Re)==="#")&&(qe=nt.charAt(Ue--)+qe);Y[J].v=qe,Y[J].t="t",we=J}for(Ue>=0&&we<Y.length&&(Y[we].v=nt.substr(0,Ue+1)+Y[we].v),Ue=nt.indexOf(".")+1,J=de;J<Y.length;++J)if(!(Y[J]==null||"n?(".indexOf(Y[J].t)===-1&&J!==de)){for(Re=Y[J].v.indexOf(".")>-1&&J===de?Y[J].v.indexOf(".")+1:0,qe=Y[J].v.substr(0,Re);Re<Y[J].v.length;++Re)Ue<nt.length&&(qe+=nt.charAt(Ue++));Y[J].v=qe,Y[J].t="t",we=J}}}for(J=0;J<Y.length;++J)Y[J]!=null&&"n(?".indexOf(Y[J].t)>-1&&(at=se>1&&V<0&&J>0&&Y[J-1].v==="-"?-V:V,Y[J].v=W(Y[J].t,Y[J].v,at),Y[J].t="t");let Fe="";for(J=0;J!==Y.length;++J)Y[J]!=null&&(Fe+=Y[J].v);return Fe}e._eval=oe;const te=/\[[=<>]/,ae=/\[([=<>]*)(-?\d+\.?\d*)\]/;function ne(K,V){if(V==null)return!1;const G=parseFloat(V[2]);switch(V[1]){case"=":if(K===G)return!0;break;case">":if(K>G)return!0;break;case"<":if(K<G)return!0;break;case"<>":if(K!==G)return!0;break;case">=":if(K>=G)return!0;break;case"<=":if(K<=G)return!0;break}return!1}function Se(K,V){let G=$(K),se=G.length,Y=G[se-1].indexOf("@");if(se<4&&Y>-1&&--se,G.length>4)throw new Error("cannot find right format for |"+G.join("|")+"|");if(typeof V!="number")return[4,G.length===4||Y>-1?G[G.length-1]:"@"];switch(G.length){case 1:G=Y>-1?["General","General","General",G[0]]:[G[0],G[0],G[0],"@"];break;case 2:G=Y>-1?[G[0],G[0],G[0],G[1]]:[G[0],G[1],G[0],"@"];break;case 3:G=Y>-1?[G[0],G[1],G[0],G[2]]:[G[0],G[1],G[2],"@"];break}const ue=V>0?G[0]:V<0?G[1]:G[2];if(G[0].indexOf("[")===-1&&G[1].indexOf("[")===-1)return[se,ue];if(G[0].match(te)!=null||G[1].match(te)!=null){const J=G[0].match(ae),he=G[1].match(ae);return ne(V,J)?[se,G[0]]:ne(V,he)?[se,G[1]]:[se,G[J!=null&&he!=null?2:1]]}return[se,ue]}function q(K,V,G){G==null&&(G={});let se="";switch(typeof K){case"string":K==="m/d/yy"&&G.dateNF?se=G.dateNF:se=K;break;case"number":K===14&&G.dateNF?se=G.dateNF:se=(G.table!=null?G.table:m)[K];break}if(u(se,0))return L(V,G);V instanceof Date&&(V=R(V,G.date1904));const Y=Se(se,V);if(u(Y[1]))return L(V,G);if(V===!0)V="TRUE";else if(V===!1)V="FALSE";else if(V===""||V==null)return"";return oe(Y[1],V,G,Y[0])}function re(K,V){if(typeof V!="number"){V=+V||-1;for(let G=0;G<392;++G){if(m[G]===void 0){V<0&&(V=G);continue}if(m[G]===K){V=G;break}}V<0&&(V=391)}return m[V]=K,V}return e.load=re,e._table=m,e.get_table=function(){return m},e.load_table=function(V){for(let G=0;G!==392;++G)V[G]!==void 0&&re(V[G],G)},e.init_table=p,e.format=q,$2=e,$2}var Y2={exports:{}},Aj;function RVe(){return Aj||(Aj=1,function(e){const t="ศูนย์บาทถ้วน",n=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],i=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"];function r(l){let c="";const u=l.length,d=7;if(u>d){const h=u-d+1,p=l.slice(0,h),m=l.slice(h);return r(p)+"ล้าน"+r(m)}else for(let h=0;h<u;h++){const p=l[h];p>0&&(c+=n[p]+i[u-h-1])}return c}function s(l){let c=l;c=c.replace("หนึ่งสิบ","สิบ"),c=c.replace("สองสิบ","ยี่สิบ");const u=5;return c.length>u&&c.length-c.lastIndexOf("หนึ่ง")===u&&(c=c.substr(0,c.length-u)+"เอ็ด"),c}function o(l,c){let u="";return l===""&&c===""?u=t:l!==""&&c===""?u=l+"บาทถ้วน":l===""&&c!==""?u=c+"สตางค์":u=l+"บาท"+c+"สตางค์",u}function a(l){let c=t;if(isNaN(l)||l>=Number.MAX_SAFE_INTEGER)return c;const u=Math.floor(l).toString(),d=Math.round(l%1*100).toString(),h=Array.from(u).map(Number),p=Array.from(d).map(Number);let m=r(h),v=r(p);return m=s(m),v=s(v),c=o(m,v),c}e.exports!=null&&(e.exports=a)}(Y2)),Y2.exports}var K2,Tj;function Sne(){if(Tj)return K2;Tj=1;const e=ws(),{FormulaHelpers:t,Types:n,WildCard:i}=Ps(),r=t,s=wne(),o=RVe(),a={latin:{halfRE:/[!-~]/g,fullRE:/[！-～]/g,delta:65248},hangul1:{halfRE:/[ﾡ-ﾾ]/g,fullRE:/[ᆨ-ᇂ]/g,delta:-60921},hangul2:{halfRE:/[ￂ-ￜ]/g,fullRE:/[ᅡ-ᅵ]/g,delta:-61025},kana:{delta:0,half:"｡｢｣､･ｦｧｨｩｪｫｬｭｮｯｰｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝﾞﾟ",full:"。「」、・ヲァィゥェォャュョッーアイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワン゛゜"},extras:{delta:0,half:"¢£¬¯¦¥₩ |←↑→↓■°",full:"￠￡￢￣￤￥￦　￨￩￪￫￬￭￮"}},l=v=>y=>v.delta?String.fromCharCode(y.charCodeAt(0)+v.delta):[...v.full][[...v.half].indexOf(y)],c=v=>y=>v.delta?String.fromCharCode(y.charCodeAt(0)-v.delta):[...v.half][[...v.full].indexOf(y)],u=(v,y)=>v[y+"RE"]||new RegExp("["+v[y]+"]","g"),d=Object.keys(a).map(v=>a[v]),h=v=>d.reduce((y,C)=>y.replace(u(C,"half"),l(C)),v),p=v=>d.reduce((y,C)=>y.replace(u(C,"full"),c(C)),v),m={ASC:v=>(v=r.accept(v,n.STRING),p(v)),BAHTTEXT:v=>{v=r.accept(v,n.NUMBER);try{return o(v)}catch(y){throw Error(`Error in https://github.com/jojoee/bahttext 
${y.toString()}`)}},CHAR:v=>{if(v=r.accept(v,n.NUMBER),v>255||v<1)throw e.VALUE;return String.fromCharCode(v)},CLEAN:v=>(v=r.accept(v,n.STRING),v.replace(/[\x00-\x1F]/g,"")),CODE:v=>{if(v=r.accept(v,n.STRING),v.length===0)throw e.VALUE;return v.charCodeAt(0)},CONCAT:(...v)=>{let y="";return r.flattenParams(v,n.STRING,!1,C=>{C=r.accept(C,n.STRING),y+=C}),y},CONCATENATE:(...v)=>{let y="";if(v.length===0)throw Error("CONCATENATE need at least one argument.");return v.forEach(C=>{C=r.accept(C,n.STRING),y+=C}),y},DBCS:v=>(v=r.accept(v,n.STRING),h(v)),DOLLAR:(v,y)=>{v=r.accept(v,n.NUMBER),y=r.accept(y,n.NUMBER,2);const C=Array(y).fill("0").join("");return s.format(`$#,##0.${C}_);($#,##0.${C})`,v).trim()},EXACT:(v,y)=>(v=r.accept(v,[n.STRING]),y=r.accept(y,[n.STRING]),v===y),FIND:(v,y,C)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.STRING),C=r.accept(C,n.NUMBER,1),C<1||C>y.length)throw e.VALUE;const S=y.indexOf(v,C-1);if(S===-1)throw e.VALUE;return S+1},FINDB:(...v)=>m.FIND(...v),FIXED:(v,y,C)=>{v=r.accept(v,n.NUMBER),y=r.accept(y,n.NUMBER,2),C=r.accept(C,n.BOOLEAN,!1);const S=Array(y).fill("0").join(""),x=C?"":"#,";return s.format(`${x}##0.${S}_);(${x}##0.${S})`,v).trim()},LEFT:(v,y)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.NUMBER,1),y<0)throw e.VALUE;return y>v.length?v:v.slice(0,y)},LEFTB:(...v)=>m.LEFT(...v),LEN:v=>(v=r.accept(v,n.STRING),v.length),LENB:(...v)=>m.LEN(...v),LOWER:v=>(v=r.accept(v,n.STRING),v.toLowerCase()),MID:(v,y,C)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.NUMBER),C=r.accept(C,n.NUMBER),y>v.length)return"";if(y<1||C<1)throw e.VALUE;return v.slice(y-1,y+C-1)},MIDB:(...v)=>m.MID(...v),NUMBERVALUE:(v,y,C)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.STRING,"."),C=r.accept(C,n.STRING,","),v.length===0)return 0;if(y.length===0||C.length===0||(y=y[0],C=C[0],y===C||v.indexOf(y)<v.lastIndexOf(C)))throw e.VALUE;const S=v.replace(C,"").replace(y,".").replace(/[^\-0-9.%()]/g,"").match(/([(-]*)([0-9]*[.]*[0-9]+)([)]?)([%]*)/);if(!S)throw e.VALUE;const x=S[1].length,R=S[3].length,A=S[4].length;let T=Number(S[2]);if(x>1||x&&!R||!x&&R||isNaN(T))throw e.VALUE;return T=T/100**A,x?-T:T},PHONETIC:()=>{},PROPER:v=>(v=r.accept(v,[n.STRING]),v=v.toLowerCase(),v=v.charAt(0).toUpperCase()+v.slice(1),v.replace(/(?:[^a-zA-Z])([a-zA-Z])/g,y=>y.toUpperCase())),REPLACE:(v,y,C,S)=>{v=r.accept(v,[n.STRING]),y=r.accept(y,[n.NUMBER]),C=r.accept(C,[n.NUMBER]),S=r.accept(S,[n.STRING]);let x=v.split("");return x.splice(y-1,C,S),x.join("")},REPLACEB:(...v)=>m.REPLACE(...v),REPT:(v,y)=>{v=r.accept(v,n.STRING),y=r.accept(y,n.NUMBER);let C="";for(let S=0;S<y;S++)C+=v;return C},RIGHT:(v,y)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.NUMBER,1),y<0)throw e.VALUE;const C=v.length;return y>C?v:v.slice(C-y)},RIGHTB:(...v)=>m.RIGHT(...v),SEARCH:(v,y,C)=>{if(v=r.accept(v,n.STRING),y=r.accept(y,n.STRING),C=r.accept(C,n.NUMBER,1),C<1||C>y.length)throw e.VALUE;let S=i.isWildCard(v)?i.toRegex(v,"i"):v;const x=y.slice(C-1).search(S);if(x===-1)throw e.VALUE;return x+C},SEARCHB:(...v)=>m.SEARCH(...v),SUBSTITUTE:(...v)=>{},T:v=>(v=r.accept(v),typeof v=="string"?v:""),TEXT:(v,y)=>{v=r.accept(v,n.NUMBER),y=r.accept(y,n.STRING);try{return s.format(y,v)}catch(C){throw console.error(C),e.VALUE}},TEXTJOIN:(...v)=>{},TRIM:v=>(v=r.accept(v,[n.STRING]),v.replace(/^\s+|\s+$/g,"")),UNICHAR:v=>{if(v=r.accept(v,[n.NUMBER]),v<=0)throw e.VALUE;return String.fromCharCode(v)},UNICODE:v=>m.CODE(v)};return K2=m,K2}var q2,Dj;function bO(){if(Dj)return q2;Dj=1;const e=ws(),{FormulaHelpers:t}=Ps(),n={unaryOp:(o,a,l)=>{let c=1;if(o.forEach(u=>{if(u!=="+")if(u==="-")c=-c;else throw new Error(`Unrecognized prefix: ${u}`)}),a==null&&(a=0),c===1)return a;try{a=t.acceptNumber(a,l)}catch(u){if(u instanceof e)Array.isArray(a)&&(a=a[0][0]);else throw u}return typeof a=="number"&&isNaN(a)?e.VALUE:-a}},i={percentOp:(o,a,l)=>{try{o=t.acceptNumber(o,l)}catch(c){if(c instanceof e)return c;throw c}if(a==="%")return o/100;throw new Error(`Unrecognized postfix: ${a}`)}},r={boolean:3,string:2,number:1};return q2={Prefix:n,Postfix:i,Infix:{compareOp:(o,a,l,c,u)=>{o==null&&(o=0),l==null&&(l=0),c&&(o=o[0][0]),u&&(l=l[0][0]);const d=typeof o,h=typeof l;if(d===h)switch(a){case"=":return o===l;case">":return o>l;case"<":return o<l;case"<>":return o!==l;case"<=":return o<=l;case">=":return o>=l}else switch(a){case"=":return!1;case">":return r[d]>r[h];case"<":return r[d]<r[h];case"<>":return!0;case"<=":return r[d]<=r[h];case">=":return r[d]>=r[h]}throw Error("Infix.compareOp: Should not reach here.")},concatOp:(o,a,l,c,u)=>{o==null&&(o=""),l==null&&(l=""),c&&(o=o[0][0]),u&&(l=l[0][0]);const d=typeof o,h=typeof l;return d==="boolean"&&(o=o?"TRUE":"FALSE"),h==="boolean"&&(l=l?"TRUE":"FALSE"),""+o+l},mathOp:(o,a,l,c,u)=>{o==null&&(o=0),l==null&&(l=0);try{o=t.acceptNumber(o,c),l=t.acceptNumber(l,u)}catch(d){if(d instanceof e)return d;throw d}switch(a){case"+":return o+l;case"-":return o-l;case"*":return o*l;case"/":return l===0?e.DIV0:o/l;case"^":return o**l}throw Error("Infix.mathOp: Should not reach here.")}},Operators:{compareOp:["<",">","=","<>","<=",">="],concatOp:["&"],mathOp:["+","-","*","/","^"]}},q2}var Z2,Ij;function xne(){if(Ij)return Z2;Ij=1;const e=ws(),{FormulaHelpers:t,Types:n,Factorials:i,Criteria:r}=Ps(),{Infix:s}=bO(),o=t,a=[],l=[];function c(h){return h<=100?i[h]:a[h]>0?a[h]:a[h]=c(h-1)*h}function u(h){return h===1||h===0?1:h===2?2:l[h]>0?l[h]:l[h]=u(h-2)*h}const d={ABS:h=>(h=o.accept(h,n.NUMBER),Math.abs(h)),AGGREGATE:(h,p,m,...v)=>{},ARABIC:h=>{if(h=o.accept(h,n.STRING).toUpperCase(),!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(h))throw new e("#VALUE!","Invalid roman numeral in ARABIC evaluation.");let p=0;return h.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(m){p+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[m]}),p},BASE:(h,p,m)=>{if(h=o.accept(h,n.NUMBER),h<0||h>=2**53||(p=o.accept(p,n.NUMBER),p<2||p>36)||(m=o.accept(m,n.NUMBER,0),m<0))throw e.NUM;const v=h.toString(p).toUpperCase();return new Array(Math.max(m+1-v.length,0)).join("0")+v},CEILING:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),p===0)return 0;if(h/p%1===0)return h;const m=Math.abs(p),v=Math.floor(Math.abs(h)/m);return h<0?p<0?-m*(v+1):-m*v:(v+1)*m},"CEILING.MATH":(h,p,m)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,h>0?1:-1),m=o.accept(m,n.NUMBER,0),h>=0)return d.CEILING(h,p);const v=m?p:0;return d.CEILING(h,p)-v},"CEILING.PRECISE":(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,1),d.CEILING(h,Math.abs(p))),COMBIN:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),h<0||p<0||h<p)throw e.NUM;const m=d.FACT(h),v=d.FACT(p);return m/v/d.FACT(h-p)},COMBINA:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),(h===0||h===1)&&p===0)return 1;if(h<0||p<0)throw e.NUM;return d.COMBIN(h+p-1,h-1)},DECIMAL:(h,p)=>{if(h=o.accept(h,n.STRING),p=o.accept(p,n.NUMBER),p=Math.trunc(p),p<2||p>36)throw e.NUM;const m=parseInt(h,p);if(isNaN(m))throw e.NUM;return m},DEGREES:h=>(h=o.accept(h,n.NUMBER),h*(180/Math.PI)),EVEN:h=>d.CEILING(h,-2),EXP:h=>(h=o.accept(h,n.NUMBER),Math.exp(h)),FACT:h=>{if(h=o.accept(h,n.NUMBER),h=Math.trunc(h),h>170||h<0)throw e.NUM;return h<=100?i[h]:c(h)},FACTDOUBLE:h=>{if(h=o.accept(h,n.NUMBER),h=Math.trunc(h),h<-1)throw e.NUM;return h===-1?1:u(h)},FLOOR:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),p===0)return 0;if(h>0&&p<0)throw e.NUM;if(h/p%1===0)return h;const m=Math.abs(p),v=Math.floor(Math.abs(h)/m);return h<0?p<0?-m*v:-m*(v+1):v*m},"FLOOR.MATH":(h,p,m)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,h>0?1:-1),m=o.accept(m,n.NUMBER,0),m===0||h>=0?d.FLOOR(h,Math.abs(p)):d.FLOOR(h,p)+p),"FLOOR.PRECISE":(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,1),d.FLOOR(h,Math.abs(p))),GCD:(...h)=>{const p=[];o.flattenParams(h,null,!1,S=>{if(S=typeof S=="boolean"?NaN:Number(S),isNaN(S))throw e.VALUE;if(S<0||S>9007199254740990)throw e.NUM;p.push(Math.trunc(S))},0);let m,v,y=h.length,C=Math.abs(p[0]);for(m=1;m<y;m++){for(v=Math.abs(p[m]);C&&v;)C>v?C%=v:v%=C;C+=v}return C},INT:h=>(h=o.accept(h,n.NUMBER),Math.floor(h)),"ISO.CEILING":(...h)=>d["CEILING.PRECISE"](...h),LCM:(...h)=>{const p=[];o.flattenParams(h,null,!1,y=>{if(y=typeof y=="boolean"?NaN:Number(y),isNaN(y))throw e.VALUE;if(y<0||y>9007199254740990)throw e.NUM;p.push(Math.trunc(y))},1);let m=p.length,v=Math.abs(p[0]);for(let y=1;y<m;y++){let C=Math.abs(p[y]),S=v;for(;v&&C;)v>C?v%=C:C%=v;v=Math.abs(S*p[y])/(v+C)}return v},LN:h=>(h=o.accept(h,n.NUMBER),Math.log(h)),LOG:(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,10),Math.log(h)/Math.log(p)),LOG10:h=>(h=o.accept(h,n.NUMBER),Math.log10(h)),MDETERM:h=>{if(h=o.accept(h,n.ARRAY,void 0,!1,!0),h[0].length!==h.length)throw e.VALUE;const p=h.length,m=h[0].length;let v=0,y,C;if(p===1)return h[0][0];if(p===2)return h[0][0]*h[1][1]-h[0][1]*h[1][0];for(let S=0;S<m;S++){y=h[0][S],C=h[0][S];for(let x=1;x<p;x++)C*=h[x][((S+x)%m+m)%m],y*=h[x][((S-x)%m+m)%m];v+=C-y}return v},MINVERSE:h=>{},MMULT:(h,p)=>{h=o.accept(h,n.ARRAY,void 0,!1,!0),p=o.accept(p,n.ARRAY,void 0,!1,!0);const m=h.length,v=h[0].length,y=p.length,C=p[0].length,S=new Array(m);if(v!==y)throw e.VALUE;for(let x=0;x<m;x++){S[x]=new Array(C);for(let R=0;R<C;R++){S[x][R]=0;for(let A=0;A<v;A++){const T=h[x][A],L=p[A][R];if(typeof T!="number"||typeof L!="number")throw e.VALUE;S[x][R]+=h[x][A]*p[A][R]}}}return S},MOD:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),p===0)throw e.DIV0;return h-p*d.INT(h/p)},MROUND:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),p===0)return 0;if(h>0&&p<0||h<0&&p>0)throw e.NUM;return h/p%1===0?h:Math.round(h/p)*p},MULTINOMIAL:(...h)=>{let p=0,m=1;return o.flattenParams(h,n.NUMBER,!1,v=>{if(v<0)throw e.NUM;p+=v,m*=c(v)}),c(p)/m},MUNIT:h=>{h=o.accept(h,n.NUMBER);const p=[];for(let m=0;m<h;m++){const v=[];for(let y=0;y<h;y++)m===y?v.push(1):v.push(0);p.push(v)}return p},ODD:h=>{if(h=o.accept(h,n.NUMBER),h===0)return 1;let p=Math.ceil(Math.abs(h));return p=p&1?p:p+1,h>0?p:-p},PI:()=>Math.PI,POWER:(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),h**p),PRODUCT:(...h)=>{let p=1;return o.flattenParams(h,null,!0,(m,v)=>{const y=Number(m);v.isLiteral&&!isNaN(y)?p*=y:typeof m=="number"&&(p*=m)},1),p},QUOTIENT:(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),Math.trunc(h/p)),RADIANS:h=>(h=o.accept(h,n.NUMBER),h/180*Math.PI),RAND:()=>Math.random(),RANDBETWEEN:(h,p)=>(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),Math.floor(Math.random()*(p-h+1)+h)),ROMAN:(h,p)=>{if(h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER,0),p!==0)throw Error("ROMAN: only allows form=0 (classic form).");const m=String(h).split(""),v=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let y="",C=3;for(;C--;)y=(v[+m.pop()+C*10]||"")+y;return new Array(+m.join("")+1).join("M")+y},ROUND:(h,p)=>{h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER);const m=Math.pow(10,Math.abs(p)),v=h>0?1:-1;return p>0?v*Math.round(Math.abs(h)*m)/m:p===0?v*Math.round(Math.abs(h)):v*Math.round(Math.abs(h)/m)*m},ROUNDDOWN:(h,p)=>{h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER);const m=Math.pow(10,Math.abs(p)),v=h>0?1:-1;if(p>0){const y=1/m*.5;return v*Math.round((Math.abs(h)-y)*m)/m}else{if(p===0)return v*Math.round(Math.abs(h)-.5);{const y=m*.5;return v*Math.round((Math.abs(h)-y)/m)*m}}},ROUNDUP:(h,p)=>{h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER);const m=Math.pow(10,Math.abs(p)),v=h>0?1:-1;if(p>0){const y=1/m*.5;return v*Math.round((Math.abs(h)+y)*m)/m}else{if(p===0)return v*Math.round(Math.abs(h)+.5);{const y=m*.5;return v*Math.round((Math.abs(h)+y)/m)*m}}},SERIESSUM:(h,p,m,v)=>{h=o.accept(h,n.NUMBER),p=o.accept(p,n.NUMBER),m=o.accept(m,n.NUMBER);let y=0,C;return o.flattenParams([v],n.NUMBER,!1,S=>{if(typeof S!="number")throw e.VALUE;y===0?C=S*Math.pow(h,p):C+=S*Math.pow(h,p+y*m),y++}),C},SIGN:h=>(h=o.accept(h,n.NUMBER),h>0?1:h===0?0:-1),SQRT:h=>{if(h=o.accept(h,n.NUMBER),h<0)throw e.NUM;return Math.sqrt(h)},SQRTPI:h=>{if(h=o.accept(h,n.NUMBER),h<0)throw e.NUM;return Math.sqrt(h*Math.PI)},SUBTOTAL:()=>{},SUM:(...h)=>{let p=0;return o.flattenParams(h,n.NUMBER,!0,(m,v)=>{(v.isLiteral||typeof m=="number")&&(p+=m)}),p},SUMIF:(h,p,m,v)=>{const y=o.retrieveRanges(h,p,v);p=y[0],v=y[1],m=o.retrieveArg(h,m);const C=m.isArray;m=r.parse(o.accept(m));let S=0;return p.forEach((x,R)=>{x.forEach((A,T)=>{const L=v[R][T];typeof L=="number"&&(m.op==="wc"?m.match===m.value.test(A)&&(S+=L):s.compareOp(A,m.op,m.value,Array.isArray(A),C)&&(S+=L))})}),S},SUMIFS:()=>{},SUMPRODUCT:(h,...p)=>{h=o.accept(h,n.ARRAY,void 0,!1,!0),p.forEach(v=>{if(v=o.accept(v,n.ARRAY,void 0,!1,!0),h[0].length!==v[0].length||h.length!==v.length)throw e.VALUE;for(let y=0;y<h.length;y++)for(let C=0;C<h[0].length;C++)typeof h[y][C]!="number"&&(h[y][C]=0),typeof v[y][C]!="number"&&(v[y][C]=0),h[y][C]*=v[y][C]});let m=0;return h.forEach(v=>{v.forEach(y=>{m+=y})}),m},SUMSQ:(...h)=>{let p=0;return o.flattenParams(h,n.NUMBER,!0,(m,v)=>{(v.isLiteral||typeof m=="number")&&(p+=m**2)}),p},SUMX2MY2:(h,p)=>{const m=[],v=[];let y=0;if(o.flattenParams([h],null,!1,(C,S)=>{m.push(C)}),o.flattenParams([p],null,!1,(C,S)=>{v.push(C)}),m.length!==v.length)throw e.NA;for(let C=0;C<m.length;C++)typeof m[C]=="number"&&typeof v[C]=="number"&&(y+=m[C]**2-v[C]**2);return y},SUMX2PY2:(h,p)=>{const m=[],v=[];let y=0;if(o.flattenParams([h],null,!1,(C,S)=>{m.push(C)}),o.flattenParams([p],null,!1,(C,S)=>{v.push(C)}),m.length!==v.length)throw e.NA;for(let C=0;C<m.length;C++)typeof m[C]=="number"&&typeof v[C]=="number"&&(y+=m[C]**2+v[C]**2);return y},SUMXMY2:(h,p)=>{const m=[],v=[];let y=0;if(o.flattenParams([h],null,!1,(C,S)=>{m.push(C)}),o.flattenParams([p],null,!1,(C,S)=>{v.push(C)}),m.length!==v.length)throw e.NA;for(let C=0;C<m.length;C++)typeof m[C]=="number"&&typeof v[C]=="number"&&(y+=(m[C]-v[C])**2);return y},TRUNC:h=>(h=o.accept(h,n.NUMBER),Math.trunc(h))};return Z2=d,Z2}var X2,Nj;function AVe(){if(Nj)return X2;Nj=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t,r=2**27-1;return X2={ACOS:o=>{if(o=i.accept(o,n.NUMBER),o>1||o<-1)throw e.NUM;return Math.acos(o)},ACOSH:o=>{if(o=i.accept(o,n.NUMBER),o<1)throw e.NUM;return Math.acosh(o)},ACOT:o=>(o=i.accept(o,n.NUMBER),Math.PI/2-Math.atan(o)),ACOTH:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)<=1)throw e.NUM;return Math.atanh(1/o)},ASIN:o=>{if(o=i.accept(o,n.NUMBER),o>1||o<-1)throw e.NUM;return Math.asin(o)},ASINH:o=>(o=i.accept(o,n.NUMBER),Math.asinh(o)),ATAN:o=>(o=i.accept(o,n.NUMBER),Math.atan(o)),ATAN2:(o,a)=>{if(o=i.accept(o,n.NUMBER),a=i.accept(a,n.NUMBER),a===0&&o===0)throw e.DIV0;return Math.atan2(a,o)},ATANH:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>1)throw e.NUM;return Math.atanh(o)},COS:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;return Math.cos(o)},COSH:o=>(o=i.accept(o,n.NUMBER),Math.cosh(o)),COT:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;if(o===0)throw e.DIV0;return 1/Math.tan(o)},COTH:o=>{if(o=i.accept(o,n.NUMBER),o===0)throw e.DIV0;return 1/Math.tanh(o)},CSC:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;return 1/Math.sin(o)},CSCH:o=>{if(o=i.accept(o,n.NUMBER),o===0)throw e.DIV0;return 1/Math.sinh(o)},SEC:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;return 1/Math.cos(o)},SECH:o=>(o=i.accept(o,n.NUMBER),1/Math.cosh(o)),SIN:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;return Math.sin(o)},SINH:o=>(o=i.accept(o,n.NUMBER),Math.sinh(o)),TAN:o=>{if(o=i.accept(o,n.NUMBER),Math.abs(o)>r)throw e.NUM;return Math.tan(o)},TANH:o=>(o=i.accept(o,n.NUMBER),Math.tanh(o))},X2}var Q2,Lj;function TVe(){if(Lj)return Q2;Lj=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t;function r(o){let a=0,l=0;return i.flattenParams(o,null,!0,c=>{const u=typeof c;u==="string"?c==="TRUE"?c=!0:c==="FALSE"&&(c=!1):u==="number"&&(c=!!c),typeof c=="boolean"&&(c===!0?a++:l++)}),[a,l]}return Q2={AND:(...o)=>{const[a,l]=r(o);return a===0&&l===0?e.VALUE:a>0&&l===0},FALSE:()=>!1,IF:(o,a,l,c)=>(a=i.accept(a,n.BOOLEAN),l=i.accept(l),c=i.accept(c,null,!1),a?l:c),IFERROR:(o,a)=>o.value instanceof e?i.accept(a):i.accept(o),IFNA:function(o,a){if(arguments.length>2)throw e.TOO_MANY_ARGS("IFNA");return e.NA.equals(o.value)?i.accept(a):i.accept(o)},IFS:(...o)=>{if(o.length%2!==0)return new e("#N/A","IFS expects all arguments after position 0 to be in pairs.");for(let a=0;a<o.length/2;a++){const l=i.accept(o[a*2],n.BOOLEAN),c=i.accept(o[a*2+1]);if(l)return c}return e.NA},NOT:o=>(o=i.accept(o,n.BOOLEAN),!o),OR:(...o)=>{const[a,l]=r(o);return a===0&&l===0?e.VALUE:a>0},SWITCH:(...o)=>{},TRUE:()=>!0,XOR:(...o)=>{const[a,l]=r(o);return a===0&&l===0?e.VALUE:a%2===1}},Q2}var J2={},kj;function DVe(){return kj||(kj=1,function(e){(function(t){t(typeof DO_NOT_EXPORT_BESSEL>"u"?e:{})})(function(t){t.version="1.0.2";var n=Math;function i(u,d){for(var h=0,p=0;h<u.length;++h)p=d*p+u[h];return p}function r(u,d,h,p,m){if(d===0)return h;if(d===1)return p;for(var v=2/u,y=p,C=1;C<d;++C)y=p*C*v+m*h,h=p,p=y;return y}function s(u,d,h,p,m){return function(y,C){if(p){if(y===0)return p==1?-1/0:1/0;if(y<0)return NaN}if(C===0)return u(y);if(C===1)return d(y);if(C<0)return NaN;C|=0;var S=u(y),x=d(y);return r(y,C,S,x,m)}}var o=function(){var u=.636619772,d=[57568490574,-13362590354,6516196407e-1,-1121442418e-2,77392.33017,-184.9052456].reverse(),h=[57568490411,1029532985,9494680718e-3,59272.64853,267.8532712,1].reverse(),p=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),m=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934935152e-16].reverse();function v(A){var T=0,L=0,O=0,F=A*A;if(A<8)L=i(d,F),O=i(h,F),T=L/O;else{var H=A-.785398164;F=64/F,L=i(p,F),O=i(m,F),T=n.sqrt(u/A)*(n.cos(H)*L-n.sin(H)*O*8/A)}return T}var y=[72362614232,-7895059235,2423968531e-1,-2972611439e-3,15704.4826,-30.16036606].reverse(),C=[144725228442,2300535178,1858330474e-2,99447.43394,376.9991397,1].reverse(),S=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),x=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function R(A){var T=0,L=0,O=0,F=A*A,H=n.abs(A)-2.356194491;return Math.abs(A)<8?(L=A*i(y,F),O=i(C,F),T=L/O):(F=64/F,L=i(S,F),O=i(x,F),T=n.sqrt(u/n.abs(A))*(n.cos(H)*L-n.sin(H)*O*8/n.abs(A)),A<0&&(T=-T)),T}return function A(T,L){if(L=Math.round(L),!isFinite(T))return isNaN(T)?T:0;if(L<0)return(L%2?-1:1)*A(T,-L);if(T<0)return(L%2?-1:1)*A(-T,L);if(L===0)return v(T);if(L===1)return R(T);if(T===0)return 0;var O=0;if(T>L)O=r(T,L,v(T),R(T),-1);else{for(var F=2*n.floor((L+n.floor(n.sqrt(40*L)))/2),H=!1,W=0,$=0,Z=1,ie=0,oe=2/T,te=F;te>0;te--)ie=te*oe*Z-W,W=Z,Z=ie,n.abs(Z)>1e10&&(Z*=1e-10,W*=1e-10,O*=1e-10,$*=1e-10),H&&($+=Z),H=!H,te==L&&(O=W);$=2*$-Z,O/=$}return O}}(),a=function(){var u=.636619772,d=[-2957821389,7062834065,-5123598036e-1,1087988129e-2,-86327.92757,228.4622733].reverse(),h=[40076544269,7452499648e-1,7189466438e-3,47447.2647,226.1030244,1].reverse(),p=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),m=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934945152e-16].reverse();function v(A){var T=0,L=0,O=0,F=A*A,H=A-.785398164;return A<8?(L=i(d,F),O=i(h,F),T=L/O+u*o(A,0)*n.log(A)):(F=64/F,L=i(p,F),O=i(m,F),T=n.sqrt(u/A)*(n.sin(H)*L+n.cos(H)*O*8/A)),T}var y=[-4900604943e3,127527439e4,-51534381390,7349264551e-1,-4237922726e-3,8511.937935].reverse(),C=[249958057e5,424441966400,3733650367,2245904002e-2,102042.605,354.9632885,1].reverse(),S=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),x=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function R(A){var T=0,L=0,O=0,F=A*A,H=A-2.356194491;return A<8?(L=A*i(y,F),O=i(C,F),T=L/O+u*(o(A,1)*n.log(A)-1/A)):(F=64/F,L=i(S,F),O=i(x,F),T=n.sqrt(u/A)*(n.sin(H)*L+n.cos(H)*O*8/A)),T}return s(v,R,"BESSELY",1,-1)}(),l=function(){var u=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),d=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function h(y){return y<=3.75?i(u,y*y/(3.75*3.75)):n.exp(n.abs(y))/n.sqrt(n.abs(y))*i(d,3.75/n.abs(y))}var p=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),m=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function v(y){return y<3.75?y*i(p,y*y/(3.75*3.75)):(y<0?-1:1)*n.exp(n.abs(y))/n.sqrt(n.abs(y))*i(m,3.75/n.abs(y))}return function y(C,S){if(S=Math.round(S),S===0)return h(C);if(S===1)return v(C);if(S<0)return NaN;if(n.abs(C)===0)return 0;if(C==1/0)return 1/0;var x=0,R,A=2/n.abs(C),T=0,L=1,O=0,F=2*n.round((S+n.round(n.sqrt(40*S)))/2);for(R=F;R>0;R--)O=R*A*L+T,T=L,L=O,n.abs(L)>1e10&&(L*=1e-10,T*=1e-10,x*=1e-10),R==S&&(x=T);return x*=y(C,0)/L,C<0&&S%2?-x:x}}(),c=function(){var u=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),d=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function h(y){return y<=2?-n.log(y/2)*l(y,0)+i(u,y*y/4):n.exp(-y)/n.sqrt(y)*i(d,2/y)}var p=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),m=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function v(y){return y<=2?n.log(y/2)*l(y,1)+1/y*i(p,y*y/4):n.exp(-y)/n.sqrt(y)*i(m,2/y)}return s(h,v,"BESSELK",2,1)}();t.besselj=o,t.bessely=a,t.besseli=l,t.besselk=c})}(J2)),J2}var kI={exports:{}},IVe=kI.exports,Oj;function Mne(){return Oj||(Oj=1,function(e,t){(function(n,i){e.exports=i()})(IVe,function(){var n=function(i,r){var s=Array.prototype.concat,o=Array.prototype.slice,a=Object.prototype.toString;function l(S,x){var R=S>x?S:x;return i.pow(10,17-~~(i.log(R>0?R:-R)*i.LOG10E))}var c=Array.isArray||function(x){return a.call(x)==="[object Array]"};function u(S){return a.call(S)==="[object Function]"}function d(S){return typeof S=="number"?S-S===0:!1}function h(S){return s.apply([],S)}function p(){return new p._init(arguments)}p.fn=p.prototype,p._init=function(x){if(c(x[0]))if(c(x[0][0])){u(x[1])&&(x[0]=p.map(x[0],x[1]));for(var R=0;R<x[0].length;R++)this[R]=x[0][R];this.length=x[0].length}else this[0]=u(x[1])?p.map(x[0],x[1]):x[0],this.length=1;else if(d(x[0]))this[0]=p.seq.apply(null,x),this.length=1;else{if(x[0]instanceof p)return p(x[0].toArray());this[0]=[],this.length=1}return this},p._init.prototype=p.prototype,p._init.constructor=p,p.utils={calcRdx:l,isArray:c,isFunction:u,isNumber:d,toVector:h},p._random_fn=i.random,p.setRandom=function(x){if(typeof x!="function")throw new TypeError("fn is not a function");p._random_fn=x},p.extend=function(x){var R,A;if(arguments.length===1){for(A in x)p[A]=x[A];return this}for(R=1;R<arguments.length;R++)for(A in arguments[R])x[A]=arguments[R][A];return x},p.rows=function(x){return x.length||1},p.cols=function(x){return x[0].length||1},p.dimensions=function(x){return{rows:p.rows(x),cols:p.cols(x)}},p.row=function(x,R){return c(R)?R.map(function(A){return p.row(x,A)}):x[R]},p.rowa=function(x,R){return p.row(x,R)},p.col=function(x,R){if(c(R)){var A=p.arange(x.length).map(function(){return new Array(R.length)});return R.forEach(function(O,F){p.arange(x.length).forEach(function(H){A[H][F]=x[H][O]})}),A}for(var T=new Array(x.length),L=0;L<x.length;L++)T[L]=[x[L][R]];return T},p.cola=function(x,R){return p.col(x,R).map(function(A){return A[0]})},p.diag=function(x){for(var R=p.rows(x),A=new Array(R),T=0;T<R;T++)A[T]=[x[T][T]];return A},p.antidiag=function(x){for(var R=p.rows(x)-1,A=new Array(R),T=0;R>=0;R--,T++)A[T]=[x[T][R]];return A},p.transpose=function(x){var R=[],A,T,L,O,F;for(c(x[0])||(x=[x]),T=x.length,L=x[0].length,F=0;F<L;F++){for(A=new Array(T),O=0;O<T;O++)A[O]=x[O][F];R.push(A)}return R.length===1?R[0]:R},p.map=function(x,R,A){var T,L,O,F,H;for(c(x[0])||(x=[x]),L=x.length,O=x[0].length,F=A?x:new Array(L),T=0;T<L;T++)for(F[T]||(F[T]=new Array(O)),H=0;H<O;H++)F[T][H]=R(x[T][H],T,H);return F.length===1?F[0]:F},p.cumreduce=function(x,R,A){var T,L,O,F,H;for(c(x[0])||(x=[x]),L=x.length,O=x[0].length,F=A?x:new Array(L),T=0;T<L;T++)for(F[T]||(F[T]=new Array(O)),O>0&&(F[T][0]=x[T][0]),H=1;H<O;H++)F[T][H]=R(F[T][H-1],x[T][H]);return F.length===1?F[0]:F},p.alter=function(x,R){return p.map(x,R,!0)},p.create=function(x,R,A){var T=new Array(x),L,O;for(u(R)&&(A=R,R=x),L=0;L<x;L++)for(T[L]=new Array(R),O=0;O<R;O++)T[L][O]=A(L,O);return T};function m(){return 0}p.zeros=function(x,R){return d(R)||(R=x),p.create(x,R,m)};function v(){return 1}p.ones=function(x,R){return d(R)||(R=x),p.create(x,R,v)},p.rand=function(x,R){return d(R)||(R=x),p.create(x,R,p._random_fn)};function y(S,x){return S===x?1:0}p.identity=function(x,R){return d(R)||(R=x),p.create(x,R,y)},p.symmetric=function(x){var R=x.length,A,T;if(x.length!==x[0].length)return!1;for(A=0;A<R;A++)for(T=0;T<R;T++)if(x[T][A]!==x[A][T])return!1;return!0},p.clear=function(x){return p.alter(x,m)},p.seq=function(x,R,A,T){u(T)||(T=!1);var L=[],O=l(x,R),F=(R*O-x*O)/((A-1)*O),H=x,W;for(W=0;H<=R&&W<A;W++,H=(x*O+F*O*W)/O)L.push(T?T(H,W):H);return L},p.arange=function(x,R,A){var T=[],L;if(A=A||1,R===r&&(R=x,x=0),x===R||A===0)return[];if(x<R&&A<0)return[];if(x>R&&A>0)return[];if(A>0)for(L=x;L<R;L+=A)T.push(L);else for(L=x;L>R;L+=A)T.push(L);return T},p.slice=function(){function S(R,A,T,L){var O,F=[],H=R.length;if(A===r&&T===r&&L===r)return p.copy(R);if(A=A||0,T=T||R.length,A=A>=0?A:H+A,T=T>=0?T:H+T,L=L||1,A===T||L===0)return[];if(A<T&&L<0)return[];if(A>T&&L>0)return[];if(L>0)for(O=A;O<T;O+=L)F.push(R[O]);else for(O=A;O>T;O+=L)F.push(R[O]);return F}function x(R,A){var T,L;if(A=A||{},d(A.row)){if(d(A.col))return R[A.row][A.col];var O=p.rowa(R,A.row);return T=A.col||{},S(O,T.start,T.end,T.step)}if(d(A.col)){var F=p.cola(R,A.col);return L=A.row||{},S(F,L.start,L.end,L.step)}L=A.row||{},T=A.col||{};var H=S(R,L.start,L.end,L.step);return H.map(function(W){return S(W,T.start,T.end,T.step)})}return x}(),p.sliceAssign=function(x,R,A){var T,L;if(d(R.row)){if(d(R.col))return x[R.row][R.col]=A;R.col=R.col||{},R.col.start=R.col.start||0,R.col.end=R.col.end||x[0].length,R.col.step=R.col.step||1,T=p.arange(R.col.start,i.min(x.length,R.col.end),R.col.step);var O=R.row;return T.forEach(function(H,W){x[O][H]=A[W]}),x}if(d(R.col)){R.row=R.row||{},R.row.start=R.row.start||0,R.row.end=R.row.end||x.length,R.row.step=R.row.step||1,L=p.arange(R.row.start,i.min(x[0].length,R.row.end),R.row.step);var F=R.col;return L.forEach(function(H,W){x[H][F]=A[W]}),x}return A[0].length===r&&(A=[A]),R.row.start=R.row.start||0,R.row.end=R.row.end||x.length,R.row.step=R.row.step||1,R.col.start=R.col.start||0,R.col.end=R.col.end||x[0].length,R.col.step=R.col.step||1,L=p.arange(R.row.start,i.min(x.length,R.row.end),R.row.step),T=p.arange(R.col.start,i.min(x[0].length,R.col.end),R.col.step),L.forEach(function(H,W){T.forEach(function($,Z){x[H][$]=A[W][Z]})}),x},p.diagonal=function(x){var R=p.zeros(x.length,x.length);return x.forEach(function(A,T){R[T][T]=A}),R},p.copy=function(x){return x.map(function(R){return d(R)?R:R.map(function(A){return A})})};var C=p.prototype;return C.length=0,C.push=Array.prototype.push,C.sort=Array.prototype.sort,C.splice=Array.prototype.splice,C.slice=Array.prototype.slice,C.toArray=function(){return this.length>1?o.call(this):o.call(this)[0]},C.map=function(x,R){return p(p.map(this,x,R))},C.cumreduce=function(x,R){return p(p.cumreduce(this,x,R))},C.alter=function(x){return p.alter(this,x),this},function(S){for(var x=0;x<S.length;x++)(function(R){C[R]=function(A){var T=this,L;return A?(setTimeout(function(){A.call(T,C[R].call(T))}),this):(L=p[R](this),c(L)?p(L):L)}})(S[x])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(S){for(var x=0;x<S.length;x++)(function(R){C[R]=function(A,T){var L=this;return T?(setTimeout(function(){T.call(L,C[R].call(L,A))}),this):p(p[R](this,A))}})(S[x])}("row col".split(" ")),function(S){for(var x=0;x<S.length;x++)(function(R){C[R]=function(){return p(p[R].apply(null,arguments))}})(S[x])}("create zeros ones rand identity".split(" ")),p}(Math);return function(i,r){var s=i.utils.isFunction;function o(c,u){return c-u}function a(c,u,d){return r.max(u,r.min(c,d))}i.sum=function(u){for(var d=0,h=u.length;--h>=0;)d+=u[h];return d},i.sumsqrd=function(u){for(var d=0,h=u.length;--h>=0;)d+=u[h]*u[h];return d},i.sumsqerr=function(u){for(var d=i.mean(u),h=0,p=u.length,m;--p>=0;)m=u[p]-d,h+=m*m;return h},i.sumrow=function(u){for(var d=0,h=u.length;--h>=0;)d+=u[h];return d},i.product=function(u){for(var d=1,h=u.length;--h>=0;)d*=u[h];return d},i.min=function(u){for(var d=u[0],h=0;++h<u.length;)u[h]<d&&(d=u[h]);return d},i.max=function(u){for(var d=u[0],h=0;++h<u.length;)u[h]>d&&(d=u[h]);return d},i.unique=function(u){for(var d={},h=[],p=0;p<u.length;p++)d[u[p]]||(d[u[p]]=!0,h.push(u[p]));return h},i.mean=function(u){return i.sum(u)/u.length},i.meansqerr=function(u){return i.sumsqerr(u)/u.length},i.geomean=function(u){var d=u.map(r.log),h=i.mean(d);return r.exp(h)},i.median=function(u){var d=u.length,h=u.slice().sort(o);return d&1?h[d/2|0]:(h[d/2-1]+h[d/2])/2},i.cumsum=function(u){return i.cumreduce(u,function(d,h){return d+h})},i.cumprod=function(u){return i.cumreduce(u,function(d,h){return d*h})},i.diff=function(u){var d=[],h=u.length,p;for(p=1;p<h;p++)d.push(u[p]-u[p-1]);return d},i.rank=function(c){var u,d=[],h={};for(u=0;u<c.length;u++){var p=c[u];h[p]?h[p]++:(h[p]=1,d.push(p))}var m=d.sort(o),v={},y=1;for(u=0;u<m.length;u++){var p=m[u],C=h[p],S=y,x=y+C-1,R=(S+x)/2;v[p]=R,y+=C}return c.map(function(A){return v[A]})},i.mode=function(u){var d=u.length,h=u.slice().sort(o),p=1,m=0,v=0,y=[],C;for(C=0;C<d;C++)h[C]===h[C+1]?p++:(p>m?(y=[h[C]],m=p,v=0):p===m&&(y.push(h[C]),v++),p=1);return v===0?y[0]:y},i.range=function(u){return i.max(u)-i.min(u)},i.variance=function(u,d){return i.sumsqerr(u)/(u.length-(d?1:0))},i.pooledvariance=function(u){var d=u.reduce(function(p,m){return p+i.sumsqerr(m)},0),h=u.reduce(function(p,m){return p+m.length},0);return d/(h-u.length)},i.deviation=function(c){for(var u=i.mean(c),d=c.length,h=new Array(d),p=0;p<d;p++)h[p]=c[p]-u;return h},i.stdev=function(u,d){return r.sqrt(i.variance(u,d))},i.pooledstdev=function(u){return r.sqrt(i.pooledvariance(u))},i.meandev=function(u){for(var d=i.mean(u),h=[],p=u.length-1;p>=0;p--)h.push(r.abs(u[p]-d));return i.mean(h)},i.meddev=function(u){for(var d=i.median(u),h=[],p=u.length-1;p>=0;p--)h.push(r.abs(u[p]-d));return i.median(h)},i.coeffvar=function(u){return i.stdev(u)/i.mean(u)},i.quartiles=function(u){var d=u.length,h=u.slice().sort(o);return[h[r.round(d/4)-1],h[r.round(d/2)-1],h[r.round(d*3/4)-1]]},i.quantiles=function(u,d,h,p){var m=u.slice().sort(o),v=[d.length],y=u.length,C,S,x,R,A,T;for(typeof h>"u"&&(h=3/8),typeof p>"u"&&(p=3/8),C=0;C<d.length;C++)S=d[C],x=h+S*(1-h-p),R=y*S+x,A=r.floor(a(R,1,y-1)),T=a(R-A,0,1),v[C]=(1-T)*m[A-1]+T*m[A];return v},i.percentile=function(u,d,h){var p=u.slice().sort(o),m=d*(p.length+(h?1:-1))+(h?0:1),v=parseInt(m),y=m-v;return v+1<p.length?p[v-1]+y*(p[v]-p[v-1]):p[v-1]},i.percentileOfScore=function(u,d,h){var p=0,m=u.length,v=!1,y,C;for(h==="strict"&&(v=!0),C=0;C<m;C++)y=u[C],(v&&y<d||!v&&y<=d)&&p++;return p/m},i.histogram=function(u,d){d=d||4;var h=i.min(u),p=(i.max(u)-h)/d,m=u.length,v=[],y;for(y=0;y<d;y++)v[y]=0;for(y=0;y<m;y++)v[r.min(r.floor((u[y]-h)/p),d-1)]+=1;return v},i.covariance=function(u,d){var h=i.mean(u),p=i.mean(d),m=u.length,v=new Array(m),y;for(y=0;y<m;y++)v[y]=(u[y]-h)*(d[y]-p);return i.sum(v)/(m-1)},i.corrcoeff=function(u,d){return i.covariance(u,d)/i.stdev(u,1)/i.stdev(d,1)},i.spearmancoeff=function(c,u){return c=i.rank(c),u=i.rank(u),i.corrcoeff(c,u)},i.stanMoment=function(u,d){for(var h=i.mean(u),p=i.stdev(u),m=u.length,v=0,y=0;y<m;y++)v+=r.pow((u[y]-h)/p,d);return v/u.length},i.skewness=function(u){return i.stanMoment(u,3)},i.kurtosis=function(u){return i.stanMoment(u,4)-3};var l=i.prototype;(function(c){for(var u=0;u<c.length;u++)(function(d){l[d]=function(h,p){var m=[],v=0,y=this;if(s(h)&&(p=h,h=!1),p)return setTimeout(function(){p.call(y,l[d].call(y,h))}),this;if(this.length>1){for(y=h===!0?this:this.transpose();v<y.length;v++)m[v]=i[d](y[v]);return m}return i[d](this[0],h)}})(c[u])})("cumsum cumprod".split(" ")),function(c){for(var u=0;u<c.length;u++)(function(d){l[d]=function(h,p){var m=[],v=0,y=this;if(s(h)&&(p=h,h=!1),p)return setTimeout(function(){p.call(y,l[d].call(y,h))}),this;if(this.length>1){for(d!=="sumrow"&&(y=h===!0?this:this.transpose());v<y.length;v++)m[v]=i[d](y[v]);return h===!0?i[d](i.utils.toVector(m)):m}return i[d](this[0],h)}})(c[u])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(c){for(var u=0;u<c.length;u++)(function(d){l[d]=function(){var h=[],p=0,m=this,v=Array.prototype.slice.call(arguments),y;if(s(v[v.length-1])){y=v[v.length-1];var C=v.slice(0,v.length-1);return setTimeout(function(){y.call(m,l[d].apply(m,C))}),this}else{y=void 0;var S=function(R){return i[d].apply(m,[R].concat(v))}}if(this.length>1){for(m=m.transpose();p<m.length;p++)h[p]=S(m[p]);return h}return S(this[0])}})(c[u])}("quantiles percentileOfScore".split(" "))}(n,Math),function(i,r){i.gammaln=function(o){var a=0,l=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],c=1.000000000190015,u,d,h;for(h=(d=u=o)+5.5,h-=(u+.5)*r.log(h);a<6;a++)c+=l[a]/++d;return r.log(2.5066282746310007*c/u)-h},i.loggam=function(o){var a,l,c,u,d,h,p,m=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(a=o,p=0,o==1||o==2)return 0;for(o<=7&&(p=r.floor(7-o),a=o+p),l=1/(a*a),c=2*r.PI,d=m[9],h=8;h>=0;h--)d*=l,d+=m[h];if(u=d/a+.5*r.log(c)+(a-.5)*r.log(a)-a,o<=7)for(h=1;h<=p;h++)u-=r.log(a-1),a-=1;return u},i.gammafn=function(o){var a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],l=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],c=!1,u=0,d=0,h=0,p=o,m,v,y,C;if(o>171.6243769536076)return 1/0;if(p<=0)if(C=p%1+36e-17,C)c=(p&1?-1:1)*r.PI/r.sin(r.PI*C),p=1-p;else return 1/0;for(y=p,p<1?v=p++:v=(p-=u=(p|0)-1)-1,m=0;m<8;++m)h=(h+a[m])*v,d=d*v+l[m];if(C=h/d+1,y<p)C/=y;else if(y>p)for(m=0;m<u;++m)C*=p,p++;return c&&(C=c/C),C},i.gammap=function(o,a){return i.lowRegGamma(o,a)*i.gammafn(o)},i.lowRegGamma=function(o,a){var l=i.gammaln(o),c=o,u=1/o,d=u,h=a+1-o,p=1/1e-30,m=1/h,v=m,y=1,C=-~(r.log(o>=1?o:1/o)*8.5+o*.4+17),S;if(a<0||o<=0)return NaN;if(a<o+1){for(;y<=C;y++)u+=d*=a/++c;return u*r.exp(-a+o*r.log(a)-l)}for(;y<=C;y++)S=-y*(y-o),h+=2,m=S*m+h,p=h+S/p,m=1/m,v*=m*p;return 1-v*r.exp(-a+o*r.log(a)-l)},i.factorialln=function(o){return o<0?NaN:i.gammaln(o+1)},i.factorial=function(o){return o<0?NaN:i.gammafn(o+1)},i.combination=function(o,a){return o>170||a>170?r.exp(i.combinationln(o,a)):i.factorial(o)/i.factorial(a)/i.factorial(o-a)},i.combinationln=function(o,a){return i.factorialln(o)-i.factorialln(a)-i.factorialln(o-a)},i.permutation=function(o,a){return i.factorial(o)/i.factorial(o-a)},i.betafn=function(o,a){if(!(o<=0||a<=0))return o+a>170?r.exp(i.betaln(o,a)):i.gammafn(o)*i.gammafn(a)/i.gammafn(o+a)},i.betaln=function(o,a){return i.gammaln(o)+i.gammaln(a)-i.gammaln(o+a)},i.betacf=function(o,a,l){var c=1e-30,u=1,d=a+l,h=a+1,p=a-1,m=1,v=1-d*o/h,y,C,S,x;for(r.abs(v)<c&&(v=c),v=1/v,x=v;u<=100&&(y=2*u,C=u*(l-u)*o/((p+y)*(a+y)),v=1+C*v,r.abs(v)<c&&(v=c),m=1+C/m,r.abs(m)<c&&(m=c),v=1/v,x*=v*m,C=-(a+u)*(d+u)*o/((a+y)*(h+y)),v=1+C*v,r.abs(v)<c&&(v=c),m=1+C/m,r.abs(m)<c&&(m=c),v=1/v,S=v*m,x*=S,!(r.abs(S-1)<3e-7));u++);return x},i.gammapinv=function(o,a){var l=0,c=a-1,u=1e-8,d=i.gammaln(a),h,p,m,v,y,C,S;if(o>=1)return r.max(100,a+100*r.sqrt(a));if(o<=0)return 0;for(a>1?(C=r.log(c),S=r.exp(c*(C-1)-d),y=o<.5?o:1-o,m=r.sqrt(-2*r.log(y)),h=(2.30753+m*.27061)/(1+m*(.99229+m*.04481))-m,o<.5&&(h=-h),h=r.max(.001,a*r.pow(1-1/(9*a)-h/(3*r.sqrt(a)),3))):(m=1-a*(.253+a*.12),o<m?h=r.pow(o/m,1/a):h=1-r.log(1-(o-m)/(1-m)));l<12;l++){if(h<=0)return 0;if(p=i.lowRegGamma(a,h)-o,a>1?m=S*r.exp(-(h-c)+c*(r.log(h)-C)):m=r.exp(-h+c*r.log(h)-d),v=p/m,h-=m=v/(1-.5*r.min(1,v*((a-1)/h-1))),h<=0&&(h=.5*(h+m)),r.abs(m)<u*h)break}return h},i.erf=function(o){var a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],l=a.length-1,c=!1,u=0,d=0,h,p,m,v;for(o<0&&(o=-o,c=!0),h=2/(2+o),p=4*h-2;l>0;l--)m=u,u=p*u-d+a[l],d=m;return v=h*r.exp(-o*o+.5*(a[0]+p*u)-d),c?v-1:1-v},i.erfc=function(o){return 1-i.erf(o)},i.erfcinv=function(o){var a=0,l,c,u,d;if(o>=2)return-100;if(o<=0)return 100;for(d=o<1?o:2-o,u=r.sqrt(-2*r.log(d/2)),l=-.70711*((2.30753+u*.27061)/(1+u*(.99229+u*.04481))-u);a<2;a++)c=i.erfc(l)-d,l+=c/(1.1283791670955126*r.exp(-l*l)-l*c);return o<1?l:-l},i.ibetainv=function(o,a,l){var c=1e-8,u=a-1,d=l-1,h=0,p,m,v,y,C,S,x,R,A,T,L;if(o<=0)return 0;if(o>=1)return 1;for(a>=1&&l>=1?(v=o<.5?o:1-o,y=r.sqrt(-2*r.log(v)),x=(2.30753+y*.27061)/(1+y*(.99229+y*.04481))-y,o<.5&&(x=-x),R=(x*x-3)/6,A=2/(1/(2*a-1)+1/(2*l-1)),T=x*r.sqrt(R+A)/A-(1/(2*l-1)-1/(2*a-1))*(R+5/6-2/(3*A)),x=a/(a+l*r.exp(2*T))):(p=r.log(a/(a+l)),m=r.log(l/(a+l)),y=r.exp(a*p)/a,C=r.exp(l*m)/l,T=y+C,o<y/T?x=r.pow(a*T*o,1/a):x=1-r.pow(l*T*(1-o),1/l)),L=-i.gammaln(a)-i.gammaln(l)+i.gammaln(a+l);h<10;h++){if(x===0||x===1)return x;if(S=i.ibeta(x,a,l)-o,y=r.exp(u*r.log(x)+d*r.log(1-x)+L),C=S/y,x-=y=C/(1-.5*r.min(1,C*(u/x-d/(1-x)))),x<=0&&(x=.5*(x+y)),x>=1&&(x=.5*(x+y+1)),r.abs(y)<c*x&&h>0)break}return x},i.ibeta=function(o,a,l){var c=o===0||o===1?0:r.exp(i.gammaln(a+l)-i.gammaln(a)-i.gammaln(l)+a*r.log(o)+l*r.log(1-o));return o<0||o>1?!1:o<(a+1)/(a+l+2)?c*i.betacf(o,a,l)/a:1-c*i.betacf(1-o,l,a)/l},i.randn=function(o,a){var l,c,u,d,h;if(a||(a=o),o)return i.create(o,a,function(){return i.randn()});do l=i._random_fn(),c=1.7156*(i._random_fn()-.5),u=l-.449871,d=r.abs(c)+.386595,h=u*u+d*(.196*d-.25472*u);while(h>.27597&&(h>.27846||c*c>-4*r.log(l)*l*l));return c/l},i.randg=function(o,a,l){var c=o,u,d,h,p,m,v;if(l||(l=a),o||(o=1),a)return v=i.zeros(a,l),v.alter(function(){return i.randg(o)}),v;o<1&&(o+=1),u=o-1/3,d=1/r.sqrt(9*u);do{do m=i.randn(),p=1+d*m;while(p<=0);p=p*p*p,h=i._random_fn()}while(h>1-.331*r.pow(m,4)&&r.log(h)>.5*m*m+u*(1-p+r.log(p)));if(o==c)return u*p;do h=i._random_fn();while(h===0);return r.pow(h,1/c)*u*p},function(s){for(var o=0;o<s.length;o++)(function(a){i.fn[a]=function(){return i(i.map(this,function(l){return i[a](l)}))}})(s[o])}("gammaln gammafn factorial factorialln".split(" ")),function(s){for(var o=0;o<s.length;o++)(function(a){i.fn[a]=function(){return i(i[a].apply(null,arguments))}})(s[o])}("randn".split(" "))}(n,Math),function(i,r){(function(c){for(var u=0;u<c.length;u++)(function(d){i[d]=function h(p,m,v){return this instanceof h?(this._a=p,this._b=m,this._c=v,this):new h(p,m,v)},i.fn[d]=function(h,p,m){var v=i[d](h,p,m);return v.data=this,v},i[d].prototype.sample=function(h){var p=this._a,m=this._b,v=this._c;return h?i.alter(h,function(){return i[d].sample(p,m,v)}):i[d].sample(p,m,v)},function(h){for(var p=0;p<h.length;p++)(function(m){i[d].prototype[m]=function(v){var y=this._a,C=this._b,S=this._c;return!v&&v!==0&&(v=this.data),typeof v!="number"?i.fn.map.call(v,function(x){return i[d][m](x,y,C,S)}):i[d][m](v,y,C,S)}})(h[p])}("pdf cdf inv".split(" ")),function(h){for(var p=0;p<h.length;p++)(function(m){i[d].prototype[m]=function(){return i[d][m](this._a,this._b,this._c)}})(h[p])}("mean median mode variance".split(" "))})(c[u])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),i.extend(i.beta,{pdf:function(u,d,h){return u>1||u<0?0:d==1&&h==1?1:d<512&&h<512?r.pow(u,d-1)*r.pow(1-u,h-1)/i.betafn(d,h):r.exp((d-1)*r.log(u)+(h-1)*r.log(1-u)-i.betaln(d,h))},cdf:function(u,d,h){return u>1||u<0?(u>1)*1:i.ibeta(u,d,h)},inv:function(u,d,h){return i.ibetainv(u,d,h)},mean:function(u,d){return u/(u+d)},median:function(u,d){return i.ibetainv(.5,u,d)},mode:function(u,d){return(u-1)/(u+d-2)},sample:function(u,d){var h=i.randg(u);return h/(h+i.randg(d))},variance:function(u,d){return u*d/(r.pow(u+d,2)*(u+d+1))}}),i.extend(i.centralF,{pdf:function(u,d,h){var p,m,v;return u<0?0:d<=2?u===0&&d<2?1/0:u===0&&d===2?1:1/i.betafn(d/2,h/2)*r.pow(d/h,d/2)*r.pow(u,d/2-1)*r.pow(1+d/h*u,-(d+h)/2):(p=d*u/(h+u*d),m=h/(h+u*d),v=d*m/2,v*i.binomial.pdf((d-2)/2,(d+h-2)/2,p))},cdf:function(u,d,h){return u<0?0:i.ibeta(d*u/(d*u+h),d/2,h/2)},inv:function(u,d,h){return h/(d*(1/i.ibetainv(u,d/2,h/2)-1))},mean:function(u,d){return d>2?d/(d-2):void 0},mode:function(u,d){return u>2?d*(u-2)/(u*(d+2)):void 0},sample:function(u,d){var h=i.randg(u/2)*2,p=i.randg(d/2)*2;return h/u/(p/d)},variance:function(u,d){if(!(d<=4))return 2*d*d*(u+d-2)/(u*(d-2)*(d-2)*(d-4))}}),i.extend(i.cauchy,{pdf:function(u,d,h){return h<0?0:h/(r.pow(u-d,2)+r.pow(h,2))/r.PI},cdf:function(u,d,h){return r.atan((u-d)/h)/r.PI+.5},inv:function(c,u,d){return u+d*r.tan(r.PI*(c-.5))},median:function(u){return u},mode:function(u){return u},sample:function(u,d){return i.randn()*r.sqrt(1/(2*i.randg(.5)))*d+u}}),i.extend(i.chisquare,{pdf:function(u,d){return u<0?0:u===0&&d===2?.5:r.exp((d/2-1)*r.log(u)-u/2-d/2*r.log(2)-i.gammaln(d/2))},cdf:function(u,d){return u<0?0:i.lowRegGamma(d/2,u/2)},inv:function(c,u){return 2*i.gammapinv(c,.5*u)},mean:function(c){return c},median:function(u){return u*r.pow(1-2/(9*u),3)},mode:function(u){return u-2>0?u-2:0},sample:function(u){return i.randg(u/2)*2},variance:function(u){return 2*u}}),i.extend(i.exponential,{pdf:function(u,d){return u<0?0:d*r.exp(-d*u)},cdf:function(u,d){return u<0?0:1-r.exp(-d*u)},inv:function(c,u){return-r.log(1-c)/u},mean:function(c){return 1/c},median:function(c){return 1/c*r.log(2)},mode:function(){return 0},sample:function(u){return-1/u*r.log(i._random_fn())},variance:function(c){return r.pow(c,-2)}}),i.extend(i.gamma,{pdf:function(u,d,h){return u<0?0:u===0&&d===1?1/h:r.exp((d-1)*r.log(u)-u/h-i.gammaln(d)-d*r.log(h))},cdf:function(u,d,h){return u<0?0:i.lowRegGamma(d,u/h)},inv:function(c,u,d){return i.gammapinv(c,u)*d},mean:function(c,u){return c*u},mode:function(u,d){if(u>1)return(u-1)*d},sample:function(u,d){return i.randg(u)*d},variance:function(u,d){return u*d*d}}),i.extend(i.invgamma,{pdf:function(u,d,h){return u<=0?0:r.exp(-(d+1)*r.log(u)-h/u-i.gammaln(d)+d*r.log(h))},cdf:function(u,d,h){return u<=0?0:1-i.lowRegGamma(d,h/u)},inv:function(c,u,d){return d/i.gammapinv(1-c,u)},mean:function(c,u){return c>1?u/(c-1):void 0},mode:function(u,d){return d/(u+1)},sample:function(u,d){return d/i.randg(u)},variance:function(u,d){if(!(u<=2))return d*d/((u-1)*(u-1)*(u-2))}}),i.extend(i.kumaraswamy,{pdf:function(u,d,h){return u===0&&d===1?h:u===1&&h===1?d:r.exp(r.log(d)+r.log(h)+(d-1)*r.log(u)+(h-1)*r.log(1-r.pow(u,d)))},cdf:function(u,d,h){return u<0?0:u>1?1:1-r.pow(1-r.pow(u,d),h)},inv:function(u,d,h){return r.pow(1-r.pow(1-u,1/h),1/d)},mean:function(c,u){return u*i.gammafn(1+1/c)*i.gammafn(u)/i.gammafn(1+1/c+u)},median:function(u,d){return r.pow(1-r.pow(2,-1/d),1/u)},mode:function(u,d){if(u>=1&&d>=1&&u!==1&&d!==1)return r.pow((u-1)/(u*d-1),1/u)},variance:function(){throw new Error("variance not yet implemented")}}),i.extend(i.lognormal,{pdf:function(u,d,h){return u<=0?0:r.exp(-r.log(u)-.5*r.log(2*r.PI)-r.log(h)-r.pow(r.log(u)-d,2)/(2*h*h))},cdf:function(u,d,h){return u<0?0:.5+.5*i.erf((r.log(u)-d)/r.sqrt(2*h*h))},inv:function(c,u,d){return r.exp(-1.4142135623730951*d*i.erfcinv(2*c)+u)},mean:function(u,d){return r.exp(u+d*d/2)},median:function(u){return r.exp(u)},mode:function(u,d){return r.exp(u-d*d)},sample:function(u,d){return r.exp(i.randn()*d+u)},variance:function(u,d){return(r.exp(d*d)-1)*r.exp(2*u+d*d)}}),i.extend(i.noncentralt,{pdf:function(u,d,h){var p=1e-14;return r.abs(h)<p?i.studentt.pdf(u,d):r.abs(u)<p?r.exp(i.gammaln((d+1)/2)-h*h/2-.5*r.log(r.PI*d)-i.gammaln(d/2)):d/u*(i.noncentralt.cdf(u*r.sqrt(1+2/d),d+2,h)-i.noncentralt.cdf(u,d,h))},cdf:function(u,d,h){var p=1e-14,m=200;if(r.abs(h)<p)return i.studentt.cdf(u,d);var v=!1;u<0&&(v=!0,h=-h);for(var y=i.normal.cdf(-h,0,1),C=p+1,S=C,x=u*u/(u*u+d),R=0,A=r.exp(-h*h/2),T=r.exp(-h*h/2-.5*r.log(2)-i.gammaln(3/2))*h;R<m||S>p||C>p;)S=C,R>0&&(A*=h*h/(2*R),T*=h*h/(2*(R+1/2))),C=A*i.beta.cdf(x,R+.5,d/2)+T*i.beta.cdf(x,R+1,d/2),y+=.5*C,R++;return v?1-y:y}}),i.extend(i.normal,{pdf:function(u,d,h){return r.exp(-.5*r.log(2*r.PI)-r.log(h)-r.pow(u-d,2)/(2*h*h))},cdf:function(u,d,h){return .5*(1+i.erf((u-d)/r.sqrt(2*h*h)))},inv:function(c,u,d){return-1.4142135623730951*d*i.erfcinv(2*c)+u},mean:function(c){return c},median:function(u){return u},mode:function(c){return c},sample:function(u,d){return i.randn()*d+u},variance:function(c,u){return u*u}}),i.extend(i.pareto,{pdf:function(u,d,h){return u<d?0:h*r.pow(d,h)/r.pow(u,h+1)},cdf:function(u,d,h){return u<d?0:1-r.pow(d/u,h)},inv:function(u,d,h){return d/r.pow(1-u,1/h)},mean:function(u,d){if(!(d<=1))return d*r.pow(u,d)/(d-1)},median:function(u,d){return u*(d*r.SQRT2)},mode:function(u){return u},variance:function(c,u){if(!(u<=2))return c*c*u/(r.pow(u-1,2)*(u-2))}}),i.extend(i.studentt,{pdf:function(u,d){return d=d>1e100?1e100:d,1/(r.sqrt(d)*i.betafn(.5,d/2))*r.pow(1+u*u/d,-((d+1)/2))},cdf:function(u,d){var h=d/2;return i.ibeta((u+r.sqrt(u*u+d))/(2*r.sqrt(u*u+d)),h,h)},inv:function(c,u){var d=i.ibetainv(2*r.min(c,1-c),.5*u,.5);return d=r.sqrt(u*(1-d)/d),c>.5?d:-d},mean:function(u){return u>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(u){return i.randn()*r.sqrt(u/(2*i.randg(u/2)))},variance:function(u){return u>2?u/(u-2):u>1?1/0:void 0}}),i.extend(i.weibull,{pdf:function(u,d,h){return u<0||d<0||h<0?0:h/d*r.pow(u/d,h-1)*r.exp(-r.pow(u/d,h))},cdf:function(u,d,h){return u<0?0:1-r.exp(-r.pow(u/d,h))},inv:function(c,u,d){return u*r.pow(-r.log(1-c),1/d)},mean:function(c,u){return c*i.gammafn(1+1/u)},median:function(u,d){return u*r.pow(r.log(2),1/d)},mode:function(u,d){return d<=1?0:u*r.pow((d-1)/d,1/d)},sample:function(u,d){return u*r.pow(-r.log(i._random_fn()),1/d)},variance:function(u,d){return u*u*i.gammafn(1+2/d)-r.pow(i.weibull.mean(u,d),2)}}),i.extend(i.uniform,{pdf:function(u,d,h){return u<d||u>h?0:1/(h-d)},cdf:function(u,d,h){return u<d?0:u<h?(u-d)/(h-d):1},inv:function(c,u,d){return u+c*(d-u)},mean:function(u,d){return .5*(u+d)},median:function(u,d){return i.mean(u,d)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(u,d){return u/2+d/2+(d/2-u/2)*(2*i._random_fn()-1)},variance:function(u,d){return r.pow(d-u,2)/12}});function s(c,u,d,h){for(var p=0,m=1,v=1,y=1,C=0,S=0,x;r.abs((v-S)/v)>h;)S=v,x=-(u+C)*(u+d+C)*c/(u+2*C)/(u+2*C+1),p=v+x*p,m=y+x*m,C=C+1,x=C*(d-C)*c/(u+2*C-1)/(u+2*C),v=p+x*v,y=m+x*y,p=p/y,m=m/y,v=v/y,y=1;return v/u}i.extend(i.binomial,{pdf:function(u,d,h){return h===0||h===1?d*h===u?1:0:i.combination(d,u)*r.pow(h,u)*r.pow(1-h,d-u)},cdf:function(u,d,h){var p,m=1e-10;if(u<0)return 0;if(u>=d)return 1;if(h<0||h>1||d<=0)return NaN;u=r.floor(u);var v=h,y=u+1,C=d-u,S=y+C,x=r.exp(i.gammaln(S)-i.gammaln(C)-i.gammaln(y)+y*r.log(v)+C*r.log(1-v));return v<(y+1)/(S+2)?p=x*s(v,y,C,m):p=1-x*s(1-v,C,y,m),r.round((1-p)*(1/m))/(1/m)}}),i.extend(i.negbin,{pdf:function(u,d,h){return u!==u>>>0?!1:u<0?0:i.combination(u+d-1,d-1)*r.pow(1-h,u)*r.pow(h,d)},cdf:function(u,d,h){var p=0,m=0;if(u<0)return 0;for(;m<=u;m++)p+=i.negbin.pdf(m,d,h);return p}}),i.extend(i.hypgeom,{pdf:function(u,d,h,p){if(u!==u|0)return!1;if(u<0||u<h-(d-p))return 0;if(u>p||u>h)return 0;if(h*2>d)return p*2>d?i.hypgeom.pdf(d-h-p+u,d,d-h,d-p):i.hypgeom.pdf(p-u,d,d-h,p);if(p*2>d)return i.hypgeom.pdf(h-u,d,h,d-p);if(h<p)return i.hypgeom.pdf(u,d,p,h);for(var m=1,v=0,y=0;y<u;y++){for(;m>1&&v<p;)m*=1-h/(d-v),v++;m*=(p-y)*(h-y)/((y+1)*(d-h-p+y+1))}for(;v<p;v++)m*=1-h/(d-v);return r.min(1,r.max(0,m))},cdf:function(u,d,h,p){if(u<0||u<h-(d-p))return 0;if(u>=p||u>=h)return 1;if(h*2>d)return p*2>d?i.hypgeom.cdf(d-h-p+u,d,d-h,d-p):1-i.hypgeom.cdf(p-u-1,d,d-h,p);if(p*2>d)return 1-i.hypgeom.cdf(h-u-1,d,h,d-p);if(h<p)return i.hypgeom.cdf(u,d,p,h);for(var m=1,v=1,y=0,C=0;C<u;C++){for(;m>1&&y<p;){var S=1-h/(d-y);v*=S,m*=S,y++}v*=(p-C)*(h-C)/((C+1)*(d-h-p+C+1)),m+=v}for(;y<p;y++)m*=1-h/(d-y);return r.min(1,r.max(0,m))}}),i.extend(i.poisson,{pdf:function(u,d){return d<0||u%1!==0||u<0?0:r.pow(d,u)*r.exp(-d)/i.factorial(u)},cdf:function(u,d){var h=[],p=0;if(u<0)return 0;for(;p<=u;p++)h.push(i.poisson.pdf(p,d));return i.sum(h)},mean:function(c){return c},variance:function(c){return c},sampleSmall:function(u){var d=1,h=0,p=r.exp(-u);do h++,d*=i._random_fn();while(d>p);return h-1},sampleLarge:function(u){var d=u,h,p,m,v,y,C,S,x,R,A;for(v=r.sqrt(d),y=r.log(d),S=.931+2.53*v,C=-.059+.02483*S,x=1.1239+1.1328/(S-3.4),R=.9277-3.6224/(S-2);;){if(p=r.random()-.5,m=r.random(),A=.5-r.abs(p),h=r.floor((2*C/A+S)*p+d+.43),A>=.07&&m<=R)return h;if(!(h<0||A<.013&&m>A)&&r.log(m)+r.log(x)-r.log(C/(A*A)+S)<=-d+h*y-i.loggam(h+1))return h}},sample:function(u){return u<10?this.sampleSmall(u):this.sampleLarge(u)}}),i.extend(i.triangular,{pdf:function(u,d,h,p){return h<=d||p<d||p>h?NaN:u<d||u>h?0:u<p?2*(u-d)/((h-d)*(p-d)):u===p?2/(h-d):2*(h-u)/((h-d)*(h-p))},cdf:function(u,d,h,p){return h<=d||p<d||p>h?NaN:u<=d?0:u>=h?1:u<=p?r.pow(u-d,2)/((h-d)*(p-d)):1-r.pow(h-u,2)/((h-d)*(h-p))},inv:function(u,d,h,p){return h<=d||p<d||p>h?NaN:u<=(p-d)/(h-d)?d+(h-d)*r.sqrt(u*((p-d)/(h-d))):d+(h-d)*(1-r.sqrt((1-u)*(1-(p-d)/(h-d))))},mean:function(u,d,h){return(u+d+h)/3},median:function(u,d,h){if(h<=(u+d)/2)return d-r.sqrt((d-u)*(d-h))/r.sqrt(2);if(h>(u+d)/2)return u+r.sqrt((d-u)*(h-u))/r.sqrt(2)},mode:function(u,d,h){return h},sample:function(u,d,h){var p=i._random_fn();return p<(h-u)/(d-u)?u+r.sqrt(p*(d-u)*(h-u)):d-r.sqrt((1-p)*(d-u)*(d-h))},variance:function(u,d,h){return(u*u+d*d+h*h-u*d-u*h-d*h)/18}}),i.extend(i.arcsine,{pdf:function(u,d,h){return h<=d?NaN:u<=d||u>=h?0:2/r.PI*r.pow(r.pow(h-d,2)-r.pow(2*u-d-h,2),-.5)},cdf:function(u,d,h){return u<d?0:u<h?2/r.PI*r.asin(r.sqrt((u-d)/(h-d))):1},inv:function(c,u,d){return u+(.5-.5*r.cos(r.PI*c))*(d-u)},mean:function(u,d){return d<=u?NaN:(u+d)/2},median:function(u,d){return d<=u?NaN:(u+d)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(u,d){return(u+d)/2+(d-u)/2*r.sin(2*r.PI*i.uniform.sample(0,1))},variance:function(u,d){return d<=u?NaN:r.pow(d-u,2)/8}});function o(c){return c/r.abs(c)}i.extend(i.laplace,{pdf:function(u,d,h){return h<=0?0:r.exp(-r.abs(u-d)/h)/(2*h)},cdf:function(u,d,h){return h<=0?0:u<d?.5*r.exp((u-d)/h):1-.5*r.exp(-(u-d)/h)},mean:function(c){return c},median:function(c){return c},mode:function(c){return c},variance:function(c,u){return 2*u*u},sample:function(u,d){var h=i._random_fn()-.5;return u-d*o(h)*r.log(1-2*r.abs(h))}});function a(c,u,d){var h=12,p=6,m=-30,v=-50,y=60,C=8,S=3,x=2,R=3,A=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],T=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],L=c*.5;if(L>=C)return 1;var O=2*i.normal.cdf(L,0,1,1,0)-1;O>=r.exp(v/d)?O=r.pow(O,d):O=0;var F;c>S?F=x:F=R;for(var H=L,W=(C-L)/F,$=H+W,Z=0,ie=d-1,oe=1;oe<=F;oe++){for(var te=0,ae=.5*($+H),ne=.5*($-H),Se=1;Se<=h;Se++){var q,re;p<Se?(q=h-Se+1,re=A[q-1]):(q=Se,re=-A[q-1]);var K=ne*re,V=ae+K,G=V*V;if(G>y)break;var se=2*i.normal.cdf(V,0,1,1,0),Y=2*i.normal.cdf(V,c,1,1,0),ue=se*.5-Y*.5;ue>=r.exp(m/ie)&&(ue=T[q-1]*r.exp(-(.5*G))*r.pow(ue,ie),te+=ue)}te*=2*ne*d/r.sqrt(2*r.PI),Z+=te,H=$,$+=W}return O+=Z,O<=r.exp(m/u)?0:(O=r.pow(O,u),O>=1?1:O)}function l(c,u,d){var h=.322232421088,p=.099348462606,m=-1,v=.588581570495,y=-.342242088547,C=.531103462366,S=-.204231210125,x=.10353775285,R=-453642210148e-16,A=.0038560700634,T=.8832,L=.2368,O=1.208,F=1.4142,H=120,W=.5-.5*c,$=r.sqrt(r.log(1/(W*W))),Z=$+(((($*R+S)*$+y)*$+m)*$+h)/(((($*A+x)*$+C)*$+v)*$+p);d<H&&(Z+=(Z*Z*Z+Z)/d/4);var ie=T-L*Z;return d<H&&(ie+=-1.214/d+O*Z/d),Z*(ie*r.log(u-1)+F)}i.extend(i.tukey,{cdf:function(u,d,h){var p=1,m=d,v=16,y=8,C=-30,S=1e-14,x=100,R=800,A=5e3,T=25e3,L=1,O=.5,F=.25,H=.125,W=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],$=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(u<=0)return 0;if(h<2||p<1||m<2)return NaN;if(!Number.isFinite(u))return 1;if(h>T)return a(u,p,m);var Z=h*.5,ie=Z*r.log(h)-h*r.log(2)-i.gammaln(Z),oe=Z-1,te=h*.25,ae;h<=x?ae=L:h<=R?ae=O:h<=A?ae=F:ae=H,ie+=r.log(ae);for(var ne=0,Se=1;Se<=50;Se++){for(var q=0,re=(2*Se-1)*ae,K=1;K<=v;K++){var V,G;y<K?(V=K-y-1,G=ie+oe*r.log(re+W[V]*ae)-(W[V]*ae+re)*te):(V=K-1,G=ie+oe*r.log(re-W[V]*ae)+(W[V]*ae-re)*te);var se;if(G>=C){y<K?se=u*r.sqrt((W[V]*ae+re)*.5):se=u*r.sqrt((-(W[V]*ae)+re)*.5);var Y=a(se,p,m),ue=Y*$[V]*r.exp(G);q+=ue}}if(Se*ae>=1&&q<=S)break;ne+=q}if(q>S)throw new Error("tukey.cdf failed to converge");return ne>1&&(ne=1),ne},inv:function(c,u,d){var h=1,p=u,m=1e-4,v=50;if(d<2||h<1||p<2)return NaN;if(c<0||c>1)return NaN;if(c===0)return 0;if(c===1)return 1/0;var y=l(c,p,d),C=i.tukey.cdf(y,u,d)-c,S;C>0?S=r.max(0,y-1):S=y+1;for(var x=i.tukey.cdf(S,u,d)-c,R,A=1;A<v;A++){R=S-x*(S-y)/(x-C),C=x,y=S,R<0&&(R=0,x=-c),x=i.tukey.cdf(R,u,d)-c,S=R;var T=r.abs(S-y);if(T<m)return R}throw new Error("tukey.inv failed to converge")}})}(n,Math),function(i,r){var s=Array.prototype.push,o=i.utils.isArray;function a(l){return o(l)||l instanceof i}i.extend({add:function(c,u){return a(u)?(a(u[0])||(u=[u]),i.map(c,function(d,h,p){return d+u[h][p]})):i.map(c,function(d){return d+u})},subtract:function(c,u){return a(u)?(a(u[0])||(u=[u]),i.map(c,function(d,h,p){return d-u[h][p]||0})):i.map(c,function(d){return d-u})},divide:function(c,u){return a(u)?(a(u[0])||(u=[u]),i.multiply(c,i.inv(u))):i.map(c,function(d){return d/u})},multiply:function(c,u){var d,h,p,m,v,y,C,S;if(c.length===void 0&&u.length===void 0)return c*u;if(v=c.length,y=c[0].length,C=i.zeros(v,p=a(u)?u[0].length:y),S=0,a(u)){for(;S<p;S++)for(d=0;d<v;d++){for(m=0,h=0;h<y;h++)m+=c[d][h]*u[h][S];C[d][S]=m}return v===1&&S===1?C[0][0]:C}return i.map(c,function(x){return x*u})},outer:function(c,u){return i.multiply(c.map(function(d){return[d]}),[u])},dot:function(c,u){a(c[0])||(c=[c]),a(u[0])||(u=[u]);for(var d=c[0].length===1&&c.length!==1?i.transpose(c):c,h=u[0].length===1&&u.length!==1?i.transpose(u):u,p=[],m=0,v=d.length,y=d[0].length,C,S;m<v;m++){for(p[m]=[],C=0,S=0;S<y;S++)C+=d[m][S]*h[m][S];p[m]=C}return p.length===1?p[0]:p},pow:function(c,u){return i.map(c,function(d){return r.pow(d,u)})},exp:function(c){return i.map(c,function(u){return r.exp(u)})},log:function(c){return i.map(c,function(u){return r.log(u)})},abs:function(c){return i.map(c,function(u){return r.abs(u)})},norm:function(c,u){var d=0,h=0;for(isNaN(u)&&(u=2),a(c[0])&&(c=c[0]);h<c.length;h++)d+=r.pow(r.abs(c[h]),u);return r.pow(d,1/u)},angle:function(c,u){return r.acos(i.dot(c,u)/(i.norm(c)*i.norm(u)))},aug:function(c,u){var d=[],h;for(h=0;h<c.length;h++)d.push(c[h].slice());for(h=0;h<d.length;h++)s.apply(d[h],u[h]);return d},inv:function(c){for(var u=c.length,d=c[0].length,h=i.identity(u,d),p=i.gauss_jordan(c,h),m=[],v=0,y;v<u;v++)for(m[v]=[],y=d;y<p[0].length;y++)m[v][y-d]=p[v][y];return m},det:function l(c){if(c.length===2)return c[0][0]*c[1][1]-c[0][1]*c[1][0];for(var u=0,d=0;d<c.length;d++){for(var h=[],p=1;p<c.length;p++){h[p-1]=[];for(var m=0;m<c.length;m++)m<d?h[p-1][m]=c[p][m]:m>d&&(h[p-1][m-1]=c[p][m])}var v=d%2?-1:1;u+=l(h)*c[0][d]*v}return u},gauss_elimination:function(c,u){var d=0,h=0,p=c.length,m=c[0].length,v=1,y=0,C=[],S,x,R,A;for(c=i.aug(c,u),S=c[0].length,d=0;d<p;d++){for(x=c[d][d],h=d,A=d+1;A<m;A++)x<r.abs(c[A][d])&&(x=c[A][d],h=A);if(h!=d)for(A=0;A<S;A++)R=c[d][A],c[d][A]=c[h][A],c[h][A]=R;for(h=d+1;h<p;h++)for(v=c[h][d]/c[d][d],A=d;A<S;A++)c[h][A]=c[h][A]-v*c[d][A]}for(d=p-1;d>=0;d--){for(y=0,h=d+1;h<=p-1;h++)y=y+C[h]*c[d][h];C[d]=(c[d][S-1]-y)/c[d][d]}return C},gauss_jordan:function(c,u){var d=i.aug(c,u),h=d.length,p=d[0].length,m=0,v,y,C;for(y=0;y<h;y++){var S=y;for(C=y+1;C<h;C++)r.abs(d[C][y])>r.abs(d[S][y])&&(S=C);var x=d[y];for(d[y]=d[S],d[S]=x,C=y+1;C<h;C++)for(m=d[C][y]/d[y][y],v=y;v<p;v++)d[C][v]-=d[y][v]*m}for(y=h-1;y>=0;y--){for(m=d[y][y],C=0;C<y;C++)for(v=p-1;v>y-1;v--)d[C][v]-=d[y][v]*d[C][y]/m;for(d[y][y]/=m,v=h;v<p;v++)d[y][v]/=m}return d},triaUpSolve:function(c,u){var d=c[0].length,h=i.zeros(1,d)[0],p,m=!1;return u[0].length!=null&&(u=u.map(function(v){return v[0]}),m=!0),i.arange(d-1,-1,-1).forEach(function(v){p=i.arange(v+1,d).map(function(y){return h[y]*c[v][y]}),h[v]=(u[v]-i.sum(p))/c[v][v]}),m?h.map(function(v){return[v]}):h},triaLowSolve:function(c,u){var d=c[0].length,h=i.zeros(1,d)[0],p,m=!1;return u[0].length!=null&&(u=u.map(function(v){return v[0]}),m=!0),i.arange(d).forEach(function(v){p=i.arange(v).map(function(y){return c[v][y]*h[y]}),h[v]=(u[v]-i.sum(p))/c[v][v]}),m?h.map(function(v){return[v]}):h},lu:function(c){var u=c.length,d=i.identity(u),h=i.zeros(c.length,c[0].length),p;return i.arange(u).forEach(function(m){h[0][m]=c[0][m]}),i.arange(1,u).forEach(function(m){i.arange(m).forEach(function(v){p=i.arange(v).map(function(y){return d[m][y]*h[y][v]}),d[m][v]=(c[m][v]-i.sum(p))/h[v][v]}),i.arange(m,u).forEach(function(v){p=i.arange(m).map(function(y){return d[m][y]*h[y][v]}),h[m][v]=c[p.length][v]-i.sum(p)})}),[d,h]},cholesky:function(c){var u=c.length,d=i.zeros(c.length,c[0].length),h;return i.arange(u).forEach(function(p){h=i.arange(p).map(function(m){return r.pow(d[p][m],2)}),d[p][p]=r.sqrt(c[p][p]-i.sum(h)),i.arange(p+1,u).forEach(function(m){h=i.arange(p).map(function(v){return d[p][v]*d[m][v]}),d[m][p]=(c[p][m]-i.sum(h))/d[p][p]})}),d},gauss_jacobi:function(c,u,d,h){for(var p=0,m=0,v=c.length,y=[],C=[],S=[],x,R,A,T;p<v;p++)for(y[p]=[],C[p]=[],S[p]=[],m=0;m<v;m++)p>m?(y[p][m]=c[p][m],C[p][m]=S[p][m]=0):p<m?(C[p][m]=c[p][m],y[p][m]=S[p][m]=0):(S[p][m]=c[p][m],y[p][m]=C[p][m]=0);for(A=i.multiply(i.multiply(i.inv(S),i.add(y,C)),-1),R=i.multiply(i.inv(S),u),x=d,T=i.add(i.multiply(A,d),R),p=2;r.abs(i.norm(i.subtract(T,x)))>h;)x=T,T=i.add(i.multiply(A,x),R),p++;return T},gauss_seidel:function(c,u,d,h){for(var p=0,m=c.length,v=[],y=[],C=[],S,x,R,A,T;p<m;p++)for(v[p]=[],y[p]=[],C[p]=[],S=0;S<m;S++)p>S?(v[p][S]=c[p][S],y[p][S]=C[p][S]=0):p<S?(y[p][S]=c[p][S],v[p][S]=C[p][S]=0):(C[p][S]=c[p][S],v[p][S]=y[p][S]=0);for(A=i.multiply(i.multiply(i.inv(i.add(C,v)),y),-1),R=i.multiply(i.inv(i.add(C,v)),u),x=d,T=i.add(i.multiply(A,d),R),p=2;r.abs(i.norm(i.subtract(T,x)))>h;)x=T,T=i.add(i.multiply(A,x),R),p=p+1;return T},SOR:function(c,u,d,h,p){for(var m=0,v=c.length,y=[],C=[],S=[],x,R,A,T,L;m<v;m++)for(y[m]=[],C[m]=[],S[m]=[],x=0;x<v;x++)m>x?(y[m][x]=c[m][x],C[m][x]=S[m][x]=0):m<x?(C[m][x]=c[m][x],y[m][x]=S[m][x]=0):(S[m][x]=c[m][x],y[m][x]=C[m][x]=0);for(T=i.multiply(i.inv(i.add(S,i.multiply(y,p))),i.subtract(i.multiply(S,1-p),i.multiply(C,p))),A=i.multiply(i.multiply(i.inv(i.add(S,i.multiply(y,p))),u),p),R=d,L=i.add(i.multiply(T,d),A),m=2;r.abs(i.norm(i.subtract(L,R)))>h;)R=L,L=i.add(i.multiply(T,R),A),m++;return L},householder:function(c){for(var u=c.length,d=c[0].length,h=0,p=[],m=[],v,y,C,S,x;h<u-1;h++){for(v=0,S=h+1;S<d;S++)v+=c[S][h]*c[S][h];for(x=c[h+1][h]>0?-1:1,v=x*r.sqrt(v),y=r.sqrt((v*v-c[h+1][h]*v)/2),p=i.zeros(u,1),p[h+1][0]=(c[h+1][h]-v)/(2*y),C=h+2;C<u;C++)p[C][0]=c[C][h]/(2*y);m=i.subtract(i.identity(u,d),i.multiply(i.multiply(p,i.transpose(p)),2)),c=i.multiply(m,i.multiply(c,m))}return c},QR:function(){var l=i.sum,c=i.arange;function u(d){var h=d.length,p=d[0].length,m=i.zeros(p,p);d=i.copy(d);var v,y,C;for(y=0;y<p;y++){for(m[y][y]=r.sqrt(l(c(h).map(function(S){return d[S][y]*d[S][y]}))),v=0;v<h;v++)d[v][y]=d[v][y]/m[y][y];for(C=y+1;C<p;C++)for(m[y][C]=l(c(h).map(function(S){return d[S][y]*d[S][C]})),v=0;v<h;v++)d[v][C]=d[v][C]-d[v][y]*m[y][C]}return[d,m]}return u}(),lstsq:function(){function l(u){u=i.copy(u);var d=u.length,h=i.identity(d);return i.arange(d-1,-1,-1).forEach(function(p){i.sliceAssign(h,{row:p},i.divide(i.slice(h,{row:p}),u[p][p])),i.sliceAssign(u,{row:p},i.divide(i.slice(u,{row:p}),u[p][p])),i.arange(p).forEach(function(m){var v=i.multiply(u[m][p],-1),y=i.slice(u,{row:m}),C=i.multiply(i.slice(u,{row:p}),v);i.sliceAssign(u,{row:m},i.add(y,C));var S=i.slice(h,{row:m}),x=i.multiply(i.slice(h,{row:p}),v);i.sliceAssign(h,{row:m},i.add(S,x))})}),h}function c(u,d){var h=!1;d[0].length===void 0&&(d=d.map(function(T){return[T]}),h=!0);var p=i.QR(u),m=p[0],v=p[1],y=u[0].length,C=i.slice(m,{col:{end:y}}),S=i.slice(v,{row:{end:y}}),x=l(S),R=i.transpose(C);R[0].length===void 0&&(R=[R]);var A=i.multiply(i.multiply(x,R),d);return A.length===void 0&&(A=[[A]]),h?A.map(function(T){return T[0]}):A}return c}(),jacobi:function(c){for(var u=1,d=c.length,h=i.identity(d,d),p=[],m,v,y,C,S,x,R,A;u===1;){for(x=c[0][1],C=0,S=1,v=0;v<d;v++)for(y=0;y<d;y++)v!=y&&x<r.abs(c[v][y])&&(x=r.abs(c[v][y]),C=v,S=y);for(c[C][C]===c[S][S]?R=c[C][S]>0?r.PI/4:-r.PI/4:R=r.atan(2*c[C][S]/(c[C][C]-c[S][S]))/2,A=i.identity(d,d),A[C][C]=r.cos(R),A[C][S]=-r.sin(R),A[S][C]=r.sin(R),A[S][S]=r.cos(R),h=i.multiply(h,A),m=i.multiply(i.multiply(i.inv(A),c),A),c=m,u=0,v=1;v<d;v++)for(y=1;y<d;y++)v!=y&&r.abs(c[v][y])>.001&&(u=1)}for(v=0;v<d;v++)p.push(c[v][v]);return[h,p]},rungekutta:function(c,u,d,h,p,m){var v,y,C,S,x;if(m===2)for(;h<=d;)v=u*c(h,p),y=u*c(h+u,p+v),C=p+(v+y)/2,p=C,h=h+u;if(m===4)for(;h<=d;)v=u*c(h,p),y=u*c(h+u/2,p+v/2),S=u*c(h+u/2,p+y/2),x=u*c(h+u,p+S),C=p+(v+2*y+2*S+x)/6,p=C,h=h+u;return p},romberg:function(c,u,d,h){for(var p=0,m=(d-u)/2,v=[],y=[],C=[],S,x,R,A,T;p<h/2;){for(T=c(u),R=u,A=0;R<=d;R=R+m,A++)v[A]=R;for(S=v.length,R=1;R<S-1;R++)T+=(R%2!==0?4:2)*c(v[R]);T=m/3*(T+c(d)),C[p]=T,m/=2,p++}for(x=C.length,S=1;x!==1;){for(R=0;R<x-1;R++)y[R]=(r.pow(4,S)*C[R+1]-C[R])/(r.pow(4,S)-1);x=y.length,C=y,y=[],S++}return C},richardson:function(c,u,d,h){function p(L,O){for(var F=0,H=L.length,W;F<H;F++)L[F]===O&&(W=F);return W}for(var m=r.abs(d-c[p(c,d)+1]),v=0,y=[],C=[],S,x,R,A,T;h>=m;)S=p(c,d+h),x=p(c,d),y[v]=(u[S]-2*u[x]+u[2*x-S])/(h*h),h/=2,v++;for(A=y.length,R=1;A!=1;){for(T=0;T<A-1;T++)C[T]=(r.pow(4,R)*y[T+1]-y[T])/(r.pow(4,R)-1);A=C.length,y=C,C=[],R++}return y},simpson:function(c,u,d,h){for(var p=(d-u)/h,m=c(u),v=[],y=u,C=0,S=1,x;y<=d;y=y+p,C++)v[C]=y;for(x=v.length;S<x-1;S++)m+=(S%2!==0?4:2)*c(v[S]);return p/3*(m+c(d))},hermite:function(c,u,d,h){for(var p=c.length,m=0,v=0,y=[],C=[],S=[],x=[],R;v<p;v++){for(y[v]=1,R=0;R<p;R++)v!=R&&(y[v]*=(h-c[R])/(c[v]-c[R]));for(C[v]=0,R=0;R<p;R++)v!=R&&(C[v]+=1/(c[v]-c[R]));S[v]=(1-2*(h-c[v])*C[v])*(y[v]*y[v]),x[v]=(h-c[v])*(y[v]*y[v]),m+=S[v]*u[v]+x[v]*d[v]}return m},lagrange:function(c,u,d){for(var h=0,p=0,m,v,y=c.length;p<y;p++){for(v=u[p],m=0;m<y;m++)p!=m&&(v*=(d-c[m])/(c[p]-c[m]));h+=v}return h},cubic_spline:function(c,u,d){for(var h=c.length,p=0,m,v=[],y=[],C=[],S=[],x=[],R=[],A=[];p<h-1;p++)x[p]=c[p+1]-c[p];for(C[0]=0,p=1;p<h-1;p++)C[p]=3/x[p]*(u[p+1]-u[p])-3/x[p-1]*(u[p]-u[p-1]);for(p=1;p<h-1;p++)v[p]=[],y[p]=[],v[p][p-1]=x[p-1],v[p][p]=2*(x[p-1]+x[p]),v[p][p+1]=x[p],y[p][0]=C[p];for(S=i.multiply(i.inv(v),y),m=0;m<h-1;m++)R[m]=(u[m+1]-u[m])/x[m]-x[m]*(S[m+1][0]+2*S[m][0])/3,A[m]=(S[m+1][0]-S[m][0])/(3*x[m]);for(m=0;m<h&&!(c[m]>d);m++);return m-=1,u[m]+(d-c[m])*R[m]+i.sq(d-c[m])*S[m]+(d-c[m])*i.sq(d-c[m])*A[m]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(c){var u=c.length,d=c[0].length,h=0,p,m,v=[],y=[],C=[],S=[],x=[],R=[],A=[],T=[],L=[],O=[];for(h=0;h<u;h++)v[h]=i.sum(c[h])/d;for(h=0;h<d;h++)for(A[h]=[],p=0;p<u;p++)A[h][p]=c[p][h]-v[p];for(A=i.transpose(A),h=0;h<u;h++)for(T[h]=[],p=0;p<u;p++)T[h][p]=i.dot([A[h]],[A[p]])/(d-1);for(C=i.jacobi(T),L=C[0],y=C[1],O=i.transpose(L),h=0;h<y.length;h++)for(p=h;p<y.length;p++)y[h]<y[p]&&(m=y[h],y[h]=y[p],y[p]=m,S=O[h],O[h]=O[p],O[p]=S);for(R=i.transpose(A),h=0;h<u;h++)for(x[h]=[],p=0;p<R.length;p++)x[h][p]=i.dot([O[h]],[R[p]]);return[c,y,O,x]}}),function(l){for(var c=0;c<l.length;c++)(function(u){i.fn[u]=function(d,h){var p=this;return h?(setTimeout(function(){h.call(p,i.fn[u].call(p,d))},15),this):typeof i[u](this,d)=="number"?i[u](this,d):i(i[u](this,d))}})(l[c])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(i,r){var s=[].slice,o=i.utils.isNumber,a=i.utils.isArray;i.extend({zscore:function(){var u=s.call(arguments);return o(u[1])?(u[0]-u[1])/u[2]:(u[0]-i.mean(u[1]))/i.stdev(u[1],u[2])},ztest:function(){var u=s.call(arguments),d;return a(u[1])?(d=i.zscore(u[0],u[1],u[3]),u[2]===1?i.normal.cdf(-r.abs(d),0,1):i.normal.cdf(-r.abs(d),0,1)*2):u.length>2?(d=i.zscore(u[0],u[1],u[2]),u[3]===1?i.normal.cdf(-r.abs(d),0,1):i.normal.cdf(-r.abs(d),0,1)*2):(d=u[0],u[1]===1?i.normal.cdf(-r.abs(d),0,1):i.normal.cdf(-r.abs(d),0,1)*2)}}),i.extend(i.fn,{zscore:function(u,d){return(u-this.mean())/this.stdev(d)},ztest:function(u,d,h){var p=r.abs(this.zscore(u,h));return d===1?i.normal.cdf(-p,0,1):i.normal.cdf(-p,0,1)*2}}),i.extend({tscore:function(){var u=s.call(arguments);return u.length===4?(u[0]-u[1])/(u[2]/r.sqrt(u[3])):(u[0]-i.mean(u[1]))/(i.stdev(u[1],!0)/r.sqrt(u[1].length))},ttest:function(){var u=s.call(arguments),d;return u.length===5?(d=r.abs(i.tscore(u[0],u[1],u[2],u[3])),u[4]===1?i.studentt.cdf(-d,u[3]-1):i.studentt.cdf(-d,u[3]-1)*2):o(u[1])?(d=r.abs(u[0]),u[2]==1?i.studentt.cdf(-d,u[1]-1):i.studentt.cdf(-d,u[1]-1)*2):(d=r.abs(i.tscore(u[0],u[1])),u[2]==1?i.studentt.cdf(-d,u[1].length-1):i.studentt.cdf(-d,u[1].length-1)*2)}}),i.extend(i.fn,{tscore:function(u){return(u-this.mean())/(this.stdev(!0)/r.sqrt(this.cols()))},ttest:function(u,d){return d===1?1-i.studentt.cdf(r.abs(this.tscore(u)),this.cols()-1):i.studentt.cdf(-r.abs(this.tscore(u)),this.cols()-1)*2}}),i.extend({anovafscore:function(){var u=s.call(arguments),d,h,p,m,v,y,C,S;if(u.length===1){for(v=new Array(u[0].length),C=0;C<u[0].length;C++)v[C]=u[0][C];u=v}for(h=new Array,C=0;C<u.length;C++)h=h.concat(u[C]);for(p=i.mean(h),d=0,C=0;C<u.length;C++)d=d+u[C].length*r.pow(i.mean(u[C])-p,2);for(d/=u.length-1,y=0,C=0;C<u.length;C++)for(m=i.mean(u[C]),S=0;S<u[C].length;S++)y+=r.pow(u[C][S]-m,2);return y/=h.length-u.length,d/y},anovaftest:function(){var u=s.call(arguments),d,h,p,m;if(o(u[0]))return 1-i.centralF.cdf(u[0],u[1],u[2]);var v=i.anovafscore(u);for(d=u.length-1,p=0,m=0;m<u.length;m++)p=p+u[m].length;return h=p-d-1,1-i.centralF.cdf(v,d,h)},ftest:function(u,d,h){return 1-i.centralF.cdf(u,d,h)}}),i.extend(i.fn,{anovafscore:function(){return i.anovafscore(this.toArray())},anovaftes:function(){var u=0,d;for(d=0;d<this.length;d++)u=u+this[d].length;return i.ftest(this.anovafscore(),this.length-1,u-this.length)}}),i.extend({qscore:function(){var u=s.call(arguments),d,h,p,m,v;return o(u[0])?(d=u[0],h=u[1],p=u[2],m=u[3],v=u[4]):(d=i.mean(u[0]),h=i.mean(u[1]),p=u[0].length,m=u[1].length,v=u[2]),r.abs(d-h)/(v*r.sqrt((1/p+1/m)/2))},qtest:function(){var u=s.call(arguments),d;u.length===3?(d=u[0],u=u.slice(1)):u.length===7?(d=i.qscore(u[0],u[1],u[2],u[3],u[4]),u=u.slice(5)):(d=i.qscore(u[0],u[1],u[2]),u=u.slice(3));var h=u[0],p=u[1];return 1-i.tukey.cdf(d,p,h-p)},tukeyhsd:function(u){for(var d=i.pooledstdev(u),h=u.map(function(S){return i.mean(S)}),p=u.reduce(function(S,x){return S+x.length},0),m=[],v=0;v<u.length;++v)for(var y=v+1;y<u.length;++y){var C=i.qtest(h[v],h[y],u[v].length,u[y].length,d,p,u.length);m.push([[v,y],C])}return m}}),i.extend({normalci:function(){var u=s.call(arguments),d=new Array(2),h;return u.length===4?h=r.abs(i.normal.inv(u[1]/2,0,1)*u[2]/r.sqrt(u[3])):h=r.abs(i.normal.inv(u[1]/2,0,1)*i.stdev(u[2])/r.sqrt(u[2].length)),d[0]=u[0]-h,d[1]=u[0]+h,d},tci:function(){var u=s.call(arguments),d=new Array(2),h;return u.length===4?h=r.abs(i.studentt.inv(u[1]/2,u[3]-1)*u[2]/r.sqrt(u[3])):h=r.abs(i.studentt.inv(u[1]/2,u[2].length-1)*i.stdev(u[2],!0)/r.sqrt(u[2].length)),d[0]=u[0]-h,d[1]=u[0]+h,d},significant:function(u,d){return u<d}}),i.extend(i.fn,{normalci:function(u,d){return i.normalci(u,d,this.toArray())},tci:function(u,d){return i.tci(u,d,this.toArray())}});function l(c,u,d,h){if(c>1||d>1||c<=0||d<=0)throw new Error("Proportions should be greater than 0 and less than 1");var p=(c*u+d*h)/(u+h),m=r.sqrt(p*(1-p)*(1/u+1/h));return(c-d)/m}i.extend(i.fn,{oneSidedDifferenceOfProportions:function(u,d,h,p){var m=l(u,d,h,p);return i.ztest(m,1)},twoSidedDifferenceOfProportions:function(u,d,h,p){var m=l(u,d,h,p);return i.ztest(m,2)}})}(n,Math),n.models=function(){function i(l){var c=l[0].length,u=n.arange(c).map(function(d){var h=n.arange(c).filter(function(p){return p!==d});return r(n.col(l,d).map(function(p){return p[0]}),n.col(l,h))});return u}function r(l,c){var u=l.length,d=c[0].length-1,h=u-d-1,p=n.lstsq(c,l),m=n.multiply(c,p.map(function(A){return[A]})).map(function(A){return A[0]}),v=n.subtract(l,m),y=n.mean(l),C=n.sum(m.map(function(A){return Math.pow(A-y,2)})),S=n.sum(l.map(function(A,T){return Math.pow(A-m[T],2)})),x=C+S,R=C/x;return{exog:c,endog:l,nobs:u,df_model:d,df_resid:h,coef:p,predict:m,resid:v,ybar:y,SST:x,SSE:C,SSR:S,R2:R}}function s(l){var c=i(l.exog),u=Math.sqrt(l.SSR/l.df_resid),d=c.map(function(y){var C=y.SST,S=y.R2;return u/Math.sqrt(C*(1-S))}),h=l.coef.map(function(y,C){return(y-0)/d[C]}),p=h.map(function(y){var C=n.studentt.cdf(y,l.df_resid);return(C>.5?1-C:C)*2}),m=n.studentt.inv(.975,l.df_resid),v=l.coef.map(function(y,C){var S=m*d[C];return[y-S,y+S]});return{se:d,t:h,p,sigmaHat:u,interval95:v}}function o(l){var c=l.R2/l.df_model/((1-l.R2)/l.df_resid),u=function(h,p,m){return n.beta.cdf(h/(m/p+h),p/2,m/2)},d=1-u(c,l.df_model,l.df_resid);return{F_statistic:c,pvalue:d}}function a(l,c){var u=r(l,c),d=s(u),h=o(u),p=1-(1-u.R2)*((u.nobs-1)/u.df_resid);return u.t=d,u.f=h,u.adjust_R2=p,u}return{ols:a}}(),n.extend({buildxmatrix:function(){for(var r=new Array(arguments.length),s=0;s<arguments.length;s++){var o=[1];r[s]=o.concat(arguments[s])}return n(r)},builddxmatrix:function(){for(var r=new Array(arguments[0].length),s=0;s<arguments[0].length;s++){var o=[1];r[s]=o.concat(arguments[0][s])}return n(r)},buildjxmatrix:function(r){for(var s=new Array(r.length),o=0;o<r.length;o++)s[o]=r[o];return n.builddxmatrix(s)},buildymatrix:function(r){return n(r).transpose()},buildjymatrix:function(r){return r.transpose()},matrixmult:function(r,s){var o,a,l,c,u;if(r.cols()==s.rows()){if(s.rows()>1){for(c=[],o=0;o<r.rows();o++)for(c[o]=[],a=0;a<s.cols();a++){for(u=0,l=0;l<r.cols();l++)u+=r.toArray()[o][l]*s.toArray()[l][a];c[o][a]=u}return n(c)}for(c=[],o=0;o<r.rows();o++)for(c[o]=[],a=0;a<s.cols();a++){for(u=0,l=0;l<r.cols();l++)u+=r.toArray()[o][l]*s.toArray()[a];c[o][a]=u}return n(c)}},regress:function(r,s){var o=n.xtranspxinv(r),a=r.transpose(),l=n.matrixmult(n(o),a);return n.matrixmult(l,s)},regresst:function(r,s,o){var a=n.regress(r,s),l={};l.anova={};var c=n.jMatYBar(r,a);l.yBar=c;var u=s.mean();l.anova.residuals=n.residuals(s,c),l.anova.ssr=n.ssr(c,u),l.anova.msr=l.anova.ssr/(r[0].length-1),l.anova.sse=n.sse(s,c),l.anova.mse=l.anova.sse/(s.length-(r[0].length-1)-1),l.anova.sst=n.sst(s,u),l.anova.mst=l.anova.sst/(s.length-1),l.anova.r2=1-l.anova.sse/l.anova.sst,l.anova.r2<0&&(l.anova.r2=0),l.anova.fratio=l.anova.msr/l.anova.mse,l.anova.pvalue=n.anovaftest(l.anova.fratio,r[0].length-1,s.length-(r[0].length-1)-1),l.anova.rmse=Math.sqrt(l.anova.mse),l.anova.r2adj=1-l.anova.mse/l.anova.mst,l.anova.r2adj<0&&(l.anova.r2adj=0),l.stats=new Array(r[0].length);for(var d=n.xtranspxinv(r),h,p,m,v=0;v<a.length;v++)h=Math.sqrt(l.anova.mse*Math.abs(d[v][v])),p=Math.abs(a[v]/h),m=n.ttest(p,s.length-r[0].length-1,o),l.stats[v]=[a[v],h,p,m];return l.regress=a,l},xtranspx:function(r){return n.matrixmult(r.transpose(),r)},xtranspxinv:function(r){var s=n.matrixmult(r.transpose(),r),o=n.inv(s);return o},jMatYBar:function(r,s){var o=n.matrixmult(r,s);return new n(o)},residuals:function(r,s){return n.matrixsubtract(r,s)},ssr:function(r,s){for(var o=0,a=0;a<r.length;a++)o+=Math.pow(r[a]-s,2);return o},sse:function(r,s){for(var o=0,a=0;a<r.length;a++)o+=Math.pow(r[a]-s[a],2);return o},sst:function(r,s){for(var o=0,a=0;a<r.length;a++)o+=Math.pow(r[a]-s,2);return o},matrixsubtract:function(r,s){for(var o=new Array(r.length),a=0;a<r.length;a++){o[a]=new Array(r[a].length);for(var l=0;l<r[a].length;l++)o[a][l]=r[a][l]-s[a][l]}return n(o)}}),n.jStat=n,n})}(kI)),kI.exports}var e_,Pj;function NVe(){if(Pj)return e_;Pj=1;const e=ws(),t=Sne(),{FormulaHelpers:n,Types:i}=Ps(),r=n,s=DVe(),o=Mne(),a=536870911,l=-536870912,c=511,u=-512,d=/^\s?[+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?\s?$/,h=/^\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/,p=/^\s?([+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/;function m(y){y=r.accept(y);let C=0,S=0,x="i";if(typeof y=="number")return{real:y,im:S,unit:x};if(typeof y=="boolean")throw e.VALUE;let R=y.match(d);if(R)return C=Number(R[0]),{real:C,im:S,unit:x};if(R=y.match(h),R)return S=Number(/^\s?[+-]?\s?$/.test(R[1])?R[1]+"1":R[1]),x=R[0].slice(-1),{real:C,im:S,unit:x};if(R=y.match(p),R)return C=Number(R[1]),S=Number(/^\s?[+-]?\s?$/.test(R[3])?R[3]+"1":R[3]),x=R[0].slice(-1),{real:C,im:S,unit:x};throw e.NUM}const v={BESSELI:(y,C)=>{if(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN),C=Math.trunc(C),C<0)throw e.NUM;return s.besseli(y,C)},BESSELJ:(y,C)=>{if(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN),C=Math.trunc(C),C<0)throw e.NUM;return s.besselj(y,C)},BESSELK:(y,C)=>{if(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN),C=Math.trunc(C),C<0)throw e.NUM;return s.besselk(y,C)},BESSELY:(y,C)=>{if(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN),C=Math.trunc(C),C<0)throw e.NUM;return s.bessely(y,C)},BIN2DEC:y=>{y=r.accept(y,i.NUMBER_NO_BOOLEAN);let C=y.toString();if(C.length>10)throw e.NUM;return C.length===10&&C.substring(0,1)==="1"?parseInt(C.substring(1),2)+u:parseInt(C,2)},BIN2HEX:(y,C)=>{y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN,null);const S=y.toString();if(S.length>10)throw e.NUM;if(S.length===10&&S.substring(0,1)==="1")return(parseInt(S.substring(1),2)+0xfffffffe00).toString(16).toUpperCase();const x=parseInt(y,2).toString(16);if(C==null)return x.toUpperCase();if(C<0)throw e.NUM;if(C=Math.trunc(C),C>=x.length)return(t.REPT("0",C-x.length)+x).toUpperCase();throw e.NUM},BIN2OCT:(y,C)=>{y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER,null);let S=y.toString();if(S.length>10)throw e.NUM;if(S.length===10&&S.substr(0,1)==="1")return(parseInt(S.substr(1),2)+1073741312).toString(8);let x=parseInt(y,2).toString(8);if(C==null)return x.toUpperCase();if(C<0)throw e.NUM;if(C=Math.trunc(C),C>=x.length)return t.REPT("0",C-x.length)+x;throw e.NUM},BITAND:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER),y<0||C<0||Math.floor(y)!==y||Math.floor(C)!==C||y>0xffffffffffff||C>0xffffffffffff)throw e.NUM;return y&C},BITLSHIFT:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER),C=Math.trunc(C),Math.abs(C)>53||y<0||Math.floor(y)!==y||y>0xffffffffffff)throw e.NUM;const S=C>=0?y*2**C:Math.trunc(y/2**-C);if(S>0xffffffffffff)throw e.NUM;return S},BITOR:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER),y<0||C<0||Math.floor(y)!==y||Math.floor(C)!==C||y>0xffffffffffff||C>0xffffffffffff)throw e.NUM;return y|C},BITRSHIFT:(y,C)=>(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER),v.BITLSHIFT(y,-C)),BITXOR:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER),y<0||y>0xffffffffffff||Math.floor(y)!==y||C<0||C>0xffffffffffff||Math.floor(C)!==C)throw e.NUM;return y^C},COMPLEX:(y,C,S)=>{if(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN),S=r.accept(S,i.STRING,"i"),S!=="i"&&S!=="j")throw e.VALUE;if(y===0&&C===0)return 0;if(y===0)return C===1?S:C===-1?"-"+S:C.toString()+S;if(C===0)return y.toString();{let x=C>0?"+":"";return C===1?y.toString()+x+S:C===-1?y.toString()+x+"-"+S:y.toString()+x+C.toString()+S}},DEC2BIN:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER,null),y<u||y>c)throw e.NUM;if(y<0)return"1"+t.REPT("0",9-(512+y).toString(2).length)+(512+y).toString(2);let S=parseInt(y,10).toString(2);if(C==null)return S;if(C=Math.trunc(C),C<=0||C<S.length)throw e.NUM;return t.REPT("0",C-S.length)+S},DEC2HEX:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER,null),y<-549755813888||y>549755813888)throw e.NUM;if(y<0)return(1099511627776+y).toString(16).toUpperCase();let S=parseInt(y,10).toString(16);if(C==null)return S.toUpperCase();if(C=Math.trunc(C),C<=0||C<S.length)throw e.NUM;return t.REPT("0",C-S.length)+S.toUpperCase()},DEC2OCT:(y,C)=>{if(y=r.accept(y,i.NUMBER),C=r.accept(C,i.NUMBER,null),y<-536870912||y>536870912)throw e.NUM;if(y<0)return(y+1073741824).toString(8);let S=parseInt(y,10).toString(8);if(C==null)return S.toUpperCase();if(C=Math.trunc(C),C<=0||C<S.length)throw e.NUM;return t.REPT("0",C-S.length)+S},DELTA:(y,C)=>(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN,0),y===C?1:0),ERF:(y,C)=>(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN,0),o.erf(y)),ERFC:y=>(y=r.accept(y,i.NUMBER_NO_BOOLEAN),o.erfc(y)),GESTEP:(y,C)=>(y=r.accept(y,i.NUMBER_NO_BOOLEAN),C=r.accept(C,i.NUMBER_NO_BOOLEAN,0),y>=C?1:0),HEX2BIN:(y,C)=>{if(y=r.accept(y,i.STRING),C=r.accept(C,i.NUMBER,null),y.length>10||!/^[0-9a-fA-F]*$/.test(y))throw e.NUM;let S=y.length===10&&y.substr(0,1).toLowerCase()==="f",x=S?parseInt(y,16)-1099511627776:parseInt(y,16);if(x<u||x>c)throw e.NUM;if(S)return"1"+t.REPT("0",9-(x+512).toString(2).length)+(x+512).toString(2);let R=x.toString(2);if(C==null)return R;if(C=Math.trunc(C),C<=0||C<R.length)throw e.NUM;return t.REPT("0",C-R.length)+R},HEX2DEC:y=>{if(y=r.accept(y,i.STRING),y.length>10||!/^[0-9a-fA-F]*$/.test(y))throw e.NUM;let C=parseInt(y,16);return C>=549755813888?C-1099511627776:C},HEX2OCT:(y,C)=>{if(y=r.accept(y,i.STRING),y.length>10||!/^[0-9a-fA-F]*$/.test(y))throw e.NUM;let S=v.HEX2DEC(y);if(S>a||S<l)throw e.NUM;return v.DEC2OCT(S,C)},IMABS:y=>{const{real:C,im:S}=m(y);return Math.sqrt(Math.pow(C,2)+Math.pow(S,2))},IMAGINARY:y=>m(y).im,IMARGUMENT:y=>{const{real:C,im:S}=m(y);if(C===0&&S===0)throw e.DIV0;return C===0&&S>0?Math.PI/2:C===0&&S<0?-Math.PI/2:C<0&&S===0?Math.PI:C>0&&S===0?0:C>0?Math.atan(S/C):C<0&&S>0?Math.atan(S/C)+Math.PI:Math.atan(S/C)-Math.PI},IMCONJUGATE:y=>{const{real:C,im:S,unit:x}=m(y);return S!==0?v.COMPLEX(C,-S,x):""+C},IMCOS:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.cos(C)*(Math.exp(S)+Math.exp(-S))/2,A=-Math.sin(C)*(Math.exp(S)-Math.exp(-S))/2;return v.COMPLEX(R,A,x)},IMCOSH:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.cos(S)*(Math.exp(C)+Math.exp(-C))/2,A=-Math.sin(S)*(Math.exp(C)-Math.exp(-C))/2;return v.COMPLEX(R,-A,x)},IMCOT:y=>{y=r.accept(y);let C=v.IMCOS(y),S=v.IMSIN(y);return v.IMDIV(C,S)},IMCSC:y=>(y=r.accept(y),v.IMDIV("1",v.IMSIN(y))),IMCSCH:y=>(y=r.accept(y),v.IMDIV("1",v.IMSINH(y))),IMDIV:(y,C)=>{const S=m(y),x=S.real,R=S.im,A=S.unit,T=m(C),L=T.real,O=T.im,F=T.unit;if(L===0&&O===0||A!==F)throw e.NUM;let H=A,W=Math.pow(L,2)+Math.pow(O,2);return v.COMPLEX((x*L+R*O)/W,(R*L-x*O)/W,H)},IMEXP:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.exp(C);return v.COMPLEX(R*Math.cos(S),R*Math.sin(S),x)},IMLN:y=>{const{real:C,im:S,unit:x}=m(y);return v.COMPLEX(Math.log(Math.sqrt(Math.pow(C,2)+Math.pow(S,2))),Math.atan(S/C),x)},IMLOG10:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.log(Math.sqrt(Math.pow(C,2)+Math.pow(S,2)))/Math.log(10),A=Math.atan(S/C)/Math.log(10);return v.COMPLEX(R,A,x)},IMLOG2:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.log(Math.sqrt(Math.pow(C,2)+Math.pow(S,2)))/Math.log(2),A=Math.atan(S/C)/Math.log(2);return v.COMPLEX(R,A,x)},IMPOWER:(y,C)=>{let{unit:S}=m(y);C=r.accept(C,i.NUMBER_NO_BOOLEAN);let x=Math.pow(v.IMABS(y),C),R=v.IMARGUMENT(y),A=x*Math.cos(C*R),T=x*Math.sin(C*R);return v.COMPLEX(A,T,S)},IMPRODUCT:(...y)=>{let C,S=0;return r.flattenParams(y,null,!1,x=>{if(S===0)C=r.accept(x),m(C);else{const R=m(C),A=R.real,T=R.im,L=R.unit,O=m(x),F=O.real,H=O.im,W=O.unit;if(L!==W)throw e.VALUE;C=v.COMPLEX(A*F-T*H,A*H+T*F)}S++},1),C},IMREAL:y=>m(y).real,IMSEC:y=>v.IMDIV("1",v.IMCOS(y)),IMSECH:y=>v.IMDIV("1",v.IMCOSH(y)),IMSIN:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.sin(C)*(Math.exp(S)+Math.exp(-S))/2,A=Math.cos(C)*(Math.exp(S)-Math.exp(-S))/2;return v.COMPLEX(R,A,x)},IMSINH:y=>{const{real:C,im:S,unit:x}=m(y);let R=Math.cos(S)*(Math.exp(C)-Math.exp(-C))/2,A=Math.sin(S)*(Math.exp(C)+Math.exp(-C))/2;return v.COMPLEX(R,A,x)},IMSQRT:y=>{const{unit:C}=m(y);let S=Math.sqrt(v.IMABS(y)),x=v.IMARGUMENT(y);return v.COMPLEX(S*Math.cos(x/2),S*Math.sin(x/2),C)},IMSUB:(y,C)=>{const S=m(y),x=S.real,R=S.im,A=S.unit,T=m(C),L=T.real,O=T.im,F=T.unit;if(A!==F)throw e.VALUE;return v.COMPLEX(x-L,R-O,A)},IMSUM:(...y)=>{let C=0,S=0,x;return r.flattenParams(y,null,!1,R=>{const{real:A,im:T,unit:L}=m(R);if(x||(x=L),x!==L)throw e.VALUE;C+=A,S+=T}),v.COMPLEX(C,S,x)},IMTAN:y=>{const{unit:C}=m(y);return v.IMDIV(v.IMSIN(y),v.IMCOS(y),C)},OCT2BIN:(y,C)=>{if(y=r.accept(y,i.STRING),C=r.accept(C,i.NUMBER,null),y.length>10||C>10||C!==null&&C<0)throw e.NUM;C=Math.trunc(C);let S=y.length===10&&y.substring(0,1)==="7",x=v.OCT2DEC(y);if(x<u||x>c)return e.NUM;if(S)return"1"+t.REPT("0",9-(512+x).toString(2).length)+(512+x).toString(2);let R=x.toString(2);if(C===0)return R;if(C<R.length)throw e.NUM;return t.REPT("0",C-R.length)+R},OCT2DEC:y=>{if(y=r.accept(y,i.STRING),y.length>10)throw e.NUM;for(const S of y)if(S<"0"||S>"7")throw e.NUM;let C=parseInt(y,8);return C>=536870912?C-1073741824:C},OCT2HEX:(y,C)=>{if(y=r.accept(y,i.STRING),C=r.accept(C,i.NUMBER_NO_BOOLEAN,null),y.length>10)throw e.NUM;for(const R of y)if(R<"0"||R>"7")throw e.NUM;if(C=Math.trunc(C),C<0||C>10)throw e.NUM;let S=v.OCT2DEC(y),x=v.DEC2HEX(S);if(C===0)return x;if(C<x.length)throw e.NUM;return t.REPT("0",C-x.length)+x}};return e_=v,e_}var t_,Fj;function LVe(){if(Fj)return t_;Fj=1;const e=ws(),{FormulaHelpers:t,Types:n,WildCard:i,Address:r}=Ps(),s=CO(),o=t;return t_={ADDRESS:(l,c,u,d,h)=>{if(l=o.accept(l,n.NUMBER),c=o.accept(c,n.NUMBER),u=o.accept(u,n.NUMBER,1),d=o.accept(d,n.BOOLEAN,!0),h=o.accept(h,n.STRING,""),l<1||c<1||u<1||u>4)throw e.VALUE;let p="";return h.length>0&&(/[^A-Za-z_.\d\u007F-\uFFFF]/.test(h)?p+=`'${h}'!`:p+=h+"!"),d?(p+=u===1||u===3?"$":"",p+=r.columnNumberToName(c),p+=u===1||u===2?"$":"",p+=l):(p+="R",p+=u===4||u===3?`[${l}]`:l,p+="C",p+=u===4||u===2?`[${c}]`:c),p},AREAS:l=>(l=o.accept(l),l instanceof s?l.length:1),CHOOSE:(l,...c)=>{},COLUMN:(l,c)=>{if(c==null){if(l.position.col!=null)return l.position.col;throw Error("FormulaParser.parse is called without position parameter.")}else{if(typeof c!="object"||Array.isArray(c))throw e.VALUE;if(o.isCellRef(c))return c.ref.col;if(o.isRangeRef(c))return c.ref.from.col;throw Error("ReferenceFunctions.COLUMN should not reach here.")}},COLUMNS:(l,c)=>{if(c==null)throw Error("COLUMNS requires one argument");if(typeof c!="object"||Array.isArray(c))throw e.VALUE;if(o.isCellRef(c))return 1;if(o.isRangeRef(c))return Math.abs(c.ref.from.col-c.ref.to.col)+1;throw Error("ReferenceFunctions.COLUMNS should not reach here.")},HLOOKUP:(l,c,u,d)=>{l=o.accept(l);try{c=o.accept(c,n.ARRAY,void 0,!1)}catch(p){throw p instanceof e?e.NA:p}if(u=o.accept(u,n.NUMBER),d=o.accept(d,n.BOOLEAN,!0),u<1)throw e.VALUE;if(c[u-1]===void 0)throw e.REF;const h=typeof l;if(d){let p=h===typeof c[0][0]?c[0][0]:null;for(let m=1;m<c[0].length;m++){const v=c[0][m];if(typeof v===h){if(p>l&&v>l)throw e.NA;if(v===l)return c[u-1][m];if(p!=null&&v>l&&p<=l)return c[u-1][m-1];p=v}}if(p==null)throw e.NA;return p}else{let p=-1;if(i.isWildCard(l)?p=c[0].findIndex(m=>i.toRegex(l,"i").test(m)):p=c[0].findIndex(m=>m===l),p===-1)throw e.NA;return c[u-1][p]}},INDEX:(l,c,u,d,h)=>{u=l.utils.extractRefValue(u),u={value:u.val,isArray:u.isArray},u=o.accept(u,n.NUMBER),u=Math.trunc(u),d==null?d=1:(d=l.utils.extractRefValue(d),d={value:d.val,isArray:d.isArray},d=o.accept(d,n.NUMBER,1),d=Math.trunc(d)),h==null?h=1:(h=l.utils.extractRefValue(h),h={value:h.val,isArray:h.isArray},h=o.accept(h,n.NUMBER,1),h=Math.trunc(h));let p=c;if(c instanceof s)p=c.refs[h-1];else if(h>1)throw e.REF;if(u===0&&d===0)return p;if(u===0){if(o.isRangeRef(p)){if(p.ref.to.col-p.ref.from.col<d-1)throw e.REF;return p.ref.from.col+=d-1,p.ref.to.col=p.ref.from.col,p}else if(Array.isArray(p)){const m=[];return p.forEach(v=>m.push([v[d-1]])),m}}if(d===0){if(o.isRangeRef(p)){if(p.ref.to.row-p.ref.from.row<u-1)throw e.REF;return p.ref.from.row+=u-1,p.ref.to.row=p.ref.from.row,p}else if(Array.isArray(p))return p[d-1]}if(u!==0&&d!==0){if(o.isRangeRef(p)){if(p=p.ref,p.to.row-p.from.row<u-1||p.to.col-p.from.col<d-1)throw e.REF;return{ref:{row:p.from.row+u-1,col:p.from.col+d-1}}}else if(o.isCellRef(p)){if(p=p.ref,u>1||d>1)throw e.REF;return{ref:{row:p.row+u-1,col:p.col+d-1}}}else if(Array.isArray(p)){if(p.length<u||p[0].length<d)throw e.REF;return p[u-1][d-1]}}},MATCH:()=>{},ROW:(l,c)=>{if(c==null){if(l.position.row!=null)return l.position.row;throw Error("FormulaParser.parse is called without position parameter.")}else{if(typeof c!="object"||Array.isArray(c))throw e.VALUE;if(o.isCellRef(c))return c.ref.row;if(o.isRangeRef(c))return c.ref.from.row;throw Error("ReferenceFunctions.ROW should not reach here.")}},ROWS:(l,c)=>{if(c==null)throw Error("ROWS requires one argument");if(typeof c!="object"||Array.isArray(c))throw e.VALUE;if(o.isCellRef(c))return 1;if(o.isRangeRef(c))return Math.abs(c.ref.from.row-c.ref.to.row)+1;throw Error("ReferenceFunctions.ROWS should not reach here.")},TRANSPOSE:l=>{l=o.accept(l,n.ARRAY,void 0,!1);const c=[];for(let u=0;u<l[0].length;u++){c[u]=[];for(let d=0;d<l.length;d++)c[u][d]=l[d][u]}return c},VLOOKUP:(l,c,u,d)=>{l=o.accept(l);try{c=o.accept(c,n.ARRAY,void 0,!1)}catch(p){throw p instanceof e?e.NA:p}if(u=o.accept(u,n.NUMBER),d=o.accept(d,n.BOOLEAN,!0),u<1)throw e.VALUE;if(c[0][u-1]===void 0)throw e.REF;const h=typeof l;if(d){let p=h===typeof c[0][0]?c[0][0]:null;for(let m=1;m<c.length;m++){const v=c[m],y=c[m][0];if(typeof y===h){if(p>l&&y>l)throw e.NA;if(y===l)return v[u-1];if(p!=null&&y>l&&p<=l)return c[m-1][u-1];p=y}}if(p==null)throw e.NA;return p}else{let p=-1;if(i.isWildCard(l)?p=c.findIndex(m=>i.toRegex(l,"i").test(m[0])):p=c.findIndex(m=>m[0]===l),p===-1)throw e.NA;return c[p][u-1]}}},t_}var n_,_j;function kVe(){if(_j)return n_;_j=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t,r={"#NULL!":1,"#DIV/0!":2,"#VALUE!":3,"#REF!":4,"#NAME?":5,"#NUM!":6,"#N/A":7};return n_={CELL:(o,a)=>{},"ERROR.TYPE":o=>{if(o=i.accept(o),o instanceof e)return r[o.toString()];throw e.NA},INFO:()=>{},ISBLANK:o=>o.ref?o.value==null||o.value==="":!1,ISERR:o=>(o=i.accept(o),o instanceof e&&o.toString()!=="#N/A"),ISERROR:o=>(o=i.accept(o),o instanceof e),ISEVEN:o=>(o=i.accept(o,n.NUMBER),o=Math.trunc(o),o%2===0),ISLOGICAL:o=>(o=i.accept(o),typeof o=="boolean"),ISNA:o=>(o=i.accept(o),o instanceof e&&o.toString()==="#N/A"),ISNONTEXT:o=>(o=i.accept(o),typeof o!="string"),ISNUMBER:o=>(o=i.accept(o),typeof o=="number"),ISREF:o=>!o.ref||i.isCellRef(o)&&(o.ref.row>1048576||o.ref.col>16384)||i.isRangeRef(o)&&(o.ref.from.row>1048576||o.ref.from.col>16384||o.ref.to.row>1048576||o.ref.to.col>16384)?!1:(o=i.accept(o),!(o instanceof e&&o.toString()==="#REF!")),ISTEXT:o=>(o=i.accept(o),typeof o=="string"),N:o=>{o=i.accept(o);const a=typeof o;if(a==="number")return o;if(a==="boolean")return Number(o);if(o instanceof e)throw o;return 0},NA:()=>{throw e.NA},TYPE:o=>{if(o.ref){if(i.isRangeRef(o))return 16;if(i.isCellRef(o)&&(o=i.accept(o),typeof o=="string"&&o.length===0))return 1}o=i.accept(o);const a=typeof o;if(a==="number")return 1;if(a==="string")return 2;if(a==="boolean")return 4;if(o instanceof e)return 16;if(Array.isArray(o))return 64}},n_}var i_,Bj;function OVe(){if(Bj)return i_;Bj=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t,r=Mne(),s=xne(),o=2.5066282746310002,a={"BETA.DIST":(l,c,u,d,h,p)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),h=i.accept(h,n.NUMBER,0),p=i.accept(p,n.NUMBER,1),c<=0||u<=0||l<h||l>p||h===p)throw e.NUM;return l=(l-h)/(p-h),d?r.beta.cdf(l,c,u):r.beta.pdf(l,c,u)/(p-h)},"BETA.INV":(l,c,u,d,h)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.NUMBER,0),h=i.accept(h,n.NUMBER,1),c<=0||u<=0||l<=0||l>1)throw e.NUM;return r.beta.inv(l,c,u)*(h-d)+d},"BINOM.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),c<0||u<0||u>1||l<0||l>c)throw e.NUM;return d?r.binomial.cdf(l,c,u):r.binomial.pdf(l,c,u)},"BINOM.DIST.RANGE":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.NUMBER,u),l<0||c<0||c>1||u<0||u>l||d<u||d>l)throw e.NUM;let h=0;for(let p=u;p<=d;p++)h+=s.COMBIN(l,p)*Math.pow(c,p)*Math.pow(1-c,l-p);return h},"BINOM.INV":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<0||c<0||c>1||u<0||u>1)throw e.NUM;let d=0;for(;d<=l;){if(r.binomial.cdf(d,l,c)>=u)return d;d++}},"CHISQ.DIST":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),c=Math.trunc(c),l<0||c<1||c>10**10)throw e.NUM;return u?r.chisquare.cdf(l,c):r.chisquare.pdf(l,c)},"CHISQ.DIST.RT":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),c=Math.trunc(c),l<0||c<1||c>10**10)throw e.NUM;return 1-r.chisquare.cdf(l,c)},"CHISQ.INV":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),c=Math.trunc(c),l<0||l>1||c<1||c>10**10)throw e.NUM;return r.chisquare.inv(l,c)},"CHISQ.INV.RT":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),c=Math.trunc(c),l<0||l>1||c<1||c>10**10)throw e.NUM;return r.chisquare.inv(1-l,c)},"CHISQ.TEST":(l,c)=>{const u=i.accept(l,n.ARRAY,void 0,!1,!1),d=i.accept(c,n.ARRAY,void 0,!1,!1);if(u.length!==d.length||u[0].length!==d[0].length||u.length===1&&u[0].length===1)throw e.NA;const h=u.length,p=u[0].length;let m=(h-1)*(p-1);h===1?m=p-1:m=h-1;let v=0;for(let R=0;R<h;R++)for(let A=0;A<p;A++)if(!(typeof u[R][A]!="number"||typeof d[R][A]!="number")){if(d[R][A]===0)throw e.DIV0;v+=Math.pow(u[R][A]-d[R][A],2)/d[R][A]}let y=Math.exp(-.5*v);m%2===1&&(y=y*Math.sqrt(2*v/Math.PI));let C=m;for(;C>=2;)y=y*v/C,C=C-2;let S=y,x=m;for(;S>1e-15*y;)x=x+2,S=S*v/x,y=y+S;return 1-y},"CONFIDENCE.NORM":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),u=Math.trunc(u),l<=0||l>=1||c<=0||u<1)throw e.NUM;return r.normalci(1,l,c,u)[1]-1},"CONFIDENCE.T":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),u=Math.trunc(u),l<=0||l>=1||c<=0||u<1)throw e.NUM;if(u===1)throw e.DIV0;return r.tci(1,l,c,u)[1]-1},CORREL:(l,c)=>{if(l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0),l.length!==c.length)throw e.NA;const u=[],d=[];for(let h=0;h<l.length;h++)typeof l[h]!="number"||typeof c[h]!="number"||(u.push(l[h]),d.push(c[h]));if(u.length<=1)throw e.DIV0;return r.corrcoeff(u,d)},"COVARIANCE.P":(l,c)=>{if(l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0),l.length!==c.length)throw e.NA;const u=[],d=[];for(let v=0;v<l.length;v++)typeof l[v]!="number"||typeof c[v]!="number"||(u.push(l[v]),d.push(c[v]));const h=r.mean(u),p=r.mean(d);let m=0;for(let v=0;v<u.length;v++)m+=(u[v]-h)*(d[v]-p);return m/u.length},"COVARIANCE.S":(l,c)=>{if(l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0),l.length!==c.length)throw e.NA;const u=[],d=[];for(let h=0;h<l.length;h++)typeof l[h]!="number"||typeof c[h]!="number"||(u.push(l[h]),d.push(c[h]));if(u.length<=1)throw e.DIV0;return r.covariance(u,d)},DEVSQ:(...l)=>{let c=0,u=[];i.flattenParams(l,n.NUMBER,!0,(h,p)=>{typeof h=="number"&&(c+=h,u.push(h))});const d=c/u.length;c=0;for(let h=0;h<u.length;h++)c+=(u[h]-d)**2;return c},"EXPON.DIST":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.BOOLEAN),l<0||c<=0)throw e.NUM;return u?r.exponential.cdf(l,c):r.exponential.pdf(l,c)},"F.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),l<0||c<1||u<1)throw e.NUM;return c=Math.trunc(c),u=Math.trunc(u),d?r.centralF.cdf(l,c,u):r.centralF.pdf(l,c,u)},"F.DIST.RT":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<0||c<1||u<1)throw e.NUM;return c=Math.trunc(c),u=Math.trunc(u),1-r.centralF.cdf(l,c,u)},"F.INV":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<0||l>1||c<1||u<1)throw e.NUM;return c=Math.trunc(c),u=Math.trunc(u),r.centralF.inv(l,c,u)},"F.INV.RT":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<0||l>1||c<1||c>=Math.pow(10,10)||u<1||u>=Math.pow(10,10))throw e.NUM;return c=Math.trunc(c),u=Math.trunc(u),r.centralF.inv(1-l,c,u)},"F.TEST":(l,c)=>{l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0);const u=[],d=[];let h=0,p=0;for(let y=0;y<Math.max(l.length,c.length);y++)typeof l[y]=="number"&&(u.push(l[y]),h+=l[y]),typeof c[y]=="number"&&(d.push(c[y]),p+=c[y]);if(u.length<=1||d.length<=1)throw e.DIV0;h/=u.length,p/=d.length;let m=0,v=0;for(let y=0;y<u.length;y++)m+=(h-u[y])**2;m/=u.length-1;for(let y=0;y<d.length;y++)v+=(p-d[y])**2;return v/=d.length-1,r.centralF.cdf(m/v,u.length-1,d.length-1)*2},FISHER:l=>{if(l=i.accept(l,n.NUMBER),l<=-1||l>=1)throw e.NUM;return Math.log((1+l)/(1-l))/2},FISHERINV:l=>{l=i.accept(l,n.NUMBER);let c=Math.exp(2*l);return(c-1)/(c+1)},FORECAST:(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.ARRAY,void 0,!0,!0),u=i.accept(u,n.ARRAY,void 0,!0,!0),u.length!==c.length)throw e.NA;const d=[],h=[];let p=!0;for(let R=0;R<c.length;R++)typeof c[R]!="number"||typeof u[R]!="number"||(d.push(c[R]),h.push(u[R]),u[R]!==u[0]&&(p=!1));if(p)throw e.DIV0;const m=r.mean(d),v=r.mean(h);let y=0,C=0;for(let R=0;R<d.length;R++)y+=(h[R]-v)*(d[R]-m),C+=(h[R]-v)**2;const S=y/C;return m-S*v+S*l},"FORECAST.ETS":()=>{},"FORECAST.ETS.CONFINT":()=>{},"FORECAST.ETS.SEASONALITY":()=>{},"FORECAST.ETS.STAT":()=>{},"FORECAST.LINEAR":(...l)=>a.FORECAST(...l),FREQUENCY:(l,c)=>{l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0);const u=[];for(let h=0;h<c.length;h++)typeof c[h]=="number"&&u.push(c[h]);u.sort(),u.push(1/0);const d=[];for(let h=0;h<u.length;h++){d[h]=[],d[h][0]=0;for(let p=0;p<l.length;p++){if(typeof l[p]!="number")continue;l[p]<=u[h]&&(d[h][0]++,l[p]=null)}}return d},GAMMA:l=>{if(l=i.accept(l,n.NUMBER),l===0||l<0&&l===Math.trunc(l))throw e.NUM;return r.gammafn(l)},"GAMMA.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),l<0||c<=0||u<=0)throw e.NUM;return d?r.gamma.cdf(l,c,u,!0):r.gamma.pdf(l,c,u,!1)},"GAMMA.INV":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<0||l>1||c<=0||u<=0)throw e.NUM;return r.gamma.inv(l,c,u)},GAMMALN:l=>{if(l=i.accept(l,n.NUMBER),l<=0)throw e.NUM;return r.gammaln(l)},"GAMMALN.PRECISE":l=>{if(l=i.accept(l,n.NUMBER),l<=0)throw e.NUM;return r.gammaln(l)},GAUSS:l=>(l=i.accept(l,n.NUMBER),r.normal.cdf(l,0,1)-.5),GEOMEAN:(...l)=>{const c=[];return i.flattenParams(l,n.NUMBER,!0,(u,d)=>{typeof u=="number"&&c.push(u)}),r.geomean(c)},GROWTH:(l,c,u,d)=>{l=i.accept(l,n.ARRAY,void 0,!0,!0);for(let A=0;A<l.length;A++)if(typeof l[A]!="number")throw e.VALUE;c=i.accept(c,n.ARRAY,null,!0,!0);const h=c==null;if(c==null){c=[];for(let A=1;A<=l.length;A++)c.push(A)}else{if(c.length!==l.length)throw e.REF;for(let A=0;A<c.length;A++)if(typeof c[A]!="number")throw e.VALUE}if(u=i.accept(u,n.ARRAY,null,!1,!0),u==null&&h){u=[];for(let A=1;A<=l.length;A++)u.push(A);u=[u]}else u==null&&(u=Array.isArray(c[0])?c:[c]);d=i.accept(d,n.BOOLEAN,!0);const p=l.length;let m=0,v=0,y=0,C=0;for(let A=0;A<p;A++){const T=c[A],L=Math.log(l[A]);m+=T,v+=L,y+=T*L,C+=T*T}m/=p,v/=p,y/=p,C/=p;let S,x;d?(S=(y-m*v)/(C-m*m),x=v-S*m):(S=y/C,x=0);const R=[];for(let A=0;A<u.length;A++){R[A]=[];for(let T=0;T<u[0].length;T++){if(typeof u[A][T]!="number")throw e.VALUE;R[A][T]=Math.exp(x+S*u[A][T])}}return R},HARMEAN:(...l)=>{let c=0,u=0;return i.flattenParams(l,n.NUMBER,!0,(d,h)=>{typeof d=="number"&&(u+=1/d,c++)}),c/u},"HYPGEOM.DIST":(l,c,u,d,h)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.NUMBER),h=i.accept(h,n.BOOLEAN),l=Math.trunc(l),c=Math.trunc(c),u=Math.trunc(u),d=Math.trunc(d),d<=0||l<0||c<=0||u<=0||c>d||u>d||c<l||u<l||l<c-d+u)throw e.NUM;function p(v,y,C,S){return s.COMBIN(C,v)*s.COMBIN(S-C,y-v)/s.COMBIN(S,y)}function m(v,y,C,S){let x=0;for(let R=0;R<=v;R++)x+=p(R,y,C,S);return x}return h?m(l,c,u,d):p(l,c,u,d)},INTERCEPT:(l,c)=>{if(l=i.accept(l,n.ARRAY,void 0,!0,!0),c=i.accept(c,n.ARRAY,void 0,!0,!0),c.length!==l.length)throw e.NA;const u=[],d=[];for(let C=0;C<l.length;C++)typeof l[C]!="number"||typeof c[C]!="number"||(u.push(l[C]),d.push(c[C]));if(u.length<=1)throw e.DIV0;const h=r.mean(u),p=r.mean(d);let m=0,v=0;for(let C=0;C<u.length;C++)m+=(d[C]-p)*(u[C]-h),v+=(d[C]-p)**2;const y=m/v;return h-y*p},KURT:(...l)=>{let c=0,u=[];i.flattenParams(l,n.NUMBER,!0,(p,m)=>{typeof p=="number"&&(c+=p,u.push(p))});const d=u.length;c/=d;let h=0;for(let p=0;p<d;p++)h+=Math.pow(u[p]-c,4);return h=h/Math.pow(r.stdev(u,!0),4),d*(d+1)/((d-1)*(d-2)*(d-3))*h-3*(d-1)*(d-1)/((d-2)*(d-3))},LINEST:()=>{},LOGEST:()=>{},"LOGNORM.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),l<=0||u<=0)throw e.NUM;return d?r.lognormal.cdf(l,c,u):r.lognormal.pdf(l,c,u)},"LOGNORM.INV":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<=0||l>=1||u<=0)throw e.NUM;return r.lognormal.inv(l,c,u)},"MODE.MULT":()=>{},"MODE.SNGL":()=>{},"NEGBINOM.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),l=Math.trunc(l),c=Math.trunc(c),u<0||u>1||l<0||c<1)throw e.NUM;return d?r.negbin.cdf(l,c,u):r.negbin.pdf(l,c,u)},"NORM.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),u<=0)throw e.NUM;return d?r.normal.cdf(l,c,u):r.normal.pdf(l,c,u)},"NORM.INV":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),l<=0||l>=1||u<=0)throw e.NUM;return r.normal.inv(l,c,u)},"NORM.S.DIST":(l,c)=>(l=i.accept(l,n.NUMBER),c=i.accept(c,n.BOOLEAN),c?r.normal.cdf(l,0,1):r.normal.pdf(l,0,1)),"NORM.S.INV":l=>{if(l=i.accept(l,n.NUMBER),l<=0||l>=1)throw e.NUM;return r.normal.inv(l,0,1)},PEARSON:()=>{},"PERCENTILE.EXC":()=>{},"PERCENTILE.INC":()=>{},"PERCENTRANK.EXC":()=>{},"PERCENTRANK.INC":()=>{},PERMUTATIONA:()=>{},PHI:l=>(l=i.accept(l,n.NUMBER),Math.exp(-.5*l*l)/o),"POISSON.DIST":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.BOOLEAN),l<0||c<0)throw e.NUM;return l=Math.trunc(l),u?r.poisson.cdf(l,c):r.poisson.pdf(l,c)},PROB:()=>{},"QUARTILE.EXC":()=>{},"QUARTILE.INC":()=>{},"RANK.AVG":()=>{},"RANK.EQ":()=>{},RSQ:()=>{},SKEW:()=>{},"SKEW.P":()=>{},SLOPE:()=>{},STANDARDIZE:(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),u<=0)throw e.NUM;return(l-c)/u},"STDEV.P":()=>{},"STDEV.S":()=>{},STDEVA:()=>{},STDEVPA:()=>{},STEYX:()=>{},"T.DIST":(l,c,u)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.BOOLEAN),c<1)throw e.NUM;return u?r.studentt.cdf(l,c):r.studentt.pdf(l,c)},"T.DIST.2T":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),c<1||l<0)throw e.NUM;return(1-r.studentt.cdf(l,c))*2},"T.DIST.RT":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),c<1)throw e.NUM;return 1-r.studentt.cdf(l,c)},"T.INV":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),l<=0||l>1||c<1)throw e.NUM;return c=c%1===0?c:Math.trunc(c),r.studentt.inv(l,c)},"T.INV.2T":(l,c)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),l<=0||l>1||c<1)throw e.NUM;return c=c%1===0?c:Math.trunc(c),Math.abs(r.studentt.inv(l/2,c))},"T.TEST":()=>{},TREND:()=>{},TRIMMEAN:()=>{},"VAR.P":()=>{},"VAR.S":()=>{},VARA:()=>{},VARPA:()=>{},"WEIBULL.DIST":(l,c,u,d)=>{if(l=i.accept(l,n.NUMBER),c=i.accept(c,n.NUMBER),u=i.accept(u,n.NUMBER),d=i.accept(d,n.BOOLEAN),l<0||c<=0||u<=0)throw e.NUM;return d?1-Math.exp(-Math.pow(l/u,c)):Math.pow(l,c-1)*Math.exp(-Math.pow(l/u,c))*c/Math.pow(u,c)},"Z.TEST":()=>{}};return i_={DistributionFunctions:a},i_}var r_,Gj;function PVe(){if(Gj)return r_;Gj=1;const e=ws(),{FormulaHelpers:t,Types:n,Criteria:i,Address:r}=Ps(),{Infix:s}=bO(),o=t,{DistributionFunctions:a}=OVe();return r_=Object.assign({AVEDEV:(...c)=>{let u=0;const d=[];o.flattenParams(c,n.NUMBER,!0,(p,m)=>{typeof p=="number"&&(u+=p,d.push(p))});const h=u/d.length;u=0;for(let p=0;p<d.length;p++)u+=Math.abs(d[p]-h);return u/d.length},AVERAGE:(...c)=>{let u=0,d=0;return o.flattenParams(c,n.NUMBER,!0,(h,p)=>{typeof h=="number"&&(u+=h,d++)}),u/d},AVERAGEA:(...c)=>{let u=0,d=0;return o.flattenParams(c,n.NUMBER,!0,(h,p)=>{const m=typeof h;m==="number"?(u+=h,d++):m==="string"&&d++}),u/d},AVERAGEIF:(c,u,d,h)=>{const p=o.retrieveRanges(c,u,h);u=p[0],h=p[1],d=o.retrieveArg(c,d);const m=d.isArray;d=i.parse(o.accept(d));let v=0,y=0;if(u.forEach((C,S)=>{C.forEach((x,R)=>{const A=h[S][R];typeof A=="number"&&(d.op==="wc"?d.match===d.value.test(x)&&(v+=A,y++):s.compareOp(x,d.op,d.value,Array.isArray(x),m)&&(v+=A,y++))})}),y===0)throw e.DIV0;return v/y},AVERAGEIFS:()=>{},COUNT:(...c)=>{let u=0;return o.flattenParams(c,null,!0,(d,h)=>{(h.isLiteral&&!isNaN(d)||typeof d=="number")&&u++}),u},COUNTIF:(c,u)=>{c=o.accept(c,n.ARRAY,void 0,!1,!0);const d=u.isArray;u=o.accept(u);let h=0;return u=i.parse(u),c.forEach(p=>{p.forEach(m=>{u.op==="wc"?u.match===u.value.test(m)&&h++:s.compareOp(m,u.op,u.value,Array.isArray(m),d)&&h++})}),h},LARGE:()=>{},MAX:()=>{},MAXA:()=>{},MAXIFS:()=>{},MEDIAN:()=>{},MIN:()=>{},MINA:()=>{},MINIFS:()=>{},PERMUT:()=>{},PERMUTATIONA:()=>{},SMALL:()=>{}},a),r_}var s_,zj;function FVe(){if(zj)return s_;zj=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t,r=1e3*60*60*24,s=new Date(Date.UTC(1900,0,1)),o=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],a=[void 0,[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],void 0,void 0,void 0,void 0,void 0,void 0,void 0,[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],l=[void 0,[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0],[1],[2],[3],[4],[5],[6]],c=/^\s*(\d\d?)\s*(:\s*\d\d?)?\s*(:\s*\d\d?)?\s*(pm|am)?\s*$/i,u=/^\s*((\d\d?)\s*([-\/])\s*(\d\d?))([\d:.apm\s]*)$/i,d=/^\s*((\d\d?)\s*([-/])\s*(jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*))([\d:.apm\s]*)$/i,h=/^\s*((jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*)\s*([-/])\s*(\d\d?))([\d:.apm\s]*)$/i;function p(T){const L=T.match(u),O=T.match(d),F=T.match(h);return L?T=L[1]+L[3]+new Date().getFullYear()+L[5]:O?T=O[1]+O[3]+new Date().getFullYear()+O[5]:F&&(T=F[1]+F[3]+new Date().getFullYear()+F[5]),new Date(Date.parse(`${T} UTC`))}function m(T){const L=T.match(c);if(!L)return;const O=L[2]?L[2]:":00",F=L[3]?L[3]:":00",H=L[4]?" "+L[4]:"",W=new Date(Date.parse(`1/1/1900 ${L[1]+O+F+H} UTC`));let $=new Date;return $=new Date(Date.UTC($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds(),$.getMilliseconds())),new Date(Date.UTC($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),W.getUTCHours(),W.getUTCMinutes(),W.getUTCSeconds(),W.getUTCMilliseconds()))}function v(T){const L=T>-22038912e5?2:1;return Math.floor((T-s)/864e5)+L}function y(T){if(T<0)throw e.VALUE;return T<=60?new Date(s.getTime()+(T-1)*864e5):new Date(s.getTime()+(T-2)*864e5)}function C(T){if(T instanceof Date)return{date:T};T=i.accept(T);let L=!0,O;return isNaN(T)?(O=m(T),O?L=!1:O=p(T)):(T=Number(T),O=y(T)),{date:O,isDateGiven:L}}function S(T){return C(T).date}function x(T,L){return T.getUTCFullYear()===L.getUTCFullYear()&&T.getUTCMonth()===L.getUTCMonth()&&T.getUTCDate()===L.getUTCDate()}function R(T){return T===1900?!0:new Date(T,1,29).getMonth()===1}const A={DATE:(T,L,O)=>{if(T=i.accept(T,n.NUMBER),L=i.accept(L,n.NUMBER),O=i.accept(O,n.NUMBER),T<0||T>=1e4)throw e.NUM;return T<1900&&(T+=1900),v(Date.UTC(T,L-1,O))},DATEDIF:(T,L,O)=>{if(T=S(T),L=S(L),O=i.accept(O,n.STRING).toLowerCase(),T>L)throw e.NUM;const F=L.getUTCFullYear()-T.getUTCFullYear(),H=L.getUTCMonth()-T.getUTCMonth(),W=L.getUTCDate()-T.getUTCDate();let $;switch(O){case"y":return $=H<0||H===0&&W<0?-1:0,$+F;case"m":return $=W<0?-1:0,F*12+H+$;case"d":return Math.floor(L-T)/r;case"md":return T.setUTCFullYear(L.getUTCFullYear()),W<0?T.setUTCMonth(L.getUTCMonth()-1):T.setUTCMonth(L.getUTCMonth()),Math.floor(L-T)/r;case"ym":return $=W<0?-1:0,($+F*12+H)%12;case"yd":return H<0||H===0&&W<0?T.setUTCFullYear(L.getUTCFullYear()-1):T.setUTCFullYear(L.getUTCFullYear()),Math.floor(L-T)/r}},DATEVALUE:T=>{T=i.accept(T,n.STRING);const{date:L,isDateGiven:O}=C(T);if(!O)return 0;const F=v(L);if(F<0||F>2958465)throw e.VALUE;return F},DAY:T=>S(T).getUTCDate(),DAYS:(T,L)=>{T=S(T),L=S(L);let O=0;return L<-22038912e5&&-22038912e5<T&&(O=1),Math.floor(T-L)/r+O},DAYS360:(T,L,O)=>{T=S(T),L=S(L),O=i.accept(O,n.BOOLEAN,!1),T.getUTCDate()===31&&T.setUTCDate(30),!O&&T.getUTCDate()<30&&L.getUTCDate()>30?L.setUTCMonth(L.getUTCMonth()+1,1):L.getUTCDate()===31&&L.setUTCDate(30);const F=L.getUTCFullYear()-T.getUTCFullYear(),H=L.getUTCMonth()-T.getUTCMonth(),W=L.getUTCDate()-T.getUTCDate();return H*30+W+F*12*30},EDATE:(T,L)=>(T=S(T),L=i.accept(L,n.NUMBER),T.setUTCMonth(T.getUTCMonth()+L),v(T)),EOMONTH:(T,L)=>(T=S(T),L=i.accept(L,n.NUMBER),T.setUTCMonth(T.getUTCMonth()+L+1,0),v(T)),HOUR:T=>S(T).getUTCHours(),ISOWEEKNUM:T=>{const L=S(T),O=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate())),F=O.getUTCDay();O.setUTCDate(O.getUTCDate()+4-F);const H=new Date(Date.UTC(O.getUTCFullYear(),0,1));return Math.ceil(((O-H)/864e5+1)/7)},MINUTE:T=>S(T).getUTCMinutes(),MONTH:T=>S(T).getUTCMonth()+1,NETWORKDAYS:(T,L,O)=>{T=S(T),L=S(L);let F=1;if(T>L){F=-1;const $=T;T=L,L=$}const H=[];O!=null&&i.flattenParams([O],n.NUMBER,!1,$=>{H.push(S($))});let W=0;for(;T<=L;){if(T.getUTCDay()!==0&&T.getUTCDay()!==6){let $=!1;for(let Z=0;Z<H.length;Z++)if(x(T,H[Z])){$=!0;break}$||W++}T.setUTCDate(T.getUTCDate()+1)}return F*W},"NETWORKDAYS.INTL":(T,L,O,F)=>{T=S(T),L=S(L);let H=1;if(T>L){H=-1;const Z=T;T=L,L=Z}if(O=i.accept(O,null,1),O==="1111111")return 0;if(typeof O=="string"&&Number(O).toString()!==O){if(O.length!==7)throw e.VALUE;O=O.charAt(6)+O.slice(0,6);const Z=[];for(let ie=0;ie<O.length;ie++)O.charAt(ie)==="1"&&Z.push(ie);O=Z}else{if(typeof O!="number")throw e.VALUE;O=l[O]}const W=[];F!=null&&i.flattenParams([F],n.NUMBER,!1,Z=>{W.push(S(Z))});let $=0;for(;T<=L;){let Z=!1;for(let ie=0;ie<O.length;ie++)if(O[ie]===T.getUTCDay()){Z=!0;break}if(!Z){let ie=!1;for(let oe=0;oe<W.length;oe++)if(x(T,W[oe])){ie=!0;break}ie||$++}T.setUTCDate(T.getUTCDate()+1)}return H*$},NOW:()=>{const T=new Date;return v(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()))+(3600*T.getHours()+60*T.getMinutes()+T.getSeconds())/86400},SECOND:T=>S(T).getUTCSeconds(),TIME:(T,L,O)=>{if(T=i.accept(T,n.NUMBER),L=i.accept(L,n.NUMBER),O=i.accept(O,n.NUMBER),T<0||T>32767||L<0||L>32767||O<0||O>32767)throw e.NUM;return(3600*T+60*L+O)/86400},TIMEVALUE:T=>(T=S(T),(3600*T.getUTCHours()+60*T.getUTCMinutes()+T.getUTCSeconds())/86400),TODAY:()=>{const T=new Date;return v(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate()))},WEEKDAY:(T,L)=>{const O=S(T);L=i.accept(L,n.NUMBER,1);const F=O.getUTCDay(),H=a[L];if(!H)throw e.NUM;return H[F]},WEEKNUM:(T,L)=>{const O=S(T);if(L=i.accept(L,n.NUMBER,1),L===21)return A.ISOWEEKNUM(T);const F=o[L],H=new Date(Date.UTC(O.getUTCFullYear(),0,1)),W=H.getUTCDay()<F?1:0;return Math.ceil(((O-H)/864e5+1)/7)+W},WORKDAY:(T,L,O)=>A["WORKDAY.INTL"](T,L,1,O),"WORKDAY.INTL":(T,L,O,F)=>{if(T=S(T),L=i.accept(L,n.NUMBER),O=i.accept(O,null,1),O==="1111111")throw e.VALUE;if(typeof O=="string"&&Number(O).toString()!==O){if(O.length!==7)throw e.VALUE;O=O.charAt(6)+O.slice(0,6);const $=[];for(let Z=0;Z<O.length;Z++)O.charAt(Z)==="1"&&$.push(Z);O=$}else{if(typeof O!="number")throw e.VALUE;if(O=l[O],O==null)throw e.NUM}const H=[];F!=null&&i.flattenParams([F],n.NUMBER,!1,$=>{H.push(S($))}),T.setUTCDate(T.getUTCDate()+1);let W=0;for(;W<L;){let $=!1;for(let Z=0;Z<O.length;Z++)if(O[Z]===T.getUTCDay()){$=!0;break}if(!$){let Z=!1;for(let ie=0;ie<H.length;ie++)if(x(T,H[ie])){Z=!0;break}Z||W++}T.setUTCDate(T.getUTCDate()+1)}return v(T)-1},YEAR:T=>S(T).getUTCFullYear(),YEARFRAC:(T,L,O)=>{if(T=S(T),L=S(L),T>L){const oe=T;T=L,L=oe}if(O=i.accept(O,n.NUMBER,0),O=Math.trunc(O),O<0||O>4)throw e.VALUE;let F=T.getUTCDate();const H=T.getUTCMonth()+1,W=T.getUTCFullYear();let $=L.getUTCDate();const Z=L.getUTCMonth()+1,ie=L.getUTCFullYear();switch(O){case 0:return F===31&&$===31?(F=30,$=30):F===31?F=30:F===30&&$===31&&($=30),Math.abs($+Z*30+ie*360-(F+H*30+W*360))/360;case 1:if(ie-W<2){const oe=R(W)&&W!==1900?366:365;return A.DAYS(L,T)/oe}else{const oe=ie-W+1,ae=(new Date(ie+1,0,1)-new Date(W,0,1))/1e3/60/60/24/oe;return A.DAYS(L,T)/ae}case 2:return Math.abs(A.DAYS(L,T)/360);case 3:return Math.abs(A.DAYS(L,T)/365);case 4:return Math.abs($+Z*30+ie*360-(F+H*30+W*360))/360}}};return s_=A,s_}var o_,Hj;function _Ve(){if(Hj)return o_;Hj=1;const e=ws(),{FormulaHelpers:t,Types:n}=Ps(),i=t;return o_={ENCODEURL:s=>encodeURIComponent(i.accept(s,n.STRING)),FILTERXML:()=>{},WEBSERVICE:(s,o)=>{throw e.ERROR("WEBSERVICE is not supported in sync mode.")}},o_}var NG="7.1.2";function Li(e){return e&&e.length===0}function ou(e){return e==null?[]:Object.keys(e)}function Fa(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}function BVe(e,t){for(var n=[],i=ou(e),r=0;r<i.length;r++){var s=i[r];n.push(t.call(null,e[s],s))}return n}function Rt(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t.call(null,e[i],i));return n}function yl(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?t=t.concat(yl(i)):t.push(i)}return t}function au(e){return Li(e)?void 0:e[0]}function Ene(e){var t=e&&e.length;return t?e[t-1]:void 0}function _t(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else if(tU(e))for(var i=ou(e),n=0;n<i.length;n++){var r=i[n],s=e[r];t.call(null,s,r)}else throw Error("non exhaustive match")}function _d(e){return typeof e=="string"}function vf(e){return e===void 0}function Zg(e){return e instanceof Function}function Zs(e,t){return t===void 0&&(t=1),e.slice(t,e.length)}function aR(e,t){return t===void 0&&(t=1),e.slice(0,e.length-t)}function vu(e,t){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i++){var r=e[i];t.call(null,r)&&n.push(r)}return n}function hS(e,t){return vu(e,function(n){return!t(n)})}function yu(e,t){for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var s=n[r],o=e[s];t(o)&&(i[s]=o)}return i}function Ut(e,t){return tU(e)?e.hasOwnProperty(t):!1}function Cs(e,t){return xw(e,function(n){return n===t})!==void 0}function Ha(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function N1(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function xw(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t.call(null,i))return i}}function GVe(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];t.call(null,r)&&n.push(r)}return n}function so(e,t,n){for(var i=Array.isArray(e),r=i?e:Fa(e),s=i?[]:ou(e),o=n,a=0;a<r.length;a++)o=t.call(null,o,r[a],i?a:s[a]);return o}function L1(e){return hS(e,function(t){return t==null})}function eU(e,t){t===void 0&&(t=function(i){return i});var n=[];return so(e,function(i,r){var s=t(r);return Cs(n,s)?i:(n.push(s),i.concat(r))},[])}function Id(e){return Array.isArray(e)}function yf(e){return e instanceof RegExp}function tU(e){return e instanceof Object}function ec(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function wO(e,t){return hS(e,function(n){return Cs(t,n)})}function Rne(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function zVe(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Cu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++)for(var r=t[i],s=ou(r),o=0;o<s.length;o++){var a=s[o];e[a]=r[a]}return e}function HVe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++)for(var r=t[i],s=ou(r),o=0;o<s.length;o++){var a=s[o];Ut(e,a)||(e[a]=r[a])}return e}function nU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return HVe.apply(null,[{}].concat(e))}function VVe(e,t){var n={};return _t(e,function(i){var r=t(i),s=n[r];s?s.push(i):n[r]=[i]}),n}function Vj(e,t){for(var n=N1(e),i=ou(t),r=0;r<i.length;r++){var s=i[r],o=t[s];n[s]=o}return n}function Ts(){}function Uj(e){return e}function UVe(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i!==void 0?i:void 0)}return t}function LG(e){console&&console.error&&console.error("Error: "+e)}function Ane(e){console&&console.warn&&console.warn("Warning: "+e)}function Wj(){return typeof Map=="function"}function WVe(e,t){t.forEach(function(n){var i=n.prototype;Object.getOwnPropertyNames(i).forEach(function(r){if(r!=="constructor"){var s=Object.getOwnPropertyDescriptor(i,r);s&&(s.get||s.set)?Object.defineProperty(e.prototype,r,s):e.prototype[r]=n.prototype[r]}})})}function Tne(e){function t(){}t.prototype=e;var n=new t;function i(){return typeof n.bar}return i(),i(),e}function aL(e){return e[e.length-1]}function Dne(e){var t=new Date().getTime(),n=e(),i=new Date().getTime(),r=i-t;return{time:r,value:n}}var OI={exports:{}},jVe=OI.exports,jj;function $Ve(){return jj||(jj=1,function(e){(function(t,n){e.exports?e.exports=n():t.regexpToAst=n()})(typeof self<"u"?self:jVe,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(v){this.idx=v.idx,this.input=v.input,this.groupIdx=v.groupIdx},t.prototype.pattern=function(v){this.idx=0,this.input=v,this.groupIdx=0,this.consumeChar("/");var y=this.disjunction();this.consumeChar("/");for(var C={type:"Flags",loc:{begin:this.idx,end:v.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":a(C,"global");break;case"i":a(C,"ignoreCase");break;case"m":a(C,"multiLine");break;case"u":a(C,"unicode");break;case"y":a(C,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:C,value:y,loc:this.loc(0)}},t.prototype.disjunction=function(){var v=[],y=this.idx;for(v.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),v.push(this.alternative());return{type:"Disjunction",value:v,loc:this.loc(y)}},t.prototype.alternative=function(){for(var v=[],y=this.idx;this.isTerm();)v.push(this.term());return{type:"Alternative",value:v,loc:this.loc(y)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var v=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(v)};case"$":return{type:"EndAnchor",loc:this.loc(v)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(v)};case"B":return{type:"NonWordBoundary",loc:this.loc(v)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var y;switch(this.popChar()){case"=":y="Lookahead";break;case"!":y="NegativeLookahead";break}l(y);var C=this.disjunction();return this.consumeChar(")"),{type:y,value:C,loc:this.loc(v)}}c()},t.prototype.quantifier=function(v){var y,C=this.idx;switch(this.popChar()){case"*":y={atLeast:0,atMost:1/0};break;case"+":y={atLeast:1,atMost:1/0};break;case"?":y={atLeast:0,atMost:1};break;case"{":var S=this.integerIncludingZero();switch(this.popChar()){case"}":y={atLeast:S,atMost:S};break;case",":var x;this.isDigit()?(x=this.integerIncludingZero(),y={atLeast:S,atMost:x}):y={atLeast:S,atMost:1/0},this.consumeChar("}");break}if(v===!0&&y===void 0)return;l(y);break}if(!(v===!0&&y===void 0))return l(y),this.peekChar(0)==="?"?(this.consumeChar("?"),y.greedy=!1):y.greedy=!0,y.type="Quantifier",y.loc=this.loc(C),y},t.prototype.atom=function(){var v,y=this.idx;switch(this.peekChar()){case".":v=this.dotAll();break;case"\\":v=this.atomEscape();break;case"[":v=this.characterClass();break;case"(":v=this.group();break}return v===void 0&&this.isPatternCharacter()&&(v=this.patternCharacter()),l(v),v.loc=this.loc(y),this.isQuantifier()&&(v.quantifier=this.quantifier()),v},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[s(`
`),s("\r"),s("\u2028"),s("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var v=this.positiveInteger();return{type:"GroupBackReference",value:v}},t.prototype.characterClassEscape=function(){var v,y=!1;switch(this.popChar()){case"d":v=d;break;case"D":v=d,y=!0;break;case"s":v=p;break;case"S":v=p,y=!0;break;case"w":v=h;break;case"W":v=h,y=!0;break}return l(v),{type:"Set",value:v,complement:y}},t.prototype.controlEscapeAtom=function(){var v;switch(this.popChar()){case"f":v=s("\f");break;case"n":v=s(`
`);break;case"r":v=s("\r");break;case"t":v=s("	");break;case"v":v=s("\v");break}return l(v),{type:"Character",value:v}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var v=this.popChar();if(/[a-zA-Z]/.test(v)===!1)throw Error("Invalid ");var y=v.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:y}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:s("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var v=this.popChar();return{type:"Character",value:s(v)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var v=this.popChar();return{type:"Character",value:s(v)}}},t.prototype.characterClass=function(){var v=[],y=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),y=!0);this.isClassAtom();){var C=this.classAtom(),S=C.type==="Character";if(S&&this.isRangeDash()){this.consumeChar("-");var x=this.classAtom(),R=x.type==="Character";if(R){if(x.value<C.value)throw Error("Range out of order in character class");v.push({from:C.value,to:x.value})}else o(C.value,v),v.push(s("-")),o(x.value,v)}else o(C.value,v)}return this.consumeChar("]"),{type:"Set",complement:y,value:v}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:s("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var v=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),v=!1;break;default:this.groupIdx++;break}var y=this.disjunction();this.consumeChar(")");var C={type:"Group",capturing:v,value:y};return v&&(C.idx=this.groupIdx),C},t.prototype.positiveInteger=function(){var v=this.popChar();if(r.test(v)===!1)throw Error("Expecting a positive integer");for(;i.test(this.peekChar(0));)v+=this.popChar();return parseInt(v,10)},t.prototype.integerIncludingZero=function(){var v=this.popChar();if(i.test(v)===!1)throw Error("Expecting an integer");for(;i.test(this.peekChar(0));)v+=this.popChar();return parseInt(v,10)},t.prototype.patternCharacter=function(){var v=this.popChar();switch(v){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:s(v)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return i.test(this.peekChar(0))},t.prototype.isClassAtom=function(v){switch(v===void 0&&(v=0),this.peekChar(v)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var v=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(v)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(v){for(var y="",C=0;C<v;C++){var S=this.popChar();if(n.test(S)===!1)throw Error("Expecting a HexDecimal digits");y+=S}var x=parseInt(y,16);return{type:"Character",value:x}},t.prototype.peekChar=function(v){return v===void 0&&(v=0),this.input[this.idx+v]},t.prototype.popChar=function(){var v=this.peekChar(0);return this.consumeChar(),v},t.prototype.consumeChar=function(v){if(v!==void 0&&this.input[this.idx]!==v)throw Error("Expected: '"+v+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(v){return{begin:v,end:this.idx}};var n=/[0-9a-fA-F]/,i=/[0-9]/,r=/[1-9]/;function s(v){return v.charCodeAt(0)}function o(v,y){v.length!==void 0?v.forEach(function(C){y.push(C)}):y.push(v)}function a(v,y){if(v[y]===!0)throw"duplicate flag "+y;v[y]=!0}function l(v){if(v===void 0)throw Error("Internal Error - Should never get here!")}function c(){throw Error("Internal Error - Should never get here!")}var u,d=[];for(u=s("0");u<=s("9");u++)d.push(u);var h=[s("_")].concat(d);for(u=s("a");u<=s("z");u++)h.push(u);for(u=s("A");u<=s("Z");u++)h.push(u);var p=[s(" "),s("\f"),s(`
`),s("\r"),s("	"),s("\v"),s("	"),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s(" "),s("\u2028"),s("\u2029"),s(" "),s(" "),s("　"),s("\uFEFF")];function m(){}return m.prototype.visitChildren=function(v){for(var y in v){var C=v[y];v.hasOwnProperty(y)&&(C.type!==void 0?this.visit(C):Array.isArray(C)&&C.forEach(function(S){this.visit(S)},this))}},m.prototype.visit=function(v){switch(v.type){case"Pattern":this.visitPattern(v);break;case"Flags":this.visitFlags(v);break;case"Disjunction":this.visitDisjunction(v);break;case"Alternative":this.visitAlternative(v);break;case"StartAnchor":this.visitStartAnchor(v);break;case"EndAnchor":this.visitEndAnchor(v);break;case"WordBoundary":this.visitWordBoundary(v);break;case"NonWordBoundary":this.visitNonWordBoundary(v);break;case"Lookahead":this.visitLookahead(v);break;case"NegativeLookahead":this.visitNegativeLookahead(v);break;case"Character":this.visitCharacter(v);break;case"Set":this.visitSet(v);break;case"Group":this.visitGroup(v);break;case"GroupBackReference":this.visitGroupBackReference(v);break;case"Quantifier":this.visitQuantifier(v);break}this.visitChildren(v)},m.prototype.visitPattern=function(v){},m.prototype.visitFlags=function(v){},m.prototype.visitDisjunction=function(v){},m.prototype.visitAlternative=function(v){},m.prototype.visitStartAnchor=function(v){},m.prototype.visitEndAnchor=function(v){},m.prototype.visitWordBoundary=function(v){},m.prototype.visitNonWordBoundary=function(v){},m.prototype.visitLookahead=function(v){},m.prototype.visitNegativeLookahead=function(v){},m.prototype.visitCharacter=function(v){},m.prototype.visitSet=function(v){},m.prototype.visitGroup=function(v){},m.prototype.visitGroupBackReference=function(v){},m.prototype.visitQuantifier=function(v){},{RegExpParser:t,BaseRegExpVisitor:m,VERSION:"0.5.0"}})}(OI)),OI.exports}var k1=$Ve(),PI={},YVe=new k1.RegExpParser;function SO(e){var t=e.toString();if(PI.hasOwnProperty(t))return PI[t];var n=YVe.pattern(t);return PI[t]=n,n}function KVe(){PI={}}var qVe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ine="Complement Sets are not supported for first char optimization",lL=`Unable to use "first char" lexer optimizations:
`;function ZVe(e,t){t===void 0&&(t=!1);try{var n=SO(e),i=kG(n.value,{},n.flags.ignoreCase);return i}catch(s){if(s.message===Ine)t&&Ane(""+lL+("	Unable to optimize: < "+e.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var r="";t&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),LG(lL+`
`+("	Failed parsing: < "+e.toString()+` >
`)+("	Using the regexp-to-ast library version: "+k1.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function kG(e,t,n){switch(e.type){case"Disjunction":for(var i=0;i<e.value.length;i++)kG(e.value[i],t,n);break;case"Alternative":for(var r=e.value,i=0;i<r.length;i++){var s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var o=s;switch(o.type){case"Character":jD(o.value,t,n);break;case"Set":if(o.complement===!0)throw Error(Ine);_t(o.value,function(c){if(typeof c=="number")jD(c,t,n);else{var u=c;if(n===!0)for(var d=u.from;d<=u.to;d++)jD(d,t,n);else{for(var d=u.from;d<=u.to&&d<HM;d++)jD(d,t,n);if(u.to>=HM)for(var h=u.from>=HM?u.from:HM,p=u.to,m=Ig(h),v=Ig(p),y=m;y<=v;y++)t[y]=y}}});break;case"Group":kG(o.value,t,n);break;default:throw Error("Non Exhaustive Match")}var a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&OG(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Fa(t)}function jD(e,t,n){var i=Ig(e);t[i]=i,n===!0&&XVe(e,t)}function XVe(e,t){var n=String.fromCharCode(e),i=n.toUpperCase();if(i!==n){var r=Ig(i.charCodeAt(0));t[r]=r}else{var s=n.toLowerCase();if(s!==n){var r=Ig(s.charCodeAt(0));t[r]=r}}}function $j(e,t){return xw(e.value,function(n){if(typeof n=="number")return Cs(t,n);var i=n;return xw(t,function(r){return i.from<=r&&r<=i.to})!==void 0})}function OG(e){return e.quantifier&&e.quantifier.atLeast===0?!0:e.value?Id(e.value)?ec(e.value,OG):OG(e.value):!1}var QVe=function(e){qVe(t,e);function t(n){var i=e.call(this)||this;return i.targetCharCodes=n,i.found=!1,i}return t.prototype.visitChildren=function(n){if(this.found!==!0){switch(n.type){case"Lookahead":this.visitLookahead(n);return;case"NegativeLookahead":this.visitNegativeLookahead(n);return}e.prototype.visitChildren.call(this,n)}},t.prototype.visitCharacter=function(n){Cs(this.targetCharCodes,n.value)&&(this.found=!0)},t.prototype.visitSet=function(n){n.complement?$j(n,this.targetCharCodes)===void 0&&(this.found=!0):$j(n,this.targetCharCodes)!==void 0&&(this.found=!0)},t}(k1.BaseRegExpVisitor);function iU(e,t){if(t instanceof RegExp){var n=SO(t),i=new QVe(e);return i.visit(n),i.found}else return xw(t,function(r){return Cs(e,r.charCodeAt(0))})!==void 0}var Nne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bd="PATTERN",Gv="defaultMode",$D="modes",Lne=typeof new RegExp("(?:)").sticky=="boolean";function JVe(e,t){t=nU(t,{useSticky:Lne,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(S,x){return x()}});var n=t.tracer;n("initCharCodeToOptimizedIndexMap",function(){SUe()});var i;n("Reject Lexer.NA",function(){i=hS(e,function(S){return S[Bd]===Jc.NA})});var r=!1,s;n("Transform Patterns",function(){r=!1,s=Rt(i,function(S){var x=S[Bd];if(yf(x)){var R=x.source;return R.length===1&&R!=="^"&&R!=="$"&&R!=="."&&!x.ignoreCase?R:R.length===2&&R[0]==="\\"&&!Cs(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],R[1])?R[1]:t.useSticky?Kj(x):Yj(x)}else{if(Zg(x))return r=!0,{exec:x};if(Ut(x,"exec"))return r=!0,x;if(typeof x=="string"){if(x.length===1)return x;var A=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),T=new RegExp(A);return t.useSticky?Kj(T):Yj(T)}else throw Error("non exhaustive match")}})});var o,a,l,c,u;n("misc mapping",function(){o=Rt(i,function(S){return S.tokenTypeIdx}),a=Rt(i,function(S){var x=S.GROUP;if(x!==Jc.SKIPPED){if(_d(x))return x;if(vf(x))return!1;throw Error("non exhaustive match")}}),l=Rt(i,function(S){var x=S.LONGER_ALT;if(x){var R=zVe(i,x);return R}}),c=Rt(i,function(S){return S.PUSH_MODE}),u=Rt(i,function(S){return Ut(S,"POP_MODE")})});var d;n("Line Terminator Handling",function(){var S=Pne(t.lineTerminatorCharacters);d=Rt(i,function(x){return!1}),t.positionTracking!=="onlyOffset"&&(d=Rt(i,function(x){if(Ut(x,"LINE_BREAKS"))return x.LINE_BREAKS;if(One(x,S)===!1)return iU(S,x.PATTERN)}))});var h,p,m,v;n("Misc Mapping #2",function(){h=Rt(i,kne),p=Rt(s,CUe),m=so(i,function(S,x){var R=x.GROUP;return _d(R)&&R!==Jc.SKIPPED&&(S[R]=[]),S},{}),v=Rt(s,function(S,x){return{pattern:s[x],longerAlt:l[x],canLineTerminator:d[x],isCustom:h[x],short:p[x],group:a[x],push:c[x],pop:u[x],tokenTypeIdx:o[x],tokenType:i[x]}})});var y=!0,C=[];return t.safeMode||n("First Char Optimization",function(){C=so(i,function(S,x,R){if(typeof x.PATTERN=="string"){var A=x.PATTERN.charCodeAt(0),T=Ig(A);a_(S,T,v[R])}else if(Id(x.START_CHARS_HINT)){var L;_t(x.START_CHARS_HINT,function(F){var H=typeof F=="string"?F.charCodeAt(0):F,W=Ig(H);L!==W&&(L=W,a_(S,W,v[R]))})}else if(yf(x.PATTERN))if(x.PATTERN.unicode)y=!1,t.ensureOptimizations&&LG(""+lL+("	Unable to analyze < "+x.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var O=ZVe(x.PATTERN,t.ensureOptimizations);Li(O)&&(y=!1),_t(O,function(F){a_(S,F,v[R])})}else t.ensureOptimizations&&LG(""+lL+("	TokenType: <"+x.name+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return S},[])}),n("ArrayPacking",function(){C=UVe(C)}),{emptyGroups:m,patternIdxToConfig:v,charCodeToPatternIdxToConfig:C,hasCustom:r,canBeOptimized:y}}function eUe(e,t){var n=[],i=nUe(e);n=n.concat(i.errors);var r=iUe(i.valid),s=r.valid;return n=n.concat(r.errors),n=n.concat(tUe(s)),n=n.concat(dUe(s)),n=n.concat(hUe(s,t)),n=n.concat(fUe(s)),n}function tUe(e){var t=[],n=vu(e,function(i){return yf(i[Bd])});return t=t.concat(sUe(n)),t=t.concat(lUe(n)),t=t.concat(cUe(n)),t=t.concat(uUe(n)),t=t.concat(oUe(n)),t}function nUe(e){var t=vu(e,function(r){return!Ut(r,Bd)}),n=Rt(t,function(r){return{message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:Rr.MISSING_PATTERN,tokenTypes:[r]}}),i=wO(e,t);return{errors:n,valid:i}}function iUe(e){var t=vu(e,function(r){var s=r[Bd];return!yf(s)&&!Zg(s)&&!Ut(s,"exec")&&!_d(s)}),n=Rt(t,function(r){return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Rr.INVALID_PATTERN,tokenTypes:[r]}}),i=wO(e,t);return{errors:n,valid:i}}var rUe=/[^\\][\$]/;function sUe(e){var t=function(r){Nne(s,r);function s(){var o=r!==null&&r.apply(this,arguments)||this;return o.found=!1,o}return s.prototype.visitEndAnchor=function(o){this.found=!0},s}(k1.BaseRegExpVisitor),n=vu(e,function(r){var s=r[Bd];try{var o=SO(s),a=new t;return a.visit(o),a.found}catch{return rUe.test(s.source)}}),i=Rt(n,function(r){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Rr.EOI_ANCHOR_FOUND,tokenTypes:[r]}});return i}function oUe(e){var t=vu(e,function(i){var r=i[Bd];return r.test("")}),n=Rt(t,function(i){return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' must not match an empty string",type:Rr.EMPTY_MATCH_PATTERN,tokenTypes:[i]}});return n}var aUe=/[^\\[][\^]|^\^/;function lUe(e){var t=function(r){Nne(s,r);function s(){var o=r!==null&&r.apply(this,arguments)||this;return o.found=!1,o}return s.prototype.visitStartAnchor=function(o){this.found=!0},s}(k1.BaseRegExpVisitor),n=vu(e,function(r){var s=r[Bd];try{var o=SO(s),a=new t;return a.visit(o),a.found}catch{return aUe.test(s.source)}}),i=Rt(n,function(r){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Rr.SOI_ANCHOR_FOUND,tokenTypes:[r]}});return i}function cUe(e){var t=vu(e,function(i){var r=i[Bd];return r instanceof RegExp&&(r.multiline||r.global)}),n=Rt(t,function(i){return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Rr.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[i]}});return n}function uUe(e){var t=[],n=Rt(e,function(s){return so(e,function(o,a){return s.PATTERN.source===a.PATTERN.source&&!Cs(t,a)&&a.PATTERN!==Jc.NA&&(t.push(a),o.push(a)),o},[])});n=L1(n);var i=vu(n,function(s){return s.length>1}),r=Rt(i,function(s){var o=Rt(s,function(l){return l.name}),a=au(s).PATTERN;return{message:"The same RegExp pattern ->"+a+"<-"+("has been used in all of the following Token Types: "+o.join(", ")+" <-"),type:Rr.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}});return r}function dUe(e){var t=vu(e,function(i){if(!Ut(i,"GROUP"))return!1;var r=i.GROUP;return r!==Jc.SKIPPED&&r!==Jc.NA&&!_d(r)}),n=Rt(t,function(i){return{message:"Token Type: ->"+i.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Rr.INVALID_GROUP_TYPE_FOUND,tokenTypes:[i]}});return n}function hUe(e,t){var n=vu(e,function(r){return r.PUSH_MODE!==void 0&&!Cs(t,r.PUSH_MODE)}),i=Rt(n,function(r){var s="Token Type: ->"+r.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+r.PUSH_MODE+"<-which does not exist";return{message:s,type:Rr.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}});return i}function fUe(e){var t=[],n=so(e,function(i,r,s){var o=r.PATTERN;return o===Jc.NA||(_d(o)?i.push({str:o,idx:s,tokenType:r}):yf(o)&&gUe(o)&&i.push({str:o.source,idx:s,tokenType:r})),i},[]);return _t(e,function(i,r){_t(n,function(s){var o=s.str,a=s.idx,l=s.tokenType;if(r<a&&pUe(o,i.PATTERN)){var c="Token: ->"+l.name+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+i.name+"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:c,type:Rr.UNREACHABLE_PATTERN,tokenTypes:[i,l]})}})}),t}function pUe(e,t){if(yf(t)){var n=t.exec(e);return n!==null&&n.index===0}else{if(Zg(t))return t(e,0,[],{});if(Ut(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function gUe(e){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return xw(t,function(n){return e.source.indexOf(n)!==-1})===void 0}function Yj(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function Kj(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function mUe(e,t,n){var i=[];return Ut(e,Gv)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Gv+`> property in its definition
`,type:Rr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Ut(e,$D)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+$D+`> property in its definition
`,type:Rr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Ut(e,$D)&&Ut(e,Gv)&&!Ut(e.modes,e.defaultMode)&&i.push({message:"A MultiMode Lexer cannot be initialized with a "+Gv+": <"+e.defaultMode+`>which does not exist
`,type:Rr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Ut(e,$D)&&_t(e.modes,function(r,s){_t(r,function(o,a){vf(o)&&i.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+s+"> at index: <"+a+`>
`),type:Rr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),i}function vUe(e,t,n){var i=[],r=!1,s=L1(yl(BVe(e.modes,function(l){return l}))),o=hS(s,function(l){return l[Bd]===Jc.NA}),a=Pne(n);return t&&_t(o,function(l){var c=One(l,a);if(c!==!1){var u=wUe(l,c),d={message:u,type:c.issue,tokenType:l};i.push(d)}else Ut(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(r=!0):iU(a,l.PATTERN)&&(r=!0)}),t&&!r&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Rr.NO_LINE_BREAKS_FLAGS}),i}function yUe(e){var t={},n=ou(e);return _t(n,function(i){var r=e[i];if(Id(r))t[i]=[];else throw Error("non exhaustive match")}),t}function kne(e){var t=e.PATTERN;if(yf(t))return!1;if(Zg(t))return!0;if(Ut(t,"exec"))return!0;if(_d(t))return!1;throw Error("non exhaustive match")}function CUe(e){return _d(e)&&e.length===1?e.charCodeAt(0):!1}var bUe={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var i=e.charCodeAt(n);if(i===10)return this.lastIndex=n+1,!0;if(i===13)return e.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function One(e,t){if(Ut(e,"LINE_BREAKS"))return!1;if(yf(e.PATTERN)){try{iU(t,e.PATTERN)}catch(n){return{issue:Rr.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(_d(e.PATTERN))return!1;if(kne(e))return{issue:Rr.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function wUe(e,t){if(t.issue===Rr.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+e.name+`> Token Type
`)+("	 Root cause: "+t.errMsg+`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===Rr.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+e.name+`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function Pne(e){var t=Rt(e,function(n){return _d(n)&&n.length>0?n.charCodeAt(0):n});return t}function a_(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}var HM=256;function Ig(e){return e<HM?e:FI[e]}var FI=[];function SUe(){if(Li(FI)){FI=new Array(65536);for(var e=0;e<65536;e++)FI[e]=e>255?255+~~(e/255):e}}function xO(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[n]===!0}function cL(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var qj=1,Fne={};function O1(e){var t=xUe(e);MUe(t),RUe(t),EUe(t),_t(t,function(n){n.isParent=n.categoryMatches.length>0})}function xUe(e){for(var t=Ha(e),n=e,i=!0;i;){n=L1(yl(Rt(n,function(s){return s.CATEGORIES})));var r=wO(n,t);t=t.concat(r),Li(r)?i=!1:n=r}return t}function MUe(e){_t(e,function(t){Bne(t)||(Fne[qj]=t,t.tokenTypeIdx=qj++),Zj(t)&&!Id(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Zj(t)||(t.CATEGORIES=[]),AUe(t)||(t.categoryMatches=[]),TUe(t)||(t.categoryMatchesMap={})})}function EUe(e){_t(e,function(t){t.categoryMatches=[],_t(t.categoryMatchesMap,function(n,i){t.categoryMatches.push(Fne[i].tokenTypeIdx)})})}function RUe(e){_t(e,function(t){_ne([],t)})}function _ne(e,t){_t(e,function(n){t.categoryMatchesMap[n.tokenTypeIdx]=!0}),_t(t.CATEGORIES,function(n){var i=e.concat(t);Cs(i,n)||_ne(i,n)})}function Bne(e){return Ut(e,"tokenTypeIdx")}function Zj(e){return Ut(e,"CATEGORIES")}function AUe(e){return Ut(e,"categoryMatches")}function TUe(e){return Ut(e,"categoryMatchesMap")}function DUe(e){return Ut(e,"tokenTypeIdx")}var Gne={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,i,r){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+","+(" skipped "+n+" characters.")}},Rr;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(Rr||(Rr={}));var VM={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Gne,traceInitPerf:!1,skipValidations:!1};Object.freeze(VM);var Jc=function(){function e(t,n){var i=this;if(n===void 0&&(n=VM),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Vj(VM,n);var r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var s,o=!0;i.TRACE_INIT("Lexer Config handling",function(){if(i.config.lineTerminatorsPattern===VM.lineTerminatorsPattern)i.config.lineTerminatorsPattern=bUe;else if(i.config.lineTerminatorCharacters===VM.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');i.trackStartLines=/full|onlyStart/i.test(i.config.positionTracking),i.trackEndLines=/full/i.test(i.config.positionTracking),Id(t)?(s={modes:{}},s.modes[Gv]=Ha(t),s[Gv]=Gv):(o=!1,s=N1(t))}),i.config.skipValidations===!1&&(i.TRACE_INIT("performRuntimeChecks",function(){i.lexerDefinitionErrors=i.lexerDefinitionErrors.concat(mUe(s,i.trackStartLines,i.config.lineTerminatorCharacters))}),i.TRACE_INIT("performWarningRuntimeChecks",function(){i.lexerDefinitionWarning=i.lexerDefinitionWarning.concat(vUe(s,i.trackStartLines,i.config.lineTerminatorCharacters))})),s.modes=s.modes?s.modes:{},_t(s.modes,function(u,d){s.modes[d]=hS(u,function(h){return vf(h)})});var a=ou(s.modes);if(_t(s.modes,function(u,d){i.TRACE_INIT("Mode: <"+d+"> processing",function(){if(i.modes.push(d),i.config.skipValidations===!1&&i.TRACE_INIT("validatePatterns",function(){i.lexerDefinitionErrors=i.lexerDefinitionErrors.concat(eUe(u,a))}),Li(i.lexerDefinitionErrors)){O1(u);var h;i.TRACE_INIT("analyzeTokenTypes",function(){h=JVe(u,{lineTerminatorCharacters:i.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:i.TRACE_INIT.bind(i)})}),i.patternIdxToConfig[d]=h.patternIdxToConfig,i.charCodeToPatternIdxToConfig[d]=h.charCodeToPatternIdxToConfig,i.emptyGroups=Vj(i.emptyGroups,h.emptyGroups),i.hasCustom=h.hasCustom||i.hasCustom,i.canModeBeOptimized[d]=h.canBeOptimized}})}),i.defaultMode=s.defaultMode,!Li(i.lexerDefinitionErrors)&&!i.config.deferDefinitionErrorsHandling){var l=Rt(i.lexerDefinitionErrors,function(u){return u.message}),c=l.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+c)}_t(i.lexerDefinitionWarning,function(u){Ane(u.message)}),i.TRACE_INIT("Choosing sub-methods implementations",function(){if(Lne?(i.chopInput=Uj,i.match=i.matchWithTest):(i.updateLastIndex=Ts,i.match=i.matchWithExec),o&&(i.handleModes=Ts),i.trackStartLines===!1&&(i.computeNewColumn=Uj),i.trackEndLines===!1&&(i.updateTokenEndLineColumnLocation=Ts),/full/i.test(i.config.positionTracking))i.createTokenInstance=i.createFullToken;else if(/onlyStart/i.test(i.config.positionTracking))i.createTokenInstance=i.createStartOnlyToken;else if(/onlyOffset/i.test(i.config.positionTracking))i.createTokenInstance=i.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+i.config.positionTracking+'"');i.hasCustom?(i.addToken=i.addTokenUsingPush,i.handlePayload=i.handlePayloadWithCustom):(i.addToken=i.addTokenUsingMemberAccess,i.handlePayload=i.handlePayloadNoCustom)}),i.TRACE_INIT("Failed Optimization Warnings",function(){var u=so(i.canModeBeOptimized,function(d,h,p){return h===!1&&d.push(p),d},[]);if(n.ensureOptimizations&&!Li(u))throw Error("Lexer Modes: < "+u.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),i.TRACE_INIT("clearRegExpParserCache",function(){KVe()}),i.TRACE_INIT("toFastProperties",function(){Tne(i)})})}return e.prototype.tokenize=function(t,n){if(n===void 0&&(n=this.defaultMode),!Li(this.lexerDefinitionErrors)){var i=Rt(this.lexerDefinitionErrors,function(o){return o.message}),r=i.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}var s=this.tokenizeInternal(t,n);return s},e.prototype.tokenizeInternal=function(t,n){var i=this,r,s,o,a,l,c,u,d,h,p,m,v,y,C,S=t,x=S.length,R=0,A=0,T=this.hasCustom?0:Math.floor(t.length/10),L=new Array(T),O=[],F=this.trackStartLines?1:void 0,H=this.trackStartLines?1:void 0,W=yUe(this.emptyGroups),$=this.trackStartLines,Z=this.config.lineTerminatorsPattern,ie=0,oe=[],te=[],ae=[],ne=[];Object.freeze(ne);var Se=void 0;function q(){return oe}function re(qe){var at=Ig(qe),nt=te[at];return nt===void 0?ne:nt}var K=function(qe){if(ae.length===1&&qe.tokenType.PUSH_MODE===void 0){var at=i.config.errorMessageProvider.buildUnableToPopLexerModeMessage(qe);O.push({offset:qe.startOffset,line:qe.startLine!==void 0?qe.startLine:void 0,column:qe.startColumn!==void 0?qe.startColumn:void 0,length:qe.image.length,message:at})}else{ae.pop();var nt=Ene(ae);oe=i.patternIdxToConfig[nt],te=i.charCodeToPatternIdxToConfig[nt],ie=oe.length;var Fe=i.canModeBeOptimized[nt]&&i.config.safeMode===!1;te&&Fe?Se=re:Se=q}};function V(qe){ae.push(qe),te=this.charCodeToPatternIdxToConfig[qe],oe=this.patternIdxToConfig[qe],ie=oe.length,ie=oe.length;var at=this.canModeBeOptimized[qe]&&this.config.safeMode===!1;te&&at?Se=re:Se=q}V.call(this,n);for(var G;R<x;){l=null;var se=S.charCodeAt(R),Y=Se(se),ue=Y.length;for(r=0;r<ue;r++){G=Y[r];var J=G.pattern;c=null;var he=G.short;if(he!==!1?se===he&&(l=J):G.isCustom===!0?(C=J.exec(S,R,L,W),C!==null?(l=C[0],C.payload!==void 0&&(c=C.payload)):l=null):(this.updateLastIndex(J,R),l=this.match(J,t,R)),l!==null){if(a=G.longerAlt,a!==void 0){var Te=oe[a],ve=Te.pattern;u=null,Te.isCustom===!0?(C=ve.exec(S,R,L,W),C!==null?(o=C[0],C.payload!==void 0&&(u=C.payload)):o=null):(this.updateLastIndex(ve,R),o=this.match(ve,t,R)),o&&o.length>l.length&&(l=o,c=u,G=Te)}break}}if(l!==null){if(d=l.length,h=G.group,h!==void 0&&(p=G.tokenTypeIdx,m=this.createTokenInstance(l,R,p,G.tokenType,F,H,d),this.handlePayload(m,c),h===!1?A=this.addToken(L,A,m):W[h].push(m)),t=this.chopInput(t,d),R=R+d,H=this.computeNewColumn(H,d),$===!0&&G.canLineTerminator===!0){var Re=0,ke=void 0,He=void 0;Z.lastIndex=0;do ke=Z.test(l),ke===!0&&(He=Z.lastIndex-1,Re++);while(ke===!0);Re!==0&&(F=F+Re,H=d-He,this.updateTokenEndLineColumnLocation(m,h,He,Re,F,H,d))}this.handleModes(G,K,V,m)}else{for(var st=R,Dt=F,ot=H,dt=!1;!dt&&R<x;)for(S.charCodeAt(R),t=this.chopInput(t,1),R++,s=0;s<ie;s++){var Ue=oe[s],J=Ue.pattern,he=Ue.short;if(he!==!1?S.charCodeAt(R)===he&&(dt=!0):Ue.isCustom===!0?dt=J.exec(S,R,L,W)!==null:(this.updateLastIndex(J,R),dt=J.exec(t)!==null),dt===!0)break}v=R-st,y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(S,st,v,Dt,ot),O.push({offset:st,line:Dt,column:ot,length:v,message:y})}}return this.hasCustom||(L.length=A),{tokens:L,groups:W,errors:O}},e.prototype.handleModes=function(t,n,i,r){if(t.pop===!0){var s=t.push;n(r),s!==void 0&&i.call(this,s)}else t.push!==void 0&&i.call(this,t.push)},e.prototype.chopInput=function(t,n){return t.substring(n)},e.prototype.updateLastIndex=function(t,n){t.lastIndex=n},e.prototype.updateTokenEndLineColumnLocation=function(t,n,i,r,s,o,a){var l,c;n!==void 0&&(l=i===a-1,c=l?-1:0,r===1&&l===!0||(t.endLine=s+c,t.endColumn=o-1+-c))},e.prototype.computeNewColumn=function(t,n){return t+n},e.prototype.createTokenInstance=function(){return null},e.prototype.createOffsetOnlyToken=function(t,n,i,r){return{image:t,startOffset:n,tokenTypeIdx:i,tokenType:r}},e.prototype.createStartOnlyToken=function(t,n,i,r,s,o){return{image:t,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:i,tokenType:r}},e.prototype.createFullToken=function(t,n,i,r,s,o,a){return{image:t,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:i,tokenType:r}},e.prototype.addToken=function(t,n,i){return 666},e.prototype.addTokenUsingPush=function(t,n,i){return t.push(i),n},e.prototype.addTokenUsingMemberAccess=function(t,n,i){return t[n]=i,n++,n},e.prototype.handlePayload=function(t,n){},e.prototype.handlePayloadNoCustom=function(t,n){},e.prototype.handlePayloadWithCustom=function(t,n){n!==null&&(t.payload=n)},e.prototype.match=function(t,n,i){return null},e.prototype.matchWithTest=function(t,n,i){var r=t.test(n);return r===!0?n.substring(i,t.lastIndex):null},e.prototype.matchWithExec=function(t,n){var i=t.exec(n);return i!==null?i[0]:i},e.prototype.TRACE_INIT=function(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(i+"--> <"+t+">");var r=Dne(n),s=r.time,o=r.value,a=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(i+"<-- <"+t+"> time: "+s+"ms"),this.traceInitIndent--,o}else return n()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function uy(e){return zne(e)?e.LABEL:e.name}function IUe(e){return e.name}function zne(e){return _d(e.LABEL)&&e.LABEL!==""}var NUe="parent",Xj="categories",Qj="label",Jj="group",e8="push_mode",t8="pop_mode",n8="longer_alt",i8="line_breaks",r8="start_chars_hint";function rU(e){return LUe(e)}function LUe(e){var t=e.pattern,n={};if(n.name=e.name,vf(t)||(n.PATTERN=t),Ut(e,NUe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Ut(e,Xj)&&(n.CATEGORIES=e[Xj]),O1([n]),Ut(e,Qj)&&(n.LABEL=e[Qj]),Ut(e,Jj)&&(n.GROUP=e[Jj]),Ut(e,t8)&&(n.POP_MODE=e[t8]),Ut(e,e8)&&(n.PUSH_MODE=e[e8]),Ut(e,n8)&&(n.LONGER_ALT=e[n8]),Ut(e,i8)&&(n.LINE_BREAKS=e[i8]),Ut(e,r8)&&(n.START_CHARS_HINT=e[r8]),n}var Ng=rU({name:"EOF",pattern:Jc.NA});O1([Ng]);function MO(e,t,n,i,r,s,o,a){return{image:t,startOffset:n,endOffset:i,startLine:r,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function kUe(e,t){return xO(e,t)}var Pf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),eh=function(){function e(t){this._definition=t}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this),_t(this.definition,function(n){n.accept(t)})},e}(),la=function(e){Pf(t,e);function t(n){var i=e.call(this,[])||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return Object.defineProperty(t.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(n){},enumerable:!1,configurable:!0}),t.prototype.accept=function(n){n.visit(this)},t}(eh),a0=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.orgText="",Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),Oo=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.ignoreAmbiguities=!1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),Lo=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),dc=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),hc=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),Gr=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),wl=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,Cu(i,yu(n,function(r){return r!==void 0})),i}return t}(eh),Sl=function(e){Pf(t,e);function t(n){var i=e.call(this,n.definition)||this;return i.idx=1,i.ignoreAmbiguities=!1,i.hasPredicates=!1,Cu(i,yu(n,function(r){return r!==void 0})),i}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(n){this._definition=n},enumerable:!1,configurable:!0}),t}(eh),ji=function(){function e(t){this.idx=1,Cu(this,yu(t,function(n){return n!==void 0}))}return e.prototype.accept=function(t){t.visit(this)},e}();function Hne(e){return Rt(e,uE)}function uE(e){function t(r){return Rt(r,uE)}if(e instanceof la)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof Oo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Lo)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof dc)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof hc)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:uE(new ji({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof wl)return{type:"RepetitionWithSeparator",idx:e.idx,separator:uE(new ji({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Gr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Sl)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ji){var n={type:"Terminal",name:e.terminalType.name,label:uy(e.terminalType),idx:e.idx},i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=yf(i)?i.source:i),n}else{if(e instanceof a0)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}var EO=function(){function e(){}return e.prototype.walk=function(t,n){var i=this;n===void 0&&(n=[]),_t(t.definition,function(r,s){var o=Zs(t.definition,s+1);if(r instanceof la)i.walkProdRef(r,o,n);else if(r instanceof ji)i.walkTerminal(r,o,n);else if(r instanceof Oo)i.walkFlat(r,o,n);else if(r instanceof Lo)i.walkOption(r,o,n);else if(r instanceof dc)i.walkAtLeastOne(r,o,n);else if(r instanceof hc)i.walkAtLeastOneSep(r,o,n);else if(r instanceof wl)i.walkManySep(r,o,n);else if(r instanceof Gr)i.walkMany(r,o,n);else if(r instanceof Sl)i.walkOr(r,o,n);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(t,n,i){},e.prototype.walkProdRef=function(t,n,i){},e.prototype.walkFlat=function(t,n,i){var r=n.concat(i);this.walk(t,r)},e.prototype.walkOption=function(t,n,i){var r=n.concat(i);this.walk(t,r)},e.prototype.walkAtLeastOne=function(t,n,i){var r=[new Lo({definition:t.definition})].concat(n,i);this.walk(t,r)},e.prototype.walkAtLeastOneSep=function(t,n,i){var r=s8(t,n,i);this.walk(t,r)},e.prototype.walkMany=function(t,n,i){var r=[new Lo({definition:t.definition})].concat(n,i);this.walk(t,r)},e.prototype.walkManySep=function(t,n,i){var r=s8(t,n,i);this.walk(t,r)},e.prototype.walkOr=function(t,n,i){var r=this,s=n.concat(i);_t(t.definition,function(o){var a=new Oo({definition:[o]});r.walk(a,s)})},e}();function s8(e,t,n){var i=[new Lo({definition:[new ji({terminalType:e.separator})].concat(e.definition)})],r=i.concat(t,n);return r}var l0=function(){function e(){}return e.prototype.visit=function(t){var n=t;switch(n.constructor){case la:return this.visitNonTerminal(n);case Oo:return this.visitAlternative(n);case Lo:return this.visitOption(n);case dc:return this.visitRepetitionMandatory(n);case hc:return this.visitRepetitionMandatoryWithSeparator(n);case wl:return this.visitRepetitionWithSeparator(n);case Gr:return this.visitRepetition(n);case Sl:return this.visitAlternation(n);case ji:return this.visitTerminal(n);case a0:return this.visitRule(n);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(t){},e.prototype.visitAlternative=function(t){},e.prototype.visitOption=function(t){},e.prototype.visitRepetition=function(t){},e.prototype.visitRepetitionMandatory=function(t){},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){},e.prototype.visitRepetitionWithSeparator=function(t){},e.prototype.visitAlternation=function(t){},e.prototype.visitTerminal=function(t){},e.prototype.visitRule=function(t){},e}(),OUe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();function PUe(e){return e instanceof Oo||e instanceof Lo||e instanceof Gr||e instanceof dc||e instanceof hc||e instanceof wl||e instanceof ji||e instanceof a0}function uL(e,t){t===void 0&&(t=[]);var n=e instanceof Lo||e instanceof Gr||e instanceof wl;return n?!0:e instanceof Sl?Rne(e.definition,function(i){return uL(i,t)}):e instanceof la&&Cs(t,e)?!1:e instanceof eh?(e instanceof la&&t.push(e),ec(e.definition,function(i){return uL(i,t)})):!1}function FUe(e){return e instanceof Sl}function ad(e){if(e instanceof la)return"SUBRULE";if(e instanceof Lo)return"OPTION";if(e instanceof Sl)return"OR";if(e instanceof dc)return"AT_LEAST_ONE";if(e instanceof hc)return"AT_LEAST_ONE_SEP";if(e instanceof wl)return"MANY_SEP";if(e instanceof Gr)return"MANY";if(e instanceof ji)return"CONSUME";throw Error("non exhaustive match")}var Vne=function(e){OUe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.separator="-",n.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},n}return t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(n){var i=n.terminalType.name+this.separator+"Terminal";Ut(this.dslMethods,i)||(this.dslMethods[i]=[]),this.dslMethods[i].push(n)},t.prototype.visitNonTerminal=function(n){var i=n.nonTerminalName+this.separator+"Terminal";Ut(this.dslMethods,i)||(this.dslMethods[i]=[]),this.dslMethods[i].push(n)},t.prototype.visitOption=function(n){this.dslMethods.option.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.dslMethods.repetitionWithSeparator.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.dslMethods.repetitionMandatory.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.dslMethods.repetitionMandatoryWithSeparator.push(n)},t.prototype.visitRepetition=function(n){this.dslMethods.repetition.push(n)},t.prototype.visitAlternation=function(n){this.dslMethods.alternation.push(n)},t}(l0),YD=new Vne;function _Ue(e){YD.reset(),e.accept(YD);var t=YD.dslMethods;return YD.reset(),t}function P1(e){if(e instanceof la)return P1(e.referencedRule);if(e instanceof ji)return zUe(e);if(PUe(e))return BUe(e);if(FUe(e))return GUe(e);throw Error("non exhaustive match")}function BUe(e){for(var t=[],n=e.definition,i=0,r=n.length>i,s,o=!0;r&&o;)s=n[i],o=uL(s),t=t.concat(P1(s)),i=i+1,r=n.length>i;return eU(t)}function GUe(e){var t=Rt(e.definition,function(n){return P1(n)});return eU(yl(t))}function zUe(e){return[e.terminalType]}var Une="_~IN~_",HUe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),VUe=function(e){HUe(t,e);function t(n){var i=e.call(this)||this;return i.topProd=n,i.follows={},i}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(n,i,r){},t.prototype.walkProdRef=function(n,i,r){var s=WUe(n.referencedRule,n.idx)+this.topProd.name,o=i.concat(r),a=new Oo({definition:o}),l=P1(a);this.follows[s]=l},t}(EO);function UUe(e){var t={};return _t(e,function(n){var i=new VUe(n).startWalking();Cu(t,i)}),t}function WUe(e,t){return e.name+t+Une}var sU={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;e.previous,e.ruleName;var i=zne(t),r=i?"--> "+uy(t)+" <--":"token of type --> "+t.name+" <--",s="Expecting "+r+" but found --> '"+n.image+"' <--";return s},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;return e.ruleName,"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual;e.previous;var i=e.customUserDescription;e.ruleName;var r="Expecting: ",s=au(n).image,o=`
but found: '`+s+"'";if(i)return r+i+o;var a=so(t,function(d,h){return d.concat(h)},[]),l=Rt(a,function(d){return"["+Rt(d,function(h){return uy(h)}).join(", ")+"]"}),c=Rt(l,function(d,h){return"  "+(h+1)+". "+d}),u=`one of these possible Token sequences:
`+c.join(`
`);return r+u+o},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,i=e.customUserDescription;e.ruleName;var r="Expecting: ",s=au(n).image,o=`
but found: '`+s+"'";if(i)return r+i+o;var a=Rt(t,function(c){return"["+Rt(c,function(u){return uy(u)}).join(",")+"]"}),l=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+a.join(" ,")+">");return r+l+o}};Object.freeze(sU);var Wne={buildRuleNotFoundError:function(e,t){var n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-";return n}},RO={buildDuplicateFoundError:function(e,t){function n(u){return u instanceof ji?u.terminalType.name:u instanceof la?u.nonTerminalName:""}var i=e.name,r=au(t),s=r.idx,o=ad(r),a=n(r),l=s>0,c="->"+o+(l?s:"")+"<- "+(a?"with argument: ->"+a+"<-":"")+`
                  appears more than once (`+t.length+" times) in the top level rule: ->"+i+`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError:function(e){var t=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return t},buildAlternationPrefixAmbiguityError:function(e){var t=Rt(e.prefixPath,function(r){return uy(r)}).join(", "),n=e.alternation.idx===0?"":e.alternation.idx,i="Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+n+"> inside <"+e.topLevelRule.name+`> Rule,
`)+("<"+t+`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return i},buildAlternationAmbiguityError:function(e){var t=Rt(e.prefixPath,function(r){return uy(r)}).join(", "),n=e.alternation.idx===0?"":e.alternation.idx,i="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+">"+(" inside <"+e.topLevelRule.name+`> Rule,
`)+("<"+t+`> may appears as a prefix path in all these alternatives.
`);return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError:function(e){var t=ad(e.repetition);e.repetition.idx!==0&&(t+=e.repetition.idx);var n="The repetition <"+t+"> within Rule <"+e.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return n},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){var t="Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+">"+(" in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return t},buildTooManyAlternativesError:function(e){var t=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+`> Rule.
 has `+(e.alternation.definition.length+1)+" alternatives.");return t},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=Rt(e.leftRecursionPath,function(s){return s.name}),i=t+" --> "+n.concat([t]).join(" --> "),r=`Left Recursion found in grammar.
`+("rule: <"+t+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is: 
 `+i+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return r},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){var t;e.topLevelRule instanceof a0?t=e.topLevelRule.name:t=e.topLevelRule;var n="Duplicate definition, rule: ->"+t+"<- is already defined in the grammar: ->"+e.grammarName+"<-";return n}},jUe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();function $Ue(e,t){var n=new YUe(e,t);return n.resolveRefs(),n.errors}var YUe=function(e){jUe(t,e);function t(n,i){var r=e.call(this)||this;return r.nameToTopRule=n,r.errMsgProvider=i,r.errors=[],r}return t.prototype.resolveRefs=function(){var n=this;_t(Fa(this.nameToTopRule),function(i){n.currTopLevel=i,i.accept(n)})},t.prototype.visitNonTerminal=function(n){var i=this.nameToTopRule[n.nonTerminalName];if(i)n.referencedRule=i;else{var r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,n);this.errors.push({message:r,type:ca.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:n.nonTerminalName})}},t}(l0),c0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),KUe=function(e){c0(t,e);function t(n,i){var r=e.call(this)||this;return r.topProd=n,r.path=i,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Ha(this.path.ruleStack).reverse(),this.occurrenceStack=Ha(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(n,i){i===void 0&&(i=[]),this.found||e.prototype.walk.call(this,n,i)},t.prototype.walkProdRef=function(n,i,r){if(n.referencedRule.name===this.nextProductionName&&n.idx===this.nextProductionOccurrence){var s=i.concat(r);this.updateExpectedNext(),this.walk(n.referencedRule,s)}},t.prototype.updateExpectedNext=function(){Li(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(EO),qUe=function(e){c0(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.path=i,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return t.prototype.walkTerminal=function(n,i,r){if(this.isAtEndOfPath&&n.terminalType.name===this.nextTerminalName&&n.idx===this.nextTerminalOccurrence&&!this.found){var s=i.concat(r),o=new Oo({definition:s});this.possibleTokTypes=P1(o),this.found=!0}},t}(KUe),AO=function(e){c0(t,e);function t(n,i){var r=e.call(this)||this;return r.topRule=n,r.occurrence=i,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(EO),ZUe=function(e){c0(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkMany=function(n,i,r){if(n.idx===this.occurrence){var s=au(i.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ji&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else e.prototype.walkMany.call(this,n,i,r)},t}(AO),o8=function(e){c0(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkManySep=function(n,i,r){if(n.idx===this.occurrence){var s=au(i.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ji&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else e.prototype.walkManySep.call(this,n,i,r)},t}(AO),XUe=function(e){c0(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOne=function(n,i,r){if(n.idx===this.occurrence){var s=au(i.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ji&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else e.prototype.walkAtLeastOne.call(this,n,i,r)},t}(AO),a8=function(e){c0(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOneSep=function(n,i,r){if(n.idx===this.occurrence){var s=au(i.concat(r));this.result.isEndOfRule=s===void 0,s instanceof ji&&(this.result.token=s.terminalType,this.result.occurrence=s.idx)}else e.prototype.walkAtLeastOneSep.call(this,n,i,r)},t}(AO);function PG(e,t,n){n===void 0&&(n=[]),n=Ha(n);var i=[],r=0;function s(c){return c.concat(Zs(e,r+1))}function o(c){var u=PG(s(c),t,n);return i.concat(u)}for(;n.length<t&&r<e.length;){var a=e[r];if(a instanceof Oo)return o(a.definition);if(a instanceof la)return o(a.definition);if(a instanceof Lo)i=o(a.definition);else if(a instanceof dc){var l=a.definition.concat([new Gr({definition:a.definition})]);return o(l)}else if(a instanceof hc){var l=[new Oo({definition:a.definition}),new Gr({definition:[new ji({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof wl){var l=a.definition.concat([new Gr({definition:[new ji({terminalType:a.separator})].concat(a.definition)})]);i=o(l)}else if(a instanceof Gr){var l=a.definition.concat([new Gr({definition:a.definition})]);i=o(l)}else{if(a instanceof Sl)return _t(a.definition,function(c){Li(c.definition)===!1&&(i=o(c.definition))}),i;if(a instanceof ji)n.push(a.terminalType);else throw Error("non exhaustive match")}r++}return i.push({partialPath:n,suffixDef:Zs(e,r)}),i}function jne(e,t,n,i){var r="EXIT_NONE_TERMINAL",s=[r],o="EXIT_ALTERNATIVE",a=!1,l=t.length,c=l-i-1,u=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Li(d);){var h=d.pop();if(h===o){a&&Ene(d).idx<=c&&d.pop();continue}var p=h.def,m=h.idx,v=h.ruleStack,y=h.occurrenceStack;if(!Li(p)){var C=p[0];if(C===r){var S={idx:m,def:Zs(p),ruleStack:aR(v),occurrenceStack:aR(y)};d.push(S)}else if(C instanceof ji)if(m<l-1){var x=m+1,R=t[x];if(n(R,C.terminalType)){var S={idx:x,def:Zs(p),ruleStack:v,occurrenceStack:y};d.push(S)}}else if(m===l-1)u.push({nextTokenType:C.terminalType,nextTokenOccurrence:C.idx,ruleStack:v,occurrenceStack:y}),a=!0;else throw Error("non exhaustive match");else if(C instanceof la){var A=Ha(v);A.push(C.nonTerminalName);var T=Ha(y);T.push(C.idx);var S={idx:m,def:C.definition.concat(s,Zs(p)),ruleStack:A,occurrenceStack:T};d.push(S)}else if(C instanceof Lo){var L={idx:m,def:Zs(p),ruleStack:v,occurrenceStack:y};d.push(L),d.push(o);var O={idx:m,def:C.definition.concat(Zs(p)),ruleStack:v,occurrenceStack:y};d.push(O)}else if(C instanceof dc){var F=new Gr({definition:C.definition,idx:C.idx}),H=C.definition.concat([F],Zs(p)),S={idx:m,def:H,ruleStack:v,occurrenceStack:y};d.push(S)}else if(C instanceof hc){var W=new ji({terminalType:C.separator}),F=new Gr({definition:[W].concat(C.definition),idx:C.idx}),H=C.definition.concat([F],Zs(p)),S={idx:m,def:H,ruleStack:v,occurrenceStack:y};d.push(S)}else if(C instanceof wl){var L={idx:m,def:Zs(p),ruleStack:v,occurrenceStack:y};d.push(L),d.push(o);var W=new ji({terminalType:C.separator}),$=new Gr({definition:[W].concat(C.definition),idx:C.idx}),H=C.definition.concat([$],Zs(p)),O={idx:m,def:H,ruleStack:v,occurrenceStack:y};d.push(O)}else if(C instanceof Gr){var L={idx:m,def:Zs(p),ruleStack:v,occurrenceStack:y};d.push(L),d.push(o);var $=new Gr({definition:C.definition,idx:C.idx}),H=C.definition.concat([$],Zs(p)),O={idx:m,def:H,ruleStack:v,occurrenceStack:y};d.push(O)}else if(C instanceof Sl)for(var Z=C.definition.length-1;Z>=0;Z--){var ie=C.definition[Z],oe={idx:m,def:ie.definition.concat(Zs(p)),ruleStack:v,occurrenceStack:y};d.push(oe),d.push(o)}else if(C instanceof Oo)d.push({idx:m,def:C.definition.concat(Zs(p)),ruleStack:v,occurrenceStack:y});else if(C instanceof a0)d.push(QUe(C,m,v,y));else throw Error("non exhaustive match")}}return u}function QUe(e,t,n,i){var r=Ha(n);r.push(e.name);var s=Ha(i);return s.push(1),{idx:t,def:e.definition,ruleStack:r,occurrenceStack:s}}var $ne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ni;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(Ni||(Ni={}));function JUe(e){if(e instanceof Lo)return Ni.OPTION;if(e instanceof Gr)return Ni.REPETITION;if(e instanceof dc)return Ni.REPETITION_MANDATORY;if(e instanceof hc)return Ni.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof wl)return Ni.REPETITION_WITH_SEPARATOR;if(e instanceof Sl)return Ni.ALTERNATION;throw Error("non exhaustive match")}function e3e(e,t,n,i,r,s){var o=oU(e,t,n),a=qne(o)?cL:xO;return s(o,i,a,r)}function t3e(e,t,n,i,r,s){var o=aU(e,t,r,n),a=qne(o)?cL:xO;return s(o[0],a,i)}function n3e(e,t,n,i){var r=e.length,s=ec(e,function(l){return ec(l,function(c){return c.length===1})});if(t)return function(l){for(var c=Rt(l,function(x){return x.GATE}),u=0;u<r;u++){var d=e[u],h=d.length,p=c[u];if(!(p!==void 0&&p.call(this)===!1))e:for(var m=0;m<h;m++){for(var v=d[m],y=v.length,C=0;C<y;C++){var S=this.LA(C+1);if(n(S,v[C])===!1)continue e}return u}}};if(s&&!i){var o=Rt(e,function(l){return yl(l)}),a=so(o,function(l,c,u){return _t(c,function(d){Ut(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=u),_t(d.categoryMatches,function(h){Ut(l,h)||(l[h]=u)})}),l},[]);return function(){var l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(var l=0;l<r;l++){var c=e[l],u=c.length;e:for(var d=0;d<u;d++){for(var h=c[d],p=h.length,m=0;m<p;m++){var v=this.LA(m+1);if(n(v,h[m])===!1)continue e}return l}}}}function i3e(e,t,n){var i=ec(e,function(c){return c.length===1}),r=e.length;if(i&&!n){var s=yl(e);if(s.length===1&&Li(s[0].categoryMatches)){var o=s[0],a=o.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{var l=so(s,function(c,u,d){return c[u.tokenTypeIdx]=!0,_t(u.categoryMatches,function(h){c[h]=!0}),c},[]);return function(){var c=this.LA(1);return l[c.tokenTypeIdx]===!0}}}else return function(){e:for(var c=0;c<r;c++){for(var u=e[c],d=u.length,h=0;h<d;h++){var p=this.LA(h+1);if(t(p,u[h])===!1)continue e}return!0}return!1}}var r3e=function(e){$ne(t,e);function t(n,i,r){var s=e.call(this)||this;return s.topProd=n,s.targetOccurrence=i,s.targetProdType=r,s}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(n,i,r,s){return n.idx===this.targetOccurrence&&this.targetProdType===i?(this.restDef=r.concat(s),!0):!1},t.prototype.walkOption=function(n,i,r){this.checkIsTarget(n,Ni.OPTION,i,r)||e.prototype.walkOption.call(this,n,i,r)},t.prototype.walkAtLeastOne=function(n,i,r){this.checkIsTarget(n,Ni.REPETITION_MANDATORY,i,r)||e.prototype.walkOption.call(this,n,i,r)},t.prototype.walkAtLeastOneSep=function(n,i,r){this.checkIsTarget(n,Ni.REPETITION_MANDATORY_WITH_SEPARATOR,i,r)||e.prototype.walkOption.call(this,n,i,r)},t.prototype.walkMany=function(n,i,r){this.checkIsTarget(n,Ni.REPETITION,i,r)||e.prototype.walkOption.call(this,n,i,r)},t.prototype.walkManySep=function(n,i,r){this.checkIsTarget(n,Ni.REPETITION_WITH_SEPARATOR,i,r)||e.prototype.walkOption.call(this,n,i,r)},t}(EO),Yne=function(e){$ne(t,e);function t(n,i,r){var s=e.call(this)||this;return s.targetOccurrence=n,s.targetProdType=i,s.targetRef=r,s.result=[],s}return t.prototype.checkIsTarget=function(n,i){n.idx===this.targetOccurrence&&this.targetProdType===i&&(this.targetRef===void 0||n===this.targetRef)&&(this.result=n.definition)},t.prototype.visitOption=function(n){this.checkIsTarget(n,Ni.OPTION)},t.prototype.visitRepetition=function(n){this.checkIsTarget(n,Ni.REPETITION)},t.prototype.visitRepetitionMandatory=function(n){this.checkIsTarget(n,Ni.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.checkIsTarget(n,Ni.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(n){this.checkIsTarget(n,Ni.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(n){this.checkIsTarget(n,Ni.ALTERNATION)},t}(l0);function l8(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function l_(e){for(var t=[""],n=0;n<e.length;n++){for(var i=e[n],r=[],s=0;s<t.length;s++){var o=t[s];r.push(o+"_"+i.tokenTypeIdx);for(var a=0;a<i.categoryMatches.length;a++){var l="_"+i.categoryMatches[a];r.push(o+l)}}t=r}return t}function s3e(e,t,n){for(var i=0;i<e.length;i++)if(i!==n)for(var r=e[i],s=0;s<t.length;s++){var o=t[s];if(r[o]===!0)return!1}return!0}function Kne(e,t){for(var n=Rt(e,function(u){return PG([u],1)}),i=l8(n.length),r=Rt(n,function(u){var d={};return _t(u,function(h){var p=l_(h.partialPath);_t(p,function(m){d[m]=!0})}),d}),s=n,o=1;o<=t;o++){var a=s;s=l8(a.length);for(var l=function(u){for(var d=a[u],h=0;h<d.length;h++){var p=d[h].partialPath,m=d[h].suffixDef,v=l_(p),y=s3e(r,v,u);if(y||Li(m)||p.length===t){var C=i[u];if(FG(C,p)===!1){C.push(p);for(var S=0;S<v.length;S++){var x=v[S];r[u][x]=!0}}}else{var R=PG(m,o+1,p);s[u]=s[u].concat(R),_t(R,function(A){var T=l_(A.partialPath);_t(T,function(L){r[u][L]=!0})})}}},c=0;c<a.length;c++)l(c)}return i}function oU(e,t,n,i){var r=new Yne(e,Ni.ALTERNATION,i);return t.accept(r),Kne(r.result,n)}function aU(e,t,n,i){var r=new Yne(e,n);t.accept(r);var s=r.result,o=new r3e(t,e,n),a=o.startWalking(),l=new Oo({definition:s}),c=new Oo({definition:a});return Kne([l,c],i)}function FG(e,t){e:for(var n=0;n<e.length;n++){var i=e[n];if(i.length===t.length){for(var r=0;r<i.length;r++){var s=t[r],o=i[r],a=s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0;if(a===!1)continue e}return!0}}return!1}function o3e(e,t){return e.length<t.length&&ec(e,function(n,i){var r=t[i];return n===r||r.categoryMatchesMap[n.tokenTypeIdx]})}function qne(e){return ec(e,function(t){return ec(t,function(n){return ec(n,function(i){return Li(i.categoryMatches)})})})}var lU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();function a3e(e,t,n,i,r){var s=Rt(e,function(p){return l3e(p,i)}),o=Rt(e,function(p){return Xne(p,p,i)}),a=[],l=[],c=[];ec(o,Li)&&(a=Rt(e,function(p){return f3e(p,i)}),l=Rt(e,function(p){return p3e(p,t,i)}),c=v3e(e,t,i));var u=b3e(e,n,i),d=Rt(e,function(p){return m3e(p,i)}),h=Rt(e,function(p){return d3e(p,e,r,i)});return yl(s.concat(c,o,a,l,u,d,h))}function l3e(e,t){var n=new u3e;e.accept(n);var i=n.allProductions,r=VVe(i,c3e),s=yu(r,function(a){return a.length>1}),o=Rt(Fa(s),function(a){var l=au(a),c=t.buildDuplicateFoundError(e,a),u=ad(l),d={message:c,type:ca.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:u,occurrence:l.idx},h=Zne(l);return h&&(d.parameter=h),d});return o}function c3e(e){return ad(e)+"_#_"+e.idx+"_#_"+Zne(e)}function Zne(e){return e instanceof ji?e.terminalType.name:e instanceof la?e.nonTerminalName:""}var u3e=function(e){lU(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitNonTerminal=function(n){this.allProductions.push(n)},t.prototype.visitOption=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t.prototype.visitAlternation=function(n){this.allProductions.push(n)},t.prototype.visitTerminal=function(n){this.allProductions.push(n)},t}(l0);function d3e(e,t,n,i){var r=[],s=so(t,function(a,l){return l.name===e.name?a+1:a},0);if(s>1){var o=i.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});r.push({message:o,type:ca.DUPLICATE_RULE_NAME,ruleName:e.name})}return r}function h3e(e,t,n){var i=[],r;return Cs(t,e)||(r="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",i.push({message:r,type:ca.INVALID_RULE_OVERRIDE,ruleName:e})),i}function Xne(e,t,n,i){i===void 0&&(i=[]);var r=[],s=_I(t.definition);if(Li(s))return[];var o=e.name,a=Cs(s,e);a&&r.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:i}),type:ca.LEFT_RECURSION,ruleName:o});var l=wO(s,i.concat([e])),c=Rt(l,function(u){var d=Ha(i);return d.push(u),Xne(e,u,n,d)});return r.concat(yl(c))}function _I(e){var t=[];if(Li(e))return t;var n=au(e);if(n instanceof la)t.push(n.referencedRule);else if(n instanceof Oo||n instanceof Lo||n instanceof dc||n instanceof hc||n instanceof wl||n instanceof Gr)t=t.concat(_I(n.definition));else if(n instanceof Sl)t=yl(Rt(n.definition,function(o){return _I(o.definition)}));else if(!(n instanceof ji))throw Error("non exhaustive match");var i=uL(n),r=e.length>1;if(i&&r){var s=Zs(e);return t.concat(_I(s))}else return t}var cU=function(e){lU(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.alternations=[],n}return t.prototype.visitAlternation=function(n){this.alternations.push(n)},t}(l0);function f3e(e,t){var n=new cU;e.accept(n);var i=n.alternations,r=so(i,function(s,o){var a=aR(o.definition),l=Rt(a,function(c,u){var d=jne([c],[],null,1);return Li(d)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:u}),type:ca.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:u+1}:null});return s.concat(L1(l))},[]);return r}function p3e(e,t,n){var i=new cU;e.accept(i);var r=i.alternations;r=hS(r,function(o){return o.ignoreAmbiguities===!0});var s=so(r,function(o,a){var l=a.idx,c=a.maxLookahead||t,u=oU(l,e,c,a),d=y3e(u,a,e,n),h=C3e(u,a,e,n);return o.concat(d,h)},[]);return s}var g3e=function(e){lU(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t}(l0);function m3e(e,t){var n=new cU;e.accept(n);var i=n.alternations,r=so(i,function(s,o){return o.definition.length>255&&s.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:ca.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}),s},[]);return r}function v3e(e,t,n){var i=[];return _t(e,function(r){var s=new g3e;r.accept(s);var o=s.allProductions;_t(o,function(a){var l=JUe(a),c=a.maxLookahead||t,u=a.idx,d=aU(u,r,l,c),h=d[0];if(Li(yl(h))){var p=n.buildEmptyRepetitionError({topLevelRule:r,repetition:a});i.push({message:p,type:ca.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),i}function y3e(e,t,n,i){var r=[],s=so(e,function(a,l,c){return t.definition[c].ignoreAmbiguities===!0||_t(l,function(u){var d=[c];_t(e,function(h,p){c!==p&&FG(h,u)&&t.definition[p].ignoreAmbiguities!==!0&&d.push(p)}),d.length>1&&!FG(r,u)&&(r.push(u),a.push({alts:d,path:u}))}),a},[]),o=Rt(s,function(a){var l=Rt(a.alts,function(u){return u+1}),c=i.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:l,prefixPath:a.path});return{message:c,type:ca.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[a.alts]}});return o}function C3e(e,t,n,i){var r=[],s=so(e,function(o,a,l){var c=Rt(a,function(u){return{idx:l,path:u}});return o.concat(c)},[]);return _t(s,function(o){var a=t.definition[o.idx];if(a.ignoreAmbiguities!==!0){var l=o.idx,c=o.path,u=GVe(s,function(h){return t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&o3e(h.path,c)}),d=Rt(u,function(h){var p=[h.idx+1,l+1],m=t.idx===0?"":t.idx,v=i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:p,prefixPath:h.path});return{message:v,type:ca.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:m,alternatives:p}});r=r.concat(d)}}),r}function b3e(e,t,n){var i=[],r=Rt(t,function(s){return s.name});return _t(e,function(s){var o=s.name;if(Cs(r,o)){var a=n.buildNamespaceConflictError(s);i.push({message:a,type:ca.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),i}function Qne(e){e=nU(e,{errMsgProvider:Wne});var t={};return _t(e.rules,function(n){t[n.name]=n}),$Ue(t,e.errMsgProvider)}function Jne(e){return e=nU(e,{errMsgProvider:RO}),a3e(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function w3e(e){_t(e.rules,function(t){var n=new Vne;t.accept(n),_t(n.dslMethods,function(i){_t(i,function(r,s){r.idx=s+1})})})}var F1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),eie="MismatchedTokenException",tie="NoViableAltException",nie="EarlyExitException",iie="NotAllInputParsedException",rie=[eie,tie,nie,iie];Object.freeze(rie);function lR(e){return Cs(rie,e.name)}var TO=function(e){F1(t,e);function t(n,i){var r=this.constructor,s=e.call(this,n)||this;return s.token=i,s.resyncedTokens=[],Object.setPrototypeOf(s,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,s.constructor),s}return t}(Error),uU=function(e){F1(t,e);function t(n,i,r){var s=e.call(this,n,i)||this;return s.previousToken=r,s.name=eie,s}return t}(TO),sie=function(e){F1(t,e);function t(n,i,r){var s=e.call(this,n,i)||this;return s.previousToken=r,s.name=tie,s}return t}(TO),oie=function(e){F1(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.name=iie,r}return t}(TO),aie=function(e){F1(t,e);function t(n,i,r){var s=e.call(this,n,i)||this;return s.previousToken=r,s.name=nie,s}return t}(TO),c_={},lie="InRuleRecoveryException";function cie(e){this.name=lie,this.message=e}cie.prototype=Error.prototype;var S3e=function(){function e(){}return e.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Ut(t,"recoveryEnabled")?t.recoveryEnabled:Cf.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=x3e)},e.prototype.getTokenToInsert=function(t){var n=MO(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n},e.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},e.prototype.tryInRepetitionRecovery=function(t,n,i,r){for(var s=this,o=this.findReSyncTokenType(),a=this.exportLexerState(),l=[],c=!1,u=this.LA(1),d=this.LA(1),h=function(){var p=s.LA(0),m=s.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:u,previous:p,ruleName:s.getCurrRuleFullName()}),v=new uU(m,u,s.LA(0));v.resyncedTokens=aR(l),s.SAVE_ERROR(v)};!c;)if(this.tokenMatcher(d,r)){h();return}else if(i.call(this)){h(),t.apply(this,n);return}else this.tokenMatcher(d,o)?c=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,l));this.importLexerState(a)},e.prototype.shouldInRepetitionRecoveryBeTried=function(t,n,i){return!(i===!1||t===void 0||n===void 0||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,n)))},e.prototype.getFollowsForInRuleRecovery=function(t,n){var i=this.getCurrentGrammarPath(t,n),r=this.getNextPossibleTokenTypes(i);return r},e.prototype.tryInRuleRecovery=function(t,n){if(this.canRecoverWithSingleTokenInsertion(t,n)){var i=this.getTokenToInsert(t);return i}if(this.canRecoverWithSingleTokenDeletion(t)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new cie("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(t,n){return this.canRecoverWithSingleTokenInsertion(t,n)||this.canRecoverWithSingleTokenDeletion(t)},e.prototype.canRecoverWithSingleTokenInsertion=function(t,n){var i=this;if(!this.canTokenTypeBeInsertedInRecovery(t)||Li(n))return!1;var r=this.LA(1),s=xw(n,function(o){return i.tokenMatcher(r,o)})!==void 0;return s},e.prototype.canRecoverWithSingleTokenDeletion=function(t){var n=this.tokenMatcher(this.LA(2),t);return n},e.prototype.isInCurrentRuleReSyncSet=function(t){var n=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(n);return Cs(i,t)},e.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),n=this.LA(1),i=2;;){var r=n.tokenType;if(Cs(t,r))return r;n=this.LA(i),i++}},e.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return c_;var t=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(i)}},e.prototype.buildFullFollowKeyStack=function(){var t=this,n=this.RULE_STACK,i=this.RULE_OCCURRENCE_STACK;return Rt(n,function(r,s){return s===0?c_:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:i[s],inRule:t.shortRuleNameToFullName(n[s-1])}})},e.prototype.flattenFollowSet=function(){var t=this,n=Rt(this.buildFullFollowKeyStack(),function(i){return t.getFollowSetFromFollowKey(i)});return yl(n)},e.prototype.getFollowSetFromFollowKey=function(t){if(t===c_)return[Ng];var n=t.ruleName+t.idxInCallingRule+Une+t.inRule;return this.resyncFollows[n]},e.prototype.addToResyncTokens=function(t,n){return this.tokenMatcher(t,Ng)||n.push(t),n},e.prototype.reSyncTo=function(t){for(var n=[],i=this.LA(1);this.tokenMatcher(i,t)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,n);return aR(n)},e.prototype.attemptInRepetitionRecovery=function(t,n,i,r,s,o,a){},e.prototype.getCurrentGrammarPath=function(t,n){var i=this.getHumanReadableRuleStack(),r=Ha(this.RULE_OCCURRENCE_STACK),s={ruleStack:i,occurrenceStack:r,lastTok:t,lastTokOccurrence:n};return s},e.prototype.getHumanReadableRuleStack=function(){var t=this;return Rt(this.RULE_STACK,function(n){return t.shortRuleNameToFullName(n)})},e}();function x3e(e,t,n,i,r,s,o){var a=this.getKeyForAutomaticLookahead(i,r),l=this.firstAfterRepMap[a];if(l===void 0){var c=this.getCurrRuleFullName(),u=this.getGAstProductions()[c],d=new s(u,r);l=d.startWalking(),this.firstAfterRepMap[a]=l}var h=l.token,p=l.occurrence,m=l.isEndOfRule;this.RULE_STACK.length===1&&m&&h===void 0&&(h=Ng,p=1),this.shouldInRepetitionRecoveryBeTried(h,p,o)&&this.tryInRepetitionRecovery(e,t,n,h)}var M3e=4,Xg=8,uie=1<<Xg,die=2<<Xg,_G=3<<Xg,BG=4<<Xg,GG=5<<Xg,BI=6<<Xg;function u_(e,t,n){return n|t|e}var E3e=function(){function e(){}return e.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Ut(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Cf.dynamicTokensEnabled,this.maxLookahead=Ut(t,"maxLookahead")?t.maxLookahead:Cf.maxLookahead,this.lookAheadFuncsCache=Wj()?new Map:[],Wj()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(t){var n=this;_t(t,function(i){n.TRACE_INIT(i.name+" Rule Lookahead",function(){var r=_Ue(i),s=r.alternation,o=r.repetition,a=r.option,l=r.repetitionMandatory,c=r.repetitionMandatoryWithSeparator,u=r.repetitionWithSeparator;_t(s,function(d){var h=d.idx===0?"":d.idx;n.TRACE_INIT(""+ad(d)+h,function(){var p=e3e(d.idx,i,d.maxLookahead||n.maxLookahead,d.hasPredicates,n.dynamicTokensEnabled,n.lookAheadBuilderForAlternatives),m=u_(n.fullRuleNameToShort[i.name],uie,d.idx);n.setLaFuncCache(m,p)})}),_t(o,function(d){n.computeLookaheadFunc(i,d.idx,_G,Ni.REPETITION,d.maxLookahead,ad(d))}),_t(a,function(d){n.computeLookaheadFunc(i,d.idx,die,Ni.OPTION,d.maxLookahead,ad(d))}),_t(l,function(d){n.computeLookaheadFunc(i,d.idx,BG,Ni.REPETITION_MANDATORY,d.maxLookahead,ad(d))}),_t(c,function(d){n.computeLookaheadFunc(i,d.idx,BI,Ni.REPETITION_MANDATORY_WITH_SEPARATOR,d.maxLookahead,ad(d))}),_t(u,function(d){n.computeLookaheadFunc(i,d.idx,GG,Ni.REPETITION_WITH_SEPARATOR,d.maxLookahead,ad(d))})})})},e.prototype.computeLookaheadFunc=function(t,n,i,r,s,o){var a=this;this.TRACE_INIT(""+o+(n===0?"":n),function(){var l=t3e(n,t,s||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),c=u_(a.fullRuleNameToShort[t.name],i,n);a.setLaFuncCache(c,l)})},e.prototype.lookAheadBuilderForOptional=function(t,n,i){return i3e(t,n,i)},e.prototype.lookAheadBuilderForAlternatives=function(t,n,i,r){return n3e(t,n,i,r)},e.prototype.getKeyForAutomaticLookahead=function(t,n){var i=this.getLastExplicitRuleShortName();return u_(i,t,n)},e.prototype.getLaFuncFromCache=function(t){},e.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},e.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},e.prototype.setLaFuncCache=function(t,n){},e.prototype.setLaFuncCacheUsingMap=function(t,n){this.lookAheadFuncsCache.set(t,n)},e.prototype.setLaFuncUsingObj=function(t,n){this.lookAheadFuncsCache[t]=n},e}();function c8(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function u8(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function R3e(e,t,n){e.children[n]===void 0?e.children[n]=[t]:e.children[n].push(t)}function A3e(e,t,n){e.children[t]===void 0?e.children[t]=[n]:e.children[t].push(n)}function T3e(e){return DO(e.constructor)}var d8="name";function DO(e){var t=e.name;return t||"anonymous"}function hie(e,t){var n=Object.getOwnPropertyDescriptor(e,d8);return vf(n)||n.configurable?(Object.defineProperty(e,d8,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0):!1}function D3e(e,t){for(var n=ou(e),i=n.length,r=0;r<i;r++)for(var s=n[r],o=e[s],a=o.length,l=0;l<a;l++){var c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,t)}}function I3e(e,t){var n=function(){};hie(n,e+"BaseSemantics");var i={visit:function(r,s){if(Id(r)&&(r=r[0]),!vf(r))return this[r.name](r.children,s)},validateVisitor:function(){var r=L3e(this,t);if(!Li(r)){var s=Rt(r,function(o){return o.msg});throw Error("Errors Detected in CST Visitor <"+DO(this.constructor)+`>:
	`+(""+s.join(`

`).replace(/\n/g,`
	`)))}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=t,n}function N3e(e,t,n){var i=function(){};hie(i,e+"BaseSemanticsWithDefaults");var r=Object.create(n.prototype);return _t(t,function(s){r[s]=D3e}),i.prototype=r,i.prototype.constructor=i,i}var dL;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(dL||(dL={}));function L3e(e,t){var n=k3e(e,t),i=P3e(e,t);return n.concat(i)}function k3e(e,t){var n=Rt(t,function(i){if(!Zg(e[i]))return{msg:"Missing visitor method: <"+i+"> on "+DO(e.constructor)+" CST Visitor.",type:dL.MISSING_METHOD,methodName:i}});return L1(n)}var O3e=["constructor","visit","validateVisitor"];function P3e(e,t){var n=[];for(var i in e)Zg(e[i])&&!Cs(O3e,i)&&!Cs(t,i)&&n.push({msg:"Redundant visitor method: <"+i+"> on "+DO(e.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`,type:dL.REDUNDANT_METHOD,methodName:i});return n}var F3e=function(){function e(){}return e.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Ut(t,"nodeLocationTracking")?t.nodeLocationTracking:Cf.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ts,this.cstFinallyStateUpdate=Ts,this.cstPostTerminal=Ts,this.cstPostNonTerminal=Ts,this.cstPostRule=Ts;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=u8,this.setNodeLocationFromNode=u8,this.cstPostRule=Ts,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ts,this.setNodeLocationFromNode=Ts,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=c8,this.setNodeLocationFromNode=c8,this.cstPostRule=Ts,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ts,this.setNodeLocationFromNode=Ts,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ts,this.setNodeLocationFromNode=Ts,this.cstPostRule=Ts,this.setInitialNodeLocation=Ts;else throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"')},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(t){var n=this.LA(1);t.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(t,n){var i={name:t,children:{}};this.setInitialNodeLocation(i),this.CST_STACK.push(i)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(t){var n=this.LA(0),i=t.location;i.startOffset<=n.startOffset?(i.endOffset=n.endOffset,i.endLine=n.endLine,i.endColumn=n.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(t){var n=this.LA(0),i=t.location;i.startOffset<=n.startOffset?i.endOffset=n.endOffset:i.startOffset=NaN},e.prototype.cstPostTerminal=function(t,n){var i=this.CST_STACK[this.CST_STACK.length-1];R3e(i,n,t),this.setNodeLocationFromToken(i.location,n)},e.prototype.cstPostNonTerminal=function(t,n){var i=this.CST_STACK[this.CST_STACK.length-1];A3e(i,n,t),this.setNodeLocationFromNode(i.location,t.location)},e.prototype.getBaseCstVisitorConstructor=function(){if(vf(this.baseCstVisitorConstructor)){var t=I3e(this.className,ou(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(vf(this.baseCstVisitorWithDefaultsConstructor)){var t=N3e(this.className,ou(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},e}(),_3e=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):fL},e.prototype.LA=function(t){var n=this.currIdx+t;return n<0||this.tokVectorLength<=n?fL:this.tokVector[n]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(t){this.currIdx=t},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),B3e=function(){function e(){}return e.prototype.ACTION=function(t){return t.call(this)},e.prototype.consume=function(t,n,i){return this.consumeInternal(n,t,i)},e.prototype.subrule=function(t,n,i){return this.subruleInternal(n,t,i)},e.prototype.option=function(t,n){return this.optionInternal(n,t)},e.prototype.or=function(t,n){return this.orInternal(n,t)},e.prototype.many=function(t,n){return this.manyInternal(t,n)},e.prototype.atLeastOne=function(t,n){return this.atLeastOneInternal(t,n)},e.prototype.CONSUME=function(t,n){return this.consumeInternal(t,0,n)},e.prototype.CONSUME1=function(t,n){return this.consumeInternal(t,1,n)},e.prototype.CONSUME2=function(t,n){return this.consumeInternal(t,2,n)},e.prototype.CONSUME3=function(t,n){return this.consumeInternal(t,3,n)},e.prototype.CONSUME4=function(t,n){return this.consumeInternal(t,4,n)},e.prototype.CONSUME5=function(t,n){return this.consumeInternal(t,5,n)},e.prototype.CONSUME6=function(t,n){return this.consumeInternal(t,6,n)},e.prototype.CONSUME7=function(t,n){return this.consumeInternal(t,7,n)},e.prototype.CONSUME8=function(t,n){return this.consumeInternal(t,8,n)},e.prototype.CONSUME9=function(t,n){return this.consumeInternal(t,9,n)},e.prototype.SUBRULE=function(t,n){return this.subruleInternal(t,0,n)},e.prototype.SUBRULE1=function(t,n){return this.subruleInternal(t,1,n)},e.prototype.SUBRULE2=function(t,n){return this.subruleInternal(t,2,n)},e.prototype.SUBRULE3=function(t,n){return this.subruleInternal(t,3,n)},e.prototype.SUBRULE4=function(t,n){return this.subruleInternal(t,4,n)},e.prototype.SUBRULE5=function(t,n){return this.subruleInternal(t,5,n)},e.prototype.SUBRULE6=function(t,n){return this.subruleInternal(t,6,n)},e.prototype.SUBRULE7=function(t,n){return this.subruleInternal(t,7,n)},e.prototype.SUBRULE8=function(t,n){return this.subruleInternal(t,8,n)},e.prototype.SUBRULE9=function(t,n){return this.subruleInternal(t,9,n)},e.prototype.OPTION=function(t){return this.optionInternal(t,0)},e.prototype.OPTION1=function(t){return this.optionInternal(t,1)},e.prototype.OPTION2=function(t){return this.optionInternal(t,2)},e.prototype.OPTION3=function(t){return this.optionInternal(t,3)},e.prototype.OPTION4=function(t){return this.optionInternal(t,4)},e.prototype.OPTION5=function(t){return this.optionInternal(t,5)},e.prototype.OPTION6=function(t){return this.optionInternal(t,6)},e.prototype.OPTION7=function(t){return this.optionInternal(t,7)},e.prototype.OPTION8=function(t){return this.optionInternal(t,8)},e.prototype.OPTION9=function(t){return this.optionInternal(t,9)},e.prototype.OR=function(t){return this.orInternal(t,0)},e.prototype.OR1=function(t){return this.orInternal(t,1)},e.prototype.OR2=function(t){return this.orInternal(t,2)},e.prototype.OR3=function(t){return this.orInternal(t,3)},e.prototype.OR4=function(t){return this.orInternal(t,4)},e.prototype.OR5=function(t){return this.orInternal(t,5)},e.prototype.OR6=function(t){return this.orInternal(t,6)},e.prototype.OR7=function(t){return this.orInternal(t,7)},e.prototype.OR8=function(t){return this.orInternal(t,8)},e.prototype.OR9=function(t){return this.orInternal(t,9)},e.prototype.MANY=function(t){this.manyInternal(0,t)},e.prototype.MANY1=function(t){this.manyInternal(1,t)},e.prototype.MANY2=function(t){this.manyInternal(2,t)},e.prototype.MANY3=function(t){this.manyInternal(3,t)},e.prototype.MANY4=function(t){this.manyInternal(4,t)},e.prototype.MANY5=function(t){this.manyInternal(5,t)},e.prototype.MANY6=function(t){this.manyInternal(6,t)},e.prototype.MANY7=function(t){this.manyInternal(7,t)},e.prototype.MANY8=function(t){this.manyInternal(8,t)},e.prototype.MANY9=function(t){this.manyInternal(9,t)},e.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},e.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},e.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},e.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},e.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},e.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},e.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},e.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},e.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},e.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},e.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},e.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},e.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},e.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},e.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},e.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},e.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},e.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},e.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},e.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},e.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},e.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},e.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},e.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},e.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},e.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},e.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},e.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},e.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},e.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},e.prototype.RULE=function(t,n,i){if(i===void 0&&(i=pL),Cs(this.definedRulesNames,t)){var r=RO.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),s={message:r,type:ca.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(s)}this.definedRulesNames.push(t);var o=this.defineRule(t,n,i);return this[t]=o,o},e.prototype.OVERRIDE_RULE=function(t,n,i){i===void 0&&(i=pL);var r=[];r=r.concat(h3e(t,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,r);var s=this.defineRule(t,n,i);return this[t]=s,s},e.prototype.BACKTRACK=function(t,n){return function(){this.isBackTrackingStack.push(1);var i=this.saveRecogState();try{return t.apply(this,n),!0}catch(r){if(lR(r))return!1;throw r}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return Hne(Fa(this.gastProductionsCache))},e}(),G3e=function(){function e(){}return e.prototype.initRecognizerEngine=function(t,n){if(this.className=T3e(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=cL,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Ut(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Id(t)){if(Li(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Id(t))this.tokensMap=so(t,function(o,a){return o[a.name]=a,o},{});else if(Ut(t,"modes")&&ec(yl(Fa(t.modes)),DUe)){var i=yl(Fa(t.modes)),r=eU(i);this.tokensMap=so(r,function(o,a){return o[a.name]=a,o},{})}else if(tU(t))this.tokensMap=N1(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ng;var s=ec(Fa(t),function(o){return Li(o.categoryMatches)});this.tokenMatcher=s?cL:xO,O1(Fa(this.tokensMap))},e.prototype.defineRule=function(t,n,i){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var r=Ut(i,"resyncEnabled")?i.resyncEnabled:pL.resyncEnabled,s=Ut(i,"recoveryValueFunc")?i.recoveryValueFunc:pL.recoveryValueFunc,o=this.ruleShortNameIdx<<M3e+Xg;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=t,this.fullRuleNameToShort[t]=o;function a(u){try{if(this.outputCst===!0){n.apply(this,u);var d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}else return n.apply(this,u)}catch(h){return this.invokeRuleCatch(h,r,s)}finally{this.ruleFinallyStateUpdate()}}var l;l=function(u,d){return u===void 0&&(u=0),this.ruleInvocationStateUpdate(o,t,u),a.call(this,d)};var c="ruleName";return l[c]=t,l.originalGrammarAction=n,l},e.prototype.invokeRuleCatch=function(t,n,i){var r=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(lR(t)){var o=t;if(s){var a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return i();else{if(this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(r)return this.moveToTerminatedState(),i();throw o}}else throw t},e.prototype.optionInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(die,n);return this.optionInternalLogic(t,n,i)},e.prototype.optionInternalLogic=function(t,n,i){var r=this,s=this.getLaFuncFromCache(i),o,a;if(t.DEF!==void 0){if(o=t.DEF,a=t.GATE,a!==void 0){var l=s;s=function(){return a.call(r)&&l.call(r)}}}else o=t;if(s.call(this)===!0)return o.call(this)},e.prototype.atLeastOneInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(BG,t);return this.atLeastOneInternalLogic(t,n,i)},e.prototype.atLeastOneInternalLogic=function(t,n,i){var r=this,s=this.getLaFuncFromCache(i),o,a;if(n.DEF!==void 0){if(o=n.DEF,a=n.GATE,a!==void 0){var l=s;s=function(){return a.call(r)&&l.call(r)}}}else o=n;if(s.call(this)===!0)for(var c=this.doSingleRepetition(o);s.call(this)===!0&&c===!0;)c=this.doSingleRepetition(o);else throw this.raiseEarlyExitException(t,Ni.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],s,BG,t,XUe)},e.prototype.atLeastOneSepFirstInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(BI,t);this.atLeastOneSepFirstInternalLogic(t,n,i)},e.prototype.atLeastOneSepFirstInternalLogic=function(t,n,i){var r=this,s=n.DEF,o=n.SEP,a=this.getLaFuncFromCache(i);if(a.call(this)===!0){s.call(this);for(var l=function(){return r.tokenMatcher(r.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,l,s,a8],l,BI,t,a8)}else throw this.raiseEarlyExitException(t,Ni.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)},e.prototype.manyInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(_G,t);return this.manyInternalLogic(t,n,i)},e.prototype.manyInternalLogic=function(t,n,i){var r=this,s=this.getLaFuncFromCache(i),o,a;if(n.DEF!==void 0){if(o=n.DEF,a=n.GATE,a!==void 0){var l=s;s=function(){return a.call(r)&&l.call(r)}}}else o=n;for(var c=!0;s.call(this)===!0&&c===!0;)c=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,n],s,_G,t,ZUe,c)},e.prototype.manySepFirstInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(GG,t);this.manySepFirstInternalLogic(t,n,i)},e.prototype.manySepFirstInternalLogic=function(t,n,i){var r=this,s=n.DEF,o=n.SEP,a=this.getLaFuncFromCache(i);if(a.call(this)===!0){s.call(this);for(var l=function(){return r.tokenMatcher(r.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,l,s,o8],l,GG,t,o8)}},e.prototype.repetitionSepSecondInternal=function(t,n,i,r,s){for(;i();)this.CONSUME(n),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,i,r,s],i,BI,t,s)},e.prototype.doSingleRepetition=function(t){var n=this.getLexerPosition();t.call(this);var i=this.getLexerPosition();return i>n},e.prototype.orInternal=function(t,n){var i=this.getKeyForAutomaticLookahead(uie,n),r=Id(t)?t:t.DEF,s=this.getLaFuncFromCache(i),o=s.call(this,r);if(o!==void 0){var a=r[o];return a.ALT.call(this)}this.raiseNoAltException(n,t.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var t=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new oie(n,t))}},e.prototype.subruleInternal=function(t,n,i){var r;try{var s=i!==void 0?i.ARGS:void 0;return r=t.call(this,n,s),this.cstPostNonTerminal(r,i!==void 0&&i.LABEL!==void 0?i.LABEL:t.ruleName),r}catch(o){this.subruleInternalError(o,i,t.ruleName)}},e.prototype.subruleInternalError=function(t,n,i){throw lR(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:i),delete t.partialCstResult),t},e.prototype.consumeInternal=function(t,n,i){var r;try{var s=this.LA(1);this.tokenMatcher(s,t)===!0?(this.consumeToken(),r=s):this.consumeInternalError(t,s,i)}catch(o){r=this.consumeInternalRecovery(t,n,o)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:t.name,r),r},e.prototype.consumeInternalError=function(t,n,i){var r,s=this.LA(0);throw i!==void 0&&i.ERR_MSG?r=i.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new uU(r,n,s))},e.prototype.consumeInternalRecovery=function(t,n,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){var r=this.getFollowsForInRuleRecovery(t,n);try{return this.tryInRuleRecovery(t,r)}catch(s){throw s.name===lie?i:s}}else throw i},e.prototype.saveRecogState=function(){var t=this.errors,n=Ha(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(t,n,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(n,t)},e.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},e.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},e.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Ng)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),z3e=function(){function e(){}return e.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Ut(t,"errorMessageProvider")?t.errorMessageProvider:Cf.errorMessageProvider},e.prototype.SAVE_ERROR=function(t){if(lR(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Ha(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return Ha(this._errors)},set:function(t){this._errors=t},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(t,n,i){for(var r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],o=aU(t,s,n,this.maxLookahead),a=o[0],l=[],c=1;c<=this.maxLookahead;c++)l.push(this.LA(c));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:r});throw this.SAVE_ERROR(new aie(u,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(t,n){for(var i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=oU(t,r,this.maxLookahead),o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var l=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:l,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new sie(c,this.LA(1),l))},e}(),H3e=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(t,n){var i=this.gastProductionsCache[t];if(vf(i))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return jne([i],n,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(t){var n=au(t.ruleStack),i=this.getGAstProductions(),r=i[n],s=new qUe(r,t).startWalking();return s},e}(),IO={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(IO);var h8=!0,f8=Math.pow(2,Xg)-1,fie=rU({name:"RECORDING_PHASE_TOKEN",pattern:Jc.NA});O1([fie]);var pie=MO(fie,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(pie);var V3e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},U3e=function(){function e(){}return e.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var n=function(r){var s=r>0?r:"";t["CONSUME"+s]=function(o,a){return this.consumeInternalRecord(o,r,a)},t["SUBRULE"+s]=function(o,a){return this.subruleInternalRecord(o,r,a)},t["OPTION"+s]=function(o){return this.optionInternalRecord(o,r)},t["OR"+s]=function(o){return this.orInternalRecord(o,r)},t["MANY"+s]=function(o){this.manyInternalRecord(r,o)},t["MANY_SEP"+s]=function(o){this.manySepFirstInternalRecord(r,o)},t["AT_LEAST_ONE"+s]=function(o){this.atLeastOneInternalRecord(r,o)},t["AT_LEAST_ONE_SEP"+s]=function(o){this.atLeastOneSepFirstInternalRecord(r,o)}},i=0;i<10;i++)n(i);t.consume=function(r,s,o){return this.consumeInternalRecord(s,r,o)},t.subrule=function(r,s,o){return this.subruleInternalRecord(s,r,o)},t.option=function(r,s){return this.optionInternalRecord(s,r)},t.or=function(r,s){return this.orInternalRecord(s,r)},t.many=function(r,s){this.manyInternalRecord(r,s)},t.atLeastOne=function(r,s){this.atLeastOneInternalRecord(r,s)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD})},e.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var n=0;n<10;n++){var i=n>0?n:"";delete t["CONSUME"+i],delete t["SUBRULE"+i],delete t["OPTION"+i],delete t["OR"+i],delete t["MANY"+i],delete t["MANY_SEP"+i],delete t["AT_LEAST_ONE"+i],delete t["AT_LEAST_ONE_SEP"+i]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})},e.prototype.ACTION_RECORD=function(t){},e.prototype.BACKTRACK_RECORD=function(t,n){return function(){return!0}},e.prototype.LA_RECORD=function(t){return fL},e.prototype.topLevelRuleRecord=function(t,n){try{var i=new a0({definition:[],name:t});return i.name=t,this.recordingProdStack.push(i),n.call(this),this.recordingProdStack.pop(),i}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}},e.prototype.optionInternalRecord=function(t,n){return EM.call(this,Lo,t,n)},e.prototype.atLeastOneInternalRecord=function(t,n){EM.call(this,dc,n,t)},e.prototype.atLeastOneSepFirstInternalRecord=function(t,n){EM.call(this,hc,n,t,h8)},e.prototype.manyInternalRecord=function(t,n){EM.call(this,Gr,n,t)},e.prototype.manySepFirstInternalRecord=function(t,n){EM.call(this,wl,n,t,h8)},e.prototype.orInternalRecord=function(t,n){return W3e.call(this,t,n)},e.prototype.subruleInternalRecord=function(t,n,i){if(hL(n),!t||Ut(t,"ruleName")===!1){var r=new Error("<SUBRULE"+p8(n)+"> argument is invalid"+(" expecting a Parser method reference but got: <"+JSON.stringify(t)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var s=aL(this.recordingProdStack),o=t.ruleName,a=new la({idx:n,nonTerminalName:o,referencedRule:void 0});return s.definition.push(a),this.outputCst?V3e:IO},e.prototype.consumeInternalRecord=function(t,n,i){if(hL(n),!Bne(t)){var r=new Error("<CONSUME"+p8(n)+"> argument is invalid"+(" expecting a TokenType reference but got: <"+JSON.stringify(t)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var s=aL(this.recordingProdStack),o=new ji({idx:n,terminalType:t});return s.definition.push(o),pie},e}();function EM(e,t,n,i){i===void 0&&(i=!1),hL(n);var r=aL(this.recordingProdStack),s=Zg(t)?t:t.DEF,o=new e({definition:[],idx:n});return i&&(o.separator=t.SEP),Ut(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),IO}function W3e(e,t){var n=this;hL(t);var i=aL(this.recordingProdStack),r=Id(e)===!1,s=r===!1?e:e.DEF,o=new Sl({definition:[],idx:t,ignoreAmbiguities:r&&e.IGNORE_AMBIGUITIES===!0});Ut(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);var a=Rne(s,function(l){return Zg(l.GATE)});return o.hasPredicates=a,i.definition.push(o),_t(s,function(l){var c=new Oo({definition:[]});o.definition.push(c),Ut(l,"IGNORE_AMBIGUITIES")?c.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:Ut(l,"GATE")&&(c.ignoreAmbiguities=!0),n.recordingProdStack.push(c),l.ALT.call(n),n.recordingProdStack.pop()}),IO}function p8(e){return e===0?"":""+e}function hL(e){if(e<0||e>f8){var t=new Error("Invalid DSL Method idx value: <"+e+`>
	`+("Idx value must be a none negative value smaller than "+(f8+1)));throw t.KNOWN_RECORDER_ERROR=!0,t}}var j3e=function(){function e(){}return e.prototype.initPerformanceTracer=function(t){if(Ut(t,"traceInitPerf")){var n=t.traceInitPerf,i=typeof n=="number";this.traceInitMaxIdent=i?n:1/0,this.traceInitPerf=i?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=Cf.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(i+"--> <"+t+">");var r=Dne(n),s=r.time,o=r.value,a=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(i+"<-- <"+t+"> time: "+s+"ms"),this.traceInitIndent--,o}else return n()},e}(),gie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),fL=MO(Ng,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(fL);var Cf=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:sU,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),pL=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),ca;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"})(ca||(ca={}));function $3e(e){return e===void 0&&(e=void 0),function(){return e}}var dU=function(){function e(t,n){this.definitionErrors=[],this.selfAnalysisDone=!1;var i=this;if(i.initErrorHandler(n),i.initLexerAdapter(),i.initLooksAhead(n),i.initRecognizerEngine(t,n),i.initRecoverable(n),i.initTreeBuilder(n),i.initContentAssist(),i.initGastRecorder(n),i.initPerformanceTracer(n),Ut(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Ut(n,"skipValidations")?n.skipValidations:Cf.skipValidations}return e.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",function(){var n;t.selfAnalysisDone=!0;var i=t.className;t.TRACE_INIT("toFastProps",function(){Tne(t)}),t.TRACE_INIT("Grammar Recording",function(){try{t.enableRecording(),_t(t.definedRulesNames,function(s){var o=t[s],a=o.originalGrammarAction,l=void 0;t.TRACE_INIT(s+" Rule",function(){l=t.topLevelRuleRecord(s,a)}),t.gastProductionsCache[s]=l})}finally{t.disableRecording()}});var r=[];if(t.TRACE_INIT("Grammar Resolving",function(){r=Qne({rules:Fa(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,r)}),t.TRACE_INIT("Grammar Validations",function(){if(Li(r)&&t.skipValidations===!1){var s=Jne({rules:Fa(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:Fa(t.tokensMap),errMsgProvider:RO,grammarName:i});t.definitionErrors.push.apply(t.definitionErrors,s)}}),Li(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",function(){var s=UUe(Fa(t.gastProductionsCache));t.resyncFollows=s}),t.TRACE_INIT("ComputeLookaheadFunctions",function(){t.preComputeLookaheadFunctions(Fa(t.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Li(t.definitionErrors))throw n=Rt(t.definitionErrors,function(s){return s.message}),new Error(`Parser Definition Errors detected:
 `+n.join(`
-------------------------------
`))})},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();WVe(dU,[S3e,E3e,F3e,_3e,G3e,B3e,z3e,H3e,U3e,j3e]);var Y3e=function(e){gie(t,e);function t(n,i){i===void 0&&(i=Cf);var r=this,s=N1(i);return s.outputCst=!0,r=e.call(this,n,s)||this,r}return t}(dU),K3e=function(e){gie(t,e);function t(n,i){i===void 0&&(i=Cf);var r=this,s=N1(i);return s.outputCst=!1,r=e.call(this,n,s)||this,r}return t}(dU);function q3e(e,t){var n=t===void 0?{}:t,i=n.resourceBase,r=i===void 0?"https://unpkg.com/chevrotain@"+NG+"/diagrams/":i,s=n.css,o=s===void 0?"https://unpkg.com/chevrotain@"+NG+"/diagrams/diagrams.css":s,a=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,l=`
<link rel='stylesheet' href='`+o+`'>
`,c=`
<script src='`+r+`vendor/railroad-diagrams.js'><\/script>
<script src='`+r+`src/diagrams_builder.js'><\/script>
<script src='`+r+`src/diagrams_behavior.js'><\/script>
<script src='`+r+`src/main.js'><\/script>
`,u=`
<div id="diagrams" align="center"></div>    
`,d=`
<script>
    window.serializedGrammar = `+JSON.stringify(e,null,"  ")+`;
<\/script>
`,h=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return a+l+c+u+d+h}var ks=`
`;function Z3e(e){return`
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['chevrotain'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like environments that support module.exports,
        // like Node.
        module.exports = factory(require('chevrotain'));
    } else {
        // Browser globals (root is window)
        root.returnExports = factory(root.b);
    }
}(typeof self !== 'undefined' ? self : this, function (chevrotain) {

`+mie(e)+`
    
return {
    `+e.name+": "+e.name+` 
}
}));
`}function X3e(e){return`    
`+mie(e)+`
return new `+e.name+`(tokenVocabulary, config)    
`}function mie(e){var t=`
function `+e.name+`(tokenVocabulary, config) {
    // invoke super constructor
    // No support for embedded actions currently, so we can 'hardcode'
    // The use of CstParser.
    chevrotain.CstParser.call(this, tokenVocabulary, config)

    const $ = this

    `+Q3e(e.rules)+`

    // very important to call this after all the rules have been defined.
    // otherwise the parser may not work correctly as it will lack information
    // derived during the self analysis phase.
    this.performSelfAnalysis(this)
}

// inheritance as implemented in javascript in the previous decade... :(
`+e.name+`.prototype = Object.create(chevrotain.CstParser.prototype)
`+e.name+".prototype.constructor = "+e.name+`    
    `;return t}function Q3e(e){var t=Rt(e,function(n){return J3e(n,1)});return t.join(`
`)}function J3e(e,t){var n=sa(t,'$.RULE("'+e.name+'", function() {')+ks;return n+=NO(e.definition,t+1),n+=sa(t+1,"})")+ks,n}function e5e(e,t){var n=e.terminalType.name;return sa(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+ks)}function t5e(e,t){return sa(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+ks)}function n5e(e,t){var n=sa(t,"$.OR"+e.idx+"([")+ks,i=Rt(e.definition,function(r){return i5e(r,t+1)});return n+=i.join(","+ks),n+=ks+sa(t,"])"+ks),n}function i5e(e,t){var n=sa(t,"{")+ks;return n+=sa(t+1,"ALT: function() {")+ks,n+=NO(e.definition,t+1),n+=sa(t+1,"}")+ks,n+=sa(t,"}"),n}function r5e(e,t){if(e instanceof la)return t5e(e,t);if(e instanceof Lo)return RM("OPTION",e,t);if(e instanceof dc)return RM("AT_LEAST_ONE",e,t);if(e instanceof hc)return RM("AT_LEAST_ONE_SEP",e,t);if(e instanceof wl)return RM("MANY_SEP",e,t);if(e instanceof Gr)return RM("MANY",e,t);if(e instanceof Sl)return n5e(e,t);if(e instanceof ji)return e5e(e,t);if(e instanceof Oo)return NO(e.definition,t);throw Error("non exhaustive match")}function RM(e,t,n){var i=sa(n,"$."+(e+t.idx)+"(");return t.separator?(i+="{"+ks,i+=sa(n+1,"SEP: this.tokensMap."+t.separator.name)+","+ks,i+="DEF: "+g8(t.definition,n+2)+ks,i+=sa(n,"}")+ks):i+=g8(t.definition,n+1),i+=sa(n,")")+ks,i}function g8(e,t){var n="function() {"+ks;return n+=NO(e,t),n+=sa(t,"}")+ks,n}function NO(e,t){var n="";return _t(e,function(i){n+=r5e(i,t+1)}),n}function sa(e,t){var n=Array(e*4+1).join(" ");return n+t}function s5e(e){var t=X3e({name:e.name,rules:e.rules}),n=new Function("tokenVocabulary","config","chevrotain",t);return function(i){return n(e.tokenVocabulary,i,require("../api"))}}function o5e(e){return Z3e({name:e.name,rules:e.rules})}function a5e(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}var l5e=function(){function e(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return e}();const c5e=Object.freeze(Object.defineProperty({__proto__:null,Alternation:Sl,Alternative:Oo,CstParser:Y3e,EMPTY_ALT:$3e,EOF:Ng,EarlyExitException:aie,EmbeddedActionsParser:K3e,GAstVisitor:l0,Lexer:Jc,get LexerDefinitionErrorType(){return Rr},MismatchedTokenException:uU,NoViableAltException:sie,NonTerminal:la,NotAllInputParsedException:oie,Option:Lo,Parser:l5e,get ParserDefinitionErrorType(){return ca},Repetition:Gr,RepetitionMandatory:dc,RepetitionMandatoryWithSeparator:hc,RepetitionWithSeparator:wl,Rule:a0,Terminal:ji,VERSION:NG,assignOccurrenceIndices:w3e,clearCache:a5e,createSyntaxDiagramsCode:q3e,createToken:rU,createTokenInstance:MO,defaultGrammarResolverErrorProvider:Wne,defaultGrammarValidatorErrorProvider:RO,defaultLexerErrorProvider:Gne,defaultParserErrorProvider:sU,generateParserFactory:s5e,generateParserModule:o5e,isRecognitionException:lR,resolveGrammar:Qne,serializeGrammar:Hne,serializeProduction:uE,tokenLabel:uy,tokenMatcher:kUe,tokenName:IUe,validateGrammar:Jne},Symbol.toStringTag,{value:"Module"})),hU=qre(c5e);var d_,m8;function fU(){if(m8)return d_;m8=1;const{createToken:e,Lexer:t}=hU,n=ws(),i={},r=e({name:"WhiteSpace",pattern:/\s+/,group:t.SKIPPED}),s=e({name:"String",pattern:/"(""|[^"])*"/}),o=e({name:"SingleQuotedString",pattern:/'(''|[^'])*'/}),a=e({name:"SheetQuoted",pattern:/'((?![\\\/\[\]*?:]).)+?'!/}),l=e({name:"Function",pattern:/[A-Za-z_]+[A-Za-z_0-9.]*\(/}),c=e({name:"FormulaErrorT",pattern:/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A/}),u=e({name:"RefError",pattern:/#REF!/}),d=e({name:"Name",pattern:/[a-zA-Z_][a-zA-Z0-9_.?]*/}),h=e({name:"Sheet",pattern:/[A-Za-z_.\d\u007F-\uFFFF]+!/}),p=e({name:"Cell",pattern:/[$]?[A-Za-z]{1,3}[$]?[1-9][0-9]*/,longer_alt:d}),m=e({name:"Number",pattern:/[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?/}),v=e({name:"Boolean",pattern:/TRUE|FALSE/i}),y=e({name:"Column",pattern:/[$]?[A-Za-z]{1,3}/,longer_alt:d}),C=e({name:"At",pattern:/@/}),S=e({name:"Comma",pattern:/,/}),x=e({name:"Colon",pattern:/:/}),R=e({name:"Semicolon",pattern:/;/}),A=e({name:"OpenParen",pattern:/\(/}),T=e({name:"CloseParen",pattern:/\)/}),L=e({name:"OpenSquareParen",pattern:/\[/}),O=e({name:"CloseSquareParen",pattern:/]/});e({name:"exclamationMark",pattern:/!/});const F=e({name:"OpenCurlyParen",pattern:/{/}),H=e({name:"CloseCurlyParen",pattern:/}/}),W=e({name:"QuoteS",pattern:/'/}),$=e({name:"MulOp",pattern:/\*/}),Z=e({name:"PlusOp",pattern:/\+/}),ie=e({name:"DivOp",pattern:/\//}),oe=e({name:"MinOp",pattern:/-/}),te=e({name:"ConcatOp",pattern:/&/}),ae=e({name:"ExOp",pattern:/\^/}),ne=e({name:"PercentOp",pattern:/%/}),Se=e({name:"GtOp",pattern:/>/}),q=e({name:"EqOp",pattern:/=/}),re=e({name:"LtOp",pattern:/</}),K=e({name:"NeqOp",pattern:/<>/}),V=e({name:"GteOp",pattern:/>=/}),G=e({name:"LteOp",pattern:/<=/}),se=[r,s,a,o,l,c,u,h,p,v,y,d,m,C,S,x,R,A,T,L,O,F,H,W,$,Z,ie,oe,te,ae,$,ne,K,V,G,Se,q,re],Y=new t(se,{ensureOptimizations:!0});return se.forEach(ue=>{i[ue.name]=ue}),d_={tokenVocabulary:i,lex:function(ue){const J=Y.tokenize(ue);if(J.errors.length>0){const he=J.errors[0],Te=he.line,ve=he.column;let Re=`
`+ue.split(`
`)[Te-1]+`
`;throw Re+=Array(ve-1).fill(" ").join("")+`^
`,he.message=Re+`Error at position ${Te}:${ve}
`+he.message,he.errorLocation={line:Te,column:ve},n.ERROR(he.message,he)}return J}},d_}var h_,v8;function vie(){if(v8)return h_;v8=1;const e=fU(),{EmbeddedActionsParser:t}=hU,n=e.tokenVocabulary,{String:i,SheetQuoted:r,ExcelRefFunction:s,ExcelConditionalRefFunction:o,Function:a,FormulaErrorT:l,RefError:c,Cell:u,Sheet:d,Name:h,Number:p,Boolean:m,Column:v,Comma:y,Colon:C,Semicolon:S,OpenParen:x,CloseParen:R,OpenCurlyParen:A,CloseCurlyParen:T,MulOp:L,PlusOp:O,DivOp:F,MinOp:H,ConcatOp:W,ExOp:$,PercentOp:Z,NeqOp:ie,GteOp:oe,LteOp:te,GtOp:ae,EqOp:ne,LtOp:Se}=e.tokenVocabulary;class q extends t{constructor(K,V){super(n,{outputCst:!1,maxLookahead:1,skipValidations:!0}),this.utils=V,this.binaryOperatorsPrecedence=[["^"],["*","/"],["+","-"],["&"],["<",">","=","<>","<=",">="]];const G=this;G.RULE("formulaWithBinaryOp",()=>{const se=[],Y=[G.SUBRULE(G.formulaWithPercentOp)];return G.MANY(()=>{se.push(G.OR(G.c1||(G.c1=[{ALT:()=>G.CONSUME(ae).image},{ALT:()=>G.CONSUME(ne).image},{ALT:()=>G.CONSUME(Se).image},{ALT:()=>G.CONSUME(ie).image},{ALT:()=>G.CONSUME(oe).image},{ALT:()=>G.CONSUME(te).image},{ALT:()=>G.CONSUME(W).image},{ALT:()=>G.CONSUME(O).image},{ALT:()=>G.CONSUME(H).image},{ALT:()=>G.CONSUME(L).image},{ALT:()=>G.CONSUME(F).image},{ALT:()=>G.CONSUME($).image}]))),Y.push(G.SUBRULE2(G.formulaWithPercentOp))}),G.ACTION(()=>{for(const ue of this.binaryOperatorsPrecedence)for(let J=0,he=se.length;J<he;J++){const Te=se[J];ue.includes(Te)&&(se.splice(J,1),Y.splice(J,2,this.utils.applyInfix(Y[J],Te,Y[J+1])),J--,he--)}}),Y[0]}),G.RULE("plusMinusOp",()=>G.OR([{ALT:()=>G.CONSUME(O).image},{ALT:()=>G.CONSUME(H).image}])),G.RULE("formulaWithPercentOp",()=>{let se=G.SUBRULE(G.formulaWithUnaryOp);return G.OPTION(()=>{const Y=G.CONSUME(Z).image;se=G.ACTION(()=>this.utils.applyPostfix(se,Y))}),se}),G.RULE("formulaWithUnaryOp",()=>{const se=[];G.MANY(()=>{const ue=G.OR([{ALT:()=>G.CONSUME(O).image},{ALT:()=>G.CONSUME(H).image}]);se.push(ue)});const Y=G.SUBRULE(G.formulaWithIntersect);return se.length>0?G.ACTION(()=>this.utils.applyPrefix(se,Y)):Y}),G.RULE("formulaWithIntersect",()=>{let se=G.SUBRULE(G.formulaWithRange);const Y=[se];return G.MANY({GATE:()=>{const ue=G.LA(0);return G.LA(1).startOffset>ue.endOffset+1},DEF:()=>{Y.push(G.SUBRULE3(G.formulaWithRange))}}),Y.length>1?G.ACTION(()=>G.ACTION(()=>this.utils.applyIntersect(Y))):se}),G.RULE("formulaWithRange",()=>{const se=G.SUBRULE(G.formula),Y=[se];return G.MANY(()=>{G.CONSUME(C),Y.push(G.SUBRULE2(G.formula))}),Y.length>1?G.ACTION(()=>G.ACTION(()=>this.utils.applyRange(Y))):se}),G.RULE("formula",()=>G.OR9([{ALT:()=>G.SUBRULE(G.referenceWithoutInfix)},{ALT:()=>G.SUBRULE(G.paren)},{ALT:()=>G.SUBRULE(G.constant)},{ALT:()=>G.SUBRULE(G.functionCall)},{ALT:()=>G.SUBRULE(G.constantArray)}])),G.RULE("paren",()=>{G.CONSUME(x);let se;const Y=[];return Y.push(G.SUBRULE(G.formulaWithBinaryOp)),G.MANY(()=>{G.CONSUME(y),Y.push(G.SUBRULE2(G.formulaWithBinaryOp))}),Y.length>1?se=G.ACTION(()=>this.utils.applyUnion(Y)):se=Y[0],G.CONSUME(R),se}),G.RULE("constantArray",()=>{const se=[[]];let Y=0;return G.CONSUME(A),se[Y].push(G.SUBRULE(G.constantForArray)),G.MANY(()=>{const ue=G.OR([{ALT:()=>G.CONSUME(y).image},{ALT:()=>G.CONSUME(S).image}]),J=G.SUBRULE2(G.constantForArray);ue===","||(Y++,se[Y]=[]),se[Y].push(J)}),G.CONSUME(T),G.ACTION(()=>this.utils.toArray(se))}),G.RULE("constantForArray",()=>G.OR([{ALT:()=>{const se=G.OPTION(()=>G.SUBRULE(G.plusMinusOp)),Y=G.CONSUME(p).image,ue=G.ACTION(()=>this.utils.toNumber(Y));return se?G.ACTION(()=>this.utils.applyPrefix([se],ue)):ue}},{ALT:()=>{const se=G.CONSUME(i).image;return G.ACTION(()=>this.utils.toString(se))}},{ALT:()=>{const se=G.CONSUME(m).image;return G.ACTION(()=>this.utils.toBoolean(se))}},{ALT:()=>{const se=G.CONSUME(l).image;return G.ACTION(()=>this.utils.toError(se))}},{ALT:()=>{const se=G.CONSUME(c).image;return G.ACTION(()=>this.utils.toError(se))}}])),G.RULE("constant",()=>G.OR([{ALT:()=>{const se=G.CONSUME(p).image;return G.ACTION(()=>this.utils.toNumber(se))}},{ALT:()=>{const se=G.CONSUME(i).image;return G.ACTION(()=>this.utils.toString(se))}},{ALT:()=>{const se=G.CONSUME(m).image;return G.ACTION(()=>this.utils.toBoolean(se))}},{ALT:()=>{const se=G.CONSUME(l).image;return G.ACTION(()=>this.utils.toError(se))}}])),G.RULE("functionCall",()=>{const se=G.CONSUME(a).image.slice(0,-1),Y=G.SUBRULE(G.arguments);return G.CONSUME(R),G.ACTION(()=>K.callFunction(se,Y))}),G.RULE("arguments",()=>{G.MANY2(()=>{G.CONSUME2(y)});const se=[];return G.OPTION(()=>{se.push(G.SUBRULE(G.formulaWithBinaryOp)),G.MANY(()=>{G.CONSUME1(y),se.push(null),G.OPTION3(()=>{se.pop(),se.push(G.SUBRULE2(G.formulaWithBinaryOp))})})}),se}),G.RULE("referenceWithoutInfix",()=>G.OR([{ALT:()=>G.SUBRULE(G.referenceItem)},{ALT:()=>{const se=G.SUBRULE(G.prefixName),Y=G.SUBRULE2(G.formulaWithRange);return G.ACTION(()=>{if(this.utils.isFormulaError(Y))return Y;Y.ref.sheet=se}),Y}}])),G.RULE("referenceItem",()=>G.OR([{ALT:()=>{const se=G.CONSUME(u).image;return G.ACTION(()=>this.utils.parseCellAddress(se))}},{ALT:()=>{const se=G.CONSUME(h).image;return G.ACTION(()=>K.getVariable(se))}},{ALT:()=>{const se=G.CONSUME(v).image;return G.ACTION(()=>this.utils.parseCol(se))}},{ALT:()=>{const se=G.CONSUME(c).image;return G.ACTION(()=>this.utils.toError(se))}}])),G.RULE("prefixName",()=>G.OR([{ALT:()=>G.CONSUME(d).image.slice(0,-1)},{ALT:()=>G.CONSUME(r).image.slice(1,-2).replace(/''/g,"'")}])),this.performSelfAnalysis()}}return h_={Parser:q},h_}var f_,y8;function yie(){if(y8)return f_;y8=1;const e=ws(),{Address:t}=Ps(),{Prefix:n,Postfix:i,Infix:r,Operators:s}=bO(),o=CO(),a=1048576,l=16384,{NotAllInputParsedException:c}=hU;class u{constructor(h){this.context=h}columnNameToNumber(h){return t.columnNameToNumber(h)}parseCellAddress(h){const p=h.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{address:p[0],col:this.columnNameToNumber(p[2]),row:+p[4]}}}parseRow(h){const p=+h;if(!Number.isInteger(p))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+h}}}parseCol(h){return{ref:{col:this.columnNameToNumber(h),row:void 0}}}parseColRange(h,p){return h=this.columnNameToNumber(h),p=this.columnNameToNumber(p),{ref:{from:{col:Math.min(h,p),row:null},to:{col:Math.max(h,p),row:null}}}}parseRowRange(h,p){return{ref:{from:{col:null,row:Math.min(h,p)},to:{col:null,row:Math.max(h,p)}}}}_applyPrefix(h,p,m){return this.isFormulaError(p)?p:n.unaryOp(h,p,m)}async applyPrefixAsync(h,p){const{val:m,isArray:v}=this.extractRefValue(await p);return this._applyPrefix(h,m,v)}applyPrefix(h,p){if(this.context.async)return this.applyPrefixAsync(h,p);{const{val:m,isArray:v}=this.extractRefValue(p);return this._applyPrefix(h,m,v)}}_applyPostfix(h,p,m){return this.isFormulaError(h)?h:i.percentOp(h,m,p)}async applyPostfixAsync(h,p){const{val:m,isArray:v}=this.extractRefValue(await h);return this._applyPostfix(m,v,p)}applyPostfix(h,p){if(this.context.async)return this.applyPostfixAsync(h,p);{const{val:m,isArray:v}=this.extractRefValue(h);return this._applyPostfix(m,v,p)}}_applyInfix(h,p,m){const v=h.val,y=h.isArray,C=m.val,S=m.isArray;if(this.isFormulaError(v))return v;if(this.isFormulaError(C))return C;if(s.compareOp.includes(p))return r.compareOp(v,p,C,y,S);if(s.concatOp.includes(p))return r.concatOp(v,p,C,y,S);if(s.mathOp.includes(p))return r.mathOp(v,p,C,y,S);throw new Error(`Unrecognized infix: ${p}`)}async applyInfixAsync(h,p,m){const v=this.extractRefValue(await h),y=this.extractRefValue(await m);return this._applyInfix(v,p,y)}applyInfix(h,p,m){if(this.context.async)return this.applyInfixAsync(h,p,m);{const v=this.extractRefValue(h),y=this.extractRefValue(m);return this._applyInfix(v,p,y)}}applyIntersect(h){if(this.isFormulaError(h[0]))return h[0];if(!h[0].ref)throw Error(`Expecting a reference, but got ${h[0]}.`);let p,m,v,y,C,S;const x=h.shift().ref;if(C=x.sheet,x.from)p=Math.max(x.from.row,x.to.row),v=Math.min(x.from.row,x.to.row),m=Math.max(x.from.col,x.to.col),y=Math.min(x.from.col,x.to.col);else{if(x.row===void 0||x.col===void 0)throw Error("Cannot intersect the whole row or column.");p=v=x.row,m=y=x.col}let R;return h.forEach(A=>{if(this.isFormulaError(A))return A;if(A=A.ref,!A)throw Error(`Expecting a reference, but got ${A}.`);if(A.from){const T=Math.max(A.from.row,A.to.row),L=Math.min(A.from.row,A.to.row),O=Math.max(A.from.col,A.to.col),F=Math.min(A.from.col,A.to.col);(L>p||T<v||F>m||O<y||C!==A.sheet)&&(R=e.NULL),p=Math.min(p,T),v=Math.max(v,L),m=Math.min(m,O),y=Math.max(y,F)}else{if(A.row===void 0||A.col===void 0)throw Error("Cannot intersect the whole row or column.");(A.row>p||A.row<v||A.col>m||A.col<y||C!==A.sheet)&&(R=e.NULL),p=v=A.row,m=y=A.col}}),R||(p===v&&m===y?S={ref:{sheet:C,row:p,col:m}}:S={ref:{sheet:C,from:{row:v,col:y},to:{row:p,col:m}}},S.ref.sheet||delete S.ref.sheet,S)}applyUnion(h){const p=new o;for(let m=0;m<h.length;m++){if(this.isFormulaError(h[m]))return h[m];p.add(this.extractRefValue(h[m]).val,h[m])}return p}applyRange(h){let p,m=-1,v=-1,y=a+1,C=l+1;return h.forEach(S=>{if(this.isFormulaError(S))return S;typeof S=="number"&&(S=this.parseRow(S)),S=S.ref,S.row===void 0&&(y=1,m=a),S.col===void 0&&(C=1,v=l),S.row>m&&(m=S.row),S.row<y&&(y=S.row),S.col>v&&(v=S.col),S.col<C&&(C=S.col)}),m===y&&v===C?p={ref:{row:m,col:v}}:p={ref:{from:{row:y,col:C},to:{row:m,col:v}}},p}extractRefValue(h){let p=h,m=!1;return Array.isArray(p)&&(m=!0),h.ref?{val:this.context.retrieveRef(h),isArray:m}:{val:p,isArray:m}}toArray(h){return h}toNumber(h){return Number(h)}toString(h){return h.substring(1,h.length-1).replace(/""/g,'"')}toBoolean(h){return h==="TRUE"}toError(h){return new e(h.toUpperCase())}isFormulaError(h){return h instanceof e}static formatChevrotainError(h,p){let m,v,y="";return h instanceof c?(m=h.token.startLine,v=h.token.startColumn):(m=h.previousToken.startLine,v=h.previousToken.startColumn+1),y+=`
`+p.split(`
`)[m-1]+`
`,y+=Array(v-1).fill(" ").join("")+`^
`,y+=`Error at position ${m}:${v}
`+h.message,h.errorLocation={line:m,column:v},e.ERROR(y,h)}}return f_=u,f_}var p_,C8;function u5e(){if(C8)return p_;C8=1;const e=Sne(),t=xne(),n=AVe(),i=TVe(),r=NVe(),s=LVe(),o=kVe(),a=PVe(),l=FVe(),c=_Ve(),u=ws(),{FormulaHelpers:d}=Ps(),{Parser:h,allTokens:p}=vie(),m=fU(),v=yie();class y{constructor(S,x=!1){this.logs=[],this.isTest=x,this.utils=new v(this),S=Object.assign({functions:{},functionsNeedContext:{},onVariable:()=>null,onCell:()=>0,onRange:()=>[[0]]},S),this.onVariable=S.onVariable,this.functions=Object.assign({},l,a,o,s,r,i,e,t,n,c,S.functions,S.functionsNeedContext),this.onRange=S.onRange,this.onCell=S.onCell,this.funsNullAs0=Object.keys(t).concat(Object.keys(n)).concat(Object.keys(i)).concat(Object.keys(r)).concat(Object.keys(s)).concat(Object.keys(a)).concat(Object.keys(l)),this.funsNeedContextAndNoDataRetrieve=["ROW","ROWS","COLUMN","COLUMNS","SUMIF","INDEX","AVERAGEIF","IF"],this.funsNeedContext=[...Object.keys(S.functionsNeedContext),...this.funsNeedContextAndNoDataRetrieve,"INDEX","OFFSET","INDIRECT","IF","CHOOSE","WEBSERVICE"],this.funsPreserveRef=Object.keys(o),this.parser=new h(this,this.utils)}static get allTokens(){return p}getCell(S){return S.sheet==null&&(S.sheet=this.position?this.position.sheet:void 0),this.onCell(S)}getRange(S){return S.sheet==null&&(S.sheet=this.position?this.position.sheet:void 0),this.onRange(S)}getVariable(S){const x={ref:this.onVariable(S,this.position.sheet,this.position)};return x.ref==null?u.NAME:x}retrieveRef(S){return d.isRangeRef(S)?this.getRange(S.ref):d.isCellRef(S)?this.getCell(S.ref):S}_callFunction(S,x){S.indexOf("_xlfn.")===0&&(S=S.slice(6)),S=S.toUpperCase();const R=this.funsNullAs0.includes(S)?0:"";if(this.funsNeedContextAndNoDataRetrieve.includes(S)||(x=x.map(A=>{if(A===null)return{value:R,isArray:!1,omitted:!0};const T=this.utils.extractRefValue(A);return this.funsPreserveRef.includes(S)?{value:T.val,isArray:T.isArray,ref:A.ref}:{value:T.val,isArray:T.isArray,isRangeRef:!!d.isRangeRef(A),isCellRef:!!d.isCellRef(A)}})),this.functions[S]){let A;try{!this.funsNeedContextAndNoDataRetrieve.includes(S)&&!this.funsNeedContext.includes(S)?A=this.functions[S](...x):A=this.functions[S](this,...x)}catch(T){if(T instanceof u)return T;throw T}if(A===void 0){if(this.isTest)return this.logs.includes(S)||this.logs.push(S),{value:0,ref:{}};throw u.NOT_IMPLEMENTED(S)}return A}else{if(this.isTest)return this.logs.includes(S)||this.logs.push(S),{value:0,ref:{}};throw u.NOT_IMPLEMENTED(S)}}async callFunctionAsync(S,x){const R=[];for(const T of x)R.push(await T);const A=await this._callFunction(S,R);return d.checkFunctionResult(A)}callFunction(S,x){if(this.async)return this.callFunctionAsync(S,x);{const R=this._callFunction(S,x);return d.checkFunctionResult(R)}}supportedFunctions(){const S=[];return Object.keys(this.functions).forEach(R=>{try{if(this.functions[R](0,0,0,0,0,0,0,0,0,0,0)===void 0)return;S.push(R)}catch(A){A instanceof Error&&S.push(R)}}),S.sort()}checkFormulaResult(S,x=!1){const R=typeof S;if(R==="number"){if(isNaN(S))return u.VALUE;if(!isFinite(S))return u.NUM;S+=0}else if(R==="object"){if(S instanceof u)return S;if(x){if(S.ref&&(S=this.retrieveRef(S)),typeof S=="object"&&!Array.isArray(S)&&S!=null)return u.VALUE}else if(S.ref&&S.ref.row&&!S.ref.from)S=this.retrieveRef(S);else if(S.ref&&S.ref.from&&S.ref.from.col===S.ref.to.col)S=this.retrieveRef({ref:{row:S.ref.from.row,col:S.ref.from.col}});else if(Array.isArray(S))S=S[0][0];else return u.VALUE}return S}parse(S,x,R=!1){if(S.length===0)throw Error("Input must not be empty.");this.position=x,this.async=!1;const A=m.lex(S);this.parser.input=A.tokens;let T;try{if(T=this.parser.formulaWithBinaryOp(),T=this.checkFormulaResult(T,R),T instanceof u)return T}catch(L){throw u.ERROR(L.message,L)}if(this.parser.errors.length>0){const L=this.parser.errors[0];throw v.formatChevrotainError(L,S)}return T}async parseAsync(S,x,R=!1){if(S.length===0)throw Error("Input must not be empty.");this.position=x,this.async=!0;const A=m.lex(S);this.parser.input=A.tokens;let T;try{if(T=await this.parser.formulaWithBinaryOp(),T=this.checkFormulaResult(T,R),T instanceof u)return T}catch(L){throw u.ERROR(L.message,L)}if(this.parser.errors.length>0){const L=this.parser.errors[0];throw v.formatChevrotainError(L,S)}return T}}return p_={FormulaParser:y,FormulaHelpers:d},p_}var g_,b8;function d5e(){if(b8)return g_;b8=1;const e=ws(),{FormulaHelpers:t,Types:n,Address:i}=Ps(),{Prefix:r,Postfix:s,Infix:o,Operators:a}=bO(),l=CO(),c=1048576,u=16384;class d{constructor(p){this.context=p}columnNameToNumber(p){return i.columnNameToNumber(p)}parseCellAddress(p){const m=p.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{col:this.columnNameToNumber(m[2]),row:+m[4]}}}parseRow(p){const m=+p;if(!Number.isInteger(m))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+p}}}parseCol(p){return{ref:{col:this.columnNameToNumber(p),row:void 0}}}applyPrefix(p,m){return this.extractRefValue(m),0}applyPostfix(p,m){return this.extractRefValue(p),0}applyInfix(p,m,v){return this.extractRefValue(p),this.extractRefValue(v),0}applyIntersect(p){if(this.isFormulaError(p[0]))return p[0];if(!p[0].ref)throw Error(`Expecting a reference, but got ${p[0]}.`);let m,v,y,C,S,x;const R=p.shift().ref;if(S=R.sheet,R.from)m=Math.max(R.from.row,R.to.row),y=Math.min(R.from.row,R.to.row),v=Math.max(R.from.col,R.to.col),C=Math.min(R.from.col,R.to.col);else{if(R.row===void 0||R.col===void 0)throw Error("Cannot intersect the whole row or column.");m=y=R.row,v=C=R.col}let A;return p.forEach(T=>{if(this.isFormulaError(T))return T;if(T=T.ref,!T)throw Error(`Expecting a reference, but got ${T}.`);if(T.from){const L=Math.max(T.from.row,T.to.row),O=Math.min(T.from.row,T.to.row),F=Math.max(T.from.col,T.to.col),H=Math.min(T.from.col,T.to.col);(O>m||L<y||H>v||F<C||S!==T.sheet)&&(A=e.NULL),m=Math.min(m,L),y=Math.max(y,O),v=Math.min(v,F),C=Math.max(C,H)}else{if(T.row===void 0||T.col===void 0)throw Error("Cannot intersect the whole row or column.");(T.row>m||T.row<y||T.col>v||T.col<C||S!==T.sheet)&&(A=e.NULL),m=y=T.row,v=C=T.col}}),A||(m===y&&v===C?x={ref:{sheet:S,row:m,col:v}}:x={ref:{sheet:S,from:{row:y,col:C},to:{row:m,col:v}}},x.ref.sheet||delete x.ref.sheet,x)}applyUnion(p){const m=new l;for(let v=0;v<p.length;v++){if(this.isFormulaError(p[v]))return p[v];m.add(this.extractRefValue(p[v]).val,p[v])}return m}applyRange(p){let m,v=-1,y=-1,C=c+1,S=u+1;return p.forEach(x=>{if(this.isFormulaError(x))return x;typeof x=="number"&&(x=this.parseRow(x)),x=x.ref,x.row===void 0&&(C=1,v=c),x.col===void 0&&(S=1,y=u),x.row>v&&(v=x.row),x.row<C&&(C=x.row),x.col>y&&(y=x.col),x.col<S&&(S=x.col)}),v===C&&y===S?m={ref:{row:v,col:y}}:m={ref:{from:{row:C,col:S},to:{row:v,col:y}}},m}extractRefValue(p){const m=Array.isArray(p);return p.ref?{val:this.context.retrieveRef(p),isArray:m}:{val:p,isArray:m}}toArray(p){return p}toNumber(p){return Number(p)}toString(p){return p.substring(1,p.length-1).replace(/""/g,'"')}toBoolean(p){return p==="TRUE"}toError(p){return new e(p.toUpperCase())}isFormulaError(p){return p instanceof e}}return g_=d,g_}var m_,w8;function h5e(){if(w8)return m_;w8=1;const e=ws(),{FormulaHelpers:t}=Ps(),{Parser:n}=vie(),i=fU(),r=d5e(),{formatChevrotainError:s}=yie();class o{constructor(l){this.data=[],this.utils=new r(this),l=Object.assign({onVariable:()=>null},l),this.utils=new r(this),this.onVariable=l.onVariable,this.functions={},this.parser=new n(this,this.utils)}getCell(l){return l.row!=null&&(l.sheet==null&&(l.sheet=this.position?this.position.sheet:void 0),this.data.findIndex(u=>u.from&&u.from.row<=l.row&&u.to.row>=l.row&&u.from.col<=l.col&&u.to.col>=l.col||u.row===l.row&&u.col===l.col&&u.sheet===l.sheet)===-1&&this.data.push(l)),0}getRange(l){return l.from.row!=null&&(l.sheet==null&&(l.sheet=this.position?this.position.sheet:void 0),this.data.findIndex(u=>u.from&&u.from.row===l.from.row&&u.from.col===l.from.col&&u.to.row===l.to.row&&u.to.col===l.to.col)===-1&&this.data.push(l)),[[0]]}getVariable(l){const c={ref:this.onVariable(l,this.position.sheet)};return c.ref==null?e.NAME:(t.isCellRef(c)?this.getCell(c.ref):this.getRange(c.ref),0)}retrieveRef(l){return t.isRangeRef(l)?this.getRange(l.ref):t.isCellRef(l)?this.getCell(l.ref):l}callFunction(l,c){return c.forEach(u=>{u!=null&&this.retrieveRef(u)}),{value:0,ref:{}}}checkFormulaResult(l){this.retrieveRef(l)}parse(l,c,u=!1){if(l.length===0)throw Error("Input must not be empty.");this.data=[],this.position=c;const d=i.lex(l);this.parser.input=d.tokens;try{const h=this.parser.formulaWithBinaryOp();this.checkFormulaResult(h)}catch(h){if(!u)throw e.ERROR(h.message,h)}if(this.parser.errors.length>0&&!u){const h=this.parser.errors[0];throw s(h,l)}return this.data}}return m_={DepParser:o},m_}var v_,S8;function f5e(){if(S8)return v_;S8=1;const{FormulaParser:e}=u5e(),{DepParser:t}=h5e(),n=wne(),i=ws();return Object.assign(e,{MAX_ROW:1048576,MAX_COLUMN:16384,SSF:n,DepParser:t,FormulaError:i,...Ps()}),v_=e,v_}var Lg=f5e();const p5e=bL(Lg);var y_=z8();const gL=Symbol(),g5e=Symbol(),m5e=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),Cie=m5e?I.useEffect:I.useLayoutEffect,v5e=y_.unstable_runWithPriority?e=>{try{y_.unstable_runWithPriority(y_.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),y5e=e=>({value:n,children:i})=>{const r=I.useRef(n),s=I.useRef(0),[o,a]=I.useState(null);o&&(o(n),a(null));const l=I.useRef();if(!l.current){const c=new Set,u=(d,h)=>{s.current+=1;const p={n:s.current};h!=null&&h.suspense&&(p.n*=-1,p.p=new Promise(m=>{a(()=>v=>{p.v=v,delete p.p,m(v)})})),c.forEach(m=>m(p)),d()};l.current={[gL]:{v:r,n:s,l:c,u}}}return Cie(()=>{r.current=n,s.current+=1,v5e(()=>{l.current[gL].l.forEach(c=>{c({n:s.current,v:n})})})},[n]),I.createElement(e,{value:l.current},i)};function C5e(e){const t=I.createContext({[gL]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[g5e]=t.Provider,t.Provider=y5e(t.Provider),delete t.Consumer,t}function bie(e,t){const n=I.useContext(e)[gL],{v:{current:i},n:{current:r},l:s}=n,o=t(i),[a,l]=I.useReducer((c,u)=>{if(!u)return[i,o];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],o)?c:[i,o];try{if("v"in u){if(Object.is(c[0],u.v))return c;const d=t(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[i,o]);return Object.is(a[1],o)||l(),Cie(()=>(s.add(l),()=>{s.delete(l)}),[s]),a[1]}var zG=function(e,t){return zG=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},zG(e,t)};function Qg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zG(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rt=function(){return rt=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rt.apply(this,arguments)};function cR(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function hr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function ra(e,t,n){if(arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var wie="SET_DATA",Sie="SET_CREATE_FORMULA_PARSER",xie="SELECT_ENTIRE_ROW",Mie="SELECT_ENTIRE_COLUMN",Eie="SELECT_ENTIRE_WORKSHEET",Rie="SET_SELECTION",Aie="SELECT",Tie="ACTIVATE",Die="SET_CELL_DATA",Iie="SET_CELL_DIMENSIONS",Nie="COPY",HG="CUT",Lie="PASTE",kie="EDIT",Oie="VIEW",b5e="CLEAR",Pie="BLUR",Fie="KEY_PRESS",_ie="KEY_DOWN",Bie="DRAG_START",Gie="DRAG_END",zie="COMMIT";function w5e(e){return{type:wie,payload:{data:e}}}function S5e(e){return{type:Sie,payload:{createFormulaParser:e}}}function x5e(e,t){return{type:xie,payload:{row:e,extend:t}}}function M5e(e,t){return{type:Mie,payload:{column:e,extend:t}}}function E5e(){return{type:Eie}}function R5e(e){return{type:Rie,payload:{selection:e}}}function A5e(e){return{type:Aie,payload:{point:e}}}function Hie(e){return{type:Tie,payload:{point:e}}}function Vie(e,t){return{type:Die,payload:{active:e,data:t}}}function T5e(e,t){return{type:Iie,payload:{point:e,dimensions:t}}}function D5e(e){return{type:Lie,payload:{data:e}}}function I5e(e){return{type:Fie,payload:{event:e}}}function N5e(e){return{type:_ie,payload:{event:e}}}function L5e(){return{type:Bie}}function k5e(){return{type:Gie}}function O5e(e){return{type:zie,payload:{changes:e}}}function P5e(){return{type:Nie}}function F5e(){return{type:HG}}function _5e(){return{type:kie}}function B5e(){return{type:Oie}}function G5e(){return{type:Pie}}function gl(e,t){var n=t[e.row];if(n!==void 0)return n[e.column]}function Uie(e,t,n){for(var i=[],r=t.column-e.column,s=e.row;s<=t.row;s++){var o=s-e.row;i[o]=i[o]||Array(r);for(var a=e.column;a<=t.column;a++)i[o][a-e.column]=gl({row:s,column:a},n)}return i}function Yh(e,t,n){var i=ra([],zi(n),!1),r=n[0],s=r?ra([],zi(r),!1):[];s.length-1<e.column&&(s[e.column]=void 0,i[0]=s);var o=n[e.row]?ra([],zi(n[e.row]),!1):[];return o[e.column]=t,i[e.row]=o,i}function z5e(e,t,n){var i=n[0];i||(i=[],n[0]=i),e.row in n||(n[e.row]=[]),e.column in i||(i[e.column]=void 0),n[e.row][e.column]=t}function x8(e,t){if(!mL(e,t))return t;var n=ra([],zi(t),!1),i=ra([],zi(t[e.row]),!1);return i[e.column]=void 0,n[e.row]=i,n}function H5e(e,t){var n,i,r=[];try{for(var s=hr(pU(t)),o=s.next();!o.done;o=s.next()){var a=zi(o.value,2),l=a[0],c=a[1];z5e(l,e(c,l),r)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r}function pU(e){var t,n,i,r,s,o,a,l,c,u,d,h,p,m,v,y,C;return cR(this,function(S){switch(S.label){case 0:S.trys.push([0,11,12,13]),t=hr(e.entries()),n=t.next(),S.label=1;case 1:if(n.done)return[3,10];i=zi(n.value,2),r=i[0],s=i[1],S.label=2;case 2:S.trys.push([2,7,8,9]),o=(y=void 0,hr(s.entries())),a=o.next(),S.label=3;case 3:return a.done?[3,6]:(l=zi(a.value,2),c=l[0],u=l[1],d={row:r,column:c},[4,[d,u]]);case 4:S.sent(),S.label=5;case 5:return a=o.next(),[3,3];case 6:return[3,9];case 7:return h=S.sent(),y={error:h},[3,9];case 8:try{a&&!a.done&&(C=o.return)&&C.call(o)}finally{if(y)throw y.error}return[7];case 9:return n=t.next(),[3,1];case 10:return[3,13];case 11:return p=S.sent(),m={error:p},[3,13];case 12:try{n&&!n.done&&(v=t.return)&&v.call(t)}finally{if(m)throw m.error}return[7];case 13:return[2]}})}function V5e(e,t,n){t===void 0&&(t="	"),n===void 0&&(n=`
`);for(var i="",r=Jg(e),s=r.rows,o=r.columns,a=0;a<s;a++){a&&(i+=n);for(var l=0;l<o;l++)l&&(i+=t),e[a]&&l in e[a]&&(i+=String(e[a][l]))}return i}function U5e(e,t,n,i){n===void 0&&(n="	"),i===void 0&&(i=/\r\n|\n|\r/);var r=e.replace(/"([^"]*?)"/g,function(s,o){return o.replace(/\n/g,"\\n")});return r.split(i).map(function(s){return s.split(n).map(function(o){return o.replace(/\\n/g,`
`)}).map(t)})}function mL(e,t){var n=t[0];return n&&e.row>=0&&e.column>=0&&Number.isInteger(e.row)&&Number.isInteger(e.column)&&e.column<n.length&&e.row<t.length}function Jg(e){return{columns:kO(e),rows:LO(e)}}function LO(e){return e.length}function kO(e){var t=e[0];return t?t.length:0}function W5e(e,t){var n=Jg(e),i=n.rows,r=n.columns;if(i>=t.rows&&r>=t.columns)return e;var s={rows:t.rows>i?t.rows:i,columns:t.columns>r?t.columns:r},o=ra([],zi(e),!1);if(s.columns>r){var a=s.columns-r;o=o.map(function(u){return ra(ra([],zi(u),!1),zi(Array(a).fill(void 0)),!1)})}if(s.rows>i){var l=s.rows-i,c=Array(s.columns).fill(void 0);o=ra(ra([],zi(o),!1),zi(Array(l).fill(c)),!1)}return o}function j5e(e,t){for(var n=[],i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++){var s=e[i][r];n.push(t?t(s,{row:i,column:r}):s)}return n}function gU(e){var t=Jg(e);return{row:t.rows-1,column:t.columns-1}}var rf=function(){function e(t,n){this.start={row:Math.min(t.row,n.row),column:Math.min(t.column,n.column)},this.end={row:Math.max(t.row,n.row),column:Math.max(t.column,n.column)}}return e.prototype[Symbol.iterator]=function(){var t,n;return cR(this,function(i){switch(i.label){case 0:t=this.start.row,i.label=1;case 1:if(!(t<=this.end.row))return[3,6];n=this.start.column,i.label=2;case 2:return n<=this.end.column?[4,{row:t,column:n}]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return t++,[3,1];case 6:return[2]}})},e.prototype.size=function(){var t=this.end.row+1-this.start.row,n=this.end.column+1-this.start.column;return t*n},e.prototype.has=function(t){return t.row>=this.start.row&&t.column>=this.start.column&&t.row<=this.end.row&&t.column<=this.end.column},e.prototype.mask=function(t){return new e({row:t.start.row>this.start.row?t.start.row:this.start.row,column:t.start.column>this.start.column?t.start.column:this.start.column},{row:t.end.row<this.end.row?t.end.row:this.end.row,column:t.end.column<this.end.column?t.end.column:this.end.column})},e.prototype.equals=function(t){return this.start.row===t.start.row&&this.start.column===t.start.column&&this.end.row===t.end.row&&this.end.column===t.end.column},e}();function $5e(e,t){return e.column===t.column&&e.row===t.row}var GI={row:0,column:0},mU=function(){function e(){}return e}(),Wie=function(e){Qg(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){return null},t.prototype.normalizeTo=function(n){return this},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(){return 0},t.prototype.has=function(){return!1},t.prototype.equals=function(n){return n instanceof t},t}(mU),Hb=function(e){Qg(t,e);function t(n){var i=e.call(this)||this;return i.range=n,i}return t.prototype.toRange=function(n){return this.range},t.prototype.normalizeTo=function(n){var i=Kie(n),r=new t(this.range.mask(i));return r},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(n){var i=this.toRange(n);return i?i.size():0},t.prototype.has=function(n,i){var r=this.toRange(n);return r!==null&&r.has(i)},t.prototype.equals=function(n){return n instanceof t&&this.range.equals(n.range)},t}(mU),jie=function(e){Qg(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(mU),$ie=function(e){Qg(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){return Kie(n)},t.prototype.normalizeTo=function(n){return this},t.prototype.hasEntireColumn=function(n){return!0},t.prototype.hasEntireRow=function(n){return!0},t.prototype.size=function(n){return kO(n)*LO(n)},t.prototype.has=function(n,i){return!0},t.prototype.equals=function(n){return n instanceof t},t}(jie),Yie=function(e){Qg(t,e);function t(n,i){var r=this;if(!M8(n))throw new E8("start");if(!M8(i))throw new E8("end");return r=e.call(this)||this,r.start=Math.min(n,i),r.end=Math.max(n,i),r}return t.prototype.equals=function(n){return n instanceof t&&this.constructor===n.constructor&&this.start===n.start&&this.end===n.end},t}(jie),vL=function(e){Qg(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){var i=gU(n);return new rf({row:this.start,column:0},{row:this.end,column:i.column})},t.prototype.normalizeTo=function(n){var i=LO(n),r=new t(Math.max(this.start,0),Math.min(this.end,i-1));return r},t.prototype.hasEntireRow=function(n){return n>=this.start&&n<=this.end},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(n){var i=this.end-this.start+1;return i*kO(n)},t.prototype.has=function(n,i){return i.row>=this.start&&i.row<=this.end},t}(Yie),yL=function(e){Qg(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){var i=gU(n);return new rf({row:0,column:this.start},{row:i.row,column:this.end})},t.prototype.normalizeTo=function(n){var i=kO(n),r=new t(Math.max(this.start,0),Math.min(this.end,i-1));return r},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return n>=this.start&&n<=this.end},t.prototype.size=function(n){var i=this.end-this.start+1;return i*LO(n)},t.prototype.has=function(n,i){return i.column>=this.start&&i.column<=this.end},t}(Yie);function Kie(e){var t=gU(e);return new rf(GI,t)}function M8(e){return Number.isInteger(e)&&e>=0}var E8=function(e){Qg(t,e);function t(n){return e.call(this,"".concat(n," is not a valid index. It must be 0 or a positive integer"))||this}return t}(Error),qie="text/plain",Y5e=":focus-within";function K5e(e){e.selectionStart=e.selectionEnd=e.value.length}function zI(e,t,n){t===void 0&&(t=0),n===void 0&&(n=1);var i=[];if(Math.sign(e-t)===-1){for(var r=t;r>e;r-=n)i.push(r);return i}for(var r=t;r<e;r+=n)i.push(r);return i}function VG(e,t){return!!(e&&$5e(t,e))}function C_(e){return{width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop}}function q5e(e,t){var n;(n=e.clipboardData)===null||n===void 0||n.setData(qie,t)}function Z5e(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData(qie):""}function UG(e,t,n){var i=t&&t[e.row],r=n&&n[e.column];return i&&r&&rt(rt({},i),r)}function Zie(e,t,n){var i=UG(n.start,e,t),r=UG(n.end,e,t);return i&&r&&{width:r.left+r.width-i.left,height:r.top+r.height-i.top,top:i.top,left:i.left}}function X5e(e,t,n,i){var r=i.toRange(n);return r?Zie(e,t,r):void 0}function Q5e(e){var t=H5e(function(n){return(n==null?void 0:n.value)||""},e);return V5e(t)}function J5e(e,t,n){var i=Jg(e),r=i.columns,s=i.rows;return{rows:t?Math.max(s,t.length):s,columns:n?Math.max(r,n.length):r}}function b_(e,t){return e!==null&&t==="view"&&Xie(e)}function Xie(e){return e.matches(Y5e)}function eWe(e){return typeof e=="string"&&e.includes(`
`)}function Vh(e){return"".concat(e.row,",").concat(e.column)}function WG(e){var t=zi(e.split(","),2),n=t[0],i=t[1];return{row:Number(n),column:Number(i)}}var Gh=function(){function e(t){this.set=t}return e.from=function(t){var n,i,r=new Set;try{for(var s=hr(t),o=s.next();!o.done;o=s.next()){var a=o.value;r.add(Vh(a))}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return new e(r)},e.prototype.has=function(t){return this.set.has(Vh(t))},Object.defineProperty(e.prototype,"size",{get:function(){return this.set.size},enumerable:!1,configurable:!0}),e.prototype.add=function(t){var n=new Set(this.set);return n.add(Vh(t)),new e(n)},e.prototype.delete=function(t){var n=new Set(this.set);return n.delete(Vh(t))?new e(n):this},e.prototype.difference=function(t){var n,i,r=this;try{for(var s=hr(t),o=s.next();!o.done;o=s.next()){var a=o.value;r=r.delete(a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r},e.prototype.union=function(t){var n,i,r=this;try{for(var s=hr(t),o=s.next();!o.done;o=s.next()){var a=o.value;r=r.add(a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r},e.prototype[Symbol.iterator]=function(){var t,n,i,r,s,o;return cR(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),t=hr(this.set),n=t.next(),a.label=1;case 1:return n.done?[3,4]:(i=n.value,[4,WG(i)]);case 2:a.sent(),a.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return r=a.sent(),s={error:r},[3,7];case 6:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(s)throw s.error}return[7];case 7:return[2]}})},e}(),tWe="=";function uR(e){return typeof e=="string"&&e.startsWith(tWe)&&e.length>1}function vU(e){return e.slice(1)}function dR(e,t){return new p5e(rt(rt({},t),{onCell:function(n){var i={row:n.row-1,column:n.col-1},r=gl(i,e);return isNaN(r==null?void 0:r.value)?r==null?void 0:r.value:Number(r==null?void 0:r.value)},onRange:function(n){var i=Jg(e),r={row:n.from.row-1,column:n.from.col-1},s={row:Math.min(n.to.row-1,i.rows-1),column:Math.min(n.to.col-1,i.columns-1)},o=Uie(r,s,e);return j5e(o,function(a){return isNaN(a==null?void 0:a.value)?a==null?void 0:a.value:Number(a==null?void 0:a.value)})}}))}var nWe=new Lg.DepParser;function Qie(e,t,n){var i=Jg(n),r=i.rows,s=i.columns;try{var o=nWe.parse(e,Jie(t)),a=Gh.from(o.flatMap(function(l){var c="from"in l;if(c){var u=l.from,d=l.to,h={row:u.row-1,column:u.col-1},p={row:Math.min(d.row-1,r-1),column:Math.min(d.col-1,s-1)},m=new rf(h,p);return Array.from(m)}return{row:l.row-1,column:l.col-1}}));return a}catch(l){if(l instanceof Lg.FormulaError)return Gh.from([]);throw l}}function iWe(e,t,n){try{var i=Jie(t),r=n.parse(e,i);return r instanceof Lg.FormulaError?r.toString():r}catch(s){if(s instanceof Lg.FormulaError)return s.toString();throw s}}function Jie(e){return{row:e.row+1,col:e.column+1,sheet:"Sheet1"}}var rWe=function(){function e(t){t===void 0&&(t=new Map),this.forwards=t}return e.from=function(t){var n,i,r=new Map;try{for(var s=hr(t),o=s.next();!o.done;o=s.next()){var a=zi(o.value,2),l=a[0],c=a[1];r.set(Vh(l),c)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return new e(r)},e.prototype.set=function(t,n){var i=new e(new Map(this.forwards));return n.size===0?(i.forwards.delete(Vh(t)),i):(i.forwards.set(Vh(t),n),i)},e.prototype.get=function(t){return this.forwards.get(Vh(t))||Gh.from([])},e.prototype.getBackwards=function(t){var n,i,r=Gh.from([]);try{for(var s=hr(this.forwards),o=s.next();!o.done;o=s.next()){var a=zi(o.value,2),l=a[0],c=a[1];c.has(t)&&(r=r.add(WG(l)))}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r},e.prototype.getBackwardsRecursive=function(t,n){var i,r;n===void 0&&(n=Gh.from([]));var s=this.getBackwards(t),o=n;try{for(var a=hr(s),l=a.next();!l.done;l=a.next()){var c=l.value;o.has(c)||(o=o.add(c),s=s.union(this.getBackwardsRecursive(c,o)))}}catch(u){i={error:u}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},e.prototype.hasCircularDependency=function(t){for(var n,i,r=Gh.from([]),s=[t];s.length>0;){var o=s.pop();if(o){if(r.has(o))return!0;r=r.add(o);var a=this.get(o);if(a)try{for(var l=(n=void 0,hr(a)),c=l.next();!c.done;c=l.next()){var u=c.value;s.push(u)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}return!1},e.prototype[Symbol.iterator]=function(){var t,n,i,r,s,o,a,l,c,u,d,h,p,m,v,y,C;return cR(this,function(S){switch(S.label){case 0:t=new Set,S.label=1;case 1:S.trys.push([1,13,14,15]),n=hr(this.forwards),i=n.next(),S.label=2;case 2:return i.done?[3,12]:(r=zi(i.value,2),s=r[0],o=r[1],a=WG(s),t.add(s),[4,[a,o]]);case 3:S.sent(),S.label=4;case 4:S.trys.push([4,9,10,11]),l=(y=void 0,hr(o)),c=l.next(),S.label=5;case 5:return c.done?[3,8]:(u=c.value,d=Vh(u),!t.has(d)&&!this.forwards.has(d)?(t.add(d),[4,[u,Gh.from([])]]):[3,7]);case 6:S.sent(),S.label=7;case 7:return c=l.next(),[3,5];case 8:return[3,11];case 9:return h=S.sent(),y={error:h},[3,11];case 10:try{c&&!c.done&&(C=l.return)&&C.call(l)}finally{if(y)throw y.error}return[7];case 11:return i=n.next(),[3,2];case 12:return[3,15];case 13:return p=S.sent(),m={error:p},[3,15];case 14:try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(m)throw m.error}return[7];case 15:return[2]}})},e.prototype.traverseBFSBackwards=function(){var t,n,i,r,s,a,o,a,l,c,u,d,h,p,m,v;return cR(this,function(y){switch(y.label){case 0:t=Gh.from([]),n=[];try{for(i=hr(this),r=i.next();!r.done;r=i.next())s=zi(r.value,2),a=s[0],o=s[1],o.size===0&&(t=t.add(a),n.push(a))}catch(C){h={error:C}}finally{try{r&&!r.done&&(p=i.return)&&p.call(i)}finally{if(h)throw h.error}}y.label=1;case 1:return n.length>0?(a=n.shift(),a?[4,a]:[3,1]):[3,3];case 2:if(y.sent(),l=this.getBackwards(a),l.size===0)return[3,1];try{for(c=(m=void 0,hr(l)),u=c.next();!u.done;u=c.next())d=u.value,!t.has(d)&&this.get(d).difference(t).size===0&&(n.push(d),t=t.add(d))}catch(C){m={error:C}}finally{try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(m)throw m.error}}return[3,1];case 3:return[2]}})},e}(),ag=function(){function e(t,n,i,r){this.createFormulaParser=t,this.data=n,this.referenceGraph=i||lWe(n),this.evaluatedData=r||cWe(n,this.referenceGraph,this.createFormulaParser)}return e}();function sWe(e,t,n){var i=Yh(t,n,e.data),r=uR(n.value)?oWe(e.referenceGraph,t,n,i):e.referenceGraph,s=e.createFormulaParser(i),o=aWe(e.evaluatedData,i,r,t,n,s);return new ag(e.createFormulaParser,i,r,o)}function oWe(e,t,n,i){var r=Qie(vU(n.value),t,i),s=e.set(t,r);return s}function aWe(e,t,n,i,r,s){var o,a,l,c;if(n.hasCircularDependency(i)){var u=Gh.from([i]),d=Yh(i,rt(rt({},r),{value:Lg.FormulaError.REF}),e);try{for(var h=hr(n.getBackwardsRecursive(i)),p=h.next();!p.done;p=h.next()){var m=p.value;if(u.has(m))break;u=u.add(m);var v=gl(m,t);v&&(d=Yh(m,rt(rt({},v),{value:Lg.FormulaError.REF}),d))}}catch(L){o={error:L}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return d}var y=e,C=uR(r.value)?jG(r.value,i,s):r.value,S=rt(rt({},r),{value:C});y=Yh(i,S,y);try{for(var x=hr(n.getBackwardsRecursive(i)),R=x.next();!R.done;R=x.next()){var m=R.value,v=gl(m,t);if(v){var A=uR(v.value)?jG(v.value,i,s):v.value,T=rt(rt({},v),{value:A});y=Yh(m,T,y)}}}catch(L){l={error:L}}finally{try{R&&!R.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}return y}function lWe(e){var t,n,i=[];try{for(var r=hr(pU(e)),s=r.next();!s.done;s=r.next()){var o=zi(s.value,2),a=o[0],l=o[1];if(l&&uR(l.value)){var c=Qie(vU(l.value),a,e);i.push([a,c])}}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return rWe.from(i)}function cWe(e,t,n){var i,r,s=e,o=n(s);try{for(var a=hr(t.traverseBFSBackwards()),l=a.next();!l.done;l=a.next()){var c=l.value,u=gl(c,e);if(u&&uR(u.value)){var d=jG(u.value,c,o);s=Yh(c,rt(rt({},u),{value:d}),s),o=n(s)}}}catch(h){i={error:h}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s}function jG(e,t,n){var i=vU(e);try{return iWe(i,t,n)}catch{return Lg.FormulaError.REF}}var $G={active:null,mode:"view",rowDimensions:{},columnDimensions:{},lastChanged:null,hasPasted:!1,cut:!1,dragging:!1,model:new ag(dR,[]),selected:new Wie,copied:null,lastCommit:null};function uWe(e,t){var n,i,r,s,o,a;switch(t.type){case wie:{var l=t.payload.data,c=e.active&&mL(e.active,l)?e.active:null,u=e.selected.normalizeTo(l);return rt(rt({},e),{model:new ag(e.model.createFormulaParser,l),active:c,selected:u})}case Sie:{var d=t.payload.createFormulaParser;return rt(rt({},e),{model:new ag(d,e.model.data)})}case xie:{var h=t.payload,p=h.row,m=h.extend,v=e.active;return rt(rt({},e),{selected:m&&v?new vL(v.row,p):new vL(p,p),active:m&&v?v:rt(rt({},GI),{row:p}),mode:"view"})}case Mie:{var y=t.payload,C=y.column,m=y.extend,v=e.active;return rt(rt({},e),{selected:m&&v?new yL(v.column,C):new yL(C,C),active:m&&v?v:rt(rt({},GI),{column:C}),mode:"view"})}case Eie:return rt(rt({},e),{selected:new $ie,active:GI,mode:"view"});case Rie:{var S=t.payload.selection,x=S.toRange(e.model.data),v=e.active&&S.has(e.model.data,e.active)?e.active:x==null?void 0:x.start;return rt(rt({},e),{selected:S,active:v||null,mode:"view"})}case Aie:{var R=t.payload.point;return e.active&&!VG(e.active,R)?rt(rt({},e),{selected:new Hb(new rf(R,e.active)),mode:"view"}):e}case Tie:{var R=t.payload.point;return rt(rt({},e),{selected:new Hb(new rf(R,R)),active:R,mode:VG(e.active,R)?"edit":"view"})}case Die:{var A=t.payload,v=A.active,T=A.data;return KG(e)?e:rt(rt({},e),{model:sWe(e.model,v,T),lastChanged:v})}case Iie:{var L=t.payload,R=L.point,O=L.dimensions,F=e.rowDimensions[R.row],H=e.columnDimensions[R.column];return F&&H&&F.top===O.top&&F.height===O.height&&H.left===O.left&&H.width===O.width?e:rt(rt({},e),{rowDimensions:rt(rt({},e.rowDimensions),(n={},n[R.row]={top:O.top,height:O.height},n)),columnDimensions:rt(rt({},e.columnDimensions),(i={},i[R.column]={left:O.left,width:O.width},i))})}case Nie:case HG:{var W=e.selected.toRange(e.model.data);return rt(rt({},e),{copied:W,cut:t.type===HG,hasPasted:!1})}case Lie:{var $=t.payload.data,v=e.active;if(!v)return e;var Z=U5e($,function(ot){return{value:ot}}),ie=Jg(Z),W=e.selected.toRange(e.model.data);if(W&&ie.rows===1&&ie.columns===1){var oe=gl({row:0,column:0},Z),te=e.cut&&e.copied?x8(e.copied.start,e.model.data):e.model.data,ae=[];try{for(var ne=hr(W||[]),Se=ne.next();!Se.done;Se=ne.next()){var R=Se.value,q=gl(R,e.model.data);ae.push({prevCell:q||null,nextCell:oe||null}),te=Yh(R,oe,te)}}catch(ot){r={error:ot}}finally{try{Se&&!Se.done&&(s=ne.return)&&s.call(ne)}finally{if(r)throw r.error}}return rt(rt({},e),{model:new ag(dR,te),copied:null,cut:!1,hasPasted:!0,mode:"view",lastCommit:ae})}var re={rows:v.row+ie.rows,columns:v.column+ie.columns},K=W5e(e.model.data,re),V={data:K,commit:[]};try{for(var G=hr(pU(Z)),se=G.next();!se.done;se=G.next()){var Y=zi(se.value,2),R=Y[0],oe=Y[1],ue=V.commit||[],J={row:R.row+v.row,column:R.column+v.column},he=V.data;if(e.cut){if(e.copied){var Te={row:R.row+e.copied.start.row,column:R.column+e.copied.start.column};he=x8(Te,V.data)}ue=ra(ra([],zi(ue),!1),[{prevCell:oe||null,nextCell:null}],!1)}mL(J,K)||(V={data:he,commit:ue});var q=gl(J,he)||null;ue=ra(ra([],zi(ue),!1),[{prevCell:q,nextCell:oe||null}],!1),V.data=Yh(J,rt(rt({value:void 0},q),oe),he),V.commit=ue}}catch(ot){o={error:ot}}finally{try{se&&!se.done&&(a=G.return)&&a.call(G)}finally{if(o)throw o.error}}return rt(rt({},e),{model:new ag(dR,V.data),selected:new Hb(new rf(v,{row:v.row+ie.rows-1,column:v.column+ie.columns-1})),copied:null,cut:!1,hasPasted:!0,mode:"view",lastCommit:V.commit})}case kie:return HI(e);case Oie:return tre(e);case b5e:return CL(e);case Pie:return ere(e);case Fie:{var ve=t.payload.event;if(KG(e)||ve.metaKey)return e;if(e.mode==="view"&&e.active){var W=e.selected.toRange(e.model.data);return(W==null?void 0:W.size())===1?HI(CL(e)):HI(e)}return e}case _ie:{var Re=t.payload.event,ke=ire(e,Re);return ke?rt(rt({},e),ke(e,Re)):e}case Bie:return rt(rt({},e),{dragging:!0});case Gie:return rt(rt({},e),{dragging:!1});case zie:{var He=t.payload.changes;return rt(rt({},e),nre(He))}default:throw new Error("Unknown action")}}function HI(e){return KG(e)?e:rt(rt({},e),{mode:"edit"})}function CL(e){var t,n;if(!e.active)return e;var i=function(p){return p&&!p.readOnly},r=function(p){return i(p)?Object.assign({},p,{value:void 0}):p},s=e.selected.toRange(e.model.data),o=[],a=e.model.data;try{for(var l=hr(s||[]),c=l.next();!c.done;c=l.next()){var u=c.value,d=gl(u,e.model.data),h=r(d);o.push({prevCell:d||null,nextCell:h||null}),a=Yh(u,h,a)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return rt(rt(rt({},e),{model:new ag(dR,a)}),nre(o))}function ere(e){return rt(rt({},e),{active:null,selected:new Wie})}function tre(e){return rt(rt({},e),{mode:"view"})}function nre(e){return{lastCommit:e}}var Lv=function(e,t){return function(n){if(n.active){var i=Jg(n.model.data),r=n.active.column+t,s=r>=i.columns,o={row:n.active.row+e+(s?1:0),column:(n.active.column+t)%i.columns};return mL(o,n.model.data)?rt(rt({},n),{active:o,selected:new Hb(new rf(o,o)),mode:"view"}):rt(rt({},n),{mode:"view"})}}},YG={ArrowUp:Lv(-1,0),ArrowDown:Lv(1,0),ArrowLeft:Lv(0,-1),ArrowRight:Lv(0,1),Tab:Lv(0,1),Enter:HI,Backspace:CL,Delete:CL,Escape:ere},dWe={Escape:tre,Tab:YG.Tab,Enter:YG.ArrowDown},hWe={Tab:Lv(0,-1)},rs;(function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"})(rs||(rs={}));var fWe={ArrowUp:function(e){return rt(rt({},e),{selected:KD(e.selected,e.active,e.model.data,rs.Top)})},ArrowDown:function(e){return rt(rt({},e),{selected:KD(e.selected,e.active,e.model.data,rs.Bottom)})},ArrowLeft:function(e){return rt(rt({},e),{selected:KD(e.selected,e.active,e.model.data,rs.Left)})},ArrowRight:function(e){return rt(rt({},e),{selected:KD(e.selected,e.active,e.model.data,rs.Right)})},Tab:Lv(0,-1)},pWe={},gWe={};function ire(e,t){var n=t.key,i;return e.mode==="edit"?t.shiftKey?i=hWe:i=dWe:t.shiftKey&&t.metaKey?i=pWe:t.shiftKey?i=fWe:t.metaKey?i=gWe:i=YG,i[n]}function mWe(e,t){return ire(e,t)!==void 0}function KG(e){var t=vWe(e);return!!(t!=null&&t.readOnly)}function vWe(e){var t=e.active&&gl(e.active,e.model.data);return t||null}function KD(e,t,n,i){if(!t)return e;if(e instanceof Hb){var r=yWe(e,t,n,i);return r}return e instanceof yL?bWe(e,t,n,i):e instanceof vL?CWe(e,t,n,i):e}function yWe(e,t,n,i){var r,s=i===rs.Left||i===rs.Right?"column":"row",o=i===rs.Left||i===rs.Top?"start":"end",a=o==="start"?-1:1,l=e.range.has(rt(rt({},t),(r={},r[s]=t[s]+a*-1,r))),c=l?o==="start"?"end":"start":o,u=new rf(e.range.start,e.range.end);u[c][s]+=a;var d=new Hb(u).normalizeTo(n);return d}function CWe(e,t,n,i){if(i===rs.Left||i===rs.Right)return e;var r=i===rs.Top?-1:1,s=i===rs.Top?"start":"end",o=s==="start"?"end":"start",a=rt({},e);(i===rs.Top?e.end>t.row:e.start<t.row)?a[o]=e[o]+r:a[s]=e[s]+r;var l=new vL(Math.max(a.start,0),Math.max(a.end,0));return l.normalizeTo(n)}function bWe(e,t,n,i){if(i===rs.Top||i===rs.Bottom)return e;var r=i===rs.Left?-1:1,s=i===rs.Left?"start":"end",o=s==="start"?"end":"start",a=rt({},e);(i===rs.Left?e.end>t.row:e.start<t.row)?a[o]=e[o]+r:a[s]=e[s]+r;var l=new yL(Math.max(a.start,0),Math.max(a.end,0));return l.normalizeTo(n)}var yU=C5e([$G,function(){}]),wWe=function(e){var t=e.children,n=e.columns,i=e.hideColumnIndicators,r=n+(i?0:1),s=zI(r).map(function(o){return I.createElement("col",{key:o})});return I.createElement("table",{className:"Spreadsheet__table"},I.createElement("colgroup",null,s),I.createElement("tbody",null,t))},SWe=function(e){return I.createElement("tr",rt({},e))},xWe=function(e){return I.createElement("tr",rt({},e))};function _1(){return bie(yU,function(e){var t=zi(e,2);t[0];var n=t[1];return n})}function ts(e){return bie(yU,function(t){var n=zi(t,1),i=n[0];return e(i)})}var MWe=function(e){var t=e.selected,n=e.onSelect,i=I.useCallback(function(){n()},[n]);return I.createElement("th",{className:qg("Spreadsheet__header",{"Spreadsheet__header--selected":t}),onClick:i,tabIndex:0})},EWe=function(e){return function(n){var i=_1(),r=I.useCallback(function(){return i(E5e())},[i]),s=ts(function(o){return o.selected instanceof $ie});return I.createElement(e,rt({},n,{selected:s,onSelect:r}))}},RWe=function(e){var t=e.column,n=e.label,i=e.selected,r=e.onSelect,s=I.useCallback(function(o){r(t,o.shiftKey)},[r,t]);return I.createElement("th",{className:qg("Spreadsheet__header",{"Spreadsheet__header--selected":i}),onClick:s,tabIndex:0},n!==void 0?n:TWe(t))},AWe=function(e){return function(n){var i=_1(),r=I.useCallback(function(o,a){return i(M5e(o,a))},[i]),s=ts(function(o){return o.selected.hasEntireColumn(n.column)});return I.createElement(e,rt({},n,{selected:s,onSelect:r}))}};function TWe(e){for(var t="",n=e;n>=0;)t=String.fromCharCode(65+n%26)+t,n=Math.floor(n/26)-1;return t}var DWe=function(e){var t=e.row,n=e.label,i=e.selected,r=e.onSelect,s=I.useCallback(function(o){r(t,o.shiftKey)},[r,t]);return I.createElement("th",{className:qg("Spreadsheet__header",{"Spreadsheet__header--selected":i}),onClick:s,tabIndex:0},n!==void 0?n:t+1)},IWe=function(e){return function(n){var i=_1(),r=ts(function(o){return o.selected.hasEntireRow(n.row)}),s=I.useCallback(function(o,a){return i(x5e(o,a))},[i]);return I.createElement(e,rt({},n,{selected:r,onSelect:s}))}},NWe=function(e){var t=e.row,n=e.column,i=e.DataViewer,r=e.selected,s=e.active,o=e.dragging,a=e.mode,l=e.data,c=e.evaluatedData,u=e.select,d=e.activate,h=e.setCellDimensions,p=e.setCellData,m=I.useRef(null),v=I.useMemo(function(){return{row:t,column:n}},[t,n]),y=I.useCallback(function(S){a==="view"&&(h(v,C_(S.currentTarget)),S.shiftKey?u(v):d(v))},[a,h,v,u,d]),C=I.useCallback(function(S){o&&(h(v,C_(S.currentTarget)),u(v))},[h,u,o,v]);return I.useEffect(function(){var S=m.current;r&&S&&h(v,C_(S)),S&&s&&a==="view"&&S.focus()},[h,r,s,a,v,l]),l&&l.DataViewer&&(i=l.DataViewer),I.createElement("td",{ref:m,className:qg("Spreadsheet__cell",l==null?void 0:l.className,{"Spreadsheet__cell--readonly":l==null?void 0:l.readOnly}),onMouseOver:C,onMouseDown:y,tabIndex:0},I.createElement(i,{row:t,column:n,cell:l,evaluatedCell:c,setCellData:p}))},LWe=function(e){return function(n){var i=n.row,r=n.column,s=_1(),o=I.useMemo(function(){return{row:i,column:r}},[i,r]),a=I.useCallback(function(S){return s(Vie(o,S))},[s,o]),l=I.useCallback(function(S){return s(A5e(S))},[s]),c=I.useCallback(function(S){return s(Hie(S))},[s]),u=I.useCallback(function(S,x){return s(T5e(S,x))},[s]),d=ts(function(S){return VG(S.active,o)}),h=ts(function(S){return d?S.mode:"view"}),p=ts(function(S){return gl(o,S.model.data)}),m=ts(function(S){return gl(o,S.model.evaluatedData)}),v=ts(function(S){return S.selected.has(S.model.data,o)}),y=ts(function(S){return S.dragging}),C=ts(function(S){var x;return((x=S.copied)===null||x===void 0?void 0:x.has(o))||!1});return I.createElement(e,rt({},n,{selected:v,active:d,copied:C,dragging:y,mode:h,evaluatedData:m,data:p,select:l,activate:c,setCellDimensions:u,setCellData:a}))}},kWe="TRUE",OWe="FALSE",PWe=function(e){var t=e.cell,n=e.evaluatedCell,i=FWe(t,n);return typeof i=="boolean"?I.createElement("span",{className:"Spreadsheet__data-viewer Spreadsheet__data-viewer--boolean"},_We(i)):I.createElement("span",{className:qg("Spreadsheet__data-viewer",{"Spreadsheet__data-viewer--preserve-breaks":eWe(i)})},i)};function FWe(e,t){var n,i=(n=t==null?void 0:t.value)!==null&&n!==void 0?n:e==null?void 0:e.value;return i&&typeof i=="object"?i.toString():i}function _We(e){return e?kWe:OWe}var BWe=function(e){var t,n=e.onChange,i=e.cell,r=I.useRef(null),s=I.useCallback(function(a){n(rt(rt({},i),{value:a.target.value}))},[n,i]);I.useEffect(function(){r.current&&K5e(r.current)},[r]);var o=(t=i==null?void 0:i.value)!==null&&t!==void 0?t:"";return I.createElement("div",{className:"Spreadsheet__data-editor"},I.createElement("input",{ref:r,type:"text",onChange:s,value:o,autoFocus:!0}))},GWe=function(e){var t=I.useRef(null),n=_1(),i=I.useCallback(function(S,x){return n(Vie(S,x))},[n]),r=I.useCallback(function(){return n(_5e())},[n]),s=I.useCallback(function(S){return n(O5e(S))},[n]),o=I.useCallback(function(){n(B5e())},[n]),a=ts(function(S){return S.active}),l=ts(function(S){return S.mode}),c=ts(function(S){return S.active?gl(S.active,S.model.data):void 0}),u=ts(function(S){return a?UG(a,S.rowDimensions,S.columnDimensions):void 0}),d=I.useMemo(function(){return!a||!u},[a,u]),h=I.useRef(void 0),p=I.useRef(null),m=I.useRef(void 0),v=I.useCallback(function(S){a&&i(a,S)},[i,a]);I.useEffect(function(){var S=t.current;!d&&S&&S.focus()},[t,d]),I.useEffect(function(){var S=p.current,x=m.current;if(p.current=a,m.current=c,!(!S||!x)){var R=(a==null?void 0:a.row)!==S.row||(a==null?void 0:a.column)!==S.column,A=l!=="edit";if(R||A){var T=h.current;x!==T?s([{prevCell:T||null,nextCell:x}]):!R&&c!==x&&s([{prevCell:x,nextCell:c||null}]),h.current=c}}});var y=c&&c.DataEditor||e.DataEditor,C=c&&c.readOnly;return d?null:I.createElement("div",{ref:t,className:qg("Spreadsheet__active-cell","Spreadsheet__active-cell--".concat(l)),style:u,onClick:l==="view"&&!C?r:void 0,tabIndex:0},l==="edit"&&a&&I.createElement(y,{row:a.row,column:a.column,cell:c,onChange:v,exitEditMode:o}))},rre=function(e){var t,n=e.dimensions,i=e.dragging,r=e.hidden,s=e.variant,o=n||{},a=o.width,l=o.height,c=o.top,u=o.left;return I.createElement("div",{className:qg("Spreadsheet__floating-rect",(t={},t["Spreadsheet__floating-rect--".concat(s)]=s,t["Spreadsheet__floating-rect--dragging"]=i,t["Spreadsheet__floating-rect--hidden"]=r,t)),style:{width:a,height:l,top:c,left:u}})},zWe=function(){var e=ts(function(r){return r.selected}),t=ts(function(r){return e&&X5e(r.rowDimensions,r.columnDimensions,r.model.data,r.selected)}),n=ts(function(r){return r.dragging}),i=ts(function(r){return r.selected.size(r.model.data)<2});return I.createElement(rre,{variant:"selected",dimensions:t,dragging:n,hidden:i})},HWe=function(){var e=ts(function(i){return i.copied}),t=ts(function(i){return e&&Zie(i.rowDimensions,i.columnDimensions,e)}),n=e===null;return I.createElement(rre,{variant:"copied",dimensions:t,hidden:n,dragging:!1})};function VWe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var UWe=`.Spreadsheet {
  --background-color: white;
  --text-color: black;
  --readonly-text-color: rgb(0 0 0 / 40%);
  --outline-color: #4285f4;
  --outline-background-color: rgb(160 195 255 / 20%);
  --border-color: hsl(2deg 0% 91%);
  --header-background-color: rgb(0 0 0 / 4%);
  --elevation: 0 2px 5px rgb(0 0 0 / 40%);

  position: relative;
  overflow: visible;
  background: var(--background-color);
  color: var(--text-color);
  display: inline-block;
}

.Spreadsheet--dark-mode {
  --background-color: black;
  --text-color: white;
  --readonly-text-color: rgb(255 255 255 / 40%);
  --header-background-color: rgb(255 255 255 / 4%);
  --border-color: hsl(2deg 0% 19%);
}

.Spreadsheet__active-cell {
  position: absolute;
  border: 2px solid var(--outline-color);
  box-sizing: border-box;
}

.Spreadsheet__active-cell--edit {
  background: var(--background-color);
  box-shadow: var(--elevation);
}

.Spreadsheet__table {
  border-collapse: collapse;
  table-layout: fixed;
}

.Spreadsheet__cell,
.Spreadsheet__active-cell {
  cursor: cell;
}

.Spreadsheet__cell {
  outline: none;
}

.Spreadsheet__cell--readonly {
  color: var(--readonly-text-color);
}

.Spreadsheet__cell,
.Spreadsheet__header {
  min-width: 6em;
  min-height: 1.9em;
  height: 1.9em;
  max-height: 1.9em;
  border: 1px solid var(--border-color);
  overflow: hidden;
  word-break: keep-all;
  white-space: nowrap;
  text-align: left;
  box-sizing: border-box;
  user-select: none;
}

.Spreadsheet__header {
  background: var(--header-background-color);
  color: var(--readonly-text-color);
  text-align: center;
  font: inherit;
}

.Spreadsheet__header--selected {
  background: #5f6268;
  color: #fff;
}

.Spreadsheet__header,
.Spreadsheet__data-viewer,
.Spreadsheet__data-editor input {
  padding: 4px;
  box-sizing: border-box;
}

.Spreadsheet__data-viewer--preserve-breaks {
  white-space: pre-wrap;
}

.Spreadsheet__data-editor,
.Spreadsheet__data-editor input {
  width: 100%;
  height: 100%;
}

.Spreadsheet__data-editor input {
  font: inherit;
  color: inherit;
  background: none;
  border: none;
  outline: none;
  margin: 0;
}

.Spreadsheet__data-viewer--boolean {
  text-align: center;
}

.Spreadsheet__floating-rect {
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
}

.Spreadsheet__floating-rect--hidden {
  display: none;
}

.Spreadsheet__floating-rect--selected {
  background: var(--outline-background-color);
  border: 2px var(--outline-color) solid;
}

.Spreadsheet__floating-rect--dragging {
  border: none;
}

.Spreadsheet__floating-rect--copied {
  border: 2px var(--outline-color) dashed;
}
`;VWe(UWe);var WWe=function(e,t){var n,i=e.className,r=e.darkMode,s=e.columnLabels,o=e.rowLabels,a=e.hideColumnIndicators,l=e.hideRowIndicators,c=e.onKeyDown,u=e.Table,d=u===void 0?wWe:u,h=e.Row,p=h===void 0?SWe:h,m=e.HeaderRow,v=m===void 0?xWe:m,y=e.DataEditor,C=y===void 0?BWe:y,S=e.DataViewer,x=S===void 0?PWe:S,R=e.onChange,A=R===void 0?function(){}:R,T=e.onModeChange,L=T===void 0?function(){}:T,O=e.onSelect,F=O===void 0?function(){}:O,H=e.onActivate,W=H===void 0?function(){}:H,$=e.onBlur,Z=$===void 0?function(){}:$,ie=e.onCellCommit,oe=ie===void 0?function(){}:ie,te=e.onEvaluatedDataChange,ae=te===void 0?function(){}:te,ne=I.useMemo(function(){var bt=e.createFormulaParser||dR,fn=new ag(bt,e.data);return rt(rt({},$G),{model:fn,selected:e.selected||$G.selected})},[e.createFormulaParser,e.data,e.selected]),Se=I.useReducer(uWe,ne),q=zi(Se,2),re=q[0],K=q[1],V=I.useMemo(function(){return J5e(re.model.data,o,s)},[re.model.data,o,s]),G=re.mode,se=I.useRef(null),Y=function(bt){return I.useCallback(function(){for(var fn=[],Mi=0;Mi<arguments.length;Mi++)fn[Mi]=arguments[Mi];return K(bt.apply(void 0,ra([],zi(fn),!1)))},[bt])},ue=Y(F5e),J=Y(P5e),he=Y(D5e),Te=Y(N5e),ve=Y(I5e),Re=Y(L5e),ke=Y(k5e),He=Y(w5e),st=Y(S5e),Dt=Y(G5e),ot=Y(R5e),dt=Y(Hie),Ue=I.useMemo(function(){return{activate:function(bt){dt(bt)}}},[]);I.useImperativeHandle(t,function(){return Ue});var qe=I.useRef(re.active);I.useEffect(function(){if(re.active!==qe.current)if(re.active)W(re.active);else{var bt=se.current;bt&&Xie(bt)&&document.activeElement&&document.activeElement.blur(),Z()}qe.current=re.active},[W,Z,re.active]);var at=I.useRef(re.model.data);I.useEffect(function(){re.model.data!==at.current&&re.model.data!==e.data&&A(re.model.data),at.current=re.model.data},[re.model.data,A,e.data]);var nt=I.useRef(re.model.evaluatedData);I.useEffect(function(){var bt,fn;((bt=re==null?void 0:re.model)===null||bt===void 0?void 0:bt.evaluatedData)!==(nt==null?void 0:nt.current)&&ae((fn=re==null?void 0:re.model)===null||fn===void 0?void 0:fn.evaluatedData),nt.current=re.model.evaluatedData},[(n=re==null?void 0:re.model)===null||n===void 0?void 0:n.evaluatedData,ae]);var Fe=I.useRef(re.selected);I.useEffect(function(){re.selected.equals(Fe.current)||(!e.selected||!re.selected.equals(e.selected))&&F(re.selected),Fe.current=re.selected},[re.selected,F,e.selected]);var de=I.useRef(re.mode);I.useEffect(function(){re.mode!==de.current&&L(re.mode),de.current=re.mode},[re.mode,L]);var we=I.useRef(re.lastCommit);I.useEffect(function(){var bt,fn;if(re.lastCommit&&re.lastCommit!==we.current)try{for(var Mi=hr(re.lastCommit),sn=Mi.next();!sn.done;sn=Mi.next()){var Wa=sn.value;oe(Wa.prevCell,Wa.nextCell,re.lastChanged)}}catch(th){bt={error:th}}finally{try{sn&&!sn.done&&(fn=Mi.return)&&fn.call(Mi)}finally{if(bt)throw bt.error}}},[oe,re.lastChanged,re.lastCommit]);var Ge=I.useRef(e.selected);I.useEffect(function(){e.selected&&Ge.current&&!e.selected.equals(Ge.current)&&ot(e.selected),Ge.current=e.selected},[e.selected,ot]);var Le=I.useRef(e.data);I.useEffect(function(){e.data!==Le.current&&He(e.data),Le.current=e.data},[e.data,He]);var Qe=I.useRef(e.createFormulaParser);I.useEffect(function(){e.createFormulaParser!==Qe.current&&e.createFormulaParser&&st(e.createFormulaParser),Qe.current=e.createFormulaParser},[e.createFormulaParser,st]);var mt=I.useCallback(function(bt){var fn=re.model,Mi=re.selected,sn=fn.data,Wa=Mi.toRange(sn);if(Wa){var th=Uie(Wa.start,Wa.end,sn),ha=Q5e(th);q5e(bt,ha)}},[re]),ln=I.useCallback(function(bt){b_(se.current,G)&&(bt.preventDefault(),bt.stopPropagation(),mt(bt),ue())},[G,mt,ue]),Mn=I.useCallback(function(bt){b_(se.current,G)&&(bt.preventDefault(),bt.stopPropagation(),mt(bt),J())},[G,mt,J]),Lt=I.useCallback(function(bt){if(b_(se.current,G)&&(bt.preventDefault(),bt.stopPropagation(),bt.clipboardData)){var fn=Z5e(bt);he(fn)}},[G,he]),jt=I.useCallback(function(bt){bt.persist(),c&&c(bt),bt.defaultPrevented||(mWe(re,bt)&&bt.nativeEvent.preventDefault(),Te(bt))},[re,c,Te]),Vn=I.useCallback(function(){ke(),document.removeEventListener("mouseup",Vn)},[ke]),ls=I.useCallback(function(bt){!re.dragging&&bt.buttons===1&&(Re(),document.addEventListener("mouseup",Vn))},[re,Re,Vn]),jr=I.useCallback(function(bt){bt.currentTarget.contains(bt.relatedTarget)||Dt()},[Dt]),Ss=I.useMemo(function(){return LWe(e.Cell||NWe)},[e.Cell]),fc=I.useMemo(function(){return EWe(e.CornerIndicator||MWe)},[e.CornerIndicator]),Qt=I.useMemo(function(){return IWe(e.RowIndicator||DWe)},[e.RowIndicator]),Un=I.useMemo(function(){return AWe(e.ColumnIndicator||RWe)},[e.ColumnIndicator]);I.useEffect(function(){return document.addEventListener("cut",ln),document.addEventListener("copy",Mn),document.addEventListener("paste",Lt),function(){document.removeEventListener("cut",ln),document.removeEventListener("copy",Mn),document.removeEventListener("paste",Lt)}},[ln,Mn,Lt]);var In=I.useMemo(function(){return I.createElement(d,{columns:V.columns,hideColumnIndicators:a},I.createElement(v,null,!l&&!a&&I.createElement(fc,null),!a&&zI(V.columns).map(function(bt){return s?I.createElement(Un,{key:bt,column:bt,label:bt in s?s[bt]:null}):I.createElement(Un,{key:bt,column:bt})})),zI(V.rows).map(function(bt){return I.createElement(p,{key:bt,row:bt},!l&&(o?I.createElement(Qt,{key:bt,row:bt,label:bt in o?o[bt]:null}):I.createElement(Qt,{key:bt,row:bt})),zI(V.columns).map(function(fn){return I.createElement(Ss,{key:fn,row:bt,column:fn,DataViewer:x})}))}))},[d,V.rows,V.columns,a,p,v,l,fc,s,Un,o,Qt,Ss,x]),$r=I.useMemo(function(){return I.createElement(GWe,{DataEditor:C})},[C]),Fs=I.useMemo(function(){return I.createElement("div",{ref:se,className:qg("Spreadsheet",i,{"Spreadsheet--dark-mode":r}),onKeyPress:ve,onKeyDown:jt,onMouseMove:ls,onBlur:jr},In,$r,I.createElement(zWe,null),I.createElement(HWe,null))},[i,r,ve,jt,ls,jr,In,$r]);return I.createElement(yU.Provider,{value:Se},Fs)},jWe=I.forwardRef(WWe);const w_=[0,1,2,3,5,6,7],R8=["buy_company_name","product_id","product_name","sell_count","buy_count","avg_price","set_sale_price","master_purchase_price","purchase_price","total_purchase_price","flag"],$We=["매입사","상품ID","상품명","판매수량","매입수량","평균판매금액","판매설정금액","기준매입단가","매입단가","합계금액","기준매입단가 수정여부"];function YWe(){const[e,t]=I.useState(),[n,i]=I.useState(void 0),[r,s]=I.useState(!1),[o,a]=I.useState(!1),{showConfirm:l}=jV(),{setAlertMessage:c}=I1(),{data:u}=bg({queryKey:["availableDates"],queryFn:()=>Ls({method:"get",endpoint:"/order/available-vegetable-purchase-date",baseURL:"https://admin.xn--wv4b09focz31b.com"})}),{data:d,isLoading:h}=bg({queryKey:["purchaseData",n],queryFn:()=>Ls({method:"get",endpoint:"/order/batch-vegetable-purchase-product-manual",baseURL:"https://admin.xn--wv4b09focz31b.com",params:{estimated_delivery_date:n?Er(n,"yyyy-MM-dd"):""}}),enabled:!!n});I.useEffect(()=>{var R;if(!h){if(d!=null&&d.table_data)try{let A=!1;e:for(let T=0;T<d.table_data.length;T++){const L=d.table_data[T];for(let O=0;O<R8.length;O++){const F=R8[O],H=(R=L==null?void 0:L[O])==null?void 0:R.key;if(H&&H!==F){console.warn("컬럼 key 순서 불일치로 데이터 바인딩 중단",{rowIndex:T,colIndex:O,expected:F,actual:H}),i(void 0),c(`${T+1}행 ${O+1}열 컬럼 키가 예상(${F})과 다릅니다: ${H}`),A=!0;break e}}}if(A)return}catch(A){console.warn("컬럼 key 순서 검사 중 오류",A),c("컬럼 구조 검사 중 오류가 발생했습니다.");return}t(v(d))}},[h,d,o,c]);const{request:p}=cy({requestFn:async()=>await Ls({method:"patch",endpoint:"/order/batch-vegetable-purchase-product-manual",baseURL:"https://admin.xn--wv4b09focz31b.com",body:{estimated_delivery_date:n?Er(n,"yyyy-MM-dd"):"",table_data:e==null?void 0:e.table_data}}),onSuccess:()=>{var T;const A=(()=>{const L=H=>{try{return H?new URL(H).origin:""}catch{return""}},O=window.__PARENT_ORIGIN||sessionStorage.getItem("parent_origin_locked"),F=L(O);return F||"*"})();n&&((T=window.parent)==null||T.postMessage({type:"VEG_PURCHASE_SUCCESS",payload:{date:Er(n,"yyyy-MM-dd")}},A))},showSpinner:!0,spinnerMessage:"매입 생성중"}),m=I.useCallback(()=>{const R={},A={};let T="";if(!(e!=null&&e.table_data)||!Array.isArray(e.table_data))return{};e.table_data.forEach((F,H)=>{var te,ae,ne;const W=String(((te=F[0])==null?void 0:te.value)||"").trim(),$=String(((ae=F[1])==null?void 0:ae.value)||"").trim(),Z=(ne=F[9])==null?void 0:ne.value,ie=typeof Z=="number"?Z:parseFloat(String(Z))||0;if(H===0&&!W)return;const oe=W||T;oe&&ie>0&&(R[oe]=(R[oe]||0)+ie,$&&(A[oe]||(A[oe]=new Set),A[oe].add($))),W&&(T=W)});const L={};return new Set([...Object.keys(R),...Object.keys(A)]).forEach(F=>{var H;L[F]={total:R[F]||0,productCount:((H=A[F])==null?void 0:H.size)||0}}),L},[e]),v=R=>({...R,table_data:R==null?void 0:R.table_data.map(A=>A.map((T,L)=>{if(T){const O=o||w_.includes(L);return{...T,readOnly:O}}return T}))}),y=I.useCallback(R=>{var T;const A=Er(R,"yyyy-MM-dd");return!((T=u==null?void 0:u.available_date)!=null&&T.includes(A))},[u]),C=R=>{if(R&&(u!=null&&u.available_date)){const A=Er(R,"yyyy-MM-dd");a(!u.available_date.includes(A))}else a(!1);i(R),s(!1)},S=I.useCallback(()=>{var T,L,O;if(!(e!=null&&e.table_data))return;const R=[{index:4,name:"매입수량"},{index:8,name:"매입단가"},{index:9,name:"합계금액"},{index:10,name:"기준매입단가수정여부"}];let A=null;e:for(let F=0;F<e.table_data.length;F++){const H=e.table_data[F];for(const{index:Z,name:ie}of R){const oe=(T=H[Z])==null?void 0:T.value;if(oe==null||oe===""){A=`${F+1}행 ${ie} 항목이 비어있습니다.`;break e}}const W=[{index:4,name:"매입수량"},{index:8,name:"매입단가"},{index:9,name:"합계금액"}];for(const{index:Z,name:ie}of W){const oe=(L=H[Z])==null?void 0:L.value,te=parseFloat(String(oe));if(isNaN(te)||te<0){A=`${F+1}행 ${ie} 항목은 0 이상의 숫자만 입력 가능합니다.`;break e}}const $=String(((O=H[10])==null?void 0:O.value)||"").trim().toUpperCase();if($!=="Y"&&$!=="N"){A=`${F+1}행 기준매입단가 수정여부는 "Y" 또는 "N" 값만 입력 가능합니다.`;break e}}if(A){c(A);return}l({title:"야채 매입 작성",message:`해당 페이지에서의 매입 작성은 최초 1회만 가능합니다.
수정은 해당 주문건 발주서 수정을 통해 가능합니다.`,onConfirm:()=>p()})},[e]),x=I.useCallback(R=>{const A=(e==null?void 0:e.table_data.length)??0,T=e!=null&&e.table_data?e.table_data.reduce((F,H)=>Math.max(F,H.length),0):0;let L=R;A&&R.length>A&&(L=R.slice(0,A)),T>0&&(L=L.map(F=>F.length>T?F.slice(0,T):F));const O=L.map((F,H)=>{var Y,ue,J,he;const W=(e==null?void 0:e.table_data[H])||[],Z=T||Math.max(W.length,F.length),ie=new Array(Z).fill(null).map((Te,ve)=>{const Re=F[ve],ke=W[ve];if(w_.includes(ve))return ke?{...ke}:ke??Re??null;if(!Re)return ke?{...ke}:Re??null;if(ke){let st=Re==null?void 0:Re.value;return ve===10&&typeof st=="string"&&(st=st.trim().toUpperCase()),{...ke,value:st}}const He=o||w_.includes(ve);return{...Re,readOnly:He}}),oe=parseFloat(String(((Y=W[4])==null?void 0:Y.value)??0))||0,te=parseFloat(String(((ue=W[8])==null?void 0:ue.value)??0))||0,ae=(()=>{var ve;const Te=(ve=W[9])==null?void 0:ve.value;return typeof Te=="number"?Te:parseFloat(String(Te))||0})(),ne=parseFloat(String(((J=ie[4])==null?void 0:J.value)??0))||0,Se=parseFloat(String(((he=ie[8])==null?void 0:he.value)??0))||0,q=ie[9],re=(()=>{const Te=q==null?void 0:q.value;return typeof Te=="number"?Te:parseFloat(String(Te))||0})(),K=ne!==oe,V=Se!==te,G=re!==ae;let se=[...ie];if(K||V){const Te=ne!==0&&Se>0?ne*Se:0,ve=W[9];se[9]={...ve,value:Te},(ve==null?void 0:ve.key)==="total_purchase_price"&&(se[9]={...ve,value:Te,key:"total_purchase_price"})}else if(G){const Te=W[9];se[9]={...Te,value:re},(Te==null?void 0:Te.key)==="total_purchase_price"&&(se[9]={...Te,value:re,key:"total_purchase_price"})}return se});e&&t({...e,table_data:O.map(F=>F.map(H=>H))})},[e,n,o]);return{selectedDate:n,purchaseData:e,isCalendarOpen:r,availableDates:u,isAllReadOnly:o,setIsCalendarOpen:s,handleDateSelect:C,handleChange:x,calculateSummary:m,handlePurchaseOrder:S,isDateUnavailable:y}}function KWe({cell:e,onChange:t,exitEditMode:n}){const i=String((e==null?void 0:e.value)??"").toUpperCase(),r=i==="Y"||i==="N"?i:void 0;return B.jsx("div",{className:"flex h-full w-full items-center overflow-hidden px-1",onMouseDown:s=>s.stopPropagation(),onClick:s=>s.stopPropagation(),children:B.jsxs(yG,{value:r,onValueChange:s=>{t({...e,value:s}),n==null||n()},disabled:e==null?void 0:e.readOnly,children:[B.jsx(bG,{size:"sm",className:"min-h-0 w-full rounded-sm text-xs",children:B.jsx(CG,{placeholder:"선택"})}),B.jsxs(wG,{disablePortal:!0,children:[B.jsx(wb,{value:"Y",children:"Y"}),B.jsx(wb,{value:"N",children:"N"})]})]})})}function qWe(){var m,v;const{selectedDate:e,purchaseData:t,isCalendarOpen:n,availableDates:i,isAllReadOnly:r,setIsCalendarOpen:s,handleDateSelect:o,handleChange:a,calculateSummary:l,handlePurchaseOrder:c,isDateUnavailable:u}=YWe(),d=((m=t==null?void 0:t.table_data)==null?void 0:m.length)||0,h=((v=i==null?void 0:i.available_date)==null?void 0:v.length)||0,p=I.useMemo(()=>t!=null&&t.table_data?t.table_data.map(y=>y.map((C,S)=>S===10?{...C,DataEditor:KWe}:C)):[],[t]);return B.jsxs("div",{className:"bg-background text-contrast flex h-screen flex-col",children:[B.jsx("div",{className:"border-border/50 flex items-center justify-between border p-4",children:B.jsxs(wV,{open:n,onOpenChange:s,children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm",children:"납품 예정일 : "}),B.jsx(SV,{asChild:!0,children:B.jsxs(no,{variant:"outline",size:"sm",className:"gap-1 text-xs",children:[B.jsx(t6,{className:"h-3 w-3"}),e?Er(e,"yyyy년 MM월 dd일",{locale:xte}):"날짜를 선택해주세요"]})}),B.jsx("div",{className:"flex items-center text-xs",children:h>0?B.jsxs(TV,{children:[B.jsx(DV,{asChild:!0,children:B.jsxs(no,{size:"sm",variant:"ghost",className:"bg-blue-500/10 text-xs font-medium text-blue-600 hover:bg-blue-500/20 dark:text-blue-400",onClick:()=>o(i==null?void 0:i.available_date[0]),children:["매입 대기 ",h,"건"]})}),B.jsx(IV,{side:"bottom",children:"가장 오래된 매입 대기 건으로 이동"})]}):B.jsx("span",{className:"bg-foreground/70 text-contrast/70 rounded-sm px-3 py-2 font-medium",children:"매입 대기 건 없음"})})]}),B.jsx(xV,{className:"bg-background w-auto p-0",align:"start",children:B.jsx(sV,{mode:"single",selected:e,onSelect:o,modifiers:{unavailable:u},modifiersClassNames:{unavailable:"text-contrast/30"}})})]})}),B.jsx("div",{className:"border-border/50 min-h-0 flex-1 border border-t-0 p-4",children:e?d===0?B.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[B.jsx("div",{className:"mb-4 rounded-full bg-gray-100 p-6",children:B.jsx(SLe,{className:"h-12 w-12 text-gray-400"})}),B.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"출력 가능한 주문 데이터가 없습니다."})]}):B.jsxs("div",{className:"flex h-full flex-1 gap-4",children:[B.jsx("div",{className:`relative h-full flex-1 overflow-auto bg-white ${r?"spreadsheet-readonly":""}`,children:B.jsx(jWe,{data:p,onChange:a,columnLabels:$We})}),B.jsxs("div",{className:"bg-background-50 flex h-full w-80 flex-col gap-4",children:[B.jsx("div",{className:"bg-background border-border/50 rounded-md border p-4",children:B.jsxs("div",{className:"flex items-center gap-1",children:[B.jsx("span",{className:"text-xs",children:"주문일시 :"}),B.jsx("span",{className:"text-xs",children:t==null?void 0:t.order_aggregation_period})]})}),B.jsxs("div",{className:"bg-background border-border/50 flex min-h-0 flex-1 flex-col rounded-md border p-4",children:[B.jsxs("div",{className:"mb-3 flex items-end gap-2",children:[B.jsx("span",{className:"text-xs",children:"매입요약"}),B.jsx("span",{className:"text-contrast/50 text-[10px]",children:"매입수량 * 매입단가 (미입력 항목 제외)"})]}),B.jsx("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto",children:Object.entries(l()).map(([y,C])=>B.jsx("div",{className:"bg-foreground rounded-md px-3 py-2 text-sm",children:B.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[B.jsxs("div",{className:"flex flex-1 gap-1 font-medium",children:[B.jsx("span",{children:y}),B.jsxs("span",{className:"text-contrast/50",children:["(",C.productCount,")"]})]}),B.jsxs("div",{className:"text-right",children:[B.jsx("div",{className:"text-contrast/70",children:"합계금액"}),B.jsxs("div",{className:"font-semibold",children:[C.total.toLocaleString(),"원"]})]})]})},y))})]}),B.jsx(no,{disabled:r,onClick:c,children:"매입하기"})]})]}):B.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[B.jsx("div",{className:"bg-foreground mb-4 rounded-full p-6",children:B.jsx(t6,{className:"h-12 w-12 text-gray-400"})}),B.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"납품 예정일을 선택해주세요."}),B.jsx("p",{className:"text-gray-500",children:"상단의 달력 버튼을 클릭하여 납품 예정일을 선택하세요."})]})})]})}function ZWe(){return B.jsx(Xse,{children:B.jsxs(Nh,{element:B.jsx(qwe,{}),children:[B.jsx(Nh,{path:"/",element:B.jsx(gj,{})}),B.jsx(Nh,{path:"/integrated",element:B.jsx(gj,{})}),B.jsx(Nh,{path:"/direct",element:B.jsx(pVe,{})}),B.jsx(Nh,{path:"/consignment",element:B.jsx(xVe,{})}),B.jsx(Nh,{path:"/dashboard/main",element:B.jsx(hze,{})}),B.jsx(Nh,{path:"/dashboard/sales",element:B.jsx(fze,{})}),B.jsx(Nh,{path:"/purchase/vegetable",element:B.jsx(qWe,{})})]})})}var sre="AlertDialog",[XWe,eje]=jg(sre,[Kte]),Ff=Kte(),ore=e=>{const{__scopeAlertDialog:t,...n}=e,i=Ff(t);return B.jsx(une,{...i,...n,modal:!0})};ore.displayName=sre;var QWe="AlertDialogTrigger",JWe=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Ff(n);return B.jsx(dne,{...r,...i,ref:t})});JWe.displayName=QWe;var e6e="AlertDialogPortal",are=e=>{const{__scopeAlertDialog:t,...n}=e,i=Ff(t);return B.jsx(hne,{...i,...n})};are.displayName=e6e;var t6e="AlertDialogOverlay",lre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Ff(n);return B.jsx(fne,{...r,...i,ref:t})});lre.displayName=t6e;var Vb="AlertDialogContent",[n6e,i6e]=XWe(Vb),r6e=XQ("AlertDialogContent"),cre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:i,...r}=e,s=Ff(n),o=I.useRef(null),a=Si(t,o),l=I.useRef(null);return B.jsx(XHe,{contentName:Vb,titleName:ure,docsSlug:"alert-dialog",children:B.jsx(n6e,{scope:n,cancelRef:l,children:B.jsxs(pne,{role:"alertdialog",...s,...r,ref:a,onOpenAutoFocus:bn(r.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[B.jsx(r6e,{children:i}),B.jsx(o6e,{contentRef:o})]})})})});cre.displayName=Vb;var ure="AlertDialogTitle",dre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Ff(n);return B.jsx(gne,{...r,...i,ref:t})});dre.displayName=ure;var hre="AlertDialogDescription",fre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Ff(n);return B.jsx(tVe,{...r,...i,ref:t})});fre.displayName=hre;var s6e="AlertDialogAction",pre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Ff(n);return B.jsx(qV,{...r,...i,ref:t})});pre.displayName=s6e;var gre="AlertDialogCancel",mre=I.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,{cancelRef:r}=i6e(gre,n),s=Ff(n),o=Si(t,r);return B.jsx(qV,{...s,...i,ref:o})});mre.displayName=gre;var o6e=({contentRef:e})=>{const t=`\`${Vb}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vb}\` by passing a \`${hre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vb}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return I.useEffect(()=>{var i;document.getElementById((i=e.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a6e=ore,l6e=are,c6e=lre,u6e=cre,d6e=pre,h6e=mre,f6e=dre,p6e=fre;function vre({...e}){return B.jsx(a6e,{"data-slot":"alert-dialog",...e})}function g6e({...e}){return B.jsx(l6e,{"data-slot":"alert-dialog-portal",...e})}function m6e({className:e,...t}){return B.jsx(c6e,{"data-slot":"alert-dialog-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50",e),...t})}function yre({className:e,...t}){return B.jsxs(g6e,{children:[B.jsx(m6e,{}),B.jsx(u6e,{"data-slot":"alert-dialog-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 border-border fixed top-[30%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg","[box-shadow:0_1px_10px_rgba(0,0,0,0.30),0_10px_15px_rgba(0,0,0,0.22)]",e),...t})]})}function Cre({className:e,...t}){return B.jsx("div",{"data-slot":"alert-dialog-header",className:Nt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function bre({className:e,...t}){return B.jsx("div",{"data-slot":"alert-dialog-footer",className:Nt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function wre({className:e,...t}){return B.jsx(f6e,{"data-slot":"alert-dialog-title",className:Nt("text-lg font-semibold",e),...t})}function Sre({className:e,...t}){return B.jsx(p6e,{"data-slot":"alert-dialog-description",className:Nt("text-sm whitespace-pre-line",e),...t})}function v6e({className:e,...t}){return B.jsx(d6e,{className:Nt(eR(),e),...t})}function xre({className:e,...t}){return B.jsx(h6e,{className:Nt(eR({variant:"outline"}),e),...t})}function y6e(){const{message:e,isOpen:t,closeAlert:n}=I1();return t?B.jsx(vre,{open:t,onOpenChange:n,children:B.jsxs(yre,{children:[B.jsxs(Cre,{children:[B.jsx(wre,{children:"알림"}),B.jsx(Sre,{children:e})]}),B.jsx(bre,{children:B.jsx(xre,{children:"닫기"})})]})}):null}function C6e(){const{title:e,message:t,isOpen:n,onConfirm:i,onCancel:r,closeConfirm:s}=jV();if(!n)return null;const o=()=>{i&&i(),s()},a=()=>{r&&r(),s()};return B.jsx(vre,{open:n,onOpenChange:s,children:B.jsxs(yre,{children:[B.jsxs(Cre,{children:[B.jsx(wre,{children:e}),B.jsx(Sre,{children:t})]}),B.jsxs(bre,{children:[B.jsx(xre,{onClick:a,children:"취소"}),B.jsx(v6e,{className:"text-white",onClick:o,children:"확인"})]})]})})}function b6e(){const{isLoading:e,message:t}=Wte();return e?B.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center z-50 transition-all duration-300 pt-[30vh]",children:B.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-8 flex flex-col items-center gap-4 shadow-2xl border border-white/20 min-w-[280px] animate-in fade-in-0 zoom-in-95 duration-300 h-fit",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-gray-200"}),B.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 rounded-full border-4 border-transparent border-t-blue-500 border-r-blue-400 animate-spin"}),B.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-blue-500/20 animate-pulse"}),B.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-blue-500 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-ping"})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("span",{className:"text-gray-800 font-semibold text-lg block",children:t}),B.jsx("span",{className:"text-gray-500 text-sm mt-1 block",children:"잠시만 기다려주세요..."})]}),B.jsxs("div",{className:"flex gap-1",children:[B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}):null}const S_={};qle.registerModules([Dbe]);function w6e(){const{setTheme:e}=Ete(),t=I.useRef(null);return I.useEffect(()=>{const n=sY();n&&oY(n)},[]),I.useEffect(()=>{const n=s=>{try{return s?new URL(s).origin:""}catch{return""}};t.current=sessionStorage.getItem("parent_origin_locked")||t.current;const i=n(new URLSearchParams(window.location.search).get("parent_origin"))||n(S_==null?void 0:S_.VITE_PARENT_ORIGIN),r=s=>{if(s.source!==window.parent)return;const{type:o,theme:a}=s.data??{};let l=!1;i?l=s.origin===i:t.current?l=s.origin===t.current:o==="THEME_CHANGE"&&(t.current=s.origin,window.__PARENT_ORIGIN=s.origin,sessionStorage.setItem("parent_origin_locked",s.origin),l=!0),l&&o==="THEME_CHANGE"&&e(a)};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}},[e]),B.jsxs(woe,{children:[B.jsx(b6e,{}),B.jsx(y6e,{}),B.jsx(C6e,{}),B.jsx(ZWe,{})]})}function S6e(){const e=new $be({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0}},queryCache:new U7({onError:t=>{t instanceof B4&&console.log(t)}})});return B.jsx(Xbe,{client:e,children:B.jsx(uze,{defaultTheme:"light",storageKey:"vite-ui-theme",children:B.jsx(w6e,{})})})}ise.createRoot(document.getElementById("root")).render(B.jsx(I.StrictMode,{children:B.jsx(S6e,{})}));
